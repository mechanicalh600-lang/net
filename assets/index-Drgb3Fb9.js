function Cj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qA={exports:{}},eh={},VA={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),Pj=Symbol.for("react.portal"),Ij=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),jj=Symbol.for("react.profiler"),Rj=Symbol.for("react.provider"),Mj=Symbol.for("react.context"),$j=Symbol.for("react.forward_ref"),Dj=Symbol.for("react.suspense"),Lj=Symbol.for("react.memo"),Uj=Symbol.for("react.lazy"),ub=Symbol.iterator;function Fj(t){return t===null||typeof t!="object"?null:(t=ub&&t[ub]||t["@@iterator"],typeof t=="function"?t:null)}var GA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HA=Object.assign,zA={};function fs(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||GA}fs.prototype.isReactComponent={};fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WA(){}WA.prototype=fs.prototype;function Ov(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||GA}var jv=Ov.prototype=new WA;jv.constructor=Ov;HA(jv,fs.prototype);jv.isPureReactComponent=!0;var cb=Array.isArray,KA=Object.prototype.hasOwnProperty,Rv={current:null},JA={key:!0,ref:!0,__self:!0,__source:!0};function YA(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)KA.call(e,r)&&!JA.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Mu,type:t,key:o,ref:a,props:i,_owner:Rv.current}}function Bj(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function qj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var db=/\/+/g;function Sp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qj(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mu:case Pj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Sp(a,0):r,cb(i)?(n="",t!=null&&(n=t.replace(db,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Mv(i)&&(i=Bj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(db,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",cb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Sp(o,s);a+=Hc(o,e,n,l,i)}else if(l=Fj(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Sp(o,s++),a+=Hc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ic(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Vj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},zc={transition:null},Gj={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:zc,ReactCurrentOwner:Rv};function XA(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:ic,forEach:function(t,e,n){ic(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ic(t,function(){e++}),e},toArray:function(t){return ic(t,function(e){return e})||[]},only:function(t){if(!Mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=fs;Te.Fragment=Ij;Te.Profiler=jj;Te.PureComponent=Ov;Te.StrictMode=Oj;Te.Suspense=Dj;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;Te.act=XA;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HA({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)KA.call(e,l)&&!JA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Mu,type:t.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:Mj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rj,_context:t},t.Consumer=t};Te.createElement=YA;Te.createFactory=function(t){var e=YA.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:$j,render:t}};Te.isValidElement=Mv;Te.lazy=function(t){return{$$typeof:Uj,_payload:{_status:-1,_result:t},_init:Vj}};Te.memo=function(t,e){return{$$typeof:Lj,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=zc.transition;zc.transition={};try{t()}finally{zc.transition=e}};Te.unstable_act=XA;Te.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Te.useContext=function(t){return Yt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Te.useId=function(){return Yt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};Te.useRef=function(t){return Yt.current.useRef(t)};Te.useState=function(t){return Yt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Yt.current.useTransition()};Te.version="18.3.1";VA.exports=Te;var k=VA.exports;const j=Re(k),Hj=Cj({__proto__:null,default:j},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj=k,Wj=Symbol.for("react.element"),Kj=Symbol.for("react.fragment"),Jj=Object.prototype.hasOwnProperty,Yj=zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xj={key:!0,ref:!0,__self:!0,__source:!0};function QA(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Jj.call(e,r)&&!Xj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wj,type:t,key:o,ref:a,props:i,_owner:Yj.current}}eh.Fragment=Kj;eh.jsx=QA;eh.jsxs=QA;qA.exports=eh;var c=qA.exports,Lm={},ZA={exports:{}},Sn={},ek={exports:{}},tk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var J=H-1>>>1,z=L[J];if(0<i(z,V))L[J]=V,L[H]=z,H=J;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var J=0,z=L.length,ne=z>>>1;J<ne;){var we=2*(J+1)-1,Ee=L[we],Ae=we+1,Ye=L[Ae];if(0>i(Ee,H))Ae<z&&0>i(Ye,Ee)?(L[J]=Ye,L[Ae]=H,J=Ae):(L[J]=Ee,L[we]=H,J=we);else if(Ae<z&&0>i(Ye,H))L[J]=Ye,L[Ae]=H,J=Ae;else break e}}return V}function i(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function T(L){if(y=!1,_(L),!v)if(n(l)!==null)v=!0,D(S);else{var V=n(u);V!==null&&B(T,V.startTime-L)}}function S(L,V){v=!1,y&&(y=!1,x(N),N=-1),g=!0;var H=h;try{for(_(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var z=J(f.expirationTime<=V);V=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),_(V)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var we=n(u);we!==null&&B(T,we.startTime-V),ne=!1}return ne}finally{f=null,h=H,g=!1}}var E=!1,A=null,N=-1,C=5,P=-1;function I(){return!(t.unstable_now()-P<C)}function R(){if(A!==null){var L=t.unstable_now();P=L;var V=!0;try{V=A(!0,L)}finally{V?$():(E=!1,A=null)}}else E=!1}var $;if(typeof w=="function")$=function(){w(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,O=M.port2;M.port1.onmessage=R,$=function(){O.postMessage(null)}}else $=function(){b(R,0)};function D(L){A=L,E||(E=!0,$())}function B(L,V){N=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,D(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var H=h;h=V;try{return L()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return V()}finally{h=H}},t.unstable_scheduleCallback=function(L,V,H){var J=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,L={id:d++,callback:V,priorityLevel:L,startTime:H,expirationTime:z,sortIndex:-1},H>J?(L.sortIndex=H,e(u,L),n(l)===null&&L===n(u)&&(y?(x(N),N=-1):y=!0,B(T,H-J))):(L.sortIndex=z,e(l,L),v||g||(v=!0,D(S))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=h;return function(){var H=h;h=V;try{return L.apply(this,arguments)}finally{h=H}}}})(tk);ek.exports=tk;var Qj=ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=k,_n=Qj;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nk=new Set,Tl={};function No(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(Tl[t]=e,t=0;t<e.length;t++)nk.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Um=Object.prototype.hasOwnProperty,eR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fb={},hb={};function tR(t){return Um.call(hb,t)?!0:Um.call(fb,t)?!1:eR.test(t)?hb[t]=!0:(fb[t]=!0,!1)}function nR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rR(t,e,n,r){if(e===null||typeof e>"u"||nR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $v=/[\-:]([a-z])/g;function Dv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($v,Dv);Rt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($v,Dv);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($v,Dv);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lv(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rR(e,n,i,r)&&(n=null),r||i===null?tR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oc=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),rk=Symbol.for("react.provider"),ik=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Bm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),ok=Symbol.for("react.offscreen"),pb=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=pb&&t[pb]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Ep;function Zs(t){if(Ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ep=e&&e[1]||""}return`
`+Ep+t}var Tp=!1;function Ap(t,e){if(!t||Tp)return"";Tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Tp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function iR(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=Ap(t.type,!1),t;case 11:return t=Ap(t.type.render,!1),t;case 1:return t=Ap(t.type,!0),t;default:return""}}function Vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case Fm:return"Profiler";case Uv:return"StrictMode";case Bm:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ik:return(t.displayName||"Context")+".Consumer";case rk:return(t._context.displayName||"Context")+".Provider";case Fv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bv:return e=t.displayName||null,e!==null?e:Vm(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Vm(t(e))}catch{}}return null}function oR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vm(e);case 8:return e===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ak(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aR(t){var e=ak(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ac(t){t._valueTracker||(t._valueTracker=aR(t))}function sk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ak(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lk(t,e){e=e.checked,e!=null&&Lv(t,"checked",e,!1)}function Hm(t,e){lk(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&zm(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zm(t,e,n){(e!=="number"||ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(el(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function uk(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ck(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ck(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sc,dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sc=sc||document.createElement("div"),sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sR=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){sR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function fk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function hk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lR=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(lR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ym(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=null;function qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qm=null,wa=null,_a=null;function xb(t){if(t=Lu(t)){if(typeof Qm!="function")throw Error(K(280));var e=t.stateNode;e&&(e=oh(e),Qm(t.stateNode,t.type,e))}}function pk(t){wa?_a?_a.push(t):_a=[t]:wa=t}function mk(){if(wa){var t=wa,e=_a;if(_a=wa=null,xb(t),e)for(t=0;t<e.length;t++)xb(e[t])}}function gk(t,e){return t(e)}function yk(){}var kp=!1;function vk(t,e,n){if(kp)return t(e,n);kp=!0;try{return gk(t,e,n)}finally{kp=!1,(wa!==null||_a!==null)&&(yk(),mk())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Zm=!1;if(Ur)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Zm=!1}function uR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var sl=!1,sd=null,ld=!1,eg=null,cR={onError:function(t){sl=!0,sd=t}};function dR(t,e,n,r,i,o,a,s,l){sl=!1,sd=null,uR.apply(cR,arguments)}function fR(t,e,n,r,i,o,a,s,l){if(dR.apply(this,arguments),sl){if(sl){var u=sd;sl=!1,sd=null}else throw Error(K(198));ld||(ld=!0,eg=u)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bb(t){if(Co(t)!==t)throw Error(K(188))}function hR(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bb(i),t;if(o===r)return bb(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function bk(t){return t=hR(t),t!==null?wk(t):null}function wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wk(t);if(e!==null)return e;t=t.sibling}return null}var _k=_n.unstable_scheduleCallback,wb=_n.unstable_cancelCallback,pR=_n.unstable_shouldYield,mR=_n.unstable_requestPaint,lt=_n.unstable_now,gR=_n.unstable_getCurrentPriorityLevel,Vv=_n.unstable_ImmediatePriority,Sk=_n.unstable_UserBlockingPriority,ud=_n.unstable_NormalPriority,yR=_n.unstable_LowPriority,Ek=_n.unstable_IdlePriority,th=null,hr=null;function vR(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:wR,xR=Math.log,bR=Math.LN2;function wR(t){return t>>>=0,t===0?32:31-(xR(t)/bR|0)|0}var lc=64,uc=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=tl(s):(o&=a,o!==0&&(r=tl(o)))}else a=n&~i,a!==0?r=tl(a):o!==0&&(r=tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function _R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-er(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=_R(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tk(){var t=lc;return lc<<=1,!(lc&4194240)&&(lc=64),t}function Np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function ER(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function Ak(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kk,Hv,Nk,Ck,Pk,ng=!1,cc=[],gi=null,yi=null,vi=null,Nl=new Map,Cl=new Map,si=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _b(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Ms(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&Hv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AR(t,e,n,r,i){switch(e){case"focusin":return gi=Ms(gi,t,e,n,r,i),!0;case"dragenter":return yi=Ms(yi,t,e,n,r,i),!0;case"mouseover":return vi=Ms(vi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nl.set(o,Ms(Nl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cl.set(o,Ms(Cl.get(o)||null,t,e,n,r,i)),!0}return!1}function Ik(t){var e=to(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=xk(n),e!==null){t.blockedOn=e,Pk(t.priority,function(){Nk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return e=Lu(n),e!==null&&Hv(e),t.blockedOn=n,!1;e.shift()}return!0}function Sb(t,e,n){Wc(t)&&n.delete(e)}function kR(){ng=!1,gi!==null&&Wc(gi)&&(gi=null),yi!==null&&Wc(yi)&&(yi=null),vi!==null&&Wc(vi)&&(vi=null),Nl.forEach(Sb),Cl.forEach(Sb)}function $s(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,kR)))}function Pl(t){function e(i){return $s(i,t)}if(0<cc.length){$s(cc[0],t);for(var n=1;n<cc.length;n++){var r=cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&$s(gi,t),yi!==null&&$s(yi,t),vi!==null&&$s(vi,t),Nl.forEach(e),Cl.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)Ik(n),n.blockedOn===null&&si.shift()}var Sa=Wr.ReactCurrentBatchConfig,dd=!0;function NR(t,e,n,r){var i=je,o=Sa.transition;Sa.transition=null;try{je=1,zv(t,e,n,r)}finally{je=i,Sa.transition=o}}function CR(t,e,n,r){var i=je,o=Sa.transition;Sa.transition=null;try{je=4,zv(t,e,n,r)}finally{je=i,Sa.transition=o}}function zv(t,e,n,r){if(dd){var i=rg(t,e,n,r);if(i===null)Lp(t,e,r,fd,n),_b(t,r);else if(AR(i,t,e,n,r))r.stopPropagation();else if(_b(t,r),e&4&&-1<TR.indexOf(t)){for(;i!==null;){var o=Lu(i);if(o!==null&&kk(o),o=rg(t,e,n,r),o===null&&Lp(t,e,r,fd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Lp(t,e,r,null,n)}}var fd=null;function rg(t,e,n,r){if(fd=null,t=qv(r),t=to(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function Ok(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gR()){case Vv:return 1;case Sk:return 4;case ud:case yR:return 16;case Ek:return 536870912;default:return 16}default:return 16}}var di=null,Wv=null,Kc=null;function jk(){if(Kc)return Kc;var t,e=Wv,n=e.length,r,i="value"in di?di.value:di.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dc(){return!0}function Eb(){return!1}function En(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dc:Eb,this.isPropagationStopped=Eb,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kv=En(hs),Du=tt({},hs,{view:0,detail:0}),PR=En(Du),Cp,Pp,Ds,nh=tt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ds&&(Ds&&t.type==="mousemove"?(Cp=t.screenX-Ds.screenX,Pp=t.screenY-Ds.screenY):Pp=Cp=0,Ds=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),Tb=En(nh),IR=tt({},nh,{dataTransfer:0}),OR=En(IR),jR=tt({},Du,{relatedTarget:0}),Ip=En(jR),RR=tt({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),MR=En(RR),$R=tt({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DR=En($R),LR=tt({},hs,{data:0}),Ab=En(LR),UR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BR[t])?!!e[t]:!1}function Jv(){return qR}var VR=tt({},Du,{key:function(t){if(t.key){var e=UR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(t){return t.type==="keypress"?Jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GR=En(VR),HR=tt({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=En(HR),zR=tt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),WR=En(zR),KR=tt({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=En(KR),YR=tt({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XR=En(YR),QR=[9,13,27,32],Yv=Ur&&"CompositionEvent"in window,ll=null;Ur&&"documentMode"in document&&(ll=document.documentMode);var ZR=Ur&&"TextEvent"in window&&!ll,Rk=Ur&&(!Yv||ll&&8<ll&&11>=ll),Nb=" ",Cb=!1;function Mk(t,e){switch(t){case"keyup":return QR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $k(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function eM(t,e){switch(t){case"compositionend":return $k(e);case"keypress":return e.which!==32?null:(Cb=!0,Nb);case"textInput":return t=e.data,t===Nb&&Cb?null:t;default:return null}}function tM(t,e){if(na)return t==="compositionend"||!Yv&&Mk(t,e)?(t=jk(),Kc=Wv=di=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rk&&e.locale!=="ko"?null:e.data;default:return null}}var nM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nM[t.type]:e==="textarea"}function Dk(t,e,n,r){pk(r),e=hd(e,"onChange"),0<e.length&&(n=new Kv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Il=null;function rM(t){Kk(t,0)}function rh(t){var e=oa(t);if(sk(e))return t}function iM(t,e){if(t==="change")return e}var Lk=!1;if(Ur){var Op;if(Ur){var jp="oninput"in document;if(!jp){var Ib=document.createElement("div");Ib.setAttribute("oninput","return;"),jp=typeof Ib.oninput=="function"}Op=jp}else Op=!1;Lk=Op&&(!document.documentMode||9<document.documentMode)}function Ob(){ul&&(ul.detachEvent("onpropertychange",Uk),Il=ul=null)}function Uk(t){if(t.propertyName==="value"&&rh(Il)){var e=[];Dk(e,Il,t,qv(t)),vk(rM,e)}}function oM(t,e,n){t==="focusin"?(Ob(),ul=e,Il=n,ul.attachEvent("onpropertychange",Uk)):t==="focusout"&&Ob()}function aM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(Il)}function sM(t,e){if(t==="click")return rh(e)}function lM(t,e){if(t==="input"||t==="change")return rh(e)}function uM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:uM;function Ol(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Um.call(e,i)||!or(t[i],e[i]))return!1}return!0}function jb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rb(t,e){var n=jb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jb(n)}}function Fk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bk(){for(var t=window,e=ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function Xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cM(t){var e=Bk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fk(n.ownerDocument.documentElement,n)){if(r!==null&&Xv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Rb(n,o);var a=Rb(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dM=Ur&&"documentMode"in document&&11>=document.documentMode,ra=null,ig=null,cl=null,og=!1;function Mb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;og||ra==null||ra!==ad(r)||(r=ra,"selectionStart"in r&&Xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Ol(cl,r)||(cl=r,r=hd(ig,"onSelect"),0<r.length&&(e=new Kv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function fc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ia={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},Rp={},qk={};Ur&&(qk=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function ih(t){if(Rp[t])return Rp[t];if(!ia[t])return t;var e=ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qk)return Rp[t]=e[n];return t}var Vk=ih("animationend"),Gk=ih("animationiteration"),Hk=ih("animationstart"),zk=ih("transitionend"),Wk=new Map,$b="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){Wk.set(t,e),No(e,[t])}for(var Mp=0;Mp<$b.length;Mp++){var $p=$b[Mp],fM=$p.toLowerCase(),hM=$p[0].toUpperCase()+$p.slice(1);Pi(fM,"on"+hM)}Pi(Vk,"onAnimationEnd");Pi(Gk,"onAnimationIteration");Pi(Hk,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(zk,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));No("onBeforeInput",["compositionend","keypress","textInput","paste"]);No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pM=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Db(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fR(r,e,void 0,t),t.currentTarget=null}function Kk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Db(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Db(i,s,u),o=l}}}if(ld)throw t=eg,ld=!1,eg=null,t}function Ge(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(Jk(e,t,2,!1),n.add(r))}function Dp(t,e,n){var r=0;e&&(r|=4),Jk(n,t,r,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[hc]){t[hc]=!0,nk.forEach(function(n){n!=="selectionchange"&&(pM.has(n)||Dp(n,!1,t),Dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,Dp("selectionchange",!1,e))}}function Jk(t,e,n,r){switch(Ok(e)){case 1:var i=NR;break;case 4:i=CR;break;default:i=zv}n=i.bind(null,e,n,t),i=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=to(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}vk(function(){var u=o,d=qv(n),f=[];e:{var h=Wk.get(t);if(h!==void 0){var g=Kv,v=t;switch(t){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":g=GR;break;case"focusin":v="focus",g=Ip;break;case"focusout":v="blur",g=Ip;break;case"beforeblur":case"afterblur":g=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=WR;break;case Vk:case Gk:case Hk:g=MR;break;case zk:g=JR;break;case"scroll":g=PR;break;case"wheel":g=XR;break;case"copy":case"cut":case"paste":g=DR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kb}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,x!==null&&(T=kl(w,x),T!=null&&y.push(Rl(w,T,_)))),b)break;w=w.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Xm&&(v=n.relatedTarget||n.fromElement)&&(to(v)||v[Fr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?to(v):null,v!==null&&(b=Co(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Tb,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=kb,T="onPointerLeave",x="onPointerEnter",w="pointer"),b=g==null?h:oa(g),_=v==null?h:oa(v),h=new y(T,w+"leave",g,n,d),h.target=b,h.relatedTarget=_,T=null,to(d)===u&&(y=new y(x,w+"enter",v,n,d),y.target=_,y.relatedTarget=b,T=y),b=T,g&&v)t:{for(y=g,x=v,w=0,_=y;_;_=Uo(_))w++;for(_=0,T=x;T;T=Uo(T))_++;for(;0<w-_;)y=Uo(y),w--;for(;0<_-w;)x=Uo(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Uo(y),x=Uo(x)}y=null}else y=null;g!==null&&Lb(f,h,g,y,!1),v!==null&&b!==null&&Lb(f,b,v,y,!0)}}e:{if(h=u?oa(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=iM;else if(Pb(h))if(Lk)S=lM;else{S=aM;var E=oM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sM);if(S&&(S=S(t,u))){Dk(f,S,n,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&zm(h,"number",h.value)}switch(E=u?oa(u):window,t){case"focusin":(Pb(E)||E.contentEditable==="true")&&(ra=E,ig=u,cl=null);break;case"focusout":cl=ig=ra=null;break;case"mousedown":og=!0;break;case"contextmenu":case"mouseup":case"dragend":og=!1,Mb(f,n,d);break;case"selectionchange":if(dM)break;case"keydown":case"keyup":Mb(f,n,d)}var A;if(Yv)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else na?Mk(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Rk&&n.locale!=="ko"&&(na||N!=="onCompositionStart"?N==="onCompositionEnd"&&na&&(A=jk()):(di=d,Wv="value"in di?di.value:di.textContent,na=!0)),E=hd(u,N),0<E.length&&(N=new Ab(N,t,null,n,d),f.push({event:N,listeners:E}),A?N.data=A:(A=$k(n),A!==null&&(N.data=A)))),(A=ZR?eM(t,n):tM(t,n))&&(u=hd(u,"onBeforeInput"),0<u.length&&(d=new Ab("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}Kk(f,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kl(t,n),o!=null&&r.unshift(Rl(t,o,i)),o=kl(t,e),o!=null&&r.push(Rl(t,o,i))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lb(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=kl(n,o),l!=null&&a.unshift(Rl(n,l,s))):i||(l=kl(n,o),l!=null&&a.push(Rl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var mM=/\r\n?/g,gM=/\u0000|\uFFFD/g;function Ub(t){return(typeof t=="string"?t:""+t).replace(mM,`
`).replace(gM,"")}function pc(t,e,n){if(e=Ub(e),Ub(t)!==e&&n)throw Error(K(425))}function pd(){}var ag=null,sg=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,yM=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,vM=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(t){return Fb.resolve(null).then(t).catch(xM)}:ug;function xM(t){setTimeout(function(){throw t})}function Up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pl(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),dr="__reactFiber$"+ps,Ml="__reactProps$"+ps,Fr="__reactContainer$"+ps,cg="__reactEvents$"+ps,bM="__reactListeners$"+ps,wM="__reactHandles$"+ps;function to(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bb(t);t!==null;){if(n=t[dr])return n;t=Bb(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[dr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function oh(t){return t[Ml]||null}var dg=[],aa=-1;function Ii(t){return{current:t}}function We(t){0>aa||(t.current=dg[aa],dg[aa]=null,aa--)}function qe(t,e){aa++,dg[aa]=t.current,t.current=e}var ki={},Bt=Ii(ki),nn=Ii(!1),go=ki;function Ra(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function md(){We(nn),We(Bt)}function qb(t,e,n){if(Bt.current!==ki)throw Error(K(168));qe(Bt,e),qe(nn,n)}function Yk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,oR(t)||"Unknown",i));return tt({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,go=Bt.current,qe(Bt,t),qe(nn,nn.current),!0}function Vb(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=Yk(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,We(nn),We(Bt),qe(Bt,t)):We(nn),qe(nn,n)}var Nr=null,ah=!1,Fp=!1;function Xk(t){Nr===null?Nr=[t]:Nr.push(t)}function _M(t){ah=!0,Xk(t)}function Oi(){if(!Fp&&Nr!==null){Fp=!0;var t=0,e=je;try{var n=Nr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,ah=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),_k(Vv,Oi),i}finally{je=e,Fp=!1}}return null}var sa=[],la=0,yd=null,vd=0,Nn=[],Cn=0,yo=null,Cr=1,Pr="";function Hi(t,e){sa[la++]=vd,sa[la++]=yd,yd=t,vd=e}function Qk(t,e,n){Nn[Cn++]=Cr,Nn[Cn++]=Pr,Nn[Cn++]=yo,yo=t;var r=Cr;t=Pr;var i=32-er(r)-1;r&=~(1<<i),n+=1;var o=32-er(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Cr=1<<32-er(e)+i|n<<i|r,Pr=o+t}else Cr=1<<o|n<<i|r,Pr=t}function Qv(t){t.return!==null&&(Hi(t,1),Qk(t,1,0))}function Zv(t){for(;t===yd;)yd=sa[--la],sa[la]=null,vd=sa[--la],sa[la]=null;for(;t===yo;)yo=Nn[--Cn],Nn[Cn]=null,Pr=Nn[--Cn],Nn[Cn]=null,Cr=Nn[--Cn],Nn[Cn]=null}var vn=null,gn=null,Ke=!1,Qn=null;function Zk(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,gn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:Cr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,gn=null,!0):!1;default:return!1}}function fg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if(Ke){var e=gn;if(e){var n=e;if(!Gb(t,e)){if(fg(t))throw Error(K(418));e=xi(n.nextSibling);var r=vn;e&&Gb(t,e)?Zk(r,n):(t.flags=t.flags&-4097|2,Ke=!1,vn=t)}}else{if(fg(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ke=!1,vn=t}}}function Hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function mc(t){if(t!==vn)return!1;if(!Ke)return Hb(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=gn)){if(fg(t))throw eN(),Error(K(418));for(;e;)Zk(t,e),e=xi(e.nextSibling)}if(Hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=vn?xi(t.stateNode.nextSibling):null;return!0}function eN(){for(var t=gn;t;)t=xi(t.nextSibling)}function Ma(){gn=vn=null,Ke=!1}function e0(t){Qn===null?Qn=[t]:Qn.push(t)}var SM=Wr.ReactCurrentBatchConfig;function Ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function gc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zb(t){var e=t._init;return e(t._payload)}function tN(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Si(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,T){return w===null||w.tag!==6?(w=Wp(_,x.mode,T),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,T){var S=_.type;return S===ta?d(x,w,_.props.children,T,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ni&&zb(S)===w.type)?(T=i(w,_.props),T.ref=Ls(x,w,_),T.return=x,T):(T=nd(_.type,_.key,_.props,null,x.mode,T),T.ref=Ls(x,w,_),T.return=x,T)}function u(x,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Kp(_,x.mode,T),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,T,S){return w===null||w.tag!==7?(w=co(_,x.mode,T,S),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Wp(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oc:return _=nd(w.type,w.key,w.props,null,x.mode,_),_.ref=Ls(x,null,w),_.return=x,_;case ea:return w=Kp(w,x.mode,_),w.return=x,w;case ni:var T=w._init;return f(x,T(w._payload),_)}if(el(w)||js(w))return w=co(w,x.mode,_,null),w.return=x,w;gc(x,w)}return null}function h(x,w,_,T){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case oc:return _.key===S?l(x,w,_,T):null;case ea:return _.key===S?u(x,w,_,T):null;case ni:return S=_._init,h(x,w,S(_._payload),T)}if(el(_)||js(_))return S!==null?null:d(x,w,_,T,null);gc(x,_)}return null}function g(x,w,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(_)||null,s(w,x,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case oc:return x=x.get(T.key===null?_:T.key)||null,l(w,x,T,S);case ea:return x=x.get(T.key===null?_:T.key)||null,u(w,x,T,S);case ni:var E=T._init;return g(x,w,_,E(T._payload),S)}if(el(T)||js(T))return x=x.get(_)||null,d(w,x,T,S,null);gc(w,T)}return null}function v(x,w,_,T){for(var S=null,E=null,A=w,N=w=0,C=null;A!==null&&N<_.length;N++){A.index>N?(C=A,A=null):C=A.sibling;var P=h(x,A,_[N],T);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(x,A),w=o(P,w,N),E===null?S=P:E.sibling=P,E=P,A=C}if(N===_.length)return n(x,A),Ke&&Hi(x,N),S;if(A===null){for(;N<_.length;N++)A=f(x,_[N],T),A!==null&&(w=o(A,w,N),E===null?S=A:E.sibling=A,E=A);return Ke&&Hi(x,N),S}for(A=r(x,A);N<_.length;N++)C=g(A,x,N,_[N],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?N:C.key),w=o(C,w,N),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(I){return e(x,I)}),Ke&&Hi(x,N),S}function y(x,w,_,T){var S=js(_);if(typeof S!="function")throw Error(K(150));if(_=S.call(_),_==null)throw Error(K(151));for(var E=S=null,A=w,N=w=0,C=null,P=_.next();A!==null&&!P.done;N++,P=_.next()){A.index>N?(C=A,A=null):C=A.sibling;var I=h(x,A,P.value,T);if(I===null){A===null&&(A=C);break}t&&A&&I.alternate===null&&e(x,A),w=o(I,w,N),E===null?S=I:E.sibling=I,E=I,A=C}if(P.done)return n(x,A),Ke&&Hi(x,N),S;if(A===null){for(;!P.done;N++,P=_.next())P=f(x,P.value,T),P!==null&&(w=o(P,w,N),E===null?S=P:E.sibling=P,E=P);return Ke&&Hi(x,N),S}for(A=r(x,A);!P.done;N++,P=_.next())P=g(A,x,N,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?N:P.key),w=o(P,w,N),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function(R){return e(x,R)}),Ke&&Hi(x,N),S}function b(x,w,_,T){if(typeof _=="object"&&_!==null&&_.type===ta&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case oc:e:{for(var S=_.key,E=w;E!==null;){if(E.key===S){if(S=_.type,S===ta){if(E.tag===7){n(x,E.sibling),w=i(E,_.props.children),w.return=x,x=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ni&&zb(S)===E.type){n(x,E.sibling),w=i(E,_.props),w.ref=Ls(x,E,_),w.return=x,x=w;break e}n(x,E);break}else e(x,E);E=E.sibling}_.type===ta?(w=co(_.props.children,x.mode,T,_.key),w.return=x,x=w):(T=nd(_.type,_.key,_.props,null,x.mode,T),T.ref=Ls(x,w,_),T.return=x,x=T)}return a(x);case ea:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Kp(_,x.mode,T),w.return=x,x=w}return a(x);case ni:return E=_._init,b(x,w,E(_._payload),T)}if(el(_))return v(x,w,_,T);if(js(_))return y(x,w,_,T);gc(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=Wp(_,x.mode,T),w.return=x,x=w),a(x)):n(x,w)}return b}var $a=tN(!0),nN=tN(!1),xd=Ii(null),bd=null,ua=null,t0=null;function n0(){t0=ua=bd=null}function r0(t){var e=xd.current;We(xd),t._currentValue=e}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){bd=t,t0=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(t0!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(bd===null)throw Error(K(308));ua=t,bd.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var no=null;function i0(t){no===null?no=[t]:no.push(t)}function rN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,i0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function o0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Br(t,n)}return i=r.interleaved,i===null?(e.next=e,i0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Br(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gv(t,n)}}function Wb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wd(t,e,n,r){var i=t.updateQueue;ri=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=tt({},f,h);break e;case 2:ri=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xo|=a,t.lanes=a,t.memoizedState=f}}function Kb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Uu={},pr=Ii(Uu),$l=Ii(Uu),Dl=Ii(Uu);function ro(t){if(t===Uu)throw Error(K(174));return t}function a0(t,e){switch(qe(Dl,e),qe($l,t),qe(pr,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Km(e,t)}We(pr),qe(pr,e)}function Da(){We(pr),We($l),We(Dl)}function oN(t){ro(Dl.current);var e=ro(pr.current),n=Km(e,t.type);e!==n&&(qe($l,t),qe(pr,n))}function s0(t){$l.current===t&&(We(pr),We($l))}var Ze=Ii(0);function _d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function l0(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var Xc=Wr.ReactCurrentDispatcher,qp=Wr.ReactCurrentBatchConfig,vo=0,et=null,vt=null,Et=null,Sd=!1,dl=!1,Ll=0,EM=0;function Mt(){throw Error(K(321))}function u0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function c0(t,e,n,r,i,o){if(vo=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?NM:CM,t=n(r,i),dl){o=0;do{if(dl=!1,Ll=0,25<=o)throw Error(K(301));o+=1,Et=vt=null,e.updateQueue=null,Xc.current=PM,t=n(r,i)}while(dl)}if(Xc.current=Ed,e=vt!==null&&vt.next!==null,vo=0,Et=vt=et=null,Sd=!1,e)throw Error(K(300));return t}function d0(){var t=Ll!==0;return Ll=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=t:Et=Et.next=t,Et}function $n(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?et.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(K(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?et.memoizedState=Et=t:Et=Et.next=t}return Et}function Ul(t,e){return typeof e=="function"?e(t):e}function Vp(t){var e=$n(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((vo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,et.lanes|=d,xo|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,or(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,xo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=$n(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);or(o,e.memoizedState)||(Zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function aN(){}function sN(t,e){var n=et,r=$n(),i=e(),o=!or(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,f0(cN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Fl(9,uN.bind(null,n,r,i,e),void 0,null),At===null)throw Error(K(349));vo&30||lN(n,e,i)}return i}function lN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uN(t,e,n,r){e.value=n,e.getSnapshot=r,dN(e)&&fN(t)}function cN(t,e,n){return n(function(){dN(e)&&fN(t)})}function dN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function fN(t){var e=Br(t,1);e!==null&&tr(e,t,1,-1)}function Jb(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=kM.bind(null,et,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hN(){return $n().memoizedState}function Qc(t,e,n,r){var i=ur();et.flags|=t,i.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function sh(t,e,n,r){var i=$n();r=r===void 0?null:r;var o=void 0;if(vt!==null){var a=vt.memoizedState;if(o=a.destroy,r!==null&&u0(r,a.deps)){i.memoizedState=Fl(e,n,o,r);return}}et.flags|=t,i.memoizedState=Fl(1|e,n,o,r)}function Yb(t,e){return Qc(8390656,8,t,e)}function f0(t,e){return sh(2048,8,t,e)}function pN(t,e){return sh(4,2,t,e)}function mN(t,e){return sh(4,4,t,e)}function gN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yN(t,e,n){return n=n!=null?n.concat([t]):null,sh(4,4,gN.bind(null,e,t),n)}function h0(){}function vN(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xN(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bN(t,e,n){return vo&21?(or(n,e)||(n=Tk(),et.lanes|=n,xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function TM(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{je=n,qp.transition=r}}function wN(){return $n().memoizedState}function AM(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_N(t))SN(e,n);else if(n=rN(t,e,n,r),n!==null){var i=Kt();tr(n,t,r,i),EN(n,e,r)}}function kM(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_N(t))SN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,or(s,a)){var l=e.interleaved;l===null?(i.next=i,i0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rN(t,e,i,r),n!==null&&(i=Kt(),tr(n,t,r,i),EN(n,e,r))}}function _N(t){var e=t.alternate;return t===et||e!==null&&e===et}function SN(t,e){dl=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gv(t,n)}}var Ed={readContext:Mn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},NM={readContext:Mn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:Yb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4194308,4,gN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qc(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AM.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Jb,useDebugValue:h0,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Jb(!1),e=t[0];return t=TM.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=ur();if(Ke){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),At===null)throw Error(K(349));vo&30||lN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yb(cN.bind(null,r,o,t),[t]),r.flags|=2048,Fl(9,uN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ur(),e=At.identifierPrefix;if(Ke){var n=Pr,r=Cr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CM={readContext:Mn,useCallback:vN,useContext:Mn,useEffect:f0,useImperativeHandle:yN,useInsertionEffect:pN,useLayoutEffect:mN,useMemo:xN,useReducer:Vp,useRef:hN,useState:function(){return Vp(Ul)},useDebugValue:h0,useDeferredValue:function(t){var e=$n();return bN(e,vt.memoizedState,t)},useTransition:function(){var t=Vp(Ul)[0],e=$n().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:sN,useId:wN,unstable_isNewReconciler:!1},PM={readContext:Mn,useCallback:vN,useContext:Mn,useEffect:f0,useImperativeHandle:yN,useInsertionEffect:pN,useLayoutEffect:mN,useMemo:xN,useReducer:Gp,useRef:hN,useState:function(){return Gp(Ul)},useDebugValue:h0,useDeferredValue:function(t){var e=$n();return vt===null?e.memoizedState=t:bN(e,vt.memoizedState,t)},useTransition:function(){var t=Gp(Ul)[0],e=$n().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:sN,useId:wN,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lh={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=_i(t),o=Mr(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(tr(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=_i(t),o=Mr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(tr(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=_i(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(tr(e,t,r,n),Yc(e,t,r))}};function Xb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(i,o):!0}function TN(t,e,n){var r=!1,i=ki,o=e.contextType;return typeof o=="object"&&o!==null?o=Mn(o):(i=rn(e)?go:Bt.current,r=e.contextTypes,o=(r=r!=null)?Ra(t,i):ki),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Qb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lh.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},o0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Mn(o):(o=rn(e)?go:Bt.current,i.context=Ra(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lh.enqueueReplaceState(i,i.state,null),wd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=iR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IM=typeof WeakMap=="function"?WeakMap:Map;function AN(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,kg=r),yg(t,e)},n}function kN(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yg(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HM.bind(null,t,e,n),e.then(t,t))}function ew(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var OM=Wr.ReactCurrentOwner,Zt=!1;function Vt(t,e,n,r){e.child=t===null?nN(e,null,n,r):$a(e,t.child,n,r)}function nw(t,e,n,r,i){n=n.render;var o=e.ref;return Ea(e,i),r=c0(t,e,n,r,o,i),n=d0(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(Ke&&n&&Qv(e),e.flags|=1,Vt(t,e,r,i),e.child)}function rw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!w0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,NN(t,e,o,r,i)):(t=nd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(a,r)&&t.ref===e.ref)return qr(t,e,i)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function NN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ol(o,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,qr(t,e,i)}return vg(t,e,n,r,i)}function CN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(da,cn),cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(da,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(da,cn),cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(da,cn),cn|=r;return Vt(t,e,i,n),e.child}function PN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vg(t,e,n,r,i){var o=rn(n)?go:Bt.current;return o=Ra(e,o),Ea(e,i),n=c0(t,e,n,r,o,i),r=d0(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(Ke&&r&&Qv(e),e.flags|=1,Vt(t,e,n,i),e.child)}function iw(t,e,n,r,i){if(rn(n)){var o=!0;gd(e)}else o=!1;if(Ea(e,i),e.stateNode===null)Zc(t,e),TN(e,n,r),gg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=rn(n)?go:Bt.current,u=Ra(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Qb(e,a,r,u),ri=!1;var h=e.memoizedState;a.state=h,wd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||nn.current||ri?(typeof d=="function"&&(mg(e,n,d,r),l=e.memoizedState),(s=ri||Xb(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,iN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:zn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=rn(n)?go:Bt.current,l=Ra(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Qb(e,a,r,l),ri=!1,h=e.memoizedState,a.state=h,wd(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||nn.current||ri?(typeof g=="function"&&(mg(e,n,g,r),v=e.memoizedState),(u=ri||Xb(e,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return xg(t,e,n,r,o,i)}function xg(t,e,n,r,i,o){PN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Vb(e,n,!1),qr(t,e,o);r=e.stateNode,OM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$a(e,t.child,null,o),e.child=$a(e,null,s,o)):Vt(t,e,s,o),e.memoizedState=r.state,i&&Vb(e,n,!0),e.child}function IN(t){var e=t.stateNode;e.pendingContext?qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qb(t,e.context,!1),a0(t,e.containerInfo)}function ow(t,e,n,r,i){return Ma(),e0(i),e.flags|=256,Vt(t,e,n,r),e.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ON(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(Ze,i&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=dh(a,r,0,null),t=co(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wg(n),e.memoizedState=bg,t):p0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return jM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Si(s,o):(o=co(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?wg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=bg,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function p0(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yc(t,e,n,r){return r!==null&&e0(r),$a(e,t.child,null,n),t=p0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Hp(Error(K(422))),yc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),o=co(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$a(e,t.child,null,a),e.child.memoizedState=wg(a),e.memoizedState=bg,o);if(!(e.mode&1))return yc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(K(419)),r=Hp(o,r,void 0),yc(t,e,a,r)}if(s=(a&t.childLanes)!==0,Zt||s){if(r=At,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Br(t,i),tr(r,t,i,-1))}return b0(),r=Hp(Error(K(421))),yc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,gn=xi(i.nextSibling),vn=e,Ke=!0,Qn=null,t!==null&&(Nn[Cn++]=Cr,Nn[Cn++]=Pr,Nn[Cn++]=yo,Cr=t.id,Pr=t.overflow,yo=e),e=p0(e,r.children),e.flags|=4096,e)}function aw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function zp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Vt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aw(t,n,e);else if(t.tag===19)aw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_d(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_d(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zp(e,!0,n,null,o);break;case"together":zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RM(t,e,n){switch(e.tag){case 3:IN(e),Ma();break;case 5:oN(e);break;case 1:rn(e.type)&&gd(e);break;case 4:a0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(xd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?ON(t,e,n):(qe(Ze,Ze.current&1),t=qr(t,e,n),t!==null?t.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,CN(t,e,n)}return qr(t,e,n)}var RN,_g,MN,$N;RN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_g=function(){};MN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ro(pr.current);var o=null;switch(n){case"input":i=Gm(t,i),r=Gm(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Wm(t,i),r=Wm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}Jm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$N=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MM(t,e,n){var r=e.pendingProps;switch(Zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return rn(e.type)&&md(),$t(e),null;case 3:return r=e.stateNode,Da(),We(nn),We(Bt),l0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(Pg(Qn),Qn=null))),_g(t,e),$t(e),null;case 5:s0(e);var i=ro(Dl.current);if(n=e.type,t!==null&&e.stateNode!=null)MN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return $t(e),null}if(t=ro(pr.current),mc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dr]=e,r[Ml]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<nl.length;i++)Ge(nl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":mb(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":yb(r,o),Ge("invalid",r)}Jm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&pc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&pc(r.textContent,s,t),i=["children",""+s]):Tl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":ac(r),gb(r,o,!0);break;case"textarea":ac(r),vb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ck(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[dr]=e,t[Ml]=r,RN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ym(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<nl.length;i++)Ge(nl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":mb(t,r),i=Gm(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":yb(t,r),i=Wm(t,r),Ge("invalid",t);break;default:i=r}Jm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?hk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&Lv(t,o,l,a))}switch(n){case"input":ac(t),gb(t,r,!1);break;case"textarea":ac(t),vb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ba(t,!!r.multiple,o,!1):r.defaultValue!=null&&ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)$N(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ro(Dl.current),ro(pr.current),mc(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(o=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:pc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return $t(e),null;case 13:if(We(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&gn!==null&&e.mode&1&&!(e.flags&128))eN(),Ma(),e.flags|=98560,o=!1;else if(o=mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[dr]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else Qn!==null&&(Pg(Qn),Qn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?bt===0&&(bt=3):b0())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Da(),_g(t,e),t===null&&jl(e.stateNode.containerInfo),$t(e),null;case 10:return r0(e.type._context),$t(e),null;case 17:return rn(e.type)&&md(),$t(e),null;case 19:if(We(Ze),o=e.memoizedState,o===null)return $t(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Us(o,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=_d(t),a!==null){for(e.flags|=128,Us(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>Ua&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304)}else{if(!r)if(t=_d(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return $t(e),null}else 2*lt()-o.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Ze.current,qe(Ze,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return x0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function $M(t,e){switch(Zv(e),e.tag){case 1:return rn(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),We(nn),We(Bt),l0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return s0(e),null;case 13:if(We(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ze),null;case 4:return Da(),null;case 10:return r0(e.type._context),null;case 22:case 23:return x0(),null;case 24:return null;default:return null}}var vc=!1,Lt=!1,DM=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Sg(t,e,n){try{n()}catch(r){it(t,e,r)}}var sw=!1;function LM(t,e){if(ag=dd,t=Bk(),Xv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sg={focusedElem:t,selectionRange:n},dd=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:zn(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){it(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return v=sw,sw=!1,v}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sg(e,n,o)}i=i.next}while(i!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DN(t){var e=t.alternate;e!==null&&(t.alternate=null,DN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Ml],delete e[cg],delete e[bM],delete e[wM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LN(t){return t.tag===5||t.tag===3||t.tag===4}function lw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}var Ot=null,Kn=!1;function ti(t,e,n){for(n=n.child;n!==null;)UN(t,e,n),n=n.sibling}function UN(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:Lt||ca(n,e);case 6:var r=Ot,i=Kn;Ot=null,ti(t,e,n),Ot=r,Kn=i,Ot!==null&&(Kn?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Kn?(t=Ot,n=n.stateNode,t.nodeType===8?Up(t.parentNode,n):t.nodeType===1&&Up(t,n),Pl(t)):Up(Ot,n.stateNode));break;case 4:r=Ot,i=Kn,Ot=n.stateNode.containerInfo,Kn=!0,ti(t,e,n),Ot=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Sg(n,e,a),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!Lt&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){it(n,e,s)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,ti(t,e,n),Lt=r):ti(t,e,n);break;default:ti(t,e,n)}}function uw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DM),e.forEach(function(r){var i=WM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ot=s.stateNode,Kn=!1;break e;case 3:Ot=s.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=s.stateNode.containerInfo,Kn=!0;break e}s=s.return}if(Ot===null)throw Error(K(160));UN(o,a,i),Ot=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FN(e,t),e=e.sibling}function FN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),lr(t),r&4){try{fl(3,t,t.return),uh(3,t)}catch(y){it(t,t.return,y)}try{fl(5,t,t.return)}catch(y){it(t,t.return,y)}}break;case 1:Vn(e,t),lr(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(Vn(e,t),lr(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(y){it(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&lk(i,o),Ym(s,a);var u=Ym(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?hk(i,f):d==="dangerouslySetInnerHTML"?dk(i,f):d==="children"?Al(i,f):Lv(i,d,f,u)}switch(s){case"input":Hm(i,o);break;case"textarea":uk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ba(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ba(i,!!o.multiple,o.defaultValue,!0):ba(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ml]=o}catch(y){it(t,t.return,y)}}break;case 6:if(Vn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){it(t,t.return,y)}}break;case 3:if(Vn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(y){it(t,t.return,y)}break;case 4:Vn(e,t),lr(t);break;case 13:Vn(e,t),lr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(y0=lt())),r&4&&uw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||d,Vn(e,t),Lt=u):Vn(e,t),lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:fl(4,h,h.return);break;case 1:ca(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){it(r,n,y)}}break;case 5:ca(h,h.return);break;case 22:if(h.memoizedState!==null){dw(f);continue}}g!==null?(g.return=h,ie=g):dw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=fk("display",a))}catch(y){it(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){it(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vn(e,t),lr(t),r&4&&uw(t);break;case 21:break;default:Vn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LN(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var o=lw(t);Ag(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=lw(t);Tg(t,s,a);break;default:throw Error(K(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UM(t,e,n){ie=t,BN(t)}function BN(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Lt;s=vc;var u=Lt;if(vc=a,(Lt=l)&&!u)for(ie=i;ie!==null;)a=ie,l=a.child,a.tag===22&&a.memoizedState!==null?fw(i):l!==null?(l.return=a,ie=l):fw(i);for(;o!==null;)ie=o,BN(o),o=o.sibling;ie=i,vc=s,Lt=u}cw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):cw(t)}}function cw(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kb(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kb(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Lt||e.flags&512&&Eg(e)}catch(h){it(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function dw(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function fw(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var o=e.return;try{Eg(e)}catch(l){it(e,o,l)}break;case 5:var a=e.return;try{Eg(e)}catch(l){it(e,a,l)}}}catch(l){it(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var FM=Math.ceil,Td=Wr.ReactCurrentDispatcher,m0=Wr.ReactCurrentOwner,jn=Wr.ReactCurrentBatchConfig,ke=0,At=null,ft=null,jt=0,cn=0,da=Ii(0),bt=0,Bl=null,xo=0,ch=0,g0=0,hl=null,Qt=null,y0=0,Ua=1/0,Tr=null,Ad=!1,kg=null,wi=null,xc=!1,fi=null,kd=0,pl=0,Ng=null,ed=-1,td=0;function Kt(){return ke&6?lt():ed!==-1?ed:ed=lt()}function _i(t){return t.mode&1?ke&2&&jt!==0?jt&-jt:SM.transition!==null?(td===0&&(td=Tk()),td):(t=je,t!==0||(t=window.event,t=t===void 0?16:Ok(t.type)),t):1}function tr(t,e,n,r){if(50<pl)throw pl=0,Ng=null,Error(K(185));$u(t,n,r),(!(ke&2)||t!==At)&&(t===At&&(!(ke&2)&&(ch|=n),bt===4&&li(t,jt)),on(t,r),n===1&&ke===0&&!(e.mode&1)&&(Ua=lt()+500,ah&&Oi()))}function on(t,e){var n=t.callbackNode;SR(t,e);var r=cd(t,t===At?jt:0);if(r===0)n!==null&&wb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wb(n),e===1)t.tag===0?_M(hw.bind(null,t)):Xk(hw.bind(null,t)),vM(function(){!(ke&6)&&Oi()}),n=null;else{switch(Ak(r)){case 1:n=Vv;break;case 4:n=Sk;break;case 16:n=ud;break;case 536870912:n=Ek;break;default:n=ud}n=JN(n,qN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qN(t,e){if(ed=-1,td=0,ke&6)throw Error(K(327));var n=t.callbackNode;if(Ta()&&t.callbackNode!==n)return null;var r=cd(t,t===At?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nd(t,r);else{e=r;var i=ke;ke|=2;var o=GN();(At!==t||jt!==e)&&(Tr=null,Ua=lt()+500,uo(t,e));do try{VM();break}catch(s){VN(t,s)}while(!0);n0(),Td.current=o,ke=i,ft!==null?e=0:(At=null,jt=0,e=bt)}if(e!==0){if(e===2&&(i=tg(t),i!==0&&(r=i,e=Cg(t,i))),e===1)throw n=Bl,uo(t,0),li(t,r),on(t,lt()),n;if(e===6)li(t,r);else{if(i=t.current.alternate,!(r&30)&&!BM(i)&&(e=Nd(t,r),e===2&&(o=tg(t),o!==0&&(r=o,e=Cg(t,o))),e===1))throw n=Bl,uo(t,0),li(t,r),on(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:zi(t,Qt,Tr);break;case 3:if(li(t,r),(r&130023424)===r&&(e=y0+500-lt(),10<e)){if(cd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ug(zi.bind(null,t,Qt,Tr),e);break}zi(t,Qt,Tr);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-er(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=ug(zi.bind(null,t,Qt,Tr),r);break}zi(t,Qt,Tr);break;case 5:zi(t,Qt,Tr);break;default:throw Error(K(329))}}}return on(t,lt()),t.callbackNode===n?qN.bind(null,t):null}function Cg(t,e){var n=hl;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Nd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Pg(e)),t}function Pg(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function BM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~g0,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function hw(t){if(ke&6)throw Error(K(327));Ta();var e=cd(t,0);if(!(e&1))return on(t,lt()),null;var n=Nd(t,e);if(t.tag!==0&&n===2){var r=tg(t);r!==0&&(e=r,n=Cg(t,r))}if(n===1)throw n=Bl,uo(t,0),li(t,e),on(t,lt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Qt,Tr),on(t,lt()),null}function v0(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Ua=lt()+500,ah&&Oi())}}function bo(t){fi!==null&&fi.tag===0&&!(ke&6)&&Ta();var e=ke;ke|=1;var n=jn.transition,r=je;try{if(jn.transition=null,je=1,t)return t()}finally{je=r,jn.transition=n,ke=e,!(ke&6)&&Oi()}}function x0(){cn=da.current,We(da)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yM(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Zv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:Da(),We(nn),We(Bt),l0();break;case 5:s0(r);break;case 4:Da();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:r0(r.type._context);break;case 22:case 23:x0()}n=n.return}if(At=t,ft=t=Si(t.current,null),jt=cn=e,bt=0,Bl=null,g0=ch=xo=0,Qt=hl=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}no=null}return t}function VN(t,e){do{var n=ft;try{if(n0(),Xc.current=Ed,Sd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}if(vo=0,Et=vt=et=null,dl=!1,Ll=0,m0.current=null,n===null||n.return===null){bt=1,Bl=e,ft=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ew(a);if(g!==null){g.flags&=-257,tw(g,a,s,o,e),g.mode&1&&Zb(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Zb(o,u,e),b0();break e}l=Error(K(426))}}else if(Ke&&s.mode&1){var b=ew(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tw(b,a,s,o,e),e0(La(l,s));break e}}o=l=La(l,s),bt!==4&&(bt=2),hl===null?hl=[o]:hl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=AN(o,l,e);Wb(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wi===null||!wi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=kN(o,s,e);Wb(o,T);break e}}o=o.return}while(o!==null)}zN(n)}catch(S){e=S,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function GN(){var t=Td.current;return Td.current=Ed,t===null?Ed:t}function b0(){(bt===0||bt===3||bt===2)&&(bt=4),At===null||!(xo&268435455)&&!(ch&268435455)||li(At,jt)}function Nd(t,e){var n=ke;ke|=2;var r=GN();(At!==t||jt!==e)&&(Tr=null,uo(t,e));do try{qM();break}catch(i){VN(t,i)}while(!0);if(n0(),ke=n,Td.current=r,ft!==null)throw Error(K(261));return At=null,jt=0,bt}function qM(){for(;ft!==null;)HN(ft)}function VM(){for(;ft!==null&&!pR();)HN(ft)}function HN(t){var e=KN(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?zN(t):ft=e,m0.current=null}function zN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$M(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,ft=null;return}}else if(n=MM(n,e,cn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);bt===0&&(bt=5)}function zi(t,e,n){var r=je,i=jn.transition;try{jn.transition=null,je=1,GM(t,e,n,r)}finally{jn.transition=i,je=r}return null}function GM(t,e,n,r){do Ta();while(fi!==null);if(ke&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ER(t,o),t===At&&(ft=At=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,JN(ud,function(){return Ta(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jn.transition,jn.transition=null;var a=je;je=1;var s=ke;ke|=4,m0.current=null,LM(t,n),FN(n,t),cM(sg),dd=!!ag,sg=ag=null,t.current=n,UM(n),mR(),ke=s,je=a,jn.transition=o}else t.current=n;if(xc&&(xc=!1,fi=t,kd=i),o=t.pendingLanes,o===0&&(wi=null),vR(n.stateNode),on(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,t=kg,kg=null,t;return kd&1&&t.tag!==0&&Ta(),o=t.pendingLanes,o&1?t===Ng?pl++:(pl=0,Ng=t):pl=0,Oi(),null}function Ta(){if(fi!==null){var t=Ak(kd),e=jn.transition,n=je;try{if(jn.transition=null,je=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,kd=0,ke&6)throw Error(K(331));var i=ke;for(ke|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:fl(8,d,o)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,g=d.return;if(DN(d),d===u){ie=null;break}if(h!==null){h.return=g,ie=h;break}ie=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ie=x;break e}ie=o.return}}var w=t.current;for(ie=w;ie!==null;){a=ie;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ie=_;else e:for(a=w;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:uh(9,s)}}catch(S){it(s,s.return,S)}if(s===a){ie=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,ie=T;break e}ie=s.return}}if(ke=i,Oi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(th,t)}catch{}r=!0}return r}finally{je=n,jn.transition=e}}return!1}function pw(t,e,n){e=La(n,e),e=AN(t,e,1),t=bi(t,e,1),e=Kt(),t!==null&&($u(t,1,e),on(t,e))}function it(t,e,n){if(t.tag===3)pw(t,t,n);else for(;e!==null;){if(e.tag===3){pw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=La(n,t),t=kN(e,t,1),e=bi(e,t,1),t=Kt(),e!==null&&($u(e,1,t),on(e,t));break}}e=e.return}}function HM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(jt&n)===n&&(bt===4||bt===3&&(jt&130023424)===jt&&500>lt()-y0?uo(t,0):g0|=n),on(t,e)}function WN(t,e){e===0&&(t.mode&1?(e=uc,uc<<=1,!(uc&130023424)&&(uc=4194304)):e=1);var n=Kt();t=Br(t,e),t!==null&&($u(t,e,n),on(t,n))}function zM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WN(t,n)}function WM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),WN(t,n)}var KN;KN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,RM(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Ke&&e.flags&1048576&&Qk(e,vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=Ra(e,Bt.current);Ea(e,n),i=c0(null,e,r,t,i,n);var o=d0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,gd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o0(e),i.updater=lh,e.stateNode=i,i._reactInternals=e,gg(e,r,t,n),e=xg(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&Qv(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JM(r),t=zn(r,t),i){case 0:e=vg(null,e,r,t,n);break e;case 1:e=iw(null,e,r,t,n);break e;case 11:e=nw(null,e,r,t,n);break e;case 14:e=rw(null,e,r,zn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),iw(t,e,r,i,n);case 3:e:{if(IN(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,iN(t,e),wd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=La(Error(K(423)),e),e=ow(t,e,r,n,i);break e}else if(r!==i){i=La(Error(K(424)),e),e=ow(t,e,r,n,i);break e}else for(gn=xi(e.stateNode.containerInfo.firstChild),vn=e,Ke=!0,Qn=null,n=nN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===i){e=qr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return oN(e),t===null&&hg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,lg(r,i)?a=null:o!==null&&lg(r,o)&&(e.flags|=32),PN(t,e),Vt(t,e,a,n),e.child;case 6:return t===null&&hg(e),null;case 13:return ON(t,e,n);case 4:return a0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),nw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,qe(xd,r._currentValue),r._currentValue=a,o!==null)if(or(o.value,a)){if(o.children===i.children&&!nn.current){e=qr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pg(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),pg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ea(e,n),i=Mn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),rw(t,e,r,i,n);case 15:return NN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Zc(t,e),e.tag=1,rn(r)?(t=!0,gd(e)):t=!1,Ea(e,n),TN(e,r,i),gg(e,r,i,n),xg(null,e,r,!0,t,n);case 19:return jN(t,e,n);case 22:return CN(t,e,n)}throw Error(K(156,e.tag))};function JN(t,e){return _k(t,e)}function KM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new KM(t,e,n,r)}function w0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JM(t){if(typeof t=="function")return w0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fv)return 11;if(t===Bv)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")w0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ta:return co(n.children,i,o,e);case Uv:a=8,i|=8;break;case Fm:return t=In(12,n,e,i|2),t.elementType=Fm,t.lanes=o,t;case Bm:return t=In(13,n,e,i),t.elementType=Bm,t.lanes=o,t;case qm:return t=In(19,n,e,i),t.elementType=qm,t.lanes=o,t;case ok:return dh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rk:a=10;break e;case ik:a=9;break e;case Fv:a=11;break e;case Bv:a=14;break e;case ni:a=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=In(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function co(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=In(22,t,r,e),t.elementType=ok,t.lanes=n,t.stateNode={isHidden:!1},t}function Wp(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Kp(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _0(t,e,n,r,i,o,a,s,l){return t=new YM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=In(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},o0(o),t}function XM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YN(t){if(!t)return ki;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(rn(n))return Yk(t,n,e)}return e}function XN(t,e,n,r,i,o,a,s,l){return t=_0(n,r,!0,t,i,o,a,s,l),t.context=YN(null),n=t.current,r=Kt(),i=_i(n),o=Mr(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,$u(t,i,r),on(t,r),t}function fh(t,e,n,r){var i=e.current,o=Kt(),a=_i(i);return n=YN(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,a),t!==null&&(tr(t,i,a,o),Yc(t,i,a)),a}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S0(t,e){mw(t,e),(t=t.alternate)&&mw(t,e)}function QM(){return null}var QN=typeof reportError=="function"?reportError:function(t){console.error(t)};function E0(t){this._internalRoot=t}hh.prototype.render=E0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));fh(t,e,null,null)};hh.prototype.unmount=E0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){fh(null,t,null,null)}),e[Fr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ck();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&Ik(t)}};function T0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gw(){}function ZM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Cd(a);o.call(u)}}var a=XN(e,r,t,0,null,!1,!1,"",gw);return t._reactRootContainer=a,t[Fr]=a.current,jl(t.nodeType===8?t.parentNode:t),bo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Cd(l);s.call(u)}}var l=_0(t,0,!1,null,null,!1,!1,"",gw);return t._reactRootContainer=l,t[Fr]=l.current,jl(t.nodeType===8?t.parentNode:t),bo(function(){fh(e,l,n,r)}),l}function mh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Cd(a);s.call(l)}}fh(e,a,t,i)}else a=ZM(n,e,t,i,r);return Cd(a)}kk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(Gv(e,n|1),on(e,lt()),!(ke&6)&&(Ua=lt()+500,Oi()))}break;case 13:bo(function(){var r=Br(t,1);if(r!==null){var i=Kt();tr(r,t,1,i)}}),S0(t,1)}};Hv=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Kt();tr(e,t,134217728,n)}S0(t,134217728)}};Nk=function(t){if(t.tag===13){var e=_i(t),n=Br(t,e);if(n!==null){var r=Kt();tr(n,t,e,r)}S0(t,e)}};Ck=function(){return je};Pk=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Qm=function(t,e,n){switch(e){case"input":if(Hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oh(r);if(!i)throw Error(K(90));sk(r),Hm(r,i)}}}break;case"textarea":uk(t,n);break;case"select":e=n.value,e!=null&&ba(t,!!n.multiple,e,!1)}};gk=v0;yk=bo;var e$={usingClientEntryPoint:!1,Events:[Lu,oa,oh,pk,mk,v0]},Fs={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t$={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bk(t),t===null?null:t.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||QM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{th=bc.inject(t$),hr=bc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e$;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T0(e))throw Error(K(200));return XM(t,e,null,n)};Sn.createRoot=function(t,e){if(!T0(t))throw Error(K(299));var n=!1,r="",i=QN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_0(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,jl(t.nodeType===8?t.parentNode:t),new E0(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=bk(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return bo(t)};Sn.hydrate=function(t,e,n){if(!ph(e))throw Error(K(200));return mh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!T0(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=QN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=XN(e,null,t,1,n??null,i,!1,o,a),t[Fr]=e.current,jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hh(e)};Sn.render=function(t,e,n){if(!ph(e))throw Error(K(200));return mh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!ph(t))throw Error(K(40));return t._reactRootContainer?(bo(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};Sn.unstable_batchedUpdates=v0;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ph(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return mh(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function ZN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZN)}catch(t){console.error(t)}}ZN(),ZA.exports=Sn;var n$=ZA.exports,yw=n$;Lm.createRoot=yw.createRoot,Lm.hydrateRoot=yw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hi||(hi={}));const vw="popstate";function r$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=Po(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ig("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:eC(o))}function r(i,o){gh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return o$(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i$(){return Math.random().toString(36).substr(2,8)}function xw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:n,key:e&&e.key||r||i$()})}function eC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function o$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=hi.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(ql({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=hi.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:x})}function h(b,x){s=hi.Push;let w=Ig(y.location,b,x);n&&n(w,b),u=d()+1;let _=xw(w,u),T=y.createHref(w);try{a.pushState(_,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}o&&l&&l({action:s,location:y.location,delta:1})}function g(b,x){s=hi.Replace;let w=Ig(y.location,b,x);n&&n(w,b),u=d();let _=xw(w,u),T=y.createHref(w);a.replaceState(_,"",T),o&&l&&l({action:s,location:y.location,delta:0})}function v(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:eC(b);return w=w.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vw,f),l=b,()=>{i.removeEventListener(vw,f),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(b){return a.go(b)}};return y}var bw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bw||(bw={}));function a$(t,e,n){return n===void 0&&(n="/"),s$(t,e,n)}function s$(t,e,n,r){let i=typeof e=="string"?Po(e):e,o=rC(i.pathname||"/",n);if(o==null)return null;let a=tC(t);l$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=b$(o);s=y$(a[l],u)}return s}function tC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tC(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:m$(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of nC(o.path))i(o,a,l)}),e}function nC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=nC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function l$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u$=/^:[\w-]+$/,c$=3,d$=2,f$=1,h$=10,p$=-2,ww=t=>t==="*";function m$(t,e){let n=t.split("/"),r=n.length;return n.some(ww)&&(r+=p$),e&&(r+=d$),n.filter(i=>!ww(i)).reduce((i,o)=>i+(u$.test(o)?c$:o===""?f$:h$),r)}function g$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function y$(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=v$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:fo([o,f.pathname]),pathnameBase:T$(fo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=fo([o,f.pathnameBase]))}return a}function v$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function x$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function b$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const w$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_$=t=>w$.test(t);function S$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Po(t):t,o;if(n)if(_$(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),gh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=_w(n.substring(1),"/"):o=_w(n,e)}else o=e;return{pathname:o,search:A$(r),hash:k$(i)}}function _w(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iC(t,e){let n=E$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Po(t):(i=ql({},t),ht(!i.pathname||!i.pathname.includes("?"),Jp("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Jp("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Jp("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=S$(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const fo=t=>t.join("/").replace(/\/\/+/g,"/"),T$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aC=["post","put","patch","delete"];new Set(aC);const C$=["get",...aC];new Set(C$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}const A0=k.createContext(null),P$=k.createContext(null),Fu=k.createContext(null),yh=k.createContext(null),Io=k.createContext({outlet:null,matches:[],isDataRoute:!1}),sC=k.createContext(null);function Bu(){return k.useContext(yh)!=null}function vh(){return Bu()||ht(!1),k.useContext(yh).location}function lC(t){k.useContext(Fu).static||k.useLayoutEffect(t)}function ms(){let{isDataRoute:t}=k.useContext(Io);return t?V$():I$()}function I$(){Bu()||ht(!1);let t=k.useContext(A0),{basename:e,future:n,navigator:r}=k.useContext(Fu),{matches:i}=k.useContext(Io),{pathname:o}=vh(),a=JSON.stringify(iC(i,n.v7_relativeSplatPath)),s=k.useRef(!1);return lC(()=>{s.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=oC(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function O$(t,e){return j$(t,e)}function j$(t,e,n,r){Bu()||ht(!1);let{navigator:i}=k.useContext(Fu),{matches:o}=k.useContext(Io),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=vh(),d;if(e){var f;let b=typeof e=="string"?Po(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||ht(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=a$(t,{pathname:g}),y=L$(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:fo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:fo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&y?k.createElement(yh.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hi.Pop}},y):y}function R$(){let t=q$(),e=N$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const M$=k.createElement(R$,null);class $$ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Io.Provider,{value:this.props.routeContext},k.createElement(sC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D$(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(A0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Io.Provider,{value:e},r)}function L$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||ht(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,y=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||M$,l&&(u<0&&h===0?(G$("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return g?_=y:v?_=b:f.route.Component?_=k.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,k.createElement(D$,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement($$,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var uC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uC||{}),cC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cC||{});function U$(t){let e=k.useContext(A0);return e||ht(!1),e}function F$(t){let e=k.useContext(P$);return e||ht(!1),e}function B$(t){let e=k.useContext(Io);return e||ht(!1),e}function dC(t){let e=B$(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function q$(){var t;let e=k.useContext(sC),n=F$(),r=dC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V$(){let{router:t}=U$(uC.UseNavigateStable),e=dC(cC.UseNavigateStable),n=k.useRef(!1);return lC(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vl({fromRouteId:e},o)))},[t,e])}const Sw={};function G$(t,e,n){Sw[t]||(Sw[t]=!0)}function H$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ut(t){let{to:e,replace:n,state:r,relative:i}=t;Bu()||ht(!1);let{future:o,static:a}=k.useContext(Fu),{matches:s}=k.useContext(Io),{pathname:l}=vh(),u=ms(),d=oC(e,iC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function st(t){ht(!1)}function z$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hi.Pop,navigator:o,static:a=!1,future:s}=t;Bu()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:o,static:a,future:Vl({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Po(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,y=k.useMemo(()=>{let b=rC(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return y==null?null:k.createElement(Fu.Provider,{value:u},k.createElement(yh.Provider,{children:n,value:y}))}function W$(t){let{children:e,location:n}=t;return O$(Og(e),n)}new Promise(()=>{});function Og(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let o=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Og(r.props.children,o));return}r.type!==st&&ht(!1),!r.props.index||!r.props.children||ht(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Og(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const K$="6";try{window.__reactRouterVersion=K$}catch{}const J$="startTransition",Ew=Hj[J$];function Y$(t){let{basename:e,children:n,future:r,window:i}=t,o=k.useRef();o.current==null&&(o.current=r$({window:i,v5Compat:!0}));let a=o.current,[s,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=k.useCallback(f=>{u&&Ew?Ew(()=>l(f)):l(f)},[l,u]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>H$(r),[r]),k.createElement(z$,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var Tw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tw||(Tw={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},d)=>k.createElement("svg",{ref:d,...X$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Q$(t)}`,s].join(" "),...u},[...e.map(([f,h])=>k.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Z("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Z("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Z("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Z("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Z("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Z("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Z("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Z("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ND="2.4.0",jw=[{id:"dashboard",title:"",icon:eD,path:"/"},{id:"shiftreport",title:" ",icon:xC,path:"/shift-report"},{id:"reports",title:"",icon:EC,path:"/reports"},{id:"inbox",title:" ",icon:Rd,path:"/inbox"},{id:"messages",title:"",icon:_C,path:"/messages"},{id:"workorders",title:" ",icon:Fd,path:"/work-orders"},{id:"projects",title:"",icon:Id,path:"/projects"},{id:"performance",title:" ",icon:k0,path:"/performance"},{id:"partrequest",title:" ",icon:$d,path:"/part-requests"},{id:"inspections",title:" ",icon:vC,path:"/inspections"},{id:"documents",title:" ",icon:Pd,path:"/documents"},{id:"meetings",title:"",icon:jd,path:"/meetings"},{id:"suggestions",title:" ",icon:Md,path:"/suggestions"},{id:"purchases",title:" ",icon:Ud,path:"/purchases"},{id:"workflow",title:" ",icon:bC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:qu,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:R0,path:"/settings"}],CD=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],PD=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],ID=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var h;const[o,a]=k.useState(!1),s=ms(),l=vh();if(l.pathname==="/login")return c.jsx(c.Fragment,{children:t});const d=()=>{s(-1)},f=l.pathname==="/";return c.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),c.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:w-64 md:flex-shrink-0
      `,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400",children:""}),c.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:c.jsx(Un,{className:"w-6 h-6"})})]}),c.jsxs("div",{onClick:()=>{s("/settings"),a(!1)},className:"p-4 bg-gray-50 dark:bg-gray-700 flex items-center gap-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group relative",title:" ",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):c.jsx($0,{})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:e==null?void 0:e.role})]}),c.jsx("div",{className:"absolute left-2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:jw.map(g=>{if(g.id==="settings"||g.role&&(e==null?void 0:e.role)!==g.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const v=l.pathname===g.path;return c.jsxs("button",{onClick:()=>{s(g.path),a(!1)},className:`w-full flex items-center gap-3 px-6 py-3 text-right transition-colors
                    ${v?"bg-primary/10 text-primary dark:text-red-400 border-r-4 border-primary":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[c.jsx(g.icon,{className:"w-5 h-5"}),c.jsx("span",{children:g.title})]},g.id)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg mb-2",children:[r?c.jsx(ED,{className:"w-5 h-5"}):c.jsx(pD,{className:"w-5 h-5"}),c.jsx("span",{children:r?" ":" "})]}),c.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[c.jsx(dD,{className:"w-5 h-5"}),c.jsx("span",{children:""})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900",children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2",children:c.jsx(hD,{className:"w-6 h-6"})}),!f&&c.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(xh,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-lg font-semibold",children:((h=jw.find(g=>g.path===l.pathname))==null?void 0:h.title)||(l.pathname==="/settings"?"":"")})]}),c.jsx("div",{className:"flex items-center gap-2"})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6",children:t})]})]})};var en=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(en||{});const OD={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},jD=({className:t})=>{const e=()=>{try{return`${OD&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return c.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})},RD=({onLogin:t})=>{const[e,n]=k.useState(""),[r,i]=k.useState(""),[o,a]=k.useState(""),[s,l]=k.useState(!1),[u,d]=k.useState(!1),f={id:"1",username:"admin",fullName:" ",role:en.ADMIN,passwordHash:"admin",isDefaultPassword:!0},h=y=>{if(y.preventDefault(),a(""),e.toLowerCase()==="admin"&&r==="admin"){if(u){const b={...f,isDefaultPassword:!1};t(b);return}{d(!0),a("         .");return}}else a("      ")},g=y=>{if(y.preventDefault(),r==="admin"){a("        ");return}t({...f,isDefaultPassword:!1})};return c.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),c.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),c.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-8",children:[c.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[c.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4 transform hover:scale-105 transition duration-500",children:c.jsx(jD,{className:"w-full h-full drop-shadow-2xl"})}),c.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"    "})]}),c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50",children:u?c.jsxs("form",{onSubmit:g,className:"space-y-5",children:[c.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[c.jsx(hC,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:"            ."})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),c.jsxs("div",{className:"relative",children:[c.jsx(Iw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:y=>i(y.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(Cw,{className:"w-5 h-5"}):c.jsx(Od,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:"   "})]}):c.jsxs("form",{onSubmit:h,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx($0,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:y=>n(y.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(Iw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:y=>i(y.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(Cw,{className:"w-5 h-5"}):c.jsx(Od,{className:"w-5 h-5"})})]})]})]}),o&&c.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),c.jsxs("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{children:"  "}),c.jsx(cD,{className:"w-5 h-5"})]})]})}),c.jsxs("div",{className:"text-center space-y-1 pb-4",children:[c.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-bold tracking-widest uppercase",children:[" ",ND]}),c.jsxs("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.1em] uppercase font-mono opacity-50",children:["Hash: ","b7a9f2c"]}),c.jsx("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.3em] uppercase font-sans opacity-70 mt-2",children:"DESIGN BY H.PARSA"})]})]})]})};function AC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AC(t))&&(r&&(r+=" "),r+=e);return r}var MD=Array.isArray,an=MD,$D=typeof rc=="object"&&rc&&rc.Object===Object&&rc,kC=$D,DD=kC,LD=typeof self=="object"&&self&&self.Object===Object&&self,UD=DD||LD||Function("return this")(),_r=UD,FD=_r,BD=FD.Symbol,Vu=BD,Rw=Vu,NC=Object.prototype,qD=NC.hasOwnProperty,VD=NC.toString,Bs=Rw?Rw.toStringTag:void 0;function GD(t){var e=qD.call(t,Bs),n=t[Bs];try{t[Bs]=void 0;var r=!0}catch{}var i=VD.call(t);return r&&(e?t[Bs]=n:delete t[Bs]),i}var HD=GD,zD=Object.prototype,WD=zD.toString;function KD(t){return WD.call(t)}var JD=KD,Mw=Vu,YD=HD,XD=JD,QD="[object Null]",ZD="[object Undefined]",$w=Mw?Mw.toStringTag:void 0;function eL(t){return t==null?t===void 0?ZD:QD:$w&&$w in Object(t)?YD(t):XD(t)}var Kr=eL;function tL(t){return t!=null&&typeof t=="object"}var Jr=tL,nL=Kr,rL=Jr,iL="[object Symbol]";function oL(t){return typeof t=="symbol"||rL(t)&&nL(t)==iL}var ys=oL,aL=an,sL=ys,lL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uL=/^\w*$/;function cL(t,e){if(aL(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||sL(t)?!0:uL.test(t)||!lL.test(t)||e!=null&&t in Object(e)}var D0=cL;function dL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ji=dL;const vs=Re(ji);var fL=Kr,hL=ji,pL="[object AsyncFunction]",mL="[object Function]",gL="[object GeneratorFunction]",yL="[object Proxy]";function vL(t){if(!hL(t))return!1;var e=fL(t);return e==mL||e==gL||e==pL||e==yL}var L0=vL;const me=Re(L0);var xL=_r,bL=xL["__core-js_shared__"],wL=bL,Xp=wL,Dw=function(){var t=/[^.]+$/.exec(Xp&&Xp.keys&&Xp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _L(t){return!!Dw&&Dw in t}var SL=_L,EL=Function.prototype,TL=EL.toString;function AL(t){if(t!=null){try{return TL.call(t)}catch{}try{return t+""}catch{}}return""}var CC=AL,kL=L0,NL=SL,CL=ji,PL=CC,IL=/[\\^$.*+?()[\]{}|]/g,OL=/^\[object .+?Constructor\]$/,jL=Function.prototype,RL=Object.prototype,ML=jL.toString,$L=RL.hasOwnProperty,DL=RegExp("^"+ML.call($L).replace(IL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LL(t){if(!CL(t)||NL(t))return!1;var e=kL(t)?DL:OL;return e.test(PL(t))}var UL=LL;function FL(t,e){return t==null?void 0:t[e]}var BL=FL,qL=UL,VL=BL;function GL(t,e){var n=VL(t,e);return qL(n)?n:void 0}var Oo=GL,HL=Oo,zL=HL(Object,"create"),bh=zL,Lw=bh;function WL(){this.__data__=Lw?Lw(null):{},this.size=0}var KL=WL;function JL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YL=JL,XL=bh,QL="__lodash_hash_undefined__",ZL=Object.prototype,eU=ZL.hasOwnProperty;function tU(t){var e=this.__data__;if(XL){var n=e[t];return n===QL?void 0:n}return eU.call(e,t)?e[t]:void 0}var nU=tU,rU=bh,iU=Object.prototype,oU=iU.hasOwnProperty;function aU(t){var e=this.__data__;return rU?e[t]!==void 0:oU.call(e,t)}var sU=aU,lU=bh,uU="__lodash_hash_undefined__";function cU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lU&&e===void 0?uU:e,this}var dU=cU,fU=KL,hU=YL,pU=nU,mU=sU,gU=dU;function xs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xs.prototype.clear=fU;xs.prototype.delete=hU;xs.prototype.get=pU;xs.prototype.has=mU;xs.prototype.set=gU;var yU=xs;function vU(){this.__data__=[],this.size=0}var xU=vU;function bU(t,e){return t===e||t!==t&&e!==e}var U0=bU,wU=U0;function _U(t,e){for(var n=t.length;n--;)if(wU(t[n][0],e))return n;return-1}var wh=_U,SU=wh,EU=Array.prototype,TU=EU.splice;function AU(t){var e=this.__data__,n=SU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TU.call(e,n,1),--this.size,!0}var kU=AU,NU=wh;function CU(t){var e=this.__data__,n=NU(e,t);return n<0?void 0:e[n][1]}var PU=CU,IU=wh;function OU(t){return IU(this.__data__,t)>-1}var jU=OU,RU=wh;function MU(t,e){var n=this.__data__,r=RU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var $U=MU,DU=xU,LU=kU,UU=PU,FU=jU,BU=$U;function bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bs.prototype.clear=DU;bs.prototype.delete=LU;bs.prototype.get=UU;bs.prototype.has=FU;bs.prototype.set=BU;var _h=bs,qU=Oo,VU=_r,GU=qU(VU,"Map"),F0=GU,Uw=yU,HU=_h,zU=F0;function WU(){this.size=0,this.__data__={hash:new Uw,map:new(zU||HU),string:new Uw}}var KU=WU;function JU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YU=JU,XU=YU;function QU(t,e){var n=t.__data__;return XU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Sh=QU,ZU=Sh;function e4(t){var e=ZU(this,t).delete(t);return this.size-=e?1:0,e}var t4=e4,n4=Sh;function r4(t){return n4(this,t).get(t)}var i4=r4,o4=Sh;function a4(t){return o4(this,t).has(t)}var s4=a4,l4=Sh;function u4(t,e){var n=l4(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var c4=u4,d4=KU,f4=t4,h4=i4,p4=s4,m4=c4;function ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ws.prototype.clear=d4;ws.prototype.delete=f4;ws.prototype.get=h4;ws.prototype.has=p4;ws.prototype.set=m4;var B0=ws,PC=B0,g4="Expected a function";function q0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(g4);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(q0.Cache||PC),n}q0.Cache=PC;var IC=q0;const y4=Re(IC);var v4=IC,x4=500;function b4(t){var e=v4(t,function(r){return n.size===x4&&n.clear(),r}),n=e.cache;return e}var w4=b4,_4=w4,S4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E4=/\\(\\)?/g,T4=_4(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(S4,function(n,r,i,o){e.push(i?o.replace(E4,"$1"):r||n)}),e}),A4=T4;function k4(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var V0=k4,Fw=Vu,N4=V0,C4=an,P4=ys,Bw=Fw?Fw.prototype:void 0,qw=Bw?Bw.toString:void 0;function OC(t){if(typeof t=="string")return t;if(C4(t))return N4(t,OC)+"";if(P4(t))return qw?qw.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var I4=OC,O4=I4;function j4(t){return t==null?"":O4(t)}var jC=j4,R4=an,M4=D0,$4=A4,D4=jC;function L4(t,e){return R4(t)?t:M4(t,e)?[t]:$4(D4(t))}var RC=L4,U4=ys;function F4(t){if(typeof t=="string"||U4(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Eh=F4,B4=RC,q4=Eh;function V4(t,e){e=B4(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[q4(e[n++])];return n&&n==r?t:void 0}var G0=V4,G4=G0;function H4(t,e,n){var r=t==null?void 0:G4(t,e);return r===void 0?n:r}var MC=H4;const bn=Re(MC);function z4(t){return t==null}var W4=z4;const be=Re(W4);var K4=Kr,J4=an,Y4=Jr,X4="[object String]";function Q4(t){return typeof t=="string"||!J4(t)&&Y4(t)&&K4(t)==X4}var Z4=Q4;const _o=Re(Z4);var $C={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=Symbol.for("react.element"),z0=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),e3=Symbol.for("react.server_context"),Ph=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),jh=Symbol.for("react.memo"),Rh=Symbol.for("react.lazy"),t3=Symbol.for("react.offscreen"),DC;DC=Symbol.for("react.module.reference");function Fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case H0:switch(t=t.type,t){case Th:case kh:case Ah:case Ih:case Oh:return t;default:switch(t=t&&t.$$typeof,t){case e3:case Ch:case Ph:case Rh:case jh:case Nh:return t;default:return e}}case z0:return e}}}Me.ContextConsumer=Ch;Me.ContextProvider=Nh;Me.Element=H0;Me.ForwardRef=Ph;Me.Fragment=Th;Me.Lazy=Rh;Me.Memo=jh;Me.Portal=z0;Me.Profiler=kh;Me.StrictMode=Ah;Me.Suspense=Ih;Me.SuspenseList=Oh;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return Fn(t)===Ch};Me.isContextProvider=function(t){return Fn(t)===Nh};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===H0};Me.isForwardRef=function(t){return Fn(t)===Ph};Me.isFragment=function(t){return Fn(t)===Th};Me.isLazy=function(t){return Fn(t)===Rh};Me.isMemo=function(t){return Fn(t)===jh};Me.isPortal=function(t){return Fn(t)===z0};Me.isProfiler=function(t){return Fn(t)===kh};Me.isStrictMode=function(t){return Fn(t)===Ah};Me.isSuspense=function(t){return Fn(t)===Ih};Me.isSuspenseList=function(t){return Fn(t)===Oh};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Th||t===kh||t===Ah||t===Ih||t===Oh||t===t3||typeof t=="object"&&t!==null&&(t.$$typeof===Rh||t.$$typeof===jh||t.$$typeof===Nh||t.$$typeof===Ch||t.$$typeof===Ph||t.$$typeof===DC||t.getModuleId!==void 0)};Me.typeOf=Fn;$C.exports=Me;var n3=$C.exports,r3=Kr,i3=Jr,o3="[object Number]";function a3(t){return typeof t=="number"||i3(t)&&r3(t)==o3}var LC=a3;const s3=Re(LC);var l3=LC;function u3(t){return l3(t)&&t!=+t}var c3=u3;const Gu=Re(c3);var Ht=function(e){return e===0?0:e>0?1:-1},io=function(e){return _o(e)&&e.indexOf("%")===e.length-1},Y=function(e){return s3(e)&&!Gu(e)},d3=function(e){return be(e)},wt=function(e){return Y(e)||_o(e)},f3=0,_s=function(e){var n=++f3;return"".concat(e||"").concat(n)},zt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!_o(e))return r;var o;if(io(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Gu(o)&&(o=r),i&&o>n&&(o=n),o},ui=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},h3=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fn=function(e,n){return Y(e)&&Y(n)?function(r){return e+r*(n-e)}:function(){return n}};function Bd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):bn(r,e))===n})}var p3=function(e,n){return Y(e)&&Y(n)?e-n:_o(e)&&_o(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Aa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var m3=["viewBox","children"],g3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vw=["points","pathLength"],Qp={svg:m3,polygon:Vw,polyline:Vw},W0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!vs(r))return null;var i={};return Object.keys(r).forEach(function(o){W0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},y3=function(e,n,r){return function(i){return e(n,r,i),null}},So=function(e,n,r){if(!vs(e)||jg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];W0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=y3(a,n,r))}),i},v3=["children"],x3=["children"];function Gw(t,e){if(t==null)return{};var n=b3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}var Hw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$r=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zw=null,Zp=null,K0=function t(e){if(e===zw&&Array.isArray(Zp))return Zp;var n=[];return k.Children.forEach(e,function(r){be(r)||(n3.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zp=n,zw=e,n};function wn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return $r(i)}):r=[$r(e)],K0(t).forEach(function(i){var o=bn(i,"type.displayName")||bn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function dn(t,e){var n=wn(t,e);return n&&n[0]}var Ww=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Y(r)||r<=0||!Y(i)||i<=0)},w3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_3=function(e){return e&&e.type&&_o(e.type)&&w3.indexOf(e.type)>=0},S3=function(e){return e&&Rg(e)==="object"&&"clipDot"in e},E3=function(e,n,r,i){var o,a=(o=Qp==null?void 0:Qp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!me(e)&&(i&&a.includes(n)||g3.includes(n))||r&&W0.includes(n)},le=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!vs(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;E3((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Mg=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Kw(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Kw(o,a))return!1}return!0},Kw=function(e,n){if(be(e)&&be(n))return!0;if(!be(e)&&!be(n)){var r=e.props||{},i=r.children,o=Gw(r,v3),a=n.props||{},s=a.children,l=Gw(a,x3);return i&&s?Aa(o,l)&&Mg(i,s):!i&&!s?Aa(o,l):!1}return!1},Jw=function(e,n){var r=[],i={};return K0(e).forEach(function(o,a){if(_3(o))r.push(o);else if(o){var s=$r(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},T3=function(e){var n=e&&e.type;return n&&Hw[n]?Hw[n]:null},A3=function(e,n){return K0(n).indexOf(e)},k3=["children","width","height","viewBox","className","style","title","desc"];function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function N3(t,e){if(t==null)return{};var n=C3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=N3(t,k3),d=i||{width:n,height:r,x:0,y:0},f=Se("recharts-surface",o);return j.createElement("svg",$g({},le(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var P3=["children","className"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function I3(t,e){if(t==null)return{};var n=O3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ne=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=I3(t,P3),o=Se("recharts-layer",r);return j.createElement("g",Lg({className:o},le(i,!0),{ref:e}),n)}),nr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function j3(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var R3=j3,M3=R3;function $3(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:M3(t,e,n)}var D3=$3,L3="\\ud800-\\udfff",U3="\\u0300-\\u036f",F3="\\ufe20-\\ufe2f",B3="\\u20d0-\\u20ff",q3=U3+F3+B3,V3="\\ufe0e\\ufe0f",G3="\\u200d",H3=RegExp("["+G3+L3+q3+V3+"]");function z3(t){return H3.test(t)}var UC=z3;function W3(t){return t.split("")}var K3=W3,FC="\\ud800-\\udfff",J3="\\u0300-\\u036f",Y3="\\ufe20-\\ufe2f",X3="\\u20d0-\\u20ff",Q3=J3+Y3+X3,Z3="\\ufe0e\\ufe0f",e5="["+FC+"]",Ug="["+Q3+"]",Fg="\\ud83c[\\udffb-\\udfff]",t5="(?:"+Ug+"|"+Fg+")",BC="[^"+FC+"]",qC="(?:\\ud83c[\\udde6-\\uddff]){2}",VC="[\\ud800-\\udbff][\\udc00-\\udfff]",n5="\\u200d",GC=t5+"?",HC="["+Z3+"]?",r5="(?:"+n5+"(?:"+[BC,qC,VC].join("|")+")"+HC+GC+")*",i5=HC+GC+r5,o5="(?:"+[BC+Ug+"?",Ug,qC,VC,e5].join("|")+")",a5=RegExp(Fg+"(?="+Fg+")|"+o5+i5,"g");function s5(t){return t.match(a5)||[]}var l5=s5,u5=K3,c5=UC,d5=l5;function f5(t){return c5(t)?d5(t):u5(t)}var h5=f5,p5=D3,m5=UC,g5=h5,y5=jC;function v5(t){return function(e){e=y5(e);var n=m5(e)?g5(e):void 0,r=n?n[0]:e.charAt(0),i=n?p5(n,1).join(""):e.slice(1);return r[t]()+i}}var x5=v5,b5=x5,w5=b5("toUpperCase"),_5=w5;const Mh=Re(_5);function Be(t){return function(){return t}}const zC=Math.cos,Vd=Math.sin,ar=Math.sqrt,Gd=Math.PI,$h=2*Gd,Bg=Math.PI,qg=2*Bg,Wi=1e-6,S5=qg-Wi;function WC(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function E5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WC;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class T5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WC:E5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Wi)if(!(Math.abs(f*l-u*d)>Wi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,b=g*g+v*v,x=Math.sqrt(y),w=Math.sqrt(h),_=o*Math.tan((Bg-Math.acos((y+h-b)/(2*x*w)))/2),T=_/w,S=_/x;Math.abs(T-1)>Wi&&this._append`L${e+T*d},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wi||Math.abs(this._y1-d)>Wi)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%qg+qg),h>S5?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Wi&&this._append`A${r},${r},0,${+(h>=Bg)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function J0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new T5(e)}function Y0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KC(t){this._context=t}KC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dh(t){return new KC(t)}function JC(t){return t[0]}function YC(t){return t[1]}function XC(t,e){var n=Be(!0),r=null,i=Dh,o=null,a=J0(s);t=typeof t=="function"?t:t===void 0?JC:Be(t),e=typeof e=="function"?e:e===void 0?YC:Be(e);function s(l){var u,d=(l=Y0(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function wc(t,e,n){var r=null,i=Be(!0),o=null,a=Dh,s=null,l=J0(u);t=typeof t=="function"?t:t===void 0?JC:Be(+t),e=typeof e=="function"?e:Be(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YC:Be(+n);function u(f){var h,g,v,y=(f=Y0(f)).length,b,x=!1,w,_=new Array(y),T=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(b,h,f),T[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):T[h]))}if(w)return s=null,w+""||null}function d(){return XC().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Be(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Be(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Be(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class QC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function A5(t){return new QC(t,!0)}function k5(t){return new QC(t,!1)}const X0={draw(t,e){const n=ar(e/Gd);t.moveTo(n,0),t.arc(0,0,n,0,$h)}},N5={draw(t,e){const n=ar(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ZC=ar(1/3),C5=ZC*2,P5={draw(t,e){const n=ar(e/C5),r=n*ZC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},I5={draw(t,e){const n=ar(e),r=-n/2;t.rect(r,r,n,n)}},O5=.8908130915292852,eP=Vd(Gd/10)/Vd(7*Gd/10),j5=Vd($h/10)*eP,R5=-zC($h/10)*eP,M5={draw(t,e){const n=ar(e*O5),r=j5*n,i=R5*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$h*o/5,s=zC(a),l=Vd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},em=ar(3),$5={draw(t,e){const n=-ar(e/(em*3));t.moveTo(0,n*2),t.lineTo(-em*n,-n),t.lineTo(em*n,-n),t.closePath()}},Tn=-.5,An=ar(3)/2,Vg=1/ar(12),D5=(Vg/2+1)*3,L5={draw(t,e){const n=ar(e/D5),r=n/2,i=n*Vg,o=r,a=n*Vg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Tn*r-An*i,An*r+Tn*i),t.lineTo(Tn*o-An*a,An*o+Tn*a),t.lineTo(Tn*s-An*l,An*s+Tn*l),t.lineTo(Tn*r+An*i,Tn*i-An*r),t.lineTo(Tn*o+An*a,Tn*a-An*o),t.lineTo(Tn*s+An*l,Tn*l-An*s),t.closePath()}};function U5(t,e){let n=null,r=J0(i);t=typeof t=="function"?t:Be(t||X0),e=typeof e=="function"?e:Be(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Be(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Be(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Hd(){}function zd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function tP(t){this._context=t}tP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F5(t){return new tP(t)}function nP(t){this._context=t}nP.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B5(t){return new nP(t)}function rP(t){this._context=t}rP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q5(t){return new rP(t)}function iP(t){this._context=t}iP.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V5(t){return new iP(t)}function Yw(t){return t<0?-1:1}function Xw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Yw(o)+Yw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Qw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Wd(t){this._context=t}Wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tm(this,this._t0,Qw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tm(this,Qw(this,n=Xw(this,t,e)),n);break;default:tm(this,this._t0,n=Xw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oP(t){this._context=new aP(t)}(oP.prototype=Object.create(Wd.prototype)).point=function(t,e){Wd.prototype.point.call(this,e,t)};function aP(t){this._context=t}aP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function G5(t){return new Wd(t)}function H5(t){return new oP(t)}function sP(t){this._context=t}sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Zw(t),i=Zw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Zw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function z5(t){return new sP(t)}function Lh(t,e){this._context=t,this._t=e}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function W5(t){return new Lh(t,.5)}function K5(t){return new Lh(t,0)}function J5(t){return new Lh(t,1)}function Fa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Gg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Y5(t,e){return t[e]}function X5(t){const e=[];return e.key=t,e}function Q5(){var t=Be([]),e=Gg,n=Fa,r=Y5;function i(o){var a=Array.from(t.apply(this,arguments),X5),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=Y0(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Be(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Be(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Gg:typeof o=="function"?o:Be(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Fa,i):n},i}function Z5(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Fa(t,e)}}function eF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Fa(t,e)}}function tF(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,g=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],b=y[r][1]||0,x=y[r-1][1]||0;g+=b-x}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Fa(t,e)}}function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}var nF=["type","size","sizeType"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){rF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rF(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=oF(t,"string");return Gl(e)=="symbol"?e:e+""}function oF(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aF(t,e){if(t==null)return{};var n=sF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lP={symbolCircle:X0,symbolCross:N5,symbolDiamond:P5,symbolSquare:I5,symbolStar:M5,symbolTriangle:$5,symbolWye:L5},lF=Math.PI/180,uF=function(e){var n="symbol".concat(Mh(e));return lP[n]||X0},cF=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*lF;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dF=function(e,n){lP["symbol".concat(Mh(e))]=n},Q0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=aF(e,nF),u=t_(t_({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=uF(r),x=U5().type(b).size(cF(o,s,r));return x()},f=u.className,h=u.cx,g=u.cy,v=le(u,!0);return h===+h&&g===+g&&o===+o?j.createElement("path",Hg({},v,{className:Se("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Q0.registerSymbol=dF;function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach(function(r){Hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cP(r.key),r)}}function mF(t,e,n){return e&&pF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gF(t,e,n){return e=Kd(e),yF(t,uP()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function yF(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vF(t)}function vF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uP=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function xF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wg(t,e)}function Hl(t,e,n){return e=cP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cP(t){var e=bF(t,"string");return Ba(e)=="symbol"?e:e+""}function bF(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kn=32,Z0=function(t){function e(){return hF(this,e),gF(this,e,arguments)}return xF(e,t),mF(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=kn/2,a=kn/6,s=kn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:kn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(kn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(kn/8,"h").concat(kn,"v").concat(kn*3/4,"h").concat(-kn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=fF({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(Q0,{fill:l,cx:o,cy:o,size:kn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:kn,height:kn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,b=Se(Hl(Hl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=me(g.value)?null:g.value;nr(!me(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return j.createElement("li",zg({className:b,style:f,key:"legend-item-".concat(v)},So(r.props,g,v)),j.createElement(Dg,{width:a,height:a,viewBox:d,style:h},r.renderIcon(g)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,g,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(k.PureComponent);Hl(Z0,"displayName","Legend");Hl(Z0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wF=_h;function _F(){this.__data__=new wF,this.size=0}var SF=_F;function EF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var TF=EF;function AF(t){return this.__data__.get(t)}var kF=AF;function NF(t){return this.__data__.has(t)}var CF=NF,PF=_h,IF=F0,OF=B0,jF=200;function RF(t,e){var n=this.__data__;if(n instanceof PF){var r=n.__data__;if(!IF||r.length<jF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new OF(r)}return n.set(t,e),this.size=n.size,this}var MF=RF,$F=_h,DF=SF,LF=TF,UF=kF,FF=CF,BF=MF;function Ss(t){var e=this.__data__=new $F(t);this.size=e.size}Ss.prototype.clear=DF;Ss.prototype.delete=LF;Ss.prototype.get=UF;Ss.prototype.has=FF;Ss.prototype.set=BF;var dP=Ss,qF="__lodash_hash_undefined__";function VF(t){return this.__data__.set(t,qF),this}var GF=VF;function HF(t){return this.__data__.has(t)}var zF=HF,WF=B0,KF=GF,JF=zF;function Jd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new WF;++e<n;)this.add(t[e])}Jd.prototype.add=Jd.prototype.push=KF;Jd.prototype.has=JF;var fP=Jd;function YF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hP=YF;function XF(t,e){return t.has(e)}var pP=XF,QF=fP,ZF=hP,eB=pP,tB=1,nB=2;function rB(t,e,n,r,i,o){var a=n&tB,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=n&nB?new QF:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var b=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!ZF(e,function(x,w){if(!eB(g,w)&&(v===x||i(v,x,n,r,o)))return g.push(w)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var mP=rB,iB=_r,oB=iB.Uint8Array,aB=oB;function sB(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var lB=sB;function uB(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ex=uB,r_=Vu,i_=aB,cB=U0,dB=mP,fB=lB,hB=ex,pB=1,mB=2,gB="[object Boolean]",yB="[object Date]",vB="[object Error]",xB="[object Map]",bB="[object Number]",wB="[object RegExp]",_B="[object Set]",SB="[object String]",EB="[object Symbol]",TB="[object ArrayBuffer]",AB="[object DataView]",o_=r_?r_.prototype:void 0,nm=o_?o_.valueOf:void 0;function kB(t,e,n,r,i,o,a){switch(n){case AB:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TB:return!(t.byteLength!=e.byteLength||!o(new i_(t),new i_(e)));case gB:case yB:case bB:return cB(+t,+e);case vB:return t.name==e.name&&t.message==e.message;case wB:case SB:return t==e+"";case xB:var s=fB;case _B:var l=r&pB;if(s||(s=hB),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=mB,a.set(t,e);var d=dB(s(t),s(e),r,i,o,a);return a.delete(t),d;case EB:if(nm)return nm.call(t)==nm.call(e)}return!1}var NB=kB;function CB(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var gP=CB,PB=gP,IB=an;function OB(t,e,n){var r=e(t);return IB(t)?r:PB(r,n(t))}var jB=OB;function RB(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var MB=RB;function $B(){return[]}var DB=$B,LB=MB,UB=DB,FB=Object.prototype,BB=FB.propertyIsEnumerable,a_=Object.getOwnPropertySymbols,qB=a_?function(t){return t==null?[]:(t=Object(t),LB(a_(t),function(e){return BB.call(t,e)}))}:UB,VB=qB;function GB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var HB=GB,zB=Kr,WB=Jr,KB="[object Arguments]";function JB(t){return WB(t)&&zB(t)==KB}var YB=JB,s_=YB,XB=Jr,yP=Object.prototype,QB=yP.hasOwnProperty,ZB=yP.propertyIsEnumerable,e6=s_(function(){return arguments}())?s_:function(t){return XB(t)&&QB.call(t,"callee")&&!ZB.call(t,"callee")},tx=e6,Yd={exports:{}};function t6(){return!1}var n6=t6;Yd.exports;(function(t,e){var n=_r,r=n6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Yd,Yd.exports);var vP=Yd.exports,r6=9007199254740991,i6=/^(?:0|[1-9]\d*)$/;function o6(t,e){var n=typeof t;return e=e??r6,!!e&&(n=="number"||n!="symbol"&&i6.test(t))&&t>-1&&t%1==0&&t<e}var nx=o6,a6=9007199254740991;function s6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=a6}var rx=s6,l6=Kr,u6=rx,c6=Jr,d6="[object Arguments]",f6="[object Array]",h6="[object Boolean]",p6="[object Date]",m6="[object Error]",g6="[object Function]",y6="[object Map]",v6="[object Number]",x6="[object Object]",b6="[object RegExp]",w6="[object Set]",_6="[object String]",S6="[object WeakMap]",E6="[object ArrayBuffer]",T6="[object DataView]",A6="[object Float32Array]",k6="[object Float64Array]",N6="[object Int8Array]",C6="[object Int16Array]",P6="[object Int32Array]",I6="[object Uint8Array]",O6="[object Uint8ClampedArray]",j6="[object Uint16Array]",R6="[object Uint32Array]",He={};He[A6]=He[k6]=He[N6]=He[C6]=He[P6]=He[I6]=He[O6]=He[j6]=He[R6]=!0;He[d6]=He[f6]=He[E6]=He[h6]=He[T6]=He[p6]=He[m6]=He[g6]=He[y6]=He[v6]=He[x6]=He[b6]=He[w6]=He[_6]=He[S6]=!1;function M6(t){return c6(t)&&u6(t.length)&&!!He[l6(t)]}var $6=M6;function D6(t){return function(e){return t(e)}}var xP=D6,Xd={exports:{}};Xd.exports;(function(t,e){var n=kC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Xd,Xd.exports);var L6=Xd.exports,U6=$6,F6=xP,l_=L6,u_=l_&&l_.isTypedArray,B6=u_?F6(u_):U6,bP=B6,q6=HB,V6=tx,G6=an,H6=vP,z6=nx,W6=bP,K6=Object.prototype,J6=K6.hasOwnProperty;function Y6(t,e){var n=G6(t),r=!n&&V6(t),i=!n&&!r&&H6(t),o=!n&&!r&&!i&&W6(t),a=n||r||i||o,s=a?q6(t.length,String):[],l=s.length;for(var u in t)(e||J6.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||z6(u,l)))&&s.push(u);return s}var X6=Y6,Q6=Object.prototype;function Z6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Q6;return t===n}var e8=Z6;function t8(t,e){return function(n){return t(e(n))}}var wP=t8,n8=wP,r8=n8(Object.keys,Object),i8=r8,o8=e8,a8=i8,s8=Object.prototype,l8=s8.hasOwnProperty;function u8(t){if(!o8(t))return a8(t);var e=[];for(var n in Object(t))l8.call(t,n)&&n!="constructor"&&e.push(n);return e}var c8=u8,d8=L0,f8=rx;function h8(t){return t!=null&&f8(t.length)&&!d8(t)}var Hu=h8,p8=X6,m8=c8,g8=Hu;function y8(t){return g8(t)?p8(t):m8(t)}var Uh=y8,v8=jB,x8=VB,b8=Uh;function w8(t){return v8(t,b8,x8)}var _8=w8,c_=_8,S8=1,E8=Object.prototype,T8=E8.hasOwnProperty;function A8(t,e,n,r,i,o){var a=n&S8,s=c_(t),l=s.length,u=c_(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:T8.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var k8=A8,N8=Oo,C8=_r,P8=N8(C8,"DataView"),I8=P8,O8=Oo,j8=_r,R8=O8(j8,"Promise"),M8=R8,$8=Oo,D8=_r,L8=$8(D8,"Set"),_P=L8,U8=Oo,F8=_r,B8=U8(F8,"WeakMap"),q8=B8,Kg=I8,Jg=F0,Yg=M8,Xg=_P,Qg=q8,SP=Kr,Es=CC,d_="[object Map]",V8="[object Object]",f_="[object Promise]",h_="[object Set]",p_="[object WeakMap]",m_="[object DataView]",G8=Es(Kg),H8=Es(Jg),z8=Es(Yg),W8=Es(Xg),K8=Es(Qg),Ki=SP;(Kg&&Ki(new Kg(new ArrayBuffer(1)))!=m_||Jg&&Ki(new Jg)!=d_||Yg&&Ki(Yg.resolve())!=f_||Xg&&Ki(new Xg)!=h_||Qg&&Ki(new Qg)!=p_)&&(Ki=function(t){var e=SP(t),n=e==V8?t.constructor:void 0,r=n?Es(n):"";if(r)switch(r){case G8:return m_;case H8:return d_;case z8:return f_;case W8:return h_;case K8:return p_}return e});var J8=Ki,rm=dP,Y8=mP,X8=NB,Q8=k8,g_=J8,y_=an,v_=vP,Z8=bP,eq=1,x_="[object Arguments]",b_="[object Array]",_c="[object Object]",tq=Object.prototype,w_=tq.hasOwnProperty;function nq(t,e,n,r,i,o){var a=y_(t),s=y_(e),l=a?b_:g_(t),u=s?b_:g_(e);l=l==x_?_c:l,u=u==x_?_c:u;var d=l==_c,f=u==_c,h=l==u;if(h&&v_(t)){if(!v_(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new rm),a||Z8(t)?Y8(t,e,n,r,i,o):X8(t,e,l,n,r,i,o);if(!(n&eq)){var g=d&&w_.call(t,"__wrapped__"),v=f&&w_.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return o||(o=new rm),i(y,b,n,r,o)}}return h?(o||(o=new rm),Q8(t,e,n,r,i,o)):!1}var rq=nq,iq=rq,__=Jr;function EP(t,e,n,r,i){return t===e?!0:t==null||e==null||!__(t)&&!__(e)?t!==t&&e!==e:iq(t,e,n,r,EP,i)}var ix=EP,oq=dP,aq=ix,sq=1,lq=2;function uq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new oq;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?aq(d,u,sq|lq,r,f):h))return!1}}return!0}var cq=uq,dq=ji;function fq(t){return t===t&&!dq(t)}var TP=fq,hq=TP,pq=Uh;function mq(t){for(var e=pq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,hq(i)]}return e}var gq=mq;function yq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var AP=yq,vq=cq,xq=gq,bq=AP;function wq(t){var e=xq(t);return e.length==1&&e[0][2]?bq(e[0][0],e[0][1]):function(n){return n===t||vq(n,t,e)}}var _q=wq;function Sq(t,e){return t!=null&&e in Object(t)}var Eq=Sq,Tq=RC,Aq=tx,kq=an,Nq=nx,Cq=rx,Pq=Eh;function Iq(t,e,n){e=Tq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Pq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Cq(i)&&Nq(a,i)&&(kq(t)||Aq(t)))}var Oq=Iq,jq=Eq,Rq=Oq;function Mq(t,e){return t!=null&&Rq(t,e,jq)}var $q=Mq,Dq=ix,Lq=MC,Uq=$q,Fq=D0,Bq=TP,qq=AP,Vq=Eh,Gq=1,Hq=2;function zq(t,e){return Fq(t)&&Bq(e)?qq(Vq(t),e):function(n){var r=Lq(n,t);return r===void 0&&r===e?Uq(n,t):Dq(e,r,Gq|Hq)}}var Wq=zq;function Kq(t){return t}var Ts=Kq;function Jq(t){return function(e){return e==null?void 0:e[t]}}var Yq=Jq,Xq=G0;function Qq(t){return function(e){return Xq(e,t)}}var Zq=Qq,eV=Yq,tV=Zq,nV=D0,rV=Eh;function iV(t){return nV(t)?eV(rV(t)):tV(t)}var oV=iV,aV=_q,sV=Wq,lV=Ts,uV=an,cV=oV;function dV(t){return typeof t=="function"?t:t==null?lV:typeof t=="object"?uV(t)?sV(t[0],t[1]):aV(t):cV(t)}var Sr=dV;function fV(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var kP=fV;function hV(t){return t!==t}var pV=hV;function mV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var gV=mV,yV=kP,vV=pV,xV=gV;function bV(t,e,n){return e===e?xV(t,e,n):yV(t,vV,n)}var wV=bV,_V=wV;function SV(t,e){var n=t==null?0:t.length;return!!n&&_V(t,e,0)>-1}var EV=SV;function TV(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var AV=TV;function kV(){}var NV=kV,im=_P,CV=NV,PV=ex,IV=1/0,OV=im&&1/PV(new im([,-0]))[1]==IV?function(t){return new im(t)}:CV,jV=OV,RV=fP,MV=EV,$V=AV,DV=pP,LV=jV,UV=ex,FV=200;function BV(t,e,n){var r=-1,i=MV,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=$V;else if(o>=FV){var u=e?null:LV(t);if(u)return UV(u);a=!1,i=DV,l=new RV}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var qV=BV,VV=Sr,GV=qV;function HV(t,e){return t&&t.length?GV(t,VV(e)):[]}var zV=HV;const S_=Re(zV);function NP(t,e,n){return e===!0?S_(t,n):me(e)?S_(t,e):t}function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}var WV=["ref"];function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PP(r.key),r)}}function JV(t,e,n){return e&&T_(t.prototype,e),n&&T_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YV(t,e,n){return e=Qd(e),XV(t,CP()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function XV(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(t)}function QV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function ZV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(t,e)}function Fh(t,e,n){return e=PP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PP(t){var e=eG(t,"string");return qa(e)=="symbol"?e:e+""}function eG(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rG(t){return t.value}function iG(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=tG(e,WV);return j.createElement(Z0,n)}var A_=1,ho=function(t){function e(){var n;KV(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=YV(this,e,[].concat(i)),Fh(n,"lastBoundingBox",{width:-1,height:-1}),n}return ZV(e,t),JV(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A_||Math.abs(i.height-this.lastBoundingBox.height)>A_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Er({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Er(Er({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Er(Er({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},iG(o,Er(Er({},this.props),{},{payload:NP(d,u,rG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Er(Er({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Y(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);Fh(ho,"displayName","Legend");Fh(ho,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k_=Vu,oG=tx,aG=an,N_=k_?k_.isConcatSpreadable:void 0;function sG(t){return aG(t)||oG(t)||!!(N_&&t&&t[N_])}var lG=sG,uG=gP,cG=lG;function IP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=cG),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?IP(s,e-1,n,r,i):uG(i,s):r||(i[i.length]=s)}return i}var OP=IP;function dG(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var fG=dG,hG=fG,pG=hG(),mG=pG,gG=mG,yG=Uh;function vG(t,e){return t&&gG(t,e,yG)}var jP=vG,xG=Hu;function bG(t,e){return function(n,r){if(n==null)return n;if(!xG(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var wG=bG,_G=jP,SG=wG,EG=SG(_G),ox=EG,TG=ox,AG=Hu;function kG(t,e){var n=-1,r=AG(t)?Array(t.length):[];return TG(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var RP=kG;function NG(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var CG=NG,C_=ys;function PG(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=C_(t),a=e!==void 0,s=e===null,l=e===e,u=C_(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var IG=PG,OG=IG;function jG(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=OG(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var RG=jG,om=V0,MG=G0,$G=Sr,DG=RP,LG=CG,UG=xP,FG=RG,BG=Ts,qG=an;function VG(t,e,n){e.length?e=om(e,function(o){return qG(o)?function(a){return MG(a,o.length===1?o[0]:o)}:o}):e=[BG];var r=-1;e=om(e,UG($G));var i=DG(t,function(o,a,s){var l=om(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return LG(i,function(o,a){return FG(o,a,n)})}var GG=VG;function HG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var zG=HG,WG=zG,P_=Math.max;function KG(t,e,n){return e=P_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=P_(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),WG(t,this,s)}}var JG=KG;function YG(t){return function(){return t}}var XG=YG,QG=Oo,ZG=function(){try{var t=QG(Object,"defineProperty");return t({},"",{}),t}catch{}}(),MP=ZG,eH=XG,I_=MP,tH=Ts,nH=I_?function(t,e){return I_(t,"toString",{configurable:!0,enumerable:!1,value:eH(e),writable:!0})}:tH,rH=nH,iH=800,oH=16,aH=Date.now;function sH(t){var e=0,n=0;return function(){var r=aH(),i=oH-(r-n);if(n=r,i>0){if(++e>=iH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lH=sH,uH=rH,cH=lH,dH=cH(uH),fH=dH,hH=Ts,pH=JG,mH=fH;function gH(t,e){return mH(pH(t,e,hH),t+"")}var yH=gH,vH=U0,xH=Hu,bH=nx,wH=ji;function _H(t,e,n){if(!wH(n))return!1;var r=typeof e;return(r=="number"?xH(n)&&bH(e,n.length):r=="string"&&e in n)?vH(n[e],t):!1}var Bh=_H,SH=OP,EH=GG,TH=yH,O_=Bh,AH=TH(function(t,e){if(t==null)return[];var n=e.length;return n>1&&O_(t,e[0],e[1])?e=[]:n>2&&O_(e[0],e[1],e[2])&&(e=[e[0]]),EH(t,SH(e,1),[])}),kH=AH;const ax=Re(kH);function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function NH(t,e){return OH(t)||IH(t,e)||PH(t,e)||CH()}function CH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function OH(t){if(Array.isArray(t))return t}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){jH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jH(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=MH(t,"string");return zl(e)=="symbol"?e:e+""}function MH(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $H(t){return Array.isArray(t)&&wt(t[0])&&wt(t[1])?t.join(" ~ "):t}var DH=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(d&&d.length){var R={padding:0,margin:0},$=(h?ax(d,h):d).map(function(M,O){if(M.type==="none")return null;var D=am({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),B=M.formatter||f||$H,L=M.value,V=M.name,H=L,J=V;if(B&&H!=null&&J!=null){var z=B(L,V,M,O,d);if(Array.isArray(z)){var ne=NH(z,2);H=ne[0],J=ne[1]}else H=z}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:D},wt(J)?j.createElement("span",{className:"recharts-tooltip-item-name"},J):null,wt(J)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},H),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:R},$)}return null},T=am({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=am({margin:0},u),E=!be(y),A=E?y:"",N=Se("recharts-default-tooltip",g),C=Se("recharts-tooltip-label",v);E&&b&&d!==void 0&&d!==null&&(A=b(y,d));var P=w?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",ey({className:N,style:T},P),j.createElement("p",{className:C,style:S},j.isValidElement(A)?A:"".concat(A)),_())};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Sc(t,e,n){return e=LH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=UH(t,"string");return Wl(e)=="symbol"?e:e+""}function UH(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qs="recharts-tooltip-wrapper",FH={visibility:"hidden"};function BH(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Se(qs,Sc(Sc(Sc(Sc({},"".concat(qs,"-right"),Y(n)&&e&&Y(e.x)&&n>=e.x),"".concat(qs,"-left"),Y(n)&&e&&Y(e.x)&&n<e.x),"".concat(qs,"-bottom"),Y(r)&&e&&Y(e.y)&&r>=e.y),"".concat(qs,"-top"),Y(r)&&e&&Y(e.y)&&r<e.y))}function M_(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Y(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,g=l[r];return h<g?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function qH(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function VH(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=M_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=M_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=qH({translateX:d,translateY:f,useTranslate3d:s})):u=FH,{cssProperties:u,cssClasses:BH({translateX:d,translateY:f,coordinate:n})}}function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DP(r.key),r)}}function zH(t,e,n){return e&&HH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WH(t,e,n){return e=Zd(e),KH(t,$P()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function KH(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JH(t)}function JH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function YH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}function ty(t,e){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ty(t,e)}function ny(t,e,n){return e=DP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DP(t){var e=XH(t,"string");return Va(e)=="symbol"?e:e+""}function XH(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L_=1,QH=function(t){function e(){var n;GH(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=WH(this,e,[].concat(i)),ny(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ny(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return YH(e,t),zH(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>L_||Math.abs(r.height-this.state.lastBoundingBox.height)>L_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=VH({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),T=_.cssClasses,S=_.cssProperties,E=D_(D_({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return j.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(N){r.wrapperNode=N}},u)}}])}(k.PureComponent),ZH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jo={isSsr:ZH()};function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UP(r.key),r)}}function n7(t,e,n){return e&&t7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r7(t,e,n){return e=ef(e),i7(t,LP()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function i7(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o7(t)}function o7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function a7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ry(t,e)}function ry(t,e){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ry(t,e)}function sx(t,e,n){return e=UP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UP(t){var e=s7(t,"string");return Ga(e)=="symbol"?e:e+""}function s7(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l7(t){return t.dataKey}function u7(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(DH,e)}var Gt=function(t){function e(){return e7(this,e),r7(this,e,arguments)}return a7(e,t),n7(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=v??[];f&&S.length&&(S=NP(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,l7));var E=S.length>0;return j.createElement(QH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:E,offset:g,position:b,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:T},u7(u,F_(F_({},this.props),{},{payload:S})))}}])}(k.PureComponent);sx(Gt,"displayName","Tooltip");sx(Gt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var c7=_r,d7=function(){return c7.Date.now()},f7=d7,h7=/\s/;function p7(t){for(var e=t.length;e--&&h7.test(t.charAt(e)););return e}var m7=p7,g7=m7,y7=/^\s+/;function v7(t){return t&&t.slice(0,g7(t)+1).replace(y7,"")}var x7=v7,b7=x7,B_=ji,w7=ys,q_=NaN,_7=/^[-+]0x[0-9a-f]+$/i,S7=/^0b[01]+$/i,E7=/^0o[0-7]+$/i,T7=parseInt;function A7(t){if(typeof t=="number")return t;if(w7(t))return q_;if(B_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=B_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=b7(t);var n=S7.test(t);return n||E7.test(t)?T7(t.slice(2),n?2:8):_7.test(t)?q_:+t}var FP=A7,k7=ji,sm=f7,V_=FP,N7="Expected a function",C7=Math.max,P7=Math.min;function I7(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(N7);e=V_(e)||0,k7(n)&&(d=!!n.leading,f="maxWait"in n,o=f?C7(V_(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,N=i;return r=i=void 0,u=E,a=t.apply(N,A),a}function v(E){return u=E,s=setTimeout(x,e),d?g(E):a}function y(E){var A=E-l,N=E-u,C=e-A;return f?P7(C,o-N):C}function b(E){var A=E-l,N=E-u;return l===void 0||A>=e||A<0||f&&N>=o}function x(){var E=sm();if(b(E))return w(E);s=setTimeout(x,y(E))}function w(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:w(sm())}function S(){var E=sm(),A=b(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=_,S.flush=T,S}var O7=I7,j7=O7,R7=ji,M7="Expected a function";function $7(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(M7);return R7(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),j7(t,e,{leading:r,maxWait:e,trailing:i})}var D7=$7;const BP=Re(D7);function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){L7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7(t,e,n){return e=U7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U7(t){var e=F7(t,"string");return Kl(e)=="symbol"?e:e+""}function F7(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B7(t,e){return H7(t)||G7(t,e)||V7(t,e)||q7()}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function H7(t){if(Array.isArray(t))return t}var ka=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,x=t.className,w=t.onResize,_=t.style,T=_===void 0?{}:_,S=k.useRef(null),E=k.useRef();E.current=w,k.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=k.useState({containerWidth:i.width,containerHeight:i.height}),N=B7(A,2),C=N[0],P=N[1],I=k.useCallback(function($,M){P(function(O){var D=Math.round($),B=Math.round(M);return O.containerWidth===D&&O.containerHeight===B?O:{containerWidth:D,containerHeight:B}})},[]);k.useEffect(function(){var $=function(V){var H,J=V[0].contentRect,z=J.width,ne=J.height;I(z,ne),(H=E.current)===null||H===void 0||H.call(E,z,ne)};y>0&&($=BP($,y,{trailing:!0,leading:!1}));var M=new ResizeObserver($),O=S.current.getBoundingClientRect(),D=O.width,B=O.height;return I(D,B),M.observe(S.current),function(){M.disconnect()}},[I,y]);var R=k.useMemo(function(){var $=C.containerWidth,M=C.containerHeight;if($<0||M<0)return null;nr(io(a)||io(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),nr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=io(a)?$:a,D=io(l)?M:l;n&&n>0&&(O?D=O/n:D&&(O=D*n),h&&D>h&&(D=h)),nr(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,a,l,d,f,n);var B=!Array.isArray(g)&&$r(g.type).endsWith("Chart");return j.Children.map(g,function(L){return j.isValidElement(L)?k.cloneElement(L,Ec({width:O,height:D},B?{style:Ec({height:"100%",width:"100%",maxHeight:D,maxWidth:O},L.props.style)}:{})):L})},[n,g,l,h,f,d,C,a]);return j.createElement("div",{id:b?"".concat(b):void 0,className:Se("recharts-responsive-container",x),style:Ec(Ec({},T),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},R)}),Jl=function(e){return null};Jl.displayName="Cell";function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7(t,e,n){return e=W7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7(t){var e=K7(t,"string");return Yl(e)=="symbol"?e:e+""}function K7(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},J7=2e3,Y7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W_="recharts_measurement_span";function X7(t){var e=iy({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jo.isSsr)return{width:0,height:0};var r=X7(n),i=JSON.stringify({text:e,copyStyle:r});if(Fo.widthCache[i])return Fo.widthCache[i];try{var o=document.getElementById(W_);o||(o=document.createElement("span"),o.setAttribute("id",W_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=iy(iy({},Y7),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Fo.widthCache[i]=l,++Fo.cacheCount>J7&&(Fo.cacheCount=0,Fo.widthCache={}),l}catch{return{width:0,height:0}}},Q7=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function tf(t,e){return nz(t)||tz(t,e)||ez(t,e)||Z7()}function Z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nz(t){if(Array.isArray(t))return t}function rz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function iz(t,e,n){return e&&J_(t.prototype,e),n&&J_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oz(t){var e=az(t,"string");return Xl(e)=="symbol"?e:e+""}function az(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uz=Object.keys(qP),fa="NaN";function cz(t,e){return t*qP[e]}var Tc=function(){function t(e,n){rz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!sz.test(n)&&(this.num=NaN,this.unit=""),uz.includes(n)&&(this.num=cz(e,n),this.unit="px")}return iz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lz.exec(n))!==null&&r!==void 0?r:[],o=tf(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function VP(t){if(t.includes(fa))return fa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Y_.exec(e))!==null&&n!==void 0?n:[],i=tf(r,4),o=i[1],a=i[2],s=i[3],l=Tc.parse(o??""),u=Tc.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return fa;e=e.replace(Y_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=X_.exec(e))!==null&&f!==void 0?f:[],g=tf(h,4),v=g[1],y=g[2],b=g[3],x=Tc.parse(v??""),w=Tc.parse(b??""),_=y==="+"?x.add(w):x.subtract(w);if(_.isNaN())return fa;e=e.replace(X_,_.toString())}return e}var Q_=/\(([^()]*)\)/;function dz(t){for(var e=t;e.includes("(");){var n=Q_.exec(e),r=tf(n,2),i=r[1];e=e.replace(Q_,VP(i))}return e}function fz(t){var e=t.replace(/\s+/g,"");return e=dz(e),e=VP(e),e}function hz(t){try{return fz(t)}catch{return fa}}function lm(t){var e=hz(t.slice(5,-1));return e===fa?"":e}var pz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mz=["dx","dy","angle","className","breakAll"];function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function Z_(t,e){if(t==null)return{};var n=gz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eS(t,e){return bz(t)||xz(t,e)||vz(t,e)||yz()}function yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bz(t){if(Array.isArray(t))return t}var GP=/[ \f\n\r\t\v\u2028\u2029]+/,HP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];be(n)||(r?o=n.toString().split(""):o=n.toString().split(GP));var a=o.map(function(l){return{word:l,width:gl(l,i).width}}),s=r?0:gl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},wz=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Y(a),f=s,h=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(D,B){var L=B.word,V=B.width,H=D[D.length-1];if(H&&(i==null||o||H.width+V+r<Number(i)))H.words.push(L),H.width+=V+r;else{var J={words:[L],width:V};D.push(J)}return D},[])},g=h(n),v=function(O){return O.reduce(function(D,B){return D.width>B.width?D:B})};if(!d)return g;for(var y="",b=function(O){var D=f.slice(0,O),B=HP({breakAll:u,style:l,children:D+y}).wordsWithComputedWidth,L=h(B),V=L.length>a||v(L).width>Number(i);return[V,L]},x=0,w=f.length-1,_=0,T;x<=w&&_<=f.length-1;){var S=Math.floor((x+w)/2),E=S-1,A=b(E),N=eS(A,2),C=N[0],P=N[1],I=b(S),R=eS(I,1),$=R[0];if(!C&&!$&&(x=S+1),C&&$&&(w=S-1),!C&&$){T=P;break}_++}return T||g},nS=function(e){var n=be(e)?[]:e.toString().split(GP);return[{words:n}]},_z=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!jo.isSsr){var l,u,d=HP({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return nS(i);return wz({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return nS(i)},rS="#808080",Eo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,x=b===void 0?rS:b,w=Z_(e,pz),_=k.useMemo(function(){return _z({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),T=w.dx,S=w.dy,E=w.angle,A=w.className,N=w.breakAll,C=Z_(w,mz);if(!wt(r)||!wt(o))return null;var P=r+(Y(T)?T:0),I=o+(Y(S)?S:0),R;switch(y){case"start":R=lm("calc(".concat(u,")"));break;case"middle":R=lm("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=lm("calc(".concat(_.length-1," * -").concat(s,")"));break}var $=[];if(f){var M=_[0].width,O=w.width;$.push("scale(".concat((Y(O)?O/M:1)/M,")"))}return E&&$.push("rotate(".concat(E,", ").concat(P,", ").concat(I,")")),$.length&&(C.transform=$.join(" ")),j.createElement("text",oy({},le(C,!0),{x:P,y:I,className:Se("recharts-text",A),textAnchor:g,fill:x.includes("url")?rS:x}),_.map(function(D,B){var L=D.words.join(N?"":" ");return j.createElement("tspan",{x:P,dy:B===0?R:s,key:"".concat(L,"-").concat(B)},L)}))};function Ei(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lx(t){let e,n,r;t.length!==2?(e=Ei,n=(s,l)=>Ei(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ei||t===Sz?t:Ez,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Ez(){return 0}function zP(t){return t===null?NaN:+t}function*Tz(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Az=lx(Ei),zu=Az.right;lx(zP).center;class iS extends Map{constructor(e,n=Cz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oS(this,e))}has(e){return super.has(oS(this,e))}set(e,n){return super.set(kz(this,e),n)}delete(e){return super.delete(Nz(this,e))}}function oS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nz({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Cz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Pz(t=Ei){if(t===Ei)return WP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function WP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Iz=Math.sqrt(50),Oz=Math.sqrt(10),jz=Math.sqrt(2);function nf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Iz?10:o>=Oz?5:o>=jz?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?nf(t,e,n*2):[s,l,u]}function ay(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?nf(e,t,n):nf(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function sy(t,e,n){return e=+e,t=+t,n=+n,nf(t,e,n)[2]}function ly(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sy(e,t,n):sy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function KP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?WP:Pz(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));KP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Vs(t,n,e),i(t[r],o)>0&&Vs(t,n,r);a<s;){for(Vs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Vs(t,n,s):(++s,Vs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rz(t,e,n){if(t=Float64Array.from(Tz(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sS(t);if(e>=1)return aS(t);var r,i=(r-1)*e,o=Math.floor(i),a=aS(KP(t,o).subarray(0,o+1)),s=sS(t.subarray(o+1));return a+(s-a)*(i-o)}}function Mz(t,e,n=zP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function $z(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uy=Symbol("implicit");function ux(){var t=new iS,e=[],n=[],r=uy;function i(o){let a=t.get(o);if(a===void 0){if(r!==uy)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new iS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ux(e,n).unknown(r)},Bn.apply(i,arguments),i}function Ql(){var t=ux().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=$z(h).map(function(x){return v+o*x});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Ql(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Bn.apply(f(),arguments)}function JP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JP(e())},t}function yl(){return JP(Ql.apply(null,arguments).paddingInner(1))}function cx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function YP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wu(){}var Zl=.7,rf=1/Zl,Na="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dz=/^#([0-9a-f]{3,8})$/,Lz=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),Uz=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),Fz=new RegExp(`^rgba\\(${Na},${Na},${Na},${eu}\\)$`),Bz=new RegExp(`^rgba\\(${mr},${mr},${mr},${eu}\\)$`),qz=new RegExp(`^hsl\\(${eu},${mr},${mr}\\)$`),Vz=new RegExp(`^hsla\\(${eu},${mr},${mr},${eu}\\)$`),lS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cx(Wu,tu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uS,formatHex:uS,formatHex8:Gz,formatHsl:Hz,formatRgb:cS,toString:cS});function uS(){return this.rgb().formatHex()}function Gz(){return this.rgb().formatHex8()}function Hz(){return XP(this).formatHsl()}function cS(){return this.rgb().formatRgb()}function tu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dz.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dS(e):n===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ac(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ac(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Lz.exec(t))?new tn(e[1],e[2],e[3],1):(e=Uz.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fz.exec(t))?Ac(e[1],e[2],e[3],e[4]):(e=Bz.exec(t))?Ac(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qz.exec(t))?pS(e[1],e[2]/100,e[3]/100,1):(e=Vz.exec(t))?pS(e[1],e[2]/100,e[3]/100,e[4]):lS.hasOwnProperty(t)?dS(lS[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function dS(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function Ac(t,e,n,r){return r<=0&&(t=e=n=NaN),new tn(t,e,n,r)}function zz(t){return t instanceof Wu||(t=tu(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function cy(t,e,n,r){return arguments.length===1?zz(t):new tn(t,e,n,r??1)}function tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cx(tn,cy,YP(Wu,{brighter(t){return t=t==null?rf:Math.pow(rf,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zl:Math.pow(Zl,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(po(this.r),po(this.g),po(this.b),of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fS,formatHex:fS,formatHex8:Wz,formatRgb:hS,toString:hS}));function fS(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function Wz(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function hS(){const t=of(this.opacity);return`${t===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${t===1?")":`, ${t})`}`}function of(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function po(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oo(t){return t=po(t),(t<16?"0":"")+t.toString(16)}function pS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,n,r)}function XP(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof Wu||(t=tu(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Zn(a,s,l,t.opacity)}function Kz(t,e,n,r){return arguments.length===1?XP(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cx(Zn,Kz,YP(Wu,{brighter(t){return t=t==null?rf:Math.pow(rf,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zl:Math.pow(Zl,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tn(um(t>=240?t-240:t+120,i,r),um(t,i,r),um(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zn(mS(this.h),kc(this.s),kc(this.l),of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=of(this.opacity);return`${t===1?"hsl(":"hsla("}${mS(this.h)}, ${kc(this.s)*100}%, ${kc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mS(t){return t=(t||0)%360,t<0?t+360:t}function kc(t){return Math.max(0,Math.min(1,t||0))}function um(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dx=t=>()=>t;function Jz(t,e){return function(n){return t+n*e}}function Yz(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xz(t){return(t=+t)==1?QP:function(e,n){return n-e?Yz(e,n,t):dx(isNaN(e)?n:e)}}function QP(t,e){var n=e-t;return n?Jz(t,n):dx(isNaN(t)?e:t)}const gS=function t(e){var n=Xz(e);function r(i,o){var a=n((i=cy(i)).r,(o=cy(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=QP(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Qz(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Zz(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=As(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function tW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function af(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=As(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cm=new RegExp(dy.source,"g");function rW(t){return function(){return t}}function iW(t){return function(e){return t(e)+""}}function oW(t,e){var n=dy.lastIndex=cm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=dy.exec(t))&&(i=cm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:af(r,i)})),n=cm.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?iW(l[0].x):rW(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function As(t,e){var n=typeof e,r;return e==null||n==="boolean"?dx(e):(n==="number"?af:n==="string"?(r=tu(e))?(e=r,gS):oW:e instanceof tu?gS:e instanceof Date?tW:Zz(e)?Qz:Array.isArray(e)?eW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nW:af)(t,e)}function fx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aW(t,e){e===void 0&&(e=t,t=As);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function sW(t){return function(){return t}}function sf(t){return+t}var yS=[0,1];function Wt(t){return t}function fy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sW(isNaN(e)?NaN:.5)}function lW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function uW(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=fy(i,r),o=n(a,o)):(r=fy(r,i),o=n(o,a)),function(s){return o(r(s))}}function cW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=fy(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=zu(t,s,1,r)-1;return o[l](i[l](s))}}function Ku(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qh(){var t=yS,e=yS,n=As,r,i,o,a=Wt,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==Wt&&(a=lW(t[0],t[h-1])),s=h>2?cW:uW,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),af)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,sf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=fx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Wt,d()):a!==Wt},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,d()}}function hx(){return qh()(Wt,Wt)}function dW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ha(t){return t=lf(Math.abs(t)),t?t[1]:NaN}function fW(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function hW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var pW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(t){if(!(e=pW.exec(t)))throw new Error("invalid format: "+t);var e;return new px({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nu.prototype=px.prototype;function px(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ZP;function gW(t,e){var n=lf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ZP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lf(t,Math.max(0,e+o-1))[0]}function vS(t,e){var n=lf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vS(t*100,e),r:vS,s:gW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bS(t){return t}var wS=Array.prototype.map,_S=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yW(t){var e=t.grouping===void 0||t.thousands===void 0?bS:fW(wS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?bS:hW(wS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=nu(f);var h=f.fill,g=f.align,v=f.sign,y=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,T=f.trim,S=f.type;S==="n"?(w=!0,S="g"):xS[S]||(_===void 0&&(_=12),T=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",N=xS[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(I){var R=E,$=A,M,O,D;if(S==="c")$=N(I)+$,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?l:N(Math.abs(I),_),T&&(I=mW(I)),B&&+I==0&&v!=="+"&&(B=!1),R=(B?v==="("?v:s:v==="-"||v==="("?"":v)+R,$=(S==="s"?_S[8+ZP/3]:"")+$+(B&&v==="("?")":""),C){for(M=-1,O=I.length;++M<O;)if(D=I.charCodeAt(M),48>D||D>57){$=(D===46?i+I.slice(M+1):I.slice(M))+$,I=I.slice(0,M);break}}}w&&!b&&(I=e(I,1/0));var L=R.length+I.length+$.length,V=L<x?new Array(x-L+1).join(h):"";switch(w&&b&&(I=e(V+I,V.length?x-$.length:1/0),V=""),g){case"<":I=R+I+$+V;break;case"=":I=R+V+I+$;break;case"^":I=V.slice(0,L=V.length>>1)+R+I+$+V.slice(L);break;default:I=V+R+I+$;break}return o(I)}return P.toString=function(){return f+""},P}function d(f,h){var g=u((f=nu(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Ha(h)/3)))*3,y=Math.pow(10,-v),b=_S[8+v/3];return function(x){return g(y*x)+b}}return{format:u,formatPrefix:d}}var Nc,mx,eI;vW({thousands:",",grouping:[3],currency:["$",""]});function vW(t){return Nc=yW(t),mx=Nc.format,eI=Nc.formatPrefix,Nc}function xW(t){return Math.max(0,-Ha(Math.abs(t)))}function bW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ha(e)/3)))*3-Ha(Math.abs(t)))}function wW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ha(e)-Ha(t))+1}function tI(t,e,n,r){var i=ly(t,e,n),o;switch(r=nu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=bW(i,a))&&(r.precision=o),eI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=wW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xW(i))&&(r.precision=o-(r.type==="%")*2);break}}return mx(r)}function Ri(t){var e=t.domain;return t.ticks=function(n){var r=e();return ay(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return tI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=sy(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function uf(){var t=hx();return t.copy=function(){return Ku(t,uf())},Bn.apply(t,arguments),Ri(t)}function nI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return nI(t).unknown(e)},t=arguments.length?Array.from(t,sf):[0,1],Ri(n)}function rI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function SS(t){return Math.log(t)}function ES(t){return Math.exp(t)}function _W(t){return-Math.log(-t)}function SW(t){return-Math.exp(-t)}function EW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function TW(t){return t===10?EW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TS(t){return(e,n)=>-t(-e,n)}function gx(t){const e=t(SS,ES),n=e.domain;let r=10,i,o;function a(){return i=AW(r),o=TW(r),n()[0]<0?(i=TS(i),o=TS(o),t(_W,SW)):t(SS,ES),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),v,y;const b=s==null?10:+s;let x=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<b&&(x=ay(u,d,b))}else x=ay(h,g,Math.min(g-h,b)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=nu(l)).precision==null&&(l.trim=!0),l=mx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(rI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function iI(){const t=gx(qh()).domain([1,10]);return t.copy=()=>Ku(t,iI()).base(t.base()),Bn.apply(t,arguments),t}function AS(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yx(t){var e=1,n=t(AS(e),kS(e));return n.constant=function(r){return arguments.length?t(AS(e=+r),kS(e)):e},Ri(n)}function oI(){var t=yx(qh());return t.copy=function(){return Ku(t,oI()).constant(t.constant())},Bn.apply(t,arguments)}function NS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NW(t){return t<0?-t*t:t*t}function vx(t){var e=t(Wt,Wt),n=1;function r(){return n===1?t(Wt,Wt):n===.5?t(kW,NW):t(NS(n),NS(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ri(e)}function xx(){var t=vx(qh());return t.copy=function(){return Ku(t,xx()).exponent(t.exponent())},Bn.apply(t,arguments),t}function CW(){return xx.apply(null,arguments).exponent(.5)}function CS(t){return Math.sign(t)*t*t}function PW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aI(){var t=hx(),e=[0,1],n=!1,r;function i(o){var a=PW(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(CS(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,sf)).map(CS)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return aI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bn.apply(i,arguments),Ri(i)}function sI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Mz(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[zu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ei),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return sI().domain(t).range(e).unknown(r)},Bn.apply(o,arguments)}function lI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[zu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return lI().domain([t,e]).range(i).unknown(o)},Bn.apply(Ri(a),arguments)}function uI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[zu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uI().domain(t).range(e).unknown(n)},Bn.apply(i,arguments)}const dm=new Date,fm=new Date;function _t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>_t(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(dm.setTime(+o),fm.setTime(+a),t(dm),t(fm),Math.floor(n(dm,fm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const cf=_t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cf);cf.range;const Ir=1e3,On=Ir*60,Or=On*60,Vr=Or*24,bx=Vr*7,PS=Vr*30,hm=Vr*365,ao=_t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getUTCSeconds());ao.range;const wx=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ir)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getMinutes());wx.range;const _x=_t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCMinutes());_x.range;const Sx=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ir-t.getMinutes()*On)},(t,e)=>{t.setTime(+t+e*Or)},(t,e)=>(e-t)/Or,t=>t.getHours());Sx.range;const Ex=_t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Or)},(t,e)=>(e-t)/Or,t=>t.getUTCHours());Ex.range;const Ju=_t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*On)/Vr,t=>t.getDate()-1);Ju.range;const Vh=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vr,t=>t.getUTCDate()-1);Vh.range;const cI=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vr,t=>Math.floor(t/Vr));cI.range;function Ro(t){return _t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*On)/bx)}const Gh=Ro(0),df=Ro(1),IW=Ro(2),OW=Ro(3),za=Ro(4),jW=Ro(5),RW=Ro(6);Gh.range;df.range;IW.range;OW.range;za.range;jW.range;RW.range;function Mo(t){return _t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bx)}const Hh=Mo(0),ff=Mo(1),MW=Mo(2),$W=Mo(3),Wa=Mo(4),DW=Mo(5),LW=Mo(6);Hh.range;ff.range;MW.range;$W.range;Wa.range;DW.range;LW.range;const Tx=_t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Tx.range;const Ax=_t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ax.range;const Gr=_t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gr.range;const Hr=_t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Hr.range;function dI(t,e,n,r,i,o){const a=[[ao,1,Ir],[ao,5,5*Ir],[ao,15,15*Ir],[ao,30,30*Ir],[o,1,On],[o,5,5*On],[o,15,15*On],[o,30,30*On],[i,1,Or],[i,3,3*Or],[i,6,6*Or],[i,12,12*Or],[r,1,Vr],[r,2,2*Vr],[n,1,bx],[e,1,PS],[e,3,3*PS],[t,1,hm]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:l(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,g=lx(([,,b])=>b).right(a,h);if(g===a.length)return t.every(ly(u/hm,d/hm,f));if(g===0)return cf.every(Math.max(ly(u,d,f),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[UW,FW]=dI(Hr,Ax,Hh,cI,Ex,_x),[BW,qW]=dI(Gr,Tx,Gh,Ju,Sx,wx);function pm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function VW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Hs(i),d=zs(i),f=Hs(o),h=zs(o),g=Hs(a),v=zs(a),y=Hs(s),b=zs(s),x=Hs(l),w=zs(l),_={a:B,A:L,b:V,B:H,c:null,d:$S,e:$S,f:f9,g:_9,G:E9,H:u9,I:c9,j:d9,L:fI,m:h9,M:p9,p:J,q:z,Q:US,s:FS,S:m9,u:g9,U:y9,V:v9,w:x9,W:b9,x:null,X:null,y:w9,Y:S9,Z:T9,"%":LS},T={a:ne,A:we,b:Ee,B:Ae,c:null,d:DS,e:DS,f:C9,g:U9,G:B9,H:A9,I:k9,j:N9,L:pI,m:P9,M:I9,p:Ye,q:nt,Q:US,s:FS,S:O9,u:j9,U:R9,V:M9,w:$9,W:D9,x:null,X:null,y:L9,Y:F9,Z:q9,"%":LS},S={a:P,A:I,b:R,B:$,c:M,d:RS,e:RS,f:o9,g:jS,G:OS,H:MS,I:MS,j:t9,L:i9,m:e9,M:n9,p:C,q:ZW,Q:s9,s:l9,S:r9,u:KW,U:JW,V:YW,w:WW,W:XW,x:O,X:D,y:jS,Y:OS,Z:QW,"%":a9};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Q,he){return function(ge){var W=[],Le=-1,q=0,te=Q.length,ae,pe,U;for(ge instanceof Date||(ge=new Date(+ge));++Le<te;)Q.charCodeAt(Le)===37&&(W.push(Q.slice(q,Le)),(pe=IS[ae=Q.charAt(++Le)])!=null?ae=Q.charAt(++Le):pe=ae==="e"?" ":"0",(U=he[ae])&&(ae=U(ge,pe)),W.push(ae),q=Le+1);return W.push(Q.slice(q,Le)),W.join("")}}function A(Q,he){return function(ge){var W=Gs(1900,void 0,1),Le=N(W,Q,ge+="",0),q,te;if(Le!=ge.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(he&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(q=mm(Gs(W.y,0,1)),te=q.getUTCDay(),q=te>4||te===0?ff.ceil(q):ff(q),q=Vh.offset(q,(W.V-1)*7),W.y=q.getUTCFullYear(),W.m=q.getUTCMonth(),W.d=q.getUTCDate()+(W.w+6)%7):(q=pm(Gs(W.y,0,1)),te=q.getDay(),q=te>4||te===0?df.ceil(q):df(q),q=Ju.offset(q,(W.V-1)*7),W.y=q.getFullYear(),W.m=q.getMonth(),W.d=q.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),te="Z"in W?mm(Gs(W.y,0,1)).getUTCDay():pm(Gs(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(te+5)%7:W.w+W.U*7-(te+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,mm(W)):pm(W)}}function N(Q,he,ge,W){for(var Le=0,q=he.length,te=ge.length,ae,pe;Le<q;){if(W>=te)return-1;if(ae=he.charCodeAt(Le++),ae===37){if(ae=he.charAt(Le++),pe=S[ae in IS?he.charAt(Le++):ae],!pe||(W=pe(Q,ge,W))<0)return-1}else if(ae!=ge.charCodeAt(W++))return-1}return W}function C(Q,he,ge){var W=u.exec(he.slice(ge));return W?(Q.p=d.get(W[0].toLowerCase()),ge+W[0].length):-1}function P(Q,he,ge){var W=g.exec(he.slice(ge));return W?(Q.w=v.get(W[0].toLowerCase()),ge+W[0].length):-1}function I(Q,he,ge){var W=f.exec(he.slice(ge));return W?(Q.w=h.get(W[0].toLowerCase()),ge+W[0].length):-1}function R(Q,he,ge){var W=x.exec(he.slice(ge));return W?(Q.m=w.get(W[0].toLowerCase()),ge+W[0].length):-1}function $(Q,he,ge){var W=y.exec(he.slice(ge));return W?(Q.m=b.get(W[0].toLowerCase()),ge+W[0].length):-1}function M(Q,he,ge){return N(Q,e,he,ge)}function O(Q,he,ge){return N(Q,n,he,ge)}function D(Q,he,ge){return N(Q,r,he,ge)}function B(Q){return a[Q.getDay()]}function L(Q){return o[Q.getDay()]}function V(Q){return l[Q.getMonth()]}function H(Q){return s[Q.getMonth()]}function J(Q){return i[+(Q.getHours()>=12)]}function z(Q){return 1+~~(Q.getMonth()/3)}function ne(Q){return a[Q.getUTCDay()]}function we(Q){return o[Q.getUTCDay()]}function Ee(Q){return l[Q.getUTCMonth()]}function Ae(Q){return s[Q.getUTCMonth()]}function Ye(Q){return i[+(Q.getUTCHours()>=12)]}function nt(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var he=E(Q+="",_);return he.toString=function(){return Q},he},parse:function(Q){var he=A(Q+="",!1);return he.toString=function(){return Q},he},utcFormat:function(Q){var he=E(Q+="",T);return he.toString=function(){return Q},he},utcParse:function(Q){var he=A(Q+="",!0);return he.toString=function(){return Q},he}}}var IS={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,GW=/^%/,HW=/[\\^$*+?|[\]().{}]/g;function Ce(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function zW(t){return t.replace(HW,"\\$&")}function Hs(t){return new RegExp("^(?:"+t.map(zW).join("|")+")","i")}function zs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WW(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function KW(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function JW(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function YW(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function XW(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function OS(t,e,n){var r=kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jS(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZW(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function e9(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function RS(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function t9(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function MS(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function n9(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function r9(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function i9(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function o9(t,e,n){var r=kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function a9(t,e,n){var r=GW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function s9(t,e,n){var r=kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function l9(t,e,n){var r=kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $S(t,e){return Ce(t.getDate(),e,2)}function u9(t,e){return Ce(t.getHours(),e,2)}function c9(t,e){return Ce(t.getHours()%12||12,e,2)}function d9(t,e){return Ce(1+Ju.count(Gr(t),t),e,3)}function fI(t,e){return Ce(t.getMilliseconds(),e,3)}function f9(t,e){return fI(t,e)+"000"}function h9(t,e){return Ce(t.getMonth()+1,e,2)}function p9(t,e){return Ce(t.getMinutes(),e,2)}function m9(t,e){return Ce(t.getSeconds(),e,2)}function g9(t){var e=t.getDay();return e===0?7:e}function y9(t,e){return Ce(Gh.count(Gr(t)-1,t),e,2)}function hI(t){var e=t.getDay();return e>=4||e===0?za(t):za.ceil(t)}function v9(t,e){return t=hI(t),Ce(za.count(Gr(t),t)+(Gr(t).getDay()===4),e,2)}function x9(t){return t.getDay()}function b9(t,e){return Ce(df.count(Gr(t)-1,t),e,2)}function w9(t,e){return Ce(t.getFullYear()%100,e,2)}function _9(t,e){return t=hI(t),Ce(t.getFullYear()%100,e,2)}function S9(t,e){return Ce(t.getFullYear()%1e4,e,4)}function E9(t,e){var n=t.getDay();return t=n>=4||n===0?za(t):za.ceil(t),Ce(t.getFullYear()%1e4,e,4)}function T9(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ce(e/60|0,"0",2)+Ce(e%60,"0",2)}function DS(t,e){return Ce(t.getUTCDate(),e,2)}function A9(t,e){return Ce(t.getUTCHours(),e,2)}function k9(t,e){return Ce(t.getUTCHours()%12||12,e,2)}function N9(t,e){return Ce(1+Vh.count(Hr(t),t),e,3)}function pI(t,e){return Ce(t.getUTCMilliseconds(),e,3)}function C9(t,e){return pI(t,e)+"000"}function P9(t,e){return Ce(t.getUTCMonth()+1,e,2)}function I9(t,e){return Ce(t.getUTCMinutes(),e,2)}function O9(t,e){return Ce(t.getUTCSeconds(),e,2)}function j9(t){var e=t.getUTCDay();return e===0?7:e}function R9(t,e){return Ce(Hh.count(Hr(t)-1,t),e,2)}function mI(t){var e=t.getUTCDay();return e>=4||e===0?Wa(t):Wa.ceil(t)}function M9(t,e){return t=mI(t),Ce(Wa.count(Hr(t),t)+(Hr(t).getUTCDay()===4),e,2)}function $9(t){return t.getUTCDay()}function D9(t,e){return Ce(ff.count(Hr(t)-1,t),e,2)}function L9(t,e){return Ce(t.getUTCFullYear()%100,e,2)}function U9(t,e){return t=mI(t),Ce(t.getUTCFullYear()%100,e,2)}function F9(t,e){return Ce(t.getUTCFullYear()%1e4,e,4)}function B9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wa(t):Wa.ceil(t),Ce(t.getUTCFullYear()%1e4,e,4)}function q9(){return"+0000"}function LS(){return"%"}function US(t){return+t}function FS(t){return Math.floor(+t/1e3)}var Bo,gI,yI;V9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V9(t){return Bo=VW(t),gI=Bo.format,Bo.parse,yI=Bo.utcFormat,Bo.utcParse,Bo}function G9(t){return new Date(t)}function H9(t){return t instanceof Date?+t:+new Date(+t)}function kx(t,e,n,r,i,o,a,s,l,u){var d=hx(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?v:a(E)<E?y:o(E)<E?b:r(E)<E?i(E)<E?x:w:n(E)<E?_:T)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,H9)):h().map(G9)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?S:u(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(rI(A,E)):d},d.copy=function(){return Ku(d,kx(t,e,n,r,i,o,a,s,l,u))},d}function z9(){return Bn.apply(kx(BW,qW,Gr,Tx,Gh,Ju,Sx,wx,ao,gI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W9(){return Bn.apply(kx(UW,FW,Hr,Ax,Hh,Vh,Ex,_x,ao,yI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zh(){var t=0,e=1,n,r,i,o,a=Wt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,a=f(g,v),u):[a(0),a(1)]}}return u.range=d(As),u.rangeRound=d(fx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vI(){var t=Ri(zh()(Wt));return t.copy=function(){return Mi(t,vI())},Yr.apply(t,arguments)}function xI(){var t=gx(zh()).domain([1,10]);return t.copy=function(){return Mi(t,xI()).base(t.base())},Yr.apply(t,arguments)}function bI(){var t=yx(zh());return t.copy=function(){return Mi(t,bI()).constant(t.constant())},Yr.apply(t,arguments)}function Nx(){var t=vx(zh());return t.copy=function(){return Mi(t,Nx()).exponent(t.exponent())},Yr.apply(t,arguments)}function K9(){return Nx.apply(null,arguments).exponent(.5)}function wI(){var t=[],e=Wt;function n(r){if(r!=null&&!isNaN(r=+r))return e((zu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ei),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Rz(t,o/r))},n.copy=function(){return wI(e).domain(t)},Yr.apply(n,arguments)}function Wh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Wt,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var x,w,_;return arguments.length?([x,w,_]=b,u=aW(y,[x,w,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(As),g.rangeRound=v(fx),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function _I(){var t=Ri(Wh()(Wt));return t.copy=function(){return Mi(t,_I())},Yr.apply(t,arguments)}function SI(){var t=gx(Wh()).domain([.1,1,10]);return t.copy=function(){return Mi(t,SI()).base(t.base())},Yr.apply(t,arguments)}function EI(){var t=yx(Wh());return t.copy=function(){return Mi(t,EI()).constant(t.constant())},Yr.apply(t,arguments)}function Cx(){var t=vx(Wh());return t.copy=function(){return Mi(t,Cx()).exponent(t.exponent())},Yr.apply(t,arguments)}function J9(){return Cx.apply(null,arguments).exponent(.5)}const BS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ql,scaleDiverging:_I,scaleDivergingLog:SI,scaleDivergingPow:Cx,scaleDivergingSqrt:J9,scaleDivergingSymlog:EI,scaleIdentity:nI,scaleImplicit:uy,scaleLinear:uf,scaleLog:iI,scaleOrdinal:ux,scalePoint:yl,scalePow:xx,scaleQuantile:sI,scaleQuantize:lI,scaleRadial:aI,scaleSequential:vI,scaleSequentialLog:xI,scaleSequentialPow:Nx,scaleSequentialQuantile:wI,scaleSequentialSqrt:K9,scaleSequentialSymlog:bI,scaleSqrt:CW,scaleSymlog:oI,scaleThreshold:uI,scaleTime:z9,scaleUtc:W9,tickFormat:tI},Symbol.toStringTag,{value:"Module"}));var Y9=ys;function X9(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Y9(a):n(a,s)))var s=a,l=o}return l}var Kh=X9;function Q9(t,e){return t>e}var TI=Q9,Z9=Kh,eK=TI,tK=Ts;function nK(t){return t&&t.length?Z9(t,tK,eK):void 0}var rK=nK;const Jh=Re(rK);function iK(t,e){return t<e}var AI=iK,oK=Kh,aK=AI,sK=Ts;function lK(t){return t&&t.length?oK(t,sK,aK):void 0}var uK=lK;const Yh=Re(uK);var cK=V0,dK=Sr,fK=RP,hK=an;function pK(t,e){var n=hK(t)?cK:fK;return n(t,dK(e))}var mK=pK,gK=OP,yK=mK;function vK(t,e){return gK(yK(t,e),1)}var xK=vK;const bK=Re(xK);var wK=ix;function _K(t,e){return wK(t,e)}var SK=_K;const Yu=Re(SK);var ks=1e9,EK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ix,Je=!0,Dn="[DecimalError] ",mo=Dn+"Invalid argument: ",Px=Dn+"Exponent out of range: ",Ns=Math.floor,Ji=Math.pow,TK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,St=1e7,ze=7,kI=9007199254740991,hf=Ns(kI/ze),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ze;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return Dr(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return De(Dr(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return pt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hn))throw Error(Dn+"NaN");if(n.s<1)throw Error(Dn+(n.s?"NaN":"-Infinity"));return n.eq(hn)?new r(0):(Je=!1,e=Dr(ru(n,o),ru(t,o),o),Je=!0,De(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PI(e,t):NI(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Dn+"NaN");return n.s?(Je=!1,e=Dr(n,t,0,1).times(t),Je=!0,n.minus(e)):De(new r(n),i)};oe.naturalExponential=oe.exp=function(){return CI(this)};oe.naturalLogarithm=oe.ln=function(){return ru(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NI(e,t):PI(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mo+t);if(e=pt(i)+1,r=i.d.length-1,n=r*ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Dn+"NaN")}for(t=pt(s),Je=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=fr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ns((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Dr(s,o,a+2)).times(.5),fr(o.d).slice(0,a)===(e=fr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Je=!0,De(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%St|0,e=s/St|0;o[i]=(o[i]+e)%St|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Je?De(t,f.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vr(t,0,ks),e===void 0?e=r.rounding:vr(e,0,8),De(n,t+pt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=To(r,!0):(vr(t,0,ks),e===void 0?e=i.rounding:vr(e,0,8),r=De(new i(r),t+1,e),n=To(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?To(i):(vr(t,0,ks),e===void 0?e=o.rounding:vr(e,0,8),r=De(new o(i),t+pt(i)+1,e),n=To(r.abs(),!1,t+pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return De(new e(t),pt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(hn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Dn+"Infinity");return s}if(s.eq(hn))return s;if(r=l.precision,t.eq(hn))return De(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=kI){for(i=new l(hn),e=Math.ceil(r/ze+4),Je=!1;n%2&&(i=i.times(s),VS(i.d,e)),n=Ns(n/2),n!==0;)s=s.times(s),VS(s.d,e);return Je=!0,t.s<0?new l(hn).div(i):De(i,r)}}else if(o<0)throw Error(Dn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Je=!1,i=t.times(ru(s,r+u)),Je=!0,i=CI(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=pt(i),r=To(i,n<=o.toExpNeg||n>=o.toExpPos)):(vr(t,1,ks),e===void 0?e=o.rounding:vr(e,0,8),i=De(new o(i),t,e),n=pt(i),r=To(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vr(t,1,ks),e===void 0?e=r.rounding:vr(e,0,8)),De(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pt(t),n=t.constructor;return To(t,e<=n.toExpNeg||e>=n.toExpPos)};function NI(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Je?De(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ze),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/St|0,l[o]%=St;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Je?De(e,f):e}function vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(mo+t)}function fr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ze-r.length,n&&(o+=ii(n)),o+=r;a=t[e],r=a+"",n=ze-r.length,n&&(o+=ii(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Dr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%St|0,a=o/St|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*St+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,g,v,y,b,x,w,_,T,S,E,A,N,C=r.constructor,P=r.s==i.s?1:-1,I=r.d,R=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Dn+"Division by zero");for(l=r.e-i.e,A=R.length,S=I.length,g=new C(P),v=g.d=[],u=0;R[u]==(I[u]||0);)++u;if(R[u]>(I[u]||0)&&--l,o==null?w=o=C.precision:a?w=o+(pt(r)-pt(i))+1:w=o,w<0)return new C(0);if(w=w/ze+2|0,u=0,A==1)for(d=0,R=R[0],w++;(u<S||d)&&w--;u++)_=d*St+(I[u]||0),v[u]=_/R|0,d=_%R|0;else{for(d=St/(R[0]+1)|0,d>1&&(R=t(R,d),I=t(I,d),A=R.length,S=I.length),T=A,y=I.slice(0,A),b=y.length;b<A;)y[b++]=0;N=R.slice(),N.unshift(0),E=R[0],R[1]>=St/2&&++E;do d=0,s=e(R,y,A,b),s<0?(x=y[0],A!=b&&(x=x*St+(y[1]||0)),d=x/E|0,d>1?(d>=St&&(d=St-1),f=t(R,d),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(d--,n(f,A<h?N:R,h))):(d==0&&(s=d=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e(R,y,A,b),s<1&&(d++,n(y,A<b?N:R,b))),b=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[b++]=I[T]||0:(y=[I[T]],b=1);while((T++<S||y[0]!==void 0)&&w--)}return v[0]||v.shift(),g.e=l,De(g,a?o+pt(g)+1:o)}}();function CI(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(pt(t)>16)throw Error(Px+pt(t));if(!t.s)return new d(hn);for(Je=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ji(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(hn),d.precision=s;;){if(i=De(i.times(t),s),n=n.times(++l),a=o.plus(Dr(i,n,s)),fr(a.d).slice(0,s)===fr(o.d).slice(0,s)){for(;u--;)o=De(o.times(o),s);return d.precision=f,e==null?(Je=!0,De(o,f)):o}o=a}}function pt(t){for(var e=t.e*ze,n=t.d[0];n>=10;n/=10)e++;return e}function gm(t,e,n){if(e>t.LN10.sd())throw Je=!0,n&&(t.precision=n),Error(Dn+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function ii(t){for(var e="";t--;)e+="0";return e}function ru(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Dn+(g.s?"NaN":"-Infinity"));if(g.eq(hn))return new y(0);if(e==null?(Je=!1,u=b):u=e,g.eq(10))return e==null&&(Je=!0),gm(y,u);if(u+=h,y.precision=u,n=fr(v),r=n.charAt(0),o=pt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=fr(g.d),r=n.charAt(0),f++;o=pt(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=gm(y,u+2,b).times(o+""),g=ru(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(Je=!0,De(g,b)):g;for(s=a=g=Dr(g.minus(hn),g.plus(hn),u),d=De(g.times(g),u),i=3;;){if(a=De(a.times(d),u),l=s.plus(Dr(a,new y(i),u)),fr(l.d).slice(0,u)===fr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(gm(y,u+2,b).times(o+""))),s=Dr(s,new y(f),u),y.precision=b,e==null?(Je=!0,De(s,b)):s;s=l,i+=2}}function qS(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ns(n/ze),t.d=[],r=(n+1)%ze,n<0&&(r+=ze),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ze;r<i;)t.d.push(+e.slice(r,r+=ze));e=e.slice(r),r=ze-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Je&&(t.e>hf||t.e<-hf))throw Error(Px+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ze,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ze),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=ze,i=r-ze+a}if(n!==void 0&&(o=Ji(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ji(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=pt(t),f.length=1,e=e-o-1,f[0]=Ji(10,(ze-e%ze)%ze),t.e=Ns(-e/ze)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Ji(10,ze-r),f[d]=i>0?(u/Ji(10,a-i)%Ji(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==St&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=St)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Je&&(t.e>hf||t.e<-hf))throw Error(Px+pt(t));return t}function PI(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Je?De(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/ze),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=St-1;--l[o],l[i]+=St}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Je?De(e,g):e):new h(0)}function To(t,e,n){var r,i=pt(t),o=fr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ii(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ii(-i-1)+o,n&&(r=n-a)>0&&(o+=ii(r))):i>=a?(o+=ii(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ii(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ii(r))),t.s<0?"-"+o:o}function VS(t,e){if(t.length>e)return t.length=e,!0}function II(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return qS(a,o.toString())}else if(typeof o!="string")throw Error(mo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,TK.test(o))qS(a,o);else throw Error(mo+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=II,i.config=i.set=AK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function AK(t){if(!t||typeof t!="object")throw Error(Dn+"Object expected");var e,n,r,i=["precision",1,ks,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ns(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(mo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(mo+n+": "+r);return this}var Ix=II(EK);hn=new Ix(1);const $e=Ix;function kK(t){return IK(t)||PK(t)||CK(t)||NK()}function NK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(t,e){if(t){if(typeof t=="string")return hy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(t,e)}}function PK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function IK(t){if(Array.isArray(t))return hy(t)}function hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OK=function(e){return e},OI={},jI=function(e){return e===OI},GS=function(e){return function n(){return arguments.length===0||arguments.length===1&&jI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jK=function t(e,n){return e===1?n:GS(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==OI}).length;return a>=e?n.apply(void 0,i):t(e-a,GS(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return jI(f)?l.shift():f});return n.apply(void 0,kK(d).concat(l))}))})},Xh=function(e){return jK(e.length,e)},py=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},RK=Xh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),MK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return OK;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},my=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},RI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function $K(t){var e;return t===0?e=1:e=Math.floor(new $e(t).abs().log(10).toNumber())+1,e}function DK(t,e,n){for(var r=new $e(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var LK=Xh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),UK=Xh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),FK=Xh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Qh={rangeStep:DK,getDigitCount:$K,interpolateNumber:LK,uninterpolateNumber:UK,uninterpolateTruncation:FK};function gy(t){return VK(t)||qK(t)||MI(t)||BK()}function BK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function VK(t){if(Array.isArray(t))return yy(t)}function iu(t,e){return zK(t)||HK(t,e)||MI(t,e)||GK()}function GK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MI(t,e){if(t){if(typeof t=="string")return yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(t,e)}}function yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HK(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function zK(t){if(Array.isArray(t))return t}function $I(t){var e=iu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function DI(t,e,n){if(t.lte(0))return new $e(0);var r=Qh.getDigitCount(t.toNumber()),i=new $e(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new $e(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new $e(Math.ceil(l))}function WK(t,e,n){var r=1,i=new $e(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new $e(10).pow(Qh.getDigitCount(t)-1),i=new $e(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new $e(Math.floor(t)))}else t===0?i=new $e(Math.floor((e-1)/2)):n||(i=new $e(Math.floor(t)));var a=Math.floor((e-1)/2),s=MK(RK(function(l){return i.add(new $e(l-a).mul(r)).toNumber()}),py);return s(0,e)}function LI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=DI(new $e(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new $e(0):(a=new $e(t).add(e).div(2),a=a.sub(new $e(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new $e(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?LI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new $e(s).mul(o)),tickMax:a.add(new $e(l).mul(o))})}function KK(t){var e=iu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=$I([n,r]),l=iu(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(gy(py(0,i-1).map(function(){return 1/0}))):[].concat(gy(py(0,i-1).map(function(){return-1/0})),[d]);return n>r?my(f):f}if(u===d)return WK(u,i,o);var h=LI(u,d,a,o),g=h.step,v=h.tickMin,y=h.tickMax,b=Qh.rangeStep(v,y.add(new $e(.1).mul(g)),g);return n>r?my(b):b}function JK(t,e){var n=iu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=$I([r,i]),s=iu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=DI(new $e(u).sub(l).div(d-1),o,0),h=[].concat(gy(Qh.rangeStep(new $e(l),new $e(u).sub(new $e(.99).mul(f)),f)),[u]);return r>i?my(h):h}var YK=RI(KK),XK=RI(JK),QK="Invariant failed";function Ao(t,e){throw new Error(QK)}var ZK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function eJ(t,e){return iJ(t)||rJ(t,e)||nJ(t,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return HS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HS(t,e)}}function HS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iJ(t){if(Array.isArray(t))return t}function oJ(t,e){if(t==null)return{};var n=aJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BI(r.key),r)}}function uJ(t,e,n){return e&&lJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,n){return e=mf(e),dJ(t,UI()?Reflect.construct(e,n||[],mf(t).constructor):e.apply(t,n))}function dJ(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function mf(t){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mf(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function FI(t,e,n){return e=BI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BI(t){var e=pJ(t,"string");return Ka(e)=="symbol"?e:e+""}function pJ(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xu=function(t){function e(){return sJ(this,e),cJ(this,e,arguments)}return hJ(e,t),uJ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=oJ(r,ZK),g=le(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ao();var v=l.map(function(y){var b=u(y,s),x=b.x,w=b.y,_=b.value,T=b.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var N=eJ(T,2);E=N[0],A=N[1]}else E=A=T;if(o==="vertical"){var C=d.scale,P=w+i,I=P+a,R=P-a,$=C(_-E),M=C(_+A);S.push({x1:M,y1:I,x2:M,y2:R}),S.push({x1:$,y1:P,x2:M,y2:P}),S.push({x1:$,y1:I,x2:$,y2:R})}else if(o==="horizontal"){var O=f.scale,D=x+i,B=D-a,L=D+a,V=O(_-E),H=O(_+A);S.push({x1:B,y1:H,x2:L,y2:H}),S.push({x1:D,y1:V,x2:D,y2:H}),S.push({x1:B,y1:V,x2:L,y2:V})}return j.createElement(Ne,pf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},g),S.map(function(J){return j.createElement("line",pf({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return j.createElement(Ne,{className:"recharts-errorBars"},v)}}])}(j.Component);FI(Xu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FI(Xu,"displayName","ErrorBar");function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=yJ(t,"string");return ou(e)=="symbol"?e:e+""}function yJ(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=dn(n,ho);if(!a)return null;var s=ho.defaultProps,l=s!==void 0?Fi(Fi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Fi(Fi({},h),f.props):{},v=g.dataKey,y=g.name,b=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:l.iconType||b||"square",color:Ox(f),value:y||v,payload:g}}),Fi(Fi(Fi({},l),ho.getWithHeight(a,i)),{},{payload:u,item:a})};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function WS(t){return wJ(t)||bJ(t)||xJ(t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function bJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wJ(t){if(Array.isArray(t))return xy(t)}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ca(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=SJ(t,"string");return au(e)=="symbol"?e:e+""}function SJ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xt(t,e,n){return be(t)||be(e)?n:wt(e)?bn(t,e,n):me(e)?e(t):n}function vl(t,e,n,r){var i=bK(t,function(s){return xt(s,e)});if(n==="number"){var o=i.filter(function(s){return Y(s)||parseFloat(s)});return o.length?[Yh(o),Jh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!be(s)}):i;return a.map(function(s){return wt(s)||s instanceof Date?s:""})}var EJ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ht(f-d)!==Ht(h-f)){var v=[];if(Ht(h-f)===Ht(l[1]-l[0])){g=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var b=h+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Ox=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},TJ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,x=y.filter(function(A){return $r(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?ot(ot({},w),x[0].props):x[0].props,T=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=be(T)?n:T;a[S].push({item:x[0],stackList:x.slice(1),barSize:be(E)?void 0:zt(E,r,0)})}}return a},AJ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=zt(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};d=a.reduce(function(T,S){var E={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},A=[].concat(WS(T),[E]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){A.push({item:N,position:b})}),A},f)}else{var x=zt(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;d=a.reduce(function(T,S,E){var A=[].concat(WS(T),[{item:S.item,position:{offset:x+(w+u)*E+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){A.push({item:N,position:A[A.length-1].position})}),A},f)}return d},kJ=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=qI({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Y(e[g]))return ot(ot({},e),{},Ca({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Y(e[v]))return ot(ot({},e),{},Ca({},v,e[v]+(h||0)))}return e},NJ=function(e,n,r){return be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VI=function(e,n,r,i,o){var a=n.props.children,s=wn(a,Xu).filter(function(u){return NJ(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=xt(d,r);if(be(f))return u;var h=Array.isArray(f)?[Yh(f),Jh(f)]:[f,f],g=l.reduce(function(v,y){var b=xt(d,y,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},CJ=function(e,n,r,i,o){var a=n.map(function(s){return VI(e,s,r,o,i)}).filter(function(s){return!be(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},GI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&VI(e,l,u,i)||vl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},HI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},zI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},jr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ht(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Gu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},ym=new WeakMap,Cc=function(e,n){if(typeof n!="function")return e;ym.has(e)||ym.set(e,new WeakMap);var r=ym.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},WI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ql(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:uf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yl(),realScaleType:"point"}:o==="category"?{scale:Ql(),realScaleType:"band"}:{scale:uf(),realScaleType:"linear"};if(_o(i)){var l="scale".concat(Mh(i));return{scale:(BS[l]||yl)(),realScaleType:BS[l]?l:"point"}}return me(i)?{scale:i}:{scale:yl(),realScaleType:"point"}},JS=1e-4,KI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-JS,a=Math.max(i[0],i[1])+JS,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},PJ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},IJ=function(e,n){if(!n||n.length!==2||!Y(n[0])||!Y(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(o[0]=r),(!Y(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},OJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Gu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},jJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Gu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},RJ={sign:OJ,expand:Z5,none:Fa,silhouette:eF,wiggle:tF,positive:jJ},MJ=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=RJ[r],a=Q5().keys(i).value(function(s,l){return+xt(s,l,0)}).order(Gg).offset(o);return a(e)},$J=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ot(ot({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var x=v[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(wt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[_s("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ot(ot({},f),{},Ca({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var x=g.stackGroups[b];return ot(ot({},y),{},Ca({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:MJ(e,x.items,o)}))},v)}return ot(ot({},f),{},Ca({},h,g))},d)},JI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=YK(u,o,s);return e.domain([Yh(d),Jh(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=XK(f,o,s);return{niceTicks:h}}return null};function YS(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var s=Bd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=xt(i,be(a)?e.dataKey:a);return be(l)?null:e.scale(l)}var XS=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=xt(a,n.dataKey,n.domain[s]);return be(l)?null:n.scale(l)-o/2+i},DJ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},LJ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(wt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},UJ=function(e){return e.reduce(function(n,r){return[Yh(r.concat([n[0]]).filter(Y)),Jh(r.concat([n[1]]).filter(Y))]},[1/0,-1/0])},YI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=UJ(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,by=function(e,n,r){if(me(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Y(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(QS.test(e[0])){var o=+QS.exec(e[0])[1];i[0]=n[0]-o}else me(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Y(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(ZS.test(e[1])){var a=+ZS.exec(e[1])[1];i[1]=n[1]+a}else me(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},gf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=ax(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},e1=function(e,n,r){return!e||!e.length||Yu(e,bn(r,"type.defaultProps.domain"))?n:e},XI=function(e,n){var r=e.type.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return ot(ot({},le(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Ox(e),value:xt(n,i),type:l,payload:n,chartType:u,hide:d})};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){QI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QI(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=BJ(t,"string");return su(e)=="symbol"?e:e+""}function BJ(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qJ(t,e){return zJ(t)||HJ(t,e)||GJ(t,e)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(t,e){if(t){if(typeof t=="string")return n1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n1(t,e)}}function n1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zJ(t){if(Array.isArray(t))return t}var yf=Math.PI/180,WJ=function(e){return e*180/Math.PI},Ve=function(e,n,r,i){return{x:e+Math.cos(-yf*i)*r,y:n+Math.sin(-yf*i)*r}},ZI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},KJ=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=zt(e.cx,a,a/2),f=zt(e.cy,s,s/2),h=ZI(a,s,r),g=zt(e.innerRadius,h,0),v=zt(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,x){var w=n[x],_=w.domain,T=w.reversed,S;if(be(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),T&&(S=[S[1],S[0]]);else{S=w.range;var E=S,A=qJ(E,2);l=A[0],u=A[1]}var N=WI(w,o),C=N.realScaleType,P=N.scale;P.domain(_).range(S),KI(P);var I=JI(P,Ar(Ar({},w),{},{realScaleType:C})),R=Ar(Ar(Ar({},w),I),{},{range:S,radius:v,realScaleType:C,scale:P,cx:d,cy:f,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Ar(Ar({},b),{},QI({},x,R))},{})},JJ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},YJ=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=JJ({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:WJ(u),angleInRadian:u}},XJ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},QJ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},r1=function(e,n){var r=e.x,i=e.y,o=YJ({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=XJ(n),f=d.startAngle,h=d.endAngle,g=s,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?Ar(Ar({},n),{},{radius:a,angle:QJ(g,n)}):null},e2=function(e){return!k.isValidElement(e)&&!me(e)&&typeof e!="boolean"?e.className:""};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var ZJ=["offset"];function eY(t){return iY(t)||rY(t)||nY(t)||tY()}function tY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(t,e){if(t){if(typeof t=="string")return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(t,e)}}function rY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iY(t){if(Array.isArray(t))return wy(t)}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oY(t,e){if(t==null)return{};var n=aY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){sY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sY(t,e,n){return e=lY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=uY(t,"string");return lu(e)=="symbol"?e:e+""}function uY(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}var cY=function(e){var n=e.value,r=e.formatter,i=be(e.children)?n:e.children;return me(r)?r(i):i},dY=function(e,n){var r=Ht(n-e),i=Math.min(Math.abs(n-e),360);return r*i},fY=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,b=(f+h)/2,x=dY(g,v),w=x>=0?1:-1,_,T;i==="insideStart"?(_=g+w*a,T=y):i==="insideEnd"?(_=v-w*a,T=!y):i==="end"&&(_=v+w*a,T=y),T=x<=0?T:!T;var S=Ve(u,d,b,_),E=Ve(u,d,b,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),N=be(e.id)?_s("recharts-radial-line-"):e.id;return j.createElement("text",uu({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:N,d:A})),j.createElement("textPath",{xlinkHref:"#".concat(N)},n))},hY=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=Ve(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=Ve(a,s,b,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},pY=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return gt(gt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return gt(gt({},T),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return gt(gt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var E={x:s+u+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return gt(gt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:u,height:d}:{};return o==="insideLeft"?gt({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideRight"?gt({x:s+u-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideTop"?gt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?gt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?gt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideTopRight"?gt({x:s+u-b,y:l+h,textAnchor:x,verticalAnchor:v},A):o==="insideBottomLeft"?gt({x:s+b,y:l+d-h,textAnchor:w,verticalAnchor:g},A):o==="insideBottomRight"?gt({x:s+u-b,y:l+d-h,textAnchor:x,verticalAnchor:g},A):vs(o)&&(Y(o.x)||io(o.x))&&(Y(o.y)||io(o.y))?gt({x:s+zt(o.x,u),y:l+zt(o.y,d),textAnchor:"end",verticalAnchor:"end"},A):gt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},mY=function(e){return"cx"in e&&Y(e.cx)};function Tt(t){var e=t.offset,n=e===void 0?5:e,r=oY(t,ZJ),i=gt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||be(s)&&be(l)&&!k.isValidElement(u)&&!me(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var g;if(me(u)){if(g=k.createElement(u,i),k.isValidElement(g))return g}else g=cY(i);var v=mY(o),y=le(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return fY(i,g,y);var b=v?hY(i):pY(i);return j.createElement(Eo,uu({className:Se("recharts-label",f)},y,b,{breakAll:h}),g)}Tt.displayName="Label";var t2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,v=e.left,y=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Y(y)&&Y(b)){if(Y(f)&&Y(h))return{x:f,y:h,width:y,height:b};if(Y(g)&&Y(v))return{x:g,y:v,width:y,height:b}}return Y(f)&&Y(h)?{x:f,y:h,width:0,height:0}:Y(n)&&Y(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},gY=function(e,n){return e?e===!0?j.createElement(Tt,{key:"label-implicit",viewBox:n}):wt(e)?j.createElement(Tt,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===Tt?k.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(Tt,{key:"label-implicit",content:e,viewBox:n}):me(e)?j.createElement(Tt,{key:"label-implicit",content:e,viewBox:n}):vs(e)?j.createElement(Tt,uu({viewBox:n},e,{key:"label-implicit"})):null:null},yY=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=t2(e),a=wn(i,Tt).map(function(l,u){return k.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=gY(e.label,n||o);return[s].concat(eY(a))};Tt.parseViewBox=t2;Tt.renderCallByParent=yY;function vY(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var xY=vY;const bY=Re(xY);function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var wY=["valueAccessor"],_Y=["data","dataKey","clockWise","id","textBreakAll"];function SY(t){return kY(t)||AY(t)||TY(t)||EY()}function EY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(t,e){if(t){if(typeof t=="string")return _y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _y(t,e)}}function AY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kY(t){if(Array.isArray(t))return _y(t)}function _y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){NY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=PY(t,"string");return cu(e)=="symbol"?e:e+""}function PY(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s1(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OY=function(e){return Array.isArray(e.value)?bY(e.value):e.value};function Lr(t){var e=t.valueAccessor,n=e===void 0?OY:e,r=s1(t,wY),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=s1(r,_Y);return!i||!i.length?null:j.createElement(Ne,{className:"recharts-label-list"},i.map(function(d,f){var h=be(o)?n(d,f):xt(d&&d.payload,o),g=be(s)?{}:{id:"".concat(s,"-").concat(f)};return j.createElement(Tt,vf({},le(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Tt.parseViewBox(be(a)?d:a1(a1({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Lr.displayName="LabelList";function jY(t,e){return t?t===!0?j.createElement(Lr,{key:"labelList-implicit",data:e}):j.isValidElement(t)||me(t)?j.createElement(Lr,{key:"labelList-implicit",data:e,content:t}):vs(t)?j.createElement(Lr,vf({data:e},t,{key:"labelList-implicit"})):null:null}function RY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=wn(r,Lr).map(function(a,s){return k.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=jY(t.label,e);return[o].concat(SY(i))}Lr.renderCallByParent=RY;function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=DY(t,"string");return du(e)=="symbol"?e:e+""}function DY(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LY=function(e,n){var r=Ht(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Pc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/yf,h=u?o:o+a*f,g=Ve(n,r,d,h),v=Ve(n,r,i,h),y=u?o-a*f:o,b=Ve(n,r,d*Math.cos(f*yf),y);return{center:g,circleTangency:v,lineTangency:b,theta:f}},n2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=LY(a,s),u=a+l,d=Ve(n,r,o,a),f=Ve(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Ve(n,r,i,a),v=Ve(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},UY=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ht(d-u),h=Pc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,b=Pc({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,_=b.theta,T=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):n2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=Pc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,N=E.lineTangency,C=E.theta,P=Pc({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=P.circleTangency,R=P.lineTangency,$=P.theta,M=l?Math.abs(u-d):Math.abs(u-d)-C-$;if(M<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},FY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r2=function(e){var n=u1(u1({},FY),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var g=Se("recharts-sector",h),v=a-o,y=zt(s,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=UY({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=n2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),j.createElement("path",Sy({},le(n,!0),{className:g,d:b,role:"img"}))};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=VY(t,"string");return fu(e)=="symbol"?e:e+""}function VY(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f1={curveBasisClosed:B5,curveBasisOpen:q5,curveBasis:F5,curveBumpX:A5,curveBumpY:k5,curveLinearClosed:V5,curveLinear:Dh,curveMonotoneX:G5,curveMonotoneY:H5,curveNatural:z5,curveStep:W5,curveStepAfter:J5,curveStepBefore:K5},Ic=function(e){return e.x===+e.x&&e.y===+e.y},Ws=function(e){return e.x},Ks=function(e){return e.y},GY=function(e,n){if(me(e))return e;var r="curve".concat(Mh(e));return(r==="curveMonotone"||r==="curveBump")&&n?f1["".concat(r).concat(n==="vertical"?"Y":"X")]:f1[r]||Dh},HY=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=GY(r,s),f=u?o.filter(function(y){return Ic(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return Ic(y)}):a,v=f.map(function(y,b){return d1(d1({},y),{},{base:g[b]})});return s==="vertical"?h=wc().y(Ks).x1(Ws).x0(function(y){return y.base.x}):h=wc().x(Ws).y1(Ks).y0(function(y){return y.base.y}),h.defined(Ic).curve(d),h(v)}return s==="vertical"&&Y(a)?h=wc().y(Ks).x1(Ws).x0(a):Y(a)?h=wc().x(Ws).y1(Ks).y0(a):h=XC().x(Ws).y(Ks),h.defined(Ic).curve(d),h(f)},xf=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?HY(e):i;return k.createElement("path",Ey({},le(e,!1),qd(e),{className:Se("recharts-curve",n),d:a,ref:o}))},i2={exports:{}},zY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WY=zY,KY=WY;function o2(){}function a2(){}a2.resetWarningCache=o2;var JY=function(){function t(r,i,o,a,s,l){if(l!==KY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a2,resetWarningCache:o2};return n.PropTypes=n,n};i2.exports=JY();var YY=i2.exports;const Oe=Re(YY),{getOwnPropertyNames:XY,getOwnPropertySymbols:QY}=Object,{hasOwnProperty:ZY}=Object.prototype;function vm(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Oc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function eX(t){return t!=null?t[Symbol.toStringTag]:void 0}function h1(t){return XY(t).concat(QY(t))}const tX=Object.hasOwn||((t,e)=>ZY.call(t,e));function $o(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const nX="__v",rX="__o",iX="_owner",{getOwnPropertyDescriptor:p1,keys:m1}=Object;function oX(t,e){return t.byteLength===e.byteLength&&bf(new Uint8Array(t),new Uint8Array(e))}function aX(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function sX(t,e){return t.byteLength===e.byteLength&&bf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function lX(t,e){return $o(t.getTime(),e.getTime())}function uX(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cX(t,e){return t===e}function g1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const dX=$o;function fX(t,e,n){const r=m1(t);let i=r.length;if(m1(e).length!==i)return!1;for(;i-- >0;)if(!s2(t,e,n,r[i]))return!1;return!0}function Js(t,e,n){const r=h1(t);let i=r.length;if(h1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!s2(t,e,n,o)||(a=p1(t,o),s=p1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function hX(t,e){return $o(t.valueOf(),e.valueOf())}function pX(t,e){return t.source===e.source&&t.flags===e.flags}function y1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mX(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function s2(t,e,n,r){return(r===iX||r===rX||r===nX)&&(t.$$typeof||e.$$typeof)?!0:tX(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const gX="[object ArrayBuffer]",yX="[object Arguments]",vX="[object Boolean]",xX="[object DataView]",bX="[object Date]",wX="[object Error]",_X="[object Map]",SX="[object Number]",EX="[object Object]",TX="[object RegExp]",AX="[object Set]",kX="[object String]",NX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},CX="[object URL]",PX=Object.prototype.toString;function IX({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(b,x,w){if(b===x)return!0;if(b==null||x==null)return!1;const _=typeof b;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?s(b,x,w):_==="function"?o(b,x,w):!1;const T=b.constructor;if(T!==x.constructor)return!1;if(T===Object)return l(b,x,w);if(Array.isArray(b))return e(b,x,w);if(T===Date)return r(b,x,w);if(T===RegExp)return d(b,x,w);if(T===Map)return a(b,x,w);if(T===Set)return f(b,x,w);const S=PX.call(b);if(S===bX)return r(b,x,w);if(S===TX)return d(b,x,w);if(S===_X)return a(b,x,w);if(S===AX)return f(b,x,w);if(S===EX)return typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,w);if(S===CX)return g(b,x,w);if(S===wX)return i(b,x,w);if(S===yX)return l(b,x,w);if(NX[S])return h(b,x,w);if(S===gX)return t(b,x,w);if(S===xX)return n(b,x,w);if(S===vX||S===SX||S===kX)return u(b,x,w);if(v){let E=v[S];if(!E){const A=eX(b);A&&(E=v[A])}if(E)return E(b,x,w)}return!1}}function OX({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:oX,areArraysEqual:n?Js:aX,areDataViewsEqual:sX,areDatesEqual:lX,areErrorsEqual:uX,areFunctionsEqual:cX,areMapsEqual:n?vm(g1,Js):g1,areNumbersEqual:dX,areObjectsEqual:n?Js:fX,arePrimitiveWrappersEqual:hX,areRegExpsEqual:pX,areSetsEqual:n?vm(y1,Js):y1,areTypedArraysEqual:n?vm(bf,Js):bf,areUrlsEqual:mX,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Oc(r.areArraysEqual),o=Oc(r.areMapsEqual),a=Oc(r.areObjectsEqual),s=Oc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function jX(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function RX({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const MX=$i();$i({strict:!0});$i({circular:!0});$i({circular:!0,strict:!0});$i({createInternalComparator:()=>$o});$i({strict:!0,createInternalComparator:()=>$o});$i({circular:!0,createInternalComparator:()=>$o});$i({circular:!0,createInternalComparator:()=>$o,strict:!0});function $i(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=OX(t),a=IX(o),s=n?n(a):jX(a);return RX({circular:e,comparator:a,createState:r,equals:s,strict:i})}function $X(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function v1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):$X(i)};requestAnimationFrame(r)}function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function DX(t){return BX(t)||FX(t)||UX(t)||LX()}function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(t,e){if(t){if(typeof t=="string")return x1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x1(t,e)}}function x1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BX(t){if(Array.isArray(t))return t}function qX(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=DX(a),l=s[0],u=s.slice(1);if(typeof l=="number"){v1(i.bind(null,u),l);return}i(l),v1(i.bind(null,u));return}Ty(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){l2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l2(t,e,n){return e=VX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t){var e=GX(t,"string");return hu(e)==="symbol"?e:String(e)}function GX(t,e){if(hu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HX=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},zX=function(e){return e},WX=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xl=function(e,n){return Object.keys(n).reduce(function(r,i){return w1(w1({},r),{},l2({},i,e(i,n[i])))},{})},_1=function(e,n,r){return e.map(function(i){return"".concat(WX(i)," ").concat(n,"ms ").concat(r)}).join(",")};function KX(t,e){return XX(t)||YX(t,e)||u2(t,e)||JX()}function JX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function XX(t){if(Array.isArray(t))return t}function QX(t){return tQ(t)||eQ(t)||u2(t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2(t,e){if(t){if(typeof t=="string")return Ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ay(t,e)}}function eQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tQ(t){if(Array.isArray(t))return Ay(t)}function Ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wf=1e-4,c2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},d2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},S1=function(e,n){return function(r){var i=c2(e,n);return d2(i,r)}},nQ=function(e,n){return function(r){var i=c2(e,n),o=[].concat(QX(i.map(function(a,s){return a*s}).slice(1)),[0]);return d2(o,r)}},E1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=KX(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=S1(i,a),h=S1(o,s),g=nQ(i,a),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,_=w,T=0;T<8;++T){var S=f(_)-w,E=g(_);if(Math.abs(S-w)<wf||E<wf)return h(_);_=v(_-S/E)}return h(_)};return y.isStepper=!1,y},rQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*r,v=h*o,y=h+(g-v)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<wf&&Math.abs(y)<wf?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},iQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return E1(i);case"spring":return rQ();default:if(i.split("(")[0]==="cubic-bezier")return E1(i)}return typeof i=="function"?i:null};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function T1(t){return sQ(t)||aQ(t)||f2(t)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sQ(t){if(Array.isArray(t))return Ny(t)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ky(t,e,n){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lQ(t){var e=uQ(t,"string");return pu(e)==="symbol"?e:String(e)}function uQ(t,e){if(pu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cQ(t,e){return hQ(t)||fQ(t,e)||f2(t,e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hQ(t){if(Array.isArray(t))return t}var _f=function(e,n,r){return e+(n-e)*r},Cy=function(e){var n=e.from,r=e.to;return n!==r},pQ=function t(e,n,r){var i=xl(function(o,a){if(Cy(a)){var s=e(a.from,a.to,a.velocity),l=cQ(s,2),u=l[0],d=l[1];return It(It({},a),{},{from:u,velocity:d})}return a},n);return r<1?xl(function(o,a){return Cy(a)?It(It({},a),{},{velocity:_f(a.velocity,i[o].velocity,r),from:_f(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const mQ=function(t,e,n,r,i){var o=HX(t,e),a=o.reduce(function(b,x){return It(It({},b),{},ky({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return It(It({},b),{},ky({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return xl(function(x,w){return w.from},s)},g=function(){return!Object.values(s).filter(Cy).length},v=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=pQ(n,s,_),i(It(It(It({},t),e),h())),u=x,g()||(l=requestAnimationFrame(f))},y=function(x){d||(d=x);var w=(x-d)/r,_=xl(function(S,E){return _f.apply(void 0,T1(E).concat([n(w)]))},a);if(i(It(It(It({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var T=xl(function(S,E){return _f.apply(void 0,T1(E).concat([n(1)]))},a);i(It(It(It({},t),e),T))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}var gQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yQ(t,e){if(t==null)return{};var n=vQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xm(t){return _Q(t)||wQ(t)||bQ(t)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){if(t){if(typeof t=="string")return Py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(t,e)}}function wQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Q(t){if(Array.isArray(t))return Py(t)}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h2(r.key),r)}}function TQ(t,e,n){return e&&EQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h2(t){var e=AQ(t,"string");return Ja(e)==="symbol"?e:String(e)}function AQ(t,e){if(Ja(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function NQ(t){var e=CQ();return function(){var r=Sf(t),i;if(e){var o=Sf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Oy(this,i)}}function Oy(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jy(t)}function jy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}var xr=function(t){kQ(n,t);var e=NQ(n);function n(r,i){var o;SQ(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(jy(o)),o.changeStyle=o.changeStyle.bind(jy(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Oy(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Oy(o);o.state={style:l?rl({},l,u):u}}else o.state={style:{}};return o}return TQ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?rl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(MX(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var b={style:l?rl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Gn(Gn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=mQ(a,s,iQ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,b,x){if(x===0)return y;var w=b.duration,_=b.easing,T=_===void 0?"ease":_,S=b.style,E=b.properties,A=b.onAnimationEnd,N=x>0?a[x-1]:b,C=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(xm(y),[o.runJSAnimation.bind(o,{from:N.style,to:S,duration:w,easing:T}),w]);var P=_1(C,w,T),I=Gn(Gn(Gn({},N.style),S),{},{transition:P});return[].concat(xm(y),[I,w,A]).filter(zX)};return this.manager.start([l].concat(xm(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qX());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?rl({},s,l):l,b=_1(Object.keys(y),a,u);v.start([d,o,Gn(Gn({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=yQ(i,gQ),u=k.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,x=v.className,w=k.cloneElement(g,Gn(Gn({},l),{},{style:Gn(Gn({},b),d),className:x}));return w};return u===1?f(k.Children.only(o)):j.createElement("div",null,k.Children.map(o,function(h){return f(h)}))}}]),n}(k.PureComponent);xr.displayName="Animate";xr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xr.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function PQ(t,e){return RQ(t)||jQ(t,e)||OQ(t,e)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return N1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N1(t,e)}}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RQ(t){if(Array.isArray(t))return t}function C1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=DQ(t,"string");return mu(e)=="symbol"?e:e+""}function DQ(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},LQ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},UQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jx=function(e){var n=P1(P1({},UQ),e),r=k.useRef(),i=k.useState(-1),o=PQ(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=Se("recharts-rectangle",g);return w?j.createElement(xr,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(T){var S=T.width,E=T.height,A=T.x,N=T.y;return j.createElement(xr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:v},j.createElement("path",Ef({},le(n,!0),{className:_,d:I1(A,N,S,E,h),ref:r})))}):j.createElement("path",Ef({},le(n,!0),{className:_,d:I1(l,u,d,f,h)}))},FQ=["points","className","baseLinePoints","connectNulls"];function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(this,arguments)}function BQ(t,e){if(t==null)return{};var n=qQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O1(t){return zQ(t)||HQ(t)||GQ(t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function HQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zQ(t){if(Array.isArray(t))return Ry(t)}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j1=function(e){return e&&e.x===+e.x&&e.y===+e.y},WQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){j1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),j1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},bl=function(e,n){var r=WQ(e);n&&(r=[r.reduce(function(o,a){return[].concat(O1(o),O1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},KQ=function(e,n,r){var i=bl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(bl(n.reverse(),r).slice(1))},JQ=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=BQ(e,FQ);if(!n||!n.length)return null;var s=Se("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=KQ(n,i,o);return j.createElement("g",{className:s},j.createElement("path",ha({},le(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?j.createElement("path",ha({},le(a,!0),{fill:"none",d:bl(n,o)})):null,l?j.createElement("path",ha({},le(a,!0),{fill:"none",d:bl(i,o)})):null)}var d=bl(n,o);return j.createElement("path",ha({},le(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}var Zh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Se("recharts-dot",o);return n===+n&&r===+r&&i===+i?k.createElement("circle",My({},le(e,!1),qd(e),{className:a,cx:n,cy:r,r:i})):null};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}var YQ=["x","y","top","left","width","height","className"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return e=ZQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=eZ(t,"string");return gu(e)=="symbol"?e:e+""}function eZ(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t,e){if(t==null)return{};var n=nZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rZ=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},iZ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,v=e.className,y=tZ(e,YQ),b=XQ({x:r,y:o,top:s,left:u,width:f,height:g},y);return!Y(r)||!Y(o)||!Y(f)||!Y(g)||!Y(s)||!Y(u)?null:j.createElement("path",$y({},le(b,!0),{className:Se("recharts-cross",v),d:rZ(r,o,f,g,s,u)}))},oZ=Kh,aZ=TI,sZ=Sr;function lZ(t,e){return t&&t.length?oZ(t,sZ(e),aZ):void 0}var uZ=lZ;const cZ=Re(uZ);var dZ=Kh,fZ=Sr,hZ=AI;function pZ(t,e){return t&&t.length?dZ(t,fZ(e),hZ):void 0}var mZ=pZ;const gZ=Re(mZ);var yZ=["cx","cy","angle","ticks","axisLine"],vZ=["ticks","tick","angle","tickFormatter","stroke"];function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1(t,e){if(t==null)return{};var n=xZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function wZ(t,e,n){return e&&D1(t.prototype,e),n&&D1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Z(t,e,n){return e=Tf(e),SZ(t,p2()?Reflect.construct(e,n||[],Tf(t).constructor):e.apply(t,n))}function SZ(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EZ(t)}function EZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(t)}function TZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function ep(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=AZ(t,"string");return Ya(e)=="symbol"?e:e+""}function AZ(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=function(t){function e(){return bZ(this,e),_Z(this,e,arguments)}return TZ(e,t),wZ(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ve(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=cZ(s,function(d){return d.coordinate||0}),u=gZ(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=$1(r,yZ),d=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Ve(i,o,d[0],a),h=Ve(i,o,d[1],a),g=Bi(Bi(Bi({},le(u,!1)),{},{fill:"none"},le(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return j.createElement("line",wl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=$1(i,vZ),f=this.getTickTextAnchor(),h=le(d,!1),g=le(a,!1),v=o.map(function(y,b){var x=r.getTickValueCoord(y),w=Bi(Bi(Bi(Bi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:b},x),{},{payload:y});return j.createElement(Ne,wl({className:Se("recharts-polar-radius-axis-tick",e2(a)),key:"tick-".concat(y.coordinate)},So(r.props,y,b)),e.renderTickItem(a,w,l?l(y.value,b):y.value))});return j.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:j.createElement(Ne,{className:Se("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Tt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):me(r)?a=r(i):a=j.createElement(Eo,wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(k.PureComponent);ep(tp,"displayName","PolarRadiusAxis");ep(tp,"axisType","radiusAxis");ep(tp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qi.apply(this,arguments)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y2(r.key),r)}}function NZ(t,e,n){return e&&U1(t.prototype,e),n&&U1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CZ(t,e,n){return e=Af(e),PZ(t,g2()?Reflect.construct(e,n||[],Af(t).constructor):e.apply(t,n))}function PZ(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IZ(t)}function IZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(t)}function OZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(t,e)}function np(t,e,n){return e=y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y2(t){var e=jZ(t,"string");return Xa(e)=="symbol"?e:e+""}function jZ(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RZ=Math.PI/180,F1=1e-5,rp=function(t){function e(){return kZ(this,e),CZ(this,e,arguments)}return OZ(e,t),NZ(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Ve(o,a,s,r.coordinate),h=Ve(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*RZ),a;return o>F1?a=i==="outer"?"start":"end":o<-F1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=qi(qi({},le(this.props,!1)),{},{fill:"none"},le(s,!1));if(l==="circle")return j.createElement(Zh,Qi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return Ve(i,o,a,h.coordinate)});return j.createElement(JQ,Qi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=le(this.props,!1),f=le(a,!1),h=qi(qi({},d),{},{fill:"none"},le(s,!1)),g=o.map(function(v,y){var b=r.getTickLineCoord(v),x=r.getTickTextAnchor(v),w=qi(qi(qi({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:b.x2,y:b.y2});return j.createElement(Ne,Qi({className:Se("recharts-polar-angle-axis-tick",e2(a)),key:"tick-".concat(v.coordinate)},So(r.props,v,y)),s&&j.createElement("line",Qi({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,w,l?l(v.value,y):v.value))});return j.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:j.createElement(Ne,{className:Se("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):me(r)?a=r(i):a=j.createElement(Eo,Qi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(k.PureComponent);np(rp,"displayName","PolarAngleAxis");np(rp,"axisType","angleAxis");np(rp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var MZ=wP,$Z=MZ(Object.getPrototypeOf,Object),DZ=$Z,LZ=Kr,UZ=DZ,FZ=Jr,BZ="[object Object]",qZ=Function.prototype,VZ=Object.prototype,v2=qZ.toString,GZ=VZ.hasOwnProperty,HZ=v2.call(Object);function zZ(t){if(!FZ(t)||LZ(t)!=BZ)return!1;var e=UZ(t);if(e===null)return!0;var n=GZ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&v2.call(n)==HZ}var WZ=zZ;const KZ=Re(WZ);var JZ=Kr,YZ=Jr,XZ="[object Boolean]";function QZ(t){return t===!0||t===!1||YZ(t)&&JZ(t)==XZ}var ZZ=QZ;const eee=Re(ZZ);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}function tee(t,e){return oee(t)||iee(t,e)||ree(t,e)||nee()}function nee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(t,e){if(t){if(typeof t=="string")return B1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B1(t,e)}}function B1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oee(t){if(Array.isArray(t))return t}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aee(t,e,n){return e=see(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=lee(t,"string");return yu(e)=="symbol"?e:e+""}function lee(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},uee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cee=function(e){var n=V1(V1({},uee),e),r=k.useRef(),i=k.useState(-1),o=tee(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Se("recharts-trapezoid",g);return x?j.createElement(xr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,N=_.y;return j.createElement(xr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},j.createElement("path",kf({},le(n,!0),{className:w,d:G1(A,N,T,S,E),ref:r})))}):j.createElement("g",null,j.createElement("path",kf({},le(n,!0),{className:w,d:G1(l,u,d,f,h)})))},dee=["option","shapeType","propTransformer","activeClassName","isActive"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function fee(t,e){if(t==null)return{};var n=hee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return e=mee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=gee(t,"string");return vu(e)=="symbol"?e:e+""}function gee(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yee(t,e){return Nf(Nf({},e),t)}function vee(t,e){return t==="symbols"}function z1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(jx,n);case"trapezoid":return j.createElement(cee,n);case"sector":return j.createElement(r2,n);case"symbols":if(vee(e))return j.createElement(Q0,n);break;default:return null}}function xee(t){return k.isValidElement(t)?t.props:t}function x2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?yee:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=fee(t,dee),u;if(k.isValidElement(e))u=k.cloneElement(e,Nf(Nf({},l),xee(e)));else if(me(e))u=e(l);else if(KZ(e)&&!eee(e)){var d=i(e,l);u=j.createElement(z1,{shapeType:n,elementProps:d})}else{var f=l;u=j.createElement(z1,{shapeType:n,elementProps:f})}return s?j.createElement(Ne,{className:a},u):u}function ip(t,e){return e!=null&&"trapezoids"in t.props}function op(t,e){return e!=null&&"sectors"in t.props}function xu(t,e){return e!=null&&"points"in t.props}function bee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function wee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function _ee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function See(t,e){var n;return ip(t,e)?n=bee:op(t,e)?n=wee:xu(t,e)&&(n=_ee),n}function Eee(t,e){var n;return ip(t,e)?n="trapezoids":op(t,e)?n="sectors":xu(t,e)&&(n="points"),n}function Tee(t,e){if(ip(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(op(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xu(t,e)?e.payload:{}}function Aee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Eee(n,e),o=Tee(n,e),a=r.filter(function(l,u){var d=Yu(o,l),f=n.props[i].filter(function(v){var y=See(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),s=r.indexOf(a[a.length-1]);return s}var rd;function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(this,arguments)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function Nee(t,e,n){return e&&K1(t.prototype,e),n&&K1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cee(t,e,n){return e=Cf(e),Pee(t,b2()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function Pee(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iee(t)}function Iee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function Oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uy(t,e)}function Pn(t,e,n){return e=w2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t){var e=jee(t,"string");return Qa(e)=="symbol"?e:e+""}function jee(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var br=function(t){function e(n){var r;return kee(this,e),r=Cee(this,e,[n]),Pn(r,"pieRef",null),Pn(r,"sectorRefs",[]),Pn(r,"id",_s("recharts-pie-")),Pn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),me(i)&&i()}),Pn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),me(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Oee(e,t),Nee(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,d=le(this.props,!1),f=le(a,!1),h=le(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,b){var x=(y.startAngle+y.endAngle)/2,w=Ve(y.cx,y.cy,y.outerRadius+g,x),_=Fe(Fe(Fe(Fe({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(w.x,y.cx)},w),T=Fe(Fe(Fe(Fe({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Ve(y.cx,y.cy,y.outerRadius,x),w]}),S=l;return be(l)&&be(u)?S="value":be(l)&&(S=u),j.createElement(Ne,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,xt(y,S)))});return j.createElement(Ne,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,v=Fe(Fe({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return j.createElement(Ne,pa({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},So(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),j.createElement(x2,pa({option:g,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return j.createElement(xr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],x=o&&o[0],w=x.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?bn(_,"paddingAngle",0):0;if(S){var A=fn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),N=Fe(Fe({},_),{},{startAngle:w+E,endAngle:w+A(y)+E});b.push(N),w=N.endAngle}else{var C=_.endAngle,P=_.startAngle,I=fn(0,C-P),R=I(y),$=Fe(Fe({},_),{},{startAngle:w+E,endAngle:w+R+E});b.push($),w=$.endAngle}}),j.createElement(Ne,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Yu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Y(u)||!Y(d)||!Y(f)||!Y(h))return null;var y=Se("recharts-pie",s);return j.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),Tt.renderCallByParent(this.props,null,!1),(!g||v)&&Lr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);if(me(r))return r(i);var a=Se("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return j.createElement(xf,pa({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);var a=o;if(me(r)&&(a=r(i),j.isValidElement(a)))return a;var s=Se("recharts-pie-label-text",typeof r!="boolean"&&!me(r)?r.className:"");return j.createElement(Eo,pa({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(k.PureComponent);rd=br;Pn(br,"displayName","Pie");Pn(br,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pn(br,"parseDeltaAngle",function(t,e){var n=Ht(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Pn(br,"getRealPieData",function(t){var e=t.data,n=t.children,r=le(t,!1),i=wn(n,Jl);return e&&e.length?e.map(function(o,a){return Fe(Fe(Fe({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Fe(Fe({},r),o.props)}):[]});Pn(br,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=ZI(i,o),s=r+zt(t.cx,i,i/2),l=n+zt(t.cy,o,o/2),u=zt(t.innerRadius,a,0),d=zt(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Pn(br,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Fe(Fe({},e.type.defaultProps),e.props):e.props,i=rd.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=rd.parseCoordinateOfPie(r,n),y=rd.parseDeltaAngle(a,s),b=Math.abs(y),x=u;be(u)&&be(f)?(nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):be(u)&&(nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=i.filter(function(N){return xt(N,x,0)!==0}).length,_=(b>=360?w:w-1)*l,T=b-w*g-_,S=i.reduce(function(N,C){var P=xt(C,x,0);return N+(Y(P)?P:0)},0),E;if(S>0){var A;E=i.map(function(N,C){var P=xt(N,x,0),I=xt(N,d,C),R=(Y(P)?P:0)/S,$;C?$=A.endAngle+Ht(y)*l*(P!==0?1:0):$=a;var M=$+Ht(y)*((P!==0?g:0)+R*T),O=($+M)/2,D=(v.innerRadius+v.outerRadius)/2,B=[{name:I,value:P,payload:N,dataKey:x,type:h}],L=Ve(v.cx,v.cy,D,O);return A=Fe(Fe(Fe({percent:R,cornerRadius:o,name:I,tooltipPayload:B,midAngle:O,middleRadius:D,tooltipPosition:L},N),v),{},{value:xt(N,x),startAngle:$,endAngle:M,payload:N,paddingAngle:Ht(y)*l}),A})}return Fe(Fe({},v),{},{sectors:E,data:i})});var Ree=Math.ceil,Mee=Math.max;function $ee(t,e,n,r){for(var i=-1,o=Mee(Ree((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Dee=$ee,Lee=FP,J1=1/0,Uee=17976931348623157e292;function Fee(t){if(!t)return t===0?t:0;if(t=Lee(t),t===J1||t===-J1){var e=t<0?-1:1;return e*Uee}return t===t?t:0}var _2=Fee,Bee=Dee,qee=Bh,bm=_2;function Vee(t){return function(e,n,r){return r&&typeof r!="number"&&qee(e,n,r)&&(n=r=void 0),e=bm(e),n===void 0?(n=e,e=0):n=bm(n),r=r===void 0?e<n?1:-1:bm(r),Bee(e,n,r,t)}}var Gee=Vee,Hee=Gee,zee=Hee(),Wee=zee;const Pf=Re(Wee);function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S2(t,e,n){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Jee(t,"string");return bu(e)=="symbol"?e:e+""}function Jee(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yee=["Webkit","Moz","O","ms"],Xee=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Yee.reduce(function(o,a){return X1(X1({},o),{},S2({},a+r,n))},{});return i[e]=n,i};function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T2(r.key),r)}}function Zee(t,e,n){return e&&Z1(t.prototype,e),n&&Z1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ete(t,e,n){return e=Of(e),tte(t,E2()?Reflect.construct(e,n||[],Of(t).constructor):e.apply(t,n))}function tte(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nte(t)}function nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(t)}function rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fy(t,e)}function un(t,e,n){return e=T2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t){var e=ite(t,"string");return Za(e)=="symbol"?e:e+""}function ite(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ote=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=yl().domain(Pf(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},eE=function(e){return e.changedTouches&&!!e.changedTouches.length},es=function(t){function e(n){var r;return Qee(this,e),r=ete(this,e,[n]),un(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),un(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),un(r,"handleSlideDragStart",function(i){var o=eE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rte(e,t),Zee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=xt(o[r],s,r);return me(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+d-f-s,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==g)&&v&&v(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=eE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),T=_.startIndex,S=_.endIndex,E=function(){var N=b.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===N||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===N};this.setState(un(un({},a,u+w),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(un({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=k.Children.only(u);return f?j.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),w=wm(wm({},le(this.props,!1)),{},{x,y:u,width:d,height:f}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return j.createElement(Ne,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return j.createElement(Ne,{className:"recharts-brush-texts"},j.createElement(Eo,If({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},v),this.getTextOfTick(i)),j.createElement(Eo,If({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(l)||!Y(u)||!Y(d)||u<=0||d<=0)return null;var _=Se("recharts-brush",o),T=j.Children.count(a)===1,S=Xee("userSelect","none");return j.createElement(Ne,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):me(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return wm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?ote({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(k.PureComponent);un(es,"displayName","Brush");un(es,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ate=ox;function ste(t,e){var n;return ate(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var lte=ste,ute=hP,cte=Sr,dte=lte,fte=an,hte=Bh;function pte(t,e,n){var r=fte(t)?ute:dte;return n&&hte(t,e,n)&&(e=void 0),r(t,cte(e))}var mte=pte;const gte=Re(mte);var gr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},tE=MP;function yte(t,e,n){e=="__proto__"&&tE?tE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vte=yte,xte=vte,bte=jP,wte=Sr;function _te(t,e){var n={};return e=wte(e),bte(t,function(r,i,o){xte(n,i,e(r,i,o))}),n}var Ste=_te;const Ete=Re(Ste);function Tte(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Ate=Tte,kte=ox;function Nte(t,e){var n=!0;return kte(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Cte=Nte,Pte=Ate,Ite=Cte,Ote=Sr,jte=an,Rte=Bh;function Mte(t,e,n){var r=jte(t)?Pte:Ite;return n&&Rte(t,e,n)&&(e=void 0),r(t,Ote(e))}var $te=Mte;const A2=Re($te);var Dte=["x","y"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Fte(t,"string");return wu(e)=="symbol"?e:e+""}function Fte(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bte(t,e){if(t==null)return{};var n=qte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vte(t,e){var n=t.x,r=t.y,i=Bte(t,Dte),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ys(Ys(Ys(Ys(Ys({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function rE(t){return j.createElement(x2,By({shapeType:"rectangle",propTransformer:Vte,activeClassName:"recharts-active-bar"},t))}var Gte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Y(r)||d3(r);return o?e(r,i):(o||Ao(),n)}},Hte=["value","background"],k2;function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function zte(t,e){if(t==null)return{};var n=Wte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function Jte(t,e,n){return e&&oE(t.prototype,e),n&&oE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yte(t,e,n){return e=Rf(e),Xte(t,N2()?Reflect.construct(e,n||[],Rf(t).constructor):e.apply(t,n))}function Xte(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(t)}function Qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(t)}function Zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qy(t,e)}function qy(t,e){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qy(t,e)}function pi(t,e,n){return e=C2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C2(t){var e=ene(t,"string");return ts(e)=="symbol"?e:e+""}function ene(t,e){if(ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=function(t){function e(){var n;Kte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Yte(this,e,[].concat(i)),pi(n,"state",{isAnimationFinished:!1}),pi(n,"id",_s("recharts-bar-")),pi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),pi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Zte(e,t),Jte(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=le(this.props,!1);return r&&r.map(function(f,h){var g=h===l,v=g?u:a,y=ct(ct(ct({},d),f),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(Ne,jf({className:"recharts-bar-rectangle"},So(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),j.createElement(rE,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return j.createElement(xr,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(b,x){var w=h&&h[x];if(w){var _=fn(w.x,b.x),T=fn(w.y,b.y),S=fn(w.width,b.width),E=fn(w.height,b.height);return ct(ct({},b),{},{x:_(v),y:T(v),width:S(v),height:E(v)})}if(a==="horizontal"){var A=fn(0,b.height),N=A(v);return ct(ct({},b),{},{y:b.y+b.height-N,height:N})}var C=fn(0,b.width),P=C(v);return ct(ct({},b),{},{width:P})});return j.createElement(Ne,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Yu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=le(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=zte(u,Hte);if(!f)return null;var g=ct(ct(ct(ct(ct({},h),{},{fill:"#eee"},f),l),So(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return j.createElement(rE,jf({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=wn(d,Xu);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:xt(b,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Ne,v,f.map(function(y){return j.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=Se("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=w||_,S=be(y)?this.id:y;return j.createElement(Ne,{className:x},w||_?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:w?u:u-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,j.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||b)&&Lr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);k2=wr;pi(wr,"displayName","Bar");pi(wr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pi(wr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=PJ(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?ct(ct({},y),n.props):n.props,x=b.dataKey,w=b.children,_=b.minPointSize,T=v==="horizontal"?a:o,S=u?T.scale.domain():null,E=DJ({numericAxis:T}),A=wn(w,Jl),N=f.map(function(C,P){var I,R,$,M,O,D;u?I=IJ(u[d+P],S):(I=xt(C,x),Array.isArray(I)||(I=[E,I]));var B=Gte(_,k2.defaultProps.minPointSize)(I[1],P);if(v==="horizontal"){var L,V=[a.scale(I[0]),a.scale(I[1])],H=V[0],J=V[1];R=XS({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:P}),$=(L=J??H)!==null&&L!==void 0?L:void 0,M=g.size;var z=H-J;if(O=Number.isNaN(z)?0:z,D={x:R,y:a.y,width:M,height:a.height},Math.abs(B)>0&&Math.abs(O)<Math.abs(B)){var ne=Ht(O||B)*(Math.abs(B)-Math.abs(O));$-=ne,O+=ne}}else{var we=[o.scale(I[0]),o.scale(I[1])],Ee=we[0],Ae=we[1];if(R=Ee,$=XS({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:P}),M=Ae-Ee,O=g.size,D={x:o.x,y:$,width:o.width,height:O},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var Ye=Ht(M||B)*(Math.abs(B)-Math.abs(M));M+=Ye}}return ct(ct(ct({},C),{},{x:R,y:$,width:M,height:O,value:u?I:I[1],payload:C,background:D},A&&A[P]&&A[P].props),{},{tooltipPayload:[XI(n,C)],tooltipPosition:{x:R+M/2,y:$+O/2}})});return ct({data:N,layout:v},h)});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function nne(t,e,n){return e&&aE(t.prototype,e),n&&aE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ap(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=rne(t,"string");return _u(e)=="symbol"?e:e+""}function rne(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!dn(u,wr);return d.reduce(function(g,v){var y=n[v],b=y.orientation,x=y.domain,w=y.padding,_=w===void 0?{}:w,T=y.mirror,S=y.reversed,E="".concat(b).concat(T?"Mirror":""),A,N,C,P,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=x[1]-x[0],$=1/0,M=y.categoricalDomain.sort(p3);if(M.forEach(function(we,Ee){Ee>0&&($=Math.min((we||0)-(M[Ee-1]||0),$))}),Number.isFinite($)){var O=$/R,D=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=O*D/2),y.padding==="no-gap"){var B=zt(e.barCategoryGap,O*D),L=O*D/2;A=L-B-(L-B)/D*B}}}i==="xAxis"?N=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:N=y.range,S&&(N=[N[1],N[0]]);var V=WI(y,o,h),H=V.scale,J=V.realScaleType;H.domain(x).range(N),KI(H);var z=JI(H,Jn(Jn({},y),{},{realScaleType:J}));i==="xAxis"?(I=b==="top"&&!T||b==="bottom"&&T,C=r.left,P=f[E]-I*y.height):i==="yAxis"&&(I=b==="left"&&!T||b==="right"&&T,C=f[E]-I*y.width,P=r.top);var ne=Jn(Jn(Jn({},y),z),{},{realScaleType:J,x:C,y:P,scale:H,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ne.bandSize=gf(ne,z),!y.hide&&i==="xAxis"?f[E]+=(I?-1:1)*ne.height:y.hide||(f[E]+=(I?-1:1)*ne.width),Jn(Jn({},g),{},ap({},v,ne))},{})},O2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},ine=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return O2({x:n,y:r},{x:i,y:o})},j2=function(){function t(e){tne(this,t),this.scale=e}return nne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ap(j2,"EPS",1e-4);var Rx=function(e){var n=Object.keys(e).reduce(function(r,i){return Jn(Jn({},r),{},ap({},i,j2.create(e[i])))},{});return Jn(Jn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ete(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return A2(i,function(o,a){return n[a].isInRange(o)})}})};function one(t){return(t%180+180)%180}var ane=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=one(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},sne=Sr,lne=Hu,une=Uh;function cne(t){return function(e,n,r){var i=Object(e);if(!lne(e)){var o=sne(n);e=une(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var dne=cne,fne=_2;function hne(t){var e=fne(t),n=e%1;return e===e?n?e-n:e:0}var pne=hne,mne=kP,gne=Sr,yne=pne,vne=Math.max;function xne(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:yne(n);return i<0&&(i=vne(r+i,0)),mne(t,gne(e),i)}var bne=xne,wne=dne,_ne=bne,Sne=wne(_ne),Ene=Sne;const Tne=Re(Ene);var Ane=y4(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Mx=k.createContext(void 0),$x=k.createContext(void 0),R2=k.createContext(void 0),M2=k.createContext({}),$2=k.createContext(void 0),D2=k.createContext(0),L2=k.createContext(0),lE=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Ane(o);return j.createElement(Mx.Provider,{value:r},j.createElement($x.Provider,{value:i},j.createElement(M2.Provider,{value:o},j.createElement(R2.Provider,{value:d},j.createElement($2.Provider,{value:a},j.createElement(D2.Provider,{value:u},j.createElement(L2.Provider,{value:l},s)))))))},kne=function(){return k.useContext($2)},U2=function(e){var n=k.useContext(Mx);n==null&&Ao();var r=n[e];return r==null&&Ao(),r},Nne=function(){var e=k.useContext(Mx);return ui(e)},Cne=function(){var e=k.useContext($x),n=Tne(e,function(r){return A2(r.domain,Number.isFinite)});return n||ui(e)},F2=function(e){var n=k.useContext($x);n==null&&Ao();var r=n[e];return r==null&&Ao(),r},Pne=function(){var e=k.useContext(R2);return e},Ine=function(){return k.useContext(M2)},Dx=function(){return k.useContext(L2)},Lx=function(){return k.useContext(D2)};function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function One(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function Rne(t,e,n){return e&&jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mne(t,e,n){return e=Mf(e),$ne(t,B2()?Reflect.construct(e,n||[],Mf(t).constructor):e.apply(t,n))}function $ne(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!t})()}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(t)}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ux(t,e,n){return e=q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2(t){var e=Une(t,"string");return ns(e)=="symbol"?e:e+""}function Une(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fne(t,e){return Gne(t)||Vne(t,e)||qne(t,e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gne(t){if(Array.isArray(t))return t}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}var Hne=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):me(e)?r=e(n):r=j.createElement("line",Gy({},n,{className:"recharts-reference-line-line"})),r},zne=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(gr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return l==="left"?b.reverse():b}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(gr(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+g},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return gr(u,"discard")&&gte(S,function(E){return!e.isInRange(E)})?null:S}return null};function Wne(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=kne(),d=U2(i),f=F2(o),h=Pne();if(!u||!h)return null;nr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Rx({x:d.scale,y:f.scale}),v=wt(e),y=wt(n),b=r&&r.length===2,x=zne(g,v,y,b,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=Fne(x,2),_=w[0],T=_.x,S=_.y,E=w[1],A=E.x,N=E.y,C=gr(t,"hidden")?"url(#".concat(u,")"):void 0,P=cE(cE({clipPath:C},le(t,!0)),{},{x1:T,y1:S,x2:A,y2:N});return j.createElement(Ne,{className:Se("recharts-reference-line",s)},Hne(a,P),Tt.renderCallByParent(t,ine({x1:T,y1:S,x2:A,y2:N})))}var Fx=function(t){function e(){return One(this,e),Mne(this,e,arguments)}return Lne(e,t),Rne(e,[{key:"render",value:function(){return j.createElement(Wne,this.props)}}])}(j.Component);Ux(Fx,"displayName","ReferenceLine");Ux(Fx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G2(r.key),r)}}function Yne(t,e,n){return e&&Jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xne(t,e,n){return e=$f(e),Qne(t,V2()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function Qne(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zne(t)}function Zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function ere(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}function zy(t,e){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zy(t,e)}function sp(t,e,n){return e=G2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G2(t){var e=tre(t,"string");return rs(e)=="symbol"?e:e+""}function tre(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nre=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Rx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return gr(e,"discard")&&!a.isInRange(s)?null:s},lp=function(t){function e(){return Kne(this,e),Xne(this,e,arguments)}return ere(e,t),Yne(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=wt(i),d=wt(o);if(nr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=nre(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,y=v.shape,b=v.className,x=gr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=hE(hE({clipPath:x},le(this.props,!0)),{},{cx:h,cy:g});return j.createElement(Ne,{className:Se("recharts-reference-dot",b)},e.renderDot(y,w),Tt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(j.Component);sp(lp,"displayName","ReferenceDot");sp(lp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sp(lp,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):me(t)?n=t(e):n=j.createElement(Zh,Hy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ire(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z2(r.key),r)}}function ore(t,e,n){return e&&ire(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function are(t,e,n){return e=Df(e),sre(t,H2()?Reflect.construct(e,n||[],Df(t).constructor):e.apply(t,n))}function sre(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(t)}function lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function up(t,e,n){return e=z2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z2(t){var e=cre(t,"string");return is(e)=="symbol"?e:e+""}function cre(t,e){if(is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dre=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Rx({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:O2(g,v)},cp=function(t){function e(){return rre(this,e),are(this,e,arguments)}return ure(e,t),ore(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;nr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wt(i),h=wt(o),g=wt(a),v=wt(s),y=this.props.shape;if(!f&&!h&&!g&&!v&&!y)return null;var b=dre(f,h,g,v,this.props);if(!b&&!y)return null;var x=gr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return j.createElement(Ne,{className:Se("recharts-reference-area",l)},e.renderRect(y,mE(mE({clipPath:x},le(this.props,!0)),b)),Tt.renderCallByParent(this.props,b))}}])}(j.Component);up(cp,"displayName","ReferenceArea");up(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});up(cp,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):me(t)?n=t(e):n=j.createElement(jx,Wy({},e,{className:"recharts-reference-area-rect"})),n});function W2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ane(r,n)}function hre(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Lf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function pre(t,e){return W2(t,e+1)}function mre(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:W2(r,u)};var y=l,b,x=function(){return b===void 0&&(b=n(v,y)),b},w=v.coordinate,_=l===0||Lf(t,w,x,d,s);_||(l=0,d=a,u+=1),_&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return e=yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return Su(e)=="symbol"?e:e+""}function vre(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xre(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var b=t*(g.coordinate+t*y()/2-l);o[h]=g=Dt(Dt({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=Dt(Dt({},g),{},{tickCoord:g.coordinate});var x=Lf(t,g.tickCoord,y,s,l);x&&(l=g.tickCoord-t*(y()/2+i),o[h]=Dt(Dt({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function bre(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=Dt(Dt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=Lf(t,d.tickCoord,function(){return f},l,u);g&&(u=d.tickCoord-t*(f/2+i),a[s-1]=Dt(Dt({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(w){var _=a[w],T,S=function(){return T===void 0&&(T=n(_,w)),T};if(w===0){var E=t*(_.coordinate-t*S()/2-l);a[w]=_=Dt(Dt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[w]=_=Dt(Dt({},_),{},{tickCoord:_.coordinate});var A=Lf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[w]=Dt(Dt({},_),{},{isShow:!0}))},b=0;b<v;b++)y(b);return a}function Bx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Y(l)||jo.isSsr)return pre(i,typeof l=="number"&&Y(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=d&&g==="width"?gl(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,T){var S=me(u)?u(_.value,T):_.value;return g==="width"?fre(gl(S,{fontSize:e,letterSpacing:n}),v,f):gl(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Ht(i[1].coordinate-i[0].coordinate):1,x=hre(o,b,g);return l==="equidistantPreserveStart"?mre(b,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=bre(b,x,y,i,a,l==="preserveStartEnd"):h=xre(b,x,y,i,a),h.filter(function(w){return w.isShow}))}var wre=["viewBox"],_re=["viewBox"],Sre=["ticks"];function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function yE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _m(t,e){if(t==null)return{};var n=Ere(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J2(r.key),r)}}function Are(t,e,n){return e&&vE(t.prototype,e),n&&vE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t,e,n){return e=Uf(e),Nre(t,K2()?Reflect.construct(e,n||[],Uf(t).constructor):e.apply(t,n))}function Nre(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cre(t)}function Cre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(t)}function Pre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jy(t,e)}function Jy(t,e){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jy(t,e)}function qx(t,e,n){return e=J2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J2(t){var e=Ire(t,"string");return os(e)=="symbol"?e:e+""}function Ire(t,e){if(os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cs=function(t){function e(n){var r;return Tre(this,e),r=kre(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Pre(e,t),Are(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=_m(r,wre),s=this.props,l=s.viewBox,u=_m(s,_re);return!Aa(o,l)||!Aa(a,u)||!Aa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,v,y,b,x,w,_=f?-1:1,T=r.tickSize||d,S=Y(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=a+ +!f*l,y=b-_*T,w=y-_*h,x=S;break;case"left":y=b=r.coordinate,v=o+ +!f*s,g=v-_*T,x=g-_*h,w=S;break;case"right":y=b=r.coordinate,v=o+ +f*s,g=v+_*T,x=g+_*h,w=S;break;default:g=v=r.coordinate,b=a+ +f*l,y=b+_*T,w=y+_*h,x=S;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=mt(mt(mt({},le(this.props,!1)),le(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=mt(mt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=mt(mt({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return j.createElement("line",ma({},f,{className:Se("recharts-cartesian-axis-line",bn(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=Bx(mt(mt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=le(this.props,!1),x=le(d,!1),w=mt(mt({},b),{},{fill:"none"},le(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,N=E.tick,C=mt(mt(mt(mt({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),N),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:f});return j.createElement(Ne,ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},So(a.props,T,S)),l&&j.createElement("line",ma({},w,A,{className:Se("recharts-cartesian-axis-tick-line",bn(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(me(f)?f(T.value,S):T.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=_m(f,Sre),v=h;return me(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:j.createElement(Ne,{className:Se("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Tt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Se(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?a=j.cloneElement(r,mt(mt({},i),{},{className:s})):me(r)?a=r(mt(mt({},i),{},{className:s})):a=j.createElement(Eo,ma({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(k.Component);qx(Cs,"displayName","CartesianAxis");qx(Cs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ore=["x1","y1","x2","y2","key"],jre=["offset"];function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(r){Rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rre(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=$re(t,"string");return ko(e)=="symbol"?e:e+""}function $re(t,e){if(ko(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ko(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function so(){return so=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},so.apply(this,arguments)}function bE(t,e){if(t==null)return{};var n=Dre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Lre=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Y2(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(me(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=bE(e,Ore),u=le(l,!1);u.offset;var d=bE(u,jre);n=j.createElement("line",so({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Ure(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Ut(Ut({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return Y2(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Fre(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Ut(Ut({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return Y2(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Bre(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?i+a-h:d[g+1]-h;if(y<=0)return null;var b=g%e.length;return j.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qre(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?o+s-h:d[g+1]-h;if(y<=0)return null;var b=g%r.length;return j.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Vre=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return zI(Bx(Ut(Ut(Ut({},Cs.defaultProps),r),{},{ticks:jr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Gre=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return zI(Bx(Ut(Ut(Ut({},Cs.defaultProps),r),{},{ticks:jr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},qo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Eu(t){var e,n,r,i,o,a,s=Dx(),l=Lx(),u=Ine(),d=Ut(Ut({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:qo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:qo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:qo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:qo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:qo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:qo.verticalFill,x:Y(t.x)?t.x:u.left,y:Y(t.y)?t.y:u.top,width:Y(t.width)?t.width:u.width,height:Y(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,w=Nne(),_=Cne();if(!Y(g)||g<=0||!Y(v)||v<=0||!Y(f)||f!==+f||!Y(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||Vre,S=d.horizontalCoordinatesGenerator||Gre,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&me(S)){var N=b&&b.length,C=S({yAxis:_?Ut(Ut({},_),{},{ticks:N?b:_.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);nr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ko(C),"]")),Array.isArray(C)&&(E=C)}if((!A||!A.length)&&me(T)){var P=x&&x.length,I=T({xAxis:w?Ut(Ut({},w),{},{ticks:P?x:w.ticks}):void 0,width:s,height:l,offset:u},P?!0:y);nr(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ko(I),"]")),Array.isArray(I)&&(A=I)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Lre,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),j.createElement(Ure,so({},d,{offset:u,horizontalPoints:E,xAxis:w,yAxis:_})),j.createElement(Fre,so({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:_})),j.createElement(Bre,so({},d,{horizontalPoints:E})),j.createElement(qre,so({},d,{verticalPoints:A})))}Eu.displayName="CartesianGrid";var Hre=["type","layout","connectNulls","ref"],zre=["key"];function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function wE(t,e){if(t==null)return{};var n=Wre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){Yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vo(t){return Xre(t)||Yre(t)||Jre(t)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function Yre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xre(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q2(r.key),r)}}function Zre(t,e,n){return e&&SE(t.prototype,e),n&&SE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eie(t,e,n){return e=Ff(e),tie(t,X2()?Reflect.construct(e,n||[],Ff(t).constructor):e.apply(t,n))}function tie(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(t)}function nie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function rie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xy(t,e)}function Xy(t,e){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xy(t,e)}function Yn(t,e,n){return e=Q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q2(t){var e=iie(t,"string");return as(e)=="symbol"?e:e+""}function iie(t,e){if(as(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qu=function(t){function e(){var n;Qre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=eie(this,e,[].concat(i)),Yn(n,"state",{isAnimationFinished:!0,totalLength:0}),Yn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Yn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){g=[].concat(Vo(l.slice(0,v)),[f-y]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(Vo(e.repeat(l,d)),Vo(g),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Yn(n,"id",_s("recharts-line-")),Yn(n,"pathRef",function(a){n.mainCurve=a}),Yn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Yn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return rie(e,t),Zre(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=wn(d,Xu);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:xt(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Ne,g,f.map(function(v){return j.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=le(this.props,!1),h=le(l,!0),g=u.map(function(y,b){var x=sn(sn(sn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(l,x)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(Ne,_l({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=wE(s,Hre),h=sn(sn(sn({},le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return j.createElement(xf,_l({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,b=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return j.createElement(xr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(w){var E=w.length/s.length,A=s.map(function(R,$){var M=Math.floor($*E);if(w[M]){var O=w[M],D=fn(O.x,R.x),B=fn(O.y,R.y);return sn(sn({},R),{},{x:D(S),y:B(S)})}if(v){var L=fn(y*2,R.x),V=fn(b/2,R.y);return sn(sn({},R),{},{x:L(S),y:V(S)})}return sn(sn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(A,r,i)}var N=fn(0,_),C=N(S),P;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});P=o.getStrokeDasharray(C,_,I)}else P=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!Yu(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=Se("recharts-line",l),T=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=T||S,A=be(b)?this.id:b,N=(r=le(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=N.r,P=C===void 0?3:C,I=N.strokeWidth,R=I===void 0?2:I,$=S3(a)?a:{},M=$.clipDot,O=M===void 0?!0:M,D=P*2+R;return j.createElement(Ne,{className:_},T||S?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(A)},j.createElement("rect",{x:T?h:h-g/2,y:S?f:f-v/2,width:T?g:g*2,height:S?v:v*2})),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(A)},j.createElement("rect",{x:h-D/2,y:f-D/2,width:g+D,height:v+D}))):null,!w&&this.renderCurve(E,A),this.renderErrorBar(E,A),(w||a)&&this.renderDots(E,O,A),(!y||x)&&Lr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Vo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Vo(a),Vo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(j.isValidElement(r))o=j.cloneElement(r,i);else if(me(r))o=r(i);else{var a=i.key,s=wE(i,zre),l=Se("recharts-line-dot",typeof r!="boolean"?r.className:"");o=j.createElement(Zh,_l({key:a},s,{className:l}))}return o}}])}(k.PureComponent);Yn(Qu,"displayName","Line");Yn(Qu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yn(Qu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,g){var v=xt(h,a);return d==="horizontal"?{x:YS({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:be(v)?null:r.scale(v),value:v,payload:h}:{x:be(v)?null:n.scale(v),y:YS({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return sn({points:f,layout:d},u)});function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tO(r.key),r)}}function sie(t,e,n){return e&&aie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lie(t,e,n){return e=Bf(e),uie(t,Z2()?Reflect.construct(e,n||[],Bf(t).constructor):e.apply(t,n))}function uie(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cie(t)}function cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(t)}function die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qy(t,e)}function eO(t,e,n){return e=tO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tO(t){var e=fie(t,"string");return ss(e)=="symbol"?e:e+""}function fie(t,e){if(ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}function hie(t){var e=t.xAxisId,n=Dx(),r=Lx(),i=U2(e);return i==null?null:k.createElement(Cs,Zy({},i,{className:Se("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return jr(a,!0)}}))}var Ni=function(t){function e(){return oie(this,e),lie(this,e,arguments)}return die(e,t),sie(e,[{key:"render",value:function(){return k.createElement(hie,this.props)}}])}(k.Component);eO(Ni,"displayName","XAxis");eO(Ni,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iO(r.key),r)}}function gie(t,e,n){return e&&mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,n){return e=qf(e),vie(t,nO()?Reflect.construct(e,n||[],qf(t).constructor):e.apply(t,n))}function vie(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qf(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ev(t,e)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ev(t,e)}function rO(t,e,n){return e=iO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iO(t){var e=wie(t,"string");return ls(e)=="symbol"?e:e+""}function wie(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}var _ie=function(e){var n=e.yAxisId,r=Dx(),i=Lx(),o=F2(n);return o==null?null:k.createElement(Cs,tv({},o,{className:Se("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return jr(s,!0)}}))},Ci=function(t){function e(){return pie(this,e),yie(this,e,arguments)}return bie(e,t),gie(e,[{key:"render",value:function(){return k.createElement(_ie,this.props)}}])}(k.Component);rO(Ci,"displayName","YAxis");rO(Ci,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function EE(t){return Aie(t)||Tie(t)||Eie(t)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eie(t,e){if(t){if(typeof t=="string")return nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(t,e)}}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aie(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rv=function(e,n,r,i,o){var a=wn(e,Fx),s=wn(e,lp),l=[].concat(EE(a),EE(s)),u=wn(e,cp),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[d]===r&&gr(b.props,"extendDomain")&&Y(b.props[f])){var x=b.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===r&&gr(b.props,"extendDomain")&&Y(b.props[g])&&Y(b.props[v])){var x=b.props[g],w=b.props[v];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return Y(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},oO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,v),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var T=b.length,S;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var y=0,b=[],x=v.length;y<x;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(oO);var kie=oO.exports;const Nie=Re(kie);var Sm=new Nie,Em="recharts.syncMouseEvents";function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aO(r.key),r)}}function Iie(t,e,n){return e&&Pie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tm(t,e,n){return e=aO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aO(t){var e=Oie(t,"string");return Tu(e)=="symbol"?e:e+""}function Oie(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jie=function(){function t(){Cie(this,t),Tm(this,"activeIndex",0),Tm(this,"coordinateList",[]),Tm(this,"layout","horizontal")}return Iie(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Rie(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Y(r)&&Y(i))return!0}return!1}function Mie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ve(e,n,r,i),s=Ve(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function $ie(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ve(s,l,u,f),g=Ve(s,l,d,f);r=h.x,i=h.y,o=g.x,a=g.y}else return sO(e);return[{x:r,y:i},{x:o,y:a}]}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Uie(t,"string");return Au(e)=="symbol"?e:e+""}function Uie(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fie(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=xf;if(h==="ScatterChart")v=a,y=iZ;else if(h==="BarChart")v=Mie(f,a,l,d),y=jx;else if(f==="radial"){var b=sO(a),x=b.cx,w=b.cy,_=b.radius,T=b.startAngle,S=b.endAngle;v={cx:x,cy:w,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},y=r2}else v={points:$ie(f,a,l)},y=xf;var E=jc(jc(jc(jc({stroke:"#ccc",pointerEvents:"none"},l),v),le(g,!1)),{},{payload:s,payloadIndex:u,className:Se("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,E):k.createElement(y,E)}var Bie=["item"],qie=["children","className","width","height","style","compact","title","desc"];function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}function AE(t,e){return Hie(t)||Gie(t,e)||uO(t,e)||Vie()}function Vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hie(t){if(Array.isArray(t))return t}function kE(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cO(r.key),r)}}function Jie(t,e,n){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yie(t,e,n){return e=Vf(e),Xie(t,lO()?Reflect.construct(e,n||[],Vf(t).constructor):e.apply(t,n))}function Xie(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qie(t)}function Qie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(t)}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(t,e)}function cs(t){return noe(t)||toe(t)||uO(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uO(t,e){if(t){if(typeof t=="string")return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(t,e)}}function toe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function noe(t){if(Array.isArray(t))return ov(t)}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=cO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t){var e=roe(t,"string");return us(e)=="symbol"?e:e+""}function roe(t,e){if(us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ioe={xAxis:["bottom","top"],yAxis:["left","right"]},ooe={width:"100%",height:"100%"},dO={x:0,y:0};function Rc(t){return t}var aoe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},soe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return G(G(G({},i),Ve(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Ve(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return dO},dp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(cs(s),cs(u)):s},[]);return a.length>0?a:e&&e.length&&Y(i)&&Y(o)?e.slice(i,o+1):[]};function fO(t){return t==="number"?[0,"auto"]:void 0}var av=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=dp(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=Bd(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(cs(l),[XI(u,h)]):l},[])},CE=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=aoe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=EJ(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=av(e,n,d,f),g=soe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},loe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=HI(d,o);return r.reduce(function(v,y){var b,x=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,w=x.type,_=x.dataKey,T=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,A=x.ticks,N=x.includeHidden,C=x[a];if(v[C])return v;var P=dp(e.data,{graphicalItems:i.filter(function(z){var ne,we=a in z.props?z.props[a]:(ne=z.type.defaultProps)===null||ne===void 0?void 0:ne[a];return we===C}),dataStartIndex:l,dataEndIndex:u}),I=P.length,R,$,M;Rie(x.domain,T,w)&&(R=by(x.domain,null,T),g&&(w==="number"||E!=="auto")&&(M=vl(P,_,"category")));var O=fO(w);if(!R||R.length===0){var D,B=(D=x.domain)!==null&&D!==void 0?D:O;if(_){if(R=vl(P,_,w),w==="category"&&g){var L=h3(R);S&&L?($=R,R=Pf(0,I)):S||(R=e1(B,R,y).reduce(function(z,ne){return z.indexOf(ne)>=0?z:[].concat(cs(z),[ne])},[]))}else if(w==="category")S?R=R.filter(function(z){return z!==""&&!be(z)}):R=e1(B,R,y).reduce(function(z,ne){return z.indexOf(ne)>=0||ne===""||be(ne)?z:[].concat(cs(z),[ne])},[]);else if(w==="number"){var V=CJ(P,i.filter(function(z){var ne,we,Ee=a in z.props?z.props[a]:(ne=z.type.defaultProps)===null||ne===void 0?void 0:ne[a],Ae="hide"in z.props?z.props.hide:(we=z.type.defaultProps)===null||we===void 0?void 0:we.hide;return Ee===C&&(N||!Ae)}),_,o,d);V&&(R=V)}g&&(w==="number"||E!=="auto")&&(M=vl(P,_,"category"))}else g?R=Pf(0,I):s&&s[C]&&s[C].hasStack&&w==="number"?R=h==="expand"?[0,1]:YI(s[C].stackGroups,l,u):R=GI(P,i.filter(function(z){var ne=a in z.props?z.props[a]:z.type.defaultProps[a],we="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return ne===C&&(N||!we)}),w,d,!0);if(w==="number")R=rv(f,R,C,o,A),B&&(R=by(B,R,T));else if(w==="category"&&B){var H=B,J=R.every(function(z){return H.indexOf(z)>=0});J&&(R=H)}}return G(G({},v),{},ce({},C,G(G({},x),{},{axisType:o,domain:R,categoricalDomain:M,duplicateDomain:$,originalDomain:(b=x.domain)!==null&&b!==void 0?b:O,isCategorical:g,layout:d})))},{})},uoe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=dp(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=HI(d,o),y=-1;return r.reduce(function(b,x){var w=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,_=w[a],T=fO("number");if(!b[_]){y++;var S;return v?S=Pf(0,g):s&&s[_]&&s[_].hasStack?(S=YI(s[_].stackGroups,l,u),S=rv(f,S,_,o)):(S=by(T,GI(h,r.filter(function(E){var A,N,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(N=E.type.defaultProps)===null||N===void 0?void 0:N.hide;return C===_&&!P}),"number",d),i.defaultProps.allowDataOverflow),S=rv(f,S,_,o)),G(G({},b),{},ce({},_,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:bn(ioe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:v,layout:d})))}return b},{})},coe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=wn(d,o),g={};return h&&h.length?g=loe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=uoe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},doe=function(e){var n=ui(e),r=jr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ax(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gf(n,r)}},PE=function(e){var n=e.children,r=e.defaultShowTooltip,i=dn(n,es),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},foe=function(e){return!e||!e.length?!1:e.some(function(n){var r=$r(n&&n.type);return r&&r.indexOf("Bar")>=0})},IE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hoe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},g=dn(f,es),v=dn(f,ho),y=Object.keys(l).reduce(function(S,E){var A=l[E],N=A.orientation;return!A.mirror&&!A.hide?G(G({},S),{},ce({},N,S[N]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var A=a[E],N=A.orientation;return!A.mirror&&!A.hide?G(G({},S),{},ce({},N,bn(S,"".concat(N))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=G(G({},b),y),w=x.bottom;g&&(x.bottom+=g.props.height||es.defaultProps.height),v&&n&&(x=kJ(x,i,r,n));var _=u-x.left-x.right,T=d-x.top-x.bottom;return G(G({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(T,0)})},poe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Vx=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,T=w.stackGroups,S=w.offset,E=w.updateId,A=w.dataStartIndex,N=w.dataEndIndex,C=x.barSize,P=x.layout,I=x.barGap,R=x.barCategoryGap,$=x.maxBarSize,M=IE(P),O=M.numericAxisName,D=M.cateAxisName,B=foe(_),L=[];return _.forEach(function(V,H){var J=dp(x.data,{graphicalItems:[V],dataStartIndex:A,dataEndIndex:N}),z=V.type.defaultProps!==void 0?G(G({},V.type.defaultProps),V.props):V.props,ne=z.dataKey,we=z.maxBarSize,Ee=z["".concat(O,"Id")],Ae=z["".concat(D,"Id")],Ye={},nt=l.reduce(function(X,ue){var ve=w["".concat(ue.axisType,"Map")],ye=z["".concat(ue.axisType,"Id")];ve&&ve[ye]||ue.axisType==="zAxis"||Ao();var Ie=ve[ye];return G(G({},X),{},ce(ce({},ue.axisType,Ie),"".concat(ue.axisType,"Ticks"),jr(Ie)))},Ye),Q=nt[D],he=nt["".concat(D,"Ticks")],ge=T&&T[Ee]&&T[Ee].hasStack&&LJ(V,T[Ee].stackGroups),W=$r(V.type).indexOf("Bar")>=0,Le=gf(Q,he),q=[],te=B&&TJ({barSize:C,stackGroups:T,totalSize:poe(nt,D)});if(W){var ae,pe,U=be(we)?$:we,F=(ae=(pe=gf(Q,he,!0))!==null&&pe!==void 0?pe:U)!==null&&ae!==void 0?ae:0;q=AJ({barGap:I,barCategoryGap:R,bandSize:F!==Le?F:Le,sizeList:te[Ae],maxBarSize:U}),F!==Le&&(q=q.map(function(X){return G(G({},X),{},{position:G(G({},X.position),{},{offset:X.position.offset-F/2})})}))}var re=V&&V.type&&V.type.getComposedData;re&&L.push({props:G(G({},re(G(G({},nt),{},{displayedData:J,props:x,dataKey:ne,item:V,bandSize:Le,barPosition:q,offset:S,stackedData:ge,layout:P,dataStartIndex:A,dataEndIndex:N}))),{},ce(ce(ce({key:V.key||"item-".concat(H)},O,nt[O]),D,nt[D]),"animationId",E)),childIndex:A3(V,x.children),item:V})}),L},g=function(x,w){var _=x.props,T=x.dataStartIndex,S=x.dataEndIndex,E=x.updateId;if(!Ww({props:_}))return null;var A=_.children,N=_.layout,C=_.stackOffset,P=_.data,I=_.reverseStackOrder,R=IE(N),$=R.numericAxisName,M=R.cateAxisName,O=wn(A,r),D=$J(P,O,"".concat($,"Id"),"".concat(M,"Id"),C,I),B=l.reduce(function(z,ne){var we="".concat(ne.axisType,"Map");return G(G({},z),{},ce({},we,coe(_,G(G({},ne),{},{graphicalItems:O,stackGroups:ne.axisType===$&&D,dataStartIndex:T,dataEndIndex:S}))))},{}),L=hoe(G(G({},B),{},{props:_,graphicalItems:O}),w==null?void 0:w.legendBBox);Object.keys(B).forEach(function(z){B[z]=d(_,B[z],L,z.replace("Map",""),n)});var V=B["".concat(M,"Map")],H=doe(V),J=h(_,G(G({},B),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:O,stackGroups:D,offset:L}));return G(G({formattedGraphicalItems:J,graphicalItems:O,offset:L,stackGroups:D},H),B)},v=function(b){function x(w){var _,T,S;return Wie(this,x),S=Yie(this,x,[w]),ce(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(S,"accessibilityManager",new jie),ce(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,N=A.dataStartIndex,C=A.dataEndIndex,P=A.updateId;S.setState(G({legendBBox:E},g({props:S.props,dataStartIndex:N,dataEndIndex:C,updateId:P},G(G({},S.state),{},{legendBBox:E}))))}}),ce(S,"handleReceiveSyncEvent",function(E,A,N){if(S.props.syncId===E){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),ce(S,"handleBrushChange",function(E){var A=E.startIndex,N=E.endIndex;if(A!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return G({dataStartIndex:A,dataEndIndex:N},g({props:S.props,dataStartIndex:A,dataEndIndex:N,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:N})}}),ce(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var N=G(G({},A),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseEnter;me(C)&&C(N,E)}}),ce(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),N=A?G(G({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseMove;me(C)&&C(N,E)}),ce(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ce(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ce(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ce(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var N=S.props.onMouseLeave;me(N)&&N(A,E)}),ce(S,"handleOuterEvent",function(E){var A=T3(E),N=bn(S.props,"".concat(A));if(A&&me(N)){var C,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),N((C=P)!==null&&C!==void 0?C:{},E)}}),ce(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var N=G(G({},A),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onClick;me(C)&&C(N,E)}}),ce(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(me(A)){var N=S.getMouseInfo(E);A(N,E)}}),ce(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(me(A)){var N=S.getMouseInfo(E);A(N,E)}}),ce(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ce(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ce(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ce(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(me(A)){var N=S.getMouseInfo(E);A(N,E)}}),ce(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(me(A)){var N=S.getMouseInfo(E);A(N,E)}}),ce(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Sm.emit(Em,S.props.syncId,E,S.eventEmitterSymbol)}),ce(S,"applySyncEvent",function(E){var A=S.props,N=A.layout,C=A.syncMethod,P=S.state.updateId,I=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(G({dataStartIndex:I,dataEndIndex:R},g({props:S.props,dataStartIndex:I,dataEndIndex:R,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var $=E.chartX,M=E.chartY,O=E.activeTooltipIndex,D=S.state,B=D.offset,L=D.tooltipTicks;if(!B)return;if(typeof C=="function")O=C(L,E);else if(C==="value"){O=-1;for(var V=0;V<L.length;V++)if(L[V].value===E.activeLabel){O=V;break}}var H=G(G({},B),{},{x:B.left,y:B.top}),J=Math.min($,H.x+H.width),z=Math.min(M,H.y+H.height),ne=L[O]&&L[O].value,we=av(S.state,S.props.data,O),Ee=L[O]?{x:N==="horizontal"?L[O].coordinate:J,y:N==="horizontal"?z:L[O].coordinate}:dO;S.setState(G(G({},E),{},{activeLabel:ne,activeCoordinate:Ee,activePayload:we,activeTooltipIndex:O}))}else S.setState(E)}),ce(S,"renderCursor",function(E){var A,N=S.state,C=N.isTooltipActive,P=N.activeCoordinate,I=N.activePayload,R=N.offset,$=N.activeTooltipIndex,M=N.tooltipAxisBandSize,O=S.getTooltipEventType(),D=(A=E.props.active)!==null&&A!==void 0?A:C,B=S.props.layout,L=E.key||"_recharts-cursor";return j.createElement(Fie,{key:L,activeCoordinate:P,activePayload:I,activeTooltipIndex:$,chartName:n,element:E,isActive:D,layout:B,offset:R,tooltipAxisBandSize:M,tooltipEventType:O})}),ce(S,"renderPolarAxis",function(E,A,N){var C=bn(E,"type.axisType"),P=bn(S.state,"".concat(C,"Map")),I=E.type.defaultProps,R=I!==void 0?G(G({},I),E.props):E.props,$=P&&P[R["".concat(C,"Id")]];return k.cloneElement(E,G(G({},$),{},{className:Se(C,$.className),key:E.key||"".concat(A,"-").concat(N),ticks:jr($,!0)}))}),ce(S,"renderPolarGrid",function(E){var A=E.props,N=A.radialLines,C=A.polarAngles,P=A.polarRadius,I=S.state,R=I.radiusAxisMap,$=I.angleAxisMap,M=ui(R),O=ui($),D=O.cx,B=O.cy,L=O.innerRadius,V=O.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(C)?C:jr(O,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(P)?P:jr(M,!0).map(function(H){return H.coordinate}),cx:D,cy:B,innerRadius:L,outerRadius:V,key:E.key||"polar-grid",radialLines:N})}),ce(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,N=A.children,C=A.width,P=A.height,I=S.props.margin||{},R=C-(I.left||0)-(I.right||0),$=qI({children:N,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!$)return null;var M=$.item,O=kE($,Bie);return k.cloneElement(M,G(G({},O),{},{chartWidth:C,chartHeight:P,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ce(S,"renderTooltip",function(){var E,A=S.props,N=A.children,C=A.accessibilityLayer,P=dn(N,Gt);if(!P)return null;var I=S.state,R=I.isTooltipActive,$=I.activeCoordinate,M=I.activePayload,O=I.activeLabel,D=I.offset,B=(E=P.props.active)!==null&&E!==void 0?E:R;return k.cloneElement(P,{viewBox:G(G({},D),{},{x:D.left,y:D.top}),active:B,label:O,payload:B?M:[],coordinate:$,accessibilityLayer:C})}),ce(S,"renderBrush",function(E){var A=S.props,N=A.margin,C=A.data,P=S.state,I=P.offset,R=P.dataStartIndex,$=P.dataEndIndex,M=P.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Cc(S.handleBrushChange,E.props.onChange),data:C,x:Y(E.props.x)?E.props.x:I.left,y:Y(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(N.bottom||0),width:Y(E.props.width)?E.props.width:I.width,startIndex:R,endIndex:$,updateId:"brush-".concat(M)})}),ce(S,"renderReferenceElement",function(E,A,N){if(!E)return null;var C=S,P=C.clipPathId,I=S.state,R=I.xAxisMap,$=I.yAxisMap,M=I.offset,O=E.type.defaultProps||{},D=E.props,B=D.xAxisId,L=B===void 0?O.xAxisId:B,V=D.yAxisId,H=V===void 0?O.yAxisId:V;return k.cloneElement(E,{key:E.key||"".concat(A,"-").concat(N),xAxis:R[L],yAxis:$[H],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:P})}),ce(S,"renderActivePoints",function(E){var A=E.item,N=E.activePoint,C=E.basePoint,P=E.childIndex,I=E.isRange,R=[],$=A.props.key,M=A.item.type.defaultProps!==void 0?G(G({},A.item.type.defaultProps),A.item.props):A.item.props,O=M.activeDot,D=M.dataKey,B=G(G({index:P,dataKey:D,cx:N.x,cy:N.y,r:4,fill:Ox(A.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},le(O,!1)),qd(O));return R.push(x.renderActiveDot(O,B,"".concat($,"-activePoint-").concat(P))),C?R.push(x.renderActiveDot(O,G(G({},B),{},{cx:C.x,cy:C.y}),"".concat($,"-basePoint-").concat(P))):I&&R.push(null),R}),ce(S,"renderGraphicChild",function(E,A,N){var C=S.filterFormatItem(E,A,N);if(!C)return null;var P=S.getTooltipEventType(),I=S.state,R=I.isTooltipActive,$=I.tooltipAxis,M=I.activeTooltipIndex,O=I.activeLabel,D=S.props.children,B=dn(D,Gt),L=C.props,V=L.points,H=L.isRange,J=L.baseLine,z=C.item.type.defaultProps!==void 0?G(G({},C.item.type.defaultProps),C.item.props):C.item.props,ne=z.activeDot,we=z.hide,Ee=z.activeBar,Ae=z.activeShape,Ye=!!(!we&&R&&B&&(ne||Ee||Ae)),nt={};P!=="axis"&&B&&B.props.trigger==="click"?nt={onClick:Cc(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(nt={onMouseLeave:Cc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Cc(S.handleItemMouseEnter,E.props.onMouseEnter)});var Q=k.cloneElement(E,G(G({},C.props),nt));function he(ue){return typeof $.dataKey=="function"?$.dataKey(ue.payload):null}if(Ye)if(M>=0){var ge,W;if($.dataKey&&!$.allowDuplicatedCategory){var Le=typeof $.dataKey=="function"?he:"payload.".concat($.dataKey.toString());ge=Bd(V,Le,O),W=H&&J&&Bd(J,Le,O)}else ge=V==null?void 0:V[M],W=H&&J&&J[M];if(Ae||Ee){var q=E.props.activeIndex!==void 0?E.props.activeIndex:M;return[k.cloneElement(E,G(G(G({},C.props),nt),{},{activeIndex:q})),null,null]}if(!be(ge))return[Q].concat(cs(S.renderActivePoints({item:C,activePoint:ge,basePoint:W,childIndex:M,isRange:H})))}else{var te,ae=(te=S.getItemByXY(S.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:Q},pe=ae.graphicalItem,U=pe.item,F=U===void 0?E:U,re=pe.childIndex,X=G(G(G({},C.props),nt),{},{activeIndex:re});return[k.cloneElement(F,X),null,null]}return H?[Q,null,null]:[Q,null]}),ce(S,"renderCustomized",function(E,A,N){return k.cloneElement(E,G(G({key:"recharts-customized-".concat(N)},S.props),S.state))}),ce(S,"renderMap",{CartesianGrid:{handler:Rc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Rc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Rc},YAxis:{handler:Rc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:_s("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=BP(S.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Zie(x,b),Jie(x,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,N=dn(T,Gt);if(N){var C=N.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=av(this.state,S,C,P),R=this.state.tooltipTicks[C].coordinate,$=(this.state.offset.top+E)/2,M=A==="horizontal",O=M?{x:R,y:$}:{y:R,x:$},D=this.state.formattedGraphicalItems.find(function(L){var V=L.item;return V.type.name==="Scatter"});D&&(O=G(G({},O),D.props.points[C].tooltipPosition),I=D.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:I,activeCoordinate:O};this.setState(B),this.renderCursor(N),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Mg([dn(_.children,Gt)],[dn(this.props.children,Gt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=dn(this.props.children,Gt);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=Q7(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},N=S.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,N);if(!C)return null;var P=this.state,I=P.xAxisMap,R=P.yAxisMap,$=this.getTooltipEventType(),M=CE(this.state,this.props.data,this.props.layout,C);if($!=="axis"&&I&&R){var O=ui(I).scale,D=ui(R).scale,B=O&&O.invert?O.invert(A.chartX):null,L=D&&D.invert?D.invert(A.chartY):null;return G(G({},A),{},{xValue:B,yValue:L},M)}return M?G(G({},A),M):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,N=T/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,P=A>=C.left&&A<=C.left+C.width&&N>=C.top&&N<=C.top+C.height;return P?{x:A,y:N}:null}var I=this.state,R=I.angleAxisMap,$=I.radiusAxisMap;if(R&&$){var M=ui(R);return r1({x:A,y:N},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=dn(_,Gt),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=qd(this.props,this.handleOuterEvent);return G(G({},A),E)}},{key:"addListener",value:function(){Sm.on(Em,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sm.removeListener(Em,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,N=E.length;A<N;A++){var C=E[A];if(C.item===_||C.props.key===_.key||T===$r(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,N=T.width;return j.createElement("defs",null,j.createElement("clipPath",{id:_},j.createElement("rect",{x:S,y:E,height:A,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=AE(S,2),A=E[0],N=E[1];return G(G({},T),{},ce({},A,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=AE(S,2),A=E[0],N=E[1];return G(G({},T),{},ce({},A,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,N=S.length;A<N;A++){var C=S[A],P=C.props,I=C.item,R=I.type.defaultProps!==void 0?G(G({},I.type.defaultProps),I.props):I.props,$=$r(I.type);if($==="Bar"){var M=(P.data||[]).find(function(L){return LQ(_,L)});if(M)return{graphicalItem:C,payload:M}}else if($==="RadialBar"){var O=(P.data||[]).find(function(L){return r1(_,L)});if(O)return{graphicalItem:C,payload:O}}else if(ip(C,E)||op(C,E)||xu(C,E)){var D=Aee({graphicalItem:C,activeTooltipItem:E,itemData:R.data}),B=R.activeIndex===void 0?D:R.activeIndex;return{graphicalItem:G(G({},C),{},{childIndex:B}),payload:xu(C,E)?R.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var _=this;if(!Ww(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,N=T.height,C=T.style,P=T.compact,I=T.title,R=T.desc,$=kE(T,qie),M=le($,!1);if(P)return j.createElement(lE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(Dg,ga({},M,{width:A,height:N,title:I,desc:R}),this.renderClipPath(),Jw(S,this.renderMap)));if(this.props.accessibilityLayer){var O,D;M.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,M.role=(D=this.props.role)!==null&&D!==void 0?D:"application",M.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},M.onFocus=function(){_.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return j.createElement(lE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",ga({className:Se("recharts-wrapper",E),style:G({position:"relative",cursor:"default",width:A,height:N},C)},B,{ref:function(V){_.container=V}}),j.createElement(Dg,ga({},M,{width:A,height:N,title:I,desc:R,style:ooe}),this.renderClipPath(),Jw(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);ce(v,"displayName",n),ce(v,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(v,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,_=b.data,T=b.children,S=b.width,E=b.height,A=b.layout,N=b.stackOffset,C=b.margin,P=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var R=PE(b);return G(G(G({},R),{},{updateId:0},g(G(G({props:b},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:N,prevMargin:C,prevChildren:T})}if(w!==x.prevDataKey||_!==x.prevData||S!==x.prevWidth||E!==x.prevHeight||A!==x.prevLayout||N!==x.prevStackOffset||!Aa(C,x.prevMargin)){var $=PE(b),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},O=G(G({},CE(x,_,A)),{},{updateId:x.updateId+1}),D=G(G(G({},$),M),O);return G(G(G({},D),g(G({props:b},D),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:N,prevMargin:C,prevChildren:T})}if(!Mg(T,x.prevChildren)){var B,L,V,H,J=dn(T,es),z=J&&(B=(L=J.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:P,ne=J&&(V=(H=J.props)===null||H===void 0?void 0:H.endIndex)!==null&&V!==void 0?V:I,we=z!==P||ne!==I,Ee=!be(_),Ae=Ee&&!we?x.updateId:x.updateId+1;return G(G({updateId:Ae},g(G(G({props:b},x),{},{updateId:Ae,dataStartIndex:z,dataEndIndex:ne}),x)),{},{prevChildren:T,dataStartIndex:z,dataEndIndex:ne})}return null}),ce(v,"renderActiveDot",function(b,x,w){var _;return k.isValidElement(b)?_=k.cloneElement(b,x):me(b)?_=b(x):_=j.createElement(Zh,x),j.createElement(Ne,{className:"recharts-active-dot",key:w},_)});var y=k.forwardRef(function(x,w){return j.createElement(v,ga({},x,{ref:w}))});return y.displayName=v.displayName,y},moe=Vx({chartName:"LineChart",GraphicalChild:Qu,axisComponents:[{axisType:"xAxis",AxisComp:Ni},{axisType:"yAxis",AxisComp:Ci}],formatAxisMap:I2}),Gx=Vx({chartName:"BarChart",GraphicalChild:wr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ni},{axisType:"yAxis",AxisComp:Ci}],formatAxisMap:I2}),OE=Vx({chartName:"PieChart",GraphicalChild:br,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rp},{axisType:"radiusAxis",AxisComp:tp}],formatAxisMap:KJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const goe=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>c.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[c.jsx("p",{className:"text-sm opacity-80",children:t.label}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),c.jsx("div",{className:"h-64",children:c.jsx(ka,{width:"100%",height:"100%",children:c.jsxs(Gx,{data:CD,children:[c.jsx(Eu,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Ni,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(Ci,{stroke:"#9ca3af"}),c.jsx(Gt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(wr,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),c.jsx("div",{className:"h-64",children:c.jsx(ka,{width:"100%",height:"100%",children:c.jsxs(moe,{data:PD,children:[c.jsx(Eu,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Ni,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(Ci,{stroke:"#9ca3af"}),c.jsx(Gt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(Qu,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function yoe({data:t,columns:e,onEdit:n,onDelete:r,isLoading:i,selectable:o,selectedIds:a=[],onSelect:s}){if(i)return c.jsx("div",{className:"p-4 text-center",children:"  ..."});const l=()=>{s&&(a.length===t.length?s([]):s(t.map(d=>d.id)))},u=d=>{s&&(a.includes(d)?s(a.filter(f=>f!==d)):s([...a,d]))};return c.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:c.jsxs("table",{className:"w-full text-sm text-right",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:c.jsxs("tr",{children:[o&&c.jsx("th",{className:"px-4 py-3 w-10",children:c.jsx("input",{type:"checkbox",checked:t.length>0&&a.length===t.length,onChange:l,className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(d=>c.jsx("th",{className:"px-4 py-3 font-medium whitespace-nowrap",children:d.header},String(d.key))),(n||r)&&c.jsx("th",{className:"px-4 py-3",children:""})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(d=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${a.includes(d.id)?"bg-red-50 dark:bg-red-900/10":""}`,children:[o&&c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(d.id),onChange:()=>u(d.id),className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(f=>c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.render?f.render(d[f.key],d):String(d[f.key])},String(f.key))),(n||r)&&c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2",children:[n&&c.jsx("button",{onClick:()=>n(d),className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"",children:c.jsx(wD,{className:"w-4 h-4"})}),r&&c.jsx("button",{onClick:()=>r(d),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"",children:c.jsx(xn,{className:"w-4 h-4"})})]})})]},d.id)),t.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+(o?2:1),className:"px-4 py-8 text-center text-gray-500",children:"  "})})]})]})})}function fp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function voe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const xoe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Hx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class boe extends Hx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jE extends Hx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RE extends Hx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sv||(sv={}));class woe{constructor(e,{headers:n={},customFetch:r,region:i=sv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=xoe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return voe(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new boe(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new jE(x);if(!x.ok)throw new RE(x);let _=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield x.json():_==="application/octet-stream"||_==="application/pdf"?T=yield x.blob():_==="text/event-stream"?T=x:_==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof RE||s instanceof jE?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var _oe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Soe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new _oe(a)}return{error:a,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,d,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Eoe=class extends Soe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ME=new RegExp("[,()]");var Yo=class extends Eoe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ME.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ME.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Toe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Yo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yo({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Yo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Aoe=class hO{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Toe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Yo({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class koe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Noe="2.89.0",Coe=`realtime-js/${Noe}`,pO="1.0.0",Poe="2.0.0",$E=pO,lv=1e4,Ioe=1e3,Ooe=100;var oi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oi||(oi={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xn||(Xn={}));var uv;(function(t){t.websocket="websocket"})(uv||(uv={}));var Zi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zi||(Zi={}));class joe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class mO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ue||(Ue={}));const DE=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Roe(a,t,e,i),o),{}):{}},Roe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?gO(o,a):cv(a)},gO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Loe(e,n)}switch(t){case Ue.bool:return Moe(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return $oe(e);case Ue.json:case Ue.jsonb:return Doe(e);case Ue.timestamp:return Uoe(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return cv(e);default:return cv(e)}},cv=t=>t,Moe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$oe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Doe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Loe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>gO(e,s))}return t},Uoe=t=>typeof t=="string"?t.replace(" ","T"):t,yO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Am{constructor(e,n,r={},i=lv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(LE||(LE={}));class Sl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Sl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var UE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(UE||(UE={}));var El;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(El||(El={}));var kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class ya{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Am(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new mO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Sl(this),this.broadcastEndpointURL=yO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[El.PRESENCE]&&this.bindings[El.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(kr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(kr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<b;w++){const _=y[w],{filter:{event:T,schema:S,table:E,filter:A}}=_,N=g&&g[w];if(N&&N.event===T&&ya.isFilterValueEqual(N.schema,S)&&ya.isFilterValueEqual(N.table,E)&&ya.isFilterValueEqual(N.filter,A))x.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(kr.SUBSCRIBED);return}}).receive("error",g=>{this.state=yt.errored,e==null||e(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===yt.joined&&e===El.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Am(this,Xn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Am(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ooe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Xn;if(r&&[s,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,b,x,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:x,type:w,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ya.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xn.close,{},e)}_onError(e){this._on(Xn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=DE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=DE(e.columns,e.old_record)),n}}const km=()=>{},Mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Foe=[1e3,2e3,5e3,1e4],Boe=1e4,qoe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Voe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lv,this.transport=null,this.heartbeatIntervalMs=Mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=km,this.ref=0,this.reconnectTimer=null,this.vsn=$E,this.logger=km,this.conn=null,this.sendBuffer=[],this.serializer=new joe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${uv.websocket}`,this.httpEndpoint=yO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=koe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return Zi.Connecting;case oi.open:return Zi.Open;case oi.closing:return Zi.Closing;default:return Zi.Closed}}isConnected(){return this.connectionState()===Zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ya(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ioe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===oi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===oi.open||this.conn.readyState===oi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([qoe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Coe};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Xn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,d,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:lv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Mc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:km,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:$E,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Foe[v-1]||Boe,this.vsn){case pO:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case Poe:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ku=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Goe(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function Hoe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function zoe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=Goe(t.baseUrl,r,i),l=await Hoe(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new ku((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function $c(t){return t.join("")}var Woe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:$c(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(t.namespace)}`}),!0}catch(e){if(e instanceof ku&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ku&&n.status===409)return;throw n}}};function Go(t){return t.join("")}var Koe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ku&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ku&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Joe=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=zoe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Woe(this.client,e),this.tableOps=new Koe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},hp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Yoe=class extends hp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dv=class extends hp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const zx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xoe=()=>Response,fv=t=>{if(Array.isArray(t))return t.map(n=>fv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=fv(r)}),e},Qoe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zoe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function eae(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tae(t){var e=eae(t,"string");return Nu(e)=="symbol"?e:e+""}function nae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Nm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},rae=async(t,e,n)=>{t instanceof await Xoe()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new Yoe(Nm(r),i,o))}).catch(r=>{e(new dv(Nm(r),r))}):e(new dv(Nm(t),t))},iae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Qoe(r)?(i.headers=fe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),fe(fe({},i),n))};async function Zu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,iae(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>rae(l,s,r))})}async function Cu(t,e,n,r){return Zu(t,"GET",e,n,r)}async function Wn(t,e,n,r,i){return Zu(t,"POST",e,r,i,n)}async function hv(t,e,n,r,i){return Zu(t,"PUT",e,r,i,n)}async function oae(t,e,n,r){return Zu(t,"HEAD",e,fe(fe({},n),{},{noResolveJson:!0}),r)}async function Wx(t,e,n,r,i){return Zu(t,"DELETE",e,r,i,n)}var aae=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let vO;vO=Symbol.toStringTag;var sae=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vO]="BlobDownloadBuilder",this.promise=null}asStream(){return new aae(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const lae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},BE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uae=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=zx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=fe(fe({},BE),r);let s=fe(fe({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=fe(fe({},s),r.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?hv:Wn)(i.fetch,`${i.url}/object/${d}`,o,fe({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=fe({upsert:BE.upsert},r),d=fe(fe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await hv(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=fe({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Wn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new hp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Wn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Wn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Wn(r.fetch,`${r.url}/object/sign/${i}`,fe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Wn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>fe(fe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>Cu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new sae(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:fv(await Cu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await oae(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof dv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Wx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=fe(fe(fe({},lae),e),{},{prefix:t||""});return{data:await Wn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=fe({},t);return{data:await Wn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const xO="2.89.0",bO={"X-Client-Info":`storage-js/${xO}`};var cae=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=fe(fe({},bO),e),this.fetch=zx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Cu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Cu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Wn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await hv(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Wx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},dae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},bO),e),this.fetch=zx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Cu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Wx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!Zoe(t))throw new hp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Joe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Kx={"X-Client-Info":`storage-js/${xO}`,"Content-Type":"application/json"};var wO=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Cm=class extends wO{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fae=class extends wO{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Jx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hae=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pae=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Cm(qE(o),r,a))}).catch(()=>{const o=r+"";e(new Cm(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Cm(i.statusText||`HTTP ${r} error`,r,o))}}else e(new fae(qE(t),t))},mae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(hae(r)?(i.headers=fe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,fe(fe({},i),n)):i};async function gae(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,mae(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>pae(l,s,r))})}async function mn(t,e,n,r,i){return gae(t,"POST",e,r,i,n)}var yae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},Kx),e),this.fetch=Jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await mn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await mn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},vae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},Kx),e),this.fetch=Jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await mn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},xae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},Kx),e),this.fetch=Jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},bae=class extends xae{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new wae(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},wae=class extends yae{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new _ae(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},_ae=class extends vae{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Sae=class extends cae{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new uae(this.url,this.headers,t,this.fetch)}get vectors(){return new bae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dae(this.url+"/iceberg",this.headers,this.fetch)}};const _O="2.89.0",Xo=30*1e3,pv=3,Pm=pv*Xo,Eae="http://localhost:9999",Tae="supabase.auth.token",Aae={"X-Client-Info":`gotrue-js/${_O}`},mv="X-Supabase-Api-Version",SO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nae=10*60*1e3;class Pu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cae extends Pu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pae(t){return se(t)&&t.name==="AuthApiError"}class eo extends Pu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xr extends Pu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ln extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iae(t){return se(t)&&t.name==="AuthSessionMissingError"}class Ho extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends Xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lc extends Xr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Oae(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class VE extends Xr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jae extends Xr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gv extends Xr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Im(t){return se(t)&&t.name==="AuthRetryableFetchError"}class GE extends Xr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yv extends Xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HE=` 	
\r=`.split(""),Rae=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HE.length;e+=1)t[HE[e].charCodeAt(0)]=-2;for(let e=0;e<Gf.length;e+=1)t[Gf[e].charCodeAt(0)]=e;return t})();function zE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gf[r]),e.queuedBits-=6}}function EO(t,e,n){const r=Rae[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function WE(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{Dae(a,r,n)};for(let a=0;a<t.length;a+=1)EO(t.charCodeAt(a),i,o);return e.join("")}function Mae(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $ae(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Mae(r,e)}}function Dae(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Pa(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)EO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Lae(t){const e=[];return $ae(t,n=>e.push(n)),new Uint8Array(e)}function lo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>zE(i,n,r)),zE(null,n,r),e.join("")}function Uae(t){return Math.round(Date.now()/1e3)+t}function Fae(){return Symbol("auth-callback")}const Pt=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},TO=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function Bae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const AO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(t,e)=>{await t.removeItem(e)};class pp{constructor(){this.promise=new pp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pp.promiseConstructor=Promise;function Om(t){const e=t.split(".");if(e.length!==3)throw new yv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kae.test(e[r]))throw new yv("JWT not in base64url format");return{header:JSON.parse(WE(e[0])),payload:JSON.parse(WE(e[1])),signature:Pa(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Gae(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function Hae(t){return("0"+t.toString(16)).substr(-2)}function zae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Hae).join("")}async function Wae(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Kae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Wae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zo(t,e,n=!1){const r=zae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Qo(t,`${e}-code-verifier`,i);const o=await Kae(r);return[o,r===o?"plain":"s256"]}const Jae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yae(t){const e=t.headers.get(mv);if(!e||!e.match(Jae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Qae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(t){if(!Zae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ese(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function KE(t){return JSON.parse(JSON.stringify(t))}const Yi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tse=[502,503,504];async function JE(t){var e;if(!qae(t))throw new gv(Yi(t),0);if(tse.includes(t.status))throw new gv(Yi(t),t.status);let n;try{n=await t.json()}catch(o){throw new eo(Yi(o),o)}let r;const i=Yae(t);if(i&&i.getTime()>=SO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new GE(Yi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new GE(Yi(n),t.status,n.weak_password.reasons);throw new Cae(Yi(n),t.status||500,r)}const nse=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function de(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[mv]||(o[mv]=SO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await rse(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rse(t,e,n,r,i,o){const a=nse(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new gv(Yi(l),0)}if(s.ok||await JE(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await JE(l)}}function Hn(t){var e;let n=null;ase(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Uae(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function YE(t){const e=Hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ci(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ise(t){return{data:t,error:null}}function ose(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=fp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function XE(t){return t}function ase(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rm=["global","local","others"];class sse{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=AO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Rm[0]){if(Rm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rm.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ci})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=fp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ose,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ci})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:XE});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Wo(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ci})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Wo(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ci})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Wo(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ci})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Wo(e.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Wo(e.userId),Wo(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:XE});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(se(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function QE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ko={debug:!!(globalThis&&TO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lse extends kO{}async function use(t,e,n){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lse(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ko.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function cse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dse(t){return parseInt(t,16)}function fse(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function hse(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=NO(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}x+=w}return`${b}
${x}`}class dt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Hf extends dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function pse({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(CO(a)){if(o.rp.id!==a)return new dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mse({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(CO(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gse{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yse=new gse;function vse(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=fp(t,["challenge","user","excludeCredentials"]),o=Pa(e).buffer,a=Object.assign(Object.assign({},n),{id:Pa(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Pa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function xse(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=fp(t,["challenge","allowCredentials"]),i=Pa(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Pa(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function bse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:lo(new Uint8Array(t.response.attestationObject)),clientDataJSON:lo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:lo(new Uint8Array(i.authenticatorData)),clientDataJSON:lo(new Uint8Array(i.clientDataJSON)),signature:lo(new Uint8Array(i.signature)),userHandle:i.userHandle?lo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function CO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ZE(){var t,e;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _se(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",e)}:{data:null,error:new Hf("Empty credential response",e)}}catch(e){return{data:null,error:pse({error:e,options:t})}}}async function Sse(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",e)}:{data:null,error:new Hf("Empty credential response",e)}}catch(e){return{data:null,error:mse({error:e,options:t})}}}const Ese={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Tse={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=zf(s,a):r[o]=zf(a)}else r[o]=a}return r}function Ase(t,e){return zf(Ese,t,e||{})}function kse(t,e){return zf(Tse,t,e||{})}class Nse{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??yse.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Ase(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await _se({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=kse(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await Sse(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Pu("rpId is required for WebAuthn authentication")};try{if(!ZE())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Pu("rpId is required for WebAuthn registration")};try{if(!ZE())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in register",a)}}}}cse();const Cse={url:Eae,storageKey:Tae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function eT(t,e,n){return await n()}const Jo={};class Iu{get jwks(){var e,n;return(n=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Cse),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Iu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Iu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Pt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new sse({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=AO(o.fetch),this.lock=o.lock||eT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=use:this.lock=eT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Nse(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:TO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=QE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=QE(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_O}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Pt()&&(n=Bae(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Pt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Oae(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new eo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await zo(this.storage,this.storageKey)),o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Hn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hn})}else throw new Dc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:YE})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:YE})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Ho;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,d,f,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let _;if(Pt())if(typeof b=="object")_=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=NO(S[0]);let A=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await _.request({method:"eth_chainId"});A=dse(C)}const N={domain:T.host,address:E,statement:x,uri:T.href,version:"1",chainId:A,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=hse(N),v=await _.request({method:"personal_sign",params:[fse(g),E]})}try{const{data:y,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Hn});if(b)throw b;if(!y||!y.session||!y.user){const x=new Ho;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(se(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,d,f,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:x,statement:w,options:_}=e;let T;if(Pt())if(typeof x=="object")T=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=x}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:lo(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Hn});if(x)throw x;if(!b||!b.session||!b.user){const w=new Ho;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(se(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new jae;const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Hn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Ho;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ho;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zo(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Dc("You must provide either an email or phone number.")}catch(s){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Hn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await zo(this.storage,this.storageKey));const u=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:ise});return!((o=u.data)===null||o===void 0)&&o.url&&Pt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ln;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Pm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Gi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=jm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ese(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ci}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ci})})}catch(n){if(se(n))return Iae(n)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ln;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await zo(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:ci});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ln;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Om(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ln;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Pt())throw new Lc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new VE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new VE("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Lc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Pae(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Fae(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await zo(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Pt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:d}=e,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ho}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Gae(async i=>(i>0&&await Vae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Im(o)&&Date.now()+a-r<Xo})}catch(r){if(this._debug(n,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Pt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Gi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:jm()}else if(i&&!i.user&&!i.user){const a=await Gi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ct(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=jm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Im(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pp;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new ln;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),se(o)){const a={data:null,error:o};return Im(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=KE(i);await Qo(this.storage,this.storageKey,o)}else{const i=KE(n);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${pv} ticks`),i<=pv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await zo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bse(e.webauthn.credential_response):wse(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:vse(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:xse(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Om(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ln})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new ln});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new ln});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ln})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ln})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Nae>i)return r;const{data:o,error:a}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Om(r);n!=null&&n.allowExpired||Xae(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=Qae(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Lae(`${s}.${l}`)))throw new yv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}}Iu.nextInstanceID={};const Pse=Iu,Ise="2.89.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const Ose={"X-Client-Info":`supabase-js-${il}/${Ise}`},jse={headers:Ose},Rse={schema:"public"},Mse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$se={};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Dse(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lse(t){var e=Dse(t,"string");return Ou(e)=="symbol"?e:e+""}function Use(t,e,n){return(e=Lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Fse=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bse=()=>Headers,qse=(t,e,n)=>{const r=Fse(n),i=Bse();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,rt(rt({},a),{},{headers:u}))}};function Vse(t){return t.endsWith("/")?t:t+"/"}function Gse(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:rt(rt({},l),i),auth:rt(rt({},u),o),realtime:rt(rt({},d),a),storage:{},global:rt(rt(rt({},f),s),{},{headers:rt(rt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Hse(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vse(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zse=class extends Pse{constructor(t){super(t)}},Wse=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=Hse(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:Rse,realtime:$se,auth:rt(rt({},Mse),{},{storageKey:a}),global:jse},l=Gse(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=qse(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Aoe(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Sae(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new woe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zse({url:this.authUrl.href,headers:rt(rt({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Voe(this.realtimeUrl.href,rt(rt({},t),{},{params:rt(rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kse=(t,e,n)=>new Wse(t,e,n);function Jse(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Jse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yse={},PO=Yse||{},Xse=PO.VITE_SUPABASE_URL,Qse=PO.VITE_SUPABASE_ANON_KEY,ai=Kse(Xse||"https://placeholder.supabase.co",Qse||"placeholder"),Zse=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories","parts","activity_cards","checklist_items","maintenance_plans"],nT={user_groups:" ",personnel:" ",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:" ",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories:" ",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},ele=()=>{const[t,e]=k.useState("user_groups"),[n,r]=k.useState([]),[i,o]=k.useState(!1),[a,s]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(null),v=k.useRef(null),y=k.useRef(null),b={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"profile_picture",header:" "}],app_users:[{key:"username",header:" "},{key:"personnel_id",header:" "},{key:"role",header:" "},{key:"is_default_password",header:" "}],locations:[{key:"code",header:""},{key:"name",header:" "},{key:"parent_id",header:" "}],org_chart:[{key:"code",header:" "},{key:"name",header:" /"},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:" "},{key:"group_id",header:" "},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"name",header:" "}],equipment_groups:[{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:"  "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:" "},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:""}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"  "},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},x=async()=>{o(!0),g(null);try{const{data:P,error:I}=await ai.from(t).select("*").order("created_at",{ascending:!1});if(I)throw I;let R=P||[];t==="personnel"&&(R=R.map($=>({...$,full_name:`${$.first_name||""} ${$.last_name||""}`.trim()}))),r(R)}catch(P){console.error("Error fetching data:",P),r([])}finally{o(!1)}};k.useEffect(()=>{x(),f([])},[t]);const w=()=>{u({}),s(!0)},_=P=>{u(P),s(!0)},T=async P=>{if(window.confirm("      "))try{const{error:I}=await ai.from(t).delete().eq("id",P.id);if(I)throw I;r(R=>R.filter($=>$.id!==P.id)),f(R=>R.filter($=>$!==P.id))}catch{alert("   ")}},S=async()=>{if(d.length!==0&&window.confirm(`   ${d.length}   `))try{const{error:P}=await ai.from(t).delete().in("id",d);if(P)throw P;r(I=>I.filter(R=>!d.includes(R.id))),f([])}catch{alert("   ")}},E=async P=>{P.preventDefault(),o(!0);try{let I={...l};if(t==="personnel"){if(!I.personnel_code)throw new Error("   ");if(I.full_name){const R=I.full_name.trim().split(" ");I.first_name=R[0],I.last_name=R.slice(1).join(" ")||"-"}else I.id||(I.first_name="-",I.last_name="-");delete I.full_name}if(I.id){const{error:R}=await ai.from(t).update(I).eq("id",I.id);if(R)throw R}else{const{error:R}=await ai.from(t).insert([I]);if(R)throw R}await x(),s(!1)}catch(I){alert("   : "+I.message)}finally{o(!1)}},A=()=>{const R="\uFEFF"+b[t].map(D=>D.key).join(","),$=new Blob([R],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),O=URL.createObjectURL($);M.setAttribute("href",O),M.setAttribute("download",`${t}_sample.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},N=P=>{var $;const I=($=P.target.files)==null?void 0:$[0];if(!I)return;const R=new FileReader;R.onload=async M=>{var D;const O=(D=M.target)==null?void 0:D.result;if(O)try{const B=O.split(`
`).filter(ne=>ne.trim()!=="");if(B.length<2){alert("    .");return}const L=B[0].split(",").map(ne=>ne.trim()),H=b[t].map(ne=>ne.key),J=[];for(let ne=1;ne<B.length;ne++){const we=B[ne].split(",");if(we.length!==L.length)continue;const Ee={};if(L.forEach((Ae,Ye)=>{var he;const nt=Ae.replace(/\r/g,""),Q=(he=we[Ye])==null?void 0:he.replace(/\r/g,"").trim();H.includes(nt)&&(Ee[nt]=Q)}),t==="personnel"&&Ee.full_name){const Ae=Ee.full_name.split(" ");Ee.first_name=Ae[0],Ee.last_name=Ae.slice(1).join(" ")||"-",delete Ee.full_name}Object.keys(Ee).length>0&&J.push(Ee)}if(J.length===0){alert("    .");return}o(!0);const{error:z}=await ai.from(t).insert(J);if(z)throw z;alert(`${J.length}     .`),await x()}catch(B){alert("   : "+B.message)}finally{o(!1),v.current&&(v.current.value="")}},R.readAsText(I)},C=P=>{var R;const I=(R=P.target.files)==null?void 0:R[0];if(I){const $=new FileReader;$.onloadend=()=>{u({...l,profile_picture:$.result})},$.readAsDataURL(I)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"  "}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:x,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:c.jsx(Ow,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&c.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 no-scrollbar",children:Zse.map(P=>c.jsx("button",{onClick:()=>e(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===P?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:nT[P]},P))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-200",children:nT[t]}),d.length>0&&c.jsxs("button",{onClick:S,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[c.jsx(xn,{className:"w-4 h-4"}),"  ",d.length," "]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[c.jsxs("button",{onClick:A,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[c.jsx(rD,{className:"w-4 h-4"}),"  "]}),c.jsx("input",{type:"file",ref:v,accept:".csv",onChange:N,className:"hidden"}),c.jsxs("button",{onClick:()=>{var P;return(P=v.current)==null?void 0:P.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[c.jsx(M0,{className:"w-4 h-4"}),"  CSV"]}),c.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden md:block"}),c.jsxs("button",{onClick:w,className:"bg-primary hover:bg-red-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm transition shadow-lg",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx(yoe,{data:n,columns:b[t]||[],onEdit:_,onDelete:T,isLoading:i,selectable:!0,selectedIds:d,onSelect:f})]}),a&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),c.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:E,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[b[t].map(P=>P.key==="profile_picture"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:P.header}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden border",children:l.profile_picture?c.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"?"})}),c.jsx("input",{type:"file",ref:y,accept:"image/*",className:"hidden",onChange:C}),c.jsxs("button",{type:"button",onClick:()=>{var I;return(I=y.current)==null?void 0:I.click()},className:"text-sm bg-blue-50 text-blue-600 px-3 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2",children:[c.jsx(N0,{className:"w-4 h-4"}),"  "]})]})]},P.key):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:P.header}),c.jsx("input",{type:"text",value:l[P.key]||"",onChange:I=>u({...l,[P.key]:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none"})]},String(P.key))),c.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),c.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-red-800 flex justify-center gap-2 items-center transition shadow-lg",children:[i?c.jsx(Ow,{className:"w-4 h-4 animate-spin"}):c.jsx(gs,{className:"w-4 h-4"})," "]})]})]})]})})]})},Ti=()=>Math.random().toString(36).substring(2,9),IO=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},OO=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},at=()=>{const t=new Date,e=OO(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},ju=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Qr=t=>{const e=new Date,n=OO(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},ds=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=IO(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},tle=(t,e,n,r)=>{const i=ds(t),o=ds(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},nle=(t,e,n,r)=>{const i=ds(t),o=ds(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},Wf=t=>{const e=ds(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},rT="192.168.1.105",Rr=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=k.useState(!1),[s,l]=k.useState(1403),[u,d]=k.useState(1),f=k.useRef(null);k.useEffect(()=>{if(t){const E=t.split("/").map(Number);E.length===3&&(l(E[0]),d(E[1]))}else{const E=at().split("/").map(Number);l(E[0]),d(E[1])}},[t,o]),k.useEffect(()=>{const E=A=>{f.current&&!f.current.contains(A.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],v=(E,A)=>A<=6?31:A<=11||E%33===1||E%33===5||E%33===9||E%33===13||E%33===17||E%33===22||E%33===26||E%33===30?30:29,y=(E,A)=>{const{gy:N,gm:C,gd:P}=IO(E,A,1);return new Date(N,C-1,P).getDay()},b=()=>{u===1?(d(12),l(E=>E-1)):d(E=>E-1)},x=()=>{u===12?(d(1),l(E=>E+1)):d(E=>E+1)},w=E=>{const A=`${s}/${String(u).padStart(2,"0")}/${String(E).padStart(2,"0")}`;i&&Wf(A)||(e(A),a(!1))},_=()=>{const E=at();e(E),a(!1)},T=(y(s,u)+1)%7,S=v(s,u);return c.jsxs("div",{className:"relative",ref:f,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),c.jsx(nD,{className:"w-4 h-4 text-gray-400"})]}),o&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(xh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",s]}),c.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(P0,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((E,A)=>c.jsx("span",{className:A===6?"text-red-500 font-bold":"",children:E},A))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:T}).map((E,A)=>c.jsx("div",{},`empty-${A}`)),Array.from({length:S}).map((E,A)=>{const N=A+1,C=`${s}/${String(u).padStart(2,"0")}/${String(N).padStart(2,"0")}`,P=t===C,I=i&&Wf(C),R=(T+A)%7===6;return c.jsx("button",{type:"button",disabled:I,onClick:()=>w(N),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${P?"bg-primary text-white shadow-md font-bold":I?"text-gray-200 dark:text-gray-600 cursor-not-allowed":R?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:N},N)})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:c.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},cr=({value:t,onChange:e,label:n})=>{const[r,i]=k.useState(!1),[o,a]=k.useState("HOURS"),s=k.useRef(null),[l,u]=k.useState("00"),[d,f]=k.useState("00");k.useEffect(()=>{if(t&&t.includes(":")){const[w,_]=t.split(":");u(w),f(_)}},[t,r]),k.useEffect(()=>{const w=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const h=w=>{u(w),a("MINUTES")},g=w=>{f(w),e(`${l}:${w}`),i(!1),a("HOURS")},v=(w,_,T)=>{const S=w*(360/_)-90,E=T*Math.cos(S*Math.PI/180),A=T*Math.sin(S*Math.PI/180);return{transform:`translate(${E}px, ${A}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],b=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return c.jsxs("div",{className:"relative",ref:s,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),c.jsx(I0,{className:"w-5 h-5 text-gray-400"})]}),r&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[c.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),c.jsx("span",{className:"text-gray-300 pb-2",children:":"}),c.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),c.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[c.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&c.jsxs(c.Fragment,{children:[y.map((w,_)=>{const T=w===12?"00":w,S=String(T).padStart(2,"0"),E=l===S;return c.jsx("button",{type:"button",onClick:()=>h(S),style:v(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`out-${w}`)}),b.map((w,_)=>{const T=String(w).padStart(2,"0"),S=l===T;return c.jsx("button",{type:"button",onClick:()=>h(T),style:v(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:w===12?"12":w},`in-${w}`)})]}),o==="MINUTES"&&c.jsxs(c.Fragment,{children:[x.map((w,_)=>{const T=String(w).padStart(2,"0"),S=d===T;return c.jsx("button",{type:"button",onClick:()=>g(T),style:v(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`m-${w}`)}),c.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),c.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},ec=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},jO=t=>{localStorage.setItem("workflows",JSON.stringify(t))},tc=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},RO=t=>{localStorage.setItem("cartable",JSON.stringify(t))},Yx=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},rle=t=>{const e=Yx();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},iT=()=>Yx(),ile=t=>{const n=Yx().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},mp=()=>{try{const t=localStorage.getItem("messages");return t?JSON.parse(t):[]}catch{return[]}},MO=t=>{localStorage.setItem("messages",JSON.stringify(t))},ole=(t,e,n,r,i)=>{const o=mp(),a={id:Ti(),senderId:t.id,senderName:t.fullName,receiverId:e,receiverType:n,subject:r,body:i,createdAt:`${at()} ${ju()}`,readBy:[]};o.push(a),MO(o)},ale=t=>mp().filter(n=>n.receiverType==="USER"&&n.receiverId===t.id||n.receiverType==="ALL"||n.receiverType==="GROUP"&&n.receiverId===t.role).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),sle=t=>mp().filter(n=>n.senderId===t).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),lle=(t,e)=>{const n=mp(),r=n.findIndex(i=>i.id===t);if(r!==-1){const i=n[r];i.readBy.includes(e)||(i.readBy.push(e),n[r]=i,MO(n))}},yn=async t=>{try{const{data:e,error:n}=await ai.from(t).select("*");if(!n&&e&&e.length>0)return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:t==="locations"?[{id:"L-1",name:" "},{id:"L-2",name:" "},{id:"L-3",name:" "},{id:"L-4",name:" "}]:t==="equipment"?[{id:"1",code:"PM-101",name:"Centrifugal Pump 101",class_id:"CLASS-2",group_id:"GRP-1",location_id:"L-2"},{id:"2",code:"CV-202",name:"Main Conveyor Belt",class_id:"CLASS-1",group_id:"GRP-3",location_id:"L-1"},{id:"3",code:"CR-300",name:"Jaw Crusher A",class_id:"CLASS-1",group_id:"GRP-2",location_id:"L-1"}]:[]},ule=async t=>{try{const{data:e,error:n}=await ai.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},cle=()=>{let t=ec();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:en.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:en.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:en.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),jO(t)}};cle();const Ru=()=>ec(),dle=t=>{const e=ec(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),jO(e)},Di=(t,e,n,r,i)=>{let a=ec().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:Ti(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:at(),updatedAt:at(),data:{...e,status:"REQUEST"}},u=tc();return u.push(l),RO(u),l},fle=(t,e,n,r)=>{const i=tc(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=ec().find(f=>f.id===a.workflowId);if(!l)return;const u=l.steps.find(f=>f.id===a.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=en.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=at(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,RO(i)}},oT=t=>tc().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),Xx=()=>tc().filter(e=>e.module==="WORK_ORDER"),Li=t=>tc().filter(n=>n.module===t),Qx=({initialData:t,onProcessComplete:e})=>{const n=ms(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=k.useState("GENERAL"),[l,u]=k.useState(null),[d,f]=k.useState(null),[h,g]=k.useState(!1),[v,y]=k.useState(null),[b,x]=k.useState(!1),[w,_]=k.useState([]),[T,S]=k.useState([]),[E,A]=k.useState([]),[N,C]=k.useState([]),[P,I]=k.useState([]),[R,$]=k.useState([]),M=k.useRef(null),[O,D]=k.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:at(),reportTime:ju(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:at(),startTime:"",endDate:at(),endTime:"",downtime:"",repairTime:""}),[B,L]=k.useState([]),[V,H]=k.useState([]),[J,z]=k.useState([]);k.useEffect(()=>{(async()=>{const te=await yn("equipment"),ae=await yn("equipment_local_names"),pe=await yn("locations");S(te),A(ae),I(te),$(ae),C(pe),_(await yn("measurement_units"))})(),t&&(D(te=>({...te,...t})),t.labor&&L(t.labor),t.parts&&H(t.parts),t.docs&&z(t.docs))},[t]);const ne=q=>{const te=q.target.value,ae=T.find(pe=>pe.code===te);if(!ae){D(pe=>({...pe,equipCode:"",equipName:"",locationId:""})),$(E);return}if(D(pe=>({...pe,equipCode:te,equipName:ae.name,locationId:ae.location_id||""})),ae.class_id&&ae.group_id){const pe=E.filter(U=>U.class_id===ae.class_id&&U.group_id===ae.group_id);$(pe)}else $(E)},we=q=>{const te=q.target.value,ae=E.find(pe=>pe.local_name===te);if(D(pe=>({...pe,equipLocalName:te})),ae&&ae.class_id&&ae.group_id){const pe=T.filter(U=>U.class_id===ae.class_id&&U.group_id===ae.group_id);I(pe)}else I(T)},Ee=q=>{const te=window.SpeechRecognition||window.webkitSpeechRecognition;if(!te){alert("         .");return}if(v===q){y(null);return}const ae=new te;ae.lang="fa-IR",ae.continuous=!1,ae.interimResults=!1,ae.onstart=()=>y(q),ae.onend=()=>y(null),ae.onresult=pe=>{const U=pe.results[0][0].transcript;D(F=>({...F,[q]:F[q]?`${F[q]} ${U}`:U}))},ae.start()},Ae=()=>{L([...B,{id:Math.random().toString(),name:"",startDate:O.startDate,startTime:O.startTime||"08:00",endDate:O.endDate,endTime:O.endTime||"16:00",durationMinutes:0}])},Ye=(q,te,ae)=>{L(pe=>pe.map(U=>{if(U.id!==q)return U;const F={...U,[te]:ae};return["startDate","startTime","endDate","endTime"].includes(te)&&(F.durationMinutes=nle(F.startDate,F.startTime,F.endDate,F.endTime)),F}))},nt=()=>{var q;H([...V,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((q=w[0])==null?void 0:q.title)||""}])},Q=(q,te,ae)=>{H(pe=>pe.map(U=>U.id===q?{...U,[te]:ae}:U))},he=q=>{if(q.target.files&&q.target.files.length>0){const te=Array.from(q.target.files).map(ae=>({id:Math.random().toString(),name:ae.name}));z(ae=>[...ae,...te]),q.target.value=""}},ge=(q,te)=>{q(ae=>ae.filter(pe=>pe.id!==te))},W=()=>{if(!O.equipCode&&!O.equipLocalName)return"        .";if(!O.productionLine)return"     .";if(!O.workCategory)return"   ()   .";if(!O.failureDesc)return"   .";if(i){if(!O.actionDesc)return"    .";if(!O.startDate||!O.startTime||!O.endDate||!O.endTime)return"      .";if(!O.downtime||!O.repairTime)return"       .";if(Wf(O.startDate)||Wf(O.endDate))return"         .";if(tle(O.startDate,O.startTime,O.endDate,O.endTime)===1)return":            ."}return null},Le=async q=>{q.preventDefault(),f(null);const te=W();if(te){f(te),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const ae={...O,labor:B,parts:V,docs:J};if(i&&e)e(ae);else{x(!0);try{const pe=Qr("W").substring(0,5),U=await ule(pe);Di("WORK_ORDER",ae,r,U,` : ${O.equipName||O.equipLocalName} - ${O.failureDesc.substring(0,30)}...`)?(g(!0),u(U)):f("   .    .")}catch(pe){console.error(pe),f("        .")}finally{x(!1)}}};return l?c.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(pC,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),c.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),c.jsxs("div",{className:"p-6 space-y-3",children:[c.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[c.jsx(uD,{className:"w-5 h-5"}),"     "]}),c.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&c.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[c.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),c.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),c.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),c.jsxs("form",{onSubmit:Le,className:"p-6",children:[d&&c.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[c.jsx(Z$,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),c.jsx("span",{children:d})]}),a==="GENERAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm",children:O.requester})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:O.reportDate})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:O.reportTime})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:O.shift,onChange:q=>D({...O,shift:q.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[c.jsx("option",{value:"DayWork",children:""}),c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"  ()"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:O.equipLocalName,onChange:we,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:"  ..."}),R.length>0?R.map(q=>c.jsx("option",{value:q.local_name,children:q.local_name},q.id)):c.jsx("option",{disabled:!0,children:"  "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),i?c.jsx("input",{type:"text",value:O.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):c.jsxs("select",{value:O.equipCode,onChange:ne,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[c.jsx("option",{value:"",children:"  (  )"}),P.map(q=>c.jsxs("option",{value:q.code,children:[q.code," - ",q.name]},q.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:O.productionLine,onChange:q=>D({...O,productionLine:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"Line A",children:"Line A"}),c.jsx("option",{value:"Line B",children:"Line B"}),c.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"   ()"}),c.jsx("input",{type:"text",readOnly:!0,value:O.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"      "})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  (Location)"}),c.jsxs("select",{disabled:i,value:O.locationId,onChange:q=>D({...O,locationId:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" ..."}),N.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:O.workType,onChange:q=>D({...O,workType:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"REPAIR",children:"  (EM)"}),c.jsx("option",{value:"PM",children:"  (PM)"}),c.jsx("option",{value:"PROJECT",children:" / "}),c.jsx("option",{value:"INSPECTION",children:" "}),c.jsx("option",{value:"SERVICE",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:O.workCategory,onChange:q=>D({...O,workCategory:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"MECHANICAL",children:""}),c.jsx("option",{value:"ELECTRICAL",children:""}),c.jsx("option",{value:"INSTRUMENTATION",children:" "}),c.jsx("option",{value:"FACILITIES",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:O.priority,onChange:q=>D({...O,priority:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"NORMAL",children:""}),c.jsx("option",{value:"URGENT",children:""}),c.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:O.failureDesc,onChange:q=>D({...O,failureDesc:q.target.value})}),!i&&c.jsx("button",{type:"button",onClick:()=>Ee("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="failureDesc"?c.jsx(ml,{className:"w-5 h-5 animate-spin"}):c.jsx(wo,{className:"w-5 h-5"})})]})]}),i&&c.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[c.jsx(fC,{className:"w-5 h-5"}),"    (  )"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:O.actionDesc,onChange:q=>D({...O,actionDesc:q.target.value})}),c.jsx("button",{type:"button",onClick:()=>Ee("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="actionDesc"?c.jsx(ml,{className:"w-5 h-5 animate-spin"}):c.jsx(wo,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Rr,{label:" ",value:O.startDate,onChange:q=>D({...O,startDate:q})}),c.jsx(cr,{label:" ",value:O.startTime,onChange:q=>D({...O,startTime:q})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Rr,{label:" ",value:O.endDate,onChange:q=>D({...O,endDate:q})}),c.jsx(cr,{label:" ",value:O.endTime,onChange:q=>D({...O,endTime:q})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:O.downtime,onChange:q=>D({...O,downtime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:O.repairTime,onChange:q=>D({...O,repairTime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&c.jsxs("div",{className:"space-y-4",children:[B.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 ml-2",children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:q.name,onChange:te=>Ye(q.id,"name",te.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[c.jsx("option",{value:"",children:"..."}),c.jsx("option",{value:" ",children:"  ()"}),c.jsx("option",{value:" ",children:"  ()"})]})]}),c.jsx("button",{type:"button",onClick:()=>ge(L,q.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:c.jsx(xn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Rr,{label:" ",value:q.startDate,onChange:te=>Ye(q.id,"startDate",te)}),c.jsx(cr,{label:" ",value:q.startTime,onChange:te=>Ye(q.id,"startTime",te)}),c.jsx(Rr,{label:" ",value:q.endDate,onChange:te=>Ye(q.id,"endDate",te)}),c.jsx(cr,{label:" ",value:q.endTime,onChange:te=>Ye(q.id,"endTime",te)})]})]},q.id)),c.jsxs("button",{type:"button",onClick:Ae,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&c.jsxs("div",{className:"space-y-4",children:[V.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[c.jsx("button",{type:"button",onClick:()=>ge(H,q.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:c.jsx(xn,{className:"w-4 h-4"})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:q.code,onChange:te=>Q(q.id,"code",te.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:q.name,onChange:te=>Q(q.id,"name",te.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:q.qty,onChange:te=>Q(q.id,"qty",Number(te.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:q.unit,onChange:te=>Q(q.id,"unit",te.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:w.length>0?w.map(te=>c.jsx("option",{value:te.title,children:te.title},te.id)):c.jsx("option",{value:"",children:""})})]})]})]},q.id)),c.jsxs("button",{type:"button",onClick:nt,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("input",{type:"file",ref:M,multiple:!0,className:"hidden",onChange:he}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var q;return(q=M.current)==null?void 0:q.click()},children:[c.jsx(SC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),J.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),J.map(q=>c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[c.jsx("span",{className:"text-sm truncate max-w-[200px]",children:q.name}),c.jsx("button",{type:"button",onClick:()=>ge(z,q.id),className:"text-red-500",children:c.jsx(xn,{className:"w-4 h-4"})})]},q.id))]})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:c.jsxs("button",{disabled:b,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-wait",children:[b?c.jsx(ml,{className:"w-5 h-5 animate-spin"}):c.jsx(gs,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},hle=()=>{const t=ms(),[e,n]=k.useState([]),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState([]),[g,v]=k.useState(""),[y,b]=k.useState("ALL"),[x,w]=k.useState(""),[_,T]=k.useState(""),[S,E]=k.useState(1),[A,N]=k.useState(10);k.useEffect(()=>{const M=Xx();n(M.sort((O,D)=>D.createdAt.localeCompare(O.createdAt)))},[]),k.useEffect(()=>{let M=e;g&&(M=M.filter(O=>{var D;return O.title.includes(g)||O.trackingCode.includes(g)||((D=O.data)==null?void 0:D.equipName)&&O.data.equipName.includes(g)})),y!=="ALL"&&(M=M.filter(O=>C(O).includes(y))),x&&(M=M.filter(O=>O.createdAt>=x)),_&&(M=M.filter(O=>O.createdAt<=_)),i(M),E(1),h([])},[e,g,y,x,_]),k.useEffect(()=>{const M=(S-1)*A,O=M+A;a(r.slice(M,O))},[r,S,A]);const C=M=>{if(M.status==="DONE")return" ";const D=Ru().find(L=>L.id===M.workflowId),B=D==null?void 0:D.steps.find(L=>L.id===M.currentStepId);return(B==null?void 0:B.title)||""},P=M=>{const O=C(M);let D="bg-gray-100 text-gray-600";return O.includes("")?D="bg-blue-100 text-blue-700":O.includes("")?D="bg-orange-100 text-orange-700":O.includes("")?D="bg-purple-100 text-purple-700":(O.includes("")||M.status==="DONE")&&(D="bg-green-100 text-green-700"),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${D}`,children:O})},I=M=>{M.target.checked?h(o.map(O=>O.id)):h([])},R=M=>{f.includes(M)?h(f.filter(O=>O!==M)):h([...f,M])},$=()=>{const M=f.length>0?e.filter(H=>f.includes(H.id)):r;if(M.length===0){alert("    .");return}const O=[" ","",""," ","",""],D=M.map(H=>{var J,z;return[H.trackingCode,((J=H.data)==null?void 0:J.equipName)||"-",H.title,((z=H.data)==null?void 0:z.requester)||"-",H.createdAt,C(H)]}),B="data:text/csv;charset=utf-8,\uFEFF"+O.join(",")+`
`+D.map(H=>H.join(",")).join(`
`),L=encodeURI(B),V=document.createElement("a");V.setAttribute("href",L),V.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(Fd,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),c.jsxs("button",{onClick:$,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(O0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]}),c.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(yr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[c.jsxs("div",{className:"relative flex-1 w-full",children:[c.jsx(Dd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:M=>v(M.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[c.jsx(j0,{className:"w-5 h-5"}),c.jsx("span",{children:""}),u?c.jsx(yC,{className:"w-4 h-4"}):c.jsx(gC,{className:"w-4 h-4"})]})]}),u&&c.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),c.jsxs("select",{value:y,onChange:M=>b(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[c.jsx("option",{value:"ALL",children:" "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:"  "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:M=>w(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:M=>T(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>{b("ALL"),w(""),T(""),v("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:I,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:"  / "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(M=>{var O,D,B;return c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(M.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:f.includes(M.id),onChange:()=>R(M.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:M.trackingCode}),c.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((O=M.data)==null?void 0:O.equipName)||"-"}),c.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((D=M.data)==null?void 0:D.failureDesc)||M.title}),c.jsx("td",{className:"p-4",children:((B=M.data)==null?void 0:B.requester)||""}),c.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:M.createdAt}),c.jsx("td",{className:"p-4",children:P(M)}),c.jsx("td",{className:"p-4",children:c.jsxs("button",{onClick:()=>l(M),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[c.jsx(Od,{className:"w-4 h-4"})," "]})})]},M.id)}):c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[c.jsx(Dd,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("span",{children:"     ."})]})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:A,onChange:M=>{N(Number(M.target.value)),E(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsx("span",{children:"   "}),c.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{disabled:S===1,onClick:()=>E(M=>Math.max(1,M-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(xh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/A)||1]}),c.jsx("button",{disabled:S>=Math.ceil(r.length/A),onClick:()=>E(M=>M+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(P0,{className:"w-4 h-4"})})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-lg",children:s.title}),c.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),c.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(Un,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:c.jsx("div",{className:"pointer-events-none opacity-90",children:c.jsx(Qx,{initialData:s.data})})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:c.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},ple=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],mle=({user:t})=>{const e=ms(),[n,r]=k.useState("SELECT"),[i,o]=k.useState(ple),[a,s]=k.useState(""),l=(h,g)=>{o(v=>v.map(y=>y.id===h?{...y,status:g}:y))},u=()=>{r("SENDING"),setTimeout(()=>{s(Qr("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[c.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:c.jsx(yD,{className:"w-20 h-20 text-primary"})}),c.jsx("p",{className:"text-lg font-medium",children:" QR   "}),c.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),c.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:c.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return c.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-4xl animate-bounce",children:""}),c.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:"  101"}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:at()}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[c.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),c.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>c.jsx("li",{children:g.desc},g.id))})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(TC,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(wC,{className:"w-5 h-5"})," "]})]})]})}return c.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),c.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),c.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),c.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[c.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[c.jsx(C0,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[c.jsx(Un,{className:"w-5 h-5"})," "]})]}):c.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[c.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),c.jsx(wo,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[c.jsx(N0,{className:"w-4 h-4"}),"  "]}),c.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:c.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})};function Do({data:t,columns:e,title:n,icon:r,onAdd:i,onViewDetails:o,onDelete:a,searchKeys:s=[]}){const[l,u]=k.useState(t),[d,f]=k.useState(""),[h,g]=k.useState(1),[v,y]=k.useState(10),[b,x]=k.useState([]),[w,_]=k.useState(!1);k.useEffect(()=>{let P=t;if(d){const I=d.toLowerCase();P=P.filter(R=>Object.values(R).join(" ").toLowerCase().includes(I))}u(P),g(1)},[t,d]);const T=(h-1)*v,S=T+v,E=l.slice(T,S),A=P=>{P.target.checked?x(E.map(I=>I.id)):x([])},N=P=>{b.includes(P)?x(b.filter(I=>I!==P)):x([...b,P])},C=()=>{const P=b.length>0?t.filter(O=>b.includes(O.id)):l;if(P.length===0)return alert("    ");const I=e.map(O=>O.header),R=P.map(O=>e.map(D=>{const B=D.accessor(O);return typeof B=="string"||typeof B=="number"?B:"-"})),$="data:text/csv;charset=utf-8,\uFEFF"+I.join(",")+`
`+R.map(O=>O.join(",")).join(`
`),M=document.createElement("a");M.setAttribute("href",encodeURI($)),M.setAttribute("download",`export_${Date.now()}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[r&&c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(r,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[b.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[b.length,"  "]}),c.jsxs("button",{onClick:C,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(O0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:""})]}),i&&c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(yr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Dd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:P=>f(P.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600",children:c.jsx(j0,{className:"w-5 h-5 text-gray-500"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:A,checked:E.length>0&&b.length===E.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((P,I)=>c.jsx("th",{className:"p-4",children:P.header},I)),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:E.length>0?E.map((P,I)=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${b.includes(P.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:b.includes(P.id),onChange:()=>N(P.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((R,$)=>c.jsx("td",{className:"p-4",children:R.accessor(P)},$)),c.jsxs("td",{className:"p-4 flex gap-2",children:[o&&c.jsx("button",{onClick:()=>o(P),className:"p-2 text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition",children:c.jsx(Od,{className:"w-4 h-4"})}),a&&c.jsx("button",{onClick:()=>a(P),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition",children:c.jsx(xn,{className:"w-4 h-4"})})]})]},P.id||I)):c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:v,onChange:P=>{y(Number(P.target.value)),g(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsxs("span",{children:[": ",l.length]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{disabled:h===1,onClick:()=>g(P=>P-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(xh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",h]}),c.jsx("button",{disabled:S>=l.length,onClick:()=>g(P=>P+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(P0,{className:"w-4 h-4"})})]})]})]})]})}const gle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]);k.useEffect(()=>{const d=Li("PART_REQUEST");i(d.map(f=>({...f,...f.data}))),yn("measurement_units").then(a)},[e]);const[s,l]=k.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});k.useEffect(()=>{o.length>0&&!s.unit&&l(d=>({...d,unit:o[0].title}))},[o]);const u=d=>{var h;if(d.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=Qr("P");Di("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:"   ",icon:$d,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:d=>d.trackingCode},{header:" ",accessor:d=>c.jsx("span",{className:"font-bold",children:d.partName})},{header:" ",accessor:d=>d.partCode||"-"},{header:"",accessor:d=>c.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[d.qty," ",d.unit]})},{header:" ",accessor:d=>d.createdAt},{header:" ",accessor:d=>d.description.split("")[1]||"-"},{header:"",accessor:d=>d.status==="PENDING"?"  ":" "}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx($d,{className:"text-primary"}),"    "]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:at(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),c.jsx("input",{type:"text",value:ju(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),c.jsx("input",{type:"text",value:s.partCode,onChange:d=>l({...s,partCode:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",required:!0,value:s.partName,onChange:d=>l({...s,partName:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",min:"1",value:s.qty,onChange:d=>l({...s,qty:Number(d.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:s.unit,onChange:d=>l({...s,unit:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(d=>c.jsx("option",{value:d.title,children:d.title},d.id)):c.jsx("option",{value:"",children:""})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),c.jsxs("select",{value:s.relatedWorkOrder,onChange:d=>l({...s,relatedWorkOrder:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[c.jsx("option",{value:"",children:"  ()"}),c.jsx("option",{children:"W403012293 -  "}),c.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&c.jsxs("div",{className:"animate-fadeIn",children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{required:!0,value:s.requestReason,onChange:d=>l({...s,requestReason:d.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),c.jsxs("div",{className:"pt-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},yle=()=>{const[t,e]=k.useState("LIST"),[n,r]=k.useState([]);k.useEffect(()=>{r(iT())},[t]);const i=k.useRef(null),[o,a]=k.useState(null),[s,l]=k.useState({code:"",name:"",type:""}),u=()=>{var g;(g=i.current)==null||g.click()},d=g=>{g.target.files&&g.target.files[0]&&a(g.target.files[0])},f=g=>{if(g.preventDefault(),!s.code||!s.name)return;const v={id:Ti(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:at()};rle(v),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=g=>{window.confirm("      ")&&(ile(g.id),r(iT()))};return t==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:"  ",icon:Pd,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:g=>c.jsx("span",{className:"font-mono font-bold",children:g.code})},{header:" ",accessor:g=>g.name},{header:" ",accessor:g=>g.type},{header:" ",accessor:g=>g.fileName||"-"},{header:" ",accessor:g=>g.createdAt}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),c.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.code,onChange:g=>l({...s,code:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.name,onChange:g=>l({...s,name:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:s.type,onChange:g=>l({...s,type:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:"MAP",children:""}),c.jsx("option",{value:"CATALOG",children:""}),c.jsx("option",{value:"MANUAL",children:""}),c.jsx("option",{value:"OTHER",children:""})]})]}),c.jsx("input",{type:"file",ref:i,onChange:d,className:"hidden"}),c.jsxs("div",{onClick:u,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[c.jsx(M0,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),c.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),c.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},aT=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=k.useState(!1),a=k.useRef(null),s=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),l=Array.from({length:12},(g,v)=>String(v*5).padStart(2,"0"));k.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),o(!1)};return c.jsxs("div",{className:"relative",ref:a,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),c.jsx(I0,{className:"w-4 h-4 text-gray-400"})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>c.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),c.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>c.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},vle=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=k.useState("LIST"),[i,o]=k.useState([]),[a,s]=k.useState([]),[l,u]=k.useState([]);k.useEffect(()=>{const A=Li("MEETING");o(A.map(N=>({...N,...N.data}))),yn("personnel").then(s),yn("org_chart").then(u)},[n]);const d=k.useRef(null),[f,h]=k.useState([]),[g,v]=k.useState([]),[y,b]=k.useState({name:"",role:""}),[x,w]=k.useState({code:"",subject:"",location:"",meetingDate:at(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!y.name||!y.role){alert("      ");return}v([...g,y]),b({name:"",role:""})},T=A=>{v(g.filter((N,C)=>C!==A))},S=A=>{if(A.preventDefault(),g.length===0){alert("         ");return}const N=Qr("G"),C=g.map(P=>`${P.name} - ${P.role}`).join(`
`);Di("MEETING",{...x,attendees:C,attendeesList:g},e,N,`: ${x.subject}`),alert("  ."),r("LIST"),w({code:"",subject:"",location:"",meetingDate:at(),startTime:"",endTime:"",decisions:""}),v([]),h([])},E=A=>{A.target.files&&A.target.files.length>0&&h([...f,...Array.from(A.target.files)])};return n==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:" ",icon:jd,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:A=>A.trackingCode},{header:" ",accessor:A=>c.jsx("span",{className:"font-bold",children:A.subject})},{header:" ",accessor:A=>A.meetingDate},{header:"",accessor:A=>`${A.startTime} - ${A.endTime}`},{header:"",accessor:A=>A.location},{header:"",accessor:A=>A.status==="PENDING"?"":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),c.jsx("input",{type:"text",value:x.code,onChange:A=>w({...x,code:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:x.subject,onChange:A=>w({...x,subject:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),c.jsx("input",{type:"text",value:x.location,onChange:A=>w({...x,location:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsx("div",{children:c.jsx(Rr,{label:" ",value:x.meetingDate,onChange:A=>w({...x,meetingDate:A})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[c.jsx("div",{children:c.jsx(aT,{label:" ",value:x.startTime,onChange:A=>w({...x,startTime:A})})}),c.jsx("div",{children:c.jsx(aT,{label:" ",value:x.endTime,onChange:A=>w({...x,endTime:A})})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[c.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[c.jsx(qu,{className:"w-4 h-4"}),"   "]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.name,onChange:A=>b({...y,name:A.target.value}),children:[c.jsx("option",{value:"",children:"  ..."}),a.map(A=>c.jsxs("option",{value:`${A.first_name} ${A.last_name}`,children:[A.first_name," ",A.last_name," (",A.unit,")"]},A.id))]}),c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.role,onChange:A=>b({...y,role:A.target.value}),children:[c.jsx("option",{value:"",children:" /..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]}),c.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(yr,{className:"w-5 h-5"})})]}),g.length>0?c.jsx("ul",{className:"space-y-2",children:g.map((A,N)=>c.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[c.jsxs("span",{children:[A.name," ",c.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:A.role})]}),c.jsx("button",{type:"button",onClick:()=>T(N),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(xn,{className:"w-4 h-4"})})]},N))}):c.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:x.decisions,onChange:A=>w({...x,decisions:A.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),c.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),c.jsx("input",{type:"file",ref:d,multiple:!0,className:"hidden",onChange:E}),c.jsxs("button",{type:"button",onClick:()=>{var A;return(A=d.current)==null?void 0:A.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&c.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((A,N)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),A.name]},N))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[c.jsx(gs,{className:"w-5 h-5"}),"   "]})]})]})]})},xle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]);k.useEffect(()=>{const v=Li("SUGGESTION");i(v.map(y=>({...y,...y.data})))},[e]);const[o,a]=k.useState(""),s=k.useRef(null),[l,u]=k.useState([]),d=v=>{if(v.preventDefault(),!o.trim())return;const y=Qr("H");Di("SUGGESTION",{text:o},t,y,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),u([])},f=()=>{var v;(v=s.current)==null||v.click()},h=v=>{v.target.files&&v.target.files.length>0&&u([...l,...Array.from(v.target.files)])},g=v=>{u(l.filter((y,b)=>b!==v))};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:" ",icon:Md,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.description.split("")[1]||t.fullName},{header:"",accessor:v=>c.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Md,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:at(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:o,onChange:v=>a(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),c.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:c.jsx(wo,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx(SC,{className:"w-4 h-4"}),"  "]}),c.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&c.jsx("div",{className:"mt-4 space-y-2",children:l.map((v,y)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[c.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),c.jsx("button",{type:"button",onClick:()=>g(y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(xn,{className:"w-4 h-4"})})]},y))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[c.jsx(Ld,{className:"w-5 h-5"}),"  "]})]})]})]})},ble=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]);k.useEffect(()=>{const T=Li("PURCHASE");i(T.map(S=>({...S,...S.data}))),yn("measurement_units").then(a)},[e]);const[s,l]=k.useState(""),[u,d]=k.useState(at()),[f,h]=k.useState(null),[g,v]=k.useState(""),[y,b]=k.useState(1),[x,w]=k.useState("");k.useEffect(()=>{o.length>0&&!x&&w(o[0].title)},[o]);const _=T=>{if(T.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const E=Qr("K");Di("PURCHASE",{requestNumber:s,requestDate:u,desc:g,qty:y,unit:x},t,E,`: ${g.substring(0,15)}...`),alert("   "),n("LIST"),l(""),v(""),b(1),d(at())};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:" ",icon:Ud,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:T=>T.trackingCode},{header:" ",accessor:T=>c.jsx("span",{className:"font-mono font-bold",children:T.requestNumber})},{header:" ",accessor:T=>T.desc},{header:"",accessor:T=>T.qty+" "+(T.unit||"")},{header:"",accessor:T=>T.requestDate||T.createdAt},{header:"",accessor:T=>T.status==="PENDING"?" ":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ud,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:s,onChange:T=>{l(T.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[c.jsx(hC,{className:"w-3 h-3"}),c.jsx("span",{children:f})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx(Rr,{value:u,onChange:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:" ( )"}),c.jsx("option",{children:" ()"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:""}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:""}),c.jsx("option",{children:""}),c.jsx("option",{children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:g,onChange:T=>v(T.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),c.jsx(wo,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:y,onChange:T=>b(Number(T.target.value)),className:"input-field",required:!0})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:x,onChange:T=>w(T.target.value),className:"input-field",children:o.length>0?o.map(T=>c.jsx("option",{value:T.title,children:T.title},T.id)):c.jsx("option",{value:"",children:""})})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),c.jsx(wo,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),c.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},wle=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=k.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(s)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:" "}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?c.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),c.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:c.jsx(N0,{className:"w-4 h-4"})}),c.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),c.jsx("p",{className:"text-gray-500",children:t.role})]})]}),c.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:c.jsx(xD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium block",children:"  "}),c.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:""}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"   "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},_le=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]);k.useEffect(()=>{const y=Li("PROJECT");i(y.map(b=>({...b,...b.data})))},[e]);const[o,a]=k.useState({title:"",manager:"",budget:0,startDate:at(),endDate:"",description:""}),[s,l]=k.useState([]),[u,d]=k.useState({title:"",weight:10}),f=()=>{if(!u.title)return;const y=s.reduce((b,x)=>b+x.weight,0);if(y+u.weight>100){alert(`      .  : ${100-y}`);return}l([...s,{id:Math.random().toString(),title:u.title,weight:u.weight,progress:0}]),d({title:"",weight:10})},h=y=>{l(s.filter(b=>b.id!==y))},g=()=>{const y=s.reduce((x,w)=>x+w.weight,0);if(y===0)return 0;const b=s.reduce((x,w)=>x+w.progress*w.weight,0);return Math.round(b/y)},v=y=>{y.preventDefault();const b=Qr("P"),x=s.reduce((_,T)=>_+T.weight,0);if(s.length>0&&x!==100){alert(`     .  : ${x}`);return}const w={...o,milestones:s,progress:g()};Di("PROJECT",w,t,b,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:at(),endDate:"",description:""}),l([])};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:"   ",icon:Id,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>c.jsx("span",{className:"font-bold",children:y.title})},{header:" ",accessor:y=>y.manager},{header:" ",accessor:y=>y.startDate},{header:" ()",accessor:y=>Number(y.budget).toLocaleString()},{header:"",accessor:y=>c.jsxs("div",{className:"w-24",children:[c.jsx("div",{className:"flex justify-between text-xs mb-1",children:c.jsxs("span",{children:[y.progress||0,"%"]})}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500",style:{width:`${y.progress||0}%`}})})]})},{header:"",accessor:y=>c.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:y.status==="PENDING"?"  ":" "})}]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(Id,{className:"w-8 h-8 text-primary"}),c.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),c.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.title,onChange:y=>a({...o,title:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.manager,onChange:y=>a({...o,manager:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsx("div",{children:c.jsx(Rr,{label:" ",value:o.startDate||"",onChange:y=>a({...o,startDate:y}),disableFuture:!1})}),c.jsx("div",{children:c.jsx(Rr,{label:"  ()",value:o.endDate||"",onChange:y=>a({...o,endDate:y}),disableFuture:!1})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:o.budget,onChange:y=>a({...o,budget:Number(y.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),c.jsx("textarea",{value:o.description,onChange:y=>a({...o,description:y.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(TD,{className:"w-5 h-5"}),"   (WBS)"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:u.title,onChange:y=>d({...u,title:y.target.value})}),c.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:u.weight,onChange:y=>d({...u,weight:Number(y.target.value)})}),c.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(yr,{className:"w-5 h-5"})})]}),s.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[c.jsx("span",{className:"col-span-8",children:" "}),c.jsx("span",{className:"col-span-2 text-center",children:""}),c.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(y=>c.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[c.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[c.jsx(mC,{className:"w-4 h-4 text-green-500"})," ",y.title]}),c.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[y.weight,"%"]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(xn,{className:"w-4 h-4"})})})]},y.id)),c.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",c.jsxs("span",{className:`${s.reduce((y,b)=>y+b.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((y,b)=>y+b.weight,0),"%"]})]})]}):c.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[c.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[c.jsx(Un,{className:"w-5 h-5"})," "]}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[c.jsx(gs,{className:"w-5 h-5"}),"      "]})]})]})]})},Sle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState(!1),[o,a]=k.useState([]),[s,l]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState([]);k.useEffect(()=>{const _=Li("PERFORMANCE");a(_.map(T=>({...T,...T.data}))),yn("evaluation_periods").then(l),yn("evaluation_criteria").then(T=>{d(T),T.length>0&&g.criteria.length===0&&v(S=>({...S,criteria:T.map(E=>({label:E.title,score:0,max:E.max_score}))}))}),yn("personnel").then(h)},[e]);const[g,v]=k.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});k.useEffect(()=>{s.length>0&&!g.period&&v(_=>({..._,period:s[0].title}))},[s]),k.useEffect(()=>{u.length>0&&g.criteria.length===0&&v(_=>({..._,criteria:u.map(T=>({label:T.title,score:0,max:T.max_score}))}))},[u]);const y=g.criteria.reduce((_,T)=>_+T.score,0),b=_=>{var S;if(_.preventDefault(),!g.personnelId){alert("      .");return}const T=Qr("G");Di("PERFORMANCE",{...g,totalScore:y},t,T,` : ${g.personnelName} - ${g.period}`),alert("       ."),n("LIST"),v({personnelId:"",personnelName:"",unit:"",period:((S=s[0])==null?void 0:S.title)||"",criteria:u.map(E=>({label:E.title,score:0,max:E.max_score}))})},x=(_,T)=>{const S=g.criteria[_].max;if(T>S){alert(`       (${S})  .`);return}const E=[...g.criteria];E[_].score=Math.max(0,T),v({...g,criteria:E})},w=_=>{v({...g,personnelId:_.id,personnelName:`${_.first_name} ${_.last_name}`,unit:_.unit}),i(!1)};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Do,{title:"  ",icon:k0,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:_=>_.trackingCode},{header:" ",accessor:_=>c.jsx("span",{className:"font-bold",children:_.personnelName})},{header:"",accessor:_=>_.unit},{header:" ",accessor:_=>_.period},{header:" ",accessor:_=>c.jsxs("span",{className:`font-bold ${_.totalScore>=80?"text-green-600":"text-orange-500"}`,children:[_.totalScore," / ",u.reduce((T,S)=>T+S.max_score,0)||100]})},{header:"",accessor:_=>_.description.split("")[1]||"-"}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),c.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),g.personnelName?c.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:g.personnelName}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",g.unit]})]}),c.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):c.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[c.jsx(qu,{className:"w-5 h-5"}),"   "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:g.period,onChange:_=>v({...g,period:_.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(_=>c.jsx("option",{value:_.title,children:_.title},_.id)):c.jsx("option",{children:"   "})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:" "}),g.criteria.length>0?g.criteria.map((_,T)=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[c.jsxs("div",{className:"mb-2 md:mb-0",children:[c.jsxs("span",{className:"font-medium block",children:[T+1,". ",_.label]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",_.max]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"0",max:_.max,value:_.score,onChange:S=>x(T,Number(S.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),c.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",_.max]})]})]},T)):c.jsx("p",{className:"text-center text-gray-400",children:"   ."})]}),c.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[c.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black text-primary",children:y}),c.jsxs("span",{className:"text-gray-500",children:["/ ",u.reduce((_,T)=>_+T.max_score,0)||100]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),c.jsx("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95",children:"   "})]})]})]}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold text-lg",children:" "}),c.jsx("button",{onClick:()=>i(!1),children:c.jsx(Un,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("div",{className:"relative",children:[c.jsx(Dd,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"   "}),c.jsx("th",{className:"p-3",children:" "}),c.jsx("th",{className:"p-3",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(_=>c.jsxs("tr",{onClick:()=>w(_),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[c.jsxs("td",{className:"p-3 font-bold",children:[_.first_name," ",_.last_name]}),c.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:_.unit}),c.jsx("td",{className:"p-3",children:c.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:c.jsx(C0,{className:"w-4 h-4"})})})]},_.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Ele=({user:t})=>{var v;const[e,n]=k.useState("WORK_ORDER"),[r,i]=k.useState([]),[o,a]=k.useState(null);k.useEffect(()=>{const y=oT(t);i(y)},[t,e]);const s=(y,b)=>{o&&(fle(o.id,y,t),a(null),i(oT(t)))},l=y=>{const x=u(o).find(w=>w.style==="primary"||w.style==="success");x&&o?(o.data=y,s(x.id)):alert("      .")},u=y=>{const x=Ru().find(_=>_.id===y.workflowId);if(!x)return[];const w=x.steps.find(_=>_.id===y.currentStepId);return w?w.actions:[]},d=y=>{const x=Ru().find(_=>_.id===y.workflowId),w=x==null?void 0:x.steps.find(_=>_.id===y.currentStepId);return(w==null?void 0:w.title)||""},f=y=>r.filter(b=>b.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:Pw},{id:"PROJECT",label:"",icon:Id},{id:"PERFORMANCE",label:" ",icon:k0},{id:"PART_REQUEST",label:" ",icon:$d},{id:"INSPECTION",label:" ",icon:vC},{id:"DOCUMENT",label:" ",icon:Pd},{id:"MEETING",label:"",icon:jd},{id:"SUGGESTION",label:"",icon:Md},{id:"PURCHASE",label:" ",icon:Ud}],g=({item:y})=>{const b=u(y),[x,w]=k.useState("");return y.module==="WORK_ORDER"?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[c.jsx(Pw,{className:"w-5 h-5 text-primary"}),y.title]}),c.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(kw,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(Qx,{initialData:y.data,onProcessComplete:l})})]}):c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),c.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),c.jsx("h2",{className:"text-xl font-bold",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(kw,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([_,T])=>typeof T=="object"||Array.isArray(T)||_==="id"?null:c.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[c.jsxs("span",{className:"text-gray-500",children:[_,":"]}),c.jsx("span",{className:"font-medium",children:String(T)})]},_))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),c.jsx("textarea",{value:x,onChange:_=>w(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:b.map(_=>{const T=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return c.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${T}`,children:_.label},_.id)})})]})};return o?c.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:c.jsx(g,{item:o})}):c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[c.jsx(Rd,{className:"w-5 h-5"}),"  "]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>c.jsxs("button",{onClick:()=>{n(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(y.icon,{className:"w-4 h-4"}),c.jsx("span",{children:y.label})]}),f(y.id)>0&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("h3",{className:"font-bold",children:[" : ",(v=h.find(y=>y.id===e))==null?void 0:v.label]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(y=>y.module===e).length===0?c.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[c.jsx(pC,{className:"w-12 h-12 mb-3 opacity-20"}),c.jsx("p",{children:"     ."})]}):r.filter(y=>y.module===e).map(y=>c.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[c.jsx(I0,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},Tle=[{id:"1",name:" "},{id:"2",name:" "},{id:"3",name:" "},{id:"4",name:" "}],Ale=({user:t})=>{const[e,n]=k.useState("INBOX"),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[u,d]=k.useState("USER"),[f,h]=k.useState(""),[g,v]=k.useState(""),[y,b]=k.useState("");k.useEffect(()=>{x()},[t,e]);const x=()=>{i(ale(t)),a(sle(t.id))},w=S=>{l(S),e==="INBOX"&&!S.readBy.includes(t.id)&&(lle(S.id,t.id),i(E=>E.map(A=>A.id===S.id?{...A,readBy:[...A.readBy,t.id]}:A)))},_=S=>{S.preventDefault();let E=f;if(u==="ALL"&&(E="ALL"),u!=="ALL"&&!E){alert("    ");return}ole(t,E,u,g,y),alert("    "),v(""),b(""),h(""),n("SENT")},T=S=>S.readBy.length>0?c.jsx("span",{title:" ",children:c.jsx(Nw,{className:"w-4 h-4 text-blue-500"})}):c.jsx("span",{title:" ",children:c.jsx(C0,{className:"w-4 h-4 text-gray-400"})});return c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null)},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[c.jsx(Ld,{className:"w-4 h-4"}),"   "]})}),c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rd,{className:"w-4 h-4"}),"  "]}),r.filter(S=>!S.readBy.includes(t.id)).length>0&&c.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(S=>!S.readBy.includes(t.id)).length})]}),c.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(M0,{className:"w-4 h-4"}),"  "]})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(_C,{className:"w-6 h-6 text-primary"}),"   "]}),c.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>d("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx($0,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(qu,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(aD,{className:"w-4 h-4"})," "]})]})]}),u==="USER"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),Tle.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u==="GROUP"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:en.ADMIN,children:" "}),c.jsx("option",{value:en.MANAGER,children:" "}),c.jsx("option",{value:en.USER,children:" "}),c.jsx("option",{value:en.STOREKEEPER,children:""})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:g,onChange:S=>v(S.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:y,onChange:S=>b(S.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2",children:[c.jsx(Ld,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&c.jsxs("div",{className:"flex h-full",children:[c.jsxs("div",{className:`${s?"hidden md:block md:w-1/3 border-l dark:border-gray-700":"w-full"} overflow-y-auto`,children:[(e==="INBOX"?r:o).length===0&&c.jsxs("div",{className:"text-center p-10 text-gray-400",children:[c.jsx(Rd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"   "})]}),(e==="INBOX"?r:o).map(S=>c.jsxs("div",{onClick:()=>w(S),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition
                                    ${(s==null?void 0:s.id)===S.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                    ${e==="INBOX"&&!S.readBy.includes(t.id)?"border-r-4 border-r-primary bg-gray-50/50":""}
                                `,children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:`text-sm ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-black text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:e==="INBOX"?S.senderName:`: ${S.receiverId==="ALL"?"":S.receiverType==="GROUP"?" "+S.receiverId:""}`}),c.jsx("span",{className:"text-xs text-gray-400",dir:"ltr",children:S.createdAt})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:`text-sm truncate ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-bold":"text-gray-600"}`,children:S.subject}),e==="SENT"&&T(S)]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:S.body})]},S.id))]}),s?c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:s.subject}),c.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:s.senderName[0]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("span",{className:"font-bold",children:s.senderName})}),c.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&c.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",s.receiverType==="ALL"?" ":s.receiverType==="GROUP"?` ${s.receiverId}`:"",s.readBy.length>0&&c.jsxs("span",{className:"mr-2 text-green-600 flex items-center gap-1 inline-flex",children:[c.jsx(Nw,{className:"w-3 h-3"}),"    ",s.readBy.length," "]})]})]}),c.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body})})]}):c.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},kle=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(null);k.useEffect(()=>{e(Ru())},[]);const i=()=>{const l={id:Ti(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(dle(n),e(Ru()),alert("    ."))},a=()=>{if(!n)return;const l={id:Ti(),title:" ",assigneeRole:en.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const u={id:Ti(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,u]})})};return n?c.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),c.jsx("div",{className:"h-8 w-px bg-gray-300"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[c.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),c.jsx("option",{value:"PROJECT",children:" (Project)"}),c.jsx("option",{value:"PART_REQUEST",children:" "}),c.jsx("option",{value:"PURCHASE",children:" "}),c.jsx("option",{value:"PERFORMANCE",children:" "}),c.jsx("option",{value:"MEETING",children:""}),c.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[c.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),c.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[c.jsx(gs,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:c.jsxs("div",{className:"flex gap-8 min-w-max",children:[c.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:c.jsx(mD,{className:"w-6 h-6 ml-1"})}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx(Yp,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,u)=>c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[u].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs text-gray-500",children:" :"}),c.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[u].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(en).map(d=>c.jsx("option",{value:d,children:d},d)),c.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),c.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:c.jsx(xn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:d.label,onChange:h=>{const g=[...n.steps];g[u].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),c.jsxs("select",{value:d.style,onChange:h=>{const g=[...n.steps];g[u].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[c.jsx("option",{value:"primary",children:""}),c.jsx("option",{value:"success",children:""}),c.jsx("option",{value:"danger",children:""}),c.jsx("option",{value:"neutral",children:""})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(Yp,{className:"w-3 h-3"}),c.jsx("span",{children:" :"}),c.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...n.steps];g[u].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[c.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>c.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),c.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),c.jsx(Yp,{className:"w-8 h-8 text-gray-300"})]},l.id)),c.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[c.jsx(yr,{className:"w-8 h-8 mb-2"}),c.jsx("span",{children:" "})]})]})})]}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(bC,{className:"text-primary"}),"   "]}),c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:c.jsx(R0,{className:"w-6 h-6"})}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),c.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),c.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),c.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),c.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Nle=()=>{const[t,e]=k.useState("LOGINS"),[n,r]=k.useState([]),[i,o]=k.useState([]),[a,s]=k.useState([]),[l,u]=k.useState(""),[d,f]=k.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};k.useEffect(()=>{g(),s(h[t])},[t]),k.useEffect(()=>{if(l){const x=l.toLowerCase();o(n.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(x))))}else o(n)},[l,n]);const g=()=>{let x=[];switch(t){case"LOGINS":x=JSON.parse(localStorage.getItem("system_logs")||"[]"),x.reverse();break;case"WORK_ORDERS":x=Xx().map(w=>{var _,T;return{...w,requester:((_=w.data)==null?void 0:_.requester)||"-",equipName:((T=w.data)==null?void 0:T.equipName)||"-"}});break;case"PARTS":x=Li("PART_REQUEST").map(w=>{var _,T,S;return{...w,partName:(_=w.data)==null?void 0:_.partName,qty:(T=w.data)==null?void 0:T.qty,unit:(S=w.data)==null?void 0:S.unit,requester:w.description.split("")[1]||"-"}});break}r(x),o(x)},v=x=>{s(w=>w.map(_=>_.id===x?{..._,visible:!_.visible}:_))},y=()=>{if(i.length===0)return alert("    ");const x=a.filter(E=>E.visible),w=x.map(E=>E.label),_=i.map(E=>x.map(A=>E[A.id]||"-")),T="data:text/csv;charset=utf-8,\uFEFF"+w.join(",")+`
`+_.map(E=>E.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(T)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},b=()=>{if(i.length===0)return[];const x=t==="LOGINS"?"date":"status",w={};return i.forEach(_=>{const T=_[x]||"";w[T]=(w[T]||0)+1}),Object.keys(w).map(_=>({name:_,count:w[_]})).slice(0,10)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(EC,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),c.jsxs("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[c.jsx(O0,{className:"w-5 h-5"}),"  "]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[c.jsx(R0,{className:"w-4 h-4"}),"  "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:t,onChange:x=>e(x.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[c.jsx("option",{value:"LOGINS",children:"  "}),c.jsx("option",{value:"WORK_ORDERS",children:" "}),c.jsx("option",{value:"PARTS",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?c.jsx(yC,{className:"w-3 h-3"}):c.jsx(gC,{className:"w-3 h-3"})]}),d&&c.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(x=>c.jsxs("div",{onClick:()=>v(x.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[x.visible?c.jsx(mC,{className:"w-4 h-4 text-primary"}):c.jsx(_D,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:x.label})]},x.id))})]}),c.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[c.jsx(vD,{className:"w-4 h-4"}),"  "]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),c.jsx(ka,{width:"100%",height:"90%",children:c.jsxs(Gx,{data:b(),children:[c.jsx(Eu,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Ni,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),c.jsx(Ci,{fontSize:10}),c.jsx(Gt,{}),c.jsx(wr,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),c.jsxs("div",{className:"relative w-64",children:[c.jsx(j0,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:x=>u(x.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:c.jsx("tr",{children:a.filter(x=>x.visible).map(x=>c.jsx("th",{className:"p-4 whitespace-nowrap",children:x.label},x.id))})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((x,w)=>c.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>c.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:x[_.id]||"-"},_.id))},w)):c.jsx("tr",{children:c.jsx("td",{colSpan:a.filter(x=>x.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},sT=({title:t,selectedCloths:e,onChange:n})=>{const[r,i]=k.useState(!1),o=(a,s)=>{const l=`D${a}-C${s}`;e.includes(l)?n(e.filter(u=>u!==l)):n([...e,l])};return c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[c.jsx(sD,{className:"w-4 h-4 text-primary"})," : ",t]}),c.jsx("button",{type:"button",onClick:()=>i(!r),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition",children:r?" ":"  (6 )"})]}),c.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:c.jsxs("span",{children:["  : ",c.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),r&&c.jsx("div",{className:"space-y-4 animate-fadeIn mt-4 bg-gray-50 dark:bg-gray-900 p-4 rounded-lg overflow-x-auto",children:Array.from({length:6}).map((a,s)=>{const l=s+1;return c.jsxs("div",{className:"flex flex-col gap-1 min-w-[600px]",children:[c.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["  ",l]}),c.jsx("div",{className:"flex gap-1",children:Array.from({length:20}).map((u,d)=>{const f=d+1,h=`D${l}-C${f}`,g=e.includes(h);return c.jsx("div",{onClick:()=>o(l,f),className:`
                          w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all
                          ${g?"bg-red-500 text-white border-red-600 shadow-sm font-bold":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary"}
                        `,title:` ${l} -  ${f}`,children:f},h)})})]},l)})})]})},lT=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Cle=["25","30","40","50","60","70","80","90","100"],Ple={Day1:" ",Day2:" ",Night1:" ",Night2:" "},Uc=["","","","",""],Mm=[{key:"single",label:" "},{key:"upper",label:"  "},{key:"middle",label:"  "},{key:"lower",label:"  "}],Ile=({user:t})=>{const e=ms(),[n,r]=k.useState(1),[i,o]=k.useState(!1),[a,s]=k.useState(null),[l,u]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(null),[v,y]=k.useState({name:"A",type:"Day1",date:at(),supervisor:t.id}),[b,x]=k.useState({}),[w,_]=k.useState({lineA:{},lineB:{}}),[T,S]=k.useState({lineA:{},lineB:{}}),[E,A]=k.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}}}),[N,C]=k.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[P,I]=k.useState({lineA:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}}}),[R,$]=k.useState({lineA:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}],lineB:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}]}),[M,O]=k.useState({lineA:{single:!1,upper:!1,middle:!1,lower:!1},lineB:{single:!1,upper:!1,middle:!1,lower:!1}}),[D,B]=k.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[L,V]=k.useState({process:[],cleanWater:[]}),[H,J]=k.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""}}),[z,ne]=k.useState({nextShiftActions:""});k.useEffect(()=>{yn("personnel").then(U=>{f(U),x({})}),yn("app_users").then(U=>{const F=U.find(re=>re.username==="admin");F&&F.avatar&&g(F.avatar)})},[]);const we=(U,F,re)=>{_(X=>({...X,[U]:{...X[U],[F]:Number(re)}}))},Ee=(U,F,re)=>{S(X=>({...X,[U]:{...X[U],[F]:re}}))},Ae=U=>Object.values(w[U]).reduce((F,re)=>F+re,0),Ye=(U,F)=>{U&&x(re=>({...re,[U]:F}))},nt=U=>{const F={...b};delete F[U],x(F)},Q=()=>{const U=window.SpeechRecognition||window.webkitSpeechRecognition;if(!U)return;const F=new U;F.lang="fa-IR",F.onstart=()=>s("nextShift"),F.onend=()=>s(null),F.onresult=re=>{const X=re.results[0][0].transcript;ne(ue=>({...ue,nextShiftActions:ue.nextShiftActions+" "+X}))},F.start()},he=async()=>{if(navigator.share)try{await navigator.share({title:`  ${l.shiftInfo.name}`,text:`  A: ${l.totalA} 
  B: ${l.totalB} `})}catch(U){console.log("Error sharing",U)}else alert("      .")},ge=U=>{if(!U)return 0;const[F,re]=U.split(":").map(Number);return F*60+re},W=U=>{const F=Math.floor(U/60),re=U%60;return`${String(F).padStart(2,"0")}:${String(re).padStart(2,"0")}`},Le=U=>{const F=ds(U);return F?["","","","","","",""][F.getDay()]:""},q=async U=>{if(U.preventDefault(),!window.confirm("       "))return;if(H.lineA.stopTime!==""&&H.lineA.stopTime!=="00:00"&&!H.lineA.reason){alert("    A   .");return}if(H.lineB.stopTime!==""&&H.lineB.stopTime!=="00:00"&&!H.lineB.reason){alert("    B   .");return}o(!0);const F=Qr("T"),re=Object.keys(b).filter(ye=>b[ye]==="PRESENT"),X=Object.keys(b).filter(ye=>b[ye]==="ABSENT"),ue=Object.keys(b).filter(ye=>b[ye]==="REST"),ve={code:F,shiftInfo:v,attendance:{present:re,absent:X,rest:ue,map:b},production:w,feedTypes:T,ballMills:E,concentrateFilters:N,hydrocyclones:P,thickeners:R,drumMagnets:M,recoveryFilters:D,pumps:L,downtime:H,footer:z,totalA:Ae("lineA"),totalB:Ae("lineB")};Di("SHIFT_REPORT",ve,t,F,`  ${v.name} - ${v.date}`),setTimeout(()=>{u(ve),o(!1),window.scrollTo(0,0)},1500)},te=({value:U,onChange:F,label:re})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:re}),c.jsxs("select",{value:U,onChange:X=>F(X.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-sm",children:[c.jsx("option",{value:"",children:" ..."}),d.filter(X=>b[X.id]==="PRESENT").map(X=>c.jsxs("option",{value:X.id,children:[X.first_name," ",X.last_name]},X.id))]})]}),ae=()=>d.filter(U=>!b[U.id]),pe=U=>d.filter(F=>b[F.id]===U);if(l){const F=ge(l.downtime.lineA.stopTime||"00:00"),re=Math.max(0,720-F),X=ge(l.downtime.lineB.stopTime||"00:00"),ue=Math.max(0,720-X),ve=[{name:"",value:re,fill:"#22c55e"},{name:"",value:F,fill:"#ef4444"}],ye=[{name:"",value:ue,fill:"#22c55e"},{name:"",value:X,fill:"#ef4444"}],Ie=lT.map(_e=>({name:_e,LineA:l.production.lineA[_e]||0,LineB:l.production.lineB[_e]||0})),qn=(l.concentrateFilters.lineA.active?l.concentrateFilters.lineA.cloths.length:0)+(l.concentrateFilters.lineB.active?l.concentrateFilters.lineB.cloths.length:0)+(l.concentrateFilters.reserve.active?l.concentrateFilters.reserve.cloths.length:0),nc=l.recoveryFilters.lineA.reduce((_e,Xe)=>_e+(Xe.active?Xe.cloths.length:0),0)+l.recoveryFilters.lineB.reduce((_e,Xe)=>_e+(Xe.active?Xe.cloths.length:0),0);return c.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 pb-20 pt-6 px-4 font-sans flex flex-col items-center",children:[c.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white dark:bg-gray-800 shadow-2xl rounded-sm overflow-hidden animate-slideUp print:shadow-none print:w-full print:h-auto relative",children:[c.jsxs("div",{className:"border-b-4 border-primary p-6 relative bg-white dark:bg-gray-900",children:[c.jsx("div",{className:"absolute top-4 right-6 w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200",children:h?c.jsx("img",{src:h,alt:"Admin Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-xs text-gray-500",children:"Admin"})}),c.jsxs("div",{className:"text-center pt-2 pb-4 px-20",children:[c.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 font-bold tracking-[0.2em] mt-2 uppercase",children:"     "})]}),c.jsxs("div",{className:"absolute top-6 left-6 text-right text-sm space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[c.jsx("span",{className:"font-mono font-bold text-xs",children:l.shiftInfo.date}),c.jsx("span",{className:"text-gray-500 text-xs",children:":"})]}),c.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[c.jsxs("span",{className:"font-bold text-xs",children:[l.shiftInfo.name," (",Ple[l.shiftInfo.type],")"]}),c.jsx("span",{className:"text-gray-500 text-xs",children:":"})]}),c.jsxs("div",{className:"flex justify-between w-40",children:[c.jsx("span",{className:"font-mono font-bold text-primary text-xs",children:l.code}),c.jsx("span",{className:"text-gray-500 text-xs",children:": "})]})]})]}),c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-center border border-blue-100 dark:border-blue-800",children:[c.jsx("span",{className:"block text-xs text-blue-600 dark:text-blue-300 font-bold mb-1",children:"   A"}),c.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalA}),c.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl text-center border border-red-100 dark:border-red-800",children:[c.jsx("span",{className:"block text-xs text-red-600 dark:text-red-300 font-bold mb-1",children:"   B"}),c.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalB}),c.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl text-center border border-green-100 dark:border-green-800",children:[c.jsx("span",{className:"block text-xs text-green-600 dark:text-green-300 font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex justify-center gap-4 text-sm mt-1",children:[c.jsxs("span",{className:"text-green-600 font-bold",children:[l.attendance.present.length," "]}),c.jsxs("span",{className:"text-red-600 font-bold",children:[l.attendance.absent.length," "]})]})]})]}),c.jsxs("div",{className:"border rounded-xl p-4",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-500 text-center mb-4",children:"   (/)"}),c.jsx("div",{className:"h-48 w-full",children:c.jsx(ka,{width:"100%",height:"100%",children:c.jsxs(Gx,{data:Ie,children:[c.jsx(Eu,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Ni,{dataKey:"name",tick:{fontSize:10}}),c.jsx(Ci,{tick:{fontSize:10}}),c.jsx(Gt,{}),c.jsx(ho,{}),c.jsx(wr,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[4,4,0,0]}),c.jsx(wr,{dataKey:"LineB",name:" B",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-700/30 p-4 rounded-2xl border border-gray-100 dark:border-gray-600 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-700 dark:text-gray-200 w-full text-center border-b pb-2",children:"   A"}),c.jsx("div",{className:"h-40 w-full relative",children:c.jsx(ka,{width:"100%",height:"100%",children:c.jsxs(OE,{children:[c.jsx(br,{data:ve,cx:"50%",cy:"50%",innerRadius:0,outerRadius:60,paddingAngle:2,dataKey:"value",stroke:"none",children:ve.map((_e,Xe)=>c.jsx(Jl,{fill:_e.fill},`cell-${Xe}`))}),c.jsx(Gt,{})]})})}),c.jsxs("div",{className:"flex justify-between w-full px-4 mt-2 text-sm",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," "]}),c.jsx("span",{className:"font-mono",children:W(re)})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-red-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," "]}),c.jsx("span",{className:"font-mono",children:l.downtime.lineA.stopTime||"00:00"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-700/30 p-4 rounded-2xl border border-gray-100 dark:border-gray-600 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-700 dark:text-gray-200 w-full text-center border-b pb-2",children:"   B"}),c.jsx("div",{className:"h-40 w-full relative",children:c.jsx(ka,{width:"100%",height:"100%",children:c.jsxs(OE,{children:[c.jsx(br,{data:ye,cx:"50%",cy:"50%",innerRadius:0,outerRadius:60,paddingAngle:2,dataKey:"value",stroke:"none",children:ye.map((_e,Xe)=>c.jsx(Jl,{fill:_e.fill},`cell-${Xe}`))}),c.jsx(Gt,{})]})})}),c.jsxs("div",{className:"flex justify-between w-full px-4 mt-2 text-sm",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," "]}),c.jsx("span",{className:"font-mono",children:W(ue)})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-red-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," "]}),c.jsx("span",{className:"font-mono",children:l.downtime.lineB.stopTime||"00:00"})]})]})]})]}),c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:"  "}),c.jsxs("table",{className:"w-full text-center text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b bg-gray-50",children:[c.jsx("th",{className:"p-2",children:""}),c.jsx("th",{className:"p-2",children:" (A)"}),c.jsx("th",{className:"p-2",children:""}),c.jsx("th",{className:"p-2",children:" "})]})}),c.jsxs("tbody",{className:"divide-y",children:[l.ballMills.lineA.primary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-blue-600",children:"   A"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.primary.amp08," / ",l.ballMills.lineA.primary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.primary.dens08," / ",l.ballMills.lineA.primary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineA.primary.balls.map((_e,Xe)=>c.jsxs("div",{children:[" ",_e.size,": ",_e.count," "]},Xe))})]}),l.ballMills.lineA.secondary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-blue-600",children:"   A"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.secondary.amp08," / ",l.ballMills.lineA.secondary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.secondary.dens08," / ",l.ballMills.lineA.secondary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineA.secondary.balls.map((_e,Xe)=>c.jsxs("div",{children:[" ",_e.size,": ",_e.count," "]},Xe))})]}),l.ballMills.lineB.primary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-red-800",children:"   B"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.primary.amp08," / ",l.ballMills.lineB.primary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.primary.dens08," / ",l.ballMills.lineB.primary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineB.primary.balls.map((_e,Xe)=>c.jsxs("div",{children:[" ",_e.size,": ",_e.count," "]},Xe))})]}),l.ballMills.lineB.secondary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-red-800",children:"   B"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.secondary.amp08," / ",l.ballMills.lineB.secondary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.secondary.dens08," / ",l.ballMills.lineB.secondary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineB.secondary.balls.map((_e,Xe)=>c.jsxs("div",{children:[" ",_e.size,": ",_e.count," "]},Xe))})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:"  "}),c.jsxs("div",{className:"p-4 text-xs space-y-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold block text-blue-600 mb-1",children:" A:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Mm.map(_e=>l.drumMagnets.lineA[_e.key]&&c.jsx("span",{className:"bg-blue-50 px-2 py-1 rounded",children:_e.label},_e.key)),!Object.values(l.drumMagnets.lineA).some(Boolean)&&c.jsx("span",{className:"text-gray-400",children:"-"})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold block text-red-600 mb-1",children:" B:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Mm.map(_e=>l.drumMagnets.lineB[_e.key]&&c.jsx("span",{className:"bg-red-50 px-2 py-1 rounded",children:_e.label},_e.key)),!Object.values(l.drumMagnets.lineB).some(Boolean)&&c.jsx("span",{className:"text-gray-400",children:"-"})]})]})]})]}),c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:" "}),c.jsxs("div",{className:"p-4 text-xs",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mb-2 font-bold text-gray-400",children:[c.jsx("span",{children:""}),c.jsx("span",{children:""}),c.jsx("span",{children:" "})]}),c.jsxs("div",{className:"space-y-1",children:[l.thickeners.lineA.map((_e,Xe)=>_e.active&&c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center border-b pb-1 last:border-0",children:[c.jsxs("span",{className:"text-blue-600",children:[" ",Uc[Xe]," A"]}),c.jsx("span",{children:_e.output||"-"}),c.jsx("span",{children:_e.channelOutput||"-"})]},`A-${Xe}`)),l.thickeners.lineB.map((_e,Xe)=>_e.active&&c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center border-b pb-1 last:border-0",children:[c.jsxs("span",{className:"text-red-600",children:[" ",Uc[Xe]," B"]}),c.jsx("span",{children:_e.output||"-"}),c.jsx("span",{children:_e.channelOutput||"-"})]},`B-${Xe}`))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[c.jsx("span",{className:"block text-xs font-bold text-gray-500 mb-2",children:"  "}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:":"}),c.jsxs("span",{className:"font-bold",children:[qn," "]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:":"}),c.jsxs("span",{className:"font-bold",children:[nc," "]})]})]})]}),(l.downtime.lineA.reason||l.downtime.lineB.reason)&&c.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:[c.jsx("span",{className:"block text-xs font-bold text-red-600 mb-2",children:" "}),c.jsxs("div",{className:"text-xs space-y-2",children:[l.downtime.lineA.reason&&c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:" A:"})," ",l.downtime.lineA.reason]}),l.downtime.lineB.reason&&c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:" B:"})," ",l.downtime.lineB.reason]})]})]})]}),l.footer.nextShiftActions&&c.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-xs mt-4",children:[c.jsx("span",{className:"font-bold text-yellow-800 block mb-1",children:"   :"}),l.footer.nextShiftActions]})]})]}),c.jsxs("div",{className:"w-[210mm] mt-6 flex gap-4 print:hidden mb-20",children:[c.jsxs("button",{onClick:he,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-green-700 shadow-lg transition",children:[c.jsx(TC,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>window.print(),className:"flex-1 bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50 shadow-sm transition",children:[c.jsx(gD,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-800 shadow-lg transition",children:[c.jsx(wC,{className:"w-5 h-5"}),"   "]})]})]})}return c.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:c.jsx(xC,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"    "}),c.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:"  ",icon:qu},{id:2,label:" ()",icon:oD},{id:3,label:"",icon:fC},{id:4,label:"",icon:iD},{id:9,label:" ",icon:fD},{id:6,label:" ",icon:Fd},{id:5,label:"",icon:lD},{id:7,label:" ",icon:Fd},{id:8,label:"  ",icon:SD}].map(U=>c.jsxs("button",{onClick:()=>r(U.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${n===U.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[c.jsx(U.icon,{className:"w-4 h-4"})," ",U.label]},U.id))}),c.jsxs("form",{onSubmit:q,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[n===1&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.name,onChange:U=>y({...v,name:U.target.value}),children:[c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.type,onChange:U=>y({...v,type:U.target.value}),children:[c.jsx("option",{value:"Day1",children:" "}),c.jsx("option",{value:"Day2",children:" "}),c.jsx("option",{value:"Night1",children:" "}),c.jsx("option",{value:"Night2",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:Le(v.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsx(Rr,{value:v.date,onChange:U=>y({...v,date:U})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[c.jsx(AD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:U=>{U.target.value&&(Ye(U.target.value,"PRESENT"),U.target.value="")},children:[c.jsx("option",{value:"",children:"  ..."}),ae().map(U=>c.jsxs("option",{value:U.id,children:[U.first_name," ",U.last_name]},U.id))]})}),c.jsxs("div",{className:"space-y-2",children:[pe("PRESENT").map(U=>c.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[c.jsxs("span",{children:[U.first_name," ",U.last_name," ",c.jsxs("span",{className:"opacity-70 text-xs",children:["(",U.unit,")"]})]}),c.jsx("button",{type:"button",onClick:()=>nt(U.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:c.jsx(xn,{className:"w-4 h-4"})})]},U.id)),pe("PRESENT").length===0&&c.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[c.jsx(kD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:U=>{U.target.value&&(Ye(U.target.value,"ABSENT"),U.target.value="")},children:[c.jsx("option",{value:"",children:"  ..."}),ae().map(U=>c.jsxs("option",{value:U.id,children:[U.first_name," ",U.last_name]},U.id))]})}),c.jsxs("div",{className:"space-y-2",children:[pe("ABSENT").map(U=>c.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[c.jsxs("span",{children:[U.first_name," ",U.last_name," ",c.jsxs("span",{className:"opacity-70 text-xs",children:["(",U.unit,")"]})]}),c.jsx("button",{type:"button",onClick:()=>nt(U.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:c.jsx(xn,{className:"w-4 h-4"})})]},U.id)),pe("ABSENT").length===0&&c.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]})]})]}),n===2&&c.jsx("div",{className:"animate-fadeIn",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[c.jsxs("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600",children:[c.jsxs("tr",{children:[c.jsx("th",{rowSpan:2,className:"p-3 rounded-tr-xl border-b dark:border-gray-600",children:""}),c.jsx("th",{colSpan:2,className:"p-3 border-l border-white border-b dark:border-gray-600",children:" A"}),c.jsx("th",{colSpan:2,className:"p-3 rounded-tl-xl border-b dark:border-gray-600",children:" B"})]}),c.jsxs("tr",{className:"text-xs",children:[c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),c.jsx("th",{className:"p-2 border-l border-white bg-gray-50 dark:bg-gray-800",children:" "}),c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:" "})]})]}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[lT.map(U=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-3 font-bold bg-gray-50 dark:bg-gray-900",children:U}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineA[U]||"",onChange:F=>we("lineA",U,F.target.value)})}),c.jsx("td",{className:"p-2 border-l border-gray-100 dark:border-gray-700",children:c.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:T.lineA[U]||"",onChange:F=>Ee("lineA",U,F.target.value)})}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineB[U]||"",onChange:F=>we("lineB",U,F.target.value)})}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:T.lineB[U]||"",onChange:F=>Ee("lineB",U,F.target.value)})})]},U)),c.jsxs("tr",{className:"bg-primary/5 font-bold text-lg",children:[c.jsx("td",{className:"p-4 text-primary",children:""}),c.jsxs("td",{className:"p-4",children:[Ae("lineA")," "]}),c.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"}),c.jsxs("td",{className:"p-4",children:[Ae("lineB")," "]}),c.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"})]})]})]})})}),n===3&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(U=>{const F=U==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:U==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:["Primary","Secondary"].map(re=>{const X=re.toLowerCase(),ue=E[F][X],ve=` ${re==="Primary"?" ()":" ()"}`;return c.jsxs("div",{className:`p-3 rounded-lg shadow-sm border transition-all ${ue.active?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-gray-800 opacity-80"}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[c.jsx("h4",{className:"font-bold text-sm",children:ve}),c.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded cursor-pointer",checked:ue.active,onChange:ye=>{const Ie={...E};Ie[F][X].active=ye.target.checked,A(Ie)}})]}),ue.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (08:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:ue.amp08,onChange:ye=>{const Ie={...E};Ie[F][X].amp08=ye.target.value,A(Ie)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (02:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:ue.amp02,onChange:ye=>{const Ie={...E};Ie[F][X].amp02=ye.target.value,A(Ie)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (08:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:ue.dens08,onChange:ye=>{const Ie={...E};Ie[F][X].dens08=ye.target.value,A(Ie)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (02:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:ue.dens02,onChange:ye=>{const Ie={...E};Ie[F][X].dens02=ye.target.value,A(Ie)}})]})]}),c.jsxs("div",{className:"border-t pt-2",children:[c.jsx("label",{className:"text-xs font-bold block mb-2",children:"  ( -  )"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 p-1 rounded border text-xs",id:`size-${F}-${X}`,children:Cle.map(ye=>c.jsx("option",{value:ye,children:ye},ye))}),c.jsx("input",{type:"number",className:"w-16 p-1 rounded border text-center text-xs",placeholder:"",id:`count-${F}-${X}`}),c.jsx("button",{type:"button",onClick:()=>{const ye=document.getElementById(`size-${F}-${X}`).value,Ie=Number(document.getElementById(`count-${F}-${X}`).value);if(Ie>0){const qn={...E};qn[F][X].balls.push({size:ye,count:Ie}),A(qn)}},className:"bg-blue-500 text-white px-2 rounded",children:"+"})]}),c.jsx("div",{className:"mt-2 space-y-1",children:ue.balls.map((ye,Ie)=>c.jsxs("div",{className:"flex justify-between items-center text-xs bg-white p-1 rounded border",children:[c.jsxs("span",{children:[" ",ye.size," - ",c.jsxs("span",{className:"font-bold",children:[ye.count," "]})]}),c.jsx("button",{type:"button",onClick:()=>{const qn={...E};qn[F][X].balls=qn[F][X].balls.filter((nc,_e)=>_e!==Ie),A(qn)},className:"text-red-500 hover:bg-red-100 p-1 rounded",children:c.jsx(xn,{className:"w-3 h-3"})})]},Ie))})]})]})]},re)})})]},F)})}),n===4&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(U=>{const F=U==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:U==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:["Primary","Secondary"].map(re=>{const X=re.toLowerCase(),ue=P[F][X];return c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h4",{className:"font-bold",children:re==="Primary"?"  ":"  "}),c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:ue.inCircuit,onChange:ve=>{const ye={...P};ye[F][X].inCircuit=ve.target.checked,I(ye)}})]}),ue.inCircuit&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsx("div",{className:"grid grid-cols-6 gap-2 mb-4",children:Array.from({length:12}).map((ve,ye)=>c.jsx("button",{type:"button",onClick:()=>{const Ie={...P},qn=Ie[F][X].activeCyclones;qn.includes(ye+1)?Ie[F][X].activeCyclones=qn.filter(nc=>nc!==ye+1):Ie[F][X].activeCyclones.push(ye+1),I(Ie)},className:`w-full aspect-square rounded text-xs font-bold transition
                                                                    ${ue.activeCyclones.includes(ye+1)?"bg-blue-600 text-white":"bg-white border text-gray-400"}
                                                                `,children:ye+1},ye))}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("input",{placeholder:" (Bar)",className:"p-2 text-center rounded border",value:ue.pressure,onChange:ve=>{const ye={...P};ye[F][X].pressure=ve.target.value,I(ye)}}),c.jsx("input",{placeholder:"",className:"p-2 text-center rounded border",value:ue.angle,onChange:ve=>{const ye={...P};ye[F][X].angle=ve.target.value,I(ye)}})]})]})]},re)})})]},F)})}),n===9&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(U=>{const F=U==="Line A"?"lineA":"lineB",re=M[F];return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:U==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:Mm.map(X=>c.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between transition-all ${re[X.key]?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-100"}`,children:[c.jsx("span",{className:`font-bold ${re[X.key]?"text-blue-800":"text-gray-500"}`,children:X.label}),c.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-blue-600",checked:re[X.key],onChange:ue=>{O(ve=>({...ve,[F]:{...ve[F],[X.key]:ue.target.checked}}))}})]},X.key))})]},F)})}),n===5&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(U=>{const F=U==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:U==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:R[F].map((re,X)=>c.jsxs("div",{className:"border p-4 rounded-xl bg-gray-50 dark:bg-gray-700/30",children:[c.jsxs("div",{className:"flex justify-between mb-3",children:[c.jsxs("span",{className:"font-bold",children:["  ",Uc[X]]}),c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:re.active,onChange:()=>{const ue={...R};ue[F][X].active=!re.active,$(ue)}})]}),re.active&&c.jsxs("div",{className:"space-y-3 animate-slideDown",children:[c.jsx("input",{placeholder:" (Bar)",className:"w-full p-2 text-sm border rounded",value:re.pressure,onChange:ue=>{const ve={...R};ve[F][X].pressure=ue.target.value,$(ve)}}),c.jsx("input",{placeholder:"  (cm)",className:"w-full p-2 text-sm border rounded",value:re.jackHeight,onChange:ue=>{const ve={...R};ve[F][X].jackHeight=ue.target.value,$(ve)}}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs w-16 text-gray-500",children:":"}),c.jsx("div",{className:"flex-1",children:c.jsx(cr,{value:re.output,onChange:ue=>{const ve={...R};ve[F][X].output=ue,$(ve)}})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs w-16 text-gray-500",children:" :"}),c.jsx("div",{className:"flex-1",children:c.jsx(cr,{value:re.channelOutput,onChange:ue=>{const ve={...R};ve[F][X].channelOutput=ue,$(ve)}})})]})]})]},X))})]},F)})}),n===6&&c.jsx("div",{className:"space-y-4 animate-fadeIn",children:["lineA","lineB","reserve"].map(U=>{const F=N[U],re=U==="reserve"?"  ":`   ${U==="lineA"?"A":"B"}`;return c.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${F.active?"border-primary bg-primary/5":"border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-primary",checked:F.active,onChange:X=>{C({...N,[U]:{...F,active:X.target.checked}})}}),c.jsx("h3",{className:"font-bold text-lg",children:re})]}),F.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-slideDown",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(te,{label:" ",value:F.operator,onChange:X=>C({...N,[U]:{...F,operator:X}})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  ()"}),c.jsx(cr,{value:F.hours,onChange:X=>C({...N,[U]:{...F,hours:X}})})]})]}),c.jsx("div",{className:"col-span-2",children:c.jsx(sT,{title:re,selectedCloths:F.cloths,onChange:X=>C({...N,[U]:{...F,cloths:X}})})})]})]},U)})}),n===7&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(U=>{const F=U==="Line A"?"lineA":"lineB";return c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-3",children:U==="Line A"?"   A":"   B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:D[F].map((re,X)=>c.jsxs("div",{className:`border rounded-xl p-4 ${re.active?"bg-blue-50 dark:bg-blue-900/10 border-blue-200":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:re.active,onChange:ue=>{const ve={...D};ve[F][X].active=ue.target.checked,B(ve)}}),c.jsxs("span",{className:"font-bold",children:["   ",Uc[X]]})]}),re.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(te,{label:"",value:re.operator,onChange:ue=>{const ve={...D};ve[F][X].operator=ue,B(ve)}}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  ()"}),c.jsx(cr,{value:re.hours,onChange:ue=>{const ve={...D};ve[F][X].hours=ue,B(ve)}})]})]}),c.jsx(sT,{title:` ${U}  ${X+1}`,selectedCloths:re.cloths,onChange:ue=>{const ve={...D};ve[F][X].cloths=ue,B(ve)}})]})]},X))})]},F)})}),n===8&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsx("h3",{className:"font-bold mb-3",children:" "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"   "}),c.jsx("div",{className:"flex gap-2",children:["FWP1","FWP2","FWP3"].map(U=>c.jsx("button",{type:"button",onClick:()=>{const F=L.process;V({...L,process:F.includes(U)?F.filter(re=>re!==U):[...F,U]})},className:`px-4 py-2 rounded border ${L.process.includes(U)?"bg-blue-600 text-white":"bg-white"}`,children:U},U))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"  "}),c.jsx("div",{className:"flex gap-2",children:["CWP1","CWP2","CWP3"].map(U=>c.jsx("button",{type:"button",onClick:()=>{const F=L.cleanWater;V({...L,cleanWater:F.includes(U)?F.filter(re=>re!==U):[...F,U]})},className:`px-4 py-2 rounded border ${L.cleanWater.includes(U)?"bg-blue-600 text-white":"bg-white"}`,children:U},U))})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(U=>{const F=H[U];return c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-red-800",children:U==="lineA"?"     A":"     B"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(cr,{value:F.workTime,onChange:re=>J({...H,[U]:{...F,workTime:re}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(cr,{value:F.stopTime,onChange:re=>J({...H,[U]:{...F,stopTime:re}})})]})]}),F.stopTime&&F.stopTime!=="00:00"&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("label",{className:"text-xs font-bold text-red-600 block mb-1",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50",value:F.reason,onChange:re=>J({...H,[U]:{...F,reason:re.target.value}})})]})]},U)})}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-32",placeholder:"     ...",value:z.nextShiftActions,onChange:U=>ne({...z,nextShiftActions:U.target.value})}),c.jsx("button",{type:"button",onClick:Q,className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="nextShift"?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-500"}`,children:c.jsx(wo,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsxs("button",{type:"submit",disabled:i,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[i?c.jsx(ml,{className:"w-6 h-6 animate-spin"}):c.jsx(gs,{className:"w-6 h-6"}),"   "]})})]})]})]})},Ole=({enabled:t})=>{const[e,n]=k.useState([]);return k.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[c.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>c.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var jle={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rle,Mle;function $le(){return{geminiUrl:Rle,vertexUrl:Mle}}function Dle(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=$le();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zr{}function ee(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];m(d,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Lle(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}vv(t,i,o,0,a)}}function vv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])vv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(a,f,d)}for(const u of s)delete a[u]}}else{const a=t;o in a&&vv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ule(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Fle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],qle(a)),e}function Ble(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Vle(a)),e}function qle(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Gle(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Vle(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Hle(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Gle(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Xle(n)),e}function Hle(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Qle(n)),e}function zle(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Wle(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Kle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Jle(a)),e}function Jle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function $O(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Yle(a)),e}function Yle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Xle(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Zx(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Qle(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Zx(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uT||(uT={}));var cT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cT||(cT={}));var dT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(dT||(dT={}));var mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mi||(mi={}));var fT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fT||(fT={}));var hT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hT||(hT={}));var pT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(pT||(pT={}));var mT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mT||(mT={}));var gT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gT||(gT={}));var yT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(yT||(yT={}));var vT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vT||(vT={}));var xT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xT||(xT={}));var bT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bT||(bT={}));var wT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(wT||(wT={}));var _T;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_T||(_T={}));var ST;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ST||(ST={}));var ET;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ET||(ET={}));var TT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(TT||(TT={}));var AT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AT||(AT={}));var Kf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Kf||(Kf={}));var kT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kT||(kT={}));var NT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(NT||(NT={}));var CT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(CT||(CT={}));var xv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xv||(xv={}));var PT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(PT||(PT={}));var IT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IT||(IT={}));var OT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(OT||(OT={}));var jT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jT||(jT={}));var RT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RT||(RT={}));var MT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(MT||(MT={}));var $T;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($T||($T={}));var DT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(DT||(DT={}));var LT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(LT||(LT={}));var UT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(UT||(UT={}));var FT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(FT||(FT={}));var BT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(BT||(BT={}));var qT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qT||(qT={}));var VT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VT||(VT={}));var GT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(GT||(GT={}));var HT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(HT||(HT={}));var zT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zT||(zT={}));var WT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(WT||(WT={}));var KT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(KT||(KT={}));var JT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(JT||(JT={}));var YT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(YT||(YT={}));var XT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(XT||(XT={}));var QT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(QT||(QT={}));var ZT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ZT||(ZT={}));var eA;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(eA||(eA={}));var tA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tA||(tA={}));var nA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nA||(nA={}));var rA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rA||(rA={}));var iA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(iA||(iA={}));var oA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(oA||(oA={}));var aA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(aA||(aA={}));var va;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(va||(va={}));class bv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class sA{}class lA{}class Zle{}class eue{}class tue{}class nue{}class uA{}class cA{}class dA{}class rue{}class Jf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jf;let i;const o=e;return n?i=Ble(o):i=Fle(o),Object.assign(r,i),r}}class fA{}class hA{}class pA{}class mA{}class iue{}class oue{}class aue{}class eb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new eb,o=Kle(e);return Object.assign(r,o),r}}class sue{}class lue{}class uue{}class gA{}class cue{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class due{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new tb,o=$O(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function DO(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function LO(t){return Array.isArray(t)?t.map(e=>Yf(e)):[Yf(t)]}function Yf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function UO(t){const e=Yf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FO(t){const e=Yf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function BO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yA(e)):[yA(t)]}function wv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ft(t){if(t==null)throw new Error("ContentUnion is required");return wv(t)?t:{role:"user",parts:BO(t)}}function nb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ft(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ft(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ft(n)):[Ft(e)]}function Rn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vA(t)||xA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ft(t)]}const e=[],n=[],r=wv(t[0]);for(const i of t){const o=wv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(vA(i)||xA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:BO(n)}),e}function fue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mi).includes(n[0].toUpperCase())?n[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mi).includes(r.toUpperCase())?r.toUpperCase():mi.TYPE_UNSPECIFIED})}}function Ia(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&fue(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(mi).includes(s.toUpperCase())?s.toUpperCase():mi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ia(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Ia(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(s))l[u]=Ia(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function rb(t){return Ia(t)}function ib(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ob(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ps(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ia(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ia(e.response));return t}function Is(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ei(t,e){if(typeof e!="string")throw new Error("name must be a string");return hue(t,e,"cachedContents")}function qO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ui(t){return Zx(t)}function pue(t){return t!=null&&typeof t=="object"&&"name"in t}function mue(t){return t!=null&&typeof t=="object"&&"video"in t}function gue(t){return t!=null&&typeof t=="object"&&"uri"in t}function VO(t){var e;let n;if(pue(t)&&(n=t.name),!(gue(t)&&(n=t.uri,n===void 0))&&!(mue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function GO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function HO(t){for(const e of["models","tunedModels","publisherModels"])if(yue(t,e))return t[e];return[]}function yue(t,e){return t!==null&&typeof t=="object"&&e in t}function vue(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function xue(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=vue(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function zO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function WO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Os(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function KO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wue(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>tce(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function _ue(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Sue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function id(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],KO(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],wue(WO(u))),e}function _v(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],KO(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],Eue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],_ue(WO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Eue(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Tue(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ece(t,a))),m(n,["requests","requests"],o)}return n}function Aue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kue(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Nue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Cue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Pue(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Iue(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Iue(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function JO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Oue(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jue(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Sue(bue(i))),n}function bA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Tue(t,zO(t,i)));const o=p(e,["config"]);return o!=null&&Oue(o,n),n}function Rue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Aue(zO(t,i)));const o=p(e,["config"]);return o!=null&&jue(o,n),n}function Mue(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function $ue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Vue(t,i));const o=p(e,["config"]);return o!=null&&Mue(o,n),n}function Due(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Lue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Uue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Fue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Bue(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=nb(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],que(i,n)),Lle(n,{"requests[].*":"requests[].request.*"})),n}function que(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Vue(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Bue(t,i)),n}function Gue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Hue(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wue(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],JO(Ft(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],rb(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let $=_;Array.isArray($)&&($=$.map(M=>uce(M))),m(n,["safetySettings"],$)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let $=Is(T);Array.isArray($)&&($=$.map(M=>dce(Ps(M)))),m(n,["tools"],$)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],cce(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],ei(t,E));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const N=p(e,["mediaResolution"]);N!=null&&m(r,["mediaResolution"],N);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],ib(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&m(r,["thinkingConfig"],P);const I=p(e,["imageConfig"]);I!=null&&m(r,["imageConfig"],Zue(I));const R=p(e,["enableEnhancedCivicAnswers"]);return R!=null&&m(r,["enableEnhancedCivicAnswers"],R),r}function Kue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Pue(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function Jue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Yue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Os(t,r)),n}function Xue(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Que(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Zue(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ece(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let s=Rn(i);Array.isArray(s)&&(s=s.map(l=>JO(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],Wue(t,a,p(n,["request"],{}))),n}function tce(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Kue(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function nce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function ice(t){const e={},n=p(t,["config"]);return n!=null&&nce(n,e),e}function oce(t){const e={},n=p(t,["config"]);return n!=null&&rce(n,e),e}function ace(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>id(a))),m(e,["batchJobs"],o)}return e}function sce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_v(a))),m(e,["batchJobs"],o)}return e}function lce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Gue(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Hue(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],kue(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function uce(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function cce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],zue(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function dce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Xue(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Que(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(zr||(zr={}));class Lo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fce extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(zr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=bA(this.apiClient,e),r=n._url,i=ee("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Rue(this.apiClient,e);return s=ee("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>_v(d))}else{const u=bA(this.apiClient,e);return s=ee("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>id(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$ue(this.apiClient,e);return o=ee("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>id(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Yue(this.apiClient,e);return s=ee("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>_v(d))}else{const u=Jue(this.apiClient,e);return s=ee("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>id(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Cue(this.apiClient,e);a=ee("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Nue(this.apiClient,e);a=ee("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=oce(e);return s=ee("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=sce(d),h=new gA;return Object.assign(h,f),h})}else{const u=ice(e);return s=ee("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ace(d),h=new gA;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Lue(this.apiClient,e);return s=ee("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Fue(d))}else{const u=Due(this.apiClient,e);return s=ee("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Uue(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hce(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function wA(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$ce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function pce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=Rn(a);Array.isArray(d)&&(d=d.map(f=>wA(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],wA(Ft(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Lce(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Dce(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=Rn(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Ft(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Uce(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),n}function gce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],DO(t,r));const i=p(e,["config"]);return i!=null&&pce(i,n),n}function yce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],DO(t,r));const i=p(e,["config"]);return i!=null&&mce(i,n),n}function vce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ei(t,r)),n}function xce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ei(t,r)),n}function bce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function wce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function _ce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Sce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ece(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Ace(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ei(t,r)),n}function kce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ei(t,r)),n}function Nce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Cce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Pce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Ice(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Oce(t){const e={},n=p(t,["config"]);return n!=null&&Pce(n,e),e}function jce(t){const e={},n=p(t,["config"]);return n!=null&&Ice(n,e),e}function Rce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Mce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function $ce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],_ce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Sce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],hce(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Dce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Ece(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Lce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Nce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Cce(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Uce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Tce(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Fce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Bce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function qce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ei(t,r));const i=p(e,["config"]);return i!=null&&Fce(i,n),n}function Vce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ei(t,r));const i=p(e,["config"]);return i!=null&&Bce(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gce extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(zr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yce(this.apiClient,e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=gce(this.apiClient,e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kce(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Ace(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xce(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=wce(d),h=new pA;return Object.assign(h,f),h})}else{const u=vce(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=bce(d),h=new pA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vce(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=qce(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jce(e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mce(d),h=new mA;return Object.assign(h,f),h})}else{const u=Oce(e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rce(d),h=new mA;return Object.assign(h,f),h})}}}function Xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _A(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(t){return this instanceof xe?(this.v=t,this):new xe(t)}function rr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,f)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,x){o.push([g,y,b,x])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof xe?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _A=="function"?_A(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hce(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:YO(n)}function YO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zce(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function SA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!YO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Wce{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Kce(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Kce{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),zce(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ft(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ft(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?SA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return rr(this,arguments,function*(){var i,o,a,s,l,u;const d=[];try{for(var f=!0,h=ir(e),g;g=yield xe(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const v=s;if(Hce(v)){const y=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&d.push(y)}yield yield xe(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield xe(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...SA(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jce(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function Yce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Xce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],VO(n)),e}function Qce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Zce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],VO(n)),e}function ede(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function tde(t){const e={},n=p(t,["config"]);return n!=null&&ede(n,e),e}function nde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rde extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(zr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tde(e);return o=ee("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=nde(l),d=new sue;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jce(e);return o=ee("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Yce(l),d=new lue;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zce(e);return o=ee("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xce(e);return o=ee("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Qce(l),d=new uue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function od(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ide(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ode(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ade(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sde(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function lde(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=p(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ude(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function cde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function dde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],ob(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],ide(Ft(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Is(y);Array.isArray(E)&&(E=E.map(A=>_de(Ps(A)))),m(e,["setup","tools"],E)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],wde(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],lde(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],ob(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Ft(v));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let A=Is(y);Array.isArray(A)&&(A=A.map(N=>Sde(Ps(N)))),m(e,["setup","tools"],A)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const E=p(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&m(e,["setup","explicitVadSignal"],E),n}function hde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],dde(i,n)),n}function pde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],fde(i,n)),n}function mde(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function gde(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function yde(t){const e={},n=p(t,["media"]);if(n!=null){let u=LO(n);Array.isArray(u)&&(u=u.map(d=>od(d))),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],od(FO(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],od(UO(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function vde(t){const e={},n=p(t,["media"]);if(n!=null){let u=LO(n);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],FO(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],UO(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function xde(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Ede(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function bde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ode(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],ade(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],od(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function wde(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _de(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],ude(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],cde(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Sde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>sde(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Ede(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tde(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ade(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],kde(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function kde(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Nde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let o=Rn(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Cde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function Pde(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Ide(r)),e}function Ide(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function yp(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ffe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ode(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function jde(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Rde(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Ft(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ej(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Tfe(o)),n}function Mde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=Rn(i);Array.isArray(a)&&(a=a.map(s=>yp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&jde(o),n}function $de(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=Rn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&Rde(o,n),n}function Dde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Lde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Ude(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function Fde(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function Bde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function qde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Vde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function Gde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>zfe(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&Vde(a,n),n}function Hde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>vp(o))),m(e,["generatedImages"],i)}return e}function zde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function Kde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let s=nb(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&zde(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],Pe(t,a)),n}function Jde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=nb(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&Wde(o,n),n}function Yde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Xde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Pde(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Qde(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Zde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function efe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function rfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],yp(Ft(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],rb(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let $=_;Array.isArray($)&&($=$.map(M=>Wfe(M))),m(n,["safetySettings"],$)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let $=Is(T);Array.isArray($)&&($=$.map(M=>ehe(Ps(M)))),m(n,["tools"],$)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Zfe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],ei(t,E));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const N=p(e,["mediaResolution"]);N!=null&&m(r,["mediaResolution"],N);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],ib(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&m(r,["thinkingConfig"],P);const I=p(e,["imageConfig"]);I!=null&&m(r,["imageConfig"],Pfe(I));const R=p(e,["enableEnhancedCivicAnswers"]);return R!=null&&m(r,["enableEnhancedCivicAnswers"],R),r}function ife(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Ft(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],rb(x));const w=p(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const T=p(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],T);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(B=>B)),m(n,["safetySettings"],D)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let D=Is(E);Array.isArray(D)&&(D=D.map(B=>ej(Ps(B)))),m(n,["tools"],D)}const A=p(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],A);const N=p(e,["labels"]);n!==void 0&&N!=null&&m(n,["labels"],N);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&m(n,["cachedContent"],ei(t,C));const P=p(e,["responseModalities"]);P!=null&&m(r,["responseModalities"],P);const I=p(e,["mediaResolution"]);I!=null&&m(r,["mediaResolution"],I);const R=p(e,["speechConfig"]);R!=null&&m(r,["speechConfig"],ib(R));const $=p(e,["audioTimestamp"]);$!=null&&m(r,["audioTimestamp"],$);const M=p(e,["thinkingConfig"]);M!=null&&m(r,["thinkingConfig"],M);const O=p(e,["imageConfig"]);if(O!=null&&m(r,["imageConfig"],Ife(O)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function EA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=Rn(i);Array.isArray(a)&&(a=a.map(s=>yp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],rfe(t,o,n)),n}function TA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=Rn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],ife(t,o,n)),n}function AA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ade(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function kA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function ofe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function afe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function sfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&ofe(o,n),n}function lfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&afe(o,n),n}function ufe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>wfe(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],QO(i)),e}function cfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>vp(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],ZO(i)),e}function dfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],xp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>hhe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ffe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],sr(y));const b=p(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>phe(T))),m(e,["instances[0]","referenceImages"],_)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],fhe(x));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function hfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],yfe(a)),e}function pfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],vfe(a)),e}function mfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],xp(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],tj(a));const s=p(e,["source"]);s!=null&&xfe(s,n);const l=p(e,["config"]);return l!=null&&dfe(l,n),n}function gfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],sr(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],nj(a));const s=p(e,["source"]);s!=null&&bfe(s,n);const l=p(e,["config"]);return l!=null&&ffe(l,n),n}function yfe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Sfe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function vfe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Efe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function xfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],xp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],tj(o)),n}function bfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],sr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],nj(o)),n}function wfe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Ofe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],QO(i)),e}function vp(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],XO(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],ZO(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function _fe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],XO(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Sfe(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],che(n)),e}function Efe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],dhe(n)),e}function Tfe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=p(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Afe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function kfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function Nfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Cfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Pfe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ife(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function Ofe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Ui(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function XO(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Ui(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function xp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Ui(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function sr(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ui(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function jfe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],GO(t,s)),r}function Rfe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],GO(t,s)),r}function Mfe(t,e){const n={},r=p(e,["config"]);return r!=null&&jfe(t,r,n),n}function $fe(t,e){const n={},r=p(e,["config"]);return r!=null&&Rfe(t,r,n),n}function Dfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=HO(i);Array.isArray(o)&&(o=o.map(a=>Sv(a))),m(e,["models"],o)}return e}function Lfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=HO(i);Array.isArray(o)&&(o=o.map(a=>Ev(a))),m(e,["models"],o)}return e}function Ufe(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Sv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],the(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const v=p(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function Ev(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>Qde(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],nhe(l));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Ffe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Zde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],efe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Tde(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Bfe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],sr(n)),e}function qfe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function Vfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["source"]);i!=null&&Hfe(i,n);const o=p(e,["config"]);return o!=null&&qfe(o,n),n}function Gfe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vp(i))),m(e,["generatedImages"],r)}return e}function Hfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],sr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Bfe(s))),m(e,["instances[0]","productImages"],a)}return n}function zfe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],sr(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Ufe(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Ode(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function QO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function ZO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Wfe(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Kfe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],sr(n)),e}function Jfe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function Yfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["source"]);i!=null&&Qfe(i,n);const o=p(e,["config"]);return o!=null&&Jfe(o,n),n}function Xfe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_fe(i))),m(e,["generatedMasks"],r)}return e}function Qfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],sr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Kfe(o)),n}function Zfe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],tfe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function ehe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Nfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Cfe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function ej(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>nfe(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function the(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function nhe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function rhe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function ihe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function ohe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],Pe(t,r));const i=p(e,["config"]);return i!=null&&rhe(i,n),n}function ahe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&ihe(i,n),n}function she(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function lhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],sr(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&she(a,n),n}function uhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>vp(o))),m(e,["generatedImages"],i)}return e}function che(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Ui(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function dhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Ui(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function fhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],sr(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function hhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],xp(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function phe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],sr(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function tj(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Ui(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function nj(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ui(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mhe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function ghe(t){const e={},n=p(t,["config"]);return n!=null&&mhe(n,e),e}function yhe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function vhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&yhe(r,e),e}function xhe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function bhe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function whe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],She(a)),e}function _he(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&bhe(i,e),e}function She(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Ehe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function The(t){const e={},n=p(t,["config"]);return n!=null&&Ehe(n,e),e}function Ahe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function rj(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function khe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&rj(r,e),e}function Nhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Che="Content-Type",Phe="X-Server-Timeout",Ihe="User-Agent",Tv="x-goog-api-client",Ohe="1.34.0",jhe=`google-genai-sdk/${Ohe}`,Rhe="v1beta1",Mhe="v1beta";class $he{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Rhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Mhe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Dhe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await NA(i),new bv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await NA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return rr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield xe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),b=y.status,x=y.code,w=`got status: ${b}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new gp({message:w,status:x})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const b of l){const x=a.indexOf(b);x!==-1&&(h===-1||x<h)&&(h=x,g=b.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const y=v.trim();if(y.startsWith(s)){const b=y.substring(s.length).trim();try{const x=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield xe(new bv(x))}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jhe+" "+this.clientOptions.userAgentExtra;return e[Ihe]=n,e[Tv]=n,e[Che]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Phe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),d=ee("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&rj(r,f);const h=await this.fetchUploadUrl(u,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function NA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gp({message:i,status:n}):new Error(i)}}function Dhe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lhe="mcp_used/unknown";let Uhe=!1;function ij(t){for(const e of t)if(Fhe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Uhe}function oj(t){var e;const n=(e=t[Tv])!==null&&e!==void 0?e:"";t[Tv]=(n+` ${Lhe}`).trimStart()}function Fhe(t){return t!==null&&typeof t=="object"&&t instanceof ab}function Bhe(t){return rr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield xe(n.listTools({cursor:i}));for(const s of a.tools)yield yield xe(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ab{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ab(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,ir(Bhe(d))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),xue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qhe(t,e,n){const r=new due;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Vhe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=zhe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{qhe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,Hhe(a),v);y.connect(),await d;const w={setup:{model:Pe(this.apiClient,e.model)}};return y.send(JSON.stringify(w)),new Ghe(y,this.apiClient)}}class Ghe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gde(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mde(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(va.PLAY)}pause(){this.sendPlaybackControl(va.PAUSE)}stop(){this.sendPlaybackControl(va.STOP)}resetContext(){this.sendPlaybackControl(va.RESET_CONTEXT)}close(){this.conn.close()}}function Hhe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function zhe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Whe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Khe(t,e,n){const r=new cue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=xde(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Jhe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Vhe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&ij(e.config.tools)&&oj(f);const h=Zhe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let P="BidiGenerateContent",I="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",I="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${I}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),y=e.callbacks,b=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},x=this.apiClient,w={onopen:b,onmessage:C=>{Khe(x,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,Qhe(h),w);_.connect(),await v;let T=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${C}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kf.AUDIO]}:e.config.responseModalities=[Kf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const P=C;A.push(await P.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const N={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=pde(this.apiClient,N):S=hde(this.apiClient,N),delete S.config,_.send(JSON.stringify(S)),new Xhe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yhe={turnComplete:!0};class Xhe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Rn(n.turns),e.isVertexAI()||(r=r.map(i=>yp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Whe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Yhe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:vde(e)}:n={realtimeInput:yde(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Qhe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Zhe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA=10;function PA(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Oa(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Oa(t){return"callTool"in t&&typeof t.callTool=="function"}function epe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Oa(i)))!==null&&r!==void 0?r:!1}function IA(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Oa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function OA(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tpe extends Zr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!epe(n)||PA(n.config))return await this.generateContentInternal(l);const u=IA(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=Rn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:CA;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,b=[];for(const x of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Oa(x)){const _=await x.callTool(d.functionCalls);b.push(..._)}v++,f={role:"user",parts:b},l.contents=Rn(l.contents),l.contents.push(y),l.contents.push(f),OA(l.config)&&(h.push(y),h.push(f))}return OA(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),PA(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=IA(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Lo(zr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Oa(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&ij(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),oj(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Oa(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CA;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,d,f){return rr(this,arguments,function*(){for(var h,g,v,y,b,x;s<o;){a&&(s++,a=!1);const S=yield xe(u.processParamsMaybeAddMcpUsage(f)),E=yield xe(u.generateContentStreamInternal(S)),A=[],N=[];try{for(var w=!0,_=(g=void 0,ir(E)),T;T=yield xe(_.next()),h=T.done,!h;w=!0){y=T.value,w=!1;const C=y;if(yield yield xe(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){N.push(C.candidates[0].content);for(const P of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(P.functionCall.name)){const I=yield xe(d.get(P.functionCall.name).callTool([P.functionCall]));A.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!w&&!h&&(v=_.return)&&(yield xe(v.call(_)))}finally{if(g)throw g.error}}if(A.length>0){a=!0;const C=new Xs;C.candidates=[{content:{role:"user",parts:A}}],yield yield xe(C);const P=[];P.push(...N),P.push({role:"user",parts:A});const I=Rn(f.contents).concat(P);f.contents=I}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TA(this.apiClient,e);return s=ee("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=kA(d),h=new Xs;return Object.assign(h,f),h})}else{const u=EA(this.apiClient,e);return s=ee("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=AA(d),h=new Xs;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TA(this.apiClient,e);return s=ee("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return rr(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=ir(f),w;w=yield xe(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,T=kA(yield xe(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Xs;Object.assign(S,T),yield yield xe(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield xe(v.call(x)))}finally{if(g)throw g.error}}})})}else{const u=EA(this.apiClient,e);return s=ee("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return rr(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=ir(f),w;w=yield xe(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,T=AA(yield xe(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Xs;Object.assign(S,T),yield yield xe(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield xe(v.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jde(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Xde(d),h=new sA;return Object.assign(h,f),h})}else{const u=Kde(this.apiClient,e);return s=ee("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Yde(d),h=new sA;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lfe(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=cfe(d),h=new lA;return Object.assign(h,f),h})}else{const u=sfe(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ufe(d),h=new lA;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Gde(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Hde(l),d=new Zle;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=lhe(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=uhe(l),d=new eue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Vfe(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gfe(l),d=new tue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Yfe(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Xfe(l),d=new nue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kfe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ev(d))}else{const u=Afe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Sv(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$fe(this.apiClient,e);return s=ee("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Lfe(d),h=new uA;return Object.assign(h,f),h})}else{const u=Mfe(this.apiClient,e);return s=ee("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Dfe(d),h=new uA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ahe(this.apiClient,e);return s=ee("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ev(d))}else{const u=ohe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Sv(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fde(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=qde(d),h=new cA;return Object.assign(h,f),h})}else{const u=Ude(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Bde(d),h=new cA;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$de(this.apiClient,e);return s=ee("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Lde(d),h=new dA;return Object.assign(h,f),h})}else{const u=Mde(this.apiClient,e);return s=ee("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Dde(d),h=new dA;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Nde(this.apiClient,e);return o=ee("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Cde(l),d=new rue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=gfe(this.apiClient,e);return s=ee("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=pfe(d),h=new Jf;return Object.assign(h,f),h})}else{const u=mfe(this.apiClient,e);return s=ee("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=hfe(d),h=new Jf;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class npe extends Zr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Wle(e);return s=ee("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=zle(e);return s=ee("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ule(e);return o=ee("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rpe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ipe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hpe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ope(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],fpe(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function ape(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],ope(t,r,n)),n}function spe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lpe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function upe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function cpe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function dpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],ob(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],ipe(Ft(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Is(y);Array.isArray(E)&&(E=E.map(A=>mpe(Ps(A)))),m(e,["setup","tools"],E)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],ppe(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],dpe(i,n)),n}function hpe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],spe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],lpe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],rpe(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function ppe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mpe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],upe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],cpe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gpe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function ype(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=gpe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class vpe extends Zr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=ape(this.apiClient,e);o=ee("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=ype(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xpe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function bpe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&xpe(r,e),e}function wpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function _pe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Spe(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&_pe(r,e),e}function Epe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tpe extends Zr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Lo(zr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wpe(e);return o=ee("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bpe(e);i=ee("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Spe(e);return o=ee("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Epe(l),d=new iue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ape extends Zr{constructor(e,n=new Tpe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Lo(zr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ghe(e);return o=ee("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xhe(e);return o=ee("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vhe(e);i=ee("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=The(e);return o=ee("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ahe(l),d=new oue;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=khe(e);return o=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Nhe(l),d=new aue;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_he(e);return o=ee("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=whe(l),d=new eb;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aj=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return aj=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const kpe=()=>aj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Av(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const kv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln extends Error{}class Jt extends Ln{constructor(e,n,r,i){super(`${Jt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new bp({message:r,cause:kv(n)});const o=n;return e===400?new lj(e,o,r,i):e===401?new uj(e,o,r,i):e===403?new cj(e,o,r,i):e===404?new dj(e,o,r,i):e===409?new fj(e,o,r,i):e===422?new hj(e,o,r,i):e===429?new pj(e,o,r,i):e>=500?new mj(e,o,r,i):new Jt(e,o,r,i)}}class Nv extends Jt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class bp extends Jt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class sj extends bp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class lj extends Jt{}class uj extends Jt{}class cj extends Jt{}class dj extends Jt{}class fj extends Jt{}class hj extends Jt{}class pj extends Jt{}class mj extends Jt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Npe=/^[a-z][a-z0-9+.-]*:/i,Cpe=t=>Npe.test(t);let Cv=t=>(Cv=Array.isArray,Cv(t));const Ppe=Cv;let Ipe=Ppe;const jA=Ipe;function Ope(t){if(!t)return!0;for(const e in t)return!1;return!0}function jpe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Rpe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ln(`${t} must be an integer`);if(e<0)throw new Ln(`${t} must be a positive integer`);return e},Mpe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $pe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dpe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Lpe=()=>{var t,e,n,r,i;const o=Dpe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zo,"X-Stainless-OS":MA(Deno.build.os),"X-Stainless-Arch":RA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zo,"X-Stainless-OS":MA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":RA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Upe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Upe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const RA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",MA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fc;const Fpe=()=>Fc??(Fc=Lpe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bpe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function gj(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function qpe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return gj({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function yj(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Vpe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gpe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vj=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $m(t,e,n){return vj(),new File(t,e??"unknown_file",n)}function Hpe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const zpe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xj=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Wpe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&xj(t),Kpe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Jpe(t,e,n){if(vj(),t=await t,Wpe(t))return t instanceof File?t:$m([await t.arrayBuffer()],t.name);if(Kpe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),$m(await Pv(i),e,n)}const r=await Pv(t);if(e||(e=Hpe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return $m(r,e,n)}async function Pv(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(xj(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(zpe(t))try{for(var s=!0,l=ir(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(...await Pv(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Ype(t)}`)}return a}function Ype(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bj{constructor(e){this._client=e}}bj._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wj(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $A=Object.freeze(Object.create(null)),Xpe=(t=wj)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var g,v,y;/[?#]/.test(f)&&(i=!0);const b=r[h];let x=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((g=b.hasOwnProperty)!==null&&g!==void 0?g:$A))!==null&&v!==void 0?v:$A))===null||y===void 0?void 0:y.toString))&&(x=b+"",o.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const v=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+v+y},"");throw new Ln(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},Bc=Xpe(wj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _j extends bj{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Xf(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Bc`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Bc`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Bc`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Xf(o,["api_version"]);return this._client.get(Bc`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}_j._key=Object.freeze(["interactions"]);class Sj extends _j{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qpe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let qc;function sb(t){let e;return(qc??(e=new globalThis.TextEncoder,qc=e.encode.bind(e)))(t)}let Vc;function DA(t){let e;return(Vc??(e=new globalThis.TextDecoder,Vc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?sb(e):e;this.buffer=Qpe([this.buffer,n]);const r=[];let i;for(;(i=Zpe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(DA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=DA(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}wp.NEWLINE_CHARS=new Set([`
`,"\r"]);wp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Zpe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function eme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qf={off:0,error:200,warn:300,info:400,debug:500},LA=(t,e,n)=>{if(t){if(jpe(Qf,t))return t;qt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Qf))}`)}};function ol(){}function Gc(t,e,n){return!e||Qf[t]>Qf[n]?ol:e[t].bind(e)}const tme={error:ol,warn:ol,info:ol,debug:ol};let UA=new WeakMap;function qt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return tme;const i=UA.get(n);if(i&&i[0]===r)return i[1];const o={error:Gc("error",n,r),warn:Gc("warn",n,r),info:Gc("info",n,r),debug:Gc("debug",n,r)};return UA.set(n,[r,o]),o}const Xi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xa{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?qt(r):console;function a(){return rr(this,arguments,function*(){var l,u,d,f;if(i)throw new Ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=ir(nme(e,n)),y;y=yield xe(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield xe(JSON.parse(b.data))}catch(x){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),x}}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield xe(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Av(b))return yield xe(void 0);throw b}finally{h||n.abort()}})}return new xa(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return rr(this,arguments,function*(){var l,u,d,f;const h=new wp,g=yj(e);try{for(var v=!0,y=ir(g),b;b=yield xe(y.next()),l=b.done,!l;v=!0){f=b.value,v=!1;const x=f;for(const w of h.decode(x))yield yield xe(w)}}catch(x){u={error:x}}finally{try{!v&&!l&&(d=y.return)&&(yield xe(d.call(y)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield xe(x)})}function a(){return rr(this,arguments,function*(){var l,u,d,f;if(i)throw new Ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=ir(o()),y;y=yield xe(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;h||b&&(yield yield xe(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield xe(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Av(b))return yield xe(void 0);throw b}finally{h||n.abort()}})}return new xa(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new xa(()=>i(e),this.controller,this.client),new xa(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return gj({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=sb(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function nme(t,e){return rr(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ln("Attempted to iterate over a response with no body");const s=new ime,l=new wp,u=yj(t.body);try{for(var d=!0,f=ir(rme(u)),h;h=yield xe(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const g=a;for(const v of l.decode(g)){const y=s.decode(v);y&&(yield yield xe(y))}}}catch(g){i={error:g}}finally{try{!d&&!r&&(o=f.return)&&(yield xe(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield xe(v))}})}function rme(t){return rr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=ir(t),u;u=yield xe(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?sb(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=eme(a))!==-1;)yield yield xe(a.slice(0,g)),a=a.slice(g)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield xe(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield xe(a))})}class ime{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=ome(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ome(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ame(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return qt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):xa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return qt(t).debug(`[${r}] response parsed`,Xi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends Promise{constructor(e,n,r=ame){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new lb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ej=Symbol("brand.privateNullableHeaders");function*sme(t){if(!t)return;if(Ej in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():jA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=jA(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Qs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of sme(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Ej]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=jle)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tj;class _p{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=Dm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Dm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Xf(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:_p.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=LA(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:LA(Dm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Bpe(),this.encoder=Gpe,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Qs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ln(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zo}`}defaultIdempotencyKey(){return`stainless-node-retry-${kpe()}`}makeStatusError(e,n,r,i){return Jt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Cpe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Ope(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new lb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(qt(this).debug(`[${h}] sending request`,Xi({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Nv;const y=new AbortController,b=await this.fetchWithTimeout(d,u,f,y).catch(kv),x=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Nv;const T=Av(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return qt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),qt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,Xi({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),this.retryRequest(s,n,r??h);throw qt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),qt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Xi({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),T?new sj:new bp({cause:b})}const w=`[${h}${g}] ${u.method} ${d} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${x-v}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await Vpe(b.body),qt(this).info(`${w} - ${C}`),qt(this).debug(`[${h}] response error (${C})`,Xi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),this.retryRequest(s,n,r??h,b.headers)}const T=_?"error; no more retries left":"error; not retryable";qt(this).info(`${w} - ${T}`);const S=await b.text().catch(C=>kv(C).message),E=Mpe(S),A=E?void 0:S;throw qt(this).debug(`[${h}] response error (${T})`,Xi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(b.status,E,A,b.headers)}return qt(this).info(w),qt(this).debug(`[${h}] response start`,Xi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),{response:b,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Xf(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await $pe(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:d}=a,f=this.buildURL(l,u,d);"timeout"in a&&Rpe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=Qs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Fpe()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Qs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:qpe(e)}:this.encoder({body:e,headers:r})}}_p.DEFAULT_TIMEOUT=6e4;class Nt extends _p{constructor(){super(...arguments),this.interactions=new Sj(this)}}Tj=Nt;Nt.GeminiNextGenAPIClient=Tj;Nt.GeminiNextGenAPIClientError=Ln;Nt.APIError=Jt;Nt.APIConnectionError=bp;Nt.APIConnectionTimeoutError=sj;Nt.APIUserAbortError=Nv;Nt.NotFoundError=dj;Nt.ConflictError=fj;Nt.RateLimitError=pj;Nt.BadRequestError=lj;Nt.AuthenticationError=uj;Nt.InternalServerError=mj;Nt.PermissionDeniedError=cj;Nt.UnprocessableEntityError=hj;Nt.toFile=Jpe;Nt.Interactions=Sj;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function ume(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function cme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function dme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function fme(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function hme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],FA(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],FA(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function pme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Tme(o);const a=p(t,["config"]);return a!=null&&fme(a,n),n}function mme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Ame(o,n,e);const a=p(t,["config"]);return a!=null&&hme(a,n,e),n}function gme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function yme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function vme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function xme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function bme(t,e){const n={},r=p(t,["config"]);return r!=null&&vme(r,n),n}function wme(t,e){const n={},r=p(t,["config"]);return r!=null&&xme(r,n),n}function _me(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Aj(s))),m(n,["tuningJobs"],a)}return n}function Sme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Iv(s))),m(n,["tuningJobs"],a)}return n}function Eme(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Tme(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Ame(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Aj(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],qO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],Eme(h)),n}function Iv(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],qO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(n,["error"],d);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const v=p(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(n,["supervisedTuningSpec"],y);const b=p(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const x=p(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const w=p(t,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const T=p(t,["customBaseModel"]);T!=null&&m(n,["customBaseModel"],T);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const E=p(t,["labels"]);E!=null&&m(n,["labels"],E);const A=p(t,["outputUri"]);A!=null&&m(n,["outputUri"],A);const N=p(t,["pipelineJob"]);N!=null&&m(n,["pipelineJob"],N);const C=p(t,["serviceAccount"]);C!=null&&m(n,["serviceAccount"],C);const P=p(t,["tunedModelDisplayName"]);P!=null&&m(n,["tunedModelDisplayName"],P);const I=p(t,["veoTuningSpec"]);return I!=null&&m(n,["veoTuningSpec"],I),n}function kme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function FA(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nme extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(zr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:xv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yme(e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Iv(d))}else{const u=gme(e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Aj(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=wme(e);return s=ee("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Sme(d),h=new fA;return Object.assign(h,f),h})}else{const u=bme(e);return s=ee("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=_me(d),h=new fA;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ume(e);return s=ee("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=dme(d),h=new hA;return Object.assign(h,f),h})}else{const u=lme(e);return s=ee("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=cme(d),h=new hA;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=mme(e,e);return o=ee("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Iv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=pme(e);return o=ee("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>kme(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Pme=1024*1024*8,Ime=3,Ome=1e3,jme=2,Zf="x-goog-upload-status";async function Rme(t,e,n){var r;const i=await kj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Mme(t,e,n){var r;const i=await kj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$O(o),s=new tb;return Object.assign(s,a),s}async function kj(t,e,n){var r,i;let o=0,a=0,s=new bv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Pme,o-a),d=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=Ome;for(;f<Ime&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Zf]));)f++,await Dme(h),h=h*jme;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Zf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function $me(t){return{size:t.size,type:t.type}}function Dme(t){return new Promise(e=>setTimeout(e,t))}class Lme{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rme(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Mme(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $me(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ume{create(e,n,r){return new Fme(e,n,r)}}class Fme{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA="x-goog-api-key";class Bme{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(BA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(BA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qme="gl-node/";class Vme{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Dle(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Bme(this.apiKey);this.apiClient=new $he({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qme+"web",uploader:new Lme,downloader:new Cme}),this.models=new tpe(this.apiClient),this.live=new Jhe(this.apiClient,i,new Ume),this.batches=new fce(this.apiClient),this.chats=new Wce(this.models,this.apiClient),this.caches=new Gce(this.apiClient),this.files=new rde(this.apiClient),this.operations=new npe(this.apiClient),this.authTokens=new vpe(this.apiClient),this.tunings=new Nme(this.apiClient),this.fileSearchStores=new Ape(this.apiClient)}}const Gme=({user:t})=>{const[e,n]=k.useState(!1),[r,i]=k.useState(""),[o,a]=k.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=k.useState(!1),u=k.useRef(null);k.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{const h=Xx().map(y=>{var b,x,w,_;return{code:y.trackingCode,title:y.title,status:((b=y.data)==null?void 0:b.status)||y.status,equipment:((x=y.data)==null?void 0:x.equipName)||"",failure:(w=y.data)==null?void 0:w.failureDesc,date:y.createdAt,requester:(_=y.data)==null?void 0:_.requester}}),g=Li("PART_REQUEST").map(y=>{var b,x;return{part:(b=y.data)==null?void 0:b.partName,qty:(x=y.data)==null?void 0:x.qty,requester:y.description}});return`
      You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
      Your goal is to help the maintenance manager by analyzing the provided data.
      
      HERE IS THE LIVE DATA FROM THE SYSTEM:
      ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,workOrdersSummary:h,activePartsRequests:g})}

      INSTRUCTIONS:
      1. Answer solely based on the data provided above.
      2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
      3. Respond in Persian (Farsi).
      4. Be concise and professional.
      5. Use formatting (bullet points, bold text) to make it readable.
      6. If the data is empty, say so.
      7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
    `},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(v=>[...v,g]),i(""),l(!0);try{const v=new Vme({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await v.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(v){console.error("AI Error:",v),a(y=>[...y,{id:(Date.now()+1).toString(),role:"model",text:`: ${v.message||"      ."}`}])}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?c.jsx(Un,{className:"w-6 h-6"}):c.jsx(tD,{className:"w-7 h-7"})}),e&&c.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(bD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:""}),c.jsx("p",{className:"text-xs opacity-80",children:"   "})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:c.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&c.jsx("div",{className:"flex justify-end",children:c.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[c.jsx(ml,{className:"w-4 h-4 animate-spin"}),"    ..."]})}),c.jsx("div",{ref:u})]}),c.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[c.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"    (:       )",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:c.jsx(Ld,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},Hme=()=>{const[t,e]=k.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch(u){return console.error("Failed to parse user from local storage",u),localStorage.removeItem("currentUser"),null}}),[n,r]=k.useState(()=>localStorage.getItem("theme")==="dark"),[i,o]=k.useState(()=>localStorage.getItem("snowMode")==="true");k.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),k.useEffect(()=>{localStorage.setItem("snowMode",String(i))},[i]);const a=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u));const d={id:Ti(),userName:u.fullName,personnelCode:u.personnelCode||(u.username==="admin"?"9999":"0000"),action:"  ",date:at(),time:ju(),ip:rT,details:`Role: ${u.role}`},f=JSON.parse(localStorage.getItem("system_logs")||"[]");f.push(d),localStorage.setItem("system_logs",JSON.stringify(f)),console.log(`LOG: LOGIN user=${u.username}`)},s=()=>{if(t){const u={id:Ti(),userName:t.fullName,personnelCode:t.personnelCode||"---",action:"  ",date:at(),time:ju(),ip:rT},d=JSON.parse(localStorage.getItem("system_logs")||"[]");d.push(u),localStorage.setItem("system_logs",JSON.stringify(d))}e(null),localStorage.removeItem("currentUser")},l=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u))};return c.jsxs(Y$,{children:[c.jsx(Ole,{enabled:i}),t&&c.jsx(Gme,{user:t}),c.jsx(ID,{user:t,onLogout:s,darkMode:n,toggleDarkMode:()=>r(!n),children:c.jsxs(W$,{children:[c.jsx(st,{path:"/login",element:t?c.jsx(ut,{to:"/"}):c.jsx(RD,{onLogin:a})}),c.jsx(st,{path:"/",element:t?c.jsx(goe,{}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/inbox",element:t?c.jsx(Ele,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/messages",element:t?c.jsx(Ale,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/reports",element:t?c.jsx(Nle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/shift-report",element:t?c.jsx(Ile,{user:t}):c.jsx(ut,{to:"/login"})})," ",c.jsx(st,{path:"/work-orders",element:t?c.jsx(hle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/work-orders/new",element:t?c.jsx(Qx,{}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/projects",element:t?c.jsx(_le,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/performance",element:t?c.jsx(Sle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/part-requests",element:t?c.jsx(gle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/inspections",element:t?c.jsx(mle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/documents",element:t?c.jsx(yle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/meetings",element:t?c.jsx(vle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/suggestions",element:t?c.jsx(xle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/purchases",element:t?c.jsx(ble,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"/workflow-designer",element:(t==null?void 0:t.role)===en.ADMIN?c.jsx(kle,{}):c.jsx(ut,{to:"/"})}),c.jsx(st,{path:"/admin",element:(t==null?void 0:t.role)===en.ADMIN?c.jsx(ele,{}):c.jsx(ut,{to:"/"})}),c.jsx(st,{path:"/settings",element:t?c.jsx(wle,{user:t,onUpdateUser:l,snowMode:i,setSnowMode:o}):c.jsx(ut,{to:"/login"})}),c.jsx(st,{path:"*",element:c.jsx(ut,{to:"/"})})]})})]})};class zme extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?c.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[c.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),c.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),c.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const Nj=document.getElementById("root");if(!Nj)throw new Error("Failed to find the root element");const Wme=Lm.createRoot(Nj);Wme.render(c.jsx(j.StrictMode,{children:c.jsx(zme,{children:c.jsx(Hme,{})})}));
