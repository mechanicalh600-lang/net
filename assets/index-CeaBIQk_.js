function HO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iT={exports:{}},_h={},oT={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),zO=Symbol.for("react.portal"),WO=Symbol.for("react.fragment"),KO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),YO=Symbol.for("react.provider"),XO=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),ZO=Symbol.for("react.suspense"),eR=Symbol.for("react.memo"),tR=Symbol.for("react.lazy"),Cb=Symbol.iterator;function rR(t){return t===null||typeof t!="object"?null:(t=Cb&&t[Cb]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sT=Object.assign,lT={};function Cs(t,e,r){this.props=t,this.context=e,this.refs=lT,this.updater=r||aT}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uT(){}uT.prototype=Cs.prototype;function o0(t,e,r){this.props=t,this.context=e,this.refs=lT,this.updater=r||aT}var a0=o0.prototype=new uT;a0.constructor=o0;sT(a0,Cs.prototype);a0.isPureReactComponent=!0;var Pb=Array.isArray,cT=Object.prototype.hasOwnProperty,s0={current:null},dT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)cT.call(e,n)&&!dT.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ic,type:t,key:o,ref:a,props:i,_owner:s0.current}}function nR(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function iR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ib=/\/+/g;function Jp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iR(""+t.key):e.toString(36)}function hd(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ic:case zO:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Jp(a,0):n,Pb(i)?(r="",t!=null&&(r=t.replace(Ib,"$&/")+"/"),hd(i,e,r,"",function(c){return c})):i!=null&&(l0(i)&&(i=nR(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ib,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Pb(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Jp(o,s);a+=hd(o,e,r,l,i)}else if(l=rR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Jp(o,s++),a+=hd(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nc(t,e,r){if(t==null)return t;var n=[],i=0;return hd(t,n,"","",function(o){return e.call(r,o,i++)}),n}function oR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},pd={transition:null},aR={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:pd,ReactCurrentOwner:s0};function hT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Nc,forEach:function(t,e,r){Nc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Nc(t,function(){e++}),e},toArray:function(t){return Nc(t,function(e){return e})||[]},only:function(t){if(!l0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Cs;je.Fragment=WO;je.Profiler=JO;je.PureComponent=o0;je.StrictMode=KO;je.Suspense=ZO;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aR;je.act=hT;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=sT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=s0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)cT.call(e,l)&&!dT.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:ic,type:t.type,key:i,ref:o,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:XO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YO,_context:t},t.Consumer=t};je.createElement=fT;je.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:QO,render:t}};je.isValidElement=l0;je.lazy=function(t){return{$$typeof:tR,_payload:{_status:-1,_result:t},_init:oR}};je.memo=function(t,e){return{$$typeof:eR,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=pd.transition;pd.transition={};try{t()}finally{pd.transition=e}};je.unstable_act=hT;je.useCallback=function(t,e){return sr.current.useCallback(t,e)};je.useContext=function(t){return sr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};je.useEffect=function(t,e){return sr.current.useEffect(t,e)};je.useId=function(){return sr.current.useId()};je.useImperativeHandle=function(t,e,r){return sr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return sr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return sr.current.useReducer(t,e,r)};je.useRef=function(t){return sr.current.useRef(t)};je.useState=function(t){return sr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return sr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return sr.current.useTransition()};je.version="18.3.1";oT.exports=je;var T=oT.exports;const D=Ve(T),sR=HO({__proto__:null,default:D},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=T,uR=Symbol.for("react.element"),cR=Symbol.for("react.fragment"),dR=Object.prototype.hasOwnProperty,fR=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hR={key:!0,ref:!0,__self:!0,__source:!0};function pT(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)dR.call(e,n)&&!hR.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:uR,type:t,key:o,ref:a,props:i,_owner:fR.current}}_h.Fragment=cR;_h.jsx=pT;_h.jsxs=pT;iT.exports=_h;var u=iT.exports,ug={},mT={exports:{}},Rr={},gT={exports:{}},yT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,G){var H=F.length;F.push(G);e:for(;0<H;){var X=H-1>>>1,z=F[X];if(0<i(z,G))F[X]=G,F[H]=z,H=X;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var G=F[0],H=F.pop();if(H!==G){F[0]=H;e:for(var X=0,z=F.length,ue=z>>>1;X<ue;){var R=2*(X+1)-1,J=F[R],ie=R+1,de=F[ie];if(0>i(J,H))ie<z&&0>i(de,J)?(F[X]=de,F[ie]=H,X=ie):(F[X]=J,F[R]=H,X=R);else if(ie<z&&0>i(de,H))F[X]=de,F[ie]=H,X=ie;else break e}}return G}function i(F,G){var H=F.sortIndex-G.sortIndex;return H!==0?H:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,g=!1,b=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=F)n(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(c)}}function k(F){if(y=!1,w(F),!b)if(r(l)!==null)b=!0,$(S);else{var G=r(c);G!==null&&B(k,G.startTime-F)}}function S(F,G){b=!1,y&&(y=!1,x(A),A=-1),g=!0;var H=h;try{for(w(G),f=r(l);f!==null&&(!(f.expirationTime>G)||F&&!M());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var z=X(f.expirationTime<=G);G=t.unstable_now(),typeof z=="function"?f.callback=z:f===r(l)&&n(l),w(G)}else n(l);f=r(l)}if(f!==null)var ue=!0;else{var R=r(c);R!==null&&B(k,R.startTime-G),ue=!1}return ue}finally{f=null,h=H,g=!1}}var E=!1,N=null,A=-1,C=5,I=-1;function M(){return!(t.unstable_now()-I<C)}function L(){if(N!==null){var F=t.unstable_now();I=F;var G=!0;try{G=N(!0,F)}finally{G?O():(E=!1,N=null)}}else E=!1}var O;if(typeof _=="function")O=function(){_(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,P=j.port2;j.port1.onmessage=L,O=function(){P.postMessage(null)}}else O=function(){v(L,0)};function $(F){N=F,E||(E=!0,O())}function B(F,G){A=v(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,$(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return G()}finally{h=H}},t.unstable_scheduleCallback=function(F,G,H){var X=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,F={id:d++,callback:G,priorityLevel:F,startTime:H,expirationTime:z,sortIndex:-1},H>X?(F.sortIndex=H,e(c,F),r(l)===null&&F===r(c)&&(y?(x(A),A=-1):y=!0,B(k,H-X))):(F.sortIndex=z,e(l,F),b||g||(b=!0,$(S))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var G=h;return function(){var H=h;h=G;try{return F.apply(this,arguments)}finally{h=H}}}})(yT);gT.exports=yT;var pR=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=T,jr=pR;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vT=new Set,Kl={};function Vo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Kl[t]=e,t=0;t<e.length;t++)vT.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,gR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},Ob={};function yR(t){return cg.call(Ob,t)?!0:cg.call(jb,t)?!1:gR.test(t)?Ob[t]=!0:(jb[t]=!0,!1)}function vR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xR(t,e,r,n){if(e===null||typeof e>"u"||vR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function c0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,c0);Gt[e]=new lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,c0);Gt[e]=new lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,c0);Gt[e]=new lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new lr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function d0(t,e,r,n){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xR(e,r,i,n)&&(r=null),n||i===null?yR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ci=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),ma=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),wT=Symbol.for("react.offscreen"),Rb=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=Rb&&t[Rb]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Yp;function xl(t){if(Yp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yp=e&&e[1]||""}return`
`+Yp+t}var Xp=!1;function Qp(t,e){if(!t||Xp)return"";Xp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Xp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xl(t):""}function bR(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=Qp(t.type,!1),t;case 11:return t=Qp(t.type.render,!1),t;case 1:return t=Qp(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case ma:return"Portal";case dg:return"Profiler";case f0:return"StrictMode";case fg:return"Suspense";case hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bT:return(t.displayName||"Context")+".Consumer";case xT:return(t._context.displayName||"Context")+".Provider";case h0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p0:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===f0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _T(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _R(t){var e=_T(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=_R(t))}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_T(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Mb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Bi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ET(t,e){e=e.checked,e!=null&&d0(t,"checked",e,!1)}function gg(t,e){ET(t,e);var r=Bi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,r):e.hasOwnProperty("defaultValue")&&yg(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $b(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yg(t,e,r){(e!=="number"||Cd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var bl=Array.isArray;function Ma(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Bi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Db(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(bl(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Bi(r)}}function kT(t,e){var r=Bi(e.value),n=Bi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Lb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,TT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){SR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function AT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function CT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=AT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var ER=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bg(t,e){if(e){if(ER[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function m0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,$a=null,Da=null;function Ub(t){if(t=sc(t)){if(typeof Sg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Th(e),Sg(t.stateNode,t.type,e))}}function PT(t){$a?Da?Da.push(t):Da=[t]:$a=t}function IT(){if($a){var t=$a,e=Da;if(Da=$a=null,Ub(t),e)for(t=0;t<e.length;t++)Ub(e[t])}}function jT(t,e){return t(e)}function OT(){}var Zp=!1;function RT(t,e,r){if(Zp)return t(e,r);Zp=!0;try{return jT(t,e,r)}finally{Zp=!1,($a!==null||Da!==null)&&(OT(),IT())}}function Yl(t,e){var r=t.stateNode;if(r===null)return null;var n=Th(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var Eg=!1;if(ei)try{var el={};Object.defineProperty(el,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Eg=!1}function kR(t,e,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Al=!1,Pd=null,Id=!1,kg=null,NR={onError:function(t){Al=!0,Pd=t}};function TR(t,e,r,n,i,o,a,s,l){Al=!1,Pd=null,kR.apply(NR,arguments)}function AR(t,e,r,n,i,o,a,s,l){if(TR.apply(this,arguments),Al){if(Al){var c=Pd;Al=!1,Pd=null}else throw Error(re(198));Id||(Id=!0,kg=c)}}function Go(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function MT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fb(t){if(Go(t)!==t)throw Error(re(188))}function CR(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Fb(i),t;if(o===n)return Fb(i),e;o=o.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function $T(t){return t=CR(t),t!==null?DT(t):null}function DT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DT(t);if(e!==null)return e;t=t.sibling}return null}var LT=jr.unstable_scheduleCallback,Bb=jr.unstable_cancelCallback,PR=jr.unstable_shouldYield,IR=jr.unstable_requestPaint,mt=jr.unstable_now,jR=jr.unstable_getCurrentPriorityLevel,g0=jr.unstable_ImmediatePriority,UT=jr.unstable_UserBlockingPriority,jd=jr.unstable_NormalPriority,OR=jr.unstable_LowPriority,FT=jr.unstable_IdlePriority,Sh=null,Sn=null;function RR(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:DR,MR=Math.log,$R=Math.LN2;function DR(t){return t>>>=0,t===0?32:31-(MR(t)/$R|0)|0}var Pc=64,Ic=4194304;function wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=wl(s):(o&=a,o!==0&&(n=wl(o)))}else a=r&~i,a!==0?n=wl(a):o!==0&&(n=wl(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-dn(e),i=1<<r,n|=t[r],e&=~i;return n}function LR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-dn(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=LR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Ng(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BT(){var t=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),t}function em(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function oc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=r}function FR(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-dn(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function y0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-dn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var qe=0;function qT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VT,v0,GT,HT,zT,Tg=!1,jc=[],ji=null,Oi=null,Ri=null,Xl=new Map,Ql=new Map,Si=[],BR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qb(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function tl(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sc(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qR(t,e,r,n,i){switch(e){case"focusin":return ji=tl(ji,t,e,r,n,i),!0;case"dragenter":return Oi=tl(Oi,t,e,r,n,i),!0;case"mouseover":return Ri=tl(Ri,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Xl.set(o,tl(Xl.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ql.set(o,tl(Ql.get(o)||null,t,e,r,n,i)),!0}return!1}function WT(t){var e=po(t.target);if(e!==null){var r=Go(e);if(r!==null){if(e=r.tag,e===13){if(e=MT(r),e!==null){t.blockedOn=e,zT(t.priority,function(){GT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);_g=n,r.target.dispatchEvent(n),_g=null}else return e=sc(r),e!==null&&v0(e),t.blockedOn=r,!1;e.shift()}return!0}function Vb(t,e,r){md(t)&&r.delete(e)}function VR(){Tg=!1,ji!==null&&md(ji)&&(ji=null),Oi!==null&&md(Oi)&&(Oi=null),Ri!==null&&md(Ri)&&(Ri=null),Xl.forEach(Vb),Ql.forEach(Vb)}function rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Tg||(Tg=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,VR)))}function Zl(t){function e(i){return rl(i,t)}if(0<jc.length){rl(jc[0],t);for(var r=1;r<jc.length;r++){var n=jc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ji!==null&&rl(ji,t),Oi!==null&&rl(Oi,t),Ri!==null&&rl(Ri,t),Xl.forEach(e),Ql.forEach(e),r=0;r<Si.length;r++)n=Si[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)WT(r),r.blockedOn===null&&Si.shift()}var La=ci.ReactCurrentBatchConfig,Rd=!0;function GR(t,e,r,n){var i=qe,o=La.transition;La.transition=null;try{qe=1,x0(t,e,r,n)}finally{qe=i,La.transition=o}}function HR(t,e,r,n){var i=qe,o=La.transition;La.transition=null;try{qe=4,x0(t,e,r,n)}finally{qe=i,La.transition=o}}function x0(t,e,r,n){if(Rd){var i=Ag(t,e,r,n);if(i===null)cm(t,e,n,Md,r),qb(t,n);else if(qR(i,t,e,r,n))n.stopPropagation();else if(qb(t,n),e&4&&-1<BR.indexOf(t)){for(;i!==null;){var o=sc(i);if(o!==null&&VT(o),o=Ag(t,e,r,n),o===null&&cm(t,e,n,Md,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else cm(t,e,n,null,r)}}var Md=null;function Ag(t,e,r,n){if(Md=null,t=m0(n),t=po(t),t!==null)if(e=Go(t),e===null)t=null;else if(r=e.tag,r===13){if(t=MT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function KT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jR()){case g0:return 1;case UT:return 4;case jd:case OR:return 16;case FT:return 536870912;default:return 16}default:return 16}}var Ti=null,b0=null,gd=null;function JT(){if(gd)return gd;var t,e=b0,r=e.length,n,i="value"in Ti?Ti.value:Ti.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return gd=i.slice(t,1<n?1-n:void 0)}function yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oc(){return!0}function Gb(){return!1}function Mr(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oc:Gb,this.isPropagationStopped=Gb,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=Mr(Ps),ac=lt({},Ps,{view:0,detail:0}),zR=Mr(ac),tm,rm,nl,Eh=lt({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(tm=t.screenX-nl.screenX,rm=t.screenY-nl.screenY):rm=tm=0,nl=t),tm)},movementY:function(t){return"movementY"in t?t.movementY:rm}}),Hb=Mr(Eh),WR=lt({},Eh,{dataTransfer:0}),KR=Mr(WR),JR=lt({},ac,{relatedTarget:0}),nm=Mr(JR),YR=lt({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),XR=Mr(YR),QR=lt({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZR=Mr(QR),eM=lt({},Ps,{data:0}),zb=Mr(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nM[t])?!!e[t]:!1}function _0(){return iM}var oM=lt({},ac,{key:function(t){if(t.key){var e=tM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aM=Mr(oM),sM=lt({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=Mr(sM),lM=lt({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),uM=Mr(lM),cM=lt({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=Mr(cM),fM=lt({},Eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Mr(fM),pM=[9,13,27,32],S0=ei&&"CompositionEvent"in window,Cl=null;ei&&"documentMode"in document&&(Cl=document.documentMode);var mM=ei&&"TextEvent"in window&&!Cl,YT=ei&&(!S0||Cl&&8<Cl&&11>=Cl),Kb=" ",Jb=!1;function XT(t,e){switch(t){case"keyup":return pM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function gM(t,e){switch(t){case"compositionend":return QT(e);case"keypress":return e.which!==32?null:(Jb=!0,Kb);case"textInput":return t=e.data,t===Kb&&Jb?null:t;default:return null}}function yM(t,e){if(ya)return t==="compositionend"||!S0&&XT(t,e)?(t=JT(),gd=b0=Ti=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YT&&e.locale!=="ko"?null:e.data;default:return null}}var vM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vM[t.type]:e==="textarea"}function ZT(t,e,r,n){PT(n),e=$d(e,"onChange"),0<e.length&&(r=new w0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pl=null,eu=null;function xM(t){cA(t,0)}function kh(t){var e=ba(t);if(ST(e))return t}function bM(t,e){if(t==="change")return e}var eA=!1;if(ei){var im;if(ei){var om="oninput"in document;if(!om){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),om=typeof Xb.oninput=="function"}im=om}else im=!1;eA=im&&(!document.documentMode||9<document.documentMode)}function Qb(){Pl&&(Pl.detachEvent("onpropertychange",tA),eu=Pl=null)}function tA(t){if(t.propertyName==="value"&&kh(eu)){var e=[];ZT(e,eu,t,m0(t)),RT(xM,e)}}function wM(t,e,r){t==="focusin"?(Qb(),Pl=e,eu=r,Pl.attachEvent("onpropertychange",tA)):t==="focusout"&&Qb()}function _M(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kh(eu)}function SM(t,e){if(t==="click")return kh(e)}function EM(t,e){if(t==="input"||t==="change")return kh(e)}function kM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:kM;function tu(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cg.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function Zb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ew(t,e){var r=Zb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zb(r)}}function rA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nA(){for(var t=window,e=Cd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Cd(t.document)}return e}function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NM(t){var e=nA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rA(r.ownerDocument.documentElement,r)){if(n!==null&&E0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=ew(r,o);var a=ew(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TM=ei&&"documentMode"in document&&11>=document.documentMode,va=null,Cg=null,Il=null,Pg=!1;function tw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pg||va==null||va!==Cd(n)||(n=va,"selectionStart"in n&&E0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Il&&tu(Il,n)||(Il=n,n=$d(Cg,"onSelect"),0<n.length&&(e=new w0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=va)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xa={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},am={},iA={};ei&&(iA=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Nh(t){if(am[t])return am[t];if(!xa[t])return t;var e=xa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iA)return am[t]=e[r];return t}var oA=Nh("animationend"),aA=Nh("animationiteration"),sA=Nh("animationstart"),lA=Nh("transitionend"),uA=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){uA.set(t,e),Vo(e,[t])}for(var sm=0;sm<rw.length;sm++){var lm=rw[sm],AM=lm.toLowerCase(),CM=lm[0].toUpperCase()+lm.slice(1);Gi(AM,"on"+CM)}Gi(oA,"onAnimationEnd");Gi(aA,"onAnimationIteration");Gi(sA,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(lA,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PM=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function nw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,AR(n,e,void 0,t),t.currentTarget=null}function cA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;nw(i,s,c),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;nw(i,s,c),o=l}}}if(Id)throw t=kg,Id=!1,kg=null,t}function Qe(t,e){var r=e[Mg];r===void 0&&(r=e[Mg]=new Set);var n=t+"__bubble";r.has(n)||(dA(e,t,2,!1),r.add(n))}function um(t,e,r){var n=0;e&&(n|=4),dA(r,t,n,e)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Mc]){t[Mc]=!0,vT.forEach(function(r){r!=="selectionchange"&&(PM.has(r)||um(r,!1,t),um(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mc]||(e[Mc]=!0,um("selectionchange",!1,e))}}function dA(t,e,r,n){switch(KT(e)){case 1:var i=GR;break;case 4:i=HR;break;default:i=x0}r=i.bind(null,e,r,t),i=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cm(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=po(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}RT(function(){var c=o,d=m0(r),f=[];e:{var h=uA.get(t);if(h!==void 0){var g=w0,b=t;switch(t){case"keypress":if(yd(r)===0)break e;case"keydown":case"keyup":g=aM;break;case"focusin":b="focus",g=nm;break;case"focusout":b="blur",g=nm;break;case"beforeblur":case"afterblur":g=nm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uM;break;case oA:case aA:case sA:g=XR;break;case lA:g=dM;break;case"scroll":g=zR;break;case"wheel":g=hM;break;case"copy":case"cut":case"paste":g=ZR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wb}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var _=c,w;_!==null;){w=_;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=Yl(_,x),k!=null&&y.push(nu(_,k,w)))),v)break;_=_.return}0<y.length&&(h=new g(h,b,null,r,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==_g&&(b=r.relatedTarget||r.fromElement)&&(po(b)||b[ti]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=c,b=b?po(b):null,b!==null&&(v=Go(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(y=Hb,k="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=Wb,k="onPointerLeave",x="onPointerEnter",_="pointer"),v=g==null?h:ba(g),w=b==null?h:ba(b),h=new y(k,_+"leave",g,r,d),h.target=v,h.relatedTarget=w,k=null,po(d)===c&&(y=new y(x,_+"enter",b,r,d),y.target=w,y.relatedTarget=v,k=y),v=k,g&&b)t:{for(y=g,x=b,_=0,w=y;w;w=ea(w))_++;for(w=0,k=x;k;k=ea(k))w++;for(;0<_-w;)y=ea(y),_--;for(;0<w-_;)x=ea(x),w--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=ea(y),x=ea(x)}y=null}else y=null;g!==null&&iw(f,h,g,y,!1),b!==null&&v!==null&&iw(f,v,b,y,!0)}}e:{if(h=c?ba(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=bM;else if(Yb(h))if(eA)S=EM;else{S=_M;var E=wM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=SM);if(S&&(S=S(t,c))){ZT(f,S,r,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&yg(h,"number",h.value)}switch(E=c?ba(c):window,t){case"focusin":(Yb(E)||E.contentEditable==="true")&&(va=E,Cg=c,Il=null);break;case"focusout":Il=Cg=va=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,tw(f,r,d);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":tw(f,r,d)}var N;if(S0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ya?XT(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(YT&&r.locale!=="ko"&&(ya||A!=="onCompositionStart"?A==="onCompositionEnd"&&ya&&(N=JT()):(Ti=d,b0="value"in Ti?Ti.value:Ti.textContent,ya=!0)),E=$d(c,A),0<E.length&&(A=new zb(A,t,null,r,d),f.push({event:A,listeners:E}),N?A.data=N:(N=QT(r),N!==null&&(A.data=N)))),(N=mM?gM(t,r):yM(t,r))&&(c=$d(c,"onBeforeInput"),0<c.length&&(d=new zb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=N))}cA(f,e)})}function nu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $d(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yl(t,r),o!=null&&n.unshift(nu(t,o,i)),o=Yl(t,e),o!=null&&n.push(nu(t,o,i))),t=t.return}return n}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Yl(r,o),l!=null&&a.unshift(nu(r,l,s))):i||(l=Yl(r,o),l!=null&&a.push(nu(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var IM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(IM,`
`).replace(jM,"")}function $c(t,e,r){if(e=ow(e),ow(t)!==e&&r)throw Error(re(425))}function Dd(){}var Ig=null,jg=null;function Og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,RM=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(MM)}:Rg;function MM(t){setTimeout(function(){throw t})}function dm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zl(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Is=Math.random().toString(36).slice(2),wn="__reactFiber$"+Is,iu="__reactProps$"+Is,ti="__reactContainer$"+Is,Mg="__reactEvents$"+Is,$M="__reactListeners$"+Is,DM="__reactHandles$"+Is;function po(t){var e=t[wn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ti]||r[wn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sw(t);t!==null;){if(r=t[wn])return r;t=sw(t)}return e}t=r,r=t.parentNode}return null}function sc(t){return t=t[wn]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Th(t){return t[iu]||null}var $g=[],wa=-1;function Hi(t){return{current:t}}function tt(t){0>wa||(t.current=$g[wa],$g[wa]=null,wa--)}function Ye(t,e){wa++,$g[wa]=t.current,t.current=e}var qi={},Qt=Hi(qi),pr=Hi(!1),Co=qi;function Ka(t,e){var r=t.type.contextTypes;if(!r)return qi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mr(t){return t=t.childContextTypes,t!=null}function Ld(){tt(pr),tt(Qt)}function lw(t,e,r){if(Qt.current!==qi)throw Error(re(168));Ye(Qt,e),Ye(pr,r)}function fA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,wR(t)||"Unknown",i));return lt({},r,n)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Co=Qt.current,Ye(Qt,t),Ye(pr,pr.current),!0}function uw(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=fA(t,e,Co),n.__reactInternalMemoizedMergedChildContext=t,tt(pr),tt(Qt),Ye(Qt,t)):tt(pr),Ye(pr,r)}var qn=null,Ah=!1,fm=!1;function hA(t){qn===null?qn=[t]:qn.push(t)}function LM(t){Ah=!0,hA(t)}function zi(){if(!fm&&qn!==null){fm=!0;var t=0,e=qe;try{var r=qn;for(qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qn=null,Ah=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),LT(g0,zi),i}finally{qe=e,fm=!1}}return null}var _a=[],Sa=0,Fd=null,Bd=0,Fr=[],Br=0,Po=null,Vn=1,Gn="";function no(t,e){_a[Sa++]=Bd,_a[Sa++]=Fd,Fd=t,Bd=e}function pA(t,e,r){Fr[Br++]=Vn,Fr[Br++]=Gn,Fr[Br++]=Po,Po=t;var n=Vn;t=Gn;var i=32-dn(n)-1;n&=~(1<<i),r+=1;var o=32-dn(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Vn=1<<32-dn(e)+i|r<<i|n,Gn=o+t}else Vn=1<<o|r<<i|n,Gn=t}function k0(t){t.return!==null&&(no(t,1),pA(t,1,0))}function N0(t){for(;t===Fd;)Fd=_a[--Sa],_a[Sa]=null,Bd=_a[--Sa],_a[Sa]=null;for(;t===Po;)Po=Fr[--Br],Fr[Br]=null,Gn=Fr[--Br],Fr[Br]=null,Vn=Fr[--Br],Fr[Br]=null}var Ar=null,Tr=null,nt=!1,un=null;function mA(t,e){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function cw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ar=t,Tr=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ar=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Po!==null?{id:Vn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ar=t,Tr=null,!0):!1;default:return!1}}function Dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(nt){var e=Tr;if(e){var r=e;if(!cw(t,e)){if(Dg(t))throw Error(re(418));e=Mi(r.nextSibling);var n=Ar;e&&cw(t,e)?mA(n,r):(t.flags=t.flags&-4097|2,nt=!1,Ar=t)}}else{if(Dg(t))throw Error(re(418));t.flags=t.flags&-4097|2,nt=!1,Ar=t}}}function dw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function Dc(t){if(t!==Ar)return!1;if(!nt)return dw(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Og(t.type,t.memoizedProps)),e&&(e=Tr)){if(Dg(t))throw gA(),Error(re(418));for(;e;)mA(t,e),e=Mi(e.nextSibling)}if(dw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Tr=Mi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Ar?Mi(t.stateNode.nextSibling):null;return!0}function gA(){for(var t=Tr;t;)t=Mi(t.nextSibling)}function Ja(){Tr=Ar=null,nt=!1}function T0(t){un===null?un=[t]:un.push(t)}var UM=ci.ReactCurrentBatchConfig;function il(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fw(t){var e=t._init;return e(t._payload)}function yA(t){function e(x,_){if(t){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function r(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function n(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ui(x,_),x.index=0,x.sibling=null,x}function o(x,_,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,_,w,k){return _===null||_.tag!==6?(_=xm(w,x.mode,k),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,k){var S=w.type;return S===ga?d(x,_,w.props.children,k,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xi&&fw(S)===_.type)?(k=i(_,w.props),k.ref=il(x,_,w),k.return=x,k):(k=Ed(w.type,w.key,w.props,null,x.mode,k),k.ref=il(x,_,w),k.return=x,k)}function c(x,_,w,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=bm(w,x.mode,k),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function d(x,_,w,k,S){return _===null||_.tag!==7?(_=Eo(w,x.mode,k,S),_.return=x,_):(_=i(_,w),_.return=x,_)}function f(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xm(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tc:return w=Ed(_.type,_.key,_.props,null,x.mode,w),w.ref=il(x,null,_),w.return=x,w;case ma:return _=bm(_,x.mode,w),_.return=x,_;case xi:var k=_._init;return f(x,k(_._payload),w)}if(bl(_)||Zs(_))return _=Eo(_,x.mode,w,null),_.return=x,_;Lc(x,_)}return null}function h(x,_,w,k){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,_,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tc:return w.key===S?l(x,_,w,k):null;case ma:return w.key===S?c(x,_,w,k):null;case xi:return S=w._init,h(x,_,S(w._payload),k)}if(bl(w)||Zs(w))return S!==null?null:d(x,_,w,k,null);Lc(x,w)}return null}function g(x,_,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,s(_,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Tc:return x=x.get(k.key===null?w:k.key)||null,l(_,x,k,S);case ma:return x=x.get(k.key===null?w:k.key)||null,c(_,x,k,S);case xi:var E=k._init;return g(x,_,w,E(k._payload),S)}if(bl(k)||Zs(k))return x=x.get(w)||null,d(_,x,k,S,null);Lc(_,k)}return null}function b(x,_,w,k){for(var S=null,E=null,N=_,A=_=0,C=null;N!==null&&A<w.length;A++){N.index>A?(C=N,N=null):C=N.sibling;var I=h(x,N,w[A],k);if(I===null){N===null&&(N=C);break}t&&N&&I.alternate===null&&e(x,N),_=o(I,_,A),E===null?S=I:E.sibling=I,E=I,N=C}if(A===w.length)return r(x,N),nt&&no(x,A),S;if(N===null){for(;A<w.length;A++)N=f(x,w[A],k),N!==null&&(_=o(N,_,A),E===null?S=N:E.sibling=N,E=N);return nt&&no(x,A),S}for(N=n(x,N);A<w.length;A++)C=g(N,x,A,w[A],k),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?A:C.key),_=o(C,_,A),E===null?S=C:E.sibling=C,E=C);return t&&N.forEach(function(M){return e(x,M)}),nt&&no(x,A),S}function y(x,_,w,k){var S=Zs(w);if(typeof S!="function")throw Error(re(150));if(w=S.call(w),w==null)throw Error(re(151));for(var E=S=null,N=_,A=_=0,C=null,I=w.next();N!==null&&!I.done;A++,I=w.next()){N.index>A?(C=N,N=null):C=N.sibling;var M=h(x,N,I.value,k);if(M===null){N===null&&(N=C);break}t&&N&&M.alternate===null&&e(x,N),_=o(M,_,A),E===null?S=M:E.sibling=M,E=M,N=C}if(I.done)return r(x,N),nt&&no(x,A),S;if(N===null){for(;!I.done;A++,I=w.next())I=f(x,I.value,k),I!==null&&(_=o(I,_,A),E===null?S=I:E.sibling=I,E=I);return nt&&no(x,A),S}for(N=n(x,N);!I.done;A++,I=w.next())I=g(N,x,A,I.value,k),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?A:I.key),_=o(I,_,A),E===null?S=I:E.sibling=I,E=I);return t&&N.forEach(function(L){return e(x,L)}),nt&&no(x,A),S}function v(x,_,w,k){if(typeof w=="object"&&w!==null&&w.type===ga&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tc:e:{for(var S=w.key,E=_;E!==null;){if(E.key===S){if(S=w.type,S===ga){if(E.tag===7){r(x,E.sibling),_=i(E,w.props.children),_.return=x,x=_;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xi&&fw(S)===E.type){r(x,E.sibling),_=i(E,w.props),_.ref=il(x,E,w),_.return=x,x=_;break e}r(x,E);break}else e(x,E);E=E.sibling}w.type===ga?(_=Eo(w.props.children,x.mode,k,w.key),_.return=x,x=_):(k=Ed(w.type,w.key,w.props,null,x.mode,k),k.ref=il(x,_,w),k.return=x,x=k)}return a(x);case ma:e:{for(E=w.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else e(x,_);_=_.sibling}_=bm(w,x.mode,k),_.return=x,x=_}return a(x);case xi:return E=w._init,v(x,_,E(w._payload),k)}if(bl(w))return b(x,_,w,k);if(Zs(w))return y(x,_,w,k);Lc(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(x,_.sibling),_=i(_,w),_.return=x,x=_):(r(x,_),_=xm(w,x.mode,k),_.return=x,x=_),a(x)):r(x,_)}return v}var Ya=yA(!0),vA=yA(!1),qd=Hi(null),Vd=null,Ea=null,A0=null;function C0(){A0=Ea=Vd=null}function P0(t){var e=qd.current;tt(qd),t._currentValue=e}function Ug(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ua(t,e){Vd=t,A0=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(A0!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if(Vd===null)throw Error(re(308));Ea=t,Vd.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var mo=null;function I0(t){mo===null?mo=[t]:mo.push(t)}function xA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,I0(e)):(r.next=i.next,i.next=r),e.interleaved=r,ri(t,n)}function ri(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bi=!1;function j0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ri(t,r)}return i=n.interleaved,i===null?(e.next=e,I0(n)):(e.next=i.next,i.next=e),n.interleaved=e,ri(t,r)}function vd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y0(t,r)}}function hw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Gd(t,e,r,n){var i=t.updateQueue;bi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,y=s;switch(h=e,g=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=lt({},f,h);break e;case 2:bi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);jo|=a,t.lanes=a,t.memoizedState=f}}function pw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var lc={},En=Hi(lc),ou=Hi(lc),au=Hi(lc);function go(t){if(t===lc)throw Error(re(174));return t}function O0(t,e){switch(Ye(au,e),Ye(ou,t),Ye(En,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xg(e,t)}tt(En),Ye(En,e)}function Xa(){tt(En),tt(ou),tt(au)}function wA(t){go(au.current);var e=go(En.current),r=xg(e,t.type);e!==r&&(Ye(ou,t),Ye(En,r))}function R0(t){ou.current===t&&(tt(En),tt(ou))}var at=Hi(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hm=[];function M0(){for(var t=0;t<hm.length;t++)hm[t]._workInProgressVersionPrimary=null;hm.length=0}var xd=ci.ReactCurrentDispatcher,pm=ci.ReactCurrentBatchConfig,Io=0,st=null,Nt=null,Rt=null,zd=!1,jl=!1,su=0,FM=0;function zt(){throw Error(re(321))}function $0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gn(t[r],e[r]))return!1;return!0}function D0(t,e,r,n,i,o){if(Io=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xd.current=t===null||t.memoizedState===null?GM:HM,t=r(n,i),jl){o=0;do{if(jl=!1,su=0,25<=o)throw Error(re(301));o+=1,Rt=Nt=null,e.updateQueue=null,xd.current=zM,t=r(n,i)}while(jl)}if(xd.current=Wd,e=Nt!==null&&Nt.next!==null,Io=0,Rt=Nt=st=null,zd=!1,e)throw Error(re(300));return t}function L0(){var t=su!==0;return su=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Kr(){if(Nt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Rt===null?st.memoizedState:Rt.next;if(e!==null)Rt=e,Nt=t;else{if(t===null)throw Error(re(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function lu(t,e){return typeof e=="function"?e(t):e}function mm(t){var e=Kr(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Nt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((Io&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=n):l=l.next=f,st.lanes|=d,jo|=d}c=c.next}while(c!==null&&c!==o);l===null?a=n:l.next=s,gn(n,e.memoizedState)||(dr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,jo|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gm(t){var e=Kr(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);gn(o,e.memoizedState)||(dr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function _A(){}function SA(t,e){var r=st,n=Kr(),i=e(),o=!gn(n.memoizedState,i);if(o&&(n.memoizedState=i,dr=!0),n=n.queue,U0(NA.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,uu(9,kA.bind(null,r,n,i,e),void 0,null),$t===null)throw Error(re(349));Io&30||EA(r,e,i)}return i}function EA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kA(t,e,r,n){e.value=r,e.getSnapshot=n,TA(e)&&AA(t)}function NA(t,e,r){return r(function(){TA(e)&&AA(t)})}function TA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gn(t,r)}catch{return!0}}function AA(t){var e=ri(t,1);e!==null&&fn(e,t,1,-1)}function mw(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=VM.bind(null,st,t),[e.memoizedState,t]}function uu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function CA(){return Kr().memoizedState}function bd(t,e,r,n){var i=bn();st.flags|=t,i.memoizedState=uu(1|e,r,void 0,n===void 0?null:n)}function Ch(t,e,r,n){var i=Kr();n=n===void 0?null:n;var o=void 0;if(Nt!==null){var a=Nt.memoizedState;if(o=a.destroy,n!==null&&$0(n,a.deps)){i.memoizedState=uu(e,r,o,n);return}}st.flags|=t,i.memoizedState=uu(1|e,r,o,n)}function gw(t,e){return bd(8390656,8,t,e)}function U0(t,e){return Ch(2048,8,t,e)}function PA(t,e){return Ch(4,2,t,e)}function IA(t,e){return Ch(4,4,t,e)}function jA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OA(t,e,r){return r=r!=null?r.concat([t]):null,Ch(4,4,jA.bind(null,e,t),r)}function F0(){}function RA(t,e){var r=Kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MA(t,e){var r=Kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $A(t,e,r){return Io&21?(gn(r,e)||(r=BT(),st.lanes|=r,jo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=r)}function BM(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var n=pm.transition;pm.transition={};try{t(!1),e()}finally{qe=r,pm.transition=n}}function DA(){return Kr().memoizedState}function qM(t,e,r){var n=Li(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LA(t))UA(e,r);else if(r=xA(t,e,r,n),r!==null){var i=or();fn(r,t,n,i),FA(r,e,n)}}function VM(t,e,r){var n=Li(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LA(t))UA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,gn(s,a)){var l=e.interleaved;l===null?(i.next=i,I0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=xA(t,e,i,n),r!==null&&(i=or(),fn(r,t,n,i),FA(r,e,n))}}function LA(t){var e=t.alternate;return t===st||e!==null&&e===st}function UA(t,e){jl=zd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y0(t,r)}}var Wd={readContext:Wr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},GM={readContext:Wr,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:gw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bd(4194308,4,jA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var r=bn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=bn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=qM.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:mw,useDebugValue:F0,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=mw(!1),e=t[0];return t=BM.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=st,i=bn();if(nt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),$t===null)throw Error(re(349));Io&30||EA(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,gw(NA.bind(null,n,o,t),[t]),n.flags|=2048,uu(9,kA.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=bn(),e=$t.identifierPrefix;if(nt){var r=Gn,n=Vn;r=(n&~(1<<32-dn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=su++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FM++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HM={readContext:Wr,useCallback:RA,useContext:Wr,useEffect:U0,useImperativeHandle:OA,useInsertionEffect:PA,useLayoutEffect:IA,useMemo:MA,useReducer:mm,useRef:CA,useState:function(){return mm(lu)},useDebugValue:F0,useDeferredValue:function(t){var e=Kr();return $A(e,Nt.memoizedState,t)},useTransition:function(){var t=mm(lu)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:_A,useSyncExternalStore:SA,useId:DA,unstable_isNewReconciler:!1},zM={readContext:Wr,useCallback:RA,useContext:Wr,useEffect:U0,useImperativeHandle:OA,useInsertionEffect:PA,useLayoutEffect:IA,useMemo:MA,useReducer:gm,useRef:CA,useState:function(){return gm(lu)},useDebugValue:F0,useDeferredValue:function(t){var e=Kr();return Nt===null?e.memoizedState=t:$A(e,Nt.memoizedState,t)},useTransition:function(){var t=gm(lu)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:_A,useSyncExternalStore:SA,useId:DA,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Fg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ph={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=or(),i=Li(t),o=Jn(n,i);o.payload=e,r!=null&&(o.callback=r),e=$i(t,o,i),e!==null&&(fn(e,t,i,n),vd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=or(),i=Li(t),o=Jn(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=$i(t,o,i),e!==null&&(fn(e,t,i,n),vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=or(),n=Li(t),i=Jn(r,n);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,n),e!==null&&(fn(e,t,n,r),vd(e,t,n))}};function yw(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!tu(r,n)||!tu(i,o):!0}function BA(t,e,r){var n=!1,i=qi,o=e.contextType;return typeof o=="object"&&o!==null?o=Wr(o):(i=mr(e)?Co:Qt.current,n=e.contextTypes,o=(n=n!=null)?Ka(t,i):qi),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function Bg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},j0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wr(o):(o=mr(e)?Co:Qt.current,i.context=Ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fg(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Gd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var r="",n=e;do r+=bR(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ym(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var WM=typeof WeakMap=="function"?WeakMap:Map;function qA(t,e,r){r=Jn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Jd||(Jd=!0,Qg=n),qg(t,e)},r}function VA(t,e,r){r=Jn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){qg(t,e),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function xw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new WM;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=s$.bind(null,t,e,r),e.then(t,t))}function bw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ww(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Jn(-1,1),e.tag=2,$i(r,e,1))),r.lanes|=1),t)}var KM=ci.ReactCurrentOwner,dr=!1;function tr(t,e,r,n){e.child=t===null?vA(e,null,r,n):Ya(e,t.child,r,n)}function _w(t,e,r,n,i){r=r.render;var o=e.ref;return Ua(e,i),n=D0(t,e,r,n,o,i),r=L0(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(nt&&r&&k0(e),e.flags|=1,tr(t,e,n,i),e.child)}function Sw(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!K0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,GA(t,e,o,n,i)):(t=Ed(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:tu,r(a,n)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=Ui(o,n),t.ref=e.ref,t.return=e,e.child=t}function GA(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(tu(o,n)&&t.ref===e.ref)if(dr=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,ni(t,e,i)}return Vg(t,e,r,n,i)}function HA(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Na,wr),wr|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Na,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ye(Na,wr),wr|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ye(Na,wr),wr|=n;return tr(t,e,i,r),e.child}function zA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vg(t,e,r,n,i){var o=mr(r)?Co:Qt.current;return o=Ka(e,o),Ua(e,i),r=D0(t,e,r,n,o,i),n=L0(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(nt&&n&&k0(e),e.flags|=1,tr(t,e,r,i),e.child)}function Ew(t,e,r,n,i){if(mr(r)){var o=!0;Ud(e)}else o=!1;if(Ua(e,i),e.stateNode===null)wd(t,e),BA(e,r,n),Bg(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Wr(c):(c=mr(r)?Co:Qt.current,c=Ka(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&vw(e,a,n,c),bi=!1;var h=e.memoizedState;a.state=h,Gd(e,n,a,i),l=e.memoizedState,s!==n||h!==l||pr.current||bi?(typeof d=="function"&&(Fg(e,r,d,n),l=e.memoizedState),(s=bi||yw(e,r,s,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,bA(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:rn(e.type,s),a.props=c,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=mr(r)?Co:Qt.current,l=Ka(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&vw(e,a,n,l),bi=!1,h=e.memoizedState,a.state=h,Gd(e,n,a,i);var b=e.memoizedState;s!==f||h!==b||pr.current||bi?(typeof g=="function"&&(Fg(e,r,g,n),b=e.memoizedState),(c=bi||yw(e,r,c,n,h,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Gg(t,e,r,n,o,i)}function Gg(t,e,r,n,i,o){zA(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&uw(e,r,!1),ni(t,e,o);n=e.stateNode,KM.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,s,o)):tr(t,e,s,o),e.memoizedState=n.state,i&&uw(e,r,!0),e.child}function WA(t){var e=t.stateNode;e.pendingContext?lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(t,e.context,!1),O0(t,e.containerInfo)}function kw(t,e,r,n,i){return Ja(),T0(i),e.flags|=256,tr(t,e,r,n),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function zg(t){return{baseLanes:t,cachePool:null,transitions:null}}function KA(t,e,r){var n=e.pendingProps,i=at.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(at,i&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Oh(a,n,0,null),t=Eo(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=zg(r),e.memoizedState=Hg,t):B0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return JM(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ui(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ui(s,o):(o=Eo(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?zg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Hg,n}return o=t.child,t=o.sibling,n=Ui(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function B0(t,e){return e=Oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uc(t,e,r,n){return n!==null&&T0(n),Ya(e,t.child,null,r),t=B0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JM(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=ym(Error(re(422))),Uc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Oh({mode:"visible",children:n.children},i,0,null),o=Eo(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Ya(e,t.child,null,a),e.child.memoizedState=zg(a),e.memoizedState=Hg,o);if(!(e.mode&1))return Uc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(re(419)),n=ym(o,n,void 0),Uc(t,e,a,n)}if(s=(a&t.childLanes)!==0,dr||s){if(n=$t,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ri(t,i),fn(n,t,i,-1))}return W0(),n=ym(Error(re(421))),Uc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Tr=Mi(i.nextSibling),Ar=e,nt=!0,un=null,t!==null&&(Fr[Br++]=Vn,Fr[Br++]=Gn,Fr[Br++]=Po,Vn=t.id,Gn=t.overflow,Po=e),e=B0(e,n.children),e.flags|=4096,e)}function Nw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ug(t.return,e,r)}function vm(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function JA(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(tr(t,e,n.children,r),n=at.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nw(t,r,e);else if(t.tag===19)Nw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ye(at,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Hd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),vm(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}vm(e,!0,r,null,o);break;case"together":vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Ui(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ui(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function YM(t,e,r){switch(e.tag){case 3:WA(e),Ja();break;case 5:wA(e);break;case 1:mr(e.type)&&Ud(e);break;case 4:O0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ye(qd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ye(at,at.current&1),e.flags|=128,null):r&e.child.childLanes?KA(t,e,r):(Ye(at,at.current&1),t=ni(t,e,r),t!==null?t.sibling:null);Ye(at,at.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return JA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(at,at.current),n)break;return null;case 22:case 23:return e.lanes=0,HA(t,e,r)}return ni(t,e,r)}var YA,Wg,XA,QA;YA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wg=function(){};XA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,go(En.current);var o=null;switch(r){case"input":i=mg(t,i),n=mg(t,n),o=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),o=[];break;case"textarea":i=vg(t,i),n=vg(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Dd)}bg(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qe("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};QA=function(t,e,r,n){r!==n&&(e.flags|=4)};function ol(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XM(t,e,r){var n=e.pendingProps;switch(N0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return mr(e.type)&&Ld(),Wt(e),null;case 3:return n=e.stateNode,Xa(),tt(pr),tt(Qt),M0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(ty(un),un=null))),Wg(t,e),Wt(e),null;case 5:R0(e);var i=go(au.current);if(r=e.type,t!==null&&e.stateNode!=null)XA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Wt(e),null}if(t=go(En.current),Dc(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[wn]=e,n[iu]=o,t=(e.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(i=0;i<_l.length;i++)Qe(_l[i],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Mb(n,o),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",n);break;case"textarea":Db(n,o),Qe("invalid",n)}bg(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&$c(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$c(n.textContent,s,t),i=["children",""+s]):Kl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Qe("scroll",n)}switch(r){case"input":Ac(n),$b(n,o,!0);break;case"textarea":Ac(n),Lb(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Dd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[wn]=e,t[iu]=n,YA(t,e,!1,!1),e.stateNode=t;e:{switch(a=wg(r,n),r){case"dialog":Qe("cancel",t),Qe("close",t),i=n;break;case"iframe":case"object":case"embed":Qe("load",t),i=n;break;case"video":case"audio":for(i=0;i<_l.length;i++)Qe(_l[i],t);i=n;break;case"source":Qe("error",t),i=n;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=n;break;case"details":Qe("toggle",t),i=n;break;case"input":Mb(t,n),i=mg(t,n),Qe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),Qe("invalid",t);break;case"textarea":Db(t,n),i=vg(t,n),Qe("invalid",t);break;default:i=n}bg(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?CT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TT(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jl(t,l):typeof l=="number"&&Jl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Qe("scroll",t):l!=null&&d0(t,o,l,a))}switch(r){case"input":Ac(t),$b(t,n,!1);break;case"textarea":Ac(t),Lb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Bi(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ma(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ma(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)QA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=go(au.current),go(En.current),Dc(e)){if(n=e.stateNode,r=e.memoizedProps,n[wn]=e,(o=n.nodeValue!==r)&&(t=Ar,t!==null))switch(t.tag){case 3:$c(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$c(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wn]=e,e.stateNode=n}return Wt(e),null;case 13:if(tt(at),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Tr!==null&&e.mode&1&&!(e.flags&128))gA(),Ja(),e.flags|=98560,o=!1;else if(o=Dc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[wn]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else un!==null&&(ty(un),un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?At===0&&(At=3):W0())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Xa(),Wg(t,e),t===null&&ru(e.stateNode.containerInfo),Wt(e),null;case 10:return P0(e.type._context),Wt(e),null;case 17:return mr(e.type)&&Ld(),Wt(e),null;case 19:if(tt(at),o=e.memoizedState,o===null)return Wt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)ol(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hd(t),a!==null){for(e.flags|=128,ol(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ye(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>Za&&(e.flags|=128,n=!0,ol(o,!1),e.lanes=4194304)}else{if(!n)if(t=Hd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!nt)return Wt(e),null}else 2*mt()-o.renderingStartTime>Za&&r!==1073741824&&(e.flags|=128,n=!0,ol(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,r=at.current,Ye(at,n?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return z0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wr&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function QM(t,e){switch(N0(e),e.tag){case 1:return mr(e.type)&&Ld(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),tt(pr),tt(Qt),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R0(e),null;case 13:if(tt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(at),null;case 4:return Xa(),null;case 10:return P0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var Fc=!1,Jt=!1,ZM=typeof WeakSet=="function"?WeakSet:Set,he=null;function ka(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ft(t,e,n)}else r.current=null}function Kg(t,e,r){try{r()}catch(n){ft(t,e,n)}}var Tw=!1;function e$(t,e){if(Ig=Rd,t=nA(),E0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(s=a+i),f!==o||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=a),h===o&&++d===n&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(jg={focusedElem:t,selectionRange:r},Rd=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,v=b.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:rn(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(k){ft(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return b=Tw,Tw=!1,b}function Ol(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Kg(e,r,o)}i=i.next}while(i!==n)}}function Ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZA(t){var e=t.alternate;e!==null&&(t.alternate=null,ZA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[iu],delete e[Mg],delete e[$M],delete e[DM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eC(t){return t.tag===5||t.tag===3||t.tag===4}function Aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Dd));else if(n!==4&&(t=t.child,t!==null))for(Yg(t,e,r),t=t.sibling;t!==null;)Yg(t,e,r),t=t.sibling}function Xg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xg(t,e,r),t=t.sibling;t!==null;)Xg(t,e,r),t=t.sibling}var qt=null,on=!1;function vi(t,e,r){for(r=r.child;r!==null;)tC(t,e,r),r=r.sibling}function tC(t,e,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Sh,r)}catch{}switch(r.tag){case 5:Jt||ka(r,e);case 6:var n=qt,i=on;qt=null,vi(t,e,r),qt=n,on=i,qt!==null&&(on?(t=qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(on?(t=qt,r=r.stateNode,t.nodeType===8?dm(t.parentNode,r):t.nodeType===1&&dm(t,r),Zl(t)):dm(qt,r.stateNode));break;case 4:n=qt,i=on,qt=r.stateNode.containerInfo,on=!0,vi(t,e,r),qt=n,on=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Kg(r,e,a),i=i.next}while(i!==n)}vi(t,e,r);break;case 1:if(!Jt&&(ka(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ft(r,e,s)}vi(t,e,r);break;case 21:vi(t,e,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,vi(t,e,r),Jt=n):vi(t,e,r);break;default:vi(t,e,r)}}function Cw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ZM),e.forEach(function(n){var i=u$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:qt=s.stateNode,on=!1;break e;case 3:qt=s.stateNode.containerInfo,on=!0;break e;case 4:qt=s.stateNode.containerInfo,on=!0;break e}s=s.return}if(qt===null)throw Error(re(160));tC(o,a,i),qt=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ft(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rC(e,t),e=e.sibling}function rC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),xn(t),n&4){try{Ol(3,t,t.return),Ih(3,t)}catch(y){ft(t,t.return,y)}try{Ol(5,t,t.return)}catch(y){ft(t,t.return,y)}}break;case 1:Zr(e,t),xn(t),n&512&&r!==null&&ka(r,r.return);break;case 5:if(Zr(e,t),xn(t),n&512&&r!==null&&ka(r,r.return),t.flags&32){var i=t.stateNode;try{Jl(i,"")}catch(y){ft(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ET(i,o),wg(s,a);var c=wg(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?CT(i,f):d==="dangerouslySetInnerHTML"?TT(i,f):d==="children"?Jl(i,f):d0(i,d,f,c)}switch(s){case"input":gg(i,o);break;case"textarea":kT(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ma(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ma(i,!!o.multiple,o.defaultValue,!0):Ma(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(y){ft(t,t.return,y)}}break;case 6:if(Zr(e,t),xn(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ft(t,t.return,y)}}break;case 3:if(Zr(e,t),xn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(y){ft(t,t.return,y)}break;case 4:Zr(e,t),xn(t);break;case 13:Zr(e,t),xn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(G0=mt())),n&4&&Cw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Jt=(c=Jt)||d,Zr(e,t),Jt=c):Zr(e,t),xn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(h=he,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ol(4,h,h.return);break;case 1:ka(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){ft(n,r,y)}}break;case 5:ka(h,h.return);break;case 22:if(h.memoizedState!==null){Iw(f);continue}}g!==null?(g.return=h,he=g):Iw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=AT("display",a))}catch(y){ft(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){ft(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zr(e,t),xn(t),n&4&&Cw(t);break;case 21:break;default:Zr(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(eC(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Jl(i,""),n.flags&=-33);var o=Aw(t);Xg(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=Aw(t);Yg(t,s,a);break;default:throw Error(re(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t$(t,e,r){he=t,nC(t)}function nC(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Fc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Jt;s=Fc;var c=Jt;if(Fc=a,(Jt=l)&&!c)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?jw(i):l!==null?(l.return=a,he=l):jw(i);for(;o!==null;)he=o,nC(o),o=o.sibling;he=i,Fc=s,Jt=c}Pw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):Pw(t)}}function Pw(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Ih(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:rn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pw(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}pw(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Jt||e.flags&512&&Jg(e)}catch(h){ft(e,e.return,h)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function Iw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function jw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ih(4,e)}catch(l){ft(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ft(e,i,l)}}var o=e.return;try{Jg(e)}catch(l){ft(e,o,l)}break;case 5:var a=e.return;try{Jg(e)}catch(l){ft(e,a,l)}}}catch(l){ft(e,e.return,l)}if(e===t){he=null;break}var s=e.sibling;if(s!==null){s.return=e.return,he=s;break}he=e.return}}var r$=Math.ceil,Kd=ci.ReactCurrentDispatcher,q0=ci.ReactCurrentOwner,Hr=ci.ReactCurrentBatchConfig,$e=0,$t=null,xt=null,Vt=0,wr=0,Na=Hi(0),At=0,cu=null,jo=0,jh=0,V0=0,Rl=null,cr=null,G0=0,Za=1/0,Un=null,Jd=!1,Qg=null,Di=null,Bc=!1,Ai=null,Yd=0,Ml=0,Zg=null,_d=-1,Sd=0;function or(){return $e&6?mt():_d!==-1?_d:_d=mt()}function Li(t){return t.mode&1?$e&2&&Vt!==0?Vt&-Vt:UM.transition!==null?(Sd===0&&(Sd=BT()),Sd):(t=qe,t!==0||(t=window.event,t=t===void 0?16:KT(t.type)),t):1}function fn(t,e,r,n){if(50<Ml)throw Ml=0,Zg=null,Error(re(185));oc(t,r,n),(!($e&2)||t!==$t)&&(t===$t&&(!($e&2)&&(jh|=r),At===4&&Ei(t,Vt)),gr(t,n),r===1&&$e===0&&!(e.mode&1)&&(Za=mt()+500,Ah&&zi()))}function gr(t,e){var r=t.callbackNode;UR(t,e);var n=Od(t,t===$t?Vt:0);if(n===0)r!==null&&Bb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Bb(r),e===1)t.tag===0?LM(Ow.bind(null,t)):hA(Ow.bind(null,t)),RM(function(){!($e&6)&&zi()}),r=null;else{switch(qT(n)){case 1:r=g0;break;case 4:r=UT;break;case 16:r=jd;break;case 536870912:r=FT;break;default:r=jd}r=dC(r,iC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function iC(t,e){if(_d=-1,Sd=0,$e&6)throw Error(re(327));var r=t.callbackNode;if(Fa()&&t.callbackNode!==r)return null;var n=Od(t,t===$t?Vt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xd(t,n);else{e=n;var i=$e;$e|=2;var o=aC();($t!==t||Vt!==e)&&(Un=null,Za=mt()+500,So(t,e));do try{o$();break}catch(s){oC(t,s)}while(!0);C0(),Kd.current=o,$e=i,xt!==null?e=0:($t=null,Vt=0,e=At)}if(e!==0){if(e===2&&(i=Ng(t),i!==0&&(n=i,e=ey(t,i))),e===1)throw r=cu,So(t,0),Ei(t,n),gr(t,mt()),r;if(e===6)Ei(t,n);else{if(i=t.current.alternate,!(n&30)&&!n$(i)&&(e=Xd(t,n),e===2&&(o=Ng(t),o!==0&&(n=o,e=ey(t,o))),e===1))throw r=cu,So(t,0),Ei(t,n),gr(t,mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:io(t,cr,Un);break;case 3:if(Ei(t,n),(n&130023424)===n&&(e=G0+500-mt(),10<e)){if(Od(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rg(io.bind(null,t,cr,Un),e);break}io(t,cr,Un);break;case 4:if(Ei(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-dn(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r$(n/1960))-n,10<n){t.timeoutHandle=Rg(io.bind(null,t,cr,Un),n);break}io(t,cr,Un);break;case 5:io(t,cr,Un);break;default:throw Error(re(329))}}}return gr(t,mt()),t.callbackNode===r?iC.bind(null,t):null}function ey(t,e){var r=Rl;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=cr,cr=r,e!==null&&ty(e)),t}function ty(t){cr===null?cr=t:cr.push.apply(cr,t)}function n$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~V0,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-dn(e),n=1<<r;t[r]=-1,e&=~n}}function Ow(t){if($e&6)throw Error(re(327));Fa();var e=Od(t,0);if(!(e&1))return gr(t,mt()),null;var r=Xd(t,e);if(t.tag!==0&&r===2){var n=Ng(t);n!==0&&(e=n,r=ey(t,n))}if(r===1)throw r=cu,So(t,0),Ei(t,e),gr(t,mt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,cr,Un),gr(t,mt()),null}function H0(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(Za=mt()+500,Ah&&zi())}}function Oo(t){Ai!==null&&Ai.tag===0&&!($e&6)&&Fa();var e=$e;$e|=1;var r=Hr.transition,n=qe;try{if(Hr.transition=null,qe=1,t)return t()}finally{qe=n,Hr.transition=r,$e=e,!($e&6)&&zi()}}function z0(){wr=Na.current,tt(Na)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,OM(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(N0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ld();break;case 3:Xa(),tt(pr),tt(Qt),M0();break;case 5:R0(n);break;case 4:Xa();break;case 13:tt(at);break;case 19:tt(at);break;case 10:P0(n.type._context);break;case 22:case 23:z0()}r=r.return}if($t=t,xt=t=Ui(t.current,null),Vt=wr=e,At=0,cu=null,V0=jh=jo=0,cr=Rl=null,mo!==null){for(e=0;e<mo.length;e++)if(r=mo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}mo=null}return t}function oC(t,e){do{var r=xt;try{if(C0(),xd.current=Wd,zd){for(var n=st.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zd=!1}if(Io=0,Rt=Nt=st=null,jl=!1,su=0,q0.current=null,r===null||r.return===null){At=1,cu=e,xt=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Vt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=bw(a);if(g!==null){g.flags&=-257,ww(g,a,s,o,e),g.mode&1&&xw(o,c,e),e=g,l=c;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){xw(o,c,e),W0();break e}l=Error(re(426))}}else if(nt&&s.mode&1){var v=bw(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ww(v,a,s,o,e),T0(Qa(l,s));break e}}o=l=Qa(l,s),At!==4&&(At=2),Rl===null?Rl=[o]:Rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=qA(o,l,e);hw(o,x);break e;case 1:s=l;var _=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=VA(o,s,e);hw(o,k);break e}}o=o.return}while(o!==null)}lC(r)}catch(S){e=S,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function aC(){var t=Kd.current;return Kd.current=Wd,t===null?Wd:t}function W0(){(At===0||At===3||At===2)&&(At=4),$t===null||!(jo&268435455)&&!(jh&268435455)||Ei($t,Vt)}function Xd(t,e){var r=$e;$e|=2;var n=aC();($t!==t||Vt!==e)&&(Un=null,So(t,e));do try{i$();break}catch(i){oC(t,i)}while(!0);if(C0(),$e=r,Kd.current=n,xt!==null)throw Error(re(261));return $t=null,Vt=0,At}function i$(){for(;xt!==null;)sC(xt)}function o$(){for(;xt!==null&&!PR();)sC(xt)}function sC(t){var e=cC(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?lC(t):xt=e,q0.current=null}function lC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=QM(r,e),r!==null){r.flags&=32767,xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,xt=null;return}}else if(r=XM(r,e,wr),r!==null){xt=r;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);At===0&&(At=5)}function io(t,e,r){var n=qe,i=Hr.transition;try{Hr.transition=null,qe=1,a$(t,e,r,n)}finally{Hr.transition=i,qe=n}return null}function a$(t,e,r,n){do Fa();while(Ai!==null);if($e&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(FR(t,o),t===$t&&(xt=$t=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bc||(Bc=!0,dC(jd,function(){return Fa(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Hr.transition,Hr.transition=null;var a=qe;qe=1;var s=$e;$e|=4,q0.current=null,e$(t,r),rC(r,t),NM(jg),Rd=!!Ig,jg=Ig=null,t.current=r,t$(r),IR(),$e=s,qe=a,Hr.transition=o}else t.current=r;if(Bc&&(Bc=!1,Ai=t,Yd=i),o=t.pendingLanes,o===0&&(Di=null),RR(r.stateNode),gr(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Jd)throw Jd=!1,t=Qg,Qg=null,t;return Yd&1&&t.tag!==0&&Fa(),o=t.pendingLanes,o&1?t===Zg?Ml++:(Ml=0,Zg=t):Ml=0,zi(),null}function Fa(){if(Ai!==null){var t=qT(Yd),e=Hr.transition,r=qe;try{if(Hr.transition=null,qe=16>t?16:t,Ai===null)var n=!1;else{if(t=Ai,Ai=null,Yd=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,he=t.current;he!==null;){var o=he,a=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Ol(8,d,o)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var h=d.sibling,g=d.return;if(ZA(d),d===c){he=null;break}if(h!==null){h.return=g,he=h;break}he=g}}}var b=o.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,he=a;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ol(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,he=x;break e}he=o.return}}var _=t.current;for(he=_;he!==null;){a=he;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,he=w;else e:for(a=_;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ih(9,s)}}catch(S){ft(s,s.return,S)}if(s===a){he=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break e}he=s.return}}if($e=i,zi(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Sh,t)}catch{}n=!0}return n}finally{qe=r,Hr.transition=e}}return!1}function Rw(t,e,r){e=Qa(r,e),e=qA(t,e,1),t=$i(t,e,1),e=or(),t!==null&&(oc(t,1,e),gr(t,e))}function ft(t,e,r){if(t.tag===3)Rw(t,t,r);else for(;e!==null;){if(e.tag===3){Rw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){t=Qa(r,t),t=VA(e,t,1),e=$i(e,t,1),t=or(),e!==null&&(oc(e,1,t),gr(e,t));break}}e=e.return}}function s$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(Vt&r)===r&&(At===4||At===3&&(Vt&130023424)===Vt&&500>mt()-G0?So(t,0):V0|=r),gr(t,e)}function uC(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var r=or();t=ri(t,e),t!==null&&(oc(t,e,r),gr(t,r))}function l$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uC(t,r)}function u$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),uC(t,r)}var cC;cC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dr=!1,YM(t,e,r);dr=!!(t.flags&131072)}else dr=!1,nt&&e.flags&1048576&&pA(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wd(t,e),t=e.pendingProps;var i=Ka(e,Qt.current);Ua(e,r),i=D0(null,e,n,t,i,r);var o=L0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(n)?(o=!0,Ud(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j0(e),i.updater=Ph,e.stateNode=i,i._reactInternals=e,Bg(e,n,t,r),e=Gg(null,e,n,!0,o,r)):(e.tag=0,nt&&o&&k0(e),tr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=d$(n),t=rn(n,t),i){case 0:e=Vg(null,e,n,t,r);break e;case 1:e=Ew(null,e,n,t,r);break e;case 11:e=_w(null,e,n,t,r);break e;case 14:e=Sw(null,e,n,rn(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),Vg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),Ew(t,e,n,i,r);case 3:e:{if(WA(e),t===null)throw Error(re(387));n=e.pendingProps,o=e.memoizedState,i=o.element,bA(t,e),Gd(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(re(423)),e),e=kw(t,e,n,r,i);break e}else if(n!==i){i=Qa(Error(re(424)),e),e=kw(t,e,n,r,i);break e}else for(Tr=Mi(e.stateNode.containerInfo.firstChild),Ar=e,nt=!0,un=null,r=vA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ja(),n===i){e=ni(t,e,r);break e}tr(t,e,n,r)}e=e.child}return e;case 5:return wA(e),t===null&&Lg(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Og(n,i)?a=null:o!==null&&Og(n,o)&&(e.flags|=32),zA(t,e),tr(t,e,a,r),e.child;case 6:return t===null&&Lg(e),null;case 13:return KA(t,e,r);case 4:return O0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ya(e,null,n,r):tr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),_w(t,e,n,i,r);case 7:return tr(t,e,e.pendingProps,r),e.child;case 8:return tr(t,e,e.pendingProps.children,r),e.child;case 12:return tr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ye(qd,n._currentValue),n._currentValue=a,o!==null)if(gn(o.value,a)){if(o.children===i.children&&!pr.current){e=ni(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Jn(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ug(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(re(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Ug(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ua(e,r),i=Wr(i),n=n(i),e.flags|=1,tr(t,e,n,r),e.child;case 14:return n=e.type,i=rn(n,e.pendingProps),i=rn(n.type,i),Sw(t,e,n,i,r);case 15:return GA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),wd(t,e),e.tag=1,mr(n)?(t=!0,Ud(e)):t=!1,Ua(e,r),BA(e,n,i),Bg(e,n,i,r),Gg(null,e,n,!0,t,r);case 19:return JA(t,e,r);case 22:return HA(t,e,r)}throw Error(re(156,e.tag))};function dC(t,e){return LT(t,e)}function c$(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,r,n){return new c$(t,e,r,n)}function K0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d$(t){if(typeof t=="function")return K0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===h0)return 11;if(t===p0)return 14}return 2}function Ui(t,e){var r=t.alternate;return r===null?(r=Vr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ed(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")K0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ga:return Eo(r.children,i,o,e);case f0:a=8,i|=8;break;case dg:return t=Vr(12,r,e,i|2),t.elementType=dg,t.lanes=o,t;case fg:return t=Vr(13,r,e,i),t.elementType=fg,t.lanes=o,t;case hg:return t=Vr(19,r,e,i),t.elementType=hg,t.lanes=o,t;case wT:return Oh(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xT:a=10;break e;case bT:a=9;break e;case h0:a=11;break e;case p0:a=14;break e;case xi:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Vr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Eo(t,e,r,n){return t=Vr(7,t,n,e),t.lanes=r,t}function Oh(t,e,r,n){return t=Vr(22,t,n,e),t.elementType=wT,t.lanes=r,t.stateNode={isHidden:!1},t}function xm(t,e,r){return t=Vr(6,t,null,e),t.lanes=r,t}function bm(t,e,r){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f$(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=em(0),this.expirationTimes=em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J0(t,e,r,n,i,o,a,s,l){return t=new f$(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j0(o),t}function h$(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fC(t){if(!t)return qi;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(mr(r))return fA(t,r,e)}return e}function hC(t,e,r,n,i,o,a,s,l){return t=J0(r,n,!0,t,i,o,a,s,l),t.context=fC(null),r=t.current,n=or(),i=Li(r),o=Jn(n,i),o.callback=e??null,$i(r,o,i),t.current.lanes=i,oc(t,i,n),gr(t,n),t}function Rh(t,e,r,n){var i=e.current,o=or(),a=Li(i);return r=fC(r),e.context===null?e.context=r:e.pendingContext=r,e=Jn(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$i(i,e,a),t!==null&&(fn(t,i,a,o),vd(t,i,a)),a}function Qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Y0(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function p$(){return null}var pC=typeof reportError=="function"?reportError:function(t){console.error(t)};function X0(t){this._internalRoot=t}Mh.prototype.render=X0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Rh(t,e,null,null)};Mh.prototype.unmount=X0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Rh(null,t,null,null)}),e[ti]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=HT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Si.length&&e!==0&&e<Si[r].priority;r++);Si.splice(r,0,t),r===0&&WT(t)}};function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $w(){}function m$(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Qd(a);o.call(c)}}var a=hC(e,n,t,0,null,!1,!1,"",$w);return t._reactRootContainer=a,t[ti]=a.current,ru(t.nodeType===8?t.parentNode:t),Oo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Qd(l);s.call(c)}}var l=J0(t,0,!1,null,null,!1,!1,"",$w);return t._reactRootContainer=l,t[ti]=l.current,ru(t.nodeType===8?t.parentNode:t),Oo(function(){Rh(e,l,r,n)}),l}function Dh(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Qd(a);s.call(l)}}Rh(e,a,t,i)}else a=m$(r,e,t,i,n);return Qd(a)}VT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wl(e.pendingLanes);r!==0&&(y0(e,r|1),gr(e,mt()),!($e&6)&&(Za=mt()+500,zi()))}break;case 13:Oo(function(){var n=ri(t,1);if(n!==null){var i=or();fn(n,t,1,i)}}),Y0(t,1)}};v0=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var r=or();fn(e,t,134217728,r)}Y0(t,134217728)}};GT=function(t){if(t.tag===13){var e=Li(t),r=ri(t,e);if(r!==null){var n=or();fn(r,t,e,n)}Y0(t,e)}};HT=function(){return qe};zT=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};Sg=function(t,e,r){switch(e){case"input":if(gg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Th(n);if(!i)throw Error(re(90));ST(n),gg(n,i)}}}break;case"textarea":kT(t,r);break;case"select":e=r.value,e!=null&&Ma(t,!!r.multiple,e,!1)}};jT=H0;OT=Oo;var g$={usingClientEntryPoint:!1,Events:[sc,ba,Th,PT,IT,H0]},al={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y$={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$T(t),t===null?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||p$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Sh=qc.inject(y$),Sn=qc}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g$;Rr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q0(e))throw Error(re(200));return h$(t,e,null,r)};Rr.createRoot=function(t,e){if(!Q0(t))throw Error(re(299));var r=!1,n="",i=pC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=J0(t,1,!1,null,null,r,!1,n,i),t[ti]=e.current,ru(t.nodeType===8?t.parentNode:t),new X0(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=$T(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Oo(t)};Rr.hydrate=function(t,e,r){if(!$h(e))throw Error(re(200));return Dh(null,t,e,!0,r)};Rr.hydrateRoot=function(t,e,r){if(!Q0(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=pC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=hC(e,null,t,1,r??null,i,!1,o,a),t[ti]=e.current,ru(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Mh(e)};Rr.render=function(t,e,r){if(!$h(e))throw Error(re(200));return Dh(null,t,e,!1,r)};Rr.unmountComponentAtNode=function(t){if(!$h(t))throw Error(re(40));return t._reactRootContainer?(Oo(function(){Dh(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};Rr.unstable_batchedUpdates=H0;Rr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$h(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Dh(t,e,r,!1,n)};Rr.version="18.3.1-next-f1338f8080-20240426";function mC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mC)}catch(t){console.error(t)}}mC(),mT.exports=Rr;var v$=mT.exports,Dw=v$;ug.createRoot=Dw.createRoot,ug.hydrateRoot=Dw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}var Ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ci||(Ci={}));const Lw="popstate";function x$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=Ho(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),ry("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:gC(o))}function n(i,o){Lh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return w$(e,r,n,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b$(){return Math.random().toString(36).substr(2,8)}function Uw(t,e){return{usr:t.state,key:t.key,idx:e}}function ry(t,e,r,n){return r===void 0&&(r=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:r,key:e&&e.key||n||b$()})}function gC(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ho(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function w$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s=Ci.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(du({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=Ci.Pop;let v=d(),x=v==null?null:v-c;c=v,l&&l({action:s,location:y.location,delta:x})}function h(v,x){s=Ci.Push;let _=ry(y.location,v,x);r&&r(_,v),c=d()+1;let w=Uw(_,c),k=y.createHref(_);try{a.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}o&&l&&l({action:s,location:y.location,delta:1})}function g(v,x){s=Ci.Replace;let _=ry(y.location,v,x);r&&r(_,v),c=d();let w=Uw(_,c),k=y.createHref(_);a.replaceState(w,"",k),o&&l&&l({action:s,location:y.location,delta:0})}function b(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:gC(v);return _=_.replace(/ $/,"%20"),bt(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lw,f),l=v,()=>{i.removeEventListener(Lw,f),l=null}},createHref(v){return e(i,v)},createURL:b,encodeLocation(v){let x=b(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(v){return a.go(v)}};return y}var Fw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fw||(Fw={}));function _$(t,e,r){return r===void 0&&(r="/"),S$(t,e,r)}function S$(t,e,r,n){let i=typeof e=="string"?Ho(e):e,o=xC(i.pathname||"/",r);if(o==null)return null;let a=yC(t);E$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=$$(o);s=O$(a[l],c)}return s}function yC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ko([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yC(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:I$(c,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of vC(o.path))i(o,a,l)}),e}function vC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=vC(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function E$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:j$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const k$=/^:[\w-]+$/,N$=3,T$=2,A$=1,C$=10,P$=-2,Bw=t=>t==="*";function I$(t,e){let r=t.split("/"),n=r.length;return r.some(Bw)&&(n+=P$),e&&(n+=T$),r.filter(i=>!Bw(i)).reduce((i,o)=>i+(k$.test(o)?N$:o===""?A$:C$),n)}function j$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function O$(t,e,r){let{routesMeta:n}=t,i={},o="/",a=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=R$({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ko([o,f.pathname]),pathnameBase:B$(ko([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ko([o,f.pathnameBase]))}return a}function R$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=M$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=s[f];return g&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function M$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Lh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const D$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L$=t=>D$.test(t);function U$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ho(t):t,o;if(r)if(L$(r))o=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Lh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?o=qw(r.substring(1),"/"):o=qw(r,e)}else o=e;return{pathname:o,search:q$(n),hash:V$(i)}}function qw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bC(t,e){let r=F$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ho(t):(i=du({},t),bt(!i.pathname||!i.pathname.includes("?"),wm("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),wm("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),wm("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=U$(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ko=t=>t.join("/").replace(/\/\/+/g,"/"),B$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _C=["post","put","patch","delete"];new Set(_C);const H$=["get",..._C];new Set(H$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fu.apply(this,arguments)}const Z0=T.createContext(null),z$=T.createContext(null),uc=T.createContext(null),Uh=T.createContext(null),zo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),SC=T.createContext(null);function cc(){return T.useContext(Uh)!=null}function Fh(){return cc()||bt(!1),T.useContext(Uh).location}function EC(t){T.useContext(uc).static||T.useLayoutEffect(t)}function js(){let{isDataRoute:t}=T.useContext(zo);return t?oD():W$()}function W$(){cc()||bt(!1);let t=T.useContext(Z0),{basename:e,future:r,navigator:n}=T.useContext(uc),{matches:i}=T.useContext(zo),{pathname:o}=Fh(),a=JSON.stringify(bC(i,r.v7_relativeSplatPath)),s=T.useRef(!1);return EC(()=>{s.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=wC(c,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ko([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,o,t])}function K$(t,e){return J$(t,e)}function J$(t,e,r,n){cc()||bt(!1);let{navigator:i}=T.useContext(uc),{matches:o}=T.useContext(zo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Fh(),d;if(e){var f;let v=typeof e=="string"?Ho(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||bt(!1),d=v}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=_$(t,{pathname:g}),y=eD(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ko([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ko([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return e&&y?T.createElement(Uh.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ci.Pop}},y):y}function Y$(){let t=iD(),e=G$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const X$=T.createElement(Y$,null);class Q$ extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(zo.Provider,{value:this.props.routeContext},T.createElement(SC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z$(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(Z0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(zo.Provider,{value:e},n)}function eD(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||bt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:g}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,b=!1,y=null,v=null;r&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||X$,l&&(c<0&&h===0?(aD("route-fallback"),b=!0,v=null):c===h&&(b=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),_=()=>{let w;return g?w=y:b?w=v:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(Z$,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(Q$,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var kC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kC||{}),NC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(NC||{});function tD(t){let e=T.useContext(Z0);return e||bt(!1),e}function rD(t){let e=T.useContext(z$);return e||bt(!1),e}function nD(t){let e=T.useContext(zo);return e||bt(!1),e}function TC(t){let e=nD(),r=e.matches[e.matches.length-1];return r.route.id||bt(!1),r.route.id}function iD(){var t;let e=T.useContext(SC),r=rD(),n=TC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function oD(){let{router:t}=tD(kC.UseNavigateStable),e=TC(NC.UseNavigateStable),r=T.useRef(!1);return EC(()=>{r.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fu({fromRouteId:e},o)))},[t,e])}const Vw={};function aD(t,e,r){Vw[t]||(Vw[t]=!0)}function sD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pt(t){let{to:e,replace:r,state:n,relative:i}=t;cc()||bt(!1);let{future:o,static:a}=T.useContext(uc),{matches:s}=T.useContext(zo),{pathname:l}=Fh(),c=js(),d=wC(e,bC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return T.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function ct(t){bt(!1)}function lD(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ci.Pop,navigator:o,static:a=!1,future:s}=t;cc()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:o,static:a,future:fu({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof n=="string"&&(n=Ho(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:b="default"}=n,y=T.useMemo(()=>{let v=xC(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:g,key:b},navigationType:i}},[l,d,f,h,g,b,i]);return y==null?null:T.createElement(uc.Provider,{value:c},T.createElement(Uh.Provider,{children:r,value:y}))}function uD(t){let{children:e,location:r}=t;return K$(ny(e),r)}new Promise(()=>{});function ny(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let o=[...e,i];if(n.type===T.Fragment){r.push.apply(r,ny(n.props.children,o));return}n.type!==ct&&bt(!1),!n.props.index||!n.props.children||bt(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ny(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cD="6";try{window.__reactRouterVersion=cD}catch{}const dD="startTransition",Gw=sR[dD];function fD(t){let{basename:e,children:r,future:n,window:i}=t,o=T.useRef();o.current==null&&(o.current=x$({window:i,v5Compat:!0}));let a=o.current,[s,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=T.useCallback(f=>{c&&Gw?Gw(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>sD(n),[n]),T.createElement(lD,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:a,future:n})}var Hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var zw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zw||(zw={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},d)=>T.createElement("svg",{ref:d,...hD,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${pD(t)}`,s].join(" "),...c},[...e.map(([f,h])=>T.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ne("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ne("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ne("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ne("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ne("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ne("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ne("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ne("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ne("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ne("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),QD="2.5.0",_m=[{id:"dashboard",title:"",icon:wD,path:"/"},{id:"reports-group",title:"",icon:CD,path:"#",submenu:[{id:"shiftreport",title:" ",icon:IC,path:"/shift-report"},{id:"reports",title:"",icon:$C,path:"/reports"}]},{id:"inbox",title:" ",icon:of,path:"/inbox"},{id:"messages",title:"",icon:MC,path:"/messages"},{id:"notes",title:" ",icon:DC,path:"/notes"},{id:"workorders",title:" ",icon:LC,path:"/work-orders"},{id:"projects",title:"",icon:Zd,path:"/projects"},{id:"performance",title:" ",icon:ex,path:"/performance"},{id:"partrequest",title:" ",icon:Dl,path:"/part-requests"},{id:"inspections",title:" ",icon:PC,path:"/inspections"},{id:"documents",title:" ",icon:$l,path:"/documents"},{id:"meetings",title:"",icon:rf,path:"/meetings"},{id:"suggestions",title:" ",icon:af,path:"/suggestions"},{id:"purchases",title:" ",icon:uf,path:"/purchases"},{id:"system-settings",title:"  ",icon:lf,path:"#",role:"ADMIN",submenu:[{id:"admin",title:"  ",icon:Rs,path:"/admin"},{id:"workflow",title:" ",icon:OC,path:"/workflow-designer"}]},{id:"settings",title:"",icon:lf,path:"/settings"}],ZD=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],eL=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}];var fr=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(fr||{});const Ll=()=>Math.random().toString(36).substring(2,9),UC=(t,e,r)=>{let n=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+r+(e<7?(e-1)*31:(e-7)*30+186);n+=400*Math.floor(i/146097),i%=146097,i>36524&&(n+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),n+=4*Math.floor(i/1461),i%=1461,i>365&&(n+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:n,gm:s,gd:o}},Hh=(t,e,r)=>{const n=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+r+n[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},rt=()=>{const t=new Date,e=Hh(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},ts=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},tL=t=>{const e=new Date,r=Hh(e.getFullYear(),e.getMonth()+1,e.getDate()),n=String(r.jy).substring(2),i=String(r.jm).padStart(2,"0"),o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${n}${i}${o}`},rs=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:r,gm:n,gd:i}=UC(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(r,n-1,i)}catch{return null}},rL=(t,e,r,n)=>{const i=rs(t),o=rs(r);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=n.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},nL=(t,e,r,n)=>{const i=rs(t),o=rs(r);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=n.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},cf=t=>{const e=rs(t);if(!e)return!1;const r=new Date;return r.setHours(0,0,0,0),e.getTime()>r.getTime()},Jw=async()=>{try{const t=await fetch("https://api.ipify.org?format=json");if(!t.ok)throw new Error("Network response was not ok");return(await t.json()).ip}catch(t){return console.warn("Could not fetch public IP:",t),"Unknown / Offline"}};function zh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function iL(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}const oL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ix extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class aL extends ix{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yw extends ix{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xw extends ix{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ay;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ay||(ay={}));class sL{constructor(e,{headers:r={},customFetch:n,region:i=ay.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=oL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return iL(this,arguments,void 0,function*(r,n={}){var i;let o,a;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let v=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);const x=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:v}).catch(S=>{throw new aL(S)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new Yw(x);if(!x.ok)throw new Xw(x);let w=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield x.json():w==="application/octet-stream"||w==="application/pdf"?k=yield x.blob():w==="text/event-stream"?k=x:w==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof Xw||s instanceof Yw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var lL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},uL=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,h;if(r.method!=="HEAD"){var g;const x=await o.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&v&&v.length>1&&(l=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var b;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,c=200,d="OK")}catch{o.status===404&&y===""?(c=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(b=a.details)===null||b===void 0)&&b.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new lL(a)}return{error:a,data:s,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var c,d,f,h;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${b}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},cL=class extends uL{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qw=new RegExp("[,()]");var da=class extends cL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},dL=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new da({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new da({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new da({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new da({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new da({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},fL=class FC{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new FC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new da({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class hL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pL="2.89.0",mL=`realtime-js/${pL}`,BC="1.0.0",gL="2.0.0",Zw=BC,sy=1e4,yL=1e3,vL=100;var wi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wi||(wi={}));var kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kt||(kt={}));var an;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(an||(an={}));var ly;(function(t){t.websocket="websocket"})(ly||(ly={}));var co;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(co||(co={}));class xL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(g),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,l.length),b.setUint8(y++,s.length),b.setUint8(y++,a.length),b.setUint8(y++,c.length),b.setUint8(y++,f.length),b.setUint8(y++,r),Array.from(l,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(c,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>b.setUint8(y++,x.charCodeAt(0)));var v=new Uint8Array(g.byteLength+n.byteLength);return v.set(new Uint8Array(g),0),v.set(new Uint8Array(n),g.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,a,s,l]=n;return r({join_ref:i,ref:o,topic:a,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const f=n.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class qC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const e_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=bL(a,t,e,i),o),{}):{}},bL=(t,e,r,n)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?VC(o,a):uy(a)},VC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return EL(e,r)}switch(t){case We.bool:return wL(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return _L(e);case We.json:case We.jsonb:return SL(e);case We.timestamp:return kL(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return uy(e);default:return uy(e)}},uy=t=>t,wL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_L=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},SL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},EL=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>VC(e,s))}return t},kL=t=>typeof t=="string"?t.replace(" ","T"):t,GC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Sm{constructor(e,r,n={},i=sy){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var t_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(t_||(t_={}));class Ul{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ul.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ul.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=o[c];if(f){const h=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),b=d.filter(v=>g.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);b.length>0&&(s[c]=b),y.length>0&&(l[c]=y)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}n(s,d,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var r_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(r_||(r_={}));var Fl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fl||(Fl={}));var Fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class Ta{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sm(this,an.join,this.params,this.timeout),this.rejoinTimer=new qC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ul(this),this.broadcastEndpointURL=GC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Fl.PRESENCE]&&this.bindings[Fl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Fn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Fn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,x=[];for(let _=0;_<v;_++){const w=y[_],{filter:{event:k,schema:S,table:E,filter:N}}=w,A=g&&g[_];if(A&&A.event===k&&Ta.isFilterValueEqual(A.schema,S)&&Ta.isFilterValueEqual(A.table,E)&&Ta.isFilterValueEqual(A.filter,N))x.push(Object.assign(Object.assign({},w),{id:A.id}));else{this.unsubscribe(),this.state=kt.errored,e==null||e(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Fn.SUBSCRIBED);return}}).receive("error",g=>{this.state=kt.errored,e==null||e(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===kt.joined&&e===Fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sm(this,an.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sm(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=an;if(n&&[s,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,y,v;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(y=g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var b,y,v,x,_,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const k=g.id,S=(b=g.filter)===null||b===void 0?void 0:b.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(_=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:y,table:v,commit_timestamp:x,type:_,errors:w}=b;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ta.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=e_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=e_(e.columns,e.old_record)),r}}const Em=()=>{},Gc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NL=[1e3,2e3,5e3,1e4],TL=1e4,AL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sy,this.transport=null,this.heartbeatIntervalMs=Gc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Em,this.ref=0,this.reconnectTimer=null,this.vsn=Zw,this.logger=Em,this.conn=null,this.sendBuffer=[],this.serializer=new xL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ly.websocket}`,this.httpEndpoint=GC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return co.Connecting;case wi.open:return co.Open;case wi.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Ta(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===wi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wi.open||this.conn.readyState===wi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([AL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:mL};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(an.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,a,s,l,c,d,f,h,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:sy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Gc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Em,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Zw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:b=>NL[b-1]||TL,this.vsn){case BC:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,y)=>y(JSON.stringify(b)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(b,y)=>y(JSON.parse(b));break;case gL:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var mu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function PL(t,e,r){const n=new URL(e,t);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}async function IL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function jL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:o,headers:a}){const s=PL(t.baseUrl,n,i),l=await IL(t.auth),c=await e(s,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const g=f?h:void 0,b=g==null?void 0:g.error;throw new mu((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:c.status,headers:c.headers,data:h}}}}function Hc(t){return t.join("")}var OL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`}),!0}catch(e){if(e instanceof mu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof mu&&r.status===409)return;throw r}}};function ta(t){return t.join("")}var RL=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ta(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof mu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof mu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},ML=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=jL({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new OL(this.client,e),this.tableOps=new RL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Wh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var $L=class extends Wh{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cy=class extends Wh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DL=()=>Response,dy=t=>{if(Array.isArray(t))return t.map(r=>dy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=dy(n)}),e},LL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UL=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function FL(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BL(t){var e=FL(t,"string");return gu(e)=="symbol"?e:e+""}function qL(t,e,r){return(e=BL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(r),!0).forEach(function(n){qL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const km=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VL=async(t,e,r)=>{t instanceof await DL()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new $L(km(n),i,o))}).catch(n=>{e(new cy(km(n),n))}):e(new cy(km(t),t))},GL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(LL(n)?(i.headers=Se({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Se(Se({},i),r))};async function hc(t,e,r,n,i,o){return new Promise((a,s)=>{t(r,GL(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>VL(l,s,n))})}async function yu(t,e,r,n){return hc(t,"GET",e,r,n)}async function nn(t,e,r,n,i){return hc(t,"POST",e,n,i,r)}async function fy(t,e,r,n,i){return hc(t,"PUT",e,n,i,r)}async function HL(t,e,r,n){return hc(t,"HEAD",e,Se(Se({},r),{},{noResolveJson:!0}),n)}async function ax(t,e,r,n,i){return hc(t,"DELETE",e,n,i,r)}var zL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};let HC;HC=Symbol.toStringTag;var WL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[HC]="BlobDownloadBuilder",this.promise=null}asStream(){return new zL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};const KL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var JL=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let o;const a=Se(Se({},i_),n);let s=Se(Se({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(s=Se(Se({},s),n.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),f=await(t=="PUT"?fy:nn)(i.fetch,`${i.url}/object/${d}`,o,Se({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const c=Se({upsert:i_.upsert},n),d=Se(Se({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await fy(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Se({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await nn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+o.url),s=a.searchParams.get("token");if(!s)throw new Wh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await nn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await nn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),o=await nn(n.fetch,`${n.url}/object/sign/${i}`,Se({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await nn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Se(Se({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",o=this._getFinalPath(t),a=()=>yu(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new WL(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:dy(await yu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await HL(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n)&&n instanceof cy){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${s}`)}}}async remove(t){var e=this;try{return{data:await ax(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Se(Se(Se({},KL),e),{},{prefix:t||""});return{data:await nn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Se({},t);return{data:await nn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const zC="2.89.0",WC={"X-Client-Info":`storage-js/${zC}`};var YL=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Se(Se({},WC),e),this.fetch=ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await yu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await yu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await nn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await fy(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ax(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},XL=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Se(Se({},WC),e),this.fetch=ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await yu(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ax(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!UL(t))throw new Wh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ML({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const sx={"X-Client-Info":`storage-js/${zC}`,"Content-Type":"application/json"};var KC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Er(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Nm=class extends KC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QL=class extends KC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const lx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},o_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e5=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new Nm(o_(o),n,a))}).catch(()=>{const o=n+"";e(new Nm(i.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new Nm(i.statusText||`HTTP ${n} error`,n,o))}}else e(new QL(o_(t),t))},t5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ZL(n)?(i.headers=Se({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Se(Se({},i),r)):i};async function r5(t,e,r,n,i,o){return new Promise((a,s)=>{t(r,t5(e,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>e5(l,s,n))})}async function kr(t,e,r,n,i){return r5(t,"POST",e,n,i,r)}var n5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Se(Se({},sx),e),this.fetch=lx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await kr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await kr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}}},i5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Se(Se({},sx),e),this.fetch=lx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await kr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}},o5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Se(Se({},sx),e),this.fetch=lx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}}},a5=class extends o5{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new s5(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},s5=class extends n5{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new l5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},l5=class extends i5{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Se(Se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},u5=class extends YL{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new JL(this.url,this.headers,t,this.fetch)}get vectors(){return new a5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XL(this.url+"/iceberg",this.headers,this.fetch)}};const JC="2.89.0",fa=30*1e3,hy=3,Tm=hy*fa,c5="http://localhost:9999",d5="supabase.auth.token",f5={"X-Client-Info":`gotrue-js/${JC}`},py="X-Supabase-Api-Version",YC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p5=10*60*1e3;class vu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class m5 extends vu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function g5(t){return ye(t)&&t.name==="AuthApiError"}class fo extends vu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class di extends vu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class vr extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y5(t){return ye(t)&&t.name==="AuthSessionMissingError"}class ra extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zc extends di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wc extends di{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v5(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class a_ extends di{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x5 extends di{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class my extends di{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Am(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class s_ extends di{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gy extends di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),l_=` 	
\r=`.split(""),b5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<l_.length;e+=1)t[l_[e].charCodeAt(0)]=-2;for(let e=0;e<df.length;e+=1)t[df[e].charCodeAt(0)]=e;return t})();function u_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(df[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(df[n]),e.queuedBits-=6}}function XC(t,e,r){const n=b5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function c_(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{S5(a,n,r)};for(let a=0;a<t.length;a+=1)XC(t.charCodeAt(a),i,o);return e.join("")}function w5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}w5(n,e)}}function S5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ba(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)XC(t.charCodeAt(i),r,n);return new Uint8Array(e)}function E5(t){const e=[];return _5(t,r=>e.push(r)),new Uint8Array(e)}function yo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>u_(i,r,n)),u_(null,r,n),e.join("")}function k5(t){return Math.round(Date.now()/1e3)+t}function N5(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},QC=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function T5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const ZC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ha=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(t,e)=>{await t.removeItem(e)};class Kh{constructor(){this.promise=new Kh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Kh.promiseConstructor=Promise;function Cm(t){const e=t.split(".");if(e.length!==3)throw new gy("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!h5.test(e[n]))throw new gy("JWT not in base64url format");return{header:JSON.parse(c_(e[0])),payload:JSON.parse(c_(e[1])),signature:Ba(e[2]),raw:{header:e[0],payload:e[1]}}}async function C5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function P5(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function I5(t){return("0"+t.toString(16)).substr(-2)}function j5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,I5).join("")}async function O5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function R5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await O5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(t,e,r=!1){const n=j5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ha(t,`${e}-code-verifier`,i);const o=await R5(n);return[o,n===o?"plain":"s256"]}const M5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $5(t){const e=t.headers.get(py);if(!e||!e.match(M5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function D5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function L5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(t){if(!U5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F5(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function d_(t){return JSON.parse(JSON.stringify(t))}const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B5=[502,503,504];async function f_(t){var e;if(!A5(t))throw new my(oo(t),0);if(B5.includes(t.status))throw new my(oo(t),t.status);let r;try{r=await t.json()}catch(o){throw new fo(oo(o),o)}let n;const i=$5(t);if(i&&i.getTime()>=YC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s_(oo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new vr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new s_(oo(r),t.status,r.weak_password.reasons);throw new m5(oo(r),t.status||500,n)}const q5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function _e(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[py]||(o[py]=YC["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await V5(t,e,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function V5(t,e,r,n,i,o){const a=q5(e,n,i,o);let s;try{s=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new my(oo(l),0)}if(s.ok||await f_(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await f_(l)}}function tn(t){var e;let r=null;z5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=k5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function h_(t){const e=tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ki(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G5(t){return{data:t,error:null}}function H5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=zh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function p_(t){return t}function z5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Im=["global","local","others"];class W5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ZC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Im[0]){if(Im.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Im.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ki})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zh(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:H5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ki})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:p_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ye(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ia(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ki})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ia(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ki})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ia(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ki})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ia(e.userId);try{const{data:r,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ia(e.userId),ia(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:p_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ye(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function m_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const oa={debug:!!(globalThis&&QC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class K5 extends eP{}async function J5(t,e,r){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new K5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Y5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function X5(t){return parseInt(t,16)}function Q5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Z5(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=tP(t.address),b=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let _=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}x+=_}return`${v}
${x}`}class vt extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class ff extends vt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function e4({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(rP(a)){if(o.rp.id!==a)return new vt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function t4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(rP(n)){if(r.rpId!==n)return new vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class r4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const n4=new r4;function i4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=zh(t,["challenge","user","excludeCredentials"]),o=Ba(e).buffer,a=Object.assign(Object.assign({},r),{id:Ba(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ba(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function o4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zh(t,["challenge","allowCredentials"]),i=Ba(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const s=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ba(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function a4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yo(new Uint8Array(t.response.attestationObject)),clientDataJSON:yo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function s4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yo(new Uint8Array(i.authenticatorData)),clientDataJSON:yo(new Uint8Array(i.clientDataJSON)),signature:yo(new Uint8Array(i.signature)),userHandle:i.userHandle?yo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rP(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function g_(){var t,e;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function l4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:e4({error:e,options:t})}}}async function u4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:t4({error:e,options:t})}}}const c4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},d4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const s=n[o];e(s)?n[o]=hf(s,a):n[o]=hf(a)}else n[o]=a}return n}function f4(t,e){return hf(c4,t,e||{})}function h4(t,e){return hf(d4,t,e||{})}class p4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:s};const l=i??n4.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=f4(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await l4({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=h4(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await u4(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return ye(a)?{data:null,error:a}:{data:null,error:new fo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn authentication")};try{if(!g_())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return ye(a)?{data:null,error:a}:{data:null,error:new fo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn registration")};try{if(!g_())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return ye(a)?{data:null,error:a}:{data:null,error:new fo("Unexpected error in register",a)}}}}Y5();const m4={url:c5,storageKey:d5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function y_(t,e,r){return await r()}const aa={};class xu{get jwks(){var e,r;return(r=(e=aa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=aa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},m4),e);if(this.storageKey=o.storageKey,this.instanceID=(r=xu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ft()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new W5({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ZC(o.fetch),this.lock=o.lock||y_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=J5:this.lock=y_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new p4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:QC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=m_(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ft()&&(r=T5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),v5(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?this._returnResult({error:r}):this._returnResult({error:new fo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:tn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await na(this.storage,this.storageKey)),o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:tn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tn})}else throw new zc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:s}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:h_})}else if("phone"in e){const{phone:o,password:a,options:s}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:h_})}else throw new zc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new ra;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,a,s,l,c,d,f,h;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:y,wallet:v,statement:x,options:_}=e;let w;if(Ft())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const k=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=tP(S[0]);let N=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=X5(C)}const A={domain:k.host,address:E,statement:x,uri:k.href,version:"1",chainId:N,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Z5(A),b=await w.request({method:"personal_sign",params:[Q5(g),E]})}try{const{data:y,error:v}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tn});if(v)throw v;if(!y||!y.session||!y.user){const x=new ra;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(ye(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,o,a,s,l,c,d,f,h,g;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:v,wallet:x,statement:_,options:w}=e;let k;if(Ft())if(typeof x=="object")k=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))k=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const E=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),_?{statement:_}:null));let N;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")N=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)N=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const E=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:v,error:x}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:yo(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:tn});if(x)throw x;if(!v||!v.session||!v.user){const _=new ra;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(ye(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new x5;const{data:o,error:a}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tn});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new ra;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ra;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await na(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new zc("You must provide either an email or phone number.")}catch(s){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:tn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await na(this.storage,this.storageKey));const c=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:G5});return!((o=c.data)===null||o===void 0)&&o.url&&Ft()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new vr;const{error:i}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:s}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new zc("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Tm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Zi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Pm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=F5(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ki}):await this._useSession(async r=>{var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ki})})}catch(r){if(ye(r))return y5(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new vr;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await na(this.storage,this.storageKey));const{data:c,error:d}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:ki});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=Cm(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:s}=r;if(s)throw s;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new vr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ft())throw new Wc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new a_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new a_("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new Wc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:y,error:v}=await this._getUser(o);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(ye(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(g5(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=N5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await na(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,s,l,c,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ft()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ye(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,f=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ra}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await P5(async i=>(i>0&&await C5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Am(o)&&Date.now()+a-n<fa})}catch(n){if(this._debug(r,"error",n),ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ha(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Pm()}else if(i&&!i.user&&!i.user){const a=await Zi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ut(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,i)):i.user=Pm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tm;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Tm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Am(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new vr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ye(o)){const a={data:null,error:o};return Am(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ha(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=d_(i);await ha(this.storage,this.storageKey,o)}else{const i=d_(r);await ha(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fa}ms, refresh threshold is ${hy} ticks`),i<=hy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await na(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?a4(e.webauthn.credential_response):s4(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:i4(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:o4(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Cm(n.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new vr})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new vr});const a=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new vr});const a=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vr})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vr})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+p5>i)return n;const{data:o,error:a}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Cm(n);r!=null&&r.allowExpired||D5(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=L5(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,E5(`${s}.${l}`)))throw new gy("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}}xu.nextInstanceID={};const g4=xu,y4="2.89.0";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const v4={"X-Client-Info":`supabase-js-${Sl}/${y4}`},x4={headers:v4},b4={schema:"public"},w4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_4={};function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function S4(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E4(t){var e=S4(t,"string");return bu(e)=="symbol"?e:e+""}function k4(t,e,r){return(e=E4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(r),!0).forEach(function(n){k4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const N4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T4=()=>Headers,A4=(t,e,r)=>{const n=N4(r),i=T4();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,dt(dt({},a),{},{headers:c}))}};function C4(t){return t.endsWith("/")?t:t+"/"}function P4(t,e){var r,n;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:dt(dt({},l),i),auth:dt(dt({},c),o),realtime:dt(dt({},d),a),storage:{},global:dt(dt(dt({},f),s),{},{headers:dt(dt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function I4(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var j4=class extends g4{constructor(t){super(t)}},O4=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const o=I4(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:b4,realtime:_4,auth:dt(dt({},w4),{},{storageKey:a}),global:x4},l=P4(r??{},s);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=A4(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(dt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new fL(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new u5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new sL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j4({url:this.authUrl.href,headers:dt(dt({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new CL(this.realtimeUrl.href,dt(dt({},t),{},{params:dt(dt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const R4=(t,e,r)=>new O4(t,e,r);function M4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}M4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const x_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},$4="https://krgznynrljnvxwhvsdxj.supabase.co",D4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function nP(t){try{if(typeof import.meta<"u"&&import.meta&&x_)return x_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const L4=nP("VITE_SUPABASE_URL"),U4=nP("VITE_SUPABASE_ANON_KEY"),iP=L4||$4,F4=U4||D4;iP.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const Ae=R4(iP,F4),pc=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},oP=t=>{localStorage.setItem("workflows",JSON.stringify(t))},mc=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},aP=t=>{localStorage.setItem("cartable",JSON.stringify(t))},sP=async(t,e)=>{try{const{data:r,error:n}=await Ae.from("messages").select("*").order("created_at",{ascending:!1});if(n)throw n;const o=(r||[]).map(l=>({id:l.id,senderId:l.sender_id,senderName:l.sender_name,receiverId:l.receiver_id,receiverType:l.receiver_type,subject:l.subject,body:l.body,createdAt:l.created_at,readBy:l.read_by||[],attachments:l.attachments||[]})),a=o.filter(l=>l.receiverType==="USER"&&l.receiverId===t||l.receiverType==="ALL"||l.receiverType==="GROUP"&&l.receiverId===e),s=o.filter(l=>l.senderId===t);return{inbox:a,sent:s}}catch(r){return console.error("Error fetching messages:",r),{inbox:[],sent:[]}}},B4=async(t,e)=>{try{const{inbox:r}=await sP(t,e);return r.filter(n=>!n.readBy.includes(t)).length}catch{return 0}},q4=async(t,e,r,n,i,o=[])=>{const a=`${rt()} ${ts()}`,s=[];if(r==="USER"&&Array.isArray(e))e.forEach(c=>{s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:"USER",subject:n,body:i,created_at:a,read_by:[],attachments:o})});else{const c=Array.isArray(e)?e[0]:e;s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:r,subject:n,body:i,created_at:a,read_by:[],attachments:o})}const{error:l}=await Ae.from("messages").insert(s);if(l)throw l},V4=async(t,e)=>{if(!t.readBy.includes(e)){const r=[...t.readBy,e];await Ae.from("messages").update({read_by:r}).eq("id",t.id)}},Re=async t=>{try{const{data:e,error:r}=await Ae.from(t).select("*");if(!r&&e&&!(t==="measurement_units"&&e.length===0))return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},G4=async()=>{try{const{data:t,error:e}=await Ae.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching shift reports:",t),[]}},Wo=async t=>{try{const{data:e,error:r}=await Ae.rpc("get_next_tracking_code",{prefix_input:t});return r?(console.error("RPC Error:",r),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},H4=()=>{let t=pc();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:fr.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:fr.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:fr.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),oP(t)}};H4();const wu=()=>pc(),z4=t=>{const e=pc(),r=e.findIndex(n=>n.id===t.id);r>=0?e[r]=t:e.push(t),oP(e)},Vi=(t,e,r,n,i)=>{let a=pc().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:Ll(),workflowId:a.id,trackingCode:n,module:t,title:i,description:`   ${r.fullName}`,currentStepId:s.id,initiatorId:r.id,assigneeRole:s.assigneeRole==="INITIATOR"?r.role:s.assigneeRole,status:"PENDING",createdAt:rt(),updatedAt:rt(),data:{...e,status:"REQUEST"}},c=mc();return c.push(l),aP(c),l},W4=(t,e,r,n)=>{const i=mc(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=pc().find(f=>f.id===a.workflowId);if(!l)return;const c=l.steps.find(f=>f.id===a.currentStepId);if(!c)return;const d=c.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=fr.ADMIN,a.description=`   ${r.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=rt(),a.description=`   ${f.assigneeRole}  ${r.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,aP(i)}},b_=t=>mc().filter(r=>r.status==="PENDING"&&(r.assigneeRole===t.role||r.assigneeRole==="INITIATOR"&&r.initiatorId===t.id||r.assigneeId===t.id)),K4=()=>mc().filter(e=>e.module==="WORK_ORDER"),Jh=t=>mc().filter(r=>r.module===t),J4=({children:t,user:e,onLogout:r,darkMode:n,toggleDarkMode:i})=>{var A;const[o,a]=T.useState(!1),[s,l]=T.useState(!1),[c,d]=T.useState([]),[f,h]=T.useState(0),[g,b]=T.useState(null),y=js(),v=Fh(),x=v.pathname==="/login";T.useEffect(()=>{_m.forEach(C=>{C.submenu&&C.submenu.some(M=>M.path===v.pathname)&&!c.includes(C.id)&&d(M=>[...M,C.id])})},[v.pathname]),T.useEffect(()=>{if(!e)return;const C=async()=>{const L=await B4(e.id,e.role);h(L),I()},I=async()=>{try{const{data:L}=await Ae.from("personal_notes").select("*").eq("user_id",e.id).eq("is_completed",!1).not("reminder_date","is",null).not("reminder_time","is",null);if(L&&L.length>0){const O=new Date,j=rt(),P=ts(),$=L.find(B=>{if(B.reminderSeen)return!1;const F=B.reminderDate<j,G=B.reminderDate===j,H=B.reminderTime<=P;return F||G&&H});$&&(b($),new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{}))}}catch(L){console.error("Reminder check failed",L)}};C();const M=setInterval(C,3e4);return()=>clearInterval(M)},[e]);const _=async()=>{g&&b(null)},w=async()=>{if(g)try{await Ae.from("personal_notes").update({is_completed:!0}).eq("id",g.id),b(null),alert("  .")}catch(C){console.error(C)}};if(x)return u.jsx(u.Fragment,{children:t});const k=()=>{y(-1)},S=v.pathname==="/",E=C=>{s?(l(!1),d([C])):d(I=>I.includes(C)?I.filter(M=>M!==C):[...I,C])},N=C=>{C.submenu?E(C.id):(y(C.path),a(!1))};return u.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${n?"dark":""}`,children:[g&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all scale-100 border-t-4 border-red-500",children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[u.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 p-3 rounded-full animate-bounce",children:u.jsx(_D,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""})]}),u.jsx("h4",{className:"font-bold text-lg mb-2",children:g.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-4",children:g.content||"      ."}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[u.jsx(fc,{className:"w-3 h-3"}),u.jsxs("span",{children:[g.reminderTime," - ",g.reminderDate]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 flex gap-3",children:[u.jsx("button",{onClick:_,className:"flex-1 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition",children:"  "}),u.jsxs("button",{onClick:w,className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2",children:[u.jsx(Os,{className:"w-4 h-4"}),"  "]})]})]})}),o&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),u.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${o?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${s?"md:w-20":"md:w-64"}
      `,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${s?"justify-center":"justify-between"}`,children:[!s&&u.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""}),u.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:u.jsx(It,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>l(!s),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:s?"  ":" ",children:s?u.jsx(UD,{className:"w-5 h-5"}):u.jsx(LD,{className:"w-5 h-5"})})]}),u.jsxs("div",{onClick:()=>{y("/settings"),a(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${s?"justify-center":""}
            `,title:s?e==null?void 0:e.fullName:" ",children:[u.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all shadow-sm",children:e!=null&&e.avatar?u.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):u.jsx(es,{className:"w-5 h-5"})}),!s&&u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.role})]})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:_m.map(C=>{var P,$;if(C.id==="settings"||C.role&&(e==null?void 0:e.role)!==C.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const I=!!C.submenu,M=c.includes(C.id),L=I&&((P=C.submenu)==null?void 0:P.some(B=>B.path===v.pathname)),O=!I&&v.pathname===C.path,j=C.id==="messages"&&f>0;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>N(C),title:s?C.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${s?"justify-center px-2":"px-6 text-right justify-between"}
                      ${O||L?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx(C.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${j?"animate-pulse":""} ${(O||L)&&!s?"scale-110":""}`}),j&&s&&u.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!s&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm truncate ${O||L?"font-bold":"font-medium"}`,children:C.title}),j&&u.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:f})]})]}),!s&&I&&u.jsx(Bh,{className:`w-4 h-4 transition-transform duration-200 ${M?"rotate-180":""}`}),s&&u.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[C.title,j&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:f})]})]}),!s&&I&&M&&u.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:($=C.submenu)==null?void 0:$.map(B=>{const F=v.pathname===B.path;return u.jsxs("button",{onClick:()=>{y(B.path),a(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${F?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[u.jsx(B.icon,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs",children:B.title})]},B.id)})})]},C.id)})}),u.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[u.jsxs("button",{onClick:i,title:s?n?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[n?u.jsx(KD,{className:"w-5 h-5"}):u.jsx(DD,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:n?" ":" "})]}),u.jsxs("button",{onClick:r,title:s?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[u.jsx(MD,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:""})]})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[u.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:u.jsx($D,{className:"w-6 h-6"})}),!S&&u.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(dc,{className:"w-6 h-6 text-gray-500"})}),u.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((A=_m.flatMap(C=>C.submenu?C.submenu:C).find(C=>C.path===v.pathname))==null?void 0:A.title)||(v.pathname==="/settings"?"":"")})]}),u.jsx("div",{className:"flex items-center gap-2"})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:t})]})]})},Y4={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},lP=({className:t})=>{const e=()=>{try{return`${Y4&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return u.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:r=>{console.warn("Logo load failed"),r.currentTarget.style.display="none"}})},w_=`--      SQL Editor  Supabase  

-- 1.  
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text,
  unit text,
  mobile text,
  email text,
  profile_picture text,
  created_at timestamptz default now()
);

create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  password text,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

--   
create table if not exists system_logs (
  id uuid default gen_random_uuid() primary key,
  user_id text,
  user_name text,
  personnel_code text,
  action text,
  ip_address text,
  details text,
  created_at timestamptz default now()
);

--   
create table if not exists messages (
  id uuid default gen_random_uuid() primary key,
  sender_id text,
  sender_name text,
  receiver_id text,
  receiver_type text,
  subject text,
  body text,
  read_by jsonb default '[]'::jsonb,
  created_at text,
  attachments jsonb default '[]'::jsonb
);

-- 2.   
create table if not exists locations ( id uuid default gen_random_uuid() primary key, code text unique, name text not null, parent_id uuid references locations(id), created_at timestamptz default now() );
create table if not exists measurement_units ( id uuid default gen_random_uuid() primary key, title text not null, created_at timestamptz default now() );
create table if not exists equipment_classes ( id uuid default gen_random_uuid() primary key, name text not null, created_at timestamptz default now() );
create table if not exists equipment_groups ( id uuid default gen_random_uuid() primary key, name text not null, class_id uuid references equipment_classes(id), created_at timestamptz default now() );

--   
create table if not exists part_categories ( 
  id uuid default gen_random_uuid() primary key, 
  code text unique not null, 
  name text unique not null, 
  parent_id uuid references part_categories(id), 
  level_type text not null, 
  created_at timestamptz default now() 
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

-- 3.     (Cartable)
create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 4.   
create table if not exists projects (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  title text not null,
  manager_id uuid references personnel(id),
  manager_name text,
  budget numeric default 0,
  start_date text,
  end_date text,
  status text default 'PLANNED',
  progress integer default 0,
  description text,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

create table if not exists project_objectives (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  objective_text text not null,
  created_at timestamptz default now()
);

create table if not exists project_milestones (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  title text not null,
  weight_percent integer not null,
  progress_percent integer default 0,
  created_at timestamptz default now()
);

create table if not exists project_attachments (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  file_name text not null,
  file_path text,
  file_size integer,
  file_type text,
  uploaded_at timestamptz default now()
);

--   
create table if not exists shift_reports (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  shift_date text,
  shift_name text,
  shift_type text,
  shift_duration text,
  supervisor_id uuid,
  supervisor_name text,
  total_production_a numeric default 0,
  total_production_b numeric default 0,
  full_data jsonb,
  created_at timestamptz default now()
);

-- 5.   
create table if not exists performance_evaluations (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  personnel_id uuid references personnel(id),
  personnel_name text,
  unit text,
  period text,
  total_score numeric,
  criteria_data jsonb,
  evaluator_id uuid references app_users(id),
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

--   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

--   (    )
create table if not exists parts ( 
  id uuid default gen_random_uuid() primary key, 
  code text, 
  name text not null, 
  category_id uuid references part_categories(id), 
  stock_unit_id uuid references measurement_units(id), 
  consumption_unit_id uuid references measurement_units(id), 
  created_at timestamptz default now() 
);

-- 6.    (  )
create table if not exists part_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  requester_id uuid references app_users(id),
  requester_name text,
  work_order_id uuid references cartable_items(id), --    
  work_order_code text,
  request_date text,
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

create table if not exists part_request_items (
  id uuid default gen_random_uuid() primary key,
  request_id uuid references part_requests(id) on delete cascade,
  part_id uuid references parts(id),
  part_name text,
  qty numeric,
  unit text,
  note text,
  created_at timestamptz default now()
);

-- 7.   
create table if not exists technical_documents (
  id uuid default gen_random_uuid() primary key,
  code text not null,
  title text not null,
  type text,
  file_name text,
  created_at timestamptz default now()
);

-- 8.  
create table if not exists meeting_minutes (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  subject text not null,
  location text,
  meeting_date text,
  start_time text,
  end_time text,
  attendees jsonb default '[]'::jsonb,
  decisions jsonb default '[]'::jsonb,
  attached_files jsonb default '[]'::jsonb,
  creator_id uuid references app_users(id),
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 9.   
create table if not exists technical_suggestions (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  user_id uuid references app_users(id),
  user_name text,
  description text not null,
  attached_files jsonb default '[]'::jsonb,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 10.    ()
create table if not exists purchase_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  request_number text not null,
  requester_id uuid references app_users(id),
  requester_name text,
  request_date text,
  description text not null,
  qty numeric default 1,
  unit text,
  location text,
  priority text,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 11.    ()
create table if not exists personal_notes (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references app_users(id),
  title text not null,
  content text,
  tags jsonb default '[]'::jsonb,
  reminder_date text,
  reminder_time text,
  is_completed boolean default false,
  attachments jsonb default '[]'::jsonb,
  created_at timestamptz default now()
);

--   
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS password text;
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS personnel_id uuid REFERENCES personnel(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES org_chart(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS manager_id uuid REFERENCES personnel(id);
ALTER TABLE personnel ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);
ALTER TABLE locations ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES locations(id);
ALTER TABLE equipment_classes ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE equipment_groups ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE evaluation_criteria ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);

-- Constraints
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_code_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_code_key UNIQUE (code);
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_name_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_name_key UNIQUE (name);
ALTER TABLE equipment_groups DROP CONSTRAINT IF EXISTS equipment_groups_code_key;
ALTER TABLE equipment_groups ADD CONSTRAINT equipment_groups_code_key UNIQUE (code);
ALTER TABLE equipment ALTER COLUMN code SET NOT NULL;

-- RLS Policies (Simplified for development - allow all)
alter table personnel enable row level security; drop policy if exists "Allow all personnel" on personnel; create policy "Allow all personnel" on personnel for all using (true) with check (true);
alter table app_users enable row level security; drop policy if exists "Allow all users" on app_users; create policy "Allow all users" on app_users for all using (true) with check (true);
alter table shift_reports enable row level security; drop policy if exists "Allow all reports" on shift_reports; create policy "Allow all reports" on shift_reports for all using (true) with check (true);
alter table locations enable row level security; drop policy if exists "Allow all loc" on locations; create policy "Allow all loc" on locations for all using (true) with check (true);
alter table cartable_items enable row level security; drop policy if exists "Allow all cartable" on cartable_items; create policy "Allow all cartable" on cartable_items for all using (true) with check (true);
alter table messages enable row level security; drop policy if exists "Allow all messages" on messages; create policy "Allow all messages" on messages for all using (true) with check (true);
alter table projects enable row level security; drop policy if exists "Allow all projects" on projects; create policy "Allow all projects" on projects for all using (true) with check (true);
alter table project_objectives enable row level security; drop policy if exists "Allow all project_obj" on project_objectives; create policy "Allow all project_obj" on project_objectives for all using (true) with check (true);
alter table project_milestones enable row level security; drop policy if exists "Allow all project_mil" on project_milestones; create policy "Allow all project_mil" on project_milestones for all using (true) with check (true);
alter table project_attachments enable row level security; drop policy if exists "Allow all project_att" on project_attachments; create policy "Allow all project_att" on project_attachments for all using (true) with check (true);
alter table performance_evaluations enable row level security; drop policy if exists "Allow all evaluations" on performance_evaluations; create policy "Allow all evaluations" on performance_evaluations for all using (true) with check (true);
alter table parts enable row level security; drop policy if exists "Allow all parts" on parts; create policy "Allow all parts" on parts for all using (true) with check (true);
alter table part_categories enable row level security; drop policy if exists "Allow all part_cats" on part_categories; create policy "Allow all part_cats" on part_categories for all using (true) with check (true);
alter table part_requests enable row level security; drop policy if exists "Allow all part_req" on part_requests; create policy "Allow all part_req" on part_requests for all using (true) with check (true);
alter table part_request_items enable row level security; drop policy if exists "Allow all part_req_items" on part_request_items; create policy "Allow all part_req_items" on part_request_items for all using (true) with check (true);
alter table technical_documents enable row level security; drop policy if exists "Allow all docs" on technical_documents; create policy "Allow all docs" on technical_documents for all using (true) with check (true);
alter table meeting_minutes enable row level security; drop policy if exists "Allow all meetings" on meeting_minutes; create policy "Allow all meetings" on meeting_minutes for all using (true) with check (true);
alter table technical_suggestions enable row level security; drop policy if exists "Allow all suggestions" on technical_suggestions; create policy "Allow all suggestions" on technical_suggestions for all using (true) with check (true);
alter table purchase_requests enable row level security; drop policy if exists "Allow all purchase requests" on purchase_requests; create policy "Allow all purchase requests" on purchase_requests for all using (true) with check (true);
alter table personal_notes enable row level security; drop policy if exists "Allow user notes" on personal_notes; create policy "Allow user notes" on personal_notes for all using (true) with check (true);
alter table system_logs enable row level security; drop policy if exists "Allow logs" on system_logs; create policy "Allow logs" on system_logs for all using (true) with check (true);

--        
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  last_code text;
  next_num integer;
  new_code text;
begin
  select tracking_code into last_code
  from cartable_items
  where tracking_code like prefix_input || '%'
  order by tracking_code desc
  limit 1;

  if last_code is null then
    next_num := 1;
  else
    begin
        next_num := to_number(right(last_code, 4), '9999') + 1;
    exception when others then
        next_num := 1;
    end;
  end if;

  new_code := prefix_input || lpad(next_num::text, 4, '0');
  
  return new_code;
end;
$$;
`,X4=({onLogin:t})=>{const[e,r]=T.useState(""),[n,i]=T.useState(""),[o,a]=T.useState(""),[s,l]=T.useState(!1),[c,d]=T.useState(!1),[f,h]=T.useState(!1),[g,b]=T.useState(null),[y,v]=T.useState(""),[x,_]=T.useState(""),[w,k]=T.useState(""),[S,E]=T.useState(!1),[N,A]=T.useState("checking"),[C,I]=T.useState(""),[M,L]=T.useState(!1),[O,j]=T.useState(!1);T.useEffect(()=>{P()},[]);const P=async()=>{A("checking");try{const{data:X,error:z}=await Ae.from("app_users").select("count",{count:"exact",head:!0});if(z)throw z;A("connected"),I("    ")}catch(X){console.error("Supabase Connection Error:",X),A("error");let z="   ";typeof X=="string"?z=X:(X==null?void 0:X.code)==="42P01"?z="   ":X!=null&&X.message&&(z=X.message),I(z)}},$=()=>{navigator.clipboard.writeText(w_),j(!0),setTimeout(()=>j(!1),2e3)},B={id:"1",username:"admin",fullName:" ",role:fr.ADMIN,passwordHash:"12381",isDefaultPassword:!1},F=async X=>{var z,ue,R;if(X.preventDefault(),a(""),l(!0),e.toLowerCase()==="admin"&&n==="12381"){if(B.isDefaultPassword){h(!0),b(B),l(!1);return}t(B),l(!1);return}try{const{data:J,error:ie}=await Ae.from("app_users").select(`
                *,
                personnel (
                    full_name,
                    personnel_code,
                    profile_picture,
                    unit
                )
            `).eq("username",e).single();if(ie||!J)throw ie&&ie.code!=="PGRST116"&&console.error("Auth DB Error:",ie),new Error("      ");if(J.password!==n)throw new Error("      ");const de={id:J.id,username:J.username,fullName:((z=J.personnel)==null?void 0:z.full_name)||J.username,role:J.role,passwordHash:"***",isDefaultPassword:J.is_default_password,personnelCode:(ue=J.personnel)==null?void 0:ue.personnel_code,avatar:J.avatar||((R=J.personnel)==null?void 0:R.profile_picture)};if(de.isDefaultPassword){h(!0),b(de),l(!1);return}t(de)}catch(J){console.warn("Login Failed:",J.message),a("      ")}finally{l(!1)}},G=async X=>{if(X.preventDefault(),x!==w){a("    ");return}if(y!==n){a("    ");return}if(x===n){a("       () ");return}if(l(!0),a(""),(g==null?void 0:g.username)==="admin")E(!0),setTimeout(()=>{h(!1),E(!1),v(""),_(""),k(""),i("")},2e3),l(!1);else if(g)try{const{error:z}=await Ae.from("app_users").update({password:x,is_default_password:!1}).eq("id",g.id);if(z)throw z;E(!0),setTimeout(()=>{h(!1),E(!1),v(""),_(""),k(""),i("")},2e3)}catch(z){a("    : "+z.message)}finally{l(!1)}},H=x&&w&&x===w;return u.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),u.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-6",children:[u.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[u.jsx("h1",{className:"text-lg md:text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4 whitespace-nowrap",children:"     "}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-bold tracking-wide",children:"    "})]}),u.jsx("div",{className:"flex justify-center mb-6 relative z-20 animate-fadeIn delay-100",children:u.jsx("div",{className:"w-36 h-36 flex items-center justify-center transform hover:scale-105 transition duration-700",children:u.jsx(lP,{className:"w-full h-full drop-shadow-2xl"})})}),u.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50 pt-10 relative",children:[u.jsxs("div",{className:"absolute top-4 right-4",children:[N==="checking"&&u.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse",title:"   "}),N==="connected"&&u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"  "}),N==="error"&&u.jsx("button",{onClick:()=>L(!0),className:"text-red-500 hover:text-red-700 transition",title:"   -  ",children:u.jsx(ID,{className:"w-5 h-5"})})]}),f?u.jsx("form",{onSubmit:G,className:"space-y-5",children:S?u.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4 animate-fadeIn",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2",children:u.jsx(Os,{className:"w-10 h-10 text-green-600"})}),u.jsx("h3",{className:"text-xl font-bold text-green-700",children:"   "}),u.jsx("p",{className:"text-sm text-gray-500",children:"     ..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 text-[#800020] rounded-full flex items-center justify-center mb-3",children:u.jsx(GD,{className:"w-7 h-7"})}),u.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"   "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1 px-4 leading-relaxed",children:"          ."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),u.jsxs("div",{className:"relative",children:[u.jsx(Vc,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" ...",value:y,onChange:X=>v(X.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),u.jsxs("div",{className:"relative",children:[u.jsx(Vc,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"password",placeholder:" ...",value:x,onChange:X=>_(X.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"   "}),u.jsxs("div",{className:"relative",children:[u.jsx(Vc,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"password",placeholder:"  ...",value:w,onChange:X=>k(X.target.value),className:`w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all ${w&&!H?"border-red-500":"border-gray-200 dark:border-gray-600"}`,required:!0}),w&&u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:H?u.jsx(hu,{className:"w-4 h-4 text-green-500"}):u.jsx(It,{className:"w-4 h-4 text-red-500"})})]}),w&&!H&&u.jsx("p",{className:"text-[10px] text-red-500 mr-1 animate-pulse",children:"    "})]})]}),o&&u.jsxs("div",{className:"text-red-500 text-xs text-center bg-red-50 dark:bg-red-900/10 p-2 rounded-lg border border-red-100 flex items-center justify-center gap-1",children:[u.jsx(AC,{className:"w-3 h-3"})," ",o]}),u.jsx("button",{type:"submit",disabled:s||!H||!x,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-12 rounded-xl font-bold text-sm transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):"  "})]})}):u.jsxs("form",{onSubmit:F,className:"space-y-5",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"   "}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"         "})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),u.jsxs("div",{className:"relative group",children:[u.jsx(es,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),u.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:X=>r(X.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),u.jsxs("div",{className:"relative group",children:[u.jsx(Vc,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),u.jsx("input",{type:c?"text":"password",placeholder:"",value:n,onChange:X=>i(X.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:c?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:c?u.jsx(TD,{className:"w-5 h-5"}):u.jsx(rx,{className:"w-5 h-5"})})]})]})]}),o&&u.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-wait",children:s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"  "}),u.jsx(RD,{className:"w-5 h-5"})]})})]})]}),u.jsxs("div",{className:"text-center space-y-2 pb-6",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-400 dark:text-gray-500 font-light opacity-80",children:u.jsxs("span",{children:[" ",QD]})}),u.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-medium tracking-widest uppercase opacity-80",children:"DESIGNED & DEVELOPED BY H.PARSA"})]}),M&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[u.jsx(ND,{className:"w-5 h-5 text-blue-600"}),"  "]}),u.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",u.jsx("b",{children:"Supabase"}),"  ",u.jsx("b",{children:"SQL Editor"}),"        ."]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[u.jsx("pre",{children:w_}),u.jsxs("button",{onClick:$,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[O?u.jsx(hu,{className:"w-4 h-4"}):u.jsx(kD,{className:"w-4 h-4"}),O?" ":" "]})]})]})})]})]})};function uP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=uP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=uP(t))&&(n&&(n+=" "),n+=e);return n}var Q4=Array.isArray,yr=Q4,Z4=typeof kc=="object"&&kc&&kc.Object===Object&&kc,cP=Z4,eU=cP,tU=typeof self=="object"&&self&&self.Object===Object&&self,rU=eU||tU||Function("return this")(),jn=rU,nU=jn,iU=nU.Symbol,gc=iU,__=gc,dP=Object.prototype,oU=dP.hasOwnProperty,aU=dP.toString,sl=__?__.toStringTag:void 0;function sU(t){var e=oU.call(t,sl),r=t[sl];try{t[sl]=void 0;var n=!0}catch{}var i=aU.call(t);return n&&(e?t[sl]=r:delete t[sl]),i}var lU=sU,uU=Object.prototype,cU=uU.toString;function dU(t){return cU.call(t)}var fU=dU,S_=gc,hU=lU,pU=fU,mU="[object Null]",gU="[object Undefined]",E_=S_?S_.toStringTag:void 0;function yU(t){return t==null?t===void 0?gU:mU:E_&&E_ in Object(t)?hU(t):pU(t)}var fi=yU;function vU(t){return t!=null&&typeof t=="object"}var hi=vU,xU=fi,bU=hi,wU="[object Symbol]";function _U(t){return typeof t=="symbol"||bU(t)&&xU(t)==wU}var Ms=_U,SU=yr,EU=Ms,kU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NU=/^\w*$/;function TU(t,e){if(SU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||EU(t)?!0:NU.test(t)||!kU.test(t)||e!=null&&t in Object(e)}var ux=TU;function AU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wi=AU;const $s=Ve(Wi);var CU=fi,PU=Wi,IU="[object AsyncFunction]",jU="[object Function]",OU="[object GeneratorFunction]",RU="[object Proxy]";function MU(t){if(!PU(t))return!1;var e=CU(t);return e==jU||e==OU||e==IU||e==RU}var cx=MU;const Ee=Ve(cx);var $U=jn,DU=$U["__core-js_shared__"],LU=DU,jm=LU,k_=function(){var t=/[^.]+$/.exec(jm&&jm.keys&&jm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UU(t){return!!k_&&k_ in t}var FU=UU,BU=Function.prototype,qU=BU.toString;function VU(t){if(t!=null){try{return qU.call(t)}catch{}try{return t+""}catch{}}return""}var fP=VU,GU=cx,HU=FU,zU=Wi,WU=fP,KU=/[\\^$.*+?()[\]{}|]/g,JU=/^\[object .+?Constructor\]$/,YU=Function.prototype,XU=Object.prototype,QU=YU.toString,ZU=XU.hasOwnProperty,e3=RegExp("^"+QU.call(ZU).replace(KU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t3(t){if(!zU(t)||HU(t))return!1;var e=GU(t)?e3:JU;return e.test(WU(t))}var r3=t3;function n3(t,e){return t==null?void 0:t[e]}var i3=n3,o3=r3,a3=i3;function s3(t,e){var r=a3(t,e);return o3(r)?r:void 0}var Ko=s3,l3=Ko,u3=l3(Object,"create"),Yh=u3,N_=Yh;function c3(){this.__data__=N_?N_(null):{},this.size=0}var d3=c3;function f3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var h3=f3,p3=Yh,m3="__lodash_hash_undefined__",g3=Object.prototype,y3=g3.hasOwnProperty;function v3(t){var e=this.__data__;if(p3){var r=e[t];return r===m3?void 0:r}return y3.call(e,t)?e[t]:void 0}var x3=v3,b3=Yh,w3=Object.prototype,_3=w3.hasOwnProperty;function S3(t){var e=this.__data__;return b3?e[t]!==void 0:_3.call(e,t)}var E3=S3,k3=Yh,N3="__lodash_hash_undefined__";function T3(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=k3&&e===void 0?N3:e,this}var A3=T3,C3=d3,P3=h3,I3=x3,j3=E3,O3=A3;function Ds(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ds.prototype.clear=C3;Ds.prototype.delete=P3;Ds.prototype.get=I3;Ds.prototype.has=j3;Ds.prototype.set=O3;var R3=Ds;function M3(){this.__data__=[],this.size=0}var $3=M3;function D3(t,e){return t===e||t!==t&&e!==e}var dx=D3,L3=dx;function U3(t,e){for(var r=t.length;r--;)if(L3(t[r][0],e))return r;return-1}var Xh=U3,F3=Xh,B3=Array.prototype,q3=B3.splice;function V3(t){var e=this.__data__,r=F3(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():q3.call(e,r,1),--this.size,!0}var G3=V3,H3=Xh;function z3(t){var e=this.__data__,r=H3(e,t);return r<0?void 0:e[r][1]}var W3=z3,K3=Xh;function J3(t){return K3(this.__data__,t)>-1}var Y3=J3,X3=Xh;function Q3(t,e){var r=this.__data__,n=X3(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Z3=Q3,eF=$3,tF=G3,rF=W3,nF=Y3,iF=Z3;function Ls(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ls.prototype.clear=eF;Ls.prototype.delete=tF;Ls.prototype.get=rF;Ls.prototype.has=nF;Ls.prototype.set=iF;var Qh=Ls,oF=Ko,aF=jn,sF=oF(aF,"Map"),fx=sF,T_=R3,lF=Qh,uF=fx;function cF(){this.size=0,this.__data__={hash:new T_,map:new(uF||lF),string:new T_}}var dF=cF;function fF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hF=fF,pF=hF;function mF(t,e){var r=t.__data__;return pF(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Zh=mF,gF=Zh;function yF(t){var e=gF(this,t).delete(t);return this.size-=e?1:0,e}var vF=yF,xF=Zh;function bF(t){return xF(this,t).get(t)}var wF=bF,_F=Zh;function SF(t){return _F(this,t).has(t)}var EF=SF,kF=Zh;function NF(t,e){var r=kF(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var TF=NF,AF=dF,CF=vF,PF=wF,IF=EF,jF=TF;function Us(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Us.prototype.clear=AF;Us.prototype.delete=CF;Us.prototype.get=PF;Us.prototype.has=IF;Us.prototype.set=jF;var hx=Us,hP=hx,OF="Expected a function";function px(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(OF);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(px.Cache||hP),r}px.Cache=hP;var pP=px;const RF=Ve(pP);var MF=pP,$F=500;function DF(t){var e=MF(t,function(n){return r.size===$F&&r.clear(),n}),r=e.cache;return e}var LF=DF,UF=LF,FF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BF=/\\(\\)?/g,qF=UF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(FF,function(r,n,i,o){e.push(i?o.replace(BF,"$1"):n||r)}),e}),VF=qF;function GF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var mx=GF,A_=gc,HF=mx,zF=yr,WF=Ms,C_=A_?A_.prototype:void 0,P_=C_?C_.toString:void 0;function mP(t){if(typeof t=="string")return t;if(zF(t))return HF(t,mP)+"";if(WF(t))return P_?P_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var KF=mP,JF=KF;function YF(t){return t==null?"":JF(t)}var gP=YF,XF=yr,QF=ux,ZF=VF,eB=gP;function tB(t,e){return XF(t)?t:QF(t,e)?[t]:ZF(eB(t))}var yP=tB,rB=Ms;function nB(t){if(typeof t=="string"||rB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ep=nB,iB=yP,oB=ep;function aB(t,e){e=iB(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[oB(e[r++])];return r&&r==n?t:void 0}var gx=aB,sB=gx;function lB(t,e,r){var n=t==null?void 0:sB(t,e);return n===void 0?r:n}var vP=lB;const Pr=Ve(vP);function uB(t){return t==null}var cB=uB;const Ce=Ve(cB);var dB=fi,fB=yr,hB=hi,pB="[object String]";function mB(t){return typeof t=="string"||!fB(t)&&hB(t)&&dB(t)==pB}var gB=mB;const $o=Ve(gB);var xP={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=Symbol.for("react.element"),vx=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),op=Symbol.for("react.context"),yB=Symbol.for("react.server_context"),ap=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),vB=Symbol.for("react.offscreen"),bP;bP=Symbol.for("react.module.reference");function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yx:switch(t=t.type,t){case tp:case np:case rp:case sp:case lp:return t;default:switch(t=t&&t.$$typeof,t){case yB:case op:case ap:case cp:case up:case ip:return t;default:return e}}case vx:return e}}}Ge.ContextConsumer=op;Ge.ContextProvider=ip;Ge.Element=yx;Ge.ForwardRef=ap;Ge.Fragment=tp;Ge.Lazy=cp;Ge.Memo=up;Ge.Portal=vx;Ge.Profiler=np;Ge.StrictMode=rp;Ge.Suspense=sp;Ge.SuspenseList=lp;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return Xr(t)===op};Ge.isContextProvider=function(t){return Xr(t)===ip};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yx};Ge.isForwardRef=function(t){return Xr(t)===ap};Ge.isFragment=function(t){return Xr(t)===tp};Ge.isLazy=function(t){return Xr(t)===cp};Ge.isMemo=function(t){return Xr(t)===up};Ge.isPortal=function(t){return Xr(t)===vx};Ge.isProfiler=function(t){return Xr(t)===np};Ge.isStrictMode=function(t){return Xr(t)===rp};Ge.isSuspense=function(t){return Xr(t)===sp};Ge.isSuspenseList=function(t){return Xr(t)===lp};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tp||t===np||t===rp||t===sp||t===lp||t===vB||typeof t=="object"&&t!==null&&(t.$$typeof===cp||t.$$typeof===up||t.$$typeof===ip||t.$$typeof===op||t.$$typeof===ap||t.$$typeof===bP||t.getModuleId!==void 0)};Ge.typeOf=Xr;xP.exports=Ge;var xB=xP.exports,bB=fi,wB=hi,_B="[object Number]";function SB(t){return typeof t=="number"||wB(t)&&bB(t)==_B}var wP=SB;const EB=Ve(wP);var kB=wP;function NB(t){return kB(t)&&t!=+t}var TB=NB;const yc=Ve(TB);var rr=function(e){return e===0?0:e>0?1:-1},vo=function(e){return $o(e)&&e.indexOf("%")===e.length-1},oe=function(e){return EB(e)&&!yc(e)},AB=function(e){return Ce(e)},Ct=function(e){return oe(e)||$o(e)},CB=0,Fs=function(e){var r=++CB;return"".concat(e||"").concat(r)},nr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!$o(e))return n;var o;if(vo(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return yc(o)&&(o=n),i&&o>r&&(o=r),o},Ni=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},PB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Sr=function(e,r){return oe(e)&&oe(r)?function(n){return e+n*(r-e)}:function(){return r}};function pf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Pr(n,e))===r})}var IB=function(e,r){return oe(e)&&oe(r)?e-r:$o(e)&&$o(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function qa(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var jB=["viewBox","children"],OB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],I_=["points","pathLength"],Om={svg:jB,polygon:I_,polyline:I_},xx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!$s(n))return null;var i={};return Object.keys(n).forEach(function(o){xx.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},RB=function(e,r,n){return function(i){return e(r,n,i),null}},Do=function(e,r,n){if(!$s(e)||yy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];xx.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=RB(a,r,n))}),i},MB=["children"],$B=["children"];function j_(t,e){if(t==null)return{};var r=DB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}var O_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},R_=null,Rm=null,bx=function t(e){if(e===R_&&Array.isArray(Rm))return Rm;var r=[];return T.Children.forEach(e,function(n){Ce(n)||(xB.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Rm=r,R_=e,r};function Ir(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Xn(i)}):n=[Xn(e)],bx(t).forEach(function(i){var o=Pr(i,"type.displayName")||Pr(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function _r(t,e){var r=Ir(t,e);return r&&r[0]}var M_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!oe(n)||n<=0||!oe(i)||i<=0)},LB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UB=function(e){return e&&e.type&&$o(e.type)&&LB.indexOf(e.type)>=0},FB=function(e){return e&&vy(e)==="object"&&"clipDot"in e},BB=function(e,r,n,i){var o,a=(o=Om==null?void 0:Om[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ee(e)&&(i&&a.includes(r)||OB.includes(r))||n&&xx.includes(r)},be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!$s(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;BB((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},xy=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!$_(o,a))return!1}return!0},$_=function(e,r){if(Ce(e)&&Ce(r))return!0;if(!Ce(e)&&!Ce(r)){var n=e.props||{},i=n.children,o=j_(n,MB),a=r.props||{},s=a.children,l=j_(a,$B);return i&&s?qa(o,l)&&xy(i,s):!i&&!s?qa(o,l):!1}return!1},D_=function(e,r){var n=[],i={};return bx(e).forEach(function(o,a){if(UB(o))n.push(o);else if(o){var s=Xn(o.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(o,s,a);n.push(f),i[s]=!0}}}),n},qB=function(e){var r=e&&e.type;return r&&O_[r]?O_[r]:null},VB=function(e,r){return bx(r).indexOf(e)},GB=["children","width","height","viewBox","className","style","title","desc"];function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},by.apply(this,arguments)}function HB(t,e){if(t==null)return{};var r=zB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=HB(t,GB),d=i||{width:r,height:n,x:0,y:0},f=Ie("recharts-surface",o);return D.createElement("svg",by({},be(c,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var WB=["children","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_y.apply(this,arguments)}function KB(t,e){if(t==null)return{};var r=JB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var De=D.forwardRef(function(t,e){var r=t.children,n=t.className,i=KB(t,WB),o=Ie("recharts-layer",n);return D.createElement("g",_y({className:o},be(i,!0),{ref:e}),r)}),hn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function YB(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var XB=YB,QB=XB;function ZB(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:QB(t,e,r)}var e6=ZB,t6="\\ud800-\\udfff",r6="\\u0300-\\u036f",n6="\\ufe20-\\ufe2f",i6="\\u20d0-\\u20ff",o6=r6+n6+i6,a6="\\ufe0e\\ufe0f",s6="\\u200d",l6=RegExp("["+s6+t6+o6+a6+"]");function u6(t){return l6.test(t)}var _P=u6;function c6(t){return t.split("")}var d6=c6,SP="\\ud800-\\udfff",f6="\\u0300-\\u036f",h6="\\ufe20-\\ufe2f",p6="\\u20d0-\\u20ff",m6=f6+h6+p6,g6="\\ufe0e\\ufe0f",y6="["+SP+"]",Sy="["+m6+"]",Ey="\\ud83c[\\udffb-\\udfff]",v6="(?:"+Sy+"|"+Ey+")",EP="[^"+SP+"]",kP="(?:\\ud83c[\\udde6-\\uddff]){2}",NP="[\\ud800-\\udbff][\\udc00-\\udfff]",x6="\\u200d",TP=v6+"?",AP="["+g6+"]?",b6="(?:"+x6+"(?:"+[EP,kP,NP].join("|")+")"+AP+TP+")*",w6=AP+TP+b6,_6="(?:"+[EP+Sy+"?",Sy,kP,NP,y6].join("|")+")",S6=RegExp(Ey+"(?="+Ey+")|"+_6+w6,"g");function E6(t){return t.match(S6)||[]}var k6=E6,N6=d6,T6=_P,A6=k6;function C6(t){return T6(t)?A6(t):N6(t)}var P6=C6,I6=e6,j6=_P,O6=P6,R6=gP;function M6(t){return function(e){e=R6(e);var r=j6(e)?O6(e):void 0,n=r?r[0]:e.charAt(0),i=r?I6(r,1).join(""):e.slice(1);return n[t]()+i}}var $6=M6,D6=$6,L6=D6("toUpperCase"),U6=L6;const dp=Ve(U6);function Je(t){return function(){return t}}const CP=Math.cos,gf=Math.sin,yn=Math.sqrt,yf=Math.PI,fp=2*yf,ky=Math.PI,Ny=2*ky,ao=1e-6,F6=Ny-ao;function PP(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function B6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return PP;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class q6{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?PP:B6(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,c=i-r,d=a-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ao)if(!(Math.abs(f*l-c*d)>ao)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,b=i-s,y=l*l+c*c,v=g*g+b*b,x=Math.sqrt(y),_=Math.sqrt(h),w=o*Math.tan((ky-Math.acos((y+h-v)/(2*x*_)))/2),k=w/_,S=w/x;Math.abs(k-1)>ao&&this._append`L${e+k*d},${r+k*f}`,this._append`A${o},${o},0,0,${+(f*g>d*b)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,d=r+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ao||Math.abs(this._y1-d)>ao)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Ny+Ny),h>F6?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ao&&this._append`A${n},${n},0,${+(h>=ky)},${f},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new q6(e)}function _x(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IP(t){this._context=t}IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hp(t){return new IP(t)}function jP(t){return t[0]}function OP(t){return t[1]}function RP(t,e){var r=Je(!0),n=null,i=hp,o=null,a=wx(s);t=typeof t=="function"?t:t===void 0?jP:Je(t),e=typeof e=="function"?e:e===void 0?OP:Je(e);function s(l){var c,d=(l=_x(l)).length,f,h=!1,g;for(n==null&&(o=i(g=a())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Je(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Kc(t,e,r){var n=null,i=Je(!0),o=null,a=hp,s=null,l=wx(c);t=typeof t=="function"?t:t===void 0?jP:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?OP:Je(+r);function c(f){var h,g,b,y=(f=_x(f)).length,v,x=!1,_,w=new Array(y),k=new Array(y);for(o==null&&(s=a(_=l())),h=0;h<=y;++h){if(!(h<y&&i(v=f[h],h,f))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=h-1;b>=g;--b)s.point(w[b],k[b]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+t(v,h,f),k[h]=+e(v,h,f),s.point(n?+n(v,h,f):w[h],r?+r(v,h,f):k[h]))}if(_)return s=null,_+""||null}function d(){return RP().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Je(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Je(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Je(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Je(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Je(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Je(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Je(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class MP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function V6(t){return new MP(t,!0)}function G6(t){return new MP(t,!1)}const Sx={draw(t,e){const r=yn(e/yf);t.moveTo(r,0),t.arc(0,0,r,0,fp)}},H6={draw(t,e){const r=yn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$P=yn(1/3),z6=$P*2,W6={draw(t,e){const r=yn(e/z6),n=r*$P;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},K6={draw(t,e){const r=yn(e),n=-r/2;t.rect(n,n,r,r)}},J6=.8908130915292852,DP=gf(yf/10)/gf(7*yf/10),Y6=gf(fp/10)*DP,X6=-CP(fp/10)*DP,Q6={draw(t,e){const r=yn(e*J6),n=Y6*r,i=X6*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=fp*o/5,s=CP(a),l=gf(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Mm=yn(3),Z6={draw(t,e){const r=-yn(e/(Mm*3));t.moveTo(0,r*2),t.lineTo(-Mm*r,-r),t.lineTo(Mm*r,-r),t.closePath()}},Dr=-.5,Lr=yn(3)/2,Ty=1/yn(12),eq=(Ty/2+1)*3,tq={draw(t,e){const r=yn(e/eq),n=r/2,i=r*Ty,o=n,a=r*Ty+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Dr*n-Lr*i,Lr*n+Dr*i),t.lineTo(Dr*o-Lr*a,Lr*o+Dr*a),t.lineTo(Dr*s-Lr*l,Lr*s+Dr*l),t.lineTo(Dr*n+Lr*i,Dr*i-Lr*n),t.lineTo(Dr*o+Lr*a,Dr*a-Lr*o),t.lineTo(Dr*s+Lr*l,Dr*l-Lr*s),t.closePath()}};function rq(t,e){let r=null,n=wx(i);t=typeof t=="function"?t:Je(t||Sx),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Je(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function vf(){}function xf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function LP(t){this._context=t}LP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nq(t){return new LP(t)}function UP(t){this._context=t}UP.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iq(t){return new UP(t)}function FP(t){this._context=t}FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oq(t){return new FP(t)}function BP(t){this._context=t}BP.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aq(t){return new BP(t)}function L_(t){return t<0?-1:1}function U_(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(L_(o)+L_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function F_(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $m(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function bf(t){this._context=t}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$m(this,this._t0,F_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$m(this,F_(this,r=U_(this,t,e)),r);break;default:$m(this,this._t0,r=U_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function qP(t){this._context=new VP(t)}(qP.prototype=Object.create(bf.prototype)).point=function(t,e){bf.prototype.point.call(this,e,t)};function VP(t){this._context=t}VP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function sq(t){return new bf(t)}function lq(t){return new qP(t)}function GP(t){this._context=t}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=B_(t),i=B_(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function B_(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function uq(t){return new GP(t)}function pp(t,e){this._context=t,this._t=e}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cq(t){return new pp(t,.5)}function dq(t){return new pp(t,0)}function fq(t){return new pp(t,1)}function ns(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ay(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function hq(t,e){return t[e]}function pq(t){const e=[];return e.key=t,e}function mq(){var t=Je([]),e=Ay,r=ns,n=hq;function i(o){var a=Array.from(t.apply(this,arguments),pq),s,l=a.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(f,a[s].key,c,o)]).data=f;for(s=0,d=_x(e(a));s<l;++s)a[d[s]].index=s;return r(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Je(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?Ay:typeof o=="function"?o:Je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??ns,i):r},i}function gq(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}ns(t,e)}}function yq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}ns(t,e)}}function vq(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,b=0;b<s;++b){var y=t[e[b]],v=y[n][1]||0,x=y[n-1][1]||0;g+=v-x}l+=f,c+=g*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ns(t,e)}}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}var xq=["type","size","sizeType"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cy.apply(this,arguments)}function q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(r),!0).forEach(function(n){bq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bq(t,e,r){return e=wq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wq(t){var e=_q(t,"string");return _u(e)=="symbol"?e:e+""}function _q(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sq(t,e){if(t==null)return{};var r=Eq(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HP={symbolCircle:Sx,symbolCross:H6,symbolDiamond:W6,symbolSquare:K6,symbolStar:Q6,symbolTriangle:Z6,symbolWye:tq},kq=Math.PI/180,Nq=function(e){var r="symbol".concat(dp(e));return HP[r]||Sx},Tq=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Aq=function(e,r){HP["symbol".concat(dp(e))]=r},Ex=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Sq(e,xq),c=V_(V_({},l),{},{type:n,size:o,sizeType:s}),d=function(){var v=Nq(n),x=rq().type(v).size(Tq(o,s,n));return x()},f=c.className,h=c.cx,g=c.cy,b=be(c,!0);return h===+h&&g===+g&&o===+o?D.createElement("path",Cy({},b,{className:Ie("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Ex.registerSymbol=Aq;function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Py.apply(this,arguments)}function G_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(r),!0).forEach(function(n){Su(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WP(n.key),n)}}function jq(t,e,r){return e&&Iq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oq(t,e,r){return e=wf(e),Rq(t,zP()?Reflect.construct(e,r||[],wf(t).constructor):e.apply(t,r))}function Rq(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(t)}function Mq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(t)}function $q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iy(t,e)}function Su(t,e,r){return e=WP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WP(t){var e=Dq(t,"string");return is(e)=="symbol"?e:e+""}function Dq(t,e){if(is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=32,kx=function(t){function e(){return Pq(this,e),Oq(this,e,arguments)}return $q(e,t),jq(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Ur/2,a=Ur/6,s=Ur/3,l=n.inactive?i:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Ur,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ur,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ur/8,"h").concat(Ur,"v").concat(Ur*3/4,"h").concat(-Ur,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var c=Cq({},n);return delete c.legendIcon,D.cloneElement(n.legendIcon,c)}return D.createElement(Ex,{fill:l,cx:o,cy:o,size:Ur,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Ur,height:Ur},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,b){var y=g.formatter||l,v=Ie(Su(Su({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Ee(g.value)?null:g.value;hn(!Ee(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?c:g.color;return D.createElement("li",Py({className:v,style:f,key:"legend-item-".concat(b)},Do(n.props,g,b)),D.createElement(wy,{width:a,height:a,viewBox:d,style:h},n.renderIcon(g)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(x,g,b):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(T.PureComponent);Su(kx,"displayName","Legend");Su(kx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lq=Qh;function Uq(){this.__data__=new Lq,this.size=0}var Fq=Uq;function Bq(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var qq=Bq;function Vq(t){return this.__data__.get(t)}var Gq=Vq;function Hq(t){return this.__data__.has(t)}var zq=Hq,Wq=Qh,Kq=fx,Jq=hx,Yq=200;function Xq(t,e){var r=this.__data__;if(r instanceof Wq){var n=r.__data__;if(!Kq||n.length<Yq-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jq(n)}return r.set(t,e),this.size=r.size,this}var Qq=Xq,Zq=Qh,e8=Fq,t8=qq,r8=Gq,n8=zq,i8=Qq;function Bs(t){var e=this.__data__=new Zq(t);this.size=e.size}Bs.prototype.clear=e8;Bs.prototype.delete=t8;Bs.prototype.get=r8;Bs.prototype.has=n8;Bs.prototype.set=i8;var KP=Bs,o8="__lodash_hash_undefined__";function a8(t){return this.__data__.set(t,o8),this}var s8=a8;function l8(t){return this.__data__.has(t)}var u8=l8,c8=hx,d8=s8,f8=u8;function _f(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new c8;++e<r;)this.add(t[e])}_f.prototype.add=_f.prototype.push=d8;_f.prototype.has=f8;var JP=_f;function h8(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var YP=h8;function p8(t,e){return t.has(e)}var XP=p8,m8=JP,g8=YP,y8=XP,v8=1,x8=2;function b8(t,e,r,n,i,o){var a=r&v8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,g=r&x8?new m8:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var b=t[f],y=e[f];if(n)var v=a?n(y,b,f,e,t,o):n(b,y,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(g){if(!g8(e,function(x,_){if(!y8(g,_)&&(b===x||i(b,x,r,n,o)))return g.push(_)})){h=!1;break}}else if(!(b===y||i(b,y,r,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var QP=b8,w8=jn,_8=w8.Uint8Array,S8=_8;function E8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var k8=E8;function N8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Nx=N8,H_=gc,z_=S8,T8=dx,A8=QP,C8=k8,P8=Nx,I8=1,j8=2,O8="[object Boolean]",R8="[object Date]",M8="[object Error]",$8="[object Map]",D8="[object Number]",L8="[object RegExp]",U8="[object Set]",F8="[object String]",B8="[object Symbol]",q8="[object ArrayBuffer]",V8="[object DataView]",W_=H_?H_.prototype:void 0,Dm=W_?W_.valueOf:void 0;function G8(t,e,r,n,i,o,a){switch(r){case V8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case q8:return!(t.byteLength!=e.byteLength||!o(new z_(t),new z_(e)));case O8:case R8:case D8:return T8(+t,+e);case M8:return t.name==e.name&&t.message==e.message;case L8:case F8:return t==e+"";case $8:var s=C8;case U8:var l=n&I8;if(s||(s=P8),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=j8,a.set(t,e);var d=A8(s(t),s(e),n,i,o,a);return a.delete(t),d;case B8:if(Dm)return Dm.call(t)==Dm.call(e)}return!1}var H8=G8;function z8(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var ZP=z8,W8=ZP,K8=yr;function J8(t,e,r){var n=e(t);return K8(t)?n:W8(n,r(t))}var Y8=J8;function X8(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var Q8=X8;function Z8(){return[]}var eV=Z8,tV=Q8,rV=eV,nV=Object.prototype,iV=nV.propertyIsEnumerable,K_=Object.getOwnPropertySymbols,oV=K_?function(t){return t==null?[]:(t=Object(t),tV(K_(t),function(e){return iV.call(t,e)}))}:rV,aV=oV;function sV(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var lV=sV,uV=fi,cV=hi,dV="[object Arguments]";function fV(t){return cV(t)&&uV(t)==dV}var hV=fV,J_=hV,pV=hi,eI=Object.prototype,mV=eI.hasOwnProperty,gV=eI.propertyIsEnumerable,yV=J_(function(){return arguments}())?J_:function(t){return pV(t)&&mV.call(t,"callee")&&!gV.call(t,"callee")},Tx=yV,Sf={exports:{}};function vV(){return!1}var xV=vV;Sf.exports;(function(t,e){var r=jn,n=xV,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Sf,Sf.exports);var tI=Sf.exports,bV=9007199254740991,wV=/^(?:0|[1-9]\d*)$/;function _V(t,e){var r=typeof t;return e=e??bV,!!e&&(r=="number"||r!="symbol"&&wV.test(t))&&t>-1&&t%1==0&&t<e}var Ax=_V,SV=9007199254740991;function EV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SV}var Cx=EV,kV=fi,NV=Cx,TV=hi,AV="[object Arguments]",CV="[object Array]",PV="[object Boolean]",IV="[object Date]",jV="[object Error]",OV="[object Function]",RV="[object Map]",MV="[object Number]",$V="[object Object]",DV="[object RegExp]",LV="[object Set]",UV="[object String]",FV="[object WeakMap]",BV="[object ArrayBuffer]",qV="[object DataView]",VV="[object Float32Array]",GV="[object Float64Array]",HV="[object Int8Array]",zV="[object Int16Array]",WV="[object Int32Array]",KV="[object Uint8Array]",JV="[object Uint8ClampedArray]",YV="[object Uint16Array]",XV="[object Uint32Array]",Ze={};Ze[VV]=Ze[GV]=Ze[HV]=Ze[zV]=Ze[WV]=Ze[KV]=Ze[JV]=Ze[YV]=Ze[XV]=!0;Ze[AV]=Ze[CV]=Ze[BV]=Ze[PV]=Ze[qV]=Ze[IV]=Ze[jV]=Ze[OV]=Ze[RV]=Ze[MV]=Ze[$V]=Ze[DV]=Ze[LV]=Ze[UV]=Ze[FV]=!1;function QV(t){return TV(t)&&NV(t.length)&&!!Ze[kV(t)]}var ZV=QV;function e7(t){return function(e){return t(e)}}var rI=e7,Ef={exports:{}};Ef.exports;(function(t,e){var r=cP,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Ef,Ef.exports);var t7=Ef.exports,r7=ZV,n7=rI,Y_=t7,X_=Y_&&Y_.isTypedArray,i7=X_?n7(X_):r7,nI=i7,o7=lV,a7=Tx,s7=yr,l7=tI,u7=Ax,c7=nI,d7=Object.prototype,f7=d7.hasOwnProperty;function h7(t,e){var r=s7(t),n=!r&&a7(t),i=!r&&!n&&l7(t),o=!r&&!n&&!i&&c7(t),a=r||n||i||o,s=a?o7(t.length,String):[],l=s.length;for(var c in t)(e||f7.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||u7(c,l)))&&s.push(c);return s}var p7=h7,m7=Object.prototype;function g7(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||m7;return t===r}var y7=g7;function v7(t,e){return function(r){return t(e(r))}}var iI=v7,x7=iI,b7=x7(Object.keys,Object),w7=b7,_7=y7,S7=w7,E7=Object.prototype,k7=E7.hasOwnProperty;function N7(t){if(!_7(t))return S7(t);var e=[];for(var r in Object(t))k7.call(t,r)&&r!="constructor"&&e.push(r);return e}var T7=N7,A7=cx,C7=Cx;function P7(t){return t!=null&&C7(t.length)&&!A7(t)}var vc=P7,I7=p7,j7=T7,O7=vc;function R7(t){return O7(t)?I7(t):j7(t)}var mp=R7,M7=Y8,$7=aV,D7=mp;function L7(t){return M7(t,D7,$7)}var U7=L7,Q_=U7,F7=1,B7=Object.prototype,q7=B7.hasOwnProperty;function V7(t,e,r,n,i,o){var a=r&F7,s=Q_(t),l=s.length,c=Q_(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:q7.call(e,h)))return!1}var g=o.get(t),b=o.get(e);if(g&&b)return g==e&&b==t;var y=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){h=s[f];var x=t[h],_=e[h];if(n)var w=a?n(_,x,h,e,t,o):n(x,_,h,t,e,o);if(!(w===void 0?x===_||i(x,_,r,n,o):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var G7=V7,H7=Ko,z7=jn,W7=H7(z7,"DataView"),K7=W7,J7=Ko,Y7=jn,X7=J7(Y7,"Promise"),Q7=X7,Z7=Ko,eG=jn,tG=Z7(eG,"Set"),oI=tG,rG=Ko,nG=jn,iG=rG(nG,"WeakMap"),oG=iG,jy=K7,Oy=fx,Ry=Q7,My=oI,$y=oG,aI=fi,qs=fP,Z_="[object Map]",aG="[object Object]",eS="[object Promise]",tS="[object Set]",rS="[object WeakMap]",nS="[object DataView]",sG=qs(jy),lG=qs(Oy),uG=qs(Ry),cG=qs(My),dG=qs($y),so=aI;(jy&&so(new jy(new ArrayBuffer(1)))!=nS||Oy&&so(new Oy)!=Z_||Ry&&so(Ry.resolve())!=eS||My&&so(new My)!=tS||$y&&so(new $y)!=rS)&&(so=function(t){var e=aI(t),r=e==aG?t.constructor:void 0,n=r?qs(r):"";if(n)switch(n){case sG:return nS;case lG:return Z_;case uG:return eS;case cG:return tS;case dG:return rS}return e});var fG=so,Lm=KP,hG=QP,pG=H8,mG=G7,iS=fG,oS=yr,aS=tI,gG=nI,yG=1,sS="[object Arguments]",lS="[object Array]",Jc="[object Object]",vG=Object.prototype,uS=vG.hasOwnProperty;function xG(t,e,r,n,i,o){var a=oS(t),s=oS(e),l=a?lS:iS(t),c=s?lS:iS(e);l=l==sS?Jc:l,c=c==sS?Jc:c;var d=l==Jc,f=c==Jc,h=l==c;if(h&&aS(t)){if(!aS(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Lm),a||gG(t)?hG(t,e,r,n,i,o):pG(t,e,l,r,n,i,o);if(!(r&yG)){var g=d&&uS.call(t,"__wrapped__"),b=f&&uS.call(e,"__wrapped__");if(g||b){var y=g?t.value():t,v=b?e.value():e;return o||(o=new Lm),i(y,v,r,n,o)}}return h?(o||(o=new Lm),mG(t,e,r,n,i,o)):!1}var bG=xG,wG=bG,cS=hi;function sI(t,e,r,n,i){return t===e?!0:t==null||e==null||!cS(t)&&!cS(e)?t!==t&&e!==e:wG(t,e,r,n,sI,i)}var Px=sI,_G=KP,SG=Px,EG=1,kG=2;function NG(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new _G;if(n)var h=n(c,d,l,t,e,f);if(!(h===void 0?SG(d,c,EG|kG,n,f):h))return!1}}return!0}var TG=NG,AG=Wi;function CG(t){return t===t&&!AG(t)}var lI=CG,PG=lI,IG=mp;function jG(t){for(var e=IG(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,PG(i)]}return e}var OG=jG;function RG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uI=RG,MG=TG,$G=OG,DG=uI;function LG(t){var e=$G(t);return e.length==1&&e[0][2]?DG(e[0][0],e[0][1]):function(r){return r===t||MG(r,t,e)}}var UG=LG;function FG(t,e){return t!=null&&e in Object(t)}var BG=FG,qG=yP,VG=Tx,GG=yr,HG=Ax,zG=Cx,WG=ep;function KG(t,e,r){e=qG(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=WG(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&zG(i)&&HG(a,i)&&(GG(t)||VG(t)))}var JG=KG,YG=BG,XG=JG;function QG(t,e){return t!=null&&XG(t,e,YG)}var ZG=QG,eH=Px,tH=vP,rH=ZG,nH=ux,iH=lI,oH=uI,aH=ep,sH=1,lH=2;function uH(t,e){return nH(t)&&iH(e)?oH(aH(t),e):function(r){var n=tH(r,t);return n===void 0&&n===e?rH(r,t):eH(e,n,sH|lH)}}var cH=uH;function dH(t){return t}var Vs=dH;function fH(t){return function(e){return e==null?void 0:e[t]}}var hH=fH,pH=gx;function mH(t){return function(e){return pH(e,t)}}var gH=mH,yH=hH,vH=gH,xH=ux,bH=ep;function wH(t){return xH(t)?yH(bH(t)):vH(t)}var _H=wH,SH=UG,EH=cH,kH=Vs,NH=yr,TH=_H;function AH(t){return typeof t=="function"?t:t==null?kH:typeof t=="object"?NH(t)?EH(t[0],t[1]):SH(t):TH(t)}var On=AH;function CH(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var cI=CH;function PH(t){return t!==t}var IH=PH;function jH(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var OH=jH,RH=cI,MH=IH,$H=OH;function DH(t,e,r){return e===e?$H(t,e,r):RH(t,MH,r)}var LH=DH,UH=LH;function FH(t,e){var r=t==null?0:t.length;return!!r&&UH(t,e,0)>-1}var BH=FH;function qH(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var VH=qH;function GH(){}var HH=GH,Um=oI,zH=HH,WH=Nx,KH=1/0,JH=Um&&1/WH(new Um([,-0]))[1]==KH?function(t){return new Um(t)}:zH,YH=JH,XH=JP,QH=BH,ZH=VH,ez=XP,tz=YH,rz=Nx,nz=200;function iz(t,e,r){var n=-1,i=QH,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=ZH;else if(o>=nz){var c=e?null:tz(t);if(c)return rz(c);a=!1,i=ez,l=new XH}else l=e?[]:s;e:for(;++n<o;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var oz=iz,az=On,sz=oz;function lz(t,e){return t&&t.length?sz(t,az(e)):[]}var uz=lz;const dS=Ve(uz);function dI(t,e,r){return e===!0?dS(t,r):Ee(e)?dS(t,e):t}function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}var cz=["ref"];function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){gp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hI(n.key),n)}}function fz(t,e,r){return e&&hS(t.prototype,e),r&&hS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hz(t,e,r){return e=kf(e),pz(t,fI()?Reflect.construct(e,r||[],kf(t).constructor):e.apply(t,r))}function pz(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mz(t)}function mz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(t)}function gz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dy(t,e)}function gp(t,e,r){return e=hI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hI(t){var e=yz(t,"string");return os(e)=="symbol"?e:e+""}function yz(t,e){if(os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vz(t,e){if(t==null)return{};var r=xz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bz(t){return t.value}function wz(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var r=vz(e,cz);return D.createElement(kx,r)}var pS=1,No=function(t){function e(){var r;dz(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=hz(this,e,[].concat(i)),gp(r,"lastBoundingBox",{width:-1,height:-1}),r}return gz(e,t),fz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pS||Math.abs(i.height-this.lastBoundingBox.height)>pS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ln({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ln(Ln({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Ln(Ln({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},wz(o,Ln(Ln({},this.props),{},{payload:dI(d,c,bz)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ln(Ln({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&oe(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);gp(No,"displayName","Legend");gp(No,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mS=gc,_z=Tx,Sz=yr,gS=mS?mS.isConcatSpreadable:void 0;function Ez(t){return Sz(t)||_z(t)||!!(gS&&t&&t[gS])}var kz=Ez,Nz=ZP,Tz=kz;function pI(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=Tz),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?pI(s,e-1,r,n,i):Nz(i,s):n||(i[i.length]=s)}return i}var mI=pI;function Az(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++i];if(r(o[l],l,o)===!1)break}return e}}var Cz=Az,Pz=Cz,Iz=Pz(),jz=Iz,Oz=jz,Rz=mp;function Mz(t,e){return t&&Oz(t,e,Rz)}var gI=Mz,$z=vc;function Dz(t,e){return function(r,n){if(r==null)return r;if(!$z(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var Lz=Dz,Uz=gI,Fz=Lz,Bz=Fz(Uz),Ix=Bz,qz=Ix,Vz=vc;function Gz(t,e){var r=-1,n=Vz(t)?Array(t.length):[];return qz(t,function(i,o,a){n[++r]=e(i,o,a)}),n}var yI=Gz;function Hz(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var zz=Hz,yS=Ms;function Wz(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=yS(t),a=e!==void 0,s=e===null,l=e===e,c=yS(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}var Kz=Wz,Jz=Kz;function Yz(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var l=Jz(i[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Xz=Yz,Fm=mx,Qz=gx,Zz=On,eW=yI,tW=zz,rW=rI,nW=Xz,iW=Vs,oW=yr;function aW(t,e,r){e.length?e=Fm(e,function(o){return oW(o)?function(a){return Qz(a,o.length===1?o[0]:o)}:o}):e=[iW];var n=-1;e=Fm(e,rW(Zz));var i=eW(t,function(o,a,s){var l=Fm(e,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return tW(i,function(o,a){return nW(o,a,r)})}var sW=aW;function lW(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var uW=lW,cW=uW,vS=Math.max;function dW(t,e,r){return e=vS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=vS(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),cW(t,this,s)}}var fW=dW;function hW(t){return function(){return t}}var pW=hW,mW=Ko,gW=function(){try{var t=mW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vI=gW,yW=pW,xS=vI,vW=Vs,xW=xS?function(t,e){return xS(t,"toString",{configurable:!0,enumerable:!1,value:yW(e),writable:!0})}:vW,bW=xW,wW=800,_W=16,SW=Date.now;function EW(t){var e=0,r=0;return function(){var n=SW(),i=_W-(n-r);if(r=n,i>0){if(++e>=wW)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var kW=EW,NW=bW,TW=kW,AW=TW(NW),CW=AW,PW=Vs,IW=fW,jW=CW;function OW(t,e){return jW(IW(t,e,PW),t+"")}var RW=OW,MW=dx,$W=vc,DW=Ax,LW=Wi;function UW(t,e,r){if(!LW(r))return!1;var n=typeof e;return(n=="number"?$W(r)&&DW(e,r.length):n=="string"&&e in r)?MW(r[e],t):!1}var yp=UW,FW=mI,BW=sW,qW=RW,bS=yp,VW=qW(function(t,e){if(t==null)return[];var r=e.length;return r>1&&bS(t,e[0],e[1])?e=[]:r>2&&bS(e[0],e[1],e[2])&&(e=[e[0]]),BW(t,FW(e,1),[])}),GW=VW;const jx=Ve(GW);function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ly.apply(this,arguments)}function HW(t,e){return JW(t)||KW(t,e)||WW(t,e)||zW()}function zW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(t,e){if(t){if(typeof t=="string")return wS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function JW(t){if(Array.isArray(t))return t}function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=XW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XW(t){var e=QW(t,"string");return Eu(e)=="symbol"?e:e+""}function QW(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZW(t){return Array.isArray(t)&&Ct(t[0])&&Ct(t[1])?t.join(" ~ "):t}var e9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,b=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,w=function(){if(d&&d.length){var L={padding:0,margin:0},O=(h?jx(d,h):d).map(function(j,P){if(j.type==="none")return null;var $=Bm({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},s),B=j.formatter||f||ZW,F=j.value,G=j.name,H=F,X=G;if(B&&H!=null&&X!=null){var z=B(F,G,j,P,d);if(Array.isArray(z)){var ue=HW(z,2);H=ue[0],X=ue[1]}else H=z}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:$},Ct(X)?D.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Ct(X)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},H),D.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:L},O)}return null},k=Bm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Bm({margin:0},c),E=!Ce(y),N=E?y:"",A=Ie("recharts-default-tooltip",g),C=Ie("recharts-tooltip-label",b);E&&v&&d!==void 0&&d!==null&&(N=v(y,d));var I=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Ly({className:A,style:k},I),D.createElement("p",{className:C,style:S},D.isValidElement(N)?N:"".concat(N)),w())};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Yc(t,e,r){return e=t9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t9(t){var e=r9(t,"string");return ku(e)=="symbol"?e:e+""}function r9(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ll="recharts-tooltip-wrapper",n9={visibility:"hidden"};function i9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ie(ll,Yc(Yc(Yc(Yc({},"".concat(ll,"-right"),oe(r)&&e&&oe(e.x)&&r>=e.x),"".concat(ll,"-left"),oe(r)&&e&&oe(e.x)&&r<e.x),"".concat(ll,"-bottom"),oe(n)&&e&&oe(e.y)&&n>=e.y),"".concat(ll,"-top"),oe(n)&&e&&oe(e.y)&&n<e.y))}function SS(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&oe(o[n]))return o[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return a[n]?d:f;if(a[n]){var h=d,g=l[n];return h<g?Math.max(f,l[n]):Math.max(d,l[n])}var b=f+s,y=l[n]+c;return b>y?Math.max(d,l[n]):Math.max(f,l[n])}function o9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function a9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&r?(d=SS({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=SS({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=o9({translateX:d,translateY:f,useTranslate3d:s})):c=n9,{cssProperties:c,cssClasses:i9({translateX:d,translateY:f,coordinate:r})}}function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function ES(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(r),!0).forEach(function(n){Fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bI(n.key),n)}}function u9(t,e,r){return e&&l9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c9(t,e,r){return e=Nf(e),d9(t,xI()?Reflect.construct(e,r||[],Nf(t).constructor):e.apply(t,r))}function d9(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f9(t)}function f9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(t)}function h9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uy(t,e)}function Fy(t,e,r){return e=bI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bI(t){var e=p9(t,"string");return as(e)=="symbol"?e:e+""}function p9(t,e){if(as(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NS=1,m9=function(t){function e(){var r;s9(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=c9(this,e,[].concat(i)),Fy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Fy(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return h9(e,t),u9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NS||Math.abs(n.height-this.state.lastBoundingBox.height)>NS)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,b=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=a9({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),k=w.cssClasses,S=w.cssProperties,E=kS(kS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:k,style:E,ref:function(A){n.wrapperNode=A}},c)}}])}(T.PureComponent),g9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jo={isSsr:g9()};function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_I(n.key),n)}}function x9(t,e,r){return e&&v9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9(t,e,r){return e=Tf(e),w9(t,wI()?Reflect.construct(e,r||[],Tf(t).constructor):e.apply(t,r))}function w9(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9(t)}function _9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(t)}function S9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},By(t,e)}function Ox(t,e,r){return e=_I(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _I(t){var e=E9(t,"string");return ss(e)=="symbol"?e:e+""}function E9(t,e){if(ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k9(t){return t.dataKey}function N9(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(e9,e)}var ur=function(t){function e(){return y9(this,e),b9(this,e,arguments)}return S9(e,t),x9(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,b=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,S=b??[];f&&S.length&&(S=dI(b.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),y,k9));var E=S.length>0;return D.createElement(m9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:E,offset:g,position:v,reverseDirection:x,useTranslate3d:_,viewBox:w,wrapperStyle:k},N9(c,AS(AS({},this.props),{},{payload:S})))}}])}(T.PureComponent);Ox(ur,"displayName","Tooltip");Ox(ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var T9=jn,A9=function(){return T9.Date.now()},C9=A9,P9=/\s/;function I9(t){for(var e=t.length;e--&&P9.test(t.charAt(e)););return e}var j9=I9,O9=j9,R9=/^\s+/;function M9(t){return t&&t.slice(0,O9(t)+1).replace(R9,"")}var $9=M9,D9=$9,CS=Wi,L9=Ms,PS=NaN,U9=/^[-+]0x[0-9a-f]+$/i,F9=/^0b[01]+$/i,B9=/^0o[0-7]+$/i,q9=parseInt;function V9(t){if(typeof t=="number")return t;if(L9(t))return PS;if(CS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=D9(t);var r=F9.test(t);return r||B9.test(t)?q9(t.slice(2),r?2:8):U9.test(t)?PS:+t}var SI=V9,G9=Wi,qm=C9,IS=SI,H9="Expected a function",z9=Math.max,W9=Math.min;function K9(t,e,r){var n,i,o,a,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(H9);e=IS(e)||0,G9(r)&&(d=!!r.leading,f="maxWait"in r,o=f?z9(IS(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function g(E){var N=n,A=i;return n=i=void 0,c=E,a=t.apply(A,N),a}function b(E){return c=E,s=setTimeout(x,e),d?g(E):a}function y(E){var N=E-l,A=E-c,C=e-N;return f?W9(C,o-A):C}function v(E){var N=E-l,A=E-c;return l===void 0||N>=e||N<0||f&&A>=o}function x(){var E=qm();if(v(E))return _(E);s=setTimeout(x,y(E))}function _(E){return s=void 0,h&&n?g(E):(n=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function k(){return s===void 0?a:_(qm())}function S(){var E=qm(),N=v(E);if(n=arguments,i=this,l=E,N){if(s===void 0)return b(l);if(f)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=w,S.flush=k,S}var J9=K9,Y9=J9,X9=Wi,Q9="Expected a function";function Z9(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Q9);return X9(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Y9(t,e,{leading:n,maxWait:e,trailing:i})}var eK=Z9;const EI=Ve(eK);function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function jS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(r),!0).forEach(function(n){tK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tK(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=nK(t,"string");return Nu(e)=="symbol"?e:e+""}function nK(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t,e){return lK(t)||sK(t,e)||aK(t,e)||oK()}function oK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(t,e){if(t){if(typeof t=="string")return OS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OS(t,e)}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lK(t){if(Array.isArray(t))return t}var xo=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,g=t.children,b=t.debounce,y=b===void 0?0:b,v=t.id,x=t.className,_=t.onResize,w=t.style,k=w===void 0?{}:w,S=T.useRef(null),E=T.useRef();E.current=_,T.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var N=T.useState({containerWidth:i.width,containerHeight:i.height}),A=iK(N,2),C=A[0],I=A[1],M=T.useCallback(function(O,j){I(function(P){var $=Math.round(O),B=Math.round(j);return P.containerWidth===$&&P.containerHeight===B?P:{containerWidth:$,containerHeight:B}})},[]);T.useEffect(function(){var O=function(G){var H,X=G[0].contentRect,z=X.width,ue=X.height;M(z,ue),(H=E.current)===null||H===void 0||H.call(E,z,ue)};y>0&&(O=EI(O,y,{trailing:!0,leading:!1}));var j=new ResizeObserver(O),P=S.current.getBoundingClientRect(),$=P.width,B=P.height;return M($,B),j.observe(S.current),function(){j.disconnect()}},[M,y]);var L=T.useMemo(function(){var O=C.containerWidth,j=C.containerHeight;if(O<0||j<0)return null;hn(vo(a)||vo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=vo(a)?O:a,$=vo(l)?j:l;r&&r>0&&(P?$=P/r:$&&(P=$*r),h&&$>h&&($=h)),hn(P>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,a,l,d,f,r);var B=!Array.isArray(g)&&Xn(g.type).endsWith("Chart");return D.Children.map(g,function(F){return D.isValidElement(F)?T.cloneElement(F,Xc({width:P,height:$},B?{style:Xc({height:"100%",width:"100%",maxHeight:$,maxWidth:P},F.props.style)}:{})):F})},[r,g,l,h,f,d,C,a]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Ie("recharts-responsive-container",x),style:Xc(Xc({},k),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},L)}),Tu=function(e){return null};Tu.displayName="Cell";function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){uK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uK(t,e,r){return e=cK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cK(t){var e=dK(t,"string");return Au(e)=="symbol"?e:e+""}function dK(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sa={widthCache:{},cacheCount:0},fK=2e3,hK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MS="recharts_measurement_span";function pK(t){var e=qy({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jo.isSsr)return{width:0,height:0};var n=pK(r),i=JSON.stringify({text:e,copyStyle:n});if(sa.widthCache[i])return sa.widthCache[i];try{var o=document.getElementById(MS);o||(o=document.createElement("span"),o.setAttribute("id",MS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=qy(qy({},hK),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return sa.widthCache[i]=l,++sa.cacheCount>fK&&(sa.cacheCount=0,sa.widthCache={}),l}catch{return{width:0,height:0}}},mK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Af(t,e){return xK(t)||vK(t,e)||yK(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(t,e){if(t){if(typeof t=="string")return $S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(t,e)}}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function xK(t){if(Array.isArray(t))return t}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function wK(t,e,r){return e&&DS(t.prototype,e),r&&DS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t){var e=SK(t,"string");return Cu(e)=="symbol"?e:e+""}function SK(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,US=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NK=Object.keys(kI),Aa="NaN";function TK(t,e){return t*kI[e]}var Qc=function(){function t(e,r){bK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!EK.test(r)&&(this.num=NaN,this.unit=""),NK.includes(r)&&(this.num=TK(e,r),this.unit="px")}return wK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=kK.exec(r))!==null&&n!==void 0?n:[],o=Af(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function NI(t){if(t.includes(Aa))return Aa;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=LS.exec(e))!==null&&r!==void 0?r:[],i=Af(n,4),o=i[1],a=i[2],s=i[3],l=Qc.parse(o??""),c=Qc.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Aa;e=e.replace(LS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=US.exec(e))!==null&&f!==void 0?f:[],g=Af(h,4),b=g[1],y=g[2],v=g[3],x=Qc.parse(b??""),_=Qc.parse(v??""),w=y==="+"?x.add(_):x.subtract(_);if(w.isNaN())return Aa;e=e.replace(US,w.toString())}return e}var FS=/\(([^()]*)\)/;function AK(t){for(var e=t;e.includes("(");){var r=FS.exec(e),n=Af(r,2),i=n[1];e=e.replace(FS,NI(i))}return e}function CK(t){var e=t.replace(/\s+/g,"");return e=AK(e),e=NI(e),e}function PK(t){try{return CK(t)}catch{return Aa}}function Vm(t){var e=PK(t.slice(5,-1));return e===Aa?"":e}var IK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jK=["dx","dy","angle","className","breakAll"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function BS(t,e){if(t==null)return{};var r=OK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qS(t,e){return DK(t)||$K(t,e)||MK(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return VS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(t,e)}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $K(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function DK(t){if(Array.isArray(t))return t}var TI=/[ \f\n\r\t\v\u2028\u2029]+/,AI=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Ce(r)||(n?o=r.toString().split(""):o=r.toString().split(TI));var a=o.map(function(l){return{word:l,width:Bl(l,i).width}}),s=n?0:Bl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},LK=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=oe(a),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function($,B){var F=B.word,G=B.width,H=$[$.length-1];if(H&&(i==null||o||H.width+G+n<Number(i)))H.words.push(F),H.width+=G+n;else{var X={words:[F],width:G};$.push(X)}return $},[])},g=h(r),b=function(P){return P.reduce(function($,B){return $.width>B.width?$:B})};if(!d)return g;for(var y="",v=function(P){var $=f.slice(0,P),B=AI({breakAll:c,style:l,children:$+y}).wordsWithComputedWidth,F=h(B),G=F.length>a||b(F).width>Number(i);return[G,F]},x=0,_=f.length-1,w=0,k;x<=_&&w<=f.length-1;){var S=Math.floor((x+_)/2),E=S-1,N=v(E),A=qS(N,2),C=A[0],I=A[1],M=v(S),L=qS(M,1),O=L[0];if(!C&&!O&&(x=S+1),C&&O&&(_=S-1),!C&&O){k=I;break}w++}return k||g},GS=function(e){var r=Ce(e)?[]:e.toString().split(TI);return[{words:r}]},UK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!Jo.isSsr){var l,c,d=AI({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return GS(i);return LK({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return GS(i)},HS="#808080",Lo=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,b=e.verticalAnchor,y=b===void 0?"end":b,v=e.fill,x=v===void 0?HS:v,_=BS(e,IK),w=T.useMemo(function(){return UK({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),k=_.dx,S=_.dy,E=_.angle,N=_.className,A=_.breakAll,C=BS(_,jK);if(!Ct(n)||!Ct(o))return null;var I=n+(oe(k)?k:0),M=o+(oe(S)?S:0),L;switch(y){case"start":L=Vm("calc(".concat(c,")"));break;case"middle":L=Vm("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:L=Vm("calc(".concat(w.length-1," * -").concat(s,")"));break}var O=[];if(f){var j=w[0].width,P=_.width;O.push("scale(".concat((oe(P)?P/j:1)/j,")"))}return E&&O.push("rotate(".concat(E,", ").concat(I,", ").concat(M,")")),O.length&&(C.transform=O.join(" ")),D.createElement("text",Vy({},be(C,!0),{x:I,y:M,className:Ie("recharts-text",N),textAnchor:g,fill:x.includes("url")?HS:x}),w.map(function($,B){var F=$.words.join(A?"":" ");return D.createElement("tspan",{x:I,dy:B===0?L:s,key:"".concat(F,"-").concat(B)},F)}))};function Fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rx(t){let e,r,n;t.length!==2?(e=Fi,r=(s,l)=>Fi(t(s),l),n=(s,l)=>t(s)-l):(e=t===Fi||t===FK?t:BK,r=t,n=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function BK(){return 0}function CI(t){return t===null?NaN:+t}function*qK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const VK=Rx(Fi),xc=VK.right;Rx(CI).center;class zS extends Map{constructor(e,r=zK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(WS(this,e))}has(e){return super.has(WS(this,e))}set(e,r){return super.set(GK(this,e),r)}delete(e){return super.delete(HK(this,e))}}function WS({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function GK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function HK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function zK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WK(t=Fi){if(t===Fi)return PI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function PI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KK=Math.sqrt(50),JK=Math.sqrt(10),YK=Math.sqrt(2);function Cf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=KK?10:o>=JK?5:o>=YK?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Cf(t,e,r*2):[s,l,c]}function Gy(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Cf(e,t,r):Cf(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Hy(t,e,r){return e=+e,t=+t,r=+r,Cf(t,e,r)[2]}function zy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Hy(e,t,r):Hy(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function KS(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JS(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function II(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?PI:WK(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(r,Math.floor(e-c*f/l+h)),b=Math.min(n,Math.floor(e+(l-c)*f/l+h));II(t,e,g,b,i)}const o=t[e];let a=r,s=n;for(ul(t,r,e),i(t[n],o)>0&&ul(t,r,n);a<s;){for(ul(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?ul(t,r,s):(++s,ul(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function ul(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function XK(t,e,r){if(t=Float64Array.from(qK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return JS(t);if(e>=1)return KS(t);var n,i=(n-1)*e,o=Math.floor(i),a=KS(II(t,o).subarray(0,o+1)),s=JS(t.subarray(o+1));return a+(s-a)*(i-o)}}function QK(t,e,r=CI){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function ZK(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Wy=Symbol("implicit");function Mx(){var t=new zS,e=[],r=[],n=Wy;function i(o){let a=t.get(o);if(a===void 0){if(n!==Wy)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Mx(e,r).unknown(n)},Qr.apply(i,arguments),i}function Pu(){var t=Mx().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<n,b=g?i:n,y=g?n:i;o=(y-b)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),b+=(y-b-o*(h-l))*d,a=o*(1-l),s&&(b=Math.round(b),a=Math.round(a));var v=ZK(h).map(function(x){return b+o*x});return r(g?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Pu(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Qr.apply(f(),arguments)}function jI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jI(e())},t}function ql(){return jI(Pu.apply(null,arguments).paddingInner(1))}function $x(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function OI(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function bc(){}var Iu=.7,Pf=1/Iu,Va="\\s*([+-]?\\d+)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eJ=/^#([0-9a-f]{3,8})$/,tJ=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),rJ=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),nJ=new RegExp(`^rgba\\(${Va},${Va},${Va},${ju}\\)$`),iJ=new RegExp(`^rgba\\(${kn},${kn},${kn},${ju}\\)$`),oJ=new RegExp(`^hsl\\(${ju},${kn},${kn}\\)$`),aJ=new RegExp(`^hsla\\(${ju},${kn},${kn},${ju}\\)$`),YS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$x(bc,Ou,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XS,formatHex:XS,formatHex8:sJ,formatHsl:lJ,formatRgb:QS,toString:QS});function XS(){return this.rgb().formatHex()}function sJ(){return this.rgb().formatHex8()}function lJ(){return RI(this).formatHsl()}function QS(){return this.rgb().formatRgb()}function Ou(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ZS(e):r===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tJ.exec(t))?new hr(e[1],e[2],e[3],1):(e=rJ.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nJ.exec(t))?Zc(e[1],e[2],e[3],e[4]):(e=iJ.exec(t))?Zc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oJ.exec(t))?r1(e[1],e[2]/100,e[3]/100,1):(e=aJ.exec(t))?r1(e[1],e[2]/100,e[3]/100,e[4]):YS.hasOwnProperty(t)?ZS(YS[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function ZS(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function Zc(t,e,r,n){return n<=0&&(t=e=r=NaN),new hr(t,e,r,n)}function uJ(t){return t instanceof bc||(t=Ou(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function Ky(t,e,r,n){return arguments.length===1?uJ(t):new hr(t,e,r,n??1)}function hr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$x(hr,Ky,OI(bc,{brighter(t){return t=t==null?Pf:Math.pow(Pf,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(To(this.r),To(this.g),To(this.b),If(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e1,formatHex:e1,formatHex8:cJ,formatRgb:t1,toString:t1}));function e1(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function cJ(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function t1(){const t=If(this.opacity);return`${t===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${t===1?")":`, ${t})`}`}function If(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function To(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bo(t){return t=To(t),(t<16?"0":"")+t.toString(16)}function r1(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new cn(t,e,r,n)}function RI(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);if(t instanceof bc||(t=Ou(t)),!t)return new cn;if(t instanceof cn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new cn(a,s,l,t.opacity)}function dJ(t,e,r,n){return arguments.length===1?RI(t):new cn(t,e,r,n??1)}function cn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$x(cn,dJ,OI(bc,{brighter(t){return t=t==null?Pf:Math.pow(Pf,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new hr(Gm(t>=240?t-240:t+120,i,n),Gm(t,i,n),Gm(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new cn(n1(this.h),ed(this.s),ed(this.l),If(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=If(this.opacity);return`${t===1?"hsl(":"hsla("}${n1(this.h)}, ${ed(this.s)*100}%, ${ed(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n1(t){return t=(t||0)%360,t<0?t+360:t}function ed(t){return Math.max(0,Math.min(1,t||0))}function Gm(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Dx=t=>()=>t;function fJ(t,e){return function(r){return t+r*e}}function hJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function pJ(t){return(t=+t)==1?MI:function(e,r){return r-e?hJ(e,r,t):Dx(isNaN(e)?r:e)}}function MI(t,e){var r=e-t;return r?fJ(t,r):Dx(isNaN(t)?e:t)}const i1=function t(e){var r=pJ(e);function n(i,o){var a=r((i=Ky(i)).r,(o=Ky(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=MI(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function mJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function gJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Gs(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function vJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Gs(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hm=new RegExp(Jy.source,"g");function bJ(t){return function(){return t}}function wJ(t){return function(e){return t(e)+""}}function _J(t,e){var r=Jy.lastIndex=Hm.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Jy.exec(t))&&(i=Hm.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:jf(n,i)})),r=Hm.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?wJ(l[0].x):bJ(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Gs(t,e){var r=typeof e,n;return e==null||r==="boolean"?Dx(e):(r==="number"?jf:r==="string"?(n=Ou(e))?(e=n,i1):_J:e instanceof Ou?i1:e instanceof Date?vJ:gJ(e)?mJ:Array.isArray(e)?yJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xJ:jf)(t,e)}function Lx(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function SJ(t,e){e===void 0&&(e=t,t=Gs);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function EJ(t){return function(){return t}}function Of(t){return+t}var o1=[0,1];function ir(t){return t}function Yy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:EJ(isNaN(e)?NaN:.5)}function kJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NJ(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=Yy(i,n),o=r(a,o)):(n=Yy(n,i),o=r(o,a)),function(s){return o(n(s))}}function TJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Yy(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=xc(t,s,1,n)-1;return o[l](i[l](s))}}function wc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vp(){var t=o1,e=o1,r=Gs,n,i,o,a=ir,s,l,c;function d(){var h=Math.min(t.length,e.length);return a!==ir&&(a=kJ(t[0],t[h-1])),s=h>2?TJ:NJ,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((c||(c=s(e,t.map(n),jf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Of),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Lx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:ir,d()):a!==ir},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return n=h,i=g,d()}}function Ux(){return vp()(ir,ir)}function AJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ls(t){return t=Rf(Math.abs(t)),t?t[1]:NaN}function CJ(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function PJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var IJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(t){if(!(e=IJ.exec(t)))throw new Error("invalid format: "+t);var e;return new Fx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ru.prototype=Fx.prototype;function Fx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $I;function OJ(t,e){var r=Rf(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-($I=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Rf(t,Math.max(0,e+o-1))[0]}function a1(t,e){var r=Rf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const s1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>a1(t*100,e),r:a1,s:OJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l1(t){return t}var u1=Array.prototype.map,c1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RJ(t){var e=t.grouping===void 0||t.thousands===void 0?l1:CJ(u1.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?l1:PJ(u1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ru(f);var h=f.fill,g=f.align,b=f.sign,y=f.symbol,v=f.zero,x=f.width,_=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(_=!0,S="g"):s1[S]||(w===void 0&&(w=12),k=!0,S="g"),(v||h==="0"&&g==="=")&&(v=!0,h="0",g="=");var E=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=y==="$"?n:/[%p]/.test(S)?a:"",A=s1[S],C=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(M){var L=E,O=N,j,P,$;if(S==="c")O=A(M)+O,M="";else{M=+M;var B=M<0||1/M<0;if(M=isNaN(M)?l:A(Math.abs(M),w),k&&(M=jJ(M)),B&&+M==0&&b!=="+"&&(B=!1),L=(B?b==="("?b:s:b==="-"||b==="("?"":b)+L,O=(S==="s"?c1[8+$I/3]:"")+O+(B&&b==="("?")":""),C){for(j=-1,P=M.length;++j<P;)if($=M.charCodeAt(j),48>$||$>57){O=($===46?i+M.slice(j+1):M.slice(j))+O,M=M.slice(0,j);break}}}_&&!v&&(M=e(M,1/0));var F=L.length+M.length+O.length,G=F<x?new Array(x-F+1).join(h):"";switch(_&&v&&(M=e(G+M,G.length?x-O.length:1/0),G=""),g){case"<":M=L+M+O+G;break;case"=":M=L+G+M+O;break;case"^":M=G.slice(0,F=G.length>>1)+L+M+O+G.slice(F);break;default:M=G+L+M+O;break}return o(M)}return I.toString=function(){return f+""},I}function d(f,h){var g=c((f=Ru(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(ls(h)/3)))*3,y=Math.pow(10,-b),v=c1[8+b/3];return function(x){return g(y*x)+v}}return{format:c,formatPrefix:d}}var td,Bx,DI;MJ({thousands:",",grouping:[3],currency:["$",""]});function MJ(t){return td=RJ(t),Bx=td.format,DI=td.formatPrefix,td}function $J(t){return Math.max(0,-ls(Math.abs(t)))}function DJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ls(e)/3)))*3-ls(Math.abs(t)))}function LJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ls(e)-ls(t))+1}function LI(t,e,r,n){var i=zy(t,e,r),o;switch(n=Ru(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=DJ(i,a))&&(n.precision=o),DI(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=LJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=$J(i))&&(n.precision=o-(n.type==="%")*2);break}}return Bx(n)}function Ki(t){var e=t.domain;return t.ticks=function(r){var n=e();return Gy(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return LI(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=Hy(a,s,r),c===l)return n[i]=a,n[o]=s,e(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Mf(){var t=Ux();return t.copy=function(){return wc(t,Mf())},Qr.apply(t,arguments),Ki(t)}function UI(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Of),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return UI(t).unknown(e)},t=arguments.length?Array.from(t,Of):[0,1],Ki(r)}function FI(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function d1(t){return Math.log(t)}function f1(t){return Math.exp(t)}function UJ(t){return-Math.log(-t)}function FJ(t){return-Math.exp(-t)}function BJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qJ(t){return t===10?BJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h1(t){return(e,r)=>-t(-e,r)}function qx(t){const e=t(d1,f1),r=e.domain;let n=10,i,o;function a(){return i=VJ(n),o=qJ(n),r()[0]<0?(i=h1(i),o=h1(o),t(UJ,FJ)):t(d1,f1),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),g=i(d),b,y;const v=s==null?10:+s;let x=[];if(!(n%1)&&g-h<v){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(b=1;b<n;++b)if(y=h<0?b/o(-h):b*o(h),!(y<c)){if(y>d)break;x.push(y)}}else for(;h<=g;++h)for(b=n-1;b>=1;--b)if(y=h>0?b/o(-h):b*o(h),!(y<c)){if(y>d)break;x.push(y)}x.length*2<v&&(x=Gy(c,d,v))}else x=Gy(h,g,Math.min(g-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ru(l)).precision==null&&(l.trim=!0),l=Bx(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(FI(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function BI(){const t=qx(vp()).domain([1,10]);return t.copy=()=>wc(t,BI()).base(t.base()),Qr.apply(t,arguments),t}function p1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Vx(t){var e=1,r=t(p1(e),m1(e));return r.constant=function(n){return arguments.length?t(p1(e=+n),m1(e)):e},Ki(r)}function qI(){var t=Vx(vp());return t.copy=function(){return wc(t,qI()).constant(t.constant())},Qr.apply(t,arguments)}function g1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HJ(t){return t<0?-t*t:t*t}function Gx(t){var e=t(ir,ir),r=1;function n(){return r===1?t(ir,ir):r===.5?t(GJ,HJ):t(g1(r),g1(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ki(e)}function Hx(){var t=Gx(vp());return t.copy=function(){return wc(t,Hx()).exponent(t.exponent())},Qr.apply(t,arguments),t}function zJ(){return Hx.apply(null,arguments).exponent(.5)}function y1(t){return Math.sign(t)*t*t}function WJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VI(){var t=Ux(),e=[0,1],r=!1,n;function i(o){var a=WJ(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(y1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Of)).map(y1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return VI(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Qr.apply(i,arguments),Ki(i)}function GI(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=QK(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[xc(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Fi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return GI().domain(t).range(e).unknown(n)},Qr.apply(o,arguments)}function HI(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[xc(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return HI().domain([t,e]).range(i).unknown(o)},Qr.apply(Ki(a),arguments)}function zI(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[xc(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return zI().domain(t).range(e).unknown(r)},Qr.apply(i,arguments)}const zm=new Date,Wm=new Date;function jt(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>jt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(zm.setTime(+o),Wm.setTime(+a),t(zm),t(Wm),Math.floor(r(zm,Wm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const $f=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$f.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$f);$f.range;const Hn=1e3,Gr=Hn*60,zn=Gr*60,ii=zn*24,zx=ii*7,v1=ii*30,Km=ii*365,wo=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCSeconds());wo.range;const Wx=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hn)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getMinutes());Wx.range;const Kx=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCMinutes());Kx.range;const Jx=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hn-t.getMinutes()*Gr)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getHours());Jx.range;const Yx=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCHours());Yx.range;const _c=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/ii,t=>t.getDate()-1);_c.range;const xp=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ii,t=>t.getUTCDate()-1);xp.range;const WI=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ii,t=>Math.floor(t/ii));WI.range;function Yo(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/zx)}const bp=Yo(0),Df=Yo(1),KJ=Yo(2),JJ=Yo(3),us=Yo(4),YJ=Yo(5),XJ=Yo(6);bp.range;Df.range;KJ.range;JJ.range;us.range;YJ.range;XJ.range;function Xo(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zx)}const wp=Xo(0),Lf=Xo(1),QJ=Xo(2),ZJ=Xo(3),cs=Xo(4),eY=Xo(5),tY=Xo(6);wp.range;Lf.range;QJ.range;ZJ.range;cs.range;eY.range;tY.range;const Xx=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xx.range;const Qx=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qx.range;const oi=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});oi.range;const ai=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ai.range;function KI(t,e,r,n,i,o){const a=[[wo,1,Hn],[wo,5,5*Hn],[wo,15,15*Hn],[wo,30,30*Hn],[o,1,Gr],[o,5,5*Gr],[o,15,15*Gr],[o,30,30*Gr],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[n,1,ii],[n,2,2*ii],[r,1,zx],[e,1,v1],[e,3,3*v1],[t,1,Km]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),b=g?g.range(c,+d+1):[];return h?b.reverse():b}function l(c,d,f){const h=Math.abs(d-c)/f,g=Rx(([,,v])=>v).right(a,h);if(g===a.length)return t.every(zy(c/Km,d/Km,f));if(g===0)return $f.every(Math.max(zy(c,d,f),1));const[b,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return b.every(y)}return[s,l]}const[rY,nY]=KI(ai,Qx,wp,WI,Yx,Kx),[iY,oY]=KI(oi,Xx,bp,_c,Jx,Wx);function Jm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ym(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function aY(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=dl(i),d=fl(i),f=dl(o),h=fl(o),g=dl(a),b=fl(a),y=dl(s),v=fl(s),x=dl(l),_=fl(l),w={a:B,A:F,b:G,B:H,c:null,d:E1,e:E1,f:CY,g:UY,G:BY,H:NY,I:TY,j:AY,L:JI,m:PY,M:IY,p:X,q:z,Q:T1,s:A1,S:jY,u:OY,U:RY,V:MY,w:$Y,W:DY,x:null,X:null,y:LY,Y:FY,Z:qY,"%":N1},k={a:ue,A:R,b:J,B:ie,c:null,d:k1,e:k1,f:zY,g:rX,G:iX,H:VY,I:GY,j:HY,L:XI,m:WY,M:KY,p:de,q:Pe,Q:T1,s:A1,S:JY,u:YY,U:XY,V:QY,w:ZY,W:eX,x:null,X:null,y:tX,Y:nX,Z:oX,"%":N1},S={a:I,A:M,b:L,B:O,c:j,d:_1,e:_1,f:_Y,g:w1,G:b1,H:S1,I:S1,j:vY,L:wY,m:yY,M:xY,p:C,q:gY,Q:EY,s:kY,S:bY,u:dY,U:fY,V:hY,w:cY,W:pY,x:P,X:$,y:w1,Y:b1,Z:mY,"%":SY};w.x=E(r,w),w.X=E(n,w),w.c=E(e,w),k.x=E(r,k),k.X=E(n,k),k.c=E(e,k);function E(te,ve){return function(Y){var W=[],ke=-1,ge=0,K=te.length,ae,fe,Ne;for(Y instanceof Date||(Y=new Date(+Y));++ke<K;)te.charCodeAt(ke)===37&&(W.push(te.slice(ge,ke)),(fe=x1[ae=te.charAt(++ke)])!=null?ae=te.charAt(++ke):fe=ae==="e"?" ":"0",(Ne=ve[ae])&&(ae=Ne(Y,fe)),W.push(ae),ge=ke+1);return W.push(te.slice(ge,ke)),W.join("")}}function N(te,ve){return function(Y){var W=cl(1900,void 0,1),ke=A(W,te,Y+="",0),ge,K;if(ke!=Y.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ve&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ge=Ym(cl(W.y,0,1)),K=ge.getUTCDay(),ge=K>4||K===0?Lf.ceil(ge):Lf(ge),ge=xp.offset(ge,(W.V-1)*7),W.y=ge.getUTCFullYear(),W.m=ge.getUTCMonth(),W.d=ge.getUTCDate()+(W.w+6)%7):(ge=Jm(cl(W.y,0,1)),K=ge.getDay(),ge=K>4||K===0?Df.ceil(ge):Df(ge),ge=_c.offset(ge,(W.V-1)*7),W.y=ge.getFullYear(),W.m=ge.getMonth(),W.d=ge.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),K="Z"in W?Ym(cl(W.y,0,1)).getUTCDay():Jm(cl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(K+5)%7:W.w+W.U*7-(K+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Ym(W)):Jm(W)}}function A(te,ve,Y,W){for(var ke=0,ge=ve.length,K=Y.length,ae,fe;ke<ge;){if(W>=K)return-1;if(ae=ve.charCodeAt(ke++),ae===37){if(ae=ve.charAt(ke++),fe=S[ae in x1?ve.charAt(ke++):ae],!fe||(W=fe(te,Y,W))<0)return-1}else if(ae!=Y.charCodeAt(W++))return-1}return W}function C(te,ve,Y){var W=c.exec(ve.slice(Y));return W?(te.p=d.get(W[0].toLowerCase()),Y+W[0].length):-1}function I(te,ve,Y){var W=g.exec(ve.slice(Y));return W?(te.w=b.get(W[0].toLowerCase()),Y+W[0].length):-1}function M(te,ve,Y){var W=f.exec(ve.slice(Y));return W?(te.w=h.get(W[0].toLowerCase()),Y+W[0].length):-1}function L(te,ve,Y){var W=x.exec(ve.slice(Y));return W?(te.m=_.get(W[0].toLowerCase()),Y+W[0].length):-1}function O(te,ve,Y){var W=y.exec(ve.slice(Y));return W?(te.m=v.get(W[0].toLowerCase()),Y+W[0].length):-1}function j(te,ve,Y){return A(te,e,ve,Y)}function P(te,ve,Y){return A(te,r,ve,Y)}function $(te,ve,Y){return A(te,n,ve,Y)}function B(te){return a[te.getDay()]}function F(te){return o[te.getDay()]}function G(te){return l[te.getMonth()]}function H(te){return s[te.getMonth()]}function X(te){return i[+(te.getHours()>=12)]}function z(te){return 1+~~(te.getMonth()/3)}function ue(te){return a[te.getUTCDay()]}function R(te){return o[te.getUTCDay()]}function J(te){return l[te.getUTCMonth()]}function ie(te){return s[te.getUTCMonth()]}function de(te){return i[+(te.getUTCHours()>=12)]}function Pe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ve=E(te+="",w);return ve.toString=function(){return te},ve},parse:function(te){var ve=N(te+="",!1);return ve.toString=function(){return te},ve},utcFormat:function(te){var ve=E(te+="",k);return ve.toString=function(){return te},ve},utcParse:function(te){var ve=N(te+="",!0);return ve.toString=function(){return te},ve}}}var x1={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,sY=/^%/,lY=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function uY(t){return t.replace(lY,"\\$&")}function dl(t){return new RegExp("^(?:"+t.map(uY).join("|")+")","i")}function fl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cY(t,e,r){var n=Dt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dY(t,e,r){var n=Dt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function fY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function hY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function pY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function b1(t,e,r){var n=Dt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function w1(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mY(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gY(t,e,r){var n=Dt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _1(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function vY(t,e,r){var n=Dt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function S1(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function xY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function bY(t,e,r){var n=Dt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function wY(t,e,r){var n=Dt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _Y(t,e,r){var n=Dt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SY(t,e,r){var n=sY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function EY(t,e,r){var n=Dt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function kY(t,e,r){var n=Dt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function E1(t,e){return Le(t.getDate(),e,2)}function NY(t,e){return Le(t.getHours(),e,2)}function TY(t,e){return Le(t.getHours()%12||12,e,2)}function AY(t,e){return Le(1+_c.count(oi(t),t),e,3)}function JI(t,e){return Le(t.getMilliseconds(),e,3)}function CY(t,e){return JI(t,e)+"000"}function PY(t,e){return Le(t.getMonth()+1,e,2)}function IY(t,e){return Le(t.getMinutes(),e,2)}function jY(t,e){return Le(t.getSeconds(),e,2)}function OY(t){var e=t.getDay();return e===0?7:e}function RY(t,e){return Le(bp.count(oi(t)-1,t),e,2)}function YI(t){var e=t.getDay();return e>=4||e===0?us(t):us.ceil(t)}function MY(t,e){return t=YI(t),Le(us.count(oi(t),t)+(oi(t).getDay()===4),e,2)}function $Y(t){return t.getDay()}function DY(t,e){return Le(Df.count(oi(t)-1,t),e,2)}function LY(t,e){return Le(t.getFullYear()%100,e,2)}function UY(t,e){return t=YI(t),Le(t.getFullYear()%100,e,2)}function FY(t,e){return Le(t.getFullYear()%1e4,e,4)}function BY(t,e){var r=t.getDay();return t=r>=4||r===0?us(t):us.ceil(t),Le(t.getFullYear()%1e4,e,4)}function qY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function k1(t,e){return Le(t.getUTCDate(),e,2)}function VY(t,e){return Le(t.getUTCHours(),e,2)}function GY(t,e){return Le(t.getUTCHours()%12||12,e,2)}function HY(t,e){return Le(1+xp.count(ai(t),t),e,3)}function XI(t,e){return Le(t.getUTCMilliseconds(),e,3)}function zY(t,e){return XI(t,e)+"000"}function WY(t,e){return Le(t.getUTCMonth()+1,e,2)}function KY(t,e){return Le(t.getUTCMinutes(),e,2)}function JY(t,e){return Le(t.getUTCSeconds(),e,2)}function YY(t){var e=t.getUTCDay();return e===0?7:e}function XY(t,e){return Le(wp.count(ai(t)-1,t),e,2)}function QI(t){var e=t.getUTCDay();return e>=4||e===0?cs(t):cs.ceil(t)}function QY(t,e){return t=QI(t),Le(cs.count(ai(t),t)+(ai(t).getUTCDay()===4),e,2)}function ZY(t){return t.getUTCDay()}function eX(t,e){return Le(Lf.count(ai(t)-1,t),e,2)}function tX(t,e){return Le(t.getUTCFullYear()%100,e,2)}function rX(t,e){return t=QI(t),Le(t.getUTCFullYear()%100,e,2)}function nX(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function iX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cs(t):cs.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function oX(){return"+0000"}function N1(){return"%"}function T1(t){return+t}function A1(t){return Math.floor(+t/1e3)}var la,ZI,ej;aX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aX(t){return la=aY(t),ZI=la.format,la.parse,ej=la.utcFormat,la.utcParse,la}function sX(t){return new Date(t)}function lX(t){return t instanceof Date?+t:+new Date(+t)}function Zx(t,e,r,n,i,o,a,s,l,c){var d=Ux(),f=d.invert,h=d.domain,g=c(".%L"),b=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),_=c("%b %d"),w=c("%B"),k=c("%Y");function S(E){return(l(E)<E?g:s(E)<E?b:a(E)<E?y:o(E)<E?v:n(E)<E?i(E)<E?x:_:r(E)<E?w:k)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,lX)):h().map(sX)},d.ticks=function(E){var N=h();return t(N[0],N[N.length-1],E??10)},d.tickFormat=function(E,N){return N==null?S:c(N)},d.nice=function(E){var N=h();return(!E||typeof E.range!="function")&&(E=e(N[0],N[N.length-1],E??10)),E?h(FI(N,E)):d},d.copy=function(){return wc(d,Zx(t,e,r,n,i,o,a,s,l,c))},d}function uX(){return Qr.apply(Zx(iY,oY,oi,Xx,bp,_c,Jx,Wx,wo,ZI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cX(){return Qr.apply(Zx(rY,nY,ai,Qx,wp,xp,Yx,Kx,wo,ej).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _p(){var t=0,e=1,r,n,i,o,a=ir,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var g,b;return arguments.length?([g,b]=h,a=f(g,b),c):[a(0),a(1)]}}return c.range=d(Gs),c.rangeRound=d(Lx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tj(){var t=Ki(_p()(ir));return t.copy=function(){return Ji(t,tj())},pi.apply(t,arguments)}function rj(){var t=qx(_p()).domain([1,10]);return t.copy=function(){return Ji(t,rj()).base(t.base())},pi.apply(t,arguments)}function nj(){var t=Vx(_p());return t.copy=function(){return Ji(t,nj()).constant(t.constant())},pi.apply(t,arguments)}function eb(){var t=Gx(_p());return t.copy=function(){return Ji(t,eb()).exponent(t.exponent())},pi.apply(t,arguments)}function dX(){return eb.apply(null,arguments).exponent(.5)}function ij(){var t=[],e=ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((xc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>XK(t,o/n))},r.copy=function(){return ij(e).domain(t)},pi.apply(r,arguments)}function Sp(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,c=ir,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(n*y<n*o?s:l),c(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),o=d(e=+e),a=d(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g):[t,e,r]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(c=y,g):c};function b(y){return function(v){var x,_,w;return arguments.length?([x,_,w]=v,c=SJ(y,[x,_,w]),g):[c(0),c(.5),c(1)]}}return g.range=b(Gs),g.rangeRound=b(Lx),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),o=y(e),a=y(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g}}function oj(){var t=Ki(Sp()(ir));return t.copy=function(){return Ji(t,oj())},pi.apply(t,arguments)}function aj(){var t=qx(Sp()).domain([.1,1,10]);return t.copy=function(){return Ji(t,aj()).base(t.base())},pi.apply(t,arguments)}function sj(){var t=Vx(Sp());return t.copy=function(){return Ji(t,sj()).constant(t.constant())},pi.apply(t,arguments)}function tb(){var t=Gx(Sp());return t.copy=function(){return Ji(t,tb()).exponent(t.exponent())},pi.apply(t,arguments)}function fX(){return tb.apply(null,arguments).exponent(.5)}const C1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pu,scaleDiverging:oj,scaleDivergingLog:aj,scaleDivergingPow:tb,scaleDivergingSqrt:fX,scaleDivergingSymlog:sj,scaleIdentity:UI,scaleImplicit:Wy,scaleLinear:Mf,scaleLog:BI,scaleOrdinal:Mx,scalePoint:ql,scalePow:Hx,scaleQuantile:GI,scaleQuantize:HI,scaleRadial:VI,scaleSequential:tj,scaleSequentialLog:rj,scaleSequentialPow:eb,scaleSequentialQuantile:ij,scaleSequentialSqrt:dX,scaleSequentialSymlog:nj,scaleSqrt:zJ,scaleSymlog:qI,scaleThreshold:zI,scaleTime:uX,scaleUtc:cX,tickFormat:LI},Symbol.toStringTag,{value:"Module"}));var hX=Ms;function pX(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(s===void 0?a===a&&!hX(a):r(a,s)))var s=a,l=o}return l}var Ep=pX;function mX(t,e){return t>e}var lj=mX,gX=Ep,yX=lj,vX=Vs;function xX(t){return t&&t.length?gX(t,vX,yX):void 0}var bX=xX;const kp=Ve(bX);function wX(t,e){return t<e}var uj=wX,_X=Ep,SX=uj,EX=Vs;function kX(t){return t&&t.length?_X(t,EX,SX):void 0}var NX=kX;const Np=Ve(NX);var TX=mx,AX=On,CX=yI,PX=yr;function IX(t,e){var r=PX(t)?TX:CX;return r(t,AX(e))}var jX=IX,OX=mI,RX=jX;function MX(t,e){return OX(RX(t,e),1)}var $X=MX;const DX=Ve($X);var LX=Px;function UX(t,e){return LX(t,e)}var FX=UX;const Sc=Ve(FX);var Hs=1e9,BX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nb,it=!0,Jr="[DecimalError] ",Ao=Jr+"Invalid argument: ",rb=Jr+"Exponent out of range: ",zs=Math.floor,lo=Math.pow,qX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Ot=1e7,et=7,cj=9007199254740991,Uf=zs(cj/et),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(t){return Qn(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,r=e.constructor;return ze(Qn(e,new r(t),0,1),r.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return wt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Nr))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(it=!1,e=Qn(Mu(r,o),Mu(t,o),o),it=!0,ze(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hj(e,t):dj(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Jr+"NaN");return r.s?(it=!1,e=Qn(r,t,0,1).times(t),it=!0,r.minus(e)):ze(new n(r),i)};pe.naturalExponential=pe.exp=function(){return fj(this)};pe.naturalLogarithm=pe.ln=function(){return Mu(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dj(e,t):hj(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ao+t);if(e=wt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pe.squareRoot=pe.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Jr+"NaN")}for(t=wt(s),it=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=_n(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(Qn(s,o,a+2)).times(.5),_n(o.d).slice(0,a)===(e=_n(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ze(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return it=!0,ze(n,r)};pe.times=pe.mul=function(t){var e,r,n,i,o,a,s,l,c,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,c=g.length,l<c&&(o=h,h=g,g=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+g[n]*h[i-n-1]+e,o[i--]=s%Ot|0,e=s/Ot|0;o[i]=(o[i]+e)%Ot|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,it?ze(t,f.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(An(t,0,Hs),e===void 0?e=n.rounding:An(e,0,8),ze(r,t+wt(r)+1,e))};pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Uo(n,!0):(An(t,0,Hs),e===void 0?e=i.rounding:An(e,0,8),n=ze(new i(n),t+1,e),r=Uo(n,!0,t+1)),r};pe.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Uo(i):(An(t,0,Hs),e===void 0?e=o.rounding:An(e,0,8),n=ze(new o(i),t+wt(i)+1,e),r=Uo(n.abs(),!1,t+wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return ze(new e(t),wt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Nr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Jr+"Infinity");return s}if(s.eq(Nr))return s;if(n=l.precision,t.eq(Nr))return ze(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=d<0?-d:d)<=cj){for(i=new l(Nr),e=Math.ceil(n/et+4),it=!1;r%2&&(i=i.times(s),I1(i.d,e)),r=zs(r/2),r!==0;)s=s.times(s),I1(s.d,e);return it=!0,t.s<0?new l(Nr).div(i):ze(i,n)}}else if(o<0)throw Error(Jr+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,it=!1,i=t.times(Mu(s,n+c)),it=!0,i=fj(i),i.s=o,i};pe.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=wt(i),n=Uo(i,r<=o.toExpNeg||r>=o.toExpPos)):(An(t,1,Hs),e===void 0?e=o.rounding:An(e,0,8),i=ze(new o(i),t,e),r=wt(i),n=Uo(i,t<=r||r<=o.toExpNeg,t)),n};pe.toSignificantDigits=pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(An(t,1,Hs),e===void 0?e=n.rounding:An(e,0,8)),ze(new n(r),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),r=t.constructor;return Uo(t,e<=r.toExpNeg||e>=r.toExpPos)};function dj(t,e){var r,n,i,o,a,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),it?ze(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(f/et),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Ot|0,l[o]%=Ot;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,it?ze(e,f):e}function An(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ao+t)}function _n(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=et-n.length,r&&(o+=_i(r)),o+=n;a=t[e],n=a+"",r=et-n.length,r&&(o+=_i(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Qn=function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%Ot|0,a=o/Ot|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*Ot+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,d,f,h,g,b,y,v,x,_,w,k,S,E,N,A,C=n.constructor,I=n.s==i.s?1:-1,M=n.d,L=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Jr+"Division by zero");for(l=n.e-i.e,N=L.length,S=M.length,g=new C(I),b=g.d=[],c=0;L[c]==(M[c]||0);)++c;if(L[c]>(M[c]||0)&&--l,o==null?_=o=C.precision:a?_=o+(wt(n)-wt(i))+1:_=o,_<0)return new C(0);if(_=_/et+2|0,c=0,N==1)for(d=0,L=L[0],_++;(c<S||d)&&_--;c++)w=d*Ot+(M[c]||0),b[c]=w/L|0,d=w%L|0;else{for(d=Ot/(L[0]+1)|0,d>1&&(L=t(L,d),M=t(M,d),N=L.length,S=M.length),k=N,y=M.slice(0,N),v=y.length;v<N;)y[v++]=0;A=L.slice(),A.unshift(0),E=L[0],L[1]>=Ot/2&&++E;do d=0,s=e(L,y,N,v),s<0?(x=y[0],N!=v&&(x=x*Ot+(y[1]||0)),d=x/E|0,d>1?(d>=Ot&&(d=Ot-1),f=t(L,d),h=f.length,v=y.length,s=e(f,y,h,v),s==1&&(d--,r(f,N<h?A:L,h))):(d==0&&(s=d=1),f=L.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),s==-1&&(v=y.length,s=e(L,y,N,v),s<1&&(d++,r(y,N<v?A:L,v))),v=y.length):s===0&&(d++,y=[0]),b[c++]=d,s&&y[0]?y[v++]=M[k]||0:(y=[M[k]],v=1);while((k++<S||y[0]!==void 0)&&_--)}return b[0]||b.shift(),g.e=l,ze(g,a?o+wt(g)+1:o)}}();function fj(t,e){var r,n,i,o,a,s,l=0,c=0,d=t.constructor,f=d.precision;if(wt(t)>16)throw Error(rb+wt(t));if(!t.s)return new d(Nr);for(it=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(lo(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new d(Nr),d.precision=s;;){if(i=ze(i.times(t),s),r=r.times(++l),a=o.plus(Qn(i,r,s)),_n(a.d).slice(0,s)===_n(o.d).slice(0,s)){for(;c--;)o=ze(o.times(o),s);return d.precision=f,e==null?(it=!0,ze(o,f)):o}o=a}}function wt(t){for(var e=t.e*et,r=t.d[0];r>=10;r/=10)e++;return e}function Xm(t,e,r){if(e>t.LN10.sd())throw it=!0,r&&(t.precision=r),Error(Jr+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function _i(t){for(var e="";t--;)e+="0";return e}function Mu(t,e){var r,n,i,o,a,s,l,c,d,f=1,h=10,g=t,b=g.d,y=g.constructor,v=y.precision;if(g.s<1)throw Error(Jr+(g.s?"NaN":"-Infinity"));if(g.eq(Nr))return new y(0);if(e==null?(it=!1,c=v):c=e,g.eq(10))return e==null&&(it=!0),Xm(y,c);if(c+=h,y.precision=c,r=_n(b),n=r.charAt(0),o=wt(g),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=_n(g.d),n=r.charAt(0),f++;o=wt(g),n>1?(g=new y("0."+r),o++):g=new y(n+"."+r.slice(1))}else return l=Xm(y,c+2,v).times(o+""),g=Mu(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=v,e==null?(it=!0,ze(g,v)):g;for(s=a=g=Qn(g.minus(Nr),g.plus(Nr),c),d=ze(g.times(g),c),i=3;;){if(a=ze(a.times(d),c),l=s.plus(Qn(a,new y(i),c)),_n(l.d).slice(0,c)===_n(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Xm(y,c+2,v).times(o+""))),s=Qn(s,new y(f),c),y.precision=v,e==null?(it=!0,ze(s,v)):s;s=l,i+=2}}function P1(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zs(r/et),t.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=et;n<i;)t.d.push(+e.slice(n,n+=et));e=e.slice(n),n=et-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),it&&(t.e>Uf||t.e<-Uf))throw Error(rb+r)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,r){var n,i,o,a,s,l,c,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=et,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/et),o=f.length,d>=o)return t;for(c=o=f[d],a=1;o>=10;o/=10)a++;n%=et,i=n-et+a}if(r!==void 0&&(o=lo(10,a-i-1),s=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/lo(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(o=wt(t),f.length=1,e=e-o-1,f[0]=lo(10,(et-e%et)%et),t.e=zs(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=lo(10,et-n),f[d]=i>0?(c/lo(10,a-i)%lo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Ot&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Ot)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(it&&(t.e>Uf||t.e<-Uf))throw Error(rb+wt(t));return t}function hj(t,e){var r,n,i,o,a,s,l,c,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),it?ze(e,g):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(d=a<0,d?(r=l,a=-a,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(g/et),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ot-1;--l[o],l[i]+=Ot}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,it?ze(e,g):e):new h(0)}function Uo(t,e,r){var n,i=wt(t),o=_n(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+_i(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+_i(-i-1)+o,r&&(n=r-a)>0&&(o+=_i(n))):i>=a?(o+=_i(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+_i(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=_i(n))),t.s<0?"-"+o:o}function I1(t,e){if(t.length>e)return t.length=e,!0}function pj(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ao+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return P1(a,o.toString())}else if(typeof o!="string")throw Error(Ao+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,qX.test(o))P1(a,o);else throw Error(Ao+o)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pj,i.config=i.set=VX,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function VX(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,r,n,i=["precision",1,Hs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zs(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ao+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ao+r+": "+n);return this}var nb=pj(BX);Nr=new nb(1);const He=nb;function GX(t){return KX(t)||WX(t)||zX(t)||HX()}function HX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(t,e){if(t){if(typeof t=="string")return Xy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(t,e)}}function WX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function KX(t){if(Array.isArray(t))return Xy(t)}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JX=function(e){return e},mj={},gj=function(e){return e===mj},j1=function(e){return function r(){return arguments.length===0||arguments.length===1&&gj(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},YX=function t(e,r){return e===1?r:j1(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==mj}).length;return a>=e?r.apply(void 0,i):t(e-a,j1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return gj(f)?l.shift():f});return r.apply(void 0,GX(d).concat(l))}))})},Tp=function(e){return YX(e.length,e)},Qy=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},XX=Tp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),QX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return JX;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Zy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yj=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function ZX(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function eQ(t,e,r){for(var n=new He(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var tQ=Tp(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),rQ=Tp(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),nQ=Tp(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ap={rangeStep:eQ,getDigitCount:ZX,interpolateNumber:tQ,uninterpolateNumber:rQ,uninterpolateTruncation:nQ};function ev(t){return aQ(t)||oQ(t)||vj(t)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aQ(t){if(Array.isArray(t))return tv(t)}function $u(t,e){return uQ(t)||lQ(t,e)||vj(t,e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vj(t,e){if(t){if(typeof t=="string")return tv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(t,e)}}function tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function uQ(t){if(Array.isArray(t))return t}function xj(t){var e=$u(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function bj(t,e,r){if(t.lte(0))return new He(0);var n=Ap.getDigitCount(t.toNumber()),i=new He(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new He(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new He(Math.ceil(l))}function cQ(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new He(10).pow(Ap.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var a=Math.floor((e-1)/2),s=QX(XX(function(l){return i.add(new He(l-a).mul(n)).toNumber()}),Qy);return s(0,e)}function wj(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var o=bj(new He(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new He(0):(a=new He(t).add(e).div(2),a=a.sub(new He(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new He(e).sub(a).div(o).toNumber()),c=s+l+1;return c>r?wj(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:o,tickMin:a.sub(new He(s).mul(o)),tickMax:a.add(new He(l).mul(o))})}function dQ(t){var e=$u(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=xj([r,n]),l=$u(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(ev(Qy(0,i-1).map(function(){return 1/0}))):[].concat(ev(Qy(0,i-1).map(function(){return-1/0})),[d]);return r>n?Zy(f):f}if(c===d)return cQ(c,i,o);var h=wj(c,d,a,o),g=h.step,b=h.tickMin,y=h.tickMax,v=Ap.rangeStep(b,y.add(new He(.1).mul(g)),g);return r>n?Zy(v):v}function fQ(t,e){var r=$u(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=xj([n,i]),s=$u(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=bj(new He(c).sub(l).div(d-1),o,0),h=[].concat(ev(Ap.rangeStep(new He(l),new He(c).sub(new He(.99).mul(f)),f)),[c]);return n>i?Zy(h):h}var hQ=yj(dQ),pQ=yj(fQ),mQ="Invariant failed";function Fo(t,e){throw new Error(mQ)}var gQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function yQ(t,e){return wQ(t)||bQ(t,e)||xQ(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function wQ(t){if(Array.isArray(t))return t}function _Q(t,e){if(t==null)return{};var r=SQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ej(n.key),n)}}function NQ(t,e,r){return e&&kQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQ(t,e,r){return e=Bf(e),AQ(t,_j()?Reflect.construct(e,r||[],Bf(t).constructor):e.apply(t,r))}function AQ(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CQ(t)}function CQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_j=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(t)}function PQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rv(t,e)}function Sj(t,e,r){return e=Ej(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ej(t){var e=IQ(t,"string");return ds(e)=="symbol"?e:e+""}function IQ(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ec=function(t){function e(){return EQ(this,e),TQ(this,e,arguments)}return PQ(e,t),NQ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=_Q(n,gQ),g=be(h,!1);this.props.direction==="x"&&d.type!=="number"&&Fo();var b=l.map(function(y){var v=c(y,s),x=v.x,_=v.y,w=v.value,k=v.errorVal;if(!k)return null;var S=[],E,N;if(Array.isArray(k)){var A=yQ(k,2);E=A[0],N=A[1]}else E=N=k;if(o==="vertical"){var C=d.scale,I=_+i,M=I+a,L=I-a,O=C(w-E),j=C(w+N);S.push({x1:j,y1:M,x2:j,y2:L}),S.push({x1:O,y1:I,x2:j,y2:I}),S.push({x1:O,y1:M,x2:O,y2:L})}else if(o==="horizontal"){var P=f.scale,$=x+i,B=$-a,F=$+a,G=P(w-E),H=P(w+N);S.push({x1:B,y1:H,x2:F,y2:H}),S.push({x1:$,y1:G,x2:$,y2:H}),S.push({x1:B,y1:G,x2:F,y2:G})}return D.createElement(De,Ff({className:"recharts-errorBar",key:"bar-".concat(S.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},g),S.map(function(X){return D.createElement("line",Ff({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return D.createElement(De,{className:"recharts-errorBars"},b)}}])}(D.Component);Sj(Ec,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Sj(Ec,"displayName","ErrorBar");function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function R1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(r),!0).forEach(function(n){jQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jQ(t,e,r){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OQ(t){var e=RQ(t,"string");return Du(e)=="symbol"?e:e+""}function RQ(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kj=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=_r(r,No);if(!a)return null;var s=No.defaultProps,l=s!==void 0?eo(eo({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,b=g.sectors||g.data||[];return d.concat(b.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?eo(eo({},h),f.props):{},b=g.dataKey,y=g.name,v=g.legendType,x=g.hide;return{inactive:x,dataKey:b,type:l.iconType||v||"square",color:ib(f),value:y||b,payload:g}}),eo(eo(eo({},l),No.getWithHeight(a,i)),{},{payload:c,item:a})};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function M1(t){return LQ(t)||DQ(t)||$Q(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return nv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nv(t,e)}}function DQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LQ(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ga(t,e,r){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UQ(t){var e=FQ(t,"string");return Lu(e)=="symbol"?e:e+""}function FQ(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tt(t,e,r){return Ce(t)||Ce(e)?r:Ct(e)?Pr(t,e,r):Ee(e)?e(t):r}function Vl(t,e,r,n){var i=DX(t,function(s){return Tt(s,e)});if(r==="number"){var o=i.filter(function(s){return oe(s)||parseFloat(s)});return o.length?[Np(o),kp(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!Ce(s)}):i;return a.map(function(s){return Ct(s)||s instanceof Date?s:""})}var BQ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(rr(f-d)!==rr(h-f)){var b=[];if(rr(h-f)===rr(l[1]-l[0])){g=h;var y=f+l[1]-l[0];b[0]=Math.min(y,(y+d)/2),b[1]=Math.max(y,(y+d)/2)}else{g=d;var v=h+l[1]-l[0];b[0]=Math.min(f,(v+f)/2),b[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=b[0]&&e<=b[1]){a=i[c].index;break}}else{var _=Math.min(d,h),w=Math.max(d,h);if(e>(_+f)/2&&e<=(w+f)/2){a=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){a=n[k].index;break}return a},ib=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},qQ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var b=d[f[h]],y=b.items,v=b.cateAxisId,x=y.filter(function(N){return Xn(N.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,w=_!==void 0?ht(ht({},_),x[0].props):x[0].props,k=w.barSize,S=w[v];a[S]||(a[S]=[]);var E=Ce(k)?r:k;a[S].push({item:x[0],stackList:x.slice(1),barSize:Ce(E)?void 0:nr(E,n,0)})}}return a},VQ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=nr(r,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,b=a.reduce(function(k,S){return k+S.barSize||0},0);b+=(l-1)*c,b>=i&&(b-=(l-1)*c,c=0),b>=i&&g>0&&(h=!0,g*=.9,b=l*g);var y=(i-b)/2>>0,v={offset:y-c,size:0};d=a.reduce(function(k,S){var E={item:S.item,position:{offset:v.offset+v.size+c,size:h?g:S.barSize}},N=[].concat(M1(k),[E]);return v=N[N.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){N.push({item:A,position:v})}),N},f)}else{var x=nr(n,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var _=(i-2*x-(l-1)*c)/l;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;d=a.reduce(function(k,S,E){var N=[].concat(M1(k),[{item:S.item,position:{offset:x+(_+c)*E+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){N.push({item:A,position:N[N.length-1].position})}),N},f)}return d},GQ=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=kj({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,g=c.align,b=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&g!=="center"&&oe(e[g]))return ht(ht({},e),{},Ga({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&b!=="middle"&&oe(e[b]))return ht(ht({},e),{},Ga({},b,e[b]+(h||0)))}return e},HQ=function(e,r,n){return Ce(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Nj=function(e,r,n,i,o){var a=r.props.children,s=Ir(a,Ec).filter(function(c){return HQ(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Tt(d,n);if(Ce(f))return c;var h=Array.isArray(f)?[Np(f),kp(f)]:[f,f],g=l.reduce(function(b,y){var v=Tt(d,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},zQ=function(e,r,n,i,o){var a=r.map(function(s){return Nj(e,s,n,o,i)}).filter(function(s){return!Ce(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Tj=function(e,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Nj(e,l,c,i)||Vl(e,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},Aj=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Cj=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},Wn=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?rr(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!yc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},Qm=new WeakMap,rd=function(e,r){if(typeof r!="function")return e;Qm.has(e)||Qm.set(e,new WeakMap);var n=Qm.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Pj=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Pu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Mf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ql(),realScaleType:"point"}:o==="category"?{scale:Pu(),realScaleType:"band"}:{scale:Mf(),realScaleType:"linear"};if($o(i)){var l="scale".concat(dp(i));return{scale:(C1[l]||ql)(),realScaleType:C1[l]?l:"point"}}return Ee(i)?{scale:i}:{scale:ql(),realScaleType:"point"}},D1=1e-4,Ij=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-D1,a=Math.max(i[0],i[1])+D1,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},WQ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},KQ=function(e,r){if(!r||r.length!==2||!oe(r[0])||!oe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!oe(e[0])||e[0]<n)&&(o[0]=n),(!oe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},JQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=yc(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},YQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=yc(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},XQ={sign:JQ,expand:gq,none:ns,silhouette:yq,wiggle:vq,positive:YQ},QQ=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=XQ[n],a=mq().keys(i).value(function(s,l){return+Tt(s,l,0)}).order(Ay).offset(o);return a(e)},ZQ=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(f,h){var g,b=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ht(ht({},h.type.defaultProps),h.props):h.props,y=b.stackId,v=b.hide;if(v)return f;var x=b[n],_=f[x]||{hasStack:!1,stackGroups:{}};if(Ct(y)){var w=_.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[y]=w}else _.stackGroups[Fs("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return ht(ht({},f),{},Ga({},x,_))},l),d={};return Object.keys(c).reduce(function(f,h){var g=c[h];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,v){var x=g.stackGroups[v];return ht(ht({},y),{},Ga({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:QQ(e,x.items,o)}))},b)}return ht(ht({},f),{},Ga({},h,g))},d)},jj=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=hQ(c,o,s);return e.domain([Np(d),kp(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=pQ(f,o,s);return{niceTicks:h}}return null};function L1(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ce(i[e.dataKey])){var s=pf(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Tt(i,Ce(a)?e.dataKey:a);return Ce(l)?null:e.scale(l)}var U1=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Tt(a,r.dataKey,r.domain[s]);return Ce(l)?null:r.scale(l)-o/2+i},eZ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},tZ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ct(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},rZ=function(e){return e.reduce(function(r,n){return[Np(n.concat([r[0]]).filter(oe)),kp(n.concat([r[1]]).filter(oe))]},[1/0,-1/0])},Oj=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,d){var f=rZ(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},F1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iv=function(e,r,n){if(Ee(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(oe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(F1.test(e[0])){var o=+F1.exec(e[0])[1];i[0]=r[0]-o}else Ee(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(oe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(B1.test(e[1])){var a=+B1.exec(e[1])[1];i[1]=r[1]+a}else Ee(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},qf=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=jx(r,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},q1=function(e,r,n){return!e||!e.length||Sc(e,Pr(n,"type.defaultProps.domain"))?r:e},Rj=function(e,r){var n=e.type.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return ht(ht({},be(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:ib(e),value:Tt(r,i),type:l,payload:r,chartType:c,hide:d})};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function V1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(r),!0).forEach(function(n){Mj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mj(t,e,r){return e=nZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nZ(t){var e=iZ(t,"string");return Uu(e)=="symbol"?e:e+""}function iZ(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oZ(t,e){return uZ(t)||lZ(t,e)||sZ(t,e)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(t,e){if(t){if(typeof t=="string")return G1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(t,e)}}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uZ(t){if(Array.isArray(t))return t}var Vf=Math.PI/180,cZ=function(e){return e*180/Math.PI},Xe=function(e,r,n,i){return{x:e+Math.cos(-Vf*i)*n,y:r+Math.sin(-Vf*i)*n}},$j=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},dZ=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=nr(e.cx,a,a/2),f=nr(e.cy,s,s/2),h=$j(a,s,n),g=nr(e.innerRadius,h,0),b=nr(e.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,x){var _=r[x],w=_.domain,k=_.reversed,S;if(Ce(_.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[g,b]),k&&(S=[S[1],S[0]]);else{S=_.range;var E=S,N=oZ(E,2);l=N[0],c=N[1]}var A=Pj(_,o),C=A.realScaleType,I=A.scale;I.domain(w).range(S),Ij(I);var M=jj(I,Bn(Bn({},_),{},{realScaleType:C})),L=Bn(Bn(Bn({},_),M),{},{range:S,radius:b,realScaleType:C,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:b,startAngle:l,endAngle:c});return Bn(Bn({},v),{},Mj({},x,L))},{})},fZ=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},hZ=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=fZ({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:cZ(c),angleInRadian:c}},pZ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},mZ=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},H1=function(e,r){var n=e.x,i=e.y,o=hZ({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=pZ(r),f=d.startAngle,h=d.endAngle,g=s,b;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;b=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;b=g>=h&&g<=f}return b?Bn(Bn({},r),{},{radius:a,angle:mZ(g,r)}):null},Dj=function(e){return!T.isValidElement(e)&&!Ee(e)&&typeof e!="boolean"?e.className:""};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}var gZ=["offset"];function yZ(t){return wZ(t)||bZ(t)||xZ(t)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(t,e){if(t){if(typeof t=="string")return ov(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(t,e)}}function bZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wZ(t){if(Array.isArray(t))return ov(t)}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Z(t,e){if(t==null)return{};var r=SZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(r),!0).forEach(function(n){EZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e,r){return e=kZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kZ(t){var e=NZ(t,"string");return Fu(e)=="symbol"?e:e+""}function NZ(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}var TZ=function(e){var r=e.value,n=e.formatter,i=Ce(e.children)?r:e.children;return Ee(n)?n(i):i},AZ=function(e,r){var n=rr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},CZ=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,b=l.endAngle,y=l.clockWise,v=(f+h)/2,x=AZ(g,b),_=x>=0?1:-1,w,k;i==="insideStart"?(w=g+_*a,k=y):i==="insideEnd"?(w=b-_*a,k=!y):i==="end"&&(w=b+_*a,k=y),k=x<=0?k:!k;var S=Xe(c,d,v,w),E=Xe(c,d,v,w+(k?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),A=Ce(e.id)?Fs("recharts-radial-line-"):e.id;return D.createElement("text",Bu({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:A,d:N})),D.createElement("textPath",{xlinkHref:"#".concat(A)},r))},PZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=Xe(a,s,c+n,h),b=g.x,y=g.y;return{x:b,y,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=Xe(a,s,v,h),_=x.x,w=x.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},IZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",b=f>0?"start":"end",y=c>=0?1:-1,v=y*i,x=y>0?"end":"start",_=y>0?"start":"end";if(o==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return Et(Et({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var k={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:b};return Et(Et({},k),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(o==="left"){var S={x:s-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Et(Et({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(o==="right"){var E={x:s+c+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Et(Et({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var N=n?{width:c,height:d}:{};return o==="insideLeft"?Et({x:s+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},N):o==="insideRight"?Et({x:s+c-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},N):o==="insideTop"?Et({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:b},N):o==="insideBottom"?Et({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},N):o==="insideTopLeft"?Et({x:s+v,y:l+h,textAnchor:_,verticalAnchor:b},N):o==="insideTopRight"?Et({x:s+c-v,y:l+h,textAnchor:x,verticalAnchor:b},N):o==="insideBottomLeft"?Et({x:s+v,y:l+d-h,textAnchor:_,verticalAnchor:g},N):o==="insideBottomRight"?Et({x:s+c-v,y:l+d-h,textAnchor:x,verticalAnchor:g},N):$s(o)&&(oe(o.x)||vo(o.x))&&(oe(o.y)||vo(o.y))?Et({x:s+nr(o.x,c),y:l+nr(o.y,d),textAnchor:"end",verticalAnchor:"end"},N):Et({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},jZ=function(e){return"cx"in e&&oe(e.cx)};function Mt(t){var e=t.offset,r=e===void 0?5:e,n=_Z(t,gZ),i=Et({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Ce(s)&&Ce(l)&&!T.isValidElement(c)&&!Ee(c))return null;if(T.isValidElement(c))return T.cloneElement(c,i);var g;if(Ee(c)){if(g=T.createElement(c,i),T.isValidElement(g))return g}else g=TZ(i);var b=jZ(o),y=be(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return CZ(i,g,y);var v=b?PZ(i):IZ(i);return D.createElement(Lo,Bu({className:Ie("recharts-label",f)},y,v,{breakAll:h}),g)}Mt.displayName="Label";var Lj=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,b=e.left,y=e.width,v=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(oe(y)&&oe(v)){if(oe(f)&&oe(h))return{x:f,y:h,width:y,height:v};if(oe(g)&&oe(b))return{x:g,y:b,width:y,height:v}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(r)&&oe(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},OZ=function(e,r){return e?e===!0?D.createElement(Mt,{key:"label-implicit",viewBox:r}):Ct(e)?D.createElement(Mt,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Mt?T.cloneElement(e,{key:"label-implicit",viewBox:r}):D.createElement(Mt,{key:"label-implicit",content:e,viewBox:r}):Ee(e)?D.createElement(Mt,{key:"label-implicit",content:e,viewBox:r}):$s(e)?D.createElement(Mt,Bu({viewBox:r},e,{key:"label-implicit"})):null:null},RZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=Lj(e),a=Ir(i,Mt).map(function(l,c){return T.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=OZ(e.label,r||o);return[s].concat(yZ(a))};Mt.parseViewBox=Lj;Mt.renderCallByParent=RZ;function MZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $Z=MZ;const DZ=Ve($Z);function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var LZ=["valueAccessor"],UZ=["data","dataKey","clockWise","id","textBreakAll"];function FZ(t){return GZ(t)||VZ(t)||qZ(t)||BZ()}function BZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(t,e){if(t){if(typeof t=="string")return av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(t,e)}}function VZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GZ(t){if(Array.isArray(t))return av(t)}function av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}function W1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(r),!0).forEach(function(n){HZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HZ(t,e,r){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zZ(t){var e=WZ(t,"string");return qu(e)=="symbol"?e:e+""}function WZ(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J1(t,e){if(t==null)return{};var r=KZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var JZ=function(e){return Array.isArray(e.value)?DZ(e.value):e.value};function Zn(t){var e=t.valueAccessor,r=e===void 0?JZ:e,n=J1(t,LZ),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=J1(n,UZ);return!i||!i.length?null:D.createElement(De,{className:"recharts-label-list"},i.map(function(d,f){var h=Ce(o)?r(d,f):Tt(d&&d.payload,o),g=Ce(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Mt,Gf({},be(d,!0),c,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Mt.parseViewBox(Ce(a)?d:K1(K1({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Zn.displayName="LabelList";function YZ(t,e){return t?t===!0?D.createElement(Zn,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Ee(t)?D.createElement(Zn,{key:"labelList-implicit",data:e,content:t}):$s(t)?D.createElement(Zn,Gf({data:e},t,{key:"labelList-implicit"})):null:null}function XZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ir(n,Zn).map(function(a,s){return T.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=YZ(t.label,e);return[o].concat(FZ(i))}Zn.renderCallByParent=XZ;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sv.apply(this,arguments)}function Y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(r),!0).forEach(function(n){QZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QZ(t,e,r){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZZ(t){var e=eee(t,"string");return Vu(e)=="symbol"?e:e+""}function eee(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tee=function(e,r){var n=rr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},nd=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Vf,h=c?o:o+a*f,g=Xe(r,n,d,h),b=Xe(r,n,i,h),y=c?o-a*f:o,v=Xe(r,n,d*Math.cos(f*Vf),y);return{center:g,circleTangency:b,lineTangency:v,theta:f}},Uj=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=tee(a,s),c=a+l,d=Xe(r,n,o,a),f=Xe(r,n,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Xe(r,n,i,a),b=Xe(r,n,i,c);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ree=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=rr(d-c),h=nd({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,b=h.lineTangency,y=h.theta,v=nd({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=v.circleTangency,_=v.lineTangency,w=v.theta,k=l?Math.abs(c-d):Math.abs(c-d)-y-w;if(k<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Uj({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=nd({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=E.circleTangency,A=E.lineTangency,C=E.theta,I=nd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=I.circleTangency,L=I.lineTangency,O=I.theta,j=l?Math.abs(c-d):Math.abs(c-d)-C-O;if(j<0&&a===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},nee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fj=function(e){var r=X1(X1({},nee),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(a<o||d===f)return null;var g=Ie("recharts-sector",h),b=a-o,y=nr(s,b,0,!0),v;return y>0&&Math.abs(d-f)<360?v=ree({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=Uj({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),D.createElement("path",sv({},be(r,!0),{className:g,d:v,role:"img"}))};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lv.apply(this,arguments)}function Q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(r),!0).forEach(function(n){iee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iee(t,e,r){return e=oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oee(t){var e=aee(t,"string");return Gu(e)=="symbol"?e:e+""}function aee(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eE={curveBasisClosed:iq,curveBasisOpen:oq,curveBasis:nq,curveBumpX:V6,curveBumpY:G6,curveLinearClosed:aq,curveLinear:hp,curveMonotoneX:sq,curveMonotoneY:lq,curveNatural:uq,curveStep:cq,curveStepAfter:fq,curveStepBefore:dq},id=function(e){return e.x===+e.x&&e.y===+e.y},hl=function(e){return e.x},pl=function(e){return e.y},see=function(e,r){if(Ee(e))return e;var n="curve".concat(dp(e));return(n==="curveMonotone"||n==="curveBump")&&r?eE["".concat(n).concat(r==="vertical"?"Y":"X")]:eE[n]||hp},lee=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=see(n,s),f=c?o.filter(function(y){return id(y)}):o,h;if(Array.isArray(a)){var g=c?a.filter(function(y){return id(y)}):a,b=f.map(function(y,v){return Z1(Z1({},y),{},{base:g[v]})});return s==="vertical"?h=Kc().y(pl).x1(hl).x0(function(y){return y.base.x}):h=Kc().x(hl).y1(pl).y0(function(y){return y.base.y}),h.defined(id).curve(d),h(b)}return s==="vertical"&&oe(a)?h=Kc().y(pl).x1(hl).x0(a):oe(a)?h=Kc().x(hl).y1(pl).y0(a):h=RP().x(hl).y(pl),h.defined(id).curve(d),h(f)},Hf=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?lee(e):i;return T.createElement("path",lv({},be(e,!1),mf(e),{className:Ie("recharts-curve",r),d:a,ref:o}))},Bj={exports:{}},uee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cee=uee,dee=cee;function qj(){}function Vj(){}Vj.resetWarningCache=qj;var fee=function(){function t(n,i,o,a,s,l){if(l!==dee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vj,resetWarningCache:qj};return r.PropTypes=r,r};Bj.exports=fee();var hee=Bj.exports;const Fe=Ve(hee),{getOwnPropertyNames:pee,getOwnPropertySymbols:mee}=Object,{hasOwnProperty:gee}=Object.prototype;function Zm(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function od(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);const l=t(r,n,i);return o.delete(r),o.delete(n),l}}function yee(t){return t!=null?t[Symbol.toStringTag]:void 0}function tE(t){return pee(t).concat(mee(t))}const vee=Object.hasOwn||((t,e)=>gee.call(t,e));function Qo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const xee="__v",bee="__o",wee="_owner",{getOwnPropertyDescriptor:rE,keys:nE}=Object;function _ee(t,e){return t.byteLength===e.byteLength&&zf(new Uint8Array(t),new Uint8Array(e))}function See(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Eee(t,e){return t.byteLength===e.byteLength&&zf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function kee(t,e){return Qo(t.getTime(),e.getTime())}function Nee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tee(t,e){return t===e}function iE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let d=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(r.equals(h[0],g[0],l,f,t,e,r)&&r.equals(h[1],g[1],h[0],g[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const Aee=Qo;function Cee(t,e,r){const n=nE(t);let i=n.length;if(nE(e).length!==i)return!1;for(;i-- >0;)if(!Gj(t,e,r,n[i]))return!1;return!0}function ml(t,e,r){const n=tE(t);let i=n.length;if(tE(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=n[i],!Gj(t,e,r,o)||(a=rE(t,o),s=rE(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Pee(t,e){return Qo(t.valueOf(),e.valueOf())}function Iee(t,e){return t.source===e.source&&t.flags===e.flags}function oE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function zf(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function jee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Gj(t,e,r,n){return(n===wee||n===bee||n===xee)&&(t.$$typeof||e.$$typeof)?!0:vee(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Oee="[object ArrayBuffer]",Ree="[object Arguments]",Mee="[object Boolean]",$ee="[object DataView]",Dee="[object Date]",Lee="[object Error]",Uee="[object Map]",Fee="[object Number]",Bee="[object Object]",qee="[object RegExp]",Vee="[object Set]",Gee="[object String]",Hee={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},zee="[object URL]",Wee=Object.prototype.toString;function Kee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:b}){return function(v,x,_){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?s(v,x,_):w==="function"?o(v,x,_):!1;const k=v.constructor;if(k!==x.constructor)return!1;if(k===Object)return l(v,x,_);if(Array.isArray(v))return e(v,x,_);if(k===Date)return n(v,x,_);if(k===RegExp)return d(v,x,_);if(k===Map)return a(v,x,_);if(k===Set)return f(v,x,_);const S=Wee.call(v);if(S===Dee)return n(v,x,_);if(S===qee)return d(v,x,_);if(S===Uee)return a(v,x,_);if(S===Vee)return f(v,x,_);if(S===Bee)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,_);if(S===zee)return g(v,x,_);if(S===Lee)return i(v,x,_);if(S===Ree)return l(v,x,_);if(Hee[S])return h(v,x,_);if(S===Oee)return t(v,x,_);if(S===$ee)return r(v,x,_);if(S===Mee||S===Fee||S===Gee)return c(v,x,_);if(b){let E=b[S];if(!E){const N=yee(v);N&&(E=b[N])}if(E)return E(v,x,_)}return!1}}function Jee({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:_ee,areArraysEqual:r?ml:See,areDataViewsEqual:Eee,areDatesEqual:kee,areErrorsEqual:Nee,areFunctionsEqual:Tee,areMapsEqual:r?Zm(iE,ml):iE,areNumbersEqual:Aee,areObjectsEqual:r?ml:Cee,arePrimitiveWrappersEqual:Pee,areRegExpsEqual:Iee,areSetsEqual:r?Zm(oE,ml):oE,areTypedArraysEqual:r?Zm(zf,ml):zf,areUrlsEqual:jee,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=od(n.areArraysEqual),o=od(n.areMapsEqual),a=od(n.areObjectsEqual),s=od(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return n}function Yee(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function Xee({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:d}=r();return e(s,l,{cache:c,equals:n,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Qee=Yi();Yi({strict:!0});Yi({circular:!0});Yi({circular:!0,strict:!0});Yi({createInternalComparator:()=>Qo});Yi({strict:!0,createInternalComparator:()=>Qo});Yi({circular:!0,createInternalComparator:()=>Qo});Yi({circular:!0,createInternalComparator:()=>Qo,strict:!0});function Yi(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=Jee(t),a=Kee(o),s=r?r(a):Yee(a);return Xee({circular:e,comparator:a,createState:n,equals:s,strict:i})}function Zee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function aE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):Zee(i)};requestAnimationFrame(n)}function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function ete(t){return ite(t)||nte(t)||rte(t)||tte()}function tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return sE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(t,e)}}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ite(t){if(Array.isArray(t))return t}function ote(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=ete(a),l=s[0],c=s.slice(1);if(typeof l=="number"){aE(i.bind(null,c),l);return}i(l),aE(i.bind(null,c));return}uv(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function lE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(r),!0).forEach(function(n){Hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hj(t,e,r){return e=ate(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ate(t){var e=ste(t,"string");return Hu(e)==="symbol"?e:String(e)}function ste(t,e){if(Hu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lte=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},ute=function(e){return e},cte=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gl=function(e,r){return Object.keys(r).reduce(function(n,i){return uE(uE({},n),{},Hj({},i,e(i,r[i])))},{})},cE=function(e,r,n){return e.map(function(i){return"".concat(cte(i)," ").concat(r,"ms ").concat(n)}).join(",")};function dte(t,e){return pte(t)||hte(t,e)||zj(t,e)||fte()}function fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pte(t){if(Array.isArray(t))return t}function mte(t){return vte(t)||yte(t)||zj(t)||gte()}function gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zj(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vte(t){if(Array.isArray(t))return cv(t)}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wf=1e-4,Wj=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Kj=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dE=function(e,r){return function(n){var i=Wj(e,r);return Kj(i,n)}},xte=function(e,r){return function(n){var i=Wj(e,r),o=[].concat(mte(i.map(function(a,s){return a*s}).slice(1)),[0]);return Kj(o,n)}},fE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=dte(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=dE(i,a),h=dE(o,s),g=xte(i,a),b=function(x){return x>1?1:x<0?0:x},y=function(x){for(var _=x>1?1:x,w=_,k=0;k<8;++k){var S=f(w)-_,E=g(w);if(Math.abs(S-_)<Wf||E<Wf)return h(w);w=b(w-S/E)}return h(w)};return y.isStepper=!1,y},bte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*n,b=h*o,y=h+(g-b)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<Wf&&Math.abs(y)<Wf?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},wte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fE(i);case"spring":return bte();default:if(i.split("(")[0]==="cubic-bezier")return fE(i)}return typeof i=="function"?i:null};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function hE(t){return Ete(t)||Ste(t)||Jj(t)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ste(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ete(t){if(Array.isArray(t))return fv(t)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){dv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dv(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=Nte(t,"string");return zu(e)==="symbol"?e:String(e)}function Nte(t,e){if(zu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e){return Pte(t)||Cte(t,e)||Jj(t,e)||Ate()}function Ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jj(t,e){if(t){if(typeof t=="string")return fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(t,e)}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Pte(t){if(Array.isArray(t))return t}var Kf=function(e,r,n){return e+(r-e)*n},hv=function(e){var r=e.from,n=e.to;return r!==n},Ite=function t(e,r,n){var i=Gl(function(o,a){if(hv(a)){var s=e(a.from,a.to,a.velocity),l=Tte(s,2),c=l[0],d=l[1];return Bt(Bt({},a),{},{from:c,velocity:d})}return a},r);return n<1?Gl(function(o,a){return hv(a)?Bt(Bt({},a),{},{velocity:Kf(a.velocity,i[o].velocity,n),from:Kf(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const jte=function(t,e,r,n,i){var o=lte(t,e),a=o.reduce(function(v,x){return Bt(Bt({},v),{},dv({},x,[t[x],e[x]]))},{}),s=o.reduce(function(v,x){return Bt(Bt({},v),{},dv({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Gl(function(x,_){return _.from},s)},g=function(){return!Object.values(s).filter(hv).length},b=function(x){c||(c=x);var _=x-c,w=_/r.dt;s=Ite(r,s,w),i(Bt(Bt(Bt({},t),e),h())),c=x,g()||(l=requestAnimationFrame(f))},y=function(x){d||(d=x);var _=(x-d)/n,w=Gl(function(S,E){return Kf.apply(void 0,hE(E).concat([r(_)]))},a);if(i(Bt(Bt(Bt({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var k=Gl(function(S,E){return Kf.apply(void 0,hE(E).concat([r(1)]))},a);i(Bt(Bt(Bt({},t),e),k))}};return f=r.isStepper?b:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}var Ote=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rte(t,e){if(t==null)return{};var r=Mte(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mte(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function eg(t){return Ute(t)||Lte(t)||Dte(t)||$te()}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dte(t,e){if(t){if(typeof t=="string")return pv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pv(t,e)}}function Lte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ute(t){if(Array.isArray(t))return pv(t)}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){El(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function El(t,e,r){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yj(n.key),n)}}function qte(t,e,r){return e&&Bte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yj(t){var e=Vte(t,"string");return fs(e)==="symbol"?e:String(e)}function Vte(t,e){if(fs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mv(t,e)}function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mv(t,e)}function Hte(t){var e=zte();return function(){var n=Jf(t),i;if(e){var o=Jf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return gv(this,i)}}function gv(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yv(t)}function yv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(t)}var Cn=function(t){Gte(r,t);var e=Hte(r);function r(n,i){var o;Fte(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yv(o)),o.changeStyle=o.changeStyle.bind(yv(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),gv(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},gv(o);o.state={style:l?El({},l,c):c}}else o.state={style:{}};return o}return qte(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?El({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(Qee(i.to,d)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||c?f:i.to;if(this.state&&h){var v={style:l?El({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(en(en({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=jte(a,s,wte(c),l,this.changeStyle),b=function(){o.stopJSAnimation=g()};this.manager.start([h,d,b,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,g=function(y,v,x){if(x===0)return y;var _=v.duration,w=v.easing,k=w===void 0?"ease":w,S=v.style,E=v.properties,N=v.onAnimationEnd,A=x>0?a[x-1]:v,C=E||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(eg(y),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:_,easing:k}),_]);var I=cE(C,_,k),M=en(en(en({},A.style),S),{},{transition:I});return[].concat(eg(y),[M,_,N]).filter(ute)};return this.manager.start([l].concat(eg(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ote());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?El({},s,l):l,v=cE(Object.keys(y),a,c);b.start([d,o,en(en({},y),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rte(i,Ote),c=T.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var f=function(g){var b=g.props,y=b.style,v=y===void 0?{}:y,x=b.className,_=T.cloneElement(g,en(en({},l),{},{style:en(en({},v),d),className:x}));return _};return c===1?f(T.Children.only(o)):D.createElement("div",null,T.Children.map(o,function(h){return f(h)}))}}]),r}(T.PureComponent);Cn.displayName="Animate";Cn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cn.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yf.apply(this,arguments)}function Wte(t,e){return Xte(t)||Yte(t,e)||Jte(t,e)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return gE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(t,e)}}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Xte(t){if(Array.isArray(t))return t}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qte(t,e,r){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zte(t){var e=ere(t,"string");return Wu(e)=="symbol"?e:e+""}function ere(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xE=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var b=Math.min(a,o);d="M ".concat(e,",").concat(r+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+l*b,",").concat(r,`
            L `).concat(e+n-l*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*b,`
            L `).concat(e+n,",").concat(r+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+n-l*b,",").concat(r+i,`
            L `).concat(e+l*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*b," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},tre=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return n>=c&&n<=d&&i>=f&&i<=h}return!1},rre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ob=function(e){var r=vE(vE({},rre),e),n=T.useRef(),i=T.useState(-1),o=Wte(i,2),a=o[0],s=o[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=Ie("recharts-rectangle",g);return _?D.createElement(Cn,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:y,animationEasing:b,isActive:_},function(k){var S=k.width,E=k.height,N=k.x,A=k.y;return D.createElement(Cn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:b},D.createElement("path",Yf({},be(r,!0),{className:w,d:xE(N,A,S,E,h),ref:n})))}):D.createElement("path",Yf({},be(r,!0),{className:w,d:xE(l,c,d,f,h)}))},nre=["points","className","baseLinePoints","connectNulls"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ca.apply(this,arguments)}function ire(t,e){if(t==null)return{};var r=ore(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ore(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bE(t){return ure(t)||lre(t)||sre(t)||are()}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(t,e){if(t){if(typeof t=="string")return vv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vv(t,e)}}function lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ure(t){if(Array.isArray(t))return vv(t)}function vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wE=function(e){return e&&e.x===+e.x&&e.y===+e.y},cre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){wE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),wE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Hl=function(e,r){var n=cre(e);r&&(n=[n.reduce(function(o,a){return[].concat(bE(o),bE(a))},[])]);var i=n.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},dre=function(e,r,n){var i=Hl(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hl(r.reverse(),n).slice(1))},fre=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=ire(e,nre);if(!r||!r.length)return null;var s=Ie("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=dre(r,i,o);return D.createElement("g",{className:s},D.createElement("path",Ca({},be(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?D.createElement("path",Ca({},be(a,!0),{fill:"none",d:Hl(r,o)})):null,l?D.createElement("path",Ca({},be(a,!0),{fill:"none",d:Hl(i,o)})):null)}var d=Hl(r,o);return D.createElement("path",Ca({},be(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xv.apply(this,arguments)}var Cp=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=Ie("recharts-dot",o);return r===+r&&n===+n&&i===+i?T.createElement("circle",xv({},be(e,!1),mf(e),{className:a,cx:r,cy:n,r:i})):null};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}var hre=["x","y","top","left","width","height","className"];function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bv.apply(this,arguments)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e,r){return e=gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gre(t){var e=yre(t,"string");return Ku(e)=="symbol"?e:e+""}function yre(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vre(t,e){if(t==null)return{};var r=xre(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bre=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},wre=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,b=e.className,y=vre(e,hre),v=pre({x:n,y:o,top:s,left:c,width:f,height:g},y);return!oe(n)||!oe(o)||!oe(f)||!oe(g)||!oe(s)||!oe(c)?null:D.createElement("path",bv({},be(v,!0),{className:Ie("recharts-cross",b),d:bre(n,o,f,g,s,c)}))},_re=Ep,Sre=lj,Ere=On;function kre(t,e){return t&&t.length?_re(t,Ere(e),Sre):void 0}var Nre=kre;const Tre=Ve(Nre);var Are=Ep,Cre=On,Pre=uj;function Ire(t,e){return t&&t.length?Are(t,Cre(e),Pre):void 0}var jre=Ire;const Ore=Ve(jre);var Rre=["cx","cy","angle","ticks","axisLine"],Mre=["ticks","tick","angle","tickFormatter","stroke"];function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){Pp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EE(t,e){if(t==null)return{};var r=$re(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qj(n.key),n)}}function Lre(t,e,r){return e&&kE(t.prototype,e),r&&kE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ure(t,e,r){return e=Xf(e),Fre(t,Xj()?Reflect.construct(e,r||[],Xf(t).constructor):e.apply(t,r))}function Fre(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bre(t)}function Bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function Xf(t){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(t)}function qre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wv(t,e)}function Pp(t,e,r){return e=Qj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qj(t){var e=Vre(t,"string");return hs(e)=="symbol"?e:e+""}function Vre(t,e){if(hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ip=function(t){function e(){return Dre(this,e),Ure(this,e,arguments)}return qre(e,t),Lre(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Xe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=Tre(s,function(d){return d.coordinate||0}),c=Ore(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=n.axisLine,c=EE(n,Rre),d=s.reduce(function(b,y){return[Math.min(b[0],y.coordinate),Math.max(b[1],y.coordinate)]},[1/0,-1/0]),f=Xe(i,o,d[0],a),h=Xe(i,o,d[1],a),g=to(to(to({},be(c,!1)),{},{fill:"none"},be(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",zl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=EE(i,Mre),f=this.getTickTextAnchor(),h=be(d,!1),g=be(a,!1),b=o.map(function(y,v){var x=n.getTickValueCoord(y),_=to(to(to(to({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:c},g),{},{index:v},x),{},{payload:y});return D.createElement(De,zl({className:Ie("recharts-polar-radius-axis-tick",Dj(a)),key:"tick-".concat(y.coordinate)},Do(n.props,y,v)),e.renderTickItem(a,_,l?l(y.value,v):y.value))});return D.createElement(De,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,a=n.tick;return!i||!i.length?null:D.createElement(De,{className:Ie("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):Ee(n)?a=n(i):a=D.createElement(Lo,zl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(T.PureComponent);Pp(Ip,"displayName","PolarRadiusAxis");Pp(Ip,"axisType","radiusAxis");Pp(Ip,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ho.apply(this,arguments)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e2(n.key),n)}}function Hre(t,e,r){return e&&TE(t.prototype,e),r&&TE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zre(t,e,r){return e=Qf(e),Wre(t,Zj()?Reflect.construct(e,r||[],Qf(t).constructor):e.apply(t,r))}function Wre(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kre(t)}function Kre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zj=function(){return!!t})()}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(t)}function Jre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_v(t,e)}function jp(t,e,r){return e=e2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e2(t){var e=Yre(t,"string");return ps(e)=="symbol"?e:e+""}function Yre(t,e){if(ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xre=Math.PI/180,AE=1e-5,Op=function(t){function e(){return Gre(this,e),zre(this,e,arguments)}return Jre(e,t),Hre(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=Xe(o,a,s,n.coordinate),h=Xe(o,a,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*Xre),a;return o>AE?a=i==="outer"?"start":"end":o<-AE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.radius,s=n.axisLine,l=n.axisLineType,c=ro(ro({},be(this.props,!1)),{},{fill:"none"},be(s,!1));if(l==="circle")return D.createElement(Cp,ho({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return Xe(i,o,a,h.coordinate)});return D.createElement(fre,ho({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=be(this.props,!1),f=be(a,!1),h=ro(ro({},d),{},{fill:"none"},be(s,!1)),g=o.map(function(b,y){var v=n.getTickLineCoord(b),x=n.getTickTextAnchor(b),_=ro(ro(ro({textAnchor:x},d),{},{stroke:"none",fill:c},f),{},{index:y,payload:b,x:v.x2,y:v.y2});return D.createElement(De,ho({className:Ie("recharts-polar-angle-axis-tick",Dj(a)),key:"tick-".concat(b.coordinate)},Do(n.props,b,y)),s&&D.createElement("line",ho({className:"recharts-polar-angle-axis-tick-line"},h,v)),a&&e.renderTickItem(a,_,l?l(b.value,y):b.value))});return D.createElement(De,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,a=n.axisLine;return o<=0||!i||!i.length?null:D.createElement(De,{className:Ie("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):Ee(n)?a=n(i):a=D.createElement(Lo,ho({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(T.PureComponent);jp(Op,"displayName","PolarAngleAxis");jp(Op,"axisType","angleAxis");jp(Op,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Qre=iI,Zre=Qre(Object.getPrototypeOf,Object),ene=Zre,tne=fi,rne=ene,nne=hi,ine="[object Object]",one=Function.prototype,ane=Object.prototype,t2=one.toString,sne=ane.hasOwnProperty,lne=t2.call(Object);function une(t){if(!nne(t)||tne(t)!=ine)return!1;var e=rne(t);if(e===null)return!0;var r=sne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&t2.call(r)==lne}var cne=une;const dne=Ve(cne);var fne=fi,hne=hi,pne="[object Boolean]";function mne(t){return t===!0||t===!1||hne(t)&&fne(t)==pne}var gne=mne;const yne=Ve(gne);function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zf.apply(this,arguments)}function vne(t,e){return _ne(t)||wne(t,e)||bne(t,e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _ne(t){if(Array.isArray(t))return t}function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){Sne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sne(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=kne(t,"string");return Ju(e)=="symbol"?e:e+""}function kne(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jE=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},Nne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tne=function(e){var r=IE(IE({},Nne),e),n=T.useRef(),i=T.useState(-1),o=vne(i,2),a=o[0],s=o[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Ie("recharts-trapezoid",g);return x?D.createElement(Cn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:b,isActive:x},function(w){var k=w.upperWidth,S=w.lowerWidth,E=w.height,N=w.x,A=w.y;return D.createElement(Cn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:b},D.createElement("path",Zf({},be(r,!0),{className:_,d:jE(N,A,k,S,E),ref:n})))}):D.createElement("g",null,D.createElement("path",Zf({},be(r,!0),{className:_,d:jE(l,c,d,f,h)})))},Ane=["option","shapeType","propTransformer","activeClassName","isActive"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Cne(t,e){if(t==null)return{};var r=Pne(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){Ine(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ine(t,e,r){return e=jne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jne(t){var e=One(t,"string");return Yu(e)=="symbol"?e:e+""}function One(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rne(t,e){return eh(eh({},e),t)}function Mne(t,e){return t==="symbols"}function RE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return D.createElement(ob,r);case"trapezoid":return D.createElement(Tne,r);case"sector":return D.createElement(Fj,r);case"symbols":if(Mne(e))return D.createElement(Ex,r);break;default:return null}}function $ne(t){return T.isValidElement(t)?t.props:t}function r2(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Rne:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Cne(t,Ane),c;if(T.isValidElement(e))c=T.cloneElement(e,eh(eh({},l),$ne(e)));else if(Ee(e))c=e(l);else if(dne(e)&&!yne(e)){var d=i(e,l);c=D.createElement(RE,{shapeType:r,elementProps:d})}else{var f=l;c=D.createElement(RE,{shapeType:r,elementProps:f})}return s?D.createElement(De,{className:a},c):c}function Rp(t,e){return e!=null&&"trapezoids"in t.props}function Mp(t,e){return e!=null&&"sectors"in t.props}function Xu(t,e){return e!=null&&"points"in t.props}function Dne(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function Lne(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Une(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Fne(t,e){var r;return Rp(t,e)?r=Dne:Mp(t,e)?r=Lne:Xu(t,e)&&(r=Une),r}function Bne(t,e){var r;return Rp(t,e)?r="trapezoids":Mp(t,e)?r="sectors":Xu(t,e)&&(r="points"),r}function qne(t,e){if(Rp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xu(t,e)?e.payload:{}}function Vne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Bne(r,e),o=qne(r,e),a=n.filter(function(l,c){var d=Sc(o,l),f=r.props[i].filter(function(b){var y=Fne(r,e);return y(b,e)}),h=r.props[i].indexOf(f[f.length-1]),g=c===h;return d&&g}),s=n.indexOf(a[a.length-1]);return s}var Nd;function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pa.apply(this,arguments)}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){qr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i2(n.key),n)}}function Hne(t,e,r){return e&&$E(t.prototype,e),r&&$E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zne(t,e,r){return e=th(e),Wne(t,n2()?Reflect.construct(e,r||[],th(t).constructor):e.apply(t,r))}function Wne(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kne(t)}function Kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},th(t)}function Jne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sv(t,e)}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sv(t,e)}function qr(t,e,r){return e=i2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i2(t){var e=Yne(t,"string");return ms(e)=="symbol"?e:e+""}function Yne(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pn=function(t){function e(r){var n;return Gne(this,e),n=zne(this,e,[r]),qr(n,"pieRef",null),qr(n,"sectorRefs",[]),qr(n,"id",Fs("recharts-pie-")),qr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ee(i)&&i()}),qr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ee(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Jne(e,t),Hne(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,d=be(this.props,!1),f=be(a,!1),h=be(s,!1),g=a&&a.offsetRadius||20,b=n.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,_=Xe(y.cx,y.cy,y.outerRadius+g,x),w=Ke(Ke(Ke(Ke({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,y.cx)},_),k=Ke(Ke(Ke(Ke({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Xe(y.cx,y.cy,y.outerRadius,x),_]}),S=l;return Ce(l)&&Ce(c)?S="value":Ce(l)&&(S=c),D.createElement(De,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,k,"line"),e.renderLabelItem(a,w,Tt(y,S)))});return D.createElement(De,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,b=Ke(Ke({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return D.createElement(De,Pa({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Do(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),D.createElement(r2,Pa({option:g,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return D.createElement(Cn,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var y=b.t,v=[],x=o&&o[0],_=x.startAngle;return o.forEach(function(w,k){var S=h&&h[k],E=k>0?Pr(w,"paddingAngle",0):0;if(S){var N=Sr(S.endAngle-S.startAngle,w.endAngle-w.startAngle),A=Ke(Ke({},w),{},{startAngle:_+E,endAngle:_+N(y)+E});v.push(A),_=A.endAngle}else{var C=w.endAngle,I=w.startAngle,M=Sr(0,C-I),L=M(y),O=Ke(Ke({},w),{},{startAngle:_+E,endAngle:_+L+E});v.push(O),_=O.endAngle}}),D.createElement(De,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Sc(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,b=this.state.isAnimationFinished;if(o||!a||!a.length||!oe(c)||!oe(d)||!oe(f)||!oe(h))return null;var y=Ie("recharts-pie",s);return D.createElement(De,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),Mt.renderCallByParent(this.props,null,!1),(!g||b)&&Zn.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(D.isValidElement(n))return D.cloneElement(n,i);if(Ee(n))return n(i);var a=Ie("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(Hf,Pa({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,o){if(D.isValidElement(n))return D.cloneElement(n,i);var a=o;if(Ee(n)&&(a=n(i),D.isValidElement(a)))return a;var s=Ie("recharts-pie-label-text",typeof n!="boolean"&&!Ee(n)?n.className:"");return D.createElement(Lo,Pa({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(T.PureComponent);Nd=Pn;qr(Pn,"displayName","Pie");qr(Pn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Jo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qr(Pn,"parseDeltaAngle",function(t,e){var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});qr(Pn,"getRealPieData",function(t){var e=t.data,r=t.children,n=be(t,!1),i=Ir(r,Tu);return e&&e.length?e.map(function(o,a){return Ke(Ke(Ke({payload:o},n),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ke(Ke({},n),o.props)}):[]});qr(Pn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,a=$j(i,o),s=n+nr(t.cx,i,i/2),l=r+nr(t.cy,o,o/2),c=nr(t.innerRadius,a,0),d=nr(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});qr(Pn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ke(Ke({},e.type.defaultProps),e.props):e.props,i=Nd.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,a=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),b=Nd.parseCoordinateOfPie(n,r),y=Nd.parseDeltaAngle(a,s),v=Math.abs(y),x=c;Ce(c)&&Ce(f)?(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ce(c)&&(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var _=i.filter(function(A){return Tt(A,x,0)!==0}).length,w=(v>=360?_:_-1)*l,k=v-_*g-w,S=i.reduce(function(A,C){var I=Tt(C,x,0);return A+(oe(I)?I:0)},0),E;if(S>0){var N;E=i.map(function(A,C){var I=Tt(A,x,0),M=Tt(A,d,C),L=(oe(I)?I:0)/S,O;C?O=N.endAngle+rr(y)*l*(I!==0?1:0):O=a;var j=O+rr(y)*((I!==0?g:0)+L*k),P=(O+j)/2,$=(b.innerRadius+b.outerRadius)/2,B=[{name:M,value:I,payload:A,dataKey:x,type:h}],F=Xe(b.cx,b.cy,$,P);return N=Ke(Ke(Ke({percent:L,cornerRadius:o,name:M,tooltipPayload:B,midAngle:P,middleRadius:$,tooltipPosition:F},A),b),{},{value:Tt(A,x),startAngle:O,endAngle:j,payload:A,paddingAngle:rr(y)*l}),N})}return Ke(Ke({},b),{},{sectors:E,data:i})});var Xne=Math.ceil,Qne=Math.max;function Zne(t,e,r,n){for(var i=-1,o=Qne(Xne((e-t)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=t,t+=r;return a}var eie=Zne,tie=SI,DE=1/0,rie=17976931348623157e292;function nie(t){if(!t)return t===0?t:0;if(t=tie(t),t===DE||t===-DE){var e=t<0?-1:1;return e*rie}return t===t?t:0}var o2=nie,iie=eie,oie=yp,tg=o2;function aie(t){return function(e,r,n){return n&&typeof n!="number"&&oie(e,r,n)&&(r=n=void 0),e=tg(e),r===void 0?(r=e,e=0):r=tg(r),n=n===void 0?e<r?1:-1:tg(n),iie(e,r,n,t)}}var sie=aie,lie=sie,uie=lie(),cie=uie;const rh=Ve(cie);function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){a2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a2(t,e,r){return e=die(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function die(t){var e=fie(t,"string");return Qu(e)=="symbol"?e:e+""}function fie(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hie=["Webkit","Moz","O","ms"],pie=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=hie.reduce(function(o,a){return UE(UE({},o),{},a2({},a+n,r))},{});return i[e]=r,i};function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}function FE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l2(n.key),n)}}function gie(t,e,r){return e&&BE(t.prototype,e),r&&BE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,r){return e=ih(e),vie(t,s2()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function vie(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s2=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ev(t,e)}function br(t,e,r){return e=l2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l2(t){var e=wie(t,"string");return gs(e)=="symbol"?e:e+""}function wie(t,e){if(gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ie=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ql().domain(rh(0,l)).range([o,o+a-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},qE=function(e){return e.changedTouches&&!!e.changedTouches.length},ys=function(t){function e(r){var n;return mie(this,e),n=yie(this,e,[r]),br(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),br(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),br(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),br(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),br(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),br(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),br(n,"handleSlideDragStart",function(i){var o=qE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return bie(e,t),gie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),b=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:b===d?d:b-b%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Tt(o[n],s,n);return Ee(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,b=l.onChange,y=n.pageX-o;y>0?y=Math.min(y,c+d-f-s,c+d-f-a):y<0&&(y=Math.max(y,c-a,c-s));var v=this.getIndex({startX:a+y,endX:s+y});(v.startIndex!==h||v.endIndex!==g)&&b&&b(v),this.setState({startX:a+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=qE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,b=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,f+h-g-c):_<0&&(_=Math.max(_,f-c)),x[a]=c+_;var w=this.getIndex(x),k=w.startIndex,S=w.endIndex,E=function(){var A=v.length-1;return a==="startX"&&(s>l?k%y===0:S%y===0)||s<l&&S===A||a==="endX"&&(s>l?S%y===0:k%y===0)||s>l&&S===A};this.setState(br(br({},a,c+_),"brushMoveStartX",n.pageX),function(){b&&E()&&b(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(br({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return D.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=T.Children.only(c);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,b=l.data,y=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),_=rg(rg({},be(this.props,!1)),{},{x,y:c,width:d,height:f}),w=g||"Min value: ".concat((o=b[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=b[v])===null||a===void 0?void 0:a.name);return D.createElement(De,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,b={pointerEvents:"none",fill:c};return D.createElement(De,{className:"recharts-brush-texts"},D.createElement(Lo,nh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},b),this.getTextOfTick(i)),D.createElement(Lo,nh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,b=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(l)||!oe(c)||!oe(d)||c<=0||d<=0)return null;var w=Ie("recharts-brush",o),k=D.Children.count(a)===1,S=pie("userSelect","none");return D.createElement(De,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(y||v||x||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,i):Ee(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return rg({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?_ie({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])}(T.PureComponent);br(ys,"displayName","Brush");br(ys,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sie=Ix;function Eie(t,e){var r;return Sie(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var kie=Eie,Nie=YP,Tie=On,Aie=kie,Cie=yr,Pie=yp;function Iie(t,e,r){var n=Cie(t)?Nie:Aie;return r&&Pie(t,e,r)&&(e=void 0),n(t,Tie(e))}var jie=Iie;const Oie=Ve(jie);var Nn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},VE=vI;function Rie(t,e,r){e=="__proto__"&&VE?VE(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Mie=Rie,$ie=Mie,Die=gI,Lie=On;function Uie(t,e){var r={};return e=Lie(e),Die(t,function(n,i,o){$ie(r,i,e(n,i,o))}),r}var Fie=Uie;const Bie=Ve(Fie);function qie(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Vie=qie,Gie=Ix;function Hie(t,e){var r=!0;return Gie(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var zie=Hie,Wie=Vie,Kie=zie,Jie=On,Yie=yr,Xie=yp;function Qie(t,e,r){var n=Yie(t)?Wie:Kie;return r&&Xie(t,e,r)&&(e=void 0),n(t,Jie(e))}var Zie=Qie;const u2=Ve(Zie);var eoe=["x","y"];function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function toe(t,e,r){return e=roe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function roe(t){var e=noe(t,"string");return Zu(e)=="symbol"?e:e+""}function noe(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ioe(t,e){if(t==null)return{};var r=ooe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ooe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aoe(t,e){var r=t.x,n=t.y,i=ioe(t,eoe),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return gl(gl(gl(gl(gl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function HE(t){return D.createElement(r2,kv({shapeType:"rectangle",propTransformer:aoe,activeClassName:"recharts-active-bar"},t))}var soe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=oe(n)||AB(n);return o?e(n,i):(o||Fo(),r)}},loe=["value","background"],c2;function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function uoe(t,e){if(t==null)return{};var r=coe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function coe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oh.apply(this,arguments)}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){Pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function doe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f2(n.key),n)}}function foe(t,e,r){return e&&WE(t.prototype,e),r&&WE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hoe(t,e,r){return e=ah(e),poe(t,d2()?Reflect.construct(e,r||[],ah(t).constructor):e.apply(t,r))}function poe(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(t)}function moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d2=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(t)}function goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nv(t,e)}function Pi(t,e,r){return e=f2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f2(t){var e=yoe(t,"string");return vs(e)=="symbol"?e:e+""}function yoe(t,e){if(vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var In=function(t){function e(){var r;doe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=hoe(this,e,[].concat(i)),Pi(r,"state",{isAnimationFinished:!1}),Pi(r,"id",Fs("recharts-bar-")),Pi(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Pi(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return goe(e,t),foe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=be(this.props,!1);return n&&n.map(function(f,h){var g=h===l,b=g?c:a,y=yt(yt(yt({},d),f),{},{isActive:g,option:b,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(De,oh({className:"recharts-bar-rectangle"},Do(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(HE,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(Cn,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,y=o.map(function(v,x){var _=h&&h[x];if(_){var w=Sr(_.x,v.x),k=Sr(_.y,v.y),S=Sr(_.width,v.width),E=Sr(_.height,v.height);return yt(yt({},v),{},{x:w(b),y:k(b),width:S(b),height:E(b)})}if(a==="horizontal"){var N=Sr(0,v.height),A=N(b);return yt(yt({},v),{},{y:v.y+v.height-A,height:A})}var C=Sr(0,v.width),I=C(b);return yt(yt({},v),{},{width:I})});return D.createElement(De,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Sc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=be(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=uoe(c,loe);if(!f)return null;var g=yt(yt(yt(yt(yt({},h),{},{fill:"#eee"},f),l),Do(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(HE,oh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Ir(d,Ec);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,g=function(v,x){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Tt(v,x)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(De,b,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,b=n.background,y=n.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=Ie("recharts-bar",a),_=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,k=_||w,S=Ce(y)?this.id:y;return D.createElement(De,{className:x},_||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:_?c:c-f/2,y:w?d:d-h/2,width:_?f:f*2,height:w?h:h*2}))):null,D.createElement(De,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!g||v)&&Zn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);c2=In;Pi(In,"displayName","Bar");Pi(In,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pi(In,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=WQ(n,r);if(!g)return null;var b=e.layout,y=r.type.defaultProps,v=y!==void 0?yt(yt({},y),r.props):r.props,x=v.dataKey,_=v.children,w=v.minPointSize,k=b==="horizontal"?a:o,S=c?k.scale.domain():null,E=eZ({numericAxis:k}),N=Ir(_,Tu),A=f.map(function(C,I){var M,L,O,j,P,$;c?M=KQ(c[d+I],S):(M=Tt(C,x),Array.isArray(M)||(M=[E,M]));var B=soe(w,c2.defaultProps.minPointSize)(M[1],I);if(b==="horizontal"){var F,G=[a.scale(M[0]),a.scale(M[1])],H=G[0],X=G[1];L=U1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:I}),O=(F=X??H)!==null&&F!==void 0?F:void 0,j=g.size;var z=H-X;if(P=Number.isNaN(z)?0:z,$={x:L,y:a.y,width:j,height:a.height},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var ue=rr(P||B)*(Math.abs(B)-Math.abs(P));O-=ue,P+=ue}}else{var R=[o.scale(M[0]),o.scale(M[1])],J=R[0],ie=R[1];if(L=J,O=U1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:I}),j=ie-J,P=g.size,$={x:o.x,y:O,width:o.width,height:P},Math.abs(B)>0&&Math.abs(j)<Math.abs(B)){var de=rr(j||B)*(Math.abs(B)-Math.abs(j));j+=de}}return yt(yt(yt({},C),{},{x:L,y:O,width:j,height:P,value:c?M:M[1],payload:C,background:$},N&&N[I]&&N[I].props),{},{tooltipPayload:[Rj(r,C)],tooltipPosition:{x:L+j/2,y:O+P/2}})});return yt({data:A,layout:b},h)});function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h2(n.key),n)}}function xoe(t,e,r){return e&&KE(t.prototype,e),r&&KE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){$p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $p(t,e,r){return e=h2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2(t){var e=boe(t,"string");return ec(e)=="symbol"?e:e+""}function boe(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p2=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!_r(c,In);return d.reduce(function(g,b){var y=r[b],v=y.orientation,x=y.domain,_=y.padding,w=_===void 0?{}:_,k=y.mirror,S=y.reversed,E="".concat(v).concat(k?"Mirror":""),N,A,C,I,M;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var L=x[1]-x[0],O=1/0,j=y.categoricalDomain.sort(IB);if(j.forEach(function(R,J){J>0&&(O=Math.min((R||0)-(j[J-1]||0),O))}),Number.isFinite(O)){var P=O/L,$=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(N=P*$/2),y.padding==="no-gap"){var B=nr(e.barCategoryGap,P*$),F=P*$/2;N=F-B-(F-B)/$*B}}}i==="xAxis"?A=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:A=y.range,S&&(A=[A[1],A[0]]);var G=Pj(y,o,h),H=G.scale,X=G.realScaleType;H.domain(x).range(A),Ij(H);var z=jj(H,sn(sn({},y),{},{realScaleType:X}));i==="xAxis"?(M=v==="top"&&!k||v==="bottom"&&k,C=n.left,I=f[E]-M*y.height):i==="yAxis"&&(M=v==="left"&&!k||v==="right"&&k,C=f[E]-M*y.width,I=n.top);var ue=sn(sn(sn({},y),z),{},{realScaleType:X,x:C,y:I,scale:H,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return ue.bandSize=qf(ue,z),!y.hide&&i==="xAxis"?f[E]+=(M?-1:1)*ue.height:y.hide||(f[E]+=(M?-1:1)*ue.width),sn(sn({},g),{},$p({},b,ue))},{})},m2=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},woe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return m2({x:r,y:n},{x:i,y:o})},g2=function(){function t(e){voe(this,t),this.scale=e}return xoe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();$p(g2,"EPS",1e-4);var ab=function(e){var r=Object.keys(e).reduce(function(n,i){return sn(sn({},n),{},$p({},i,g2.create(e[i])))},{});return sn(sn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Bie(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return u2(i,function(o,a){return r[a].isInRange(o)})}})};function _oe(t){return(t%180+180)%180}var Soe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_oe(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Eoe=On,koe=vc,Noe=mp;function Toe(t){return function(e,r,n){var i=Object(e);if(!koe(e)){var o=Eoe(r);e=Noe(e),r=function(s){return o(i[s],s,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:void 0}}var Aoe=Toe,Coe=o2;function Poe(t){var e=Coe(t),r=e%1;return e===e?r?e-r:e:0}var Ioe=Poe,joe=cI,Ooe=On,Roe=Ioe,Moe=Math.max;function $oe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Roe(r);return i<0&&(i=Moe(n+i,0)),joe(t,Ooe(e),i)}var Doe=$oe,Loe=Aoe,Uoe=Doe,Foe=Loe(Uoe),Boe=Foe;const qoe=Ve(Boe);var Voe=RF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sb=T.createContext(void 0),lb=T.createContext(void 0),y2=T.createContext(void 0),v2=T.createContext({}),x2=T.createContext(void 0),b2=T.createContext(0),w2=T.createContext(0),YE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=Voe(o);return D.createElement(sb.Provider,{value:n},D.createElement(lb.Provider,{value:i},D.createElement(v2.Provider,{value:o},D.createElement(y2.Provider,{value:d},D.createElement(x2.Provider,{value:a},D.createElement(b2.Provider,{value:c},D.createElement(w2.Provider,{value:l},s)))))))},Goe=function(){return T.useContext(x2)},_2=function(e){var r=T.useContext(sb);r==null&&Fo();var n=r[e];return n==null&&Fo(),n},Hoe=function(){var e=T.useContext(sb);return Ni(e)},zoe=function(){var e=T.useContext(lb),r=qoe(e,function(n){return u2(n.domain,Number.isFinite)});return r||Ni(e)},S2=function(e){var r=T.useContext(lb);r==null&&Fo();var n=r[e];return n==null&&Fo(),n},Woe=function(){var e=T.useContext(y2);return e},Koe=function(){return T.useContext(v2)},ub=function(){return T.useContext(w2)},cb=function(){return T.useContext(b2)};function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k2(n.key),n)}}function Xoe(t,e,r){return e&&Yoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qoe(t,e,r){return e=sh(e),Zoe(t,E2()?Reflect.construct(e,r||[],sh(t).constructor):e.apply(t,r))}function Zoe(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eae(t)}function eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(t)}function tae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tv(t,e)}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function db(t,e,r){return e=k2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k2(t){var e=rae(t,"string");return xs(e)=="symbol"?e:e+""}function rae(t,e){if(xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nae(t,e){return sae(t)||aae(t,e)||oae(t,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return ZE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(t,e)}}function ZE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sae(t){if(Array.isArray(t))return t}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}var lae=function(e,r){var n;return D.isValidElement(e)?n=D.cloneElement(e,r):Ee(e)?n=e(r):n=D.createElement("line",Av({},r,{className:"recharts-reference-line-line"})),n},uae=function(e,r,n,i,o,a,s,l,c){var d=o.x,f=o.y,h=o.width,g=o.height;if(n){var b=c.y,y=e.y.apply(b,{position:a});if(Nn(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return l==="left"?v.reverse():v}if(r){var x=c.x,_=e.x.apply(x,{position:a});if(Nn(c,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+g},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var k=c.segment,S=k.map(function(E){return e.apply(E,{position:a})});return Nn(c,"discard")&&Oie(S,function(E){return!e.isInRange(E)})?null:S}return null};function cae(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=Goe(),d=_2(i),f=S2(o),h=Woe();if(!c||!h)return null;hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ab({x:d.scale,y:f.scale}),b=Ct(e),y=Ct(r),v=n&&n.length===2,x=uae(g,b,y,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var _=nae(x,2),w=_[0],k=w.x,S=w.y,E=_[1],N=E.x,A=E.y,C=Nn(t,"hidden")?"url(#".concat(c,")"):void 0,I=QE(QE({clipPath:C},be(t,!0)),{},{x1:k,y1:S,x2:N,y2:A});return D.createElement(De,{className:Ie("recharts-reference-line",s)},lae(a,I),Mt.renderCallByParent(t,woe({x1:k,y1:S,x2:N,y2:A})))}var fb=function(t){function e(){return Joe(this,e),Qoe(this,e,arguments)}return tae(e,t),Xoe(e,[{key:"render",value:function(){return D.createElement(cae,this.props)}}])}(D.Component);db(fb,"displayName","ReferenceLine");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){Dp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T2(n.key),n)}}function hae(t,e,r){return e&&fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pae(t,e,r){return e=lh(e),mae(t,N2()?Reflect.construct(e,r||[],lh(t).constructor):e.apply(t,r))}function mae(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(t)}function gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(t)}function yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pv(t,e)}function Dp(t,e,r){return e=T2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T2(t){var e=vae(t,"string");return bs(e)=="symbol"?e:e+""}function vae(t,e){if(bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xae=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=ab({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return Nn(e,"discard")&&!a.isInRange(s)?null:s},Lp=function(t){function e(){return dae(this,e),pae(this,e,arguments)}return yae(e,t),hae(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=Ct(i),d=Ct(o);if(hn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=xae(this.props);if(!f)return null;var h=f.x,g=f.y,b=this.props,y=b.shape,v=b.className,x=Nn(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=tk(tk({clipPath:x},be(this.props,!0)),{},{cx:h,cy:g});return D.createElement(De,{className:Ie("recharts-reference-dot",v)},e.renderDot(y,_),Mt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(D.Component);Dp(Lp,"displayName","ReferenceDot");Dp(Lp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dp(Lp,"renderDot",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Ee(t)?r=t(e):r=D.createElement(Cp,Cv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(r),!0).forEach(function(n){Up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C2(n.key),n)}}function _ae(t,e,r){return e&&wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sae(t,e,r){return e=uh(e),Eae(t,A2()?Reflect.construct(e,r||[],uh(t).constructor):e.apply(t,r))}function Eae(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kae(t)}function kae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A2=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(t)}function Nae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jv(t,e)}function Up(t,e,r){return e=C2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2(t){var e=Tae(t,"string");return ws(e)=="symbol"?e:e+""}function Tae(t,e){if(ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aae=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=ab({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Nn(o,"discard")&&(!h.isInRange(g)||!h.isInRange(b))?null:m2(g,b)},Fp=function(t){function e(){return bae(this,e),Sae(this,e,arguments)}return Nae(e,t),_ae(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;hn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ct(i),h=Ct(o),g=Ct(a),b=Ct(s),y=this.props.shape;if(!f&&!h&&!g&&!b&&!y)return null;var v=Aae(f,h,g,b,this.props);if(!v&&!y)return null;var x=Nn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(De,{className:Ie("recharts-reference-area",l)},e.renderRect(y,nk(nk({clipPath:x},be(this.props,!0)),v)),Mt.renderCallByParent(this.props,v))}}])}(D.Component);Up(Fp,"displayName","ReferenceArea");Up(Fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Up(Fp,"renderRect",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Ee(t)?r=t(e):r=D.createElement(ob,Iv({},e,{className:"recharts-reference-area-rect"})),r});function P2(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Cae(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Soe(n,r)}function Pae(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function ch(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function Iae(t,e){return P2(t,e+1)}function jae(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,c=1,d=a,f=function(){var b=n==null?void 0:n[l];if(b===void 0)return{v:P2(n,c)};var y=l,v,x=function(){return v===void 0&&(v=r(b,y)),v},_=b.coordinate,w=l===0||ch(t,_,x,d,s);w||(l=0,d=a,c+=1),w&&(d=_+t*(x()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){Oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Mae(t,"string");return tc(e)=="symbol"?e:e+""}function Mae(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(h){var g=o[h],b,y=function(){return b===void 0&&(b=r(g,h)),b};if(h===a-1){var v=t*(g.coordinate+t*y()/2-l);o[h]=g=Kt(Kt({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else o[h]=g=Kt(Kt({},g),{},{tickCoord:g.coordinate});var x=ch(t,g.tickCoord,y,s,l);x&&(l=g.tickCoord-t*(y()/2+i),o[h]=Kt(Kt({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function Dae(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-c);a[s-1]=d=Kt(Kt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=ch(t,d.tickCoord,function(){return f},l,c);g&&(c=d.tickCoord-t*(f/2+i),a[s-1]=Kt(Kt({},d),{},{isShow:!0}))}for(var b=o?s-1:s,y=function(_){var w=a[_],k,S=function(){return k===void 0&&(k=r(w,_)),k};if(_===0){var E=t*(w.coordinate-t*S()/2-l);a[_]=w=Kt(Kt({},w),{},{tickCoord:E<0?w.coordinate-E*t:w.coordinate})}else a[_]=w=Kt(Kt({},w),{},{tickCoord:w.coordinate});var N=ch(t,w.tickCoord,S,l,c);N&&(l=w.tickCoord+t*(S()/2+i),a[_]=Kt(Kt({},w),{},{isShow:!0}))},v=0;v<b;v++)y(v);return a}function hb(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(oe(l)||Jo.isSsr)return Iae(i,typeof l=="number"&&oe(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",b=d&&g==="width"?Bl(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(w,k){var S=Ee(c)?c(w.value,k):w.value;return g==="width"?Cae(Bl(S,{fontSize:e,letterSpacing:r}),b,f):Bl(S,{fontSize:e,letterSpacing:r})[g]},v=i.length>=2?rr(i[1].coordinate-i[0].coordinate):1,x=Pae(o,v,g);return l==="equidistantPreserveStart"?jae(v,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Dae(v,x,y,i,a,l==="preserveStartEnd"):h=$ae(v,x,y,i,a),h.filter(function(_){return _.isShow}))}var Lae=["viewBox"],Uae=["viewBox"],Fae=["ticks"];function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ia.apply(this,arguments)}function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ng(t,e){if(t==null)return{};var r=Bae(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j2(n.key),n)}}function Vae(t,e,r){return e&&ak(t.prototype,e),r&&ak(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=dh(e),Hae(t,I2()?Reflect.construct(e,r||[],dh(t).constructor):e.apply(t,r))}function Hae(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zae(t)}function zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(t)}function Wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ov(t,e)}function pb(t,e,r){return e=j2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j2(t){var e=Kae(t,"string");return _s(e)=="symbol"?e:e+""}function Kae(t,e){if(_s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ws=function(t){function e(r){var n;return qae(this,e),n=Gae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Wae(e,t),Vae(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=ng(n,Lae),s=this.props,l=s.viewBox,c=ng(s,Uae);return!qa(o,l)||!qa(a,c)||!qa(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,b,y,v,x,_,w=f?-1:1,k=n.tickSize||d,S=oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=b=n.coordinate,v=a+ +!f*l,y=v-w*k,_=y-w*h,x=S;break;case"left":y=v=n.coordinate,b=o+ +!f*s,g=b-w*k,x=g-w*h,_=S;break;case"right":y=v=n.coordinate,b=o+ +f*s,g=b+w*k,x=g+w*h,_=S;break;default:g=b=n.coordinate,v=a+ +f*l,y=v+w*k,_=y+w*h,x=S;break}return{line:{x1:g,y1:y,x2:b,y2:v},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=St(St(St({},be(this.props,!1)),be(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=St(St({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=St(St({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return D.createElement("line",Ia({},f,{className:Ie("recharts-cartesian-axis-line",Pr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=hb(St(St({},this.props),{},{ticks:n}),i,o),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=be(this.props,!1),x=be(d,!1),_=St(St({},v),{},{fill:"none"},be(l,!1)),w=g.map(function(k,S){var E=a.getTickLineCoord(k),N=E.line,A=E.tick,C=St(St(St(St({textAnchor:b,verticalAnchor:y},v),{},{stroke:"none",fill:c},x),A),{},{index:S,payload:k,visibleTicksCount:g.length,tickFormatter:f});return D.createElement(De,Ia({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Do(a.props,k,S)),l&&D.createElement("line",Ia({},_,N,{className:Ie("recharts-cartesian-axis-tick-line",Pr(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(Ee(f)?f(k.value,S):k.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=ng(f,Fae),b=h;return Ee(l)&&(b=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!b||!b.length?null:D.createElement(De,{className:Ie("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a,s=Ie(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?a=D.cloneElement(n,St(St({},i),{},{className:s})):Ee(n)?a=n(St(St({},i),{},{className:s})):a=D.createElement(Lo,Ia({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(T.Component);pb(Ws,"displayName","CartesianAxis");pb(Ws,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jae=["x1","y1","x2","y2","key"],Yae=["offset"];function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){Xae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xae(t,e,r){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qae(t){var e=Zae(t,"string");return Bo(e)=="symbol"?e:e+""}function Zae(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_o.apply(this,arguments)}function lk(t,e){if(t==null)return{};var r=ese(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ese(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tse=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O2(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Ee(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=lk(e,Jae),c=be(l,!1);c.offset;var d=lk(c,Yae);r=D.createElement("line",_o({},d,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function rse(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Yt(Yt({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return O2(i,c)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function nse(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Yt(Yt({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return O2(i,c)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function ise(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var b=!d[g+1],y=b?i+a-h:d[g+1]-h;if(y<=0)return null;var v=g%e.length;return D.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:y,width:o,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ose(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var b=!d[g+1],y=b?o+s-h:d[g+1]-h;if(y<=0)return null;var v=g%n.length;return D.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ase=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return Cj(hb(Yt(Yt(Yt({},Ws.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},sse=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return Cj(hb(Yt(Yt(Yt({},Ws.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},ua={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ss(t){var e,r,n,i,o,a,s=ub(),l=cb(),c=Koe(),d=Yt(Yt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ua.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ua.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ua.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ua.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ua.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ua.verticalFill,x:oe(t.x)?t.x:c.left,y:oe(t.y)?t.y:c.top,width:oe(t.width)?t.width:c.width,height:oe(t.height)?t.height:c.height}),f=d.x,h=d.y,g=d.width,b=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,_=Hoe(),w=zoe();if(!oe(g)||g<=0||!oe(b)||b<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||ase,S=d.horizontalCoordinatesGenerator||sse,E=d.horizontalPoints,N=d.verticalPoints;if((!E||!E.length)&&Ee(S)){var A=v&&v.length,C=S({yAxis:w?Yt(Yt({},w),{},{ticks:A?v:w.ticks}):void 0,width:s,height:l,offset:c},A?!0:y);hn(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bo(C),"]")),Array.isArray(C)&&(E=C)}if((!N||!N.length)&&Ee(k)){var I=x&&x.length,M=k({xAxis:_?Yt(Yt({},_),{},{ticks:I?x:_.ticks}):void 0,width:s,height:l,offset:c},I?!0:y);hn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bo(M),"]")),Array.isArray(M)&&(N=M)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(tse,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(rse,_o({},d,{offset:c,horizontalPoints:E,xAxis:_,yAxis:w})),D.createElement(nse,_o({},d,{offset:c,verticalPoints:N,xAxis:_,yAxis:w})),D.createElement(ise,_o({},d,{horizontalPoints:E})),D.createElement(ose,_o({},d,{verticalPoints:N})))}Ss.displayName="CartesianGrid";var lse=["type","layout","connectNulls","ref"],use=["key"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function uk(t,e){if(t==null)return{};var r=cse(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ca(t){return pse(t)||hse(t)||fse(t)||dse()}function dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fse(t,e){if(t){if(typeof t=="string")return Rv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rv(t,e)}}function hse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pse(t){if(Array.isArray(t))return Rv(t)}function Rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M2(n.key),n)}}function gse(t,e,r){return e&&dk(t.prototype,e),r&&dk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,e,r){return e=fh(e),vse(t,R2()?Reflect.construct(e,r||[],fh(t).constructor):e.apply(t,r))}function vse(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(t)}function xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(t)}function bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mv(t,e)}function ln(t,e,r){return e=M2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M2(t){var e=wse(t,"string");return Es(e)=="symbol"?e:e+""}function wse(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qo=function(t){function e(){var r;mse(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=yse(this,e,[].concat(i)),ln(r,"state",{isAnimationFinished:!0,totalLength:0}),ln(r,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ln(r,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(x,_){return x+_});if(!c)return r.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),f=a%c,h=s-a,g=[],b=0,y=0;b<l.length;y+=l[b],++b)if(y+l[b]>f){g=[].concat(ca(l.slice(0,b)),[f-y]);break}var v=g.length%2===0?[0,h]:[h];return[].concat(ca(e.repeat(l,d)),ca(g),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ln(r,"id",Fs("recharts-line-")),ln(r,"pathRef",function(a){r.mainCurve=a}),ln(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ln(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bse(e,t),gse(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Ir(d,Ec);if(!f)return null;var h=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:Tt(y.payload,v)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(De,g,f.map(function(b){return D.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=be(this.props,!1),h=be(l,!0),g=c.map(function(y,v){var x=xr(xr(xr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,x)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(De,Wl({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(n,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=uk(s,lse),h=xr(xr(xr({},be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},a),{},{type:l,layout:c,connectNulls:d});return D.createElement(Hf,Wl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,b=a.animateNewValues,y=a.width,v=a.height,x=this.state,_=x.prevPoints,w=x.totalLength;return D.createElement(Cn,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(_){var E=_.length/s.length,N=s.map(function(L,O){var j=Math.floor(O*E);if(_[j]){var P=_[j],$=Sr(P.x,L.x),B=Sr(P.y,L.y);return xr(xr({},L),{},{x:$(S),y:B(S)})}if(b){var F=Sr(y*2,L.x),G=Sr(v/2,L.y);return xr(xr({},L),{},{x:F(S),y:G(S)})}return xr(xr({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(N,n,i)}var A=Sr(0,w),C=A(S),I;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});I=o.getStrokeDasharray(C,w,M)}else I=o.generateSimpleStrokeDasharray(w,C);return o.renderCurveStatically(s,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!Sc(c,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,b=i.height,y=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,_=s.length===1,w=Ie("recharts-line",l),k=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,E=k||S,N=Ce(v)?this.id:v,A=(n=be(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=A.r,I=C===void 0?3:C,M=A.strokeWidth,L=M===void 0?2:M,O=FB(a)?a:{},j=O.clipDot,P=j===void 0?!0:j,$=I*2+L;return D.createElement(De,{className:w},k||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:k?h:h-g/2,y:S?f:f-b/2,width:k?g:g*2,height:S?b:b*2})),!P&&D.createElement("clipPath",{id:"clipPath-dots-".concat(N)},D.createElement("rect",{x:h-$/2,y:f-$/2,width:g+$,height:b+$}))):null,!_&&this.renderCurve(E,N),this.renderErrorBar(E,N),(_||a)&&this.renderDots(E,P,N),(!y||x)&&Zn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(ca(n),[0]):n,a=[],s=0;s<i;++s)a=[].concat(ca(a),ca(o));return a}},{key:"renderDotItem",value:function(n,i){var o;if(D.isValidElement(n))o=D.cloneElement(n,i);else if(Ee(n))o=n(i);else{var a=i.key,s=uk(i,use),l=Ie("recharts-line-dot",typeof n!="boolean"?n.className:"");o=D.createElement(Cp,Wl({key:a},s,{className:l}))}return o}}])}(T.PureComponent);ln(qo,"displayName","Line");ln(qo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ln(qo,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,g){var b=Tt(h,a);return d==="horizontal"?{x:L1({axis:r,ticks:i,bandSize:s,entry:h,index:g}),y:Ce(b)?null:n.scale(b),value:b,payload:h}:{x:Ce(b)?null:r.scale(b),y:L1({axis:n,ticks:o,bandSize:s,entry:h,index:g}),value:b,payload:h}});return xr({points:f,layout:d},c)});function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function _se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L2(n.key),n)}}function Ese(t,e,r){return e&&Sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kse(t,e,r){return e=hh(e),Nse(t,$2()?Reflect.construct(e,r||[],hh(t).constructor):e.apply(t,r))}function Nse(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($2=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$v(t,e)}function D2(t,e,r){return e=L2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L2(t){var e=Cse(t,"string");return ks(e)=="symbol"?e:e+""}function Cse(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function Pse(t){var e=t.xAxisId,r=ub(),n=cb(),i=_2(e);return i==null?null:T.createElement(Ws,Dv({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Wn(a,!0)}}))}var si=function(t){function e(){return _se(this,e),kse(this,e,arguments)}return Ase(e,t),Ese(e,[{key:"render",value:function(){return T.createElement(Pse,this.props)}}])}(T.Component);D2(si,"displayName","XAxis");D2(si,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B2(n.key),n)}}function Ose(t,e,r){return e&&jse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,r){return e=ph(e),Mse(t,U2()?Reflect.construct(e,r||[],ph(t).constructor):e.apply(t,r))}function Mse(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(t)}function Dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lv(t,e)}function F2(t,e,r){return e=B2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B2(t){var e=Lse(t,"string");return Ns(e)=="symbol"?e:e+""}function Lse(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(this,arguments)}var Use=function(e){var r=e.yAxisId,n=ub(),i=cb(),o=S2(r);return o==null?null:T.createElement(Ws,Uv({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Wn(s,!0)}}))},li=function(t){function e(){return Ise(this,e),Rse(this,e,arguments)}return Dse(e,t),Ose(e,[{key:"render",value:function(){return T.createElement(Use,this.props)}}])}(T.Component);F2(li,"displayName","YAxis");F2(li,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fk(t){return Vse(t)||qse(t)||Bse(t)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(t,e){if(t){if(typeof t=="string")return Fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fv(t,e)}}function qse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vse(t){if(Array.isArray(t))return Fv(t)}function Fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bv=function(e,r,n,i,o){var a=Ir(e,fb),s=Ir(e,Lp),l=[].concat(fk(a),fk(s)),c=Ir(e,Fp),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[d]===n&&Nn(v.props,"extendDomain")&&oe(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var g="".concat(f,"1"),b="".concat(f,"2");h=c.reduce(function(y,v){if(v.props[d]===n&&Nn(v.props,"extendDomain")&&oe(v.props[g])&&oe(v.props[b])){var x=v.props[g],_=v.props[b];return[Math.min(y[0],x,_),Math.max(y[1],x,_)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,v){return oe(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},q2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),b=r?r+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,b=new Array(g);h<g;h++)b[h]=f[h].fn;return b},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,g,b){var y=r?r+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,g),!0;case 6:return v.fn.call(v.context,d,f,h,g,b),!0}for(w=1,_=new Array(x-1);w<x;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var k=v.length,S;for(w=0;w<k;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!_)for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];v[w].fn.apply(v[w].context,_)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&a(this,g);else{for(var y=0,v=[],x=b.length;y<x;y++)(b[y].fn!==d||h&&!b[y].once||f&&b[y].context!==f)&&v.push(b[y]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(q2);var Gse=q2.exports;const Hse=Ve(Gse);var ig=new Hse,og="recharts.syncMouseEvents";function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V2(n.key),n)}}function Kse(t,e,r){return e&&Wse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ag(t,e,r){return e=V2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V2(t){var e=Jse(t,"string");return rc(e)=="symbol"?e:e+""}function Jse(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yse=function(){function t(){zse(this,t),ag(this,"activeIndex",0),ag(this,"coordinateList",[]),ag(this,"layout","horizontal")}return Kse(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Xse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&oe(n)&&oe(i))return!0}return!1}function Qse(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function G2(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=Xe(e,r,n,i),s=Xe(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function Zse(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Xe(s,l,c,f),g=Xe(s,l,d,f);n=h.x,i=h.y,o=g.x,a=g.y}else return G2(e);return[{x:n,y:i},{x:o,y:a}]}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){ele(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ele(t,e,r){return e=tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tle(t){var e=rle(t,"string");return nc(e)=="symbol"?e:e+""}function rle(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nle(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var b,y=Hf;if(h==="ScatterChart")b=a,y=wre;else if(h==="BarChart")b=Qse(f,a,l,d),y=ob;else if(f==="radial"){var v=G2(a),x=v.cx,_=v.cy,w=v.radius,k=v.startAngle,S=v.endAngle;b={cx:x,cy:_,startAngle:k,endAngle:S,innerRadius:w,outerRadius:w},y=Fj}else b={points:Zse(f,a,l)},y=Hf;var E=ad(ad(ad(ad({stroke:"#ccc",pointerEvents:"none"},l),b),be(g,!1)),{},{payload:s,payloadIndex:c,className:Ie("recharts-tooltip-cursor",g.className)});return T.isValidElement(g)?T.cloneElement(g,E):T.createElement(y,E)}var ile=["item"],ole=["children","className","width","height","style","compact","title","desc"];function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ja.apply(this,arguments)}function pk(t,e){return lle(t)||sle(t,e)||z2(t,e)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lle(t){if(Array.isArray(t))return t}function mk(t,e){if(t==null)return{};var r=ule(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ule(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W2(n.key),n)}}function fle(t,e,r){return e&&dle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t,e,r){return e=mh(e),ple(t,H2()?Reflect.construct(e,r||[],mh(t).constructor):e.apply(t,r))}function ple(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mle(t)}function mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(t)}function gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qv(t,e)}function As(t){return xle(t)||vle(t)||z2(t)||yle()}function yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2(t,e){if(t){if(typeof t=="string")return Vv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vv(t,e)}}function vle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xle(t){if(Array.isArray(t))return Vv(t)}function Vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function we(t,e,r){return e=W2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W2(t){var e=ble(t,"string");return Ts(e)=="symbol"?e:e+""}function ble(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wle={xAxis:["bottom","top"],yAxis:["left","right"]},_le={width:"100%",height:"100%"},K2={x:0,y:0};function sd(t){return t}var Sle=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ele=function(e,r,n,i){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Q(Q(Q({},i),Xe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Q(Q(Q({},i),Xe(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return K2},Bp=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(As(s),As(c)):s},[]);return a.length>0?a:e&&e.length&&oe(i)&&oe(o)?e.slice(i,o+1):[]};function J2(t){return t==="number"?[0,"auto"]:void 0}var Gv=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Bp(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=pf(g,a.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(As(l),[Rj(c,h)]):l},[])},yk=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=Sle(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=BQ(a,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=Gv(e,r,d,f),g=Ele(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},kle=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=Aj(d,o);return n.reduce(function(b,y){var v,x=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,_=x.type,w=x.dataKey,k=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,N=x.ticks,A=x.includeHidden,C=x[a];if(b[C])return b;var I=Bp(e.data,{graphicalItems:i.filter(function(z){var ue,R=a in z.props?z.props[a]:(ue=z.type.defaultProps)===null||ue===void 0?void 0:ue[a];return R===C}),dataStartIndex:l,dataEndIndex:c}),M=I.length,L,O,j;Xse(x.domain,k,_)&&(L=iv(x.domain,null,k),g&&(_==="number"||E!=="auto")&&(j=Vl(I,w,"category")));var P=J2(_);if(!L||L.length===0){var $,B=($=x.domain)!==null&&$!==void 0?$:P;if(w){if(L=Vl(I,w,_),_==="category"&&g){var F=PB(L);S&&F?(O=L,L=rh(0,M)):S||(L=q1(B,L,y).reduce(function(z,ue){return z.indexOf(ue)>=0?z:[].concat(As(z),[ue])},[]))}else if(_==="category")S?L=L.filter(function(z){return z!==""&&!Ce(z)}):L=q1(B,L,y).reduce(function(z,ue){return z.indexOf(ue)>=0||ue===""||Ce(ue)?z:[].concat(As(z),[ue])},[]);else if(_==="number"){var G=zQ(I,i.filter(function(z){var ue,R,J=a in z.props?z.props[a]:(ue=z.type.defaultProps)===null||ue===void 0?void 0:ue[a],ie="hide"in z.props?z.props.hide:(R=z.type.defaultProps)===null||R===void 0?void 0:R.hide;return J===C&&(A||!ie)}),w,o,d);G&&(L=G)}g&&(_==="number"||E!=="auto")&&(j=Vl(I,w,"category"))}else g?L=rh(0,M):s&&s[C]&&s[C].hasStack&&_==="number"?L=h==="expand"?[0,1]:Oj(s[C].stackGroups,l,c):L=Tj(I,i.filter(function(z){var ue=a in z.props?z.props[a]:z.type.defaultProps[a],R="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return ue===C&&(A||!R)}),_,d,!0);if(_==="number")L=Bv(f,L,C,o,N),B&&(L=iv(B,L,k));else if(_==="category"&&B){var H=B,X=L.every(function(z){return H.indexOf(z)>=0});X&&(L=H)}}return Q(Q({},b),{},we({},C,Q(Q({},x),{},{axisType:o,domain:L,categoricalDomain:j,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:P,isCategorical:g,layout:d})))},{})},Nle=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=Bp(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=h.length,b=Aj(d,o),y=-1;return n.reduce(function(v,x){var _=x.type.defaultProps!==void 0?Q(Q({},x.type.defaultProps),x.props):x.props,w=_[a],k=J2("number");if(!v[w]){y++;var S;return b?S=rh(0,g):s&&s[w]&&s[w].hasStack?(S=Oj(s[w].stackGroups,l,c),S=Bv(f,S,w,o)):(S=iv(k,Tj(h,n.filter(function(E){var N,A,C=a in E.props?E.props[a]:(N=E.type.defaultProps)===null||N===void 0?void 0:N[a],I="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),S=Bv(f,S,w,o)),Q(Q({},v),{},we({},w,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:Pr(wle,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:k,isCategorical:b,layout:d})))}return v},{})},Tle=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ir(d,o),g={};return h&&h.length?g=kle(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=Nle(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},Ale=function(e){var r=Ni(e),n=Wn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:qf(r,n)}},vk=function(e){var r=e.children,n=e.defaultShowTooltip,i=_r(r,ys),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},Cle=function(e){return!e||!e.length?!1:e.some(function(r){var n=Xn(r&&r.type);return n&&n.indexOf("Bar")>=0})},xk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ple=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},g=_r(f,ys),b=_r(f,No),y=Object.keys(l).reduce(function(S,E){var N=l[E],A=N.orientation;return!N.mirror&&!N.hide?Q(Q({},S),{},we({},A,S[A]+N.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(S,E){var N=a[E],A=N.orientation;return!N.mirror&&!N.hide?Q(Q({},S),{},we({},A,Pr(S,"".concat(A))+N.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=Q(Q({},v),y),_=x.bottom;g&&(x.bottom+=g.props.height||ys.defaultProps.height),b&&r&&(x=GQ(x,i,n,r));var w=c-x.left-x.right,k=d-x.top-x.bottom;return Q(Q({brushBottom:_},x),{},{width:Math.max(w,0),height:Math.max(k,0)})},Ile=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},mb=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,_){var w=_.graphicalItems,k=_.stackGroups,S=_.offset,E=_.updateId,N=_.dataStartIndex,A=_.dataEndIndex,C=x.barSize,I=x.layout,M=x.barGap,L=x.barCategoryGap,O=x.maxBarSize,j=xk(I),P=j.numericAxisName,$=j.cateAxisName,B=Cle(w),F=[];return w.forEach(function(G,H){var X=Bp(x.data,{graphicalItems:[G],dataStartIndex:N,dataEndIndex:A}),z=G.type.defaultProps!==void 0?Q(Q({},G.type.defaultProps),G.props):G.props,ue=z.dataKey,R=z.maxBarSize,J=z["".concat(P,"Id")],ie=z["".concat($,"Id")],de={},Pe=l.reduce(function(me,q){var U=_["".concat(q.axisType,"Map")],Z=z["".concat(q.axisType,"Id")];U&&U[Z]||q.axisType==="zAxis"||Fo();var V=U[Z];return Q(Q({},me),{},we(we({},q.axisType,V),"".concat(q.axisType,"Ticks"),Wn(V)))},de),te=Pe[$],ve=Pe["".concat($,"Ticks")],Y=k&&k[J]&&k[J].hasStack&&tZ(G,k[J].stackGroups),W=Xn(G.type).indexOf("Bar")>=0,ke=qf(te,ve),ge=[],K=B&&qQ({barSize:C,stackGroups:k,totalSize:Ile(Pe,$)});if(W){var ae,fe,Ne=Ce(R)?O:R,Me=(ae=(fe=qf(te,ve,!0))!==null&&fe!==void 0?fe:Ne)!==null&&ae!==void 0?ae:0;ge=VQ({barGap:M,barCategoryGap:L,bandSize:Me!==ke?Me:ke,sizeList:K[ie],maxBarSize:Ne}),Me!==ke&&(ge=ge.map(function(me){return Q(Q({},me),{},{position:Q(Q({},me.position),{},{offset:me.position.offset-Me/2})})}))}var ee=G&&G.type&&G.type.getComposedData;ee&&F.push({props:Q(Q({},ee(Q(Q({},Pe),{},{displayedData:X,props:x,dataKey:ue,item:G,bandSize:ke,barPosition:ge,offset:S,stackedData:Y,layout:I,dataStartIndex:N,dataEndIndex:A}))),{},we(we(we({key:G.key||"item-".concat(H)},P,Pe[P]),$,Pe[$]),"animationId",E)),childIndex:VB(G,x.children),item:G})}),F},g=function(x,_){var w=x.props,k=x.dataStartIndex,S=x.dataEndIndex,E=x.updateId;if(!M_({props:w}))return null;var N=w.children,A=w.layout,C=w.stackOffset,I=w.data,M=w.reverseStackOrder,L=xk(A),O=L.numericAxisName,j=L.cateAxisName,P=Ir(N,n),$=ZQ(I,P,"".concat(O,"Id"),"".concat(j,"Id"),C,M),B=l.reduce(function(z,ue){var R="".concat(ue.axisType,"Map");return Q(Q({},z),{},we({},R,Tle(w,Q(Q({},ue),{},{graphicalItems:P,stackGroups:ue.axisType===O&&$,dataStartIndex:k,dataEndIndex:S}))))},{}),F=Ple(Q(Q({},B),{},{props:w,graphicalItems:P}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(z){B[z]=d(w,B[z],F,z.replace("Map",""),r)});var G=B["".concat(j,"Map")],H=Ale(G),X=h(w,Q(Q({},B),{},{dataStartIndex:k,dataEndIndex:S,updateId:E,graphicalItems:P,stackGroups:$,offset:F}));return Q(Q({formattedGraphicalItems:X,graphicalItems:P,offset:F,stackGroups:$},H),B)},b=function(v){function x(_){var w,k,S;return cle(this,x),S=hle(this,x,[_]),we(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(S,"accessibilityManager",new Yse),we(S,"handleLegendBBoxUpdate",function(E){if(E){var N=S.state,A=N.dataStartIndex,C=N.dataEndIndex,I=N.updateId;S.setState(Q({legendBBox:E},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:I},Q(Q({},S.state),{},{legendBBox:E}))))}}),we(S,"handleReceiveSyncEvent",function(E,N,A){if(S.props.syncId===E){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(N)}}),we(S,"handleBrushChange",function(E){var N=E.startIndex,A=E.endIndex;if(N!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return Q({dataStartIndex:N,dataEndIndex:A},g({props:S.props,dataStartIndex:N,dataEndIndex:A,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:N,dataEndIndex:A})}}),we(S,"handleMouseEnter",function(E){var N=S.getMouseInfo(E);if(N){var A=Q(Q({},N),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseEnter;Ee(C)&&C(A,E)}}),we(S,"triggeredAfterMouseMove",function(E){var N=S.getMouseInfo(E),A=N?Q(Q({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseMove;Ee(C)&&C(A,E)}),we(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),we(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),we(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),we(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var A=S.props.onMouseLeave;Ee(A)&&A(N,E)}),we(S,"handleOuterEvent",function(E){var N=qB(E),A=Pr(S.props,"".concat(N));if(N&&Ee(A)){var C,I;/.*touch.*/i.test(N)?I=S.getMouseInfo(E.changedTouches[0]):I=S.getMouseInfo(E),A((C=I)!==null&&C!==void 0?C:{},E)}}),we(S,"handleClick",function(E){var N=S.getMouseInfo(E);if(N){var A=Q(Q({},N),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onClick;Ee(C)&&C(A,E)}}),we(S,"handleMouseDown",function(E){var N=S.props.onMouseDown;if(Ee(N)){var A=S.getMouseInfo(E);N(A,E)}}),we(S,"handleMouseUp",function(E){var N=S.props.onMouseUp;if(Ee(N)){var A=S.getMouseInfo(E);N(A,E)}}),we(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),we(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),we(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),we(S,"handleDoubleClick",function(E){var N=S.props.onDoubleClick;if(Ee(N)){var A=S.getMouseInfo(E);N(A,E)}}),we(S,"handleContextMenu",function(E){var N=S.props.onContextMenu;if(Ee(N)){var A=S.getMouseInfo(E);N(A,E)}}),we(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&ig.emit(og,S.props.syncId,E,S.eventEmitterSymbol)}),we(S,"applySyncEvent",function(E){var N=S.props,A=N.layout,C=N.syncMethod,I=S.state.updateId,M=E.dataStartIndex,L=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(Q({dataStartIndex:M,dataEndIndex:L},g({props:S.props,dataStartIndex:M,dataEndIndex:L,updateId:I},S.state)));else if(E.activeTooltipIndex!==void 0){var O=E.chartX,j=E.chartY,P=E.activeTooltipIndex,$=S.state,B=$.offset,F=$.tooltipTicks;if(!B)return;if(typeof C=="function")P=C(F,E);else if(C==="value"){P=-1;for(var G=0;G<F.length;G++)if(F[G].value===E.activeLabel){P=G;break}}var H=Q(Q({},B),{},{x:B.left,y:B.top}),X=Math.min(O,H.x+H.width),z=Math.min(j,H.y+H.height),ue=F[P]&&F[P].value,R=Gv(S.state,S.props.data,P),J=F[P]?{x:A==="horizontal"?F[P].coordinate:X,y:A==="horizontal"?z:F[P].coordinate}:K2;S.setState(Q(Q({},E),{},{activeLabel:ue,activeCoordinate:J,activePayload:R,activeTooltipIndex:P}))}else S.setState(E)}),we(S,"renderCursor",function(E){var N,A=S.state,C=A.isTooltipActive,I=A.activeCoordinate,M=A.activePayload,L=A.offset,O=A.activeTooltipIndex,j=A.tooltipAxisBandSize,P=S.getTooltipEventType(),$=(N=E.props.active)!==null&&N!==void 0?N:C,B=S.props.layout,F=E.key||"_recharts-cursor";return D.createElement(nle,{key:F,activeCoordinate:I,activePayload:M,activeTooltipIndex:O,chartName:r,element:E,isActive:$,layout:B,offset:L,tooltipAxisBandSize:j,tooltipEventType:P})}),we(S,"renderPolarAxis",function(E,N,A){var C=Pr(E,"type.axisType"),I=Pr(S.state,"".concat(C,"Map")),M=E.type.defaultProps,L=M!==void 0?Q(Q({},M),E.props):E.props,O=I&&I[L["".concat(C,"Id")]];return T.cloneElement(E,Q(Q({},O),{},{className:Ie(C,O.className),key:E.key||"".concat(N,"-").concat(A),ticks:Wn(O,!0)}))}),we(S,"renderPolarGrid",function(E){var N=E.props,A=N.radialLines,C=N.polarAngles,I=N.polarRadius,M=S.state,L=M.radiusAxisMap,O=M.angleAxisMap,j=Ni(L),P=Ni(O),$=P.cx,B=P.cy,F=P.innerRadius,G=P.outerRadius;return T.cloneElement(E,{polarAngles:Array.isArray(C)?C:Wn(P,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(I)?I:Wn(j,!0).map(function(H){return H.coordinate}),cx:$,cy:B,innerRadius:F,outerRadius:G,key:E.key||"polar-grid",radialLines:A})}),we(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,N=S.props,A=N.children,C=N.width,I=N.height,M=S.props.margin||{},L=C-(M.left||0)-(M.right||0),O=kj({children:A,formattedGraphicalItems:E,legendWidth:L,legendContent:c});if(!O)return null;var j=O.item,P=mk(O,ile);return T.cloneElement(j,Q(Q({},P),{},{chartWidth:C,chartHeight:I,margin:M,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),we(S,"renderTooltip",function(){var E,N=S.props,A=N.children,C=N.accessibilityLayer,I=_r(A,ur);if(!I)return null;var M=S.state,L=M.isTooltipActive,O=M.activeCoordinate,j=M.activePayload,P=M.activeLabel,$=M.offset,B=(E=I.props.active)!==null&&E!==void 0?E:L;return T.cloneElement(I,{viewBox:Q(Q({},$),{},{x:$.left,y:$.top}),active:B,label:P,payload:B?j:[],coordinate:O,accessibilityLayer:C})}),we(S,"renderBrush",function(E){var N=S.props,A=N.margin,C=N.data,I=S.state,M=I.offset,L=I.dataStartIndex,O=I.dataEndIndex,j=I.updateId;return T.cloneElement(E,{key:E.key||"_recharts-brush",onChange:rd(S.handleBrushChange,E.props.onChange),data:C,x:oe(E.props.x)?E.props.x:M.left,y:oe(E.props.y)?E.props.y:M.top+M.height+M.brushBottom-(A.bottom||0),width:oe(E.props.width)?E.props.width:M.width,startIndex:L,endIndex:O,updateId:"brush-".concat(j)})}),we(S,"renderReferenceElement",function(E,N,A){if(!E)return null;var C=S,I=C.clipPathId,M=S.state,L=M.xAxisMap,O=M.yAxisMap,j=M.offset,P=E.type.defaultProps||{},$=E.props,B=$.xAxisId,F=B===void 0?P.xAxisId:B,G=$.yAxisId,H=G===void 0?P.yAxisId:G;return T.cloneElement(E,{key:E.key||"".concat(N,"-").concat(A),xAxis:L[F],yAxis:O[H],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:I})}),we(S,"renderActivePoints",function(E){var N=E.item,A=E.activePoint,C=E.basePoint,I=E.childIndex,M=E.isRange,L=[],O=N.props.key,j=N.item.type.defaultProps!==void 0?Q(Q({},N.item.type.defaultProps),N.item.props):N.item.props,P=j.activeDot,$=j.dataKey,B=Q(Q({index:I,dataKey:$,cx:A.x,cy:A.y,r:4,fill:ib(N.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},be(P,!1)),mf(P));return L.push(x.renderActiveDot(P,B,"".concat(O,"-activePoint-").concat(I))),C?L.push(x.renderActiveDot(P,Q(Q({},B),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(I))):M&&L.push(null),L}),we(S,"renderGraphicChild",function(E,N,A){var C=S.filterFormatItem(E,N,A);if(!C)return null;var I=S.getTooltipEventType(),M=S.state,L=M.isTooltipActive,O=M.tooltipAxis,j=M.activeTooltipIndex,P=M.activeLabel,$=S.props.children,B=_r($,ur),F=C.props,G=F.points,H=F.isRange,X=F.baseLine,z=C.item.type.defaultProps!==void 0?Q(Q({},C.item.type.defaultProps),C.item.props):C.item.props,ue=z.activeDot,R=z.hide,J=z.activeBar,ie=z.activeShape,de=!!(!R&&L&&B&&(ue||J||ie)),Pe={};I!=="axis"&&B&&B.props.trigger==="click"?Pe={onClick:rd(S.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&(Pe={onMouseLeave:rd(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:rd(S.handleItemMouseEnter,E.props.onMouseEnter)});var te=T.cloneElement(E,Q(Q({},C.props),Pe));function ve(q){return typeof O.dataKey=="function"?O.dataKey(q.payload):null}if(de)if(j>=0){var Y,W;if(O.dataKey&&!O.allowDuplicatedCategory){var ke=typeof O.dataKey=="function"?ve:"payload.".concat(O.dataKey.toString());Y=pf(G,ke,P),W=H&&X&&pf(X,ke,P)}else Y=G==null?void 0:G[j],W=H&&X&&X[j];if(ie||J){var ge=E.props.activeIndex!==void 0?E.props.activeIndex:j;return[T.cloneElement(E,Q(Q(Q({},C.props),Pe),{},{activeIndex:ge})),null,null]}if(!Ce(Y))return[te].concat(As(S.renderActivePoints({item:C,activePoint:Y,basePoint:W,childIndex:j,isRange:H})))}else{var K,ae=(K=S.getItemByXY(S.state.activeCoordinate))!==null&&K!==void 0?K:{graphicalItem:te},fe=ae.graphicalItem,Ne=fe.item,Me=Ne===void 0?E:Ne,ee=fe.childIndex,me=Q(Q(Q({},C.props),Pe),{},{activeIndex:ee});return[T.cloneElement(Me,me),null,null]}return H?[te,null,null]:[te,null]}),we(S,"renderCustomized",function(E,N,A){return T.cloneElement(E,Q(Q({key:"recharts-customized-".concat(A)},S.props),S.state))}),we(S,"renderMap",{CartesianGrid:{handler:sd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:sd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:sd},YAxis:{handler:sd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Fs("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=EI(S.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),S.state={},S}return gle(x,v),fle(x,[{key:"componentDidMount",value:function(){var w,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,k=w.children,S=w.data,E=w.height,N=w.layout,A=_r(k,ur);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,M=Gv(this.state,S,C,I),L=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+E)/2,j=N==="horizontal",P=j?{x:L,y:O}:{y:L,x:O},$=this.state.formattedGraphicalItems.find(function(F){var G=F.item;return G.type.name==="Scatter"});$&&(P=Q(Q({},P),$.props.points[C].tooltipPosition),M=$.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:P};this.setState(B),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(w){xy([_r(w.children,ur)],[_r(this.props.children,ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=_r(this.props.children,ur);if(w&&typeof w.props.shared=="boolean"){var k=w.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var k=this.container,S=k.getBoundingClientRect(),E=mK(S),N={chartX:Math.round(w.pageX-E.left),chartY:Math.round(w.pageY-E.top)},A=S.width/k.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,A);if(!C)return null;var I=this.state,M=I.xAxisMap,L=I.yAxisMap,O=this.getTooltipEventType(),j=yk(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&M&&L){var P=Ni(M).scale,$=Ni(L).scale,B=P&&P.invert?P.invert(N.chartX):null,F=$&&$.invert?$.invert(N.chartY):null;return Q(Q({},N),{},{xValue:B,yValue:F},j)}return j?Q(Q({},N),j):null}},{key:"inRange",value:function(w,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,N=w/S,A=k/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,I=N>=C.left&&N<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return I?{x:N,y:A}:null}var M=this.state,L=M.angleAxisMap,O=M.radiusAxisMap;if(L&&O){var j=Ni(L);return H1({x:N,y:A},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,k=this.getTooltipEventType(),S=_r(w,ur),E={};S&&k==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=mf(this.props,this.handleOuterEvent);return Q(Q({},N),E)}},{key:"addListener",value:function(){ig.on(og,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ig.removeListener(og,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,k,S){for(var E=this.state.formattedGraphicalItems,N=0,A=E.length;N<A;N++){var C=E[N];if(C.item===w||C.props.key===w.key||k===Xn(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,k=this.state.offset,S=k.left,E=k.top,N=k.height,A=k.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:S,y:E,height:N,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(k,S){var E=pk(S,2),N=E[0],A=E[1];return Q(Q({},k),{},we({},N,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(k,S){var E=pk(S,2),N=E[0],A=E[1];return Q(Q({},k),{},we({},N,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(w){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(w){var k=this.state,S=k.formattedGraphicalItems,E=k.activeItem;if(S&&S.length)for(var N=0,A=S.length;N<A;N++){var C=S[N],I=C.props,M=C.item,L=M.type.defaultProps!==void 0?Q(Q({},M.type.defaultProps),M.props):M.props,O=Xn(M.type);if(O==="Bar"){var j=(I.data||[]).find(function(F){return tre(w,F)});if(j)return{graphicalItem:C,payload:j}}else if(O==="RadialBar"){var P=(I.data||[]).find(function(F){return H1(w,F)});if(P)return{graphicalItem:C,payload:P}}else if(Rp(C,E)||Mp(C,E)||Xu(C,E)){var $=Vne({graphicalItem:C,activeTooltipItem:E,itemData:L.data}),B=L.activeIndex===void 0?$:L.activeIndex;return{graphicalItem:Q(Q({},C),{},{childIndex:B}),payload:Xu(C,E)?L.data[$]:C.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!M_(this))return null;var k=this.props,S=k.children,E=k.className,N=k.width,A=k.height,C=k.style,I=k.compact,M=k.title,L=k.desc,O=mk(k,ole),j=be(O,!1);if(I)return D.createElement(YE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(wy,ja({},j,{width:N,height:A,title:M,desc:L}),this.renderClipPath(),D_(S,this.renderMap)));if(this.props.accessibilityLayer){var P,$;j.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,j.role=($=this.props.role)!==null&&$!==void 0?$:"application",j.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},j.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return D.createElement(YE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",ja({className:Ie("recharts-wrapper",E),style:Q({position:"relative",cursor:"default",width:N,height:A},C)},B,{ref:function(G){w.container=G}}),D.createElement(wy,ja({},j,{width:N,height:A,title:M,desc:L,style:_le}),this.renderClipPath(),D_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);we(b,"displayName",r),we(b,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(b,"getDerivedStateFromProps",function(v,x){var _=v.dataKey,w=v.data,k=v.children,S=v.width,E=v.height,N=v.layout,A=v.stackOffset,C=v.margin,I=x.dataStartIndex,M=x.dataEndIndex;if(x.updateId===void 0){var L=vk(v);return Q(Q(Q({},L),{},{updateId:0},g(Q(Q({props:v},L),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:E,prevLayout:N,prevStackOffset:A,prevMargin:C,prevChildren:k})}if(_!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||E!==x.prevHeight||N!==x.prevLayout||A!==x.prevStackOffset||!qa(C,x.prevMargin)){var O=vk(v),j={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},P=Q(Q({},yk(x,w,N)),{},{updateId:x.updateId+1}),$=Q(Q(Q({},O),j),P);return Q(Q(Q({},$),g(Q({props:v},$),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:E,prevLayout:N,prevStackOffset:A,prevMargin:C,prevChildren:k})}if(!xy(k,x.prevChildren)){var B,F,G,H,X=_r(k,ys),z=X&&(B=(F=X.props)===null||F===void 0?void 0:F.startIndex)!==null&&B!==void 0?B:I,ue=X&&(G=(H=X.props)===null||H===void 0?void 0:H.endIndex)!==null&&G!==void 0?G:M,R=z!==I||ue!==M,J=!Ce(w),ie=J&&!R?x.updateId:x.updateId+1;return Q(Q({updateId:ie},g(Q(Q({props:v},x),{},{updateId:ie,dataStartIndex:z,dataEndIndex:ue}),x)),{},{prevChildren:k,dataStartIndex:z,dataEndIndex:ue})}return null}),we(b,"renderActiveDot",function(v,x,_){var w;return T.isValidElement(v)?w=T.cloneElement(v,x):Ee(v)?w=v(x):w=D.createElement(Cp,x),D.createElement(De,{className:"recharts-active-dot",key:_},w)});var y=T.forwardRef(function(x,_){return D.createElement(b,ja({},x,{ref:_}))});return y.displayName=b.displayName,y},Y2=mb({chartName:"LineChart",GraphicalChild:qo,axisComponents:[{axisType:"xAxis",AxisComp:si},{axisType:"yAxis",AxisComp:li}],formatAxisMap:p2}),gb=mb({chartName:"BarChart",GraphicalChild:In,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:si},{axisType:"yAxis",AxisComp:li}],formatAxisMap:p2}),bk=mb({chartName:"PieChart",GraphicalChild:Pn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Op},{axisType:"radiusAxis",AxisComp:Ip}],formatAxisMap:dZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const jle=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>u.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[u.jsx("p",{className:"text-sm opacity-80",children:t.label}),u.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),u.jsx("div",{className:"h-64",children:u.jsx(xo,{width:"100%",height:"100%",children:u.jsxs(gb,{data:ZD,children:[u.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(si,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(li,{stroke:"#9ca3af"}),u.jsx(ur,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(In,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),u.jsx("div",{className:"h-64",children:u.jsx(xo,{width:"100%",height:"100%",children:u.jsxs(Y2,{data:eL,children:[u.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(si,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(li,{stroke:"#9ca3af"}),u.jsx(ur,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(qo,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function mi({data:t,columns:e,title:r,icon:n,onAdd:i,onEdit:o,onDelete:a,onViewDetails:s,customRowActions:l,extraActions:c,selectedIds:d,onSelect:f}){const[h,g]=T.useState(t),[b,y]=T.useState(""),[v,x]=T.useState(1),[_,w]=T.useState(10),[k,S]=T.useState([]),E=d||k,N=f||S,[A,C]=T.useState(null);T.useEffect(()=>{let B=[...t];if(b){const F=b.toLowerCase();B=B.filter(G=>Object.values(G).join(" ").toLowerCase().includes(F))}A&&B.sort((F,G)=>{const H=F[A.key],X=G[A.key];if(H===X)return 0;if(H==null)return 1;if(X==null)return-1;const z=H<X?-1:1;return A.direction==="asc"?z:-z}),g(B),b&&v!==1&&x(1)},[t,b,A]);const I=B=>{let F="asc";A&&A.key===B&&A.direction==="asc"&&(F="desc"),C({key:B,direction:F})},M=(v-1)*_,L=M+_,O=h.slice(M,L),j=B=>{B.target.checked?N(h.map(F=>F.id)):N([])},P=B=>{E.includes(B)?N(E.filter(F=>F!==B)):N([...E,B])},$=s||o||a||l;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[n&&u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(n,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",r]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[E.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[E.length,"  "]}),c,i&&u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium text-sm",children:[u.jsx(Or,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Mo,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:b,onChange:B=>y(B.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-500",children:u.jsx(Vh,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:j,checked:h.length>0&&E.length===h.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((B,F)=>u.jsx("th",{className:`p-4 whitespace-nowrap ${B.sortKey?"cursor-pointer hover:text-primary transition-colors select-none":""}`,onClick:()=>B.sortKey&&I(B.sortKey),children:u.jsxs("div",{className:"flex items-center gap-1",children:[B.header,B.sortKey&&u.jsx("span",{className:"text-gray-400",children:(A==null?void 0:A.key)===B.sortKey?A.direction==="asc"?u.jsx(bD,{className:"w-3 h-3"}):u.jsx(vD,{className:"w-3 h-3"}):u.jsx(xD,{className:"w-3 h-3 opacity-50"})})]})},F)),$&&u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:O.length>0?O.map((B,F)=>u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${E.includes(B.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:E.includes(B.id),onChange:()=>P(B.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((G,H)=>u.jsx("td",{className:"p-4",children:G.accessor(B)},H)),$&&u.jsxs("td",{className:"p-4 flex gap-1.5 items-center",children:[l&&l(B),s&&u.jsx("button",{onClick:()=>s(B),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(rx,{width:18,height:18})}),o&&u.jsx("button",{onClick:()=>o(B),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(Gh,{width:18,height:18})}),a&&u.jsx("button",{onClick:()=>a(B),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"",children:u.jsx(Cr,{width:18,height:18})})]})]},B.id||F)):u.jsx("tr",{children:u.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:_,onChange:B=>{w(Number(B.target.value)),x(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsxs("span",{children:[": ",h.length]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{disabled:v===1,onClick:()=>x(B=>B-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(dc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",v]}),u.jsx("button",{disabled:L>=h.length,onClick:()=>x(B=>B+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(qh,{className:"w-4 h-4"})})]})]})]})]})}const Ole=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories_main","part_categories_sub","part_categories_sub_sub","parts","activity_cards","checklist_items","maintenance_plans"],wk={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories_main:"  ",part_categories_sub:"  ",part_categories_sub_sub:"   ",parts:"",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Rle=()=>{const[t,e]=T.useState("user_groups"),[r,n]=T.useState([]),[i,o]=T.useState(!1),[a,s]=T.useState(!1),[l,c]=T.useState(null),[d,f]=T.useState([]),[h,g]=T.useState(null),[b,y]=T.useState(!1),[v,x]=T.useState([]),[_,w]=T.useState([]),[k,S]=T.useState([]),[E,N]=T.useState([]),[A,C]=T.useState([]),[I,M]=T.useState([]),[L,O]=T.useState([]),[j,P]=T.useState([]),$=T.useRef(null),B=T.useRef(null),F={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"avatar",header:""},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:""},{key:"group_id",header:""},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"org_unit_id",header:" "},{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories_main:[{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub:[{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub_sub:[{key:"grand_parent_name",header:" "},{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"   "}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"full_category_path",header:" "},{key:"stock_unit_name",header:" "},{key:"consumption_unit_name",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},G=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description"],H=q=>{try{return JSON.parse(localStorage.getItem(`admin_data_${q}`)||"[]")}catch{return[]}},X=(q,U)=>{localStorage.setItem(`admin_data_${q}`,JSON.stringify(U))},z=async()=>{o(!0),g(null);let q=t;t.startsWith("part_categories_")&&(q="part_categories");try{const{data:U,error:Z}=await Ae.from(q).select("*").order("created_at",{ascending:!1});if(Z)throw Z;let V=U||[];if(t.startsWith("part_categories_")&&(P(U||[]),t==="part_categories_main"?V=V.filter(se=>se.level_type==="MAIN"):t==="part_categories_sub"?V=V.filter(se=>se.level_type==="SUB").map(se=>{var le;return{...se,parent_name:((le=U==null?void 0:U.find(xe=>xe.id===se.parent_id))==null?void 0:le.name)||"-"}}):t==="part_categories_sub_sub"&&(V=V.filter(se=>se.level_type==="SUB_SUB").map(se=>{const le=U==null?void 0:U.find(Oe=>Oe.id===se.parent_id),xe=le?U==null?void 0:U.find(Oe=>Oe.id===le.parent_id):null;return{...se,parent_name:(le==null?void 0:le.name)||"-",grand_parent_name:(xe==null?void 0:xe.name)||"-"}}))),t==="parts"){const se=j.length>0?j:await Re("part_categories"),le=L.length>0?L:await Re("measurement_units");P(se),O(le),V=V.map(xe=>{var Zt,$r;const Oe=se.find(_t=>_t.id===xe.category_id);let Ht="-";if(Oe){const _t=se.find(Mn=>Mn.id===Oe.parent_id),Rn=_t?se.find(Mn=>Mn.id===_t.parent_id):null;Ht=`${(Rn==null?void 0:Rn.name)||"?"} > ${(_t==null?void 0:_t.name)||"?"} > ${Oe.name}`}return{...xe,full_category_path:Ht,stock_unit_name:((Zt=le.find(_t=>_t.id===xe.stock_unit_id))==null?void 0:Zt.title)||"-",consumption_unit_name:(($r=le.find(_t=>_t.id===xe.consumption_unit_id))==null?void 0:$r.title)||"-"}})}if(t==="app_users"){const se=v.length>0?v:await Re("personnel");x(se),V=V.map(le=>{const xe=se.find(Oe=>Oe.id===le.personnel_id);return{...le,full_name:xe?xe.full_name:"---",unit:xe?xe.unit:"---",avatar:le.avatar||(xe?xe.profile_picture:null),personnel_code:xe?xe.personnel_code:null}})}if(t==="org_chart"){if(v.length===0){const se=await Re("personnel");x(se)}V=V.map(se=>{var le,xe;return{...se,parent_name:((le=V.find(Oe=>Oe.id===se.parent_id))==null?void 0:le.name)||"-",manager_name:((xe=v.find(Oe=>Oe.id===se.manager_id))==null?void 0:xe.full_name)||se.manager_name||"-"}})}if(t==="locations"&&(V=V.map(se=>{var le;return{...se,parent_name:((le=V.find(xe=>xe.id===se.parent_id))==null?void 0:le.name)||"-"}})),t==="personnel"){const se=await Re("org_chart");S(se),V=V.map(le=>{const xe=se.find(Oe=>Oe.id===le.org_unit_id);return{...le,unit:xe?xe.name:le.unit||"-"}})}if(t==="evaluation_criteria"){const se=await Re("org_chart");S(se),V=V.map(le=>{const xe=se.find(Oe=>Oe.id===le.org_unit_id);return{...le,org_unit_name:xe?xe.name:"-"}})}if(t==="equipment_groups"){const se=await Re("equipment_classes");N(se),V=V.map(le=>{var xe;return{...le,class_name:((xe=se.find(Oe=>Oe.id===le.class_id))==null?void 0:xe.name)||"-"}})}if(t==="equipment"||t==="equipment_local_names"){const se=await Re("equipment_classes"),le=await Re("equipment_groups");N(se),C(le),V=V.map(xe=>{var Oe,Ht;return{...xe,class_name:((Oe=se.find(Zt=>Zt.id===xe.class_id))==null?void 0:Oe.name)||"-",group_name:((Ht=le.find(Zt=>Zt.id===xe.group_id))==null?void 0:Ht.name)||"-"}})}if(t==="equipment_tree"){const se=await Re("equipment");M(se),V=V.map(le=>{var xe,Oe;return{...le,equipment_name:((xe=se.find(Ht=>Ht.id===le.equipment_id))==null?void 0:xe.name)||"-",parent_name:((Oe=V.find(Ht=>Ht.id===le.parent_id))==null?void 0:Oe.name)||"-"}})}y(!1),n(V),X(t,V)}catch(U){console.warn("Supabase fetch failed, switching to local data:",U),y(!0);const Z=H(t);n(Z)}finally{o(!1)}};T.useEffect(()=>{z(),f([]),(t==="app_users"||t==="org_chart"||t==="evaluation_criteria")&&(Re("personnel").then(x),Re("org_chart").then(S)),t==="app_users"&&Re("user_groups").then(w),t==="personnel"&&Re("org_chart").then(S),(t==="equipment_groups"||t==="equipment"||t==="equipment_local_names")&&Re("equipment_classes").then(N),(t==="equipment"||t==="equipment_local_names")&&Re("equipment_groups").then(C),t==="equipment_tree"&&Re("equipment").then(M),t==="parts"&&Re("measurement_units").then(O)},[t]);const ue=()=>{c({}),s(!0)},R=q=>{if(t==="app_users"&&q.personnel_id){const U=v.find(Z=>Z.id===q.personnel_id);c({...q,full_name:U==null?void 0:U.full_name,unit:U==null?void 0:U.unit,personnel_profile:U==null?void 0:U.profile_picture})}else if(t==="part_categories_sub"||t==="part_categories_sub_sub")c({...q});else if(t==="parts"){const U=j.find(se=>se.id===q.category_id),Z=j.find(se=>se.id===(U==null?void 0:U.parent_id)),V=j.find(se=>se.id===(Z==null?void 0:Z.parent_id));c({...q,temp_main_cat_id:(V==null?void 0:V.id)||"",temp_sub_cat_id:(Z==null?void 0:Z.id)||""})}else c(q);s(!0)},J=async q=>{if(!q.personnel_code){alert(":       .");return}if(window.confirm(`        "${q.username}"     (${q.personnel_code})  `)){o(!0);try{const{error:U}=await Ae.from("app_users").update({password:q.personnel_code,is_default_password:!0}).eq("id",q.id);if(U)throw U;alert("     .")}catch(U){console.error("Reset Password Error:",U),alert("    : "+U.message)}finally{o(!1)}}},ie=async q=>{if(!window.confirm("      "))return;[...r],n(Z=>Z.filter(V=>V.id!==q.id)),f(Z=>Z.filter(V=>V!==q.id));let U=t;t.startsWith("part_categories_")&&(U="part_categories");try{const{error:Z}=await Ae.from(U).delete().eq("id",q.id);if(Z)throw Z;await z()}catch{console.warn("Delete failed, performing offline delete");const se=H(t).filter(le=>le.id!==q.id);X(t,se),y(!0)}},de=async()=>{if(d.length===0||!window.confirm(`   ${d.length}   `))return;n(U=>U.filter(Z=>!d.includes(Z.id)));let q=t;t.startsWith("part_categories_")&&(q="part_categories");try{const{error:U}=await Ae.from(q).delete().in("id",d);if(U)throw U;f([]),await z()}catch{console.warn("Bulk delete failed, performing offline delete");const V=H(t).filter(se=>!d.includes(se.id));X(t,V),f([]),y(!0)}},Pe=q=>{const U=v.find(Z=>Z.id===q);U&&c({...l,personnel_id:U.id,full_name:U.full_name,unit:U.unit,personnel_profile:U.profile_picture,password:U.personnel_code,is_default_password:!0})},te=()=>{if(!l)return!1;switch(t){case"user_groups":return!!(l.code&&l.name);case"personnel":return!!(l.personnel_code&&l.full_name);case"org_chart":return!!l.name;case"app_users":return!!(l.username&&l.personnel_id&&l.role);case"locations":return!!l.name;case"equipment_classes":return!!(l.code&&l.name);case"equipment_groups":return!!(l.code&&l.name&&l.class_id);case"equipment":return!!(l.code&&l.name&&l.class_id&&l.group_id);case"equipment_local_names":return!!(l.local_name&&l.class_id&&l.group_id);case"evaluation_periods":return!!(l.code&&l.title);case"evaluation_criteria":return!!(l.title&&l.max_score&&l.org_unit_id);case"measurement_units":return!!l.title;case"equipment_tree":return!!(l.code&&l.name&&l.equipment_id);case"part_categories_main":return!!(l.code&&l.name);case"part_categories_sub":return!!(l.code&&l.name&&l.parent_id);case"part_categories_sub_sub":return!!(l.code&&l.name&&l.parent_id);case"parts":return!!(l.name&&l.category_id);case"activity_cards":return!!(l.code&&l.name);case"checklist_items":return!!(l.description&&l.activity_card_id);case"maintenance_plans":return!!(l.name&&l.equipment_id);default:return!1}},ve=async q=>{q.preventDefault(),o(!0),g(null);let U={...l},Z=t;if(!te()){o(!1),alert("    ()   .");return}if(t.startsWith("part_categories_")){Z="part_categories";const V=r.some(le=>le.code===U.code&&le.id!==U.id),se=r.some(le=>le.name===U.name&&le.id!==U.id);if(V){o(!1),alert("  .");return}if(se){o(!1),alert("  .");return}t==="part_categories_main"&&(U.level_type="MAIN"),t==="part_categories_sub"&&(U.level_type="SUB"),t==="part_categories_sub_sub"&&(U.level_type="SUB_SUB"),delete U.parent_name,delete U.grand_parent_name,delete U.temp_main_cat_id}if(t==="parts"&&(delete U.full_category_path,delete U.temp_main_cat_id,delete U.temp_sub_cat_id,delete U.stock_unit_name,delete U.consumption_unit_name),t==="equipment_classes"){const V=r.some(le=>le.code===U.code&&le.id!==U.id),se=r.some(le=>le.name===U.name&&le.id!==U.id);if(V){o(!1),alert("   .");return}if(se){o(!1),alert("   .");return}}if(t==="equipment_groups"){const V=r.some(le=>le.code===U.code&&le.id!==U.id),se=r.some(le=>le.name===U.name&&le.id!==U.id);if(V){o(!1),alert("   .");return}if(se){o(!1),alert("   .");return}}if(t==="personnel"&&U.org_unit_id){const V=k.find(se=>se.id===U.org_unit_id);V&&(U.unit=V.name)}t==="app_users"&&(delete U.full_name,delete U.unit,delete U.personnel_profile,delete U.avatar,delete U.personnel_code),(t==="org_chart"||t==="locations")&&(delete U.parent_name,t==="org_chart"&&delete U.manager_name),t==="equipment_groups"&&delete U.class_name,(t==="equipment"||t==="equipment_local_names")&&(delete U.class_name,delete U.group_name),t==="equipment_tree"&&(delete U.equipment_name,delete U.parent_name),t==="evaluation_criteria"&&delete U.org_unit_name;try{if(U.id){const{error:V}=await Ae.from(Z).update(U).eq("id",U.id);if(V)throw V}else{const{error:V}=await Ae.from(Z).insert([U]);if(V)throw V}await z(),s(!1)}catch(V){if(V.code==="23505")alert(" :     (  )    .");else{console.warn("Save failed, performing offline save:",V);let le=[...H(t)];if(U.id){const xe=le.findIndex(Oe=>Oe.id===U.id);xe>=0?le[xe]={...le[xe],...U}:le.push(U)}else U.id=Ll(),U.created_at=new Date().toISOString(),le.unshift(U);X(t,le),alert("     .         ."),await z(),s(!1)}}finally{o(!1)}},Y=()=>{const U=F[t].map(Oe=>Oe.key),Z=r.length>0?r:[];let V="\uFEFF"+U.join(",")+`
`;Z.forEach(Oe=>{const Ht=U.map(Zt=>{let $r=Oe[Zt]||"";return String($r).includes(",")&&($r=`"${$r}"`),$r});V+=Ht.join(",")+`
`});const se=new Blob([V],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),xe=URL.createObjectURL(se);le.setAttribute("href",xe),le.setAttribute("download",`${t}_export.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le)},W=q=>{var V;const U=(V=q.target.files)==null?void 0:V[0];if(!U)return;const Z=new FileReader;Z.onload=async se=>{var Mn;let le=((Mn=se.target)==null?void 0:Mn.result)||"";le=le.replace(/^\uFEFF/,"");const xe=le.split(/\r?\n/).filter(gt=>gt.trim()!=="");if(xe.length<2){alert("       ."),$.current&&($.current.value="");return}const Oe=xe[0],Ht=Oe.includes(";")?";":",",Zt=Oe.split(Ht).map(gt=>gt.trim().replace(/^"|"$/g,"")),$r=F[t].map(gt=>gt.key);if(t==="personnel"&&!Zt.includes("personnel_code")){alert(':  "personnel_code"  .');return}if(t==="app_users"&&(!Zt.includes("username")||!Zt.includes("personnel_code"))){alert('   :     "username"  "personnel_code" .');return}const _t=[],Rn=[];for(let gt=1;gt<xe.length;gt++){const Be=xe[gt].split(Ht).map($n=>$n.trim().replace(/^"|"$/g,"")),ut={};Zt.forEach(($n,Qs)=>{let Dn=Be[Qs];if(Dn&&Dn!=="")if(t==="app_users")if($n==="personnel_code"){const Ab=v.find(GO=>GO.personnel_code===Dn);Ab?(ut.personnel_id=Ab.id,ut.password=Dn,ut.is_default_password=!0):Rn.push(` ${gt+1}:   ${Dn}    .`)}else $r.includes($n)&&(ut[$n]=Dn);else $r.includes($n)&&(ut[$n]=Dn)}),!(t==="personnel"&&!ut.personnel_code)&&(t==="app_users"&&!ut.personnel_id||Object.keys(ut).length>0&&_t.push(ut))}if(_t.length===0){alert(`    .
`+Rn.join(`
`));return}o(!0);try{const{data:gt,error:Xs}=await Ae.from(t).insert(_t).select();if(Xs)throw Xs;alert(` ${(gt==null?void 0:gt.length)||_t.length}     .`),await z()}catch(gt){console.error("Upload Error:",gt),gt.code==="23505"?alert("  :     ."):alert(` : ${gt.message}`)}finally{o(!1),$.current&&($.current.value="")}},Z.readAsText(U)},ke=q=>{var Z;const U=(Z=q.target.files)==null?void 0:Z[0];if(U){const V=new FileReader;V.onloadend=()=>{c({...l,profile_picture:V.result})},V.readAsDataURL(U)}},ge=(F[t]||[]).map(q=>({header:q.header,accessor:U=>{if(q.key==="avatar"||q.key==="profile_picture")return u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden flex items-center justify-center",children:U[q.key]?u.jsx("img",{src:U[q.key],alt:"Avatar",className:"w-full h-full object-cover"}):u.jsx(es,{className:"w-5 h-5 text-gray-400"})});if(typeof U[q.key]=="boolean")return U[q.key]?u.jsx("span",{className:"text-green-600",children:""}):u.jsx("span",{className:"text-gray-400",children:""});if(t==="equipment_groups"&&q.key==="class_id")return U.class_name||"-";if(t==="equipment"||t==="equipment_local_names"){if(q.key==="class_id")return U.class_name||"-";if(q.key==="group_id")return U.group_name||"-"}return t==="evaluation_criteria"&&q.key==="org_unit_id"?U.org_unit_name||"-":t==="equipment_tree"&&q.key==="equipment_id"?U.equipment_name||"-":t==="equipment_tree"&&q.key==="parent_id"?U.parent_name||"-":U[q.key]},sortKey:q.key})),K=u.jsxs(u.Fragment,{children:[d.length>0&&u.jsxs("button",{onClick:de,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[u.jsx(Cr,{className:"w-4 h-4"}),"  ",d.length," "]}),u.jsxs("button",{onClick:Y,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[u.jsx(tx,{className:"w-4 h-4"}),"  / "]}),u.jsx("input",{type:"file",ref:$,accept:".csv",onChange:W,className:"hidden"}),u.jsxs("button",{onClick:()=>{var q;return(q=$.current)==null?void 0:q.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[u.jsx(pu,{className:"w-4 h-4"}),"    (CSV)"]})]}),ae=()=>{const q=j.filter(U=>U.level_type==="MAIN");return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.parent_id||"",onChange:U=>c({...l,parent_id:U.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[u.jsx("option",{value:"",children:" ..."}),q.map(U=>u.jsxs("option",{value:U.id,children:[U.name," (",U.code,")"]},U.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.code||"",onChange:U=>c({...l,code:U.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:U=>c({...l,name:U.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},fe=()=>{const q=j.filter(Z=>Z.level_type==="MAIN"),U=j.filter(Z=>Z.level_type==="SUB"&&(!l.temp_main_cat_id||Z.parent_id===l.temp_main_cat_id));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsxs("select",{value:l.temp_main_cat_id||"",onChange:Z=>c({...l,temp_main_cat_id:Z.target.value,parent_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[u.jsx("option",{value:"",children:" ..."}),q.map(Z=>u.jsxs("option",{value:Z.id,children:[Z.name," (",Z.code,")"]},Z.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.parent_id||"",onChange:Z=>c({...l,parent_id:Z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",disabled:!l.temp_main_cat_id,children:[u.jsx("option",{value:"",children:" ..."}),U.map(Z=>u.jsxs("option",{value:Z.id,children:[Z.name," (",Z.code,")"]},Z.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.code||"",onChange:Z=>c({...l,code:Z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:Z=>c({...l,name:Z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},Ne=()=>{const q=j.filter(V=>V.level_type==="MAIN"),U=j.filter(V=>V.level_type==="SUB"&&(!l.temp_main_cat_id||V.parent_id===l.temp_main_cat_id)),Z=j.filter(V=>V.level_type==="SUB_SUB"&&(!l.temp_sub_cat_id||V.parent_id===l.temp_sub_cat_id));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("select",{value:l.temp_main_cat_id||"",onChange:V=>c({...l,temp_main_cat_id:V.target.value,temp_sub_cat_id:"",category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",children:[u.jsx("option",{value:"",children:".  ..."}),q.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]}),u.jsxs("select",{value:l.temp_sub_cat_id||"",onChange:V=>c({...l,temp_sub_cat_id:V.target.value,category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",disabled:!l.temp_main_cat_id,children:[u.jsx("option",{value:"",children:".  ..."}),U.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]}),u.jsxs("select",{value:l.category_id||"",onChange:V=>c({...l,category_id:V.target.value}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800 border-primary",disabled:!l.temp_sub_cat_id,children:[u.jsx("option",{value:"",children:".    ()..."}),Z.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsx("input",{type:"text",value:l.code||"",onChange:V=>c({...l,code:V.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:V=>c({...l,name:V.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsxs("select",{value:l.stock_unit_id||"",onChange:V=>c({...l,stock_unit_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[u.jsx("option",{value:"",children:"..."}),L.map(V=>u.jsx("option",{value:V.id,children:V.title},V.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsxs("select",{value:l.consumption_unit_id||"",onChange:V=>c({...l,consumption_unit_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[u.jsx("option",{value:"",children:"..."}),L.map(V=>u.jsx("option",{value:V.id,children:V.title},V.id))]})]})]})]})},Me=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 border-4 border-white dark:border-gray-600 shadow-lg overflow-hidden flex items-center justify-center",children:l.personnel_profile?u.jsx("img",{src:l.personnel_profile,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx(es,{className:"w-10 h-10 text-gray-400"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"font-bold text-lg",children:l.full_name||" "}),u.jsx("p",{className:"text-sm text-gray-500",children:l.unit||"  "})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.personnel_id||"",onChange:q=>Pe(q.target.value),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),v.map(q=>u.jsxs("option",{value:q.id,children:[q.full_name," (",q.personnel_code,")"]},q.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",dir:"ltr",value:l.username||"",onChange:q=>c({...l,username:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:"user123"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.role||"",onChange:q=>c({...l,role:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),_.map(q=>u.jsx("option",{value:q.name,children:q.name},q.id))]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"         ."]})]})]}),ee=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsx("input",{type:"text",value:l.code||"",onChange:q=>c({...l,code:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:q=>c({...l,name:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:q=>c({...l,parent_id:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),r.filter(q=>q.id!==l.id).map(q=>u.jsx("option",{value:q.id,children:q.name},q.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.manager_id||"",onChange:q=>c({...l,manager_id:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:" ..."}),v.map(q=>u.jsxs("option",{value:q.id,children:[q.full_name," (",q.unit,")"]},q.id))]})]})]}),me=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),u.jsx("input",{type:"text",value:l.code||"",onChange:q=>c({...l,code:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:q=>c({...l,name:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:q=>c({...l,parent_id:q.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),r.filter(q=>q.id!==l.id).map(q=>u.jsx("option",{value:q.id,children:q.name},q.id))]})]})]});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(Rs,{className:"text-primary"}),"   "]}),b&&u.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[u.jsx(XD,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{onClick:z,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:u.jsx(oy,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&u.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 pb-3 mb-2",children:Ole.map(q=>u.jsx("button",{onClick:()=>e(q),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===q?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:wk[q]},q))}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:u.jsx(mi,{title:wk[t],data:r,columns:ge,onAdd:ue,onEdit:R,onDelete:ie,extraActions:K,selectedIds:d,onSelect:f,customRowActions:q=>t==="app_users"?u.jsx("button",{onClick:()=>J(q),className:"p-1.5 text-slate-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"  ",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round","aria-hidden":"true",children:[u.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),u.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}):null})}),a&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),u.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:ve,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t==="app_users"?Me():t==="org_chart"?ee():t==="locations"?me():t==="part_categories_sub"?ae():t==="part_categories_sub_sub"?fe():t==="parts"?Ne():u.jsxs(u.Fragment,{children:[F[t].map(q=>{const U=G.includes(q.key);if(q.key==="parent_name"||t==="evaluation_criteria"&&q.key==="org_unit_name"||t==="part_categories_main"&&q.key==="level_type")return null;const Z=U&&!(t==="equipment"&&q.key==="description");if(t==="personnel"&&q.key==="unit")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:V=>c({...l,org_unit_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),k.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]},String(q.key));if(t==="evaluation_criteria"&&q.key==="org_unit_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:V=>c({...l,org_unit_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),k.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]},String(q.key));if(t==="equipment_groups"&&q.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:V=>c({...l,class_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]},String(q.key));if(t==="equipment"||t==="equipment_local_names"){if(q.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:V=>c({...l,class_id:V.target.value,group_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(V=>u.jsx("option",{value:V.id,children:V.name},V.id))]})]},String(q.key));if(q.key==="group_id"){const V=A.filter(se=>se.class_id===l.class_id);return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.group_id||"",onChange:se=>c({...l,group_id:se.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",disabled:!l.class_id,children:[u.jsx("option",{value:"",children:" ..."}),V.map(se=>u.jsx("option",{value:se.id,children:se.name},se.id))]})]},String(q.key))}}return t==="equipment_tree"&&q.key==="equipment_id"?u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",U&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.equipment_id||"",onChange:V=>c({...l,equipment_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),I.map(V=>u.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]})]},String(q.key)):t==="equipment_tree"&&q.key==="parent_id"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.parent_id||"",onChange:V=>c({...l,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ()"}),r.filter(V=>V.id!==l.id&&V.equipment_id===l.equipment_id).map(V=>u.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]})]},String(q.key)):u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[q.header," ",Z&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:q.key==="email"?"email":"text",value:l[q.key]||"",onChange:V=>c({...l,[q.key]:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:q.key==="mobile"?": 09123456789":""})]},String(q.key))}),t==="personnel"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[u.jsxs("div",{onClick:()=>{var q;return(q=B.current)==null?void 0:q.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?u.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:u.jsx(ef,{className:"w-8 h-8"})}),u.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:u.jsx(pu,{className:"w-6 h-6 text-white"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("input",{type:"file",ref:B,accept:"image/*",className:"hidden",onChange:ke}),u.jsxs("button",{type:"button",onClick:()=>{var q;return(q=B.current)==null?void 0:q.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[u.jsx(ef,{className:"w-4 h-4"}),"  "]}),u.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]})]}),u.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t dark:border-gray-700 mt-2",children:[u.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),u.jsxs("button",{type:"submit",disabled:i||!te(),className:`flex-1 py-2.5 rounded-lg flex justify-center gap-2 items-center transition shadow-lg ${i||!te()?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-70":"bg-primary text-white hover:bg-red-800"}`,children:[i?u.jsx(oy,{className:"w-4 h-4 animate-spin"}):u.jsx(Tn,{className:"w-4 h-4"})," "]})]})]})]})})]})},Kn=({value:t,onChange:e,label:r,error:n,disableFuture:i=!0})=>{const[o,a]=T.useState(!1),[s,l]=T.useState(1403),[c,d]=T.useState(1),f=T.useRef(null);T.useEffect(()=>{if(t){const E=t.split("/").map(Number);E.length===3&&(l(E[0]),d(E[1]))}else{const E=rt().split("/").map(Number);l(E[0]),d(E[1])}},[t,o]),T.useEffect(()=>{const E=N=>{f.current&&!f.current.contains(N.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],b=(E,N)=>N<=6?31:N<=11||E%33===1||E%33===5||E%33===9||E%33===13||E%33===17||E%33===22||E%33===26||E%33===30?30:29,y=(E,N)=>{const{gy:A,gm:C,gd:I}=UC(E,N,1);return new Date(A,C-1,I).getDay()},v=()=>{c===1?(d(12),l(E=>E-1)):d(E=>E-1)},x=()=>{c===12?(d(1),l(E=>E+1)):d(E=>E+1)},_=E=>{const N=`${s}/${String(c).padStart(2,"0")}/${String(E).padStart(2,"0")}`;i&&cf(N)||(e(N),a(!1))},w=()=>{const E=rt();e(E),a(!1)},k=(y(s,c)+1)%7,S=b(s,c);return u.jsxs("div",{className:"relative",ref:f,children:[r&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),u.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),u.jsx(ED,{className:"w-4 h-4 text-gray-400"})]}),o&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:v,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(dc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[c-1]," ",s]}),u.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(qh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((E,N)=>u.jsx("span",{className:N===6?"text-red-500 font-bold":"",children:E},N))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:k}).map((E,N)=>u.jsx("div",{},`empty-${N}`)),Array.from({length:S}).map((E,N)=>{const A=N+1,C=`${s}/${String(c).padStart(2,"0")}/${String(A).padStart(2,"0")}`,I=t===C,M=i&&cf(C),L=(k+N)%7===6;return u.jsx("button",{type:"button",disabled:M,onClick:()=>_(A),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${I?"bg-primary text-white shadow-md font-bold":M?"text-gray-200 dark:text-gray-600 cursor-not-allowed":L?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:A},A)})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:u.jsx("button",{type:"button",onClick:w,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},kl=({value:t,onChange:e,label:r})=>{const[n,i]=T.useState(!1),[o,a]=T.useState("HOURS"),s=T.useRef(null),[l,c]=T.useState("00"),[d,f]=T.useState("00");T.useEffect(()=>{if(t&&t.includes(":")){const[_,w]=t.split(":");c(_),f(w)}},[t,n]),T.useEffect(()=>{const _=w=>{s.current&&!s.current.contains(w.target)&&i(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const h=_=>{c(_),a("MINUTES")},g=_=>{f(_),e(`${l}:${_}`),i(!1),a("HOURS")},b=(_,w,k)=>{const S=_*(360/w)-90,E=k*Math.cos(S*Math.PI/180),N=k*Math.sin(S*Math.PI/180);return{transform:`translate(${E}px, ${N}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],v=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return u.jsxs("div",{className:"relative",ref:s,children:[r&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),u.jsxs("button",{type:"button",onClick:()=>i(!n),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),u.jsx(fc,{className:"w-5 h-5 text-gray-400"})]}),n&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[u.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),u.jsx("span",{className:"text-gray-300 pb-2",children:":"}),u.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),u.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[u.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&u.jsxs(u.Fragment,{children:[y.map((_,w)=>{const k=_===12?"00":_,S=String(k).padStart(2,"0"),E=l===S;return u.jsx("button",{type:"button",onClick:()=>h(S),style:b(w,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`out-${_}`)}),v.map((_,w)=>{const k=String(_).padStart(2,"0"),S=l===k;return u.jsx("button",{type:"button",onClick:()=>h(k),style:b(w,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:_===12?"12":_},`in-${_}`)})]}),o==="MINUTES"&&u.jsxs(u.Fragment,{children:[x.map((_,w)=>{const k=String(_).padStart(2,"0"),S=d===k;return u.jsx("button",{type:"button",onClick:()=>g(k),style:b(w,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`m-${_}`)}),u.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),u.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},yb=({initialData:t,onProcessComplete:e})=>{const r=js(),n=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=T.useState("GENERAL"),[l,c]=T.useState(null),[d,f]=T.useState(null),[h,g]=T.useState(!1),[b,y]=T.useState(null),[v,x]=T.useState(!1),[_,w]=T.useState([]),[k,S]=T.useState([]),[E,N]=T.useState([]),[A,C]=T.useState([]),[I,M]=T.useState([]),[L,O]=T.useState([]),j=T.useRef(null),[P,$]=T.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:n.fullName||" ",reportDate:rt(),reportTime:ts(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:rt(),startTime:"",endDate:rt(),endTime:"",downtime:"",repairTime:""}),[B,F]=T.useState([]),[G,H]=T.useState([]),[X,z]=T.useState([]);T.useEffect(()=>{(async()=>{const ae=await Re("equipment"),fe=await Re("equipment_local_names"),Ne=await Re("locations");S(ae),N(fe),M(ae),O(fe),C(Ne),w(await Re("measurement_units"))})(),t&&($(ae=>({...ae,...t})),t.labor&&F(t.labor),t.parts&&H(t.parts),t.docs&&z(t.docs))},[t]);const ue=K=>{const ae=K.target.value,fe=k.find(Ne=>Ne.code===ae);if(!fe){$(Ne=>({...Ne,equipCode:"",equipName:"",locationId:""})),O(E);return}if($(Ne=>({...Ne,equipCode:ae,equipName:fe.name,locationId:fe.location_id||""})),fe.class_id&&fe.group_id){const Ne=E.filter(Me=>Me.class_id===fe.class_id&&Me.group_id===fe.group_id);O(Ne)}else O(E)},R=K=>{const ae=K.target.value,fe=E.find(Ne=>Ne.local_name===ae);if($(Ne=>({...Ne,equipLocalName:ae})),fe&&fe.class_id&&fe.group_id){const Ne=k.filter(Me=>Me.class_id===fe.class_id&&Me.group_id===fe.group_id);M(Ne)}else M(k)},J=K=>{const ae=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ae){alert("         .");return}if(b===K){y(null);return}const fe=new ae;fe.lang="fa-IR",fe.continuous=!1,fe.interimResults=!1,fe.onstart=()=>y(K),fe.onend=()=>y(null),fe.onresult=Ne=>{const Me=Ne.results[0][0].transcript;$(ee=>({...ee,[K]:ee[K]?`${ee[K]} ${Me}`:Me}))},fe.start()},ie=()=>{F([...B,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},de=(K,ae,fe)=>{F(Ne=>Ne.map(Me=>{if(Me.id!==K)return Me;const ee={...Me,[ae]:fe};return["startDate","startTime","endDate","endTime"].includes(ae)&&(ee.durationMinutes=nL(ee.startDate,ee.startTime,ee.endDate,ee.endTime)),ee}))},Pe=()=>{var K;H([...G,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((K=_[0])==null?void 0:K.title)||""}])},te=(K,ae,fe)=>{H(Ne=>Ne.map(Me=>Me.id===K?{...Me,[ae]:fe}:Me))},ve=K=>{if(K.target.files&&K.target.files.length>0){const ae=Array.from(K.target.files).map(fe=>({id:Math.random().toString(),name:fe.name}));z(fe=>[...fe,...ae]),K.target.value=""}},Y=(K,ae)=>{K(fe=>fe.filter(Ne=>Ne.id!==ae))},W=()=>{if(!P.equipCode)return"     .";if(!P.equipLocalName)return"      .";if(!P.productionLine)return"     .";if(!P.locationId)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(cf(P.startDate)||cf(P.endDate))return"         .";if(rL(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},ke=()=>!(!P.equipCode||!P.equipLocalName||!P.productionLine||!P.locationId||!P.workCategory||!P.priority||!P.workType||!P.failureDesc||i&&(!P.actionDesc||!P.downtime||!P.repairTime)),ge=async K=>{K.preventDefault(),f(null);const ae=W();if(ae){f(ae),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const fe={...P,labor:B,parts:G,docs:X};if(i&&e)e(fe);else{x(!0);try{const Ne=new Date,Me=Hh(Ne.getFullYear(),Ne.getMonth()+1,Ne.getDate()),ee=String(Me.jy).substring(2),me=String(Me.jm).padStart(2,"0"),q=`W${ee}${me}`,U=await Wo(q);Vi("WORK_ORDER",fe,n,U,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),c(U)):f("   .    .")}catch(Ne){console.error(Ne),f("        .")}finally{x(!1)}}};return l?u.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:u.jsx(Os,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),u.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),u.jsxs("div",{className:"p-6 space-y-3",children:[u.jsxs("button",{onClick:()=>r("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[u.jsx(jD,{className:"w-5 h-5"}),"     "]}),u.jsx("button",{onClick:()=>r("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&u.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[u.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),u.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),u.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),u.jsxs("form",{onSubmit:ge,className:"p-6",children:[d&&u.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[u.jsx(gD,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),u.jsx("span",{children:d})]}),a==="GENERAL"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:P.shift,onChange:K=>$({...P,shift:K.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[u.jsx("option",{value:"DayWork",children:""}),u.jsx("option",{value:"A",children:" A"}),u.jsx("option",{value:"B",children:" B"}),u.jsx("option",{value:"C",children:" C"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),i?u.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):u.jsxs("select",{value:P.equipCode,onChange:ue,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[u.jsx("option",{value:"",children:" ..."}),I.map(K=>u.jsxs("option",{value:K.code,children:[K.code," - ",K.name]},K.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"     "})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:R,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:"  ..."}),L.length>0?L.map(K=>u.jsx("option",{value:K.local_name,children:K.local_name},K.id)):u.jsx("option",{disabled:!0,children:"  "})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:K=>$({...P,productionLine:K.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"Line A",children:"Line A"}),u.jsx("option",{value:"Line B",children:"Line B"}),u.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{disabled:i,value:P.locationId,onChange:K=>$({...P,locationId:K.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" ..."}),A.map(K=>u.jsx("option",{value:K.id,children:K.name},K.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:K=>$({...P,workType:K.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"REPAIR",children:"  (EM)"}),u.jsx("option",{value:"PM",children:"  (PM)"}),u.jsx("option",{value:"PROJECT",children:" / "}),u.jsx("option",{value:"INSPECTION",children:" "}),u.jsx("option",{value:"SERVICE",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:K=>$({...P,workCategory:K.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"MECHANICAL",children:""}),u.jsx("option",{value:"ELECTRICAL",children:""}),u.jsx("option",{value:"INSTRUMENTATION",children:" "}),u.jsx("option",{value:"FACILITIES",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:K=>$({...P,priority:K.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"NORMAL",children:""}),u.jsx("option",{value:"URGENT",children:""}),u.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:K=>$({...P,failureDesc:K.target.value})}),!i&&u.jsx("button",{type:"button",onClick:()=>J("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${b==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:b==="failureDesc"?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Ro,{className:"w-5 h-5"})})]})]}),i&&u.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[u.jsx(mD,{className:"w-5 h-5"}),"    (  )"]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:K=>$({...P,actionDesc:K.target.value})}),u.jsx("button",{type:"button",onClick:()=>J("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${b==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:b==="actionDesc"?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Ro,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Kn,{label:" ",value:P.startDate,onChange:K=>$({...P,startDate:K})}),u.jsx(kl,{label:" ",value:P.startTime,onChange:K=>$({...P,startTime:K})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Kn,{label:" ",value:P.endDate,onChange:K=>$({...P,endDate:K})}),u.jsx(kl,{label:" ",value:P.endTime,onChange:K=>$({...P,endTime:K})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:K=>$({...P,downtime:K.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:K=>$({...P,repairTime:K.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&u.jsxs("div",{className:"space-y-4",children:[B.map(K=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1 ml-2",children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:K.name,onChange:ae=>de(K.id,"name",ae.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[u.jsx("option",{value:"",children:"..."}),u.jsx("option",{value:" ",children:"  ()"}),u.jsx("option",{value:" ",children:"  ()"})]})]}),u.jsx("button",{type:"button",onClick:()=>Y(F,K.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:u.jsx(Cr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Kn,{label:" ",value:K.startDate,onChange:ae=>de(K.id,"startDate",ae)}),u.jsx(kl,{label:" ",value:K.startTime,onChange:ae=>de(K.id,"startTime",ae)}),u.jsx(Kn,{label:" ",value:K.endDate,onChange:ae=>de(K.id,"endDate",ae)}),u.jsx(kl,{label:" ",value:K.endTime,onChange:ae=>de(K.id,"endTime",ae)})]})]},K.id)),u.jsxs("button",{type:"button",onClick:ie,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(Or,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&u.jsxs("div",{className:"space-y-4",children:[G.map(K=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[u.jsx("button",{type:"button",onClick:()=>Y(H,K.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),u.jsx("input",{type:"text",value:K.code,onChange:ae=>te(K.id,"code",ae.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:K.name,onChange:ae=>te(K.id,"name",ae.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:K.qty,onChange:ae=>te(K.id,"qty",Number(ae.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:K.unit,onChange:ae=>te(K.id,"unit",ae.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:_.length>0?_.map(ae=>u.jsx("option",{value:ae.title,children:ae.title},ae.id)):u.jsx("option",{value:"",children:""})})]})]})]},K.id)),u.jsxs("button",{type:"button",onClick:Pe,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(Or,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("input",{type:"file",ref:j,multiple:!0,className:"hidden",onChange:ve}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var K;return(K=j.current)==null?void 0:K.click()},children:[u.jsx(Yn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),X.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),X.map(K=>u.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[u.jsx("span",{className:"text-sm truncate max-w-[200px]",children:K.name}),u.jsx("button",{type:"button",onClick:()=>Y(z,K.id),className:"text-red-500",children:u.jsx(Cr,{className:"w-4 h-4"})})]},K.id))]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:u.jsxs("button",{disabled:!ke()||v,type:"submit",className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 ${!ke()||v?"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400 shadow-none":""}`,children:[v?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Tn,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},Mle=()=>{const t=js(),[e,r]=T.useState([]),[n,i]=T.useState([]),[o,a]=T.useState([]),[s,l]=T.useState(null),[c,d]=T.useState(!1),[f,h]=T.useState([]),[g,b]=T.useState(""),[y,v]=T.useState("ALL"),[x,_]=T.useState(""),[w,k]=T.useState(""),[S,E]=T.useState(1),[N,A]=T.useState(10);T.useEffect(()=>{const j=K4();r(j.sort((P,$)=>$.createdAt.localeCompare(P.createdAt)))},[]),T.useEffect(()=>{let j=e;g&&(j=j.filter(P=>{var $;return P.title.includes(g)||P.trackingCode.includes(g)||(($=P.data)==null?void 0:$.equipName)&&P.data.equipName.includes(g)})),y!=="ALL"&&(j=j.filter(P=>C(P).includes(y))),x&&(j=j.filter(P=>P.createdAt>=x)),w&&(j=j.filter(P=>P.createdAt<=w)),i(j),E(1),h([])},[e,g,y,x,w]),T.useEffect(()=>{const j=(S-1)*N,P=j+N;a(n.slice(j,P))},[n,S,N]);const C=j=>{if(j.status==="DONE")return" ";const $=wu().find(F=>F.id===j.workflowId),B=$==null?void 0:$.steps.find(F=>F.id===j.currentStepId);return(B==null?void 0:B.title)||""},I=j=>{const P=C(j);let $="bg-gray-100 text-gray-600";return P.includes("")?$="bg-blue-100 text-blue-700":P.includes("")?$="bg-orange-100 text-orange-700":P.includes("")?$="bg-purple-100 text-purple-700":(P.includes("")||j.status==="DONE")&&($="bg-green-100 text-green-700"),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${$}`,children:P})},M=j=>{j.target.checked?h(o.map(P=>P.id)):h([])},L=j=>{f.includes(j)?h(f.filter(P=>P!==j)):h([...f,j])},O=()=>{const j=f.length>0?e.filter(H=>f.includes(H.id)):n;if(j.length===0){alert("    .");return}const P=[" ","",""," ","",""],$=j.map(H=>{var X,z;return[H.trackingCode,((X=H.data)==null?void 0:X.equipName)||"-",H.title,((z=H.data)==null?void 0:z.requester)||"-",H.createdAt,C(H)]}),B="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+$.map(H=>H.join(",")).join(`
`),F=encodeURI(B),G=document.createElement("a");G.setAttribute("href",F),G.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(G),G.click(),document.body.removeChild(G)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(LC,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),u.jsxs("button",{onClick:O,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[u.jsx(jC,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]}),u.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[u.jsx(Or,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[u.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(Mo,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:j=>b(j.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${c?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[u.jsx(Vh,{className:"w-5 h-5"}),u.jsx("span",{children:""}),c?u.jsx(CC,{className:"w-4 h-4"}):u.jsx(Bh,{className:"w-4 h-4"})]})]}),c&&u.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsxs("select",{value:y,onChange:j=>v(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:"  "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:j=>_(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/12/29",value:w,onChange:j=>k(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsx("div",{className:"flex items-end",children:u.jsx("button",{onClick:()=>{v("ALL"),_(""),k(""),b("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:M,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:"  / "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(j=>{var P,$,B;return u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(j.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:f.includes(j.id),onChange:()=>L(j.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:j.trackingCode}),u.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=j.data)==null?void 0:P.equipName)||"-"}),u.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:(($=j.data)==null?void 0:$.failureDesc)||j.title}),u.jsx("td",{className:"p-4",children:((B=j.data)==null?void 0:B.requester)||""}),u.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:j.createdAt}),u.jsx("td",{className:"p-4",children:I(j)}),u.jsx("td",{className:"p-4",children:u.jsxs("button",{onClick:()=>l(j),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[u.jsx(rx,{className:"w-4 h-4"})," "]})})]},j.id)}):u.jsx("tr",{children:u.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[u.jsx(Mo,{className:"w-12 h-12 mb-4 opacity-20"}),u.jsx("span",{children:"     ."})]})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:N,onChange:j=>{A(Number(j.target.value)),E(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{children:"   "}),u.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",n.length," "]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:S===1,onClick:()=>E(j=>Math.max(1,j-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(dc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(n.length/N)||1]}),u.jsx("button",{disabled:S>=Math.ceil(n.length/N),onClick:()=>E(j=>j+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(qh,{className:"w-4 h-4"})})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-lg",children:s.title}),u.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),u.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(It,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:u.jsx("div",{className:"pointer-events-none opacity-90",children:u.jsx(yb,{initialData:s.data})})}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:u.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},$le=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Dle=({user:t})=>{const e=js(),[r,n]=T.useState("SELECT"),[i,o]=T.useState($le),[a,s]=T.useState(""),l=(h,g)=>{o(b=>b.map(y=>y.id===h?{...y,status:g}:y))},c=()=>{n("SENDING"),setTimeout(()=>{s(tL("J")),n("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(r==="SELECT")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[u.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>n("CHECKLIST"),children:u.jsx(qD,{className:"w-20 h-20 text-primary"})}),u.jsx("p",{className:"text-lg font-medium",children:" QR   "}),u.jsx("button",{onClick:()=>n("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(r==="SENDING")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),u.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:u.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(r==="RESULT"){const h=i.filter(g=>g.status==="NOK");return u.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"text-4xl animate-bounce",children:""}),u.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:"  101"}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:rt()}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[u.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),u.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>u.jsx("li",{children:g.desc},g.id))})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(nx,{className:"w-5 h-5"}),"  "]}),u.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(RC,{className:"w-5 h-5"})," "]})]})]})}return u.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[u.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),u.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),u.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),u.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>u.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[u.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[u.jsx(hu,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[u.jsx(It,{className:"w-5 h-5"})," "]})]}):u.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[u.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),u.jsx(Ro,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[u.jsx(ef,{className:"w-4 h-4"}),"  "]}),u.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:u.jsx("button",{disabled:d>0,onClick:c,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})},Lle=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[o,a]=T.useState(!1),[s,l]=T.useState(!1),[c,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState([]),[y,v]=T.useState([]),[x,_]=T.useState({mainCatId:"",subCatId:"",subSubCatId:"",search:""}),[w,k]=T.useState([]),[S,E]=T.useState({requestDate:rt(),requestTime:ts(),workOrderId:"",description:""}),[N,A]=T.useState([]),[C,I]=T.useState({id:"",partId:"",partName:"",partCode:"",qty:1,unit:"",note:""}),[M,L]=T.useState(!1);T.useEffect(()=>{j(),O()},[]);const O=async()=>{const R=Jh("PART_REQUEST");i(R.map(J=>({...J,...J.data})))},j=async()=>{a(!0);const[R,J,ie,de]=await Promise.all([Re("part_categories"),Re("parts"),Re("measurement_units"),Ae.from("cartable_items").select("*").eq("module","WORK_ORDER").neq("status","DONE")]);d(R||[]),h(J||[]),b(ie||[]),v(de.data||[]),ie&&ie.length>0&&I(Pe=>({...Pe,unit:ie[0].title})),a(!1)};T.useEffect(()=>{let R=f;if(x.subSubCatId)R=R.filter(J=>J.category_id===x.subSubCatId);else if(x.subCatId){const J=c.filter(ie=>ie.parent_id===x.subCatId).map(ie=>ie.id);R=R.filter(ie=>J.includes(ie.category_id))}else if(x.mainCatId){const J=c.filter(de=>de.parent_id===x.mainCatId).map(de=>de.id),ie=c.filter(de=>J.includes(de.parent_id)).map(de=>de.id);R=R.filter(de=>ie.includes(de.category_id))}if(x.search){const J=x.search.toLowerCase();R=R.filter(ie=>ie.name&&ie.name.toLowerCase().includes(J)||ie.code&&ie.code.toLowerCase().includes(J))}k(R)},[x,f,c]);const P=R=>{var de,Pe;const J=f.find(te=>te.id===R);if(!J)return;const ie=((de=g.find(te=>te.id===J.consumption_unit_id))==null?void 0:de.title)||((Pe=g[0])==null?void 0:Pe.title)||"";I(te=>({...te,partId:J.id,partName:J.name,partCode:J.code,unit:ie}))},$=()=>{if(!C.partId&&!C.partName){alert("          .");return}if(C.qty<=0){alert("     .");return}const R={...C,id:Math.random().toString()};A(J=>[...J,R]),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:C.unit,note:""})},B=R=>{I(R),L(!0),A(J=>J.filter(ie=>ie.id!==R.id))},F=()=>{var R;!C.partName||C.qty<=0||(A(J=>[...J,C]),L(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((R=g[0])==null?void 0:R.title)||"",note:""}))},G=R=>{window.confirm("      ")&&A(J=>J.filter(ie=>ie.id!==R))},H=async R=>{if(R.preventDefault(),N.length===0){alert("   .      .");return}if(!S.workOrderId&&!S.description.trim()){alert("       ( )  .");return}l(!0);try{const J=new Date,ie=rt().split("/"),de=await Wo("P"),Pe=y.find(K=>K.id===S.workOrderId),te=Pe?Pe.tracking_code:null,ve={tracking_code:de,requester_id:t.id,requester_name:t.fullName,work_order_id:S.workOrderId||null,work_order_code:te,request_date:S.requestDate,description:S.description||(Pe?`   ${Pe.title}`:""),status:"PENDING"},{data:Y,error:W}=await Ae.from("part_requests").insert([ve]).select().single();if(W)throw W;const ke=N.map(K=>({request_id:Y.id,part_id:K.partId||null,part_name:K.partName,qty:K.qty,unit:K.unit,note:K.note})),{error:ge}=await Ae.from("part_request_items").insert(ke);if(ge)throw ge;Vi("PART_REQUEST",{...ve,items:N},t,de,` : ${N.length} `),alert(`    ${de}    .`),r("LIST"),O(),A([]),E({requestDate:rt(),requestTime:ts(),workOrderId:"",description:""})}catch(J){console.error(J),alert("   : "+J.message)}finally{l(!1)}},X=c.filter(R=>R.level_type==="MAIN"),z=c.filter(R=>R.level_type==="SUB"&&(!x.mainCatId||R.parent_id===x.mainCatId)),ue=c.filter(R=>R.level_type==="SUB_SUB"&&(!x.subCatId||R.parent_id===x.subCatId));return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:"   ",icon:Dl,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:R=>u.jsx("span",{className:"font-mono font-bold",children:R.trackingCode})},{header:" ",accessor:R=>R.createdAt},{header:"  ",accessor:R=>{var J;return((J=R.data)==null?void 0:J.work_order_code)||"-"}},{header:" ",accessor:R=>{var J,ie;return u.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded font-bold",children:((ie=(J=R.data)==null?void 0:J.items)==null?void 0:ie.length)||0})}},{header:" ",accessor:R=>{var J;return((J=R.data)==null?void 0:J.requester_name)||t.fullName}},{header:"",accessor:R=>u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${R.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:R.status==="PENDING"?"  ":" "})}]})}):u.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(Dl,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"   / "}),u.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),u.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(It,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4",children:"  "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm",children:t.fullName})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-mono text-center",children:S.requestDate})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  "}),u.jsxs("select",{value:S.workOrderId,onChange:R=>E({...S,workOrderId:R.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-600 text-sm outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),y.map(R=>u.jsxs("option",{value:R.id,children:[R.tracking_code," - ",R.title]},R.id))]})]}),!S.workOrderId&&u.jsxs("div",{className:"md:col-span-3 animate-fadeIn",children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:S.description,onChange:R=>E({...S,description:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:"    ..."})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4 flex items-center gap-2",children:[u.jsx(Or,{className:"w-5 h-5 text-green-600"}),M?"  ":"  "]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-blue-700 mb-2",children:[u.jsx(Vh,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2",children:[u.jsxs("select",{value:x.mainCatId,onChange:R=>_({...x,mainCatId:R.target.value,subCatId:"",subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",children:[u.jsx("option",{value:"",children:"  "}),X.map(R=>u.jsx("option",{value:R.id,children:R.name},R.id))]}),u.jsxs("select",{value:x.subCatId,onChange:R=>_({...x,subCatId:R.target.value,subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",disabled:!x.mainCatId,children:[u.jsx("option",{value:"",children:"  "}),z.map(R=>u.jsx("option",{value:R.id,children:R.name},R.id))]}),u.jsxs("select",{value:x.subSubCatId,onChange:R=>_({...x,subSubCatId:R.target.value}),className:"p-2 rounded border outline-none text-xs",disabled:!x.subCatId,children:[u.jsx("option",{value:"",children:" "}),ue.map(R=>u.jsx("option",{value:R.id,children:R.name},R.id))]}),u.jsxs("div",{className:"relative",children:[u.jsx(Mo,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" /...",value:x.search,onChange:R=>_({...x,search:R.target.value}),className:"w-full p-2 pl-8 rounded border outline-none text-xs"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:C.partId,onChange:R=>P(R.target.value),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"--     --"}),w.map(R=>u.jsxs("option",{value:R.id,children:[R.name," ",R.code?`(${R.code})`:""]},R.id))]}),u.jsx("div",{className:"mt-1 text-xs text-gray-400",children:w.length===0?"   .":`${w.length}   .`})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (   )"}),u.jsx("input",{type:"text",value:C.partName,onChange:R=>I({...C,partName:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",min:"0.01",step:"0.01",value:C.qty,onChange:R=>I({...C,qty:Number(R.target.value)}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-center font-bold"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:C.unit,onChange:R=>I({...C,unit:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",children:g.map(R=>u.jsx("option",{value:R.title,children:R.title},R.id))})]})]}),u.jsx("div",{className:"mt-3",children:u.jsx("input",{type:"text",value:C.note,onChange:R=>I({...C,note:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-sm",placeholder:"     ()..."})}),u.jsx("div",{className:"mt-4 flex justify-end",children:M?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{var R;L(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((R=g[0])==null?void 0:R.title)||"",note:""})},className:"px-4 py-2 border rounded-lg text-gray-500 hover:bg-gray-100",children:""}),u.jsx("button",{onClick:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg",children:""})]}):u.jsxs("button",{onClick:$,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg flex items-center justify-center gap-2 font-bold transition transform active:scale-95",children:[u.jsx(Or,{className:"w-5 h-5"}),"   "]})})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 flex justify-between items-center",children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[u.jsx(OD,{className:"w-5 h-5"}),"   "]}),u.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full",children:N.length})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[500px]",children:N.length===0?u.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[u.jsx(Dl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"    ."]}):N.map((R,J)=>u.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border border-gray-100 dark:border-gray-600 shadow-sm hover:shadow-md transition relative group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:R.partName}),u.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-600 px-1.5 py-0.5 rounded font-mono text-gray-500",children:R.partCode||"---"})]}),u.jsxs("div",{className:"text-sm text-blue-600 font-bold mb-1",children:[R.qty," ",R.unit]}),R.note&&u.jsx("div",{className:"text-xs text-gray-500 italic border-t pt-1 mt-1",children:R.note}),u.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-gray-800/80 rounded p-0.5 backdrop-blur-sm",children:[u.jsx("button",{onClick:()=>B(R),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",children:u.jsx(Gh,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>G(R.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})]})]},R.id))}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("button",{onClick:H,disabled:N.length===0||s||!S.workOrderId&&!S.description,className:"w-full bg-primary text-white py-3 rounded-xl shadow-xl hover:bg-red-800 transition font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Tn,{className:"w-5 h-5"}),"  "]})})]})})]})]})},Ule=()=>{const[t,e]=T.useState("LIST"),[r,n]=T.useState([]),[i,o]=T.useState(!1),[a,s]=T.useState(!1),l=T.useRef(null),[c,d]=T.useState(null),[f,h]=T.useState({code:"",name:"",type:""});T.useEffect(()=>{g()},[t]);const g=async()=>{o(!0);try{const{data:w,error:k}=await Ae.from("technical_documents").select("*").order("created_at",{ascending:!1});if(k)throw k;n(w||[])}catch(w){console.error("Error fetching documents:",w)}finally{o(!1)}},b=()=>{var w;(w=l.current)==null||w.click()},y=w=>{w.target.files&&w.target.files[0]&&d(w.target.files[0])},v=()=>f.code.trim()!==""&&f.name.trim()!==""&&f.type!=="",x=async w=>{if(w.preventDefault(),!!v()){s(!0);try{const k={code:f.code,title:f.name,type:f.type,file_name:c?c.name:" "},{error:S}=await Ae.from("technical_documents").insert([k]);if(S)throw S;alert("    ."),h({code:"",name:"",type:""}),d(null),l.current&&(l.current.value=""),e("LIST"),g()}catch(k){alert("   : "+k.message)}finally{s(!1)}}},_=async w=>{if(window.confirm("      "))try{const{error:k}=await Ae.from("technical_documents").delete().eq("id",w.id);if(k)throw k;n(S=>S.filter(E=>E.id!==w.id))}catch(k){alert("  : "+k.message)}};return t==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx("button",{onClick:g,className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:u.jsx(oy,{className:`w-5 h-5 ${i?"animate-spin":""}`})})}),u.jsx(mi,{title:"  ",icon:$l,data:r,onAdd:()=>e("NEW"),onDelete:_,columns:[{header:" ",accessor:w=>u.jsx("span",{className:"font-mono font-bold",children:w.code})},{header:" ",accessor:w=>w.title},{header:" ",accessor:w=>w.type},{header:" ",accessor:w=>w.file_name||"-"},{header:" ",accessor:w=>new Date(w.created_at).toLocaleDateString("fa-IR")}]})]}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($l,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),u.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit border border-gray-200 dark:border-gray-700",children:u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:f.code,onChange:w=>h({...f,code:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:": MAP-101"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:f.name,onChange:w=>h({...f,name:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:"   ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:f.type,onChange:w=>h({...f,type:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all cursor-pointer",required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"MAP",children:" "}),u.jsx("option",{value:"CATALOG",children:"  "}),u.jsx("option",{value:"MANUAL",children:" "}),u.jsx("option",{value:"OTHER",children:" "})]})]}),u.jsx("input",{type:"file",ref:l,onChange:y,className:"hidden"}),u.jsxs("div",{onClick:b,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all mt-6
                ${c?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[u.jsx(pu,{className:`w-10 h-10 mx-auto mb-4 ${c?"text-green-600":"text-gray-400"}`}),u.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:c?c.name:"    "}),u.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),u.jsxs("div",{className:"flex gap-3 pt-6 border-t dark:border-gray-700 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsxs("button",{type:"submit",disabled:!v()||a,className:`flex-[2] py-3 rounded-xl shadow-lg font-bold transition-all flex items-center justify-center gap-2
                        ${v()&&!a?"bg-primary text-white hover:bg-red-800 cursor-pointer transform active:scale-95":"bg-gray-300 text-gray-500 dark:bg-gray-700 dark:text-gray-400 cursor-not-allowed opacity-70"}
                    `,children:[a?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx($l,{className:"w-5 h-5"}),"  "]})]})]})})]})},_k=({value:t,onChange:e,label:r,error:n})=>{const[i,o]=T.useState(!1),a=T.useRef(null),s=Array.from({length:24},(g,b)=>String(b).padStart(2,"0")),l=Array.from({length:12},(g,b)=>String(b*5).padStart(2,"0"));T.useEffect(()=>{const g=b=>{a.current&&!a.current.contains(b.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[c,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${c==="--"?"00":c}:${g}`),o(!1)};return u.jsxs("div",{className:"relative",ref:a,children:[r&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),u.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),u.jsx(fc,{className:"w-4 h-4 text-gray-400"})]}),i&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>u.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),u.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>u.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${c===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},Fle=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[o,a]=T.useState(!1),[s,l]=T.useState(!1),[c,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState(null);T.useEffect(()=>{y(),Re("personnel").then(d),Re("org_chart").then(h),v()},[e]);const y=async()=>{a(!0);const{data:Y}=await Ae.from("meeting_minutes").select("*").order("created_at",{ascending:!1});Y&&i(Y),a(!1)},v=async()=>{const{data:Y}=await Ae.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();Y&&b(Y.avatar)},[x,_]=T.useState({subject:"",location:"",meetingDate:rt(),startTime:"",endTime:""}),[w,k]=T.useState([]),[S,E]=T.useState(""),[N,A]=T.useState(null),[C,I]=T.useState([]),[M,L]=T.useState({name:"",role:""});T.useRef(null);const[O,j]=T.useState([]),[P,$]=T.useState(null),B=()=>{if(!M.name||!M.role){alert("      ");return}I([...C,M]),L({name:"",role:""})},F=Y=>{I(C.filter((W,ke)=>ke!==Y))},G=()=>{S.trim()&&(N?(k(w.map(Y=>Y.id===N?{...Y,text:S}:Y)),A(null)):k([...w,{id:Math.random().toString(),text:S}]),E(""))},H=Y=>{E(Y.text),A(Y.id)},X=Y=>{k(w.filter(W=>W.id!==Y))},z=Y=>{const W=["","","","","","","","","",""];return Y.toString().replace(/\d/g,ke=>W[parseInt(ke)])},ue=()=>{if(!x.startTime||!x.endTime)return!1;const[Y,W]=x.startTime.split(":").map(Number),[ke,ge]=x.endTime.split(":").map(Number);return ke>Y||ke===Y&&ge>W},R=()=>x.subject&&ue()&&C.length>0&&w.length>0,J=()=>{x.subject||C.length>0?window.confirm("        ")&&(ie(),r("LIST")):(ie(),r("LIST"))},ie=()=>{_({subject:"",location:"",meetingDate:rt(),startTime:"",endTime:""}),I([]),k([]),j([]),$(null)},de=async Y=>{if(Y.preventDefault(),!R())return;l(!0);let W=null,ke="";try{ke=await Wo("G");const K=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id)?t.id:null;W={tracking_code:ke,subject:x.subject,location:x.location,meeting_date:x.meetingDate,start_time:x.startTime,end_time:x.endTime,attendees:C,decisions:w,attached_files:O.map(fe=>({name:fe.name||"unknown",size:fe.size||0,type:fe.type||"application/octet-stream"})),creator_id:K,status:"PENDING"};const{error:ae}=await Ae.from("meeting_minutes").insert([W]);if(ae)throw ae;Vi("MEETING",W,t,ke,`: ${x.subject}`),alert("    ."),$(W),r("VIEW")}catch(ge){console.error("Submission Error:",ge);const K=(ge==null?void 0:ge.message)||(ge==null?void 0:ge.error_description)||(typeof ge=="object"?JSON.stringify(ge):String(ge))||" ";if(alert(`   : 
${K}

            .`),W){try{Vi("MEETING",W,t,ke||"OFFLINE",` (): ${x.subject}`)}catch(ae){console.warn("Local save warning:",ae)}$(W),r("VIEW")}}finally{l(!1)}},Pe=()=>{window.print()},te=async()=>{if(navigator.share)try{await navigator.share({title:` ${P.subject}`,text:`  ${P.tracking_code}  ${P.meeting_date}`,url:window.location.href})}catch(Y){console.error("Error sharing:",Y)}else Pe()},ve=Y=>{$(Y),j(Y.attached_files||[]),r("VIEW")};return e==="VIEW"&&P?u.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[u.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 210mm !important; min-height: 297mm !important; padding: 20mm !important; margin: 0 !important; box-shadow: none !important; }
                      aside, header, footer { display: none !important; }
                  }
              `}),u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-sm space-y-6 font-sans box-border w-[210mm] min-h-[297mm] p-[20mm]",children:[u.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-6 relative min-h-[100px]",children:[u.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 flex items-center justify-center shadow-sm",children:g?u.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx(lP,{className:"w-full h-full object-contain"})}),u.jsxs("div",{className:"flex flex-col items-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020] whitespace-nowrap",children:"     "}),u.jsx("span",{className:"text-sm font-bold text-gray-700 mt-2 bg-gray-100 px-4 py-1 rounded-full border border-gray-200",children:" "})]}),u.jsxs("div",{className:"w-48 text-xs flex flex-col gap-2 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-mono font-bold text-sm text-[#800020]",children:P.tracking_code})]}),u.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-mono font-bold",children:P.meeting_date})]}),u.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-bold",children:O.length>0?"":""})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold",children:P.subject})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold",children:P.location||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold font-mono",children:P.start_time})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold font-mono",children:P.end_time})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:"  "}),u.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100",children:[u.jsx("th",{className:"border border-gray-300 p-2 w-10",children:""}),u.jsx("th",{className:"border border-gray-300 p-2",children:"   "}),u.jsx("th",{className:"border border-gray-300 p-2",children:" / "}),u.jsx("th",{className:"border border-gray-300 p-2",children:""})]})}),u.jsx("tbody",{children:P.attendees.map((Y,W)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 p-2",children:z(W+1)}),u.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:Y.name}),u.jsx("td",{className:"border border-gray-300 p-2",children:Y.role}),u.jsx("td",{className:"border border-gray-300 p-2"})]},W))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:" "}),u.jsx("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4 min-h-[200px]",children:P.decisions.map((Y,W)=>u.jsxs("div",{className:"flex gap-2 text-justify leading-relaxed border-b border-dashed border-gray-200 pb-2 last:border-0",children:[u.jsxs("span",{className:"font-bold text-[#800020]",children:[z(W+1),"."]}),u.jsx("span",{children:Y.text})]},W))})]}),u.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[u.jsxs("button",{onClick:()=>r("LIST"),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[u.jsx(RC,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:Pe,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold",children:[u.jsx(iy,{className:"w-5 h-5"}),"  (PDF)"]}),u.jsxs("button",{onClick:te,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold",children:[u.jsx(nx,{className:"w-5 h-5"}),"  "]})]})]})]}):e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:" ",icon:rf,data:n,onAdd:()=>{ie(),r("NEW")},columns:[{header:" ",accessor:Y=>u.jsx("span",{className:"font-mono font-bold",children:Y.tracking_code})},{header:" ",accessor:Y=>u.jsx("span",{className:"font-bold",children:Y.subject})},{header:" ",accessor:Y=>Y.meeting_date},{header:"",accessor:Y=>`${Y.start_time} - ${Y.end_time}`},{header:"",accessor:Y=>Y.location},{header:"",accessor:Y=>{var W;return u.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded font-bold",children:[((W=Y.decisions)==null?void 0:W.length)||0," "]})}}],onViewDetails:ve})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(rf,{className:"w-8 h-8 text-primary"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:de,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:x.subject,onChange:Y=>_({...x,subject:Y.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"  ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),u.jsx("input",{type:"text",value:x.location,onChange:Y=>_({...x,location:Y.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsx("div",{children:u.jsx(Kn,{label:" ",value:x.meetingDate,onChange:Y=>_({...x,meetingDate:Y})})}),u.jsx("div",{children:u.jsx(_k,{label:" ",value:x.startTime,onChange:Y=>_({...x,startTime:Y})})}),u.jsx("div",{children:u.jsx(_k,{label:" ",value:x.endTime,onChange:Y=>_({...x,endTime:Y}),error:x.endTime&&!ue()?"      ":void 0})})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[u.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[u.jsx(Rs,{className:"w-4 h-4"}),"    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3 items-end",children:[u.jsxs("div",{className:"flex-[1] min-w-0",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),u.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:M.name,onChange:Y=>L({...M,name:Y.target.value}),children:[u.jsx("option",{value:"",children:"..."}),c.map(Y=>u.jsx("option",{value:Y.full_name,children:Y.full_name},Y.id))]})]}),u.jsxs("div",{className:"flex-[2] min-w-0",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" / "}),u.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:M.role,onChange:Y=>L({...M,role:Y.target.value}),children:[u.jsx("option",{value:"",children:"..."}),f.map(Y=>u.jsx("option",{value:Y.name,children:Y.name},Y.id))]})]}),u.jsx("button",{type:"button",onClick:B,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 h-[38px] w-[38px] flex items-center justify-center",children:u.jsx(Or,{className:"w-5 h-5"})})]}),C.length>0?u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:C.map((Y,W)=>u.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-bold",children:Y.name}),u.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),u.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:Y.role})]}),u.jsx("button",{type:"button",onClick:()=>F(W),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})]},W))}):u.jsx("p",{className:"text-xs text-gray-500 text-center py-2 bg-white/50 rounded border border-dashed",children:"    ."})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[u.jsx(tf,{className:"w-4 h-4"}),"   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:S,onChange:Y=>E(Y.target.value),placeholder:" ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:Y=>Y.key==="Enter"&&(Y.preventDefault(),G())}),u.jsx("button",{type:"button",onClick:G,className:`bg-green-600 text-white px-4 rounded-lg hover:bg-green-700 transition ${S.trim()?"":"opacity-50 cursor-not-allowed"}`,children:N?u.jsx(Tn,{className:"w-5 h-5"}):u.jsx(Or,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[w.length===0&&u.jsx("p",{className:"text-sm text-gray-400 text-center py-2 italic",children:"   ."}),w.map((Y,W)=>u.jsxs("div",{className:"flex justify-between items-start bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 group",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 mt-0.5",children:z(W+1)}),u.jsx("span",{className:"text-sm text-justify leading-relaxed",children:Y.text})]}),u.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{type:"button",onClick:()=>H(Y),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:u.jsx(Gh,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>X(Y.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})]})]},Y.id))]})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[u.jsx("button",{type:"button",onClick:J,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",children:""}),u.jsxs("button",{type:"submit",disabled:!R()||s,className:`flex-[2] text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition
                    ${R()&&!s?"bg-primary":"bg-gray-400 cursor-not-allowed"}
                `,children:[s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Tn,{className:"w-5 h-5"}),"   "]})]})]})]})},Ble=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[o,a]=T.useState(!1);T.useEffect(()=>{const v=Jh("SUGGESTION");i(v.map(x=>({...x,...x.data})))},[e]);const[s,l]=T.useState(""),c=T.useRef(null),[d,f]=T.useState([]),h=async v=>{if(v.preventDefault(),!!s.trim()){a(!0);try{const x=await Wo("H"),_={tracking_code:x,user_id:t.id,user_name:t.fullName,description:s,attached_files:d.map(k=>({name:k.name,size:k.size})),status:"PENDING"},{error:w}=await Ae.from("technical_suggestions").insert([_]);if(w)throw w;Vi("SUGGESTION",{text:s,..._},t,x,`: ${s.substring(0,20)}...`),alert(`     ${x}  .`),r("LIST"),l(""),f([])}catch(x){console.error(x),alert("   : "+x.message)}finally{a(!1)}}},g=()=>{var v;(v=c.current)==null||v.click()},b=v=>{v.target.files&&v.target.files.length>0&&f([...d,...Array.from(v.target.files)])},y=v=>{f(d.filter((x,_)=>_!==v))};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:" ",icon:af,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:v=>u.jsx("span",{className:"font-mono font-bold",children:v.trackingCode})},{header:" ",accessor:v=>v.description?v.description.substring(0,50)+"...":v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.user_name||t.fullName},{header:"",accessor:v=>u.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):u.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(af,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:rt(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:s,onChange:v=>l(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),u.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:u.jsx(Ro,{className:"w-6 h-6"})})]})]}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:c,multiple:!0,className:"hidden",onChange:b}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Yn,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),d.length>0&&u.jsx("div",{className:"mt-4 space-y-2",children:d.map((v,x)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),u.jsx("button",{type:"button",onClick:()=>y(x),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})]},x))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsxs("button",{type:"submit",disabled:!s.trim()||o,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition
                    ${!s.trim()||o?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                `,children:[o?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(sf,{className:"w-5 h-5"})," "]})]})]})]})},qle=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[o,a]=T.useState([]),[s,l]=T.useState(!1);T.useEffect(()=>{const v=Jh("PURCHASE");i(v.map(x=>({...x,...x.data}))),Re("measurement_units").then(a)},[e]);const[c,d]=T.useState({requestNumber:"",requestDate:rt(),location:" ()",priority:"",desc:"",qty:1,unit:""}),[f,h]=T.useState(null);T.useEffect(()=>{o.length>0&&!c.unit&&d(v=>({...v,unit:o[0].title}))},[o]);const g=()=>/^\d{2}\/\d{4}$/.test(c.requestNumber)&&c.desc.trim().length>0&&c.qty>0&&c.unit.length>0,b=v=>{d({...c,requestNumber:v}),v&&!/^\d{2}\/\d{4}$/.test(v)?h("   (: 03/1234)"):h(null)},y=async v=>{var x;if(v.preventDefault(),!!g()){l(!0);try{const _=await Wo("K"),w={tracking_code:_,request_number:c.requestNumber,requester_id:t.id,requester_name:t.fullName,request_date:c.requestDate,description:c.desc,qty:c.qty,unit:c.unit,location:c.location,priority:c.priority,status:"PENDING"},{error:k}=await Ae.from("purchase_requests").insert([w]);if(k)throw k;Vi("PURCHASE",w,t,_,`: ${c.desc.substring(0,20)}...`),alert(`     ${_}  .`),r("LIST"),d({requestNumber:"",requestDate:rt(),location:" ()",priority:"",desc:"",qty:1,unit:((x=o[0])==null?void 0:x.title)||""})}catch(_){console.error(_),alert("   : "+_.message)}finally{l(!1)}}};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:" ",icon:uf,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:v=>u.jsx("span",{className:"font-mono font-bold",children:v.trackingCode})},{header:" ",accessor:v=>u.jsx("span",{className:"font-mono",children:v.requestNumber||v.request_number})},{header:" ",accessor:v=>v.desc||v.description},{header:"",accessor:v=>`${v.qty} ${v.unit||""}`},{header:"",accessor:v=>v.requestDate||v.request_date},{header:"",accessor:v=>u.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded text-xs font-bold",children:v.status==="PENDING"?" ":" "})}]})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uf,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),u.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:y,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  (: 03/1234) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:c.requestNumber,onChange:v=>b(v.target.value),className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/1234",required:!0,maxLength:7}),f&&u.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[u.jsx(AC,{className:"w-3 h-3"}),u.jsx("span",{children:f})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx(Kn,{value:c.requestDate,onChange:v=>d({...c,requestDate:v})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("select",{className:"input-field",value:c.location,onChange:v=>d({...c,location:v.target.value}),children:[u.jsx("option",{children:" ( )"}),u.jsx("option",{children:" ()"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:""}),u.jsxs("select",{className:"input-field",value:c.priority,onChange:v=>d({...c,priority:v.target.value}),children:[u.jsx("option",{children:""}),u.jsx("option",{children:""}),u.jsx("option",{children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:c.desc,onChange:v=>d({...c,desc:v.target.value}),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),u.jsx(Ro,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:c.qty,onChange:v=>d({...c,qty:Number(v.target.value)}),className:"input-field text-center font-bold",required:!0,min:"0.01"})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:c.unit,onChange:v=>d({...c,unit:v.target.value}),className:"input-field",children:o.length>0?o.map(v=>u.jsx("option",{value:v.title,children:v.title},v.id)):u.jsx("option",{value:"",children:""})})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),u.jsx(Ro,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsxs("button",{type:"submit",disabled:!g()||s,className:`flex-[2] text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 transition
                        ${!g()||s?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                    `,children:[s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Tn,{className:"w-5 h-5"}),"    "]})]})]}),u.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; outline: none; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { border-color: #800020; box-shadow: 0 0 0 2px rgba(128, 0, 32, 0.1); }
      `})]})},Vle=({user:t,onUpdateUser:e,snowMode:r,setSnowMode:n})=>{const i=T.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const c=new FileReader;c.onloadend=()=>{const d=c.result;e({...t,avatar:d})},c.readAsDataURL(s)}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:" "}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?u.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),u.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:u.jsx(ef,{className:"w-4 h-4"})}),u.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),u.jsx("p",{className:"text-gray-500",children:t.role})]})]}),u.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:u.jsx(HD,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium block",children:"  "}),u.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:a=>n(a.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:""}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"   "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},Gle=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[o,a]=T.useState([]),[s,l]=T.useState(!1),[c,d]=T.useState(!1);T.useEffect(()=>{const R=Jh("PROJECT");i(R.map(J=>({...J,...J.data}))),Re("personnel").then(a)},[e]);const[f,h]=T.useState({title:"",manager:"",managerId:"",budget:"",startDate:rt(),endDate:"",description:""}),[g,b]=T.useState([]),[y,v]=T.useState(""),[x,_]=T.useState(null),[w,k]=T.useState([]),[S,E]=T.useState({title:"",weight:10}),N=T.useRef(null),[A,C]=T.useState([]),I=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R){alert("         .");return}if(c){d(!1);return}const J=new R;J.lang="fa-IR",J.continuous=!1,J.interimResults=!1,J.onstart=()=>d(!0),J.onend=()=>d(!1),J.onresult=ie=>{const de=ie.results[0][0].transcript;h(Pe=>({...Pe,description:Pe.description?`${Pe.description} ${de}`:de}))},J.start()},M=()=>{y.trim()&&(x?(b(g.map(R=>R.id===x?{...R,text:y}:R)),_(null)):b([...g,{id:Math.random().toString(),text:y}]),v(""))},L=R=>{v(R.text),_(R.id)},O=R=>{b(g.filter(J=>J.id!==R))},j=()=>{if(!S.title)return;if(S.weight<0){alert("      .");return}const R=w.reduce((J,ie)=>J+ie.weight,0);if(R+S.weight>100){alert(`      .  : ${100-R}`);return}k([...w,{id:Math.random().toString(),title:S.title,weight:S.weight,progress:0}]),E({title:"",weight:10})},P=R=>{k(w.filter(J=>J.id!==R))},$=()=>{const R=w.reduce((ie,de)=>ie+de.weight,0);if(R===0)return 0;const J=w.reduce((ie,de)=>ie+de.progress*de.weight,0);return Math.round(J/R)},B=R=>{if(R.target.files&&R.target.files.length>0){const J=Array.from(R.target.files),ie=J.filter(de=>de.size<=10*1024*1024);ie.length!==J.length&&alert("          ."),C(de=>[...de,...ie])}N.current&&(N.current.value="")},F=R=>{C(J=>J.filter((ie,de)=>de!==R))},G=R=>{const J=R.target.value,ie=o.find(de=>de.id===J);h(ie?{...f,managerId:ie.id,manager:ie.full_name}:{...f,managerId:"",manager:""})},H=()=>{const R=w.reduce((J,ie)=>J+ie.weight,0);return f.title&&f.managerId&&g.length>0&&(w.length===0||R===100)},X=async R=>{if(R.preventDefault(),!!H()){l(!0);try{const J=new Date,ie=Hh(J.getFullYear(),J.getMonth()+1,J.getDate()),de=`P${String(ie.jy).substring(2)}${String(ie.jm).padStart(2,"0")}`,Pe=await Wo(de),te={...f,budget:f.budget===""?0:Number(f.budget),objectives:g,milestones:w,fileNames:A.map(ve=>ve.name),progress:$()};Vi("PROJECT",te,t,Pe,`: ${f.title}`),alert(`    ${Pe}        .`),z()}catch(J){console.error(J),alert("   .    .")}finally{l(!1)}}},z=()=>{r("LIST"),h({title:"",manager:"",managerId:"",budget:"",startDate:rt(),endDate:"",description:""}),b([]),k([]),C([]),v(""),_(null)},ue=()=>{f.title||g.length>0?window.confirm("       ")&&z():z()};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:"   ",icon:Zd,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:R=>u.jsx("span",{className:"font-mono font-bold",children:R.trackingCode})},{header:" ",accessor:R=>u.jsx("span",{className:"font-bold",children:R.title})},{header:" ",accessor:R=>R.manager},{header:" ",accessor:R=>R.startDate},{header:" ()",accessor:R=>R.budget?Number(R.budget).toLocaleString():"---"},{header:"",accessor:R=>u.jsxs("div",{className:"w-24",children:[u.jsx("div",{className:"flex justify-between text-xs mb-1",children:u.jsxs("span",{children:[R.progress||0,"%"]})}),u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500",style:{width:`${R.progress||0}%`}})})]})},{header:"",accessor:R=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:R.status==="PENDING"?"  ":" "})}]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(Zd,{className:"w-8 h-8 text-primary"}),u.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),u.jsxs("form",{onSubmit:X,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:f.title,onChange:R=>h({...f,title:R.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:f.managerId,onChange:G,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:" ..."}),o.map(R=>u.jsxs("option",{value:R.id,children:[R.full_name," (",R.unit,")"]},R.id))]})]}),u.jsx("div",{children:u.jsx(Kn,{label:" ",value:f.startDate||"",onChange:R=>h({...f,startDate:R}),disableFuture:!1})}),u.jsx("div",{children:u.jsx(Kn,{label:"  ()",value:f.endDate||"",onChange:R=>h({...f,endDate:R}),disableFuture:!1})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),u.jsx("input",{type:"number",min:"0",value:f.budget,onChange:R=>h({...f,budget:R.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:f.description,onChange:R=>h({...f,description:R.target.value}),className:"w-full p-3 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary min-h-[100px]",placeholder:" ..."}),u.jsx("button",{type:"button",onClick:I,className:`absolute left-2 bottom-2 p-2 rounded-full transition ${c?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:c?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Ro,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-2 flex items-center gap-2",children:[u.jsx(tf,{className:"w-5 h-5"}),"     ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:y,onChange:R=>v(R.target.value),placeholder:"      ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),M())}),u.jsx("button",{type:"button",onClick:M,className:`bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700 transition ${y.trim()?"":"opacity-50 cursor-not-allowed"}`,children:x?u.jsx(Tn,{className:"w-5 h-5"}):u.jsx(Or,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[g.length===0&&u.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"   ."}),g.map((R,J)=>u.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",children:J+1}),u.jsx("span",{className:"text-sm",children:R.text})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>L(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:u.jsx(Gh,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>O(R.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})]})]},R.id))]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(YD,{className:"w-5 h-5"}),"   (WBS)"]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700 outline-none",value:S.title,onChange:R=>E({...S,title:R.target.value})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"number",min:"0",placeholder:" ",className:"w-full p-2 border rounded-lg dark:bg-gray-700 text-center outline-none",value:S.weight,onChange:R=>E({...S,weight:Number(R.target.value)})}),u.jsx("span",{className:"absolute left-2 top-2 text-xs text-gray-400",children:"%"})]}),u.jsx("button",{type:"button",onClick:j,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:u.jsx(Or,{className:"w-5 h-5"})})]}),w.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[u.jsx("span",{className:"col-span-8",children:" "}),u.jsx("span",{className:"col-span-2 text-center",children:" "}),u.jsx("span",{className:"col-span-2 text-center",children:""})]}),w.map(R=>u.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[u.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[u.jsx(tf,{className:"w-4 h-4 text-green-500"})," ",R.title]}),u.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1 text-sm font-bold",children:[R.weight,"%"]}),u.jsx("div",{className:"col-span-2 flex justify-center",children:u.jsx("button",{type:"button",onClick:()=>P(R.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Cr,{className:"w-4 h-4"})})})]},R.id)),u.jsxs("div",{className:"mt-2 text-left text-sm font-bold flex justify-end gap-2 items-center",children:[u.jsx("span",{children:" :"}),u.jsxs("span",{className:`px-2 py-1 rounded ${w.reduce((R,J)=>R+J.weight,0)===100?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[w.reduce((R,J)=>R+J.weight,0),"%"]})]})]}):u.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:N,multiple:!0,className:"hidden",onChange:B}),u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("label",{className:"font-bold text-sm flex items-center gap-2",children:[u.jsx(Yn,{className:"w-4 h-4"}),"  "]}),u.jsxs("button",{type:"button",onClick:()=>{var R;return(R=N.current)==null?void 0:R.click()},className:"text-blue-600 text-xs flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition border border-blue-200",children:[u.jsx(pu,{className:"w-3 h-3"}),"  "]})]}),A.length===0&&u.jsx("p",{className:"text-xs text-gray-400 italic",children:"     ()"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:A.map((R,J)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[u.jsx(nf,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),u.jsx("span",{className:"text-xs truncate",children:R.name}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",(R.size/1024/1024).toFixed(2)," MB)"]})]}),u.jsx("button",{type:"button",onClick:()=>F(J),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(It,{className:"w-3 h-3"})})]},J))})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[u.jsxs("button",{type:"button",onClick:ue,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2 transition",children:[u.jsx(It,{className:"w-5 h-5"})," "]}),u.jsxs("button",{type:"submit",disabled:!H()||s,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition font-bold
                    ${H()&&!s?"bg-primary hover:bg-red-800":"bg-gray-400 cursor-not-allowed opacity-70"}
                `,children:[s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(Tn,{className:"w-5 h-5"}),"     "]})]})]})]})},Hle=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState(!1),[o,a]=T.useState([]),[s,l]=T.useState(!1),[c,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState([]);T.useEffect(()=>{y(),Re("evaluation_periods").then(d),Re("evaluation_criteria").then(h),Re("personnel").then(b)},[e]);const y=async()=>{l(!0);try{const{data:N,error:A}=await Ae.from("performance_evaluations").select("*").order("created_at",{ascending:!1});!A&&N&&a(N.map(C=>({...C,personnelName:C.personnel_name,totalScore:C.total_score,criteria:C.criteria_data})))}catch(N){console.error("Fetch Error:",N)}finally{l(!1)}},[v,x]=T.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});T.useEffect(()=>{c.length>0&&!v.period&&x(N=>({...N,period:c[0].title}))},[c]);const _=v.criteria.reduce((N,A)=>N+A.score,0),w=v.criteria.reduce((N,A)=>N+A.max,0),k=async N=>{var A;if(N.preventDefault(),!v.personnelId){alert("      .");return}if(v.criteria.length===0){alert("          .");return}l(!0);try{const C=await Wo("G"),I={tracking_code:C,personnel_id:v.personnelId,personnel_name:v.personnelName,unit:v.unit,period:v.period,total_score:_,criteria_data:v.criteria,evaluator_id:t.id,description:`  ${t.fullName}`,status:"PENDING"},{error:M}=await Ae.from("performance_evaluations").insert([I]);if(M)throw M;Vi("PERFORMANCE",{...v,totalScore:_},t,C,` : ${v.personnelName} - ${v.period}`),alert(`     .
 : ${C}`),r("LIST"),x({personnelId:"",personnelName:"",unit:"",org_unit_id:"",period:((A=c[0])==null?void 0:A.title)||"",criteria:[]})}catch(C){console.error("Save Error:",C),alert("   : "+C.message)}finally{l(!1)}},S=(N,A)=>{const C=v.criteria[N].max;if(A>C){alert(`       (${C})  .`);return}const I=[...v.criteria];I[N].score=Math.max(0,A),x({...v,criteria:I})},E=N=>{const A=f.filter(I=>I.org_unit_id===N.org_unit_id),C=A.map(I=>({label:I.title,score:0,max:I.max_score}));x({...v,personnelId:N.id,personnelName:N.full_name,unit:N.unit,org_unit_id:N.org_unit_id,criteria:C}),i(!1),A.length===0&&alert(":        ()   .      .")};return e==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[s&&u.jsx("div",{className:"text-center py-4",children:u.jsx(Pt,{className:"w-6 h-6 animate-spin mx-auto text-primary"})}),u.jsx(mi,{title:"  ",icon:ex,data:o,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:N=>u.jsx("span",{className:"font-mono font-bold",children:N.tracking_code||N.trackingCode})},{header:" ",accessor:N=>u.jsx("span",{className:"font-bold",children:N.personnelName})},{header:"",accessor:N=>N.unit},{header:" ",accessor:N=>N.period},{header:" ",accessor:N=>{const A=N.criteria?N.criteria.reduce((C,I)=>C+I.max,0):100;return u.jsxs("span",{className:`font-bold ${N.totalScore>=A*.8?"text-green-600":"text-orange-500"}`,children:[N.totalScore," / ",A]})}},{header:" ",accessor:N=>new Date(N.created_at).toLocaleDateString("fa-IR")}]})]}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),u.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),v.personnelName?u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:v.personnelName}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",v.unit]})]}),u.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):u.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(Rs,{className:"w-5 h-5"}),"   "]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:v.period,onChange:N=>x({...v,period:N.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:c.length>0?c.map(N=>u.jsx("option",{value:N.title,children:N.title},N.id)):u.jsx("option",{children:"   "})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[u.jsxs("h3",{className:"font-bold",children:["  ",v.unit?`( ${v.unit})`:""]}),v.unit&&u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[u.jsx(nf,{className:"w-3 h-3"}),"   "]})]}),v.personnelId?v.criteria.length>0?v.criteria.map((N,A)=>u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition animate-fadeIn",children:[u.jsxs("div",{className:"mb-2 md:mb-0",children:[u.jsxs("span",{className:"font-medium block",children:[A+1,". ",N.label]}),u.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",N.max]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"0",max:N.max,value:N.score,onChange:C=>S(A,Number(C.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),u.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",N.max]})]})]},A)):u.jsx("div",{className:"text-center p-6 bg-yellow-50 text-yellow-700 rounded-xl border border-yellow-200",children:u.jsxs("p",{children:['      "',v.unit,'"   .']})}):u.jsx("p",{className:"text-center text-gray-400 py-4 border-2 border-dashed rounded-xl",children:"          ."})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[u.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-4xl font-black text-primary",children:_}),u.jsxs("span",{className:"text-gray-500",children:["/ ",w||100]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsx("button",{type:"submit",disabled:v.criteria.length===0||s,className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):"   "})]})]})]}),n&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold text-lg",children:" "}),u.jsx("button",{onClick:()=>i(!1),children:u.jsx(It,{className:"w-5 h-5 text-gray-500"})})]}),u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(Mo,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"   "}),u.jsx("th",{className:"p-3",children:" "}),u.jsx("th",{className:"p-3",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:g.length>0?g.map(N=>u.jsxs("tr",{onClick:()=>E(N),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[u.jsx("td",{className:"p-3 font-bold",children:N.full_name}),u.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:N.unit}),u.jsx("td",{className:"p-3",children:u.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:u.jsx(hu,{className:"w-4 h-4"})})})]},N.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},zle=({user:t})=>{var b;const[e,r]=T.useState("WORK_ORDER"),[n,i]=T.useState([]),[o,a]=T.useState(null);T.useEffect(()=>{const y=b_(t);i(y)},[t,e]);const s=(y,v)=>{o&&(W4(o.id,y,t),a(null),i(b_(t)))},l=y=>{const x=c(o).find(_=>_.style==="primary"||_.style==="success");x&&o?(o.data=y,s(x.id)):alert("      .")},c=y=>{const x=wu().find(w=>w.id===y.workflowId);if(!x)return[];const _=x.steps.find(w=>w.id===y.currentStepId);return _?_.actions:[]},d=y=>{const x=wu().find(w=>w.id===y.workflowId),_=x==null?void 0:x.steps.find(w=>w.id===y.currentStepId);return(_==null?void 0:_.title)||""},f=y=>n.filter(v=>v.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:nf},{id:"PROJECT",label:"",icon:Zd},{id:"PERFORMANCE",label:" ",icon:ex},{id:"PART_REQUEST",label:" ",icon:Dl},{id:"INSPECTION",label:" ",icon:PC},{id:"DOCUMENT",label:" ",icon:$l},{id:"MEETING",label:"",icon:rf},{id:"SUGGESTION",label:"",icon:af},{id:"PURCHASE",label:" ",icon:uf}],g=({item:y})=>{const v=c(y),[x,_]=T.useState("");return y.module==="WORK_ORDER"?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[u.jsx(nf,{className:"w-5 h-5 text-primary"}),y.title]}),u.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(Ww,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx(yb,{initialData:y.data,onProcessComplete:l})})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),u.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),u.jsx("h2",{className:"text-xl font-bold",children:y.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(Ww,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([w,k])=>typeof k=="object"||Array.isArray(k)||w==="id"?null:u.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[u.jsxs("span",{className:"text-gray-500",children:[w,":"]}),u.jsx("span",{className:"font-medium",children:String(k)})]},w))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),u.jsx("textarea",{value:x,onChange:w=>_(w.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),u.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:v.map(w=>{const k=w.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":w.style==="success"?"bg-green-600 hover:bg-green-700 text-white":w.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return u.jsx("button",{onClick:()=>s(w.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${k}`,children:w.label},w.id)})})]})};return o?u.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:u.jsx(g,{item:o})}):u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[u.jsx(of,{className:"w-5 h-5"}),"  "]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>u.jsxs("button",{onClick:()=>{r(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(y.icon,{className:"w-4 h-4"}),u.jsx("span",{children:y.label})]}),f(y.id)>0&&u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),u.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("h3",{className:"font-bold",children:[" : ",(b=h.find(y=>y.id===e))==null?void 0:b.label]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.filter(y=>y.module===e).length===0?u.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[u.jsx(Os,{className:"w-12 h-12 mb-3 opacity-20"}),u.jsx("p",{children:"     ."})]}):n.filter(y=>y.module===e).map(y=>u.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[u.jsx(fc,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},Wle=({user:t})=>{const[e,r]=T.useState("INBOX"),[n,i]=T.useState([]),[o,a]=T.useState([]),[s,l]=T.useState(null),[c,d]=T.useState(!1),[f,h]=T.useState([]),[g,b]=T.useState([]),[y,v]=T.useState(!1),x=T.useRef(null),[_,w]=T.useState("USER"),[k,S]=T.useState(""),[E,N]=T.useState(""),[A,C]=T.useState(""),[I,M]=T.useState(!1),[L,O]=T.useState([]),[j,P]=T.useState(""),$=T.useRef(null),[B,F]=T.useState(""),[G,H]=T.useState("newest"),[X,z]=T.useState(1),[ue,R]=T.useState(10);T.useEffect(()=>{J()},[t,e]),T.useEffect(()=>{z(1),F("")},[e]),T.useEffect(()=>{(async()=>{try{const me=await Re("app_users"),q=await Re("personnel"),U=me.map(Z=>{const V=q.find(se=>se.id===Z.personnel_id);return{id:Z.id,name:V?V.full_name:Z.username}});h(U)}catch(me){console.error("Error loading users for messages:",me)}})()},[]),T.useEffect(()=>{const ee=me=>{x.current&&!x.current.contains(me.target)&&v(!1)};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[]);const J=async()=>{d(!0);try{const{inbox:ee,sent:me}=await sP(t.id,t.role);i(ee),a(me)}catch(ee){console.error("Failed to load messages",ee)}finally{d(!1)}},ie=async ee=>{l(ee),e==="INBOX"&&!ee.readBy.includes(t.id)&&(i(me=>me.map(q=>q.id===ee.id?{...q,readBy:[...q.readBy,t.id]}:q)),await V4(ee,t.id))},de=ee=>{b(me=>me.includes(ee)?me.filter(q=>q!==ee):[...me,ee])},Pe=ee=>new Promise((me,q)=>{const U=new FileReader;U.readAsDataURL(ee),U.onload=()=>{me(U.result)},U.onerror=Z=>{q(Z)}}),te=ee=>{if(ee.target.files&&ee.target.files.length>0){const me=Array.from(ee.target.files),q=5*1024*1024,U=me.filter(Z=>Z.size>q?(alert(` ${Z.name}        .`),!1):!0);O(Z=>[...Z,...U])}$.current&&($.current.value="")},ve=ee=>{O(me=>me.filter((q,U)=>U!==ee))},Y=async ee=>{ee.preventDefault();let me="";if(_==="USER"){if(g.length===0){alert("      ");return}me=g}else if(_==="ALL")me="ALL";else{if(!k){alert("    ");return}me=k}M(!0),P("");try{const q=[];for(const U of L){const Z=await Pe(U);q.push({name:U.name,size:U.size,type:U.type,data:Z})}await q4(t,me,_,E,A,q),P("    "),N(""),C(""),S(""),b([]),O([]),J(),setTimeout(()=>{P(""),r("SENT")},3e3)}catch(q){alert("   : "+(q.message||" ")),console.error(q)}finally{M(!1)}},W=ee=>ee.readBy&&ee.readBy.length>0?u.jsx("span",{title:" ",className:"flex text-blue-500",children:u.jsx(Kw,{className:"w-4 h-4"})}):u.jsx("span",{title:" ",className:"flex text-gray-400",children:u.jsx(hu,{className:"w-4 h-4"})}),ke=ee=>{if(ee.receiverType==="ALL")return" ";if(ee.receiverType==="GROUP")return` ${ee.receiverId}`;const me=f.find(q=>q.id===ee.receiverId);return me?me.name:""},K=(()=>{let ee=e==="INBOX"?n:o;if(B){const me=B.toLowerCase();ee=ee.filter(q=>q.subject.toLowerCase().includes(me)||q.body.toLowerCase().includes(me)||q.senderName.toLowerCase().includes(me)||e==="SENT"&&ke(q).toLowerCase().includes(me))}return ee.sort((me,q)=>G==="newest"?q.createdAt.localeCompare(me.createdAt):me.createdAt.localeCompare(q.createdAt)),ee})(),ae=K.length,fe=Math.ceil(ae/ue),Ne=(X-1)*ue,Me=K.slice(Ne,Ne+ue);return u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("button",{onClick:()=>{r("COMPOSE"),l(null),P("")},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[u.jsx(sf,{className:"w-4 h-4"}),"   "]})}),u.jsxs("div",{className:"p-2 space-y-1",children:[u.jsxs("button",{onClick:()=>{r("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(of,{className:"w-4 h-4"}),"  "]}),n.filter(ee=>!ee.readBy.includes(t.id)).length>0&&u.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:n.filter(ee=>!ee.readBy.includes(t.id)).length})]}),u.jsx("button",{onClick:()=>{r("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pu,{className:"w-4 h-4"}),"  "]})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&u.jsxs("div",{className:"p-6 overflow-y-auto",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(MC,{className:"w-6 h-6 text-primary"}),"   "]}),j&&u.jsxs("div",{className:"mb-4 bg-green-100 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-center gap-2 animate-fadeIn",children:[u.jsx(Os,{className:"w-5 h-5"}),j]}),u.jsxs("form",{onSubmit:Y,className:"space-y-4 max-w-2xl",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>w("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(es,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>w("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(Rs,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>w("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(PD,{className:"w-4 h-4"})," "]})]})]}),_==="USER"&&u.jsxs("div",{className:"relative",ref:x,children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none cursor-pointer flex items-center justify-between",onClick:()=>v(!y),children:[u.jsx("span",{className:"text-sm truncate",children:g.length>0?`${g.length}   `:" ..."}),u.jsx(Bh,{className:"w-4 h-4 text-gray-500"})]}),y&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto p-1",children:f.map(ee=>u.jsxs("div",{onClick:()=>de(ee.id),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.includes(ee.id),readOnly:!0,className:"w-4 h-4 rounded text-primary focus:ring-primary pointer-events-none"}),u.jsx("span",{className:"text-sm",children:ee.name})]},ee.id))}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.map(ee=>{const me=f.find(q=>q.id===ee);return me?u.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[me.name,u.jsx("button",{type:"button",onClick:()=>de(ee),className:"hover:text-red-600",children:u.jsx(It,{className:"w-3 h-3"})})]},ee):null})})]}),_==="GROUP"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),u.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:k,onChange:ee=>S(ee.target.value),required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:fr.ADMIN,children:" "}),u.jsx("option",{value:fr.MANAGER,children:" "}),u.jsx("option",{value:fr.USER,children:" "}),u.jsx("option",{value:fr.STOREKEEPER,children:""})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:E,onChange:ee=>N(ee.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:A,onChange:ee=>C(ee.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>{var ee;return(ee=$.current)==null?void 0:ee.click()},className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Yn,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:"   :  "}),u.jsx("input",{type:"file",ref:$,multiple:!0,className:"hidden",onChange:te})]}),L.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:L.map((ee,me)=>u.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full text-xs border border-gray-200 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[150px]",children:ee.name}),u.jsxs("span",{className:"text-gray-400",children:["(",(ee.size/1024/1024).toFixed(2)," MB)"]}),u.jsx("button",{type:"button",onClick:()=>ve(me),className:"text-red-500 hover:bg-red-100 rounded-full p-0.5",children:u.jsx(It,{className:"w-3 h-3"})})]},me))})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("button",{disabled:I,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 disabled:opacity-50",children:[I?u.jsx(Pt,{className:"w-5 h-5 animate-spin"}):u.jsx(sf,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&u.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[u.jsxs("div",{className:`${s?"hidden md:flex md:w-1/3 border-l dark:border-gray-700":"w-full flex"} flex-col h-full bg-white dark:bg-gray-800`,children:[u.jsxs("div",{className:"p-3 border-b dark:border-gray-700 space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Mo,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"...",value:B,onChange:ee=>{F(ee.target.value),z(1)},className:"w-full pr-9 pl-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-1 focus:ring-primary"})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("button",{onClick:()=>H(ee=>ee==="newest"?"oldest":"newest"),className:"flex items-center gap-1 text-gray-500 hover:text-primary transition",children:[u.jsx(yD,{className:"w-3 h-3"}),G==="newest"?"":""]}),u.jsxs("span",{className:"text-gray-400",children:[ae," "]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&u.jsxs("div",{className:"p-10 text-center text-gray-400",children:[u.jsx(Pt,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),u.jsx("span",{children:"  ..."})]}),!c&&Me.length===0&&u.jsxs("div",{className:"text-center p-10 text-gray-400",children:[u.jsx(of,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),u.jsx("p",{children:"  "})]}),Me.map(ee=>{const me=e==="INBOX"&&!ee.readBy.includes(t.id);return u.jsxs("div",{onClick:()=>ie(ee),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition relative
                                            ${(s==null?void 0:s.id)===ee.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                            ${me?"bg-white":"bg-gray-50/30 dark:bg-gray-800/50"}
                                        `,children:[me&&u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500"}),u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("span",{className:`text-sm ${me?"font-black text-black dark:text-white":"font-medium text-gray-600 dark:text-gray-400"}`,children:e==="INBOX"?ee.senderName:ke(ee)}),u.jsx("span",{className:"text-[10px] text-gray-400",dir:"ltr",children:ee.createdAt})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:`text-sm truncate pr-2 ${me?"font-black text-gray-900 dark:text-white":"font-normal text-gray-600 dark:text-gray-400"}`,children:ee.subject}),e==="SENT"&&W(ee)]}),u.jsx("p",{className:`text-xs mt-1 truncate ${me?"text-gray-800 dark:text-gray-300":"text-gray-400"}`,children:ee.body}),ee.attachments&&ee.attachments.length>0&&u.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[u.jsx(Yn,{className:"w-3 h-3"}),u.jsxs("span",{children:[ee.attachments.length," "]})]})]},ee.id)})]}),ae>0&&u.jsxs("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:ue,onChange:ee=>{R(Number(ee.target.value)),z(1)},className:"bg-white dark:bg-gray-800 border dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{className:"text-gray-500",children:""})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:X===1,onClick:()=>z(ee=>ee-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(dc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-mono",children:[X," / ",fe||1]}),u.jsx("button",{disabled:X>=fe,onClick:()=>z(ee=>ee+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(qh,{className:"w-4 h-4"})})]})]})]}),s?u.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[u.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:s.subject}),u.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:e==="INBOX"?s.senderName[0]:u.jsx(es,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{children:u.jsx("span",{className:"font-bold",children:e==="INBOX"?s.senderName:""})}),u.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&u.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",ke(s),s.readBy.length>0&&u.jsxs("span",{className:"mr-2 text-blue-600 flex items-center gap-1 inline-flex",children:[u.jsx(Kw,{className:"w-3 h-3"}),"  "]})]})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body}),s.attachments&&s.attachments.length>0&&u.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[u.jsx(Yn,{className:"w-4 h-4"}),"   "]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.attachments.map((ee,me)=>u.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition",children:[u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg text-gray-500",children:u.jsx(AD,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 px-3 overflow-hidden",children:[u.jsx("p",{className:"text-sm font-medium truncate",title:ee.name,children:ee.name}),u.jsxs("p",{className:"text-xs text-gray-400",children:[(ee.size/1024).toFixed(1)," KB"]})]}),u.jsx("a",{href:ee.data,download:ee.name,className:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-full transition",title:"",children:u.jsx(tx,{className:"w-4 h-4"})})]},me))})]})]})]}):u.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},Kle=({user:t})=>{var L;const[e,r]=T.useState([]),[n,i]=T.useState(!1),[o,a]=T.useState(!1),[s,l]=T.useState(""),[c,d]=T.useState("ALL"),[f,h]=T.useState({}),[g,b]=T.useState(""),[y,v]=T.useState([]),x=T.useRef(null);T.useEffect(()=>{_()},[]);const _=async()=>{i(!0);try{const{data:O,error:j}=await Ae.from("personal_notes").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(j)throw j;const P=(O||[]).map($=>({id:$.id,userId:$.user_id,title:$.title,content:$.content,tags:$.tags||[],reminderDate:$.reminder_date,reminderTime:$.reminder_time,isCompleted:$.is_completed,attachments:$.attachments||[],createdAt:$.created_at,reminderSeen:!1}));r(P)}catch(O){console.error(O)}finally{i(!1)}},w=()=>{h({title:"",content:"",tags:[],isCompleted:!1,reminderDate:rt()}),v([]),a(!0)},k=O=>{h(O),v([]),a(!0)},S=async O=>{if(O.preventDefault(),!!f.title){i(!0);try{const j=[];for(const B of y){const F=new FileReader,G=await new Promise(H=>{F.onload=()=>H(F.result),F.readAsDataURL(B)});j.push({name:B.name,size:B.size,type:B.type,data:G})}const P=[...f.attachments||[],...j],$={user_id:t.id,title:f.title,content:f.content,tags:f.tags,reminder_date:f.reminderDate,reminder_time:f.reminderTime,is_completed:f.isCompleted,attachments:P};f.id?await Ae.from("personal_notes").update($).eq("id",f.id):await Ae.from("personal_notes").insert([$]),a(!1),_()}catch{alert("   ")}finally{i(!1)}}},E=async O=>{if(confirm("      ")){r(j=>j.filter(P=>P.id!==O));try{await Ae.from("personal_notes").delete().eq("id",O)}catch{alert("   "),_()}}},N=async O=>{const j=!O.isCompleted;r(P=>P.map($=>$.id===O.id?{...$,isCompleted:j}:$));try{await Ae.from("personal_notes").update({is_completed:j}).eq("id",O.id)}catch(P){console.error(P)}},A=O=>{var j;O.key==="Enter"&&g.trim()&&(O.preventDefault(),(j=f.tags)!=null&&j.includes(g.trim())||h(P=>({...P,tags:[...P.tags||[],g.trim()]})),b(""))},C=O=>{h(j=>{var P;return{...j,tags:(P=j.tags)==null?void 0:P.filter($=>$!==O)}})},I=O=>{O.target.files&&v(j=>[...j,...Array.from(O.target.files)])},M=e.filter(O=>{const j=O.title.includes(s)||O.content.includes(s)||O.tags.some(P=>P.includes(s));return c==="TODO"?j&&!O.isCompleted:c==="DONE"?j&&O.isCompleted:j});return u.jsxs("div",{className:"max-w-7xl mx-auto pb-20 p-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(DC,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-2xl font-bold",children:" "})]}),u.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95",children:[u.jsx(Or,{className:"w-5 h-5"}),"  "]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6 flex flex-col md:flex-row gap-4 justify-between",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Mo,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:s,onChange:O=>l(O.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-2 focus:ring-primary"})]}),u.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:["ALL","TODO","DONE"].map(O=>u.jsx("button",{onClick:()=>d(O),className:`px-4 py-1.5 rounded-md text-sm font-medium transition ${c===O?"bg-white dark:bg-gray-600 shadow text-primary":"text-gray-500 dark:text-gray-300"}`,children:O==="ALL"?"":O==="TODO"?" ":" "},O))})]}),n?u.jsx("div",{className:"text-center py-20",children:u.jsx(Pt,{className:"w-10 h-10 animate-spin mx-auto text-primary"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((O,j)=>{var P;return u.jsxs("div",{className:`
                        relative group rounded-2xl p-5 border shadow-sm transition hover:shadow-md flex flex-col
                        ${O.isCompleted?"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-70 grayscale-[0.5]":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}
                    `,children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsx("h3",{className:`font-bold text-lg line-clamp-1 ${O.isCompleted?"line-through text-gray-500":""}`,children:O.title}),u.jsxs("div",{className:"flex gap-1 pl-1",children:[u.jsx("button",{onClick:$=>{$.stopPropagation(),k(O)},className:"p-1.5 text-gray-400 hover:text-blue-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"",children:u.jsx(FD,{className:"w-4 h-4"})}),u.jsx("button",{onClick:$=>{$.stopPropagation(),E(O.id)},className:"p-1.5 text-gray-400 hover:text-red-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"",children:u.jsx(Cr,{className:"w-4 h-4"})})]})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3 mb-4 flex-1 whitespace-pre-line leading-relaxed",children:O.content}),u.jsxs("div",{className:"space-y-3 mt-auto",children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:(P=O.tags)==null?void 0:P.map($=>u.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-full text-gray-600 dark:text-gray-400",children:["#",$]},$))}),u.jsxs("div",{className:"flex items-center justify-between pt-3 border-t dark:border-gray-700",children:[O.reminderDate?u.jsxs("div",{className:`flex items-center gap-1 text-xs ${O.isCompleted?"text-gray-400":"text-red-500 bg-red-50 dark:bg-red-900/10 px-2 py-1 rounded"}`,children:[u.jsx(fc,{className:"w-3 h-3"}),u.jsxs("span",{children:[O.reminderDate," ",O.reminderTime?`- ${O.reminderTime}`:""]})]}):u.jsx("span",{}),u.jsx("button",{onClick:()=>N(O),className:`p-2 rounded-full transition ${O.isCompleted?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-400 hover:text-green-500"}`,title:O.isCompleted?"  ":" ",children:u.jsx(Os,{className:"w-5 h-5"})})]})]}),O.attachments&&O.attachments.length>0&&u.jsx("div",{className:"absolute top-2 left-2 text-gray-400 transform -rotate-45 pointer-events-none",children:u.jsx(Yn,{className:"w-4 h-4"})})]},O.id)})}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:u.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[u.jsx("h3",{className:"font-bold text-lg",children:f.id?" ":" "}),u.jsx("button",{type:"button",onClick:()=>a(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(It,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),u.jsx("input",{value:f.title,onChange:O=>h({...f,title:O.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:":   ...",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsx("textarea",{value:f.content,onChange:O=>h({...f,content:O.target.value}),className:"w-full p-3 h-32 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"   ..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[u.jsx("div",{children:u.jsx(Kn,{label:" ",value:f.reminderDate||"",onChange:O=>h({...f,reminderDate:O}),disableFuture:!1})}),u.jsx("div",{children:u.jsx(kl,{label:" ",value:f.reminderTime||"",onChange:O=>h({...f,reminderTime:O})})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[u.jsx(JD,{className:"w-4 h-4"})," "]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 p-2 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[46px]",children:[(L=f.tags)==null?void 0:L.map(O=>u.jsxs("span",{className:"bg-white dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1 shadow-sm",children:[O,u.jsx("button",{type:"button",onClick:()=>C(O),className:"hover:text-red-500",children:u.jsx(It,{className:"w-3 h-3"})})]},O)),u.jsx("input",{value:g,onChange:O=>b(O.target.value),onKeyDown:A,className:"bg-transparent outline-none flex-1 text-sm min-w-[100px]",placeholder:"  Enter ..."})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[u.jsx(Yn,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{var O;return(O=x.current)==null?void 0:O.click()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:" "}),u.jsxs("span",{className:"text-xs text-gray-400",children:[y.length,"  "]})]}),u.jsx("input",{type:"file",ref:x,onChange:I,multiple:!0,className:"hidden"}),f.attachments&&f.attachments.length>0&&u.jsx("div",{className:"mt-2 space-y-1",children:f.attachments.map((O,j)=>u.jsxs("div",{className:"text-xs flex items-center gap-2 text-gray-500",children:[u.jsx(Yn,{className:"w-3 h-3"})," ",O.name]},j))})]})]}),u.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-6 py-2 border rounded-xl hover:bg-gray-200 transition",children:""}),u.jsxs("button",{type:"submit",className:"px-6 py-2 bg-primary text-white rounded-xl shadow hover:bg-red-800 transition flex items-center gap-2",children:[n?u.jsx(Pt,{className:"w-4 h-4 animate-spin"}):u.jsx(Tn,{className:"w-4 h-4"})," "]})]})]})})]})},Jle=()=>{const[t,e]=T.useState([]),[r,n]=T.useState(null);T.useEffect(()=>{e(wu())},[]);const i=()=>{const l={id:Ll(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};n(l)},o=()=>{r&&(z4(r),e(wu()),alert("    ."))},a=()=>{if(!r)return;const l={id:Ll(),title:" ",assigneeRole:fr.ADMIN,actions:[]};n({...r,steps:[...r.steps,l]})},s=l=>{if(!r)return;const c={id:Ll(),label:"  ",nextStepId:"FINISH",style:"primary"};n({...r,steps:r.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,c]})})};return r?u.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>n(null),className:"text-gray-500 hover:text-gray-800",children:""}),u.jsx("div",{className:"h-8 w-px bg-gray-300"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsx("input",{value:r.title,onChange:l=>n({...r,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsxs("select",{value:r.module,onChange:l=>n({...r,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[u.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),u.jsx("option",{value:"PROJECT",children:" (Project)"}),u.jsx("option",{value:"PART_REQUEST",children:" "}),u.jsx("option",{value:"PURCHASE",children:" "}),u.jsx("option",{value:"PERFORMANCE",children:" "}),u.jsx("option",{value:"MEETING",children:""}),u.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[u.jsx("input",{type:"checkbox",checked:r.isActive,onChange:l=>n({...r,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),u.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[u.jsx(Tn,{className:"w-4 h-4"}),"  "]})]})]}),u.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:u.jsxs("div",{className:"flex gap-8 min-w-max",children:[u.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[u.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:u.jsx(BD,{className:"w-6 h-6 ml-1"})}),u.jsx("span",{className:"text-xs font-bold",children:""})]}),u.jsx(kd,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),r.steps.map((l,c)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("input",{value:l.title,onChange:d=>{const f=[...r.steps];f[c].title=d.target.value,n({...r,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),u.jsxs("div",{className:"mt-2",children:[u.jsx("label",{className:"text-xs text-gray-500",children:" :"}),u.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...r.steps];f[c].assigneeRole=d.target.value,n({...r,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(fr).map(d=>u.jsx("option",{value:d,children:d},d)),u.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),u.jsx("button",{onClick:()=>{const d=r.steps.filter(f=>f.id!==l.id);n({...r,steps:d})},className:"text-red-400 hover:text-red-600",children:u.jsx(Cr,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:d.label,onChange:h=>{const g=[...r.steps];g[c].actions[f].label=h.target.value,n({...r,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),u.jsxs("select",{value:d.style,onChange:h=>{const g=[...r.steps];g[c].actions[f].style=h.target.value,n({...r,steps:g})},className:"text-xs bg-gray-100 rounded",children:[u.jsx("option",{value:"primary",children:""}),u.jsx("option",{value:"success",children:""}),u.jsx("option",{value:"danger",children:""}),u.jsx("option",{value:"neutral",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(kd,{className:"w-3 h-3"}),u.jsx("span",{children:" :"}),u.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...r.steps];g[c].actions[f].nextStepId=h.target.value,n({...r,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[u.jsx("option",{value:"FINISH",children:" "}),r.steps.map(h=>u.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),u.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),u.jsx(kd,{className:"w-8 h-8 text-gray-300"})]},l.id)),u.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[u.jsx(Or,{className:"w-8 h-8 mb-2"}),u.jsx("span",{children:" "})]})]})})]}):u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(OC,{className:"text-primary"}),"   "]}),u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(Or,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:u.jsx(lf,{className:"w-6 h-6"})}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),u.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),u.jsx("button",{onClick:()=>n(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Yle=()=>{const[t,e]=T.useState("LOGINS"),[r,n]=T.useState([]),[i,o]=T.useState([]),[a,s]=T.useState([]),[l,c]=T.useState(!1),[d,f]=T.useState(""),[h,g]=T.useState(!0),b={LOGINS:[{id:"user_name",label:" ",visible:!0},{id:"personnel_code",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"created_at",label:"  ",visible:!0},{id:"ip_address",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"tracking_code",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"created_at",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equip_name",label:"",visible:!0},{id:"failure_desc",label:" ",visible:!1}],PARTS:[{id:"tracking_code",label:" ",visible:!0},{id:"requester_name",label:" ",visible:!0},{id:"request_date",label:" ",visible:!0},{id:"description",label:"/",visible:!0},{id:"work_order_code",label:" ",visible:!0},{id:"status",label:"",visible:!0}]};T.useEffect(()=>{y(),s(b[t])},[t]),T.useEffect(()=>{if(d){const w=d.toLowerCase();o(r.filter(k=>Object.values(k).some(S=>String(S).toLowerCase().includes(w))))}else o(r)},[d,r]);const y=async()=>{c(!0);let w=[];try{switch(t){case"LOGINS":const{data:k}=await Ae.from("system_logs").select("user_name, personnel_code, action, created_at, ip_address, details").order("created_at",{ascending:!1});w=(k||[]).map(N=>({...N,created_at:new Date(N.created_at).toLocaleString("fa-IR")}));break;case"WORK_ORDERS":const{data:S}=await Ae.from("cartable_items").select("tracking_code, title, created_at, status, data").eq("module","WORK_ORDER").order("created_at",{ascending:!1});w=(S||[]).map(N=>{const A=N.data||{};return{tracking_code:N.tracking_code,title:N.title,requester:A.requester||"-",created_at:new Date(N.created_at).toLocaleDateString("fa-IR"),status:N.status==="DONE"?" ":"  ",equip_name:A.equipName||A.equipLocalName||"-",failure_desc:A.failureDesc||"-"}});break;case"PARTS":const{data:E}=await Ae.from("part_requests").select("tracking_code, requester_name, request_date, description, work_order_code, status").order("created_at",{ascending:!1});w=(E||[]).map(N=>({...N,status:N.status==="PENDING"?"  ":" "}));break}}catch(k){console.error("Error fetching report data:",k)}finally{c(!1)}n(w),o(w)},v=w=>{s(k=>k.map(S=>S.id===w?{...S,visible:!S.visible}:S))},x=()=>{if(i.length===0)return alert("    ");const w=a.filter(A=>A.visible),k=w.map(A=>A.label),S=i.map(A=>w.map(C=>A[C.id]||"-")),E="data:text/csv;charset=utf-8,\uFEFF"+k.join(",")+`
`+S.map(A=>A.join(",")).join(`
`),N=document.createElement("a");N.setAttribute("href",encodeURI(E)),N.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(N),N.click(),document.body.removeChild(N)},_=()=>{if(i.length===0)return[];let w="";t==="LOGINS"?w="created_at":(t==="WORK_ORDERS"||t==="PARTS")&&(w="status");const k={};return i.forEach(S=>{let E=S[w]||"";(w==="created_at"||w==="request_date")&&(E=String(E).split(" ")[0]),k[E]=(k[E]||0)+1}),Object.keys(k).map(S=>({name:S,count:k[S]})).slice(0,10)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx($C,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        "})]})]}),u.jsxs("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[u.jsx(jC,{className:"w-5 h-5"}),"  "]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[u.jsx(lf,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[u.jsx("option",{value:"LOGINS",children:"   "}),u.jsx("option",{value:"WORK_ORDERS",children:" "}),u.jsx("option",{value:"PARTS",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>g(!h),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",h?u.jsx(CC,{className:"w-3 h-3"}):u.jsx(Bh,{className:"w-3 h-3"})]}),h&&u.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(w=>u.jsxs("div",{onClick:()=>v(w.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[w.visible?u.jsx(tf,{className:"w-4 h-4 text-primary"}):u.jsx(WD,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm",children:w.label})]},w.id))})]}),u.jsxs("button",{onClick:y,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[u.jsx(VD,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"  "]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),u.jsx(xo,{width:"100%",height:"90%",children:u.jsxs(gb,{data:_(),children:[u.jsx(Ss,{strokeDasharray:"3 3",vertical:!1}),u.jsx(si,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),u.jsx(li,{fontSize:10}),u.jsx(ur,{}),u.jsx(In,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(Vh,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:w=>f(w.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:u.jsx("tr",{children:a.filter(w=>w.visible).map(w=>u.jsx("th",{className:"p-4 whitespace-nowrap",children:w.label},w.id))})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((w,k)=>u.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(S=>S.visible).map(S=>u.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:w[S.id]||"-"},S.id))},k)):u.jsx("tr",{children:u.jsx("td",{colSpan:a.filter(w=>w.visible).length,className:"p-10 text-center text-gray-400",children:l?"   ...":"  "})})})]})})]})})]})]})},Xle=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Sk={Day1:"  ",Day2:"  ",Night1:"  ",Night2:"  "},Qle=({user:t})=>{js();const[e,r]=T.useState("LIST"),[n,i]=T.useState(1),[o,a]=T.useState(!1),[s,l]=T.useState(null),[c,d]=T.useState([]),[f,h]=T.useState(!1),[g,b]=T.useState(!1),[y,v]=T.useState(null),[x,_]=T.useState([]),[w,k]=T.useState(null),[S,E]=T.useState([]),[N,A]=T.useState({name:"A",type:"Day1",date:rt(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),[C,I]=T.useState({}),[M,L]=T.useState({}),[O,j]=T.useState({lineA:{},lineB:{}}),[P,$]=T.useState({lineA:{},lineB:{}}),[B,F]=T.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[G,H]=T.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}}}),[X,z]=T.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[ue,R]=T.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[J,ie]=T.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}]}),[de,Pe]=T.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[te,ve]=T.useState({process:[],cleanWater:[]}),[Y,W]=T.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[ke,ge]=T.useState({nextShiftActions:[""]});T.useEffect(()=>{Re("personnel").then(U=>{E(U),I({})}),ae(),K()},[]);const K=async()=>{const{data:U}=await Ae.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();U&&k(U.avatar)},ae=async()=>{const Z=(await G4()).map(V=>({...V,total_production_a:Number(V.total_production_a),total_production_b:Number(V.total_production_b)}));_(Z)},fe=U=>{if(!U||U==="00:00")return 0;const[Z,V]=U.split(":").map(Number);return Z*60+V},Ne=()=>{A({name:"A",type:"Day1",date:rt(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),j({lineA:{},lineB:{}}),W({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),I({}),r("FORM"),i(1)},Me=U=>{const Z=U.full_data;v(Z),Z&&(A(Z.shiftInfo),j(Z.production),$(Z.feedInfo||{lineA:{},lineB:{}}),F(Z.ballMills),H(Z.hydrocyclones),z(Z.drumMagnets),R(Z.concentrateFilters),ie(Z.thickeners),Pe(Z.recoveryFilters),ve(Z.pumps),W(Z.downtime),ge(Z.footer),I(Z.attendanceMap||{}),L(Z.leaveTypes||{})),r("VIEW")},ee=U=>{const Z=U.full_data;Z&&(A(Z.shiftInfo),j(Z.production),$(Z.feedInfo||{lineA:{},lineB:{}}),F(Z.ballMills),H(Z.hydrocyclones),z(Z.drumMagnets),R(Z.concentrateFilters),ie(Z.thickeners),Pe(Z.recoveryFilters),ve(Z.pumps),W(Z.downtime),ge(Z.footer),I(Z.attendanceMap||{}),L(Z.leaveTypes||{})),b(!1),r("VIEW")},me=u.jsx("button",{onClick:()=>window.print(),className:"bg-white border p-2 rounded hover:bg-gray-50 text-gray-600",children:u.jsx(iy,{className:"w-5 h-5"})}),q=U=>{const Z=rs(U);return Z?["","","","","","",""][Z.getDay()]:""};if(e==="VIEW"&&y){const U=y.totalA||0,Z=y.totalB||0,V=fe(y.shiftInfo.shiftDuration)/60,se=Object.values(y.attendanceMap||{}).filter(Be=>Be==="PRESENT").length,le=Object.values(y.attendanceMap||{}).filter(Be=>Be==="LEAVE").length,xe=Object.values(y.attendanceMap||{}).filter(Be=>Be==="ABSENT").length,Oe=fe(y.downtime.lineA.workTime),Ht=fe(y.downtime.lineA.stopTime),Zt=fe(y.downtime.lineB.workTime),$r=fe(y.downtime.lineB.stopTime),_t=[{name:"",value:Oe,color:"#22c55e"},{name:"",value:Ht,color:"#ef4444"}],Rn=[{name:"",value:Zt,color:"#22c55e"},{name:"",value:$r,color:"#ef4444"}],Mn=Xle.map(Be=>({time:Be,lineA:y.production.lineA[Be]||0,lineB:y.production.lineB[Be]||0})),gt=()=>{const Be=document.getElementById("report-content");if(!Be)return;const $n=`ShiftReport_${y.shiftInfo.date.replace(/\//g,"-")}_Shift${y.shiftInfo.name}_${y.shiftInfo.type}.pdf`,Qs=document.createElement("script");Qs.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",Qs.onload=()=>{const Dn={margin:0,filename:$n,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf().set(Dn).from(Be).save()},document.body.appendChild(Qs)},Xs=()=>{`${y.shiftInfo.date.replace(/\//g,"-")}${y.shiftInfo.name}${y.shiftInfo.type}`,navigator.share&&navigator.share({title:" ",text:`  ${y.shiftInfo.name} - ${y.shiftInfo.date}`,url:window.location.href})};return u.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex flex-col items-center gap-4 text-black",children:[u.jsxs("div",{className:"fixed bottom-4 z-50 flex gap-4 no-print bg-white/90 backdrop-blur p-3 rounded-2xl shadow-xl border border-gray-200",children:[u.jsxs("button",{onClick:()=>r("LIST"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl text-gray-700 font-bold transition",children:[u.jsx(kd,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:Xs,className:"flex items-center gap-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl font-bold transition",children:[u.jsx(nx,{className:"w-5 h-5"}),"  "]}),u.jsxs("button",{onClick:gt,className:"flex items-center gap-2 px-4 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-xl font-bold transition",children:[u.jsx(tx,{className:"w-5 h-5"}),"  PDF"]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex-1 flex items-center justify-center gap-2 px-6 py-2 bg-[#800020] text-white rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:[u.jsx(iy,{className:"w-5 h-5"})," "]})]}),u.jsxs("div",{id:"report-content",className:"bg-white shadow-2xl w-[210mm] min-h-[297mm] mx-auto p-[10mm] box-border relative print:w-full print:shadow-none print:m-0 print:p-0",children:[u.jsx("style",{children:`
                      @media print {
                          @page { size: A4; margin: 0; }
                          body { background: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                          .no-print { display: none !important; }
                          #report-content { box-shadow: none; margin: 0; width: 100%; }
                          .page-break { page-break-before: always; }
                      }
                  `}),u.jsxs("div",{className:"h-[277mm] relative flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-4",children:[u.jsx("div",{className:"w-1/4 flex justify-start",children:u.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-[#800020] overflow-hidden shadow-sm",children:w?u.jsx("img",{src:w,className:"w-full h-full object-cover",alt:"Admin"}):u.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:u.jsx(Rs,{className:"w-8 h-8"})})})}),u.jsxs("div",{className:"text-center flex-1",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020] mb-1",children:"     "}),u.jsx("h2",{className:"text-sm font-bold text-gray-700 px-3 py-1",children:"     "})]}),u.jsxs("div",{className:"w-1/4 text-xs space-y-1.5 text-right font-medium text-gray-600 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" :"})," ",u.jsx("span",{className:"font-mono font-bold text-black",children:y.code})]}),u.jsx("div",{className:"border-t border-dashed border-gray-300"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:":"})," ",u.jsxs("span",{className:"font-bold text-black",children:[y.shiftInfo.date," (",q(y.shiftInfo.date),")"]})]}),u.jsx("div",{className:"border-t border-dashed border-gray-300"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:":"})," ",u.jsxs("span",{className:"font-bold text-black",children:[Sk[y.shiftInfo.type]," (",y.shiftInfo.name,")"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-xl text-center",children:[u.jsx("span",{className:"block text-[10px] text-blue-600 font-bold mb-1",children:"  A"}),u.jsxs("span",{className:"text-xl font-black text-blue-800",children:[U.toLocaleString()," ",u.jsx("span",{className:"text-xs font-normal",children:""})]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-100 p-3 rounded-xl text-center",children:[u.jsx("span",{className:"block text-[10px] text-red-600 font-bold mb-1",children:"  B"}),u.jsxs("span",{className:"text-xl font-black text-red-800",children:[Z.toLocaleString()," ",u.jsx("span",{className:"text-xs font-normal",children:""})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-xl text-center",children:[u.jsx("span",{className:"block text-[10px] text-gray-600 font-bold mb-1",children:" "}),u.jsxs("span",{className:"text-xl font-black text-gray-800",children:[V," ",u.jsx("span",{className:"text-xs font-normal",children:""})]})]}),u.jsxs("div",{className:"bg-green-50 border border-green-100 p-2 rounded-xl text-center flex flex-col justify-center gap-1",children:[u.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[u.jsx("span",{children:":"})," ",u.jsx("span",{className:"font-bold",children:se})]}),u.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[u.jsx("span",{children:":"})," ",u.jsx("span",{className:"font-bold",children:le})]}),u.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[u.jsx("span",{children:":"})," ",u.jsx("span",{className:"font-bold text-red-600",children:xe})]})]})]}),u.jsxs("div",{className:"flex gap-4 mb-6 h-56",children:[u.jsxs("div",{className:"w-[20%] bg-blue-50/50 rounded-xl p-2 border border-blue-100 relative flex flex-col items-center justify-center",children:[u.jsx("h4",{className:"text-xs font-bold text-blue-800 absolute top-2 right-2 text-center w-full pr-4",children:"     A"}),u.jsx(xo,{width:"100%",height:"100%",children:u.jsx(bk,{children:u.jsx(Pn,{data:_t,cx:"50%",cy:"50%",outerRadius:40,labelLine:!1,dataKey:"value",children:_t.map((Be,ut)=>u.jsx(Tu,{fill:Be.color},`cell-${ut}`))})})}),u.jsxs("div",{className:"absolute bottom-2 left-2 text-[10px] space-y-1 w-full text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," ",y.downtime.lineA.workTime]}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})," ",y.downtime.lineA.stopTime]})]})]}),u.jsxs("div",{className:"w-[20%] bg-red-50/50 rounded-xl p-2 border border-red-100 relative flex flex-col items-center justify-center",children:[u.jsx("h4",{className:"text-xs font-bold text-red-800 absolute top-2 right-2 text-center w-full pr-4",children:"     B"}),u.jsx(xo,{width:"100%",height:"100%",children:u.jsx(bk,{children:u.jsx(Pn,{data:Rn,cx:"50%",cy:"50%",outerRadius:40,labelLine:!1,dataKey:"value",children:Rn.map((Be,ut)=>u.jsx(Tu,{fill:Be.color},`cell-${ut}`))})})}),u.jsxs("div",{className:"absolute bottom-2 left-2 text-[10px] space-y-1 w-full text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," ",y.downtime.lineB.workTime]}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})," ",y.downtime.lineB.stopTime]})]})]}),u.jsxs("div",{className:"w-[60%] bg-white border border-gray-200 rounded-xl p-2 relative flex flex-col",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 absolute top-2 right-2",children:"   "}),u.jsx("div",{className:"flex-1",children:u.jsx(xo,{width:"100%",height:"100%",children:u.jsxs(gb,{data:Mn,margin:{top:20,right:10,left:-20,bottom:5},children:[u.jsx(Ss,{strokeDasharray:"3 3",vertical:!1}),u.jsx(si,{dataKey:"time",tick:{fontSize:9,angle:-45,textAnchor:"end"},interval:0,height:40}),u.jsx(li,{tick:{fontSize:9},width:30}),u.jsx(ur,{}),u.jsx(In,{dataKey:"lineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0]}),u.jsx(In,{dataKey:"lineB",name:" B",fill:"#ef4444",radius:[2,2,0,0]})]})})}),u.jsxs("div",{className:"h-6 flex justify-center items-center gap-4 text-xs border-t border-gray-100 pt-1",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-sm"}),"  A"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-sm"}),"  B"]})]})]})]}),u.jsxs("div",{className:"h-40 bg-white border border-gray-200 rounded-xl p-2 mb-6 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 absolute top-2 right-2",children:"   "}),u.jsx(xo,{width:"100%",height:"100%",children:u.jsxs(Y2,{data:Mn,margin:{top:20,right:20,left:0,bottom:5},children:[u.jsx(Ss,{strokeDasharray:"3 3"}),u.jsx(si,{dataKey:"time",tick:{fontSize:9}}),u.jsx(li,{tick:{fontSize:9},width:30}),u.jsx(ur,{}),u.jsx(No,{wrapperStyle:{fontSize:"10px"}}),u.jsx(qo,{type:"monotone",dataKey:"lineA",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:" A"}),u.jsx(qo,{type:"monotone",dataKey:"lineB",stroke:"#ef4444",strokeWidth:2,dot:!1,name:" B"})]})})]}),u.jsxs("div",{className:"flex-1 flex gap-4",children:[u.jsxs("div",{className:"flex-1 bg-blue-50 rounded-xl border border-blue-200 p-3 flex flex-col gap-3",children:[u.jsx("h3",{className:"font-bold text-blue-800 border-b border-blue-200 pb-1 text-sm text-center",children:"   A"}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs",children:[u.jsx("strong",{className:"block text-blue-700 mb-1",children:" :"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("span",{children:[": ",y.ballMills.lineA.primary.amp08," / ",y.ballMills.lineA.primary.amp02]}),u.jsxs("span",{children:[": ",y.ballMills.lineA.primary.dens08]})]}),u.jsx("div",{className:"mt-1 border-t border-dashed pt-1",children:y.ballMills.lineA.primary.charges.length>0?y.ballMills.lineA.primary.charges.map((Be,ut)=>u.jsxs("span",{className:"block text-[9px] text-gray-600",children:["  ",Be.size,": ",Be.count," "]},ut)):u.jsx("span",{className:"text-[9px] text-gray-400",children:" "})})]}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs",children:[u.jsx("strong",{className:"block text-blue-700 mb-1",children:" :"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("span",{children:[": ",y.ballMills.lineA.secondary.amp08]}),u.jsxs("span",{children:[": ",y.ballMills.lineA.secondary.dens08]})]})]}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs mt-auto",children:[u.jsx("strong",{className:"block text-blue-700 mb-1",children:" :"}),u.jsxs("div",{children:[" : ",y.concentrateFilters.lineA.cloths.length," "]}),u.jsxs("div",{children:[": ",y.concentrateFilters.lineA.hours]})]})]}),u.jsxs("div",{className:"flex-1 bg-red-50 rounded-xl border border-red-200 p-3 flex flex-col gap-3",children:[u.jsx("h3",{className:"font-bold text-red-800 border-b border-red-200 pb-1 text-sm text-center",children:"   B"}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs",children:[u.jsx("strong",{className:"block text-red-700 mb-1",children:" :"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("span",{children:[": ",y.ballMills.lineB.primary.amp08," / ",y.ballMills.lineB.primary.amp02]}),u.jsxs("span",{children:[": ",y.ballMills.lineB.primary.dens08]})]}),u.jsx("div",{className:"mt-1 border-t border-dashed pt-1",children:y.ballMills.lineB.primary.charges.length>0?y.ballMills.lineB.primary.charges.map((Be,ut)=>u.jsxs("span",{className:"block text-[9px] text-gray-600",children:["  ",Be.size,": ",Be.count," "]},ut)):u.jsx("span",{className:"text-[9px] text-gray-400",children:" "})})]}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs",children:[u.jsx("strong",{className:"block text-red-700 mb-1",children:" :"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("span",{children:[": ",y.ballMills.lineB.secondary.amp08]}),u.jsxs("span",{children:[": ",y.ballMills.lineB.secondary.dens08]})]})]}),u.jsxs("div",{className:"bg-white/60 rounded-lg p-2 text-xs mt-auto",children:[u.jsx("strong",{className:"block text-red-700 mb-1",children:" :"}),u.jsxs("div",{children:[" : ",y.concentrateFilters.lineB.cloths.length," "]}),u.jsxs("div",{children:[": ",y.concentrateFilters.lineB.hours]})]})]})]})]}),u.jsx("div",{className:"page-break"}),u.jsxs("div",{className:"h-[277mm] flex flex-col pt-8",children:[u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6 flex-1 max-h-[30%] overflow-hidden",children:[u.jsx("h3",{className:"font-bold text-[#800020] border-b pb-2 mb-2 text-sm",children:"  "}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[u.jsxs("div",{className:"text-xs leading-relaxed p-2 bg-white rounded border border-gray-100",children:[u.jsx("strong",{className:"block text-blue-600 mb-1",children:" A:"}),y.downtime.lineA.reason||"   ."]}),u.jsxs("div",{className:"text-xs leading-relaxed p-2 bg-white rounded border border-gray-100",children:[u.jsx("strong",{className:"block text-red-600 mb-1",children:" B:"}),y.downtime.lineB.reason||"   ."]})]})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 flex-1 max-h-[30%]",children:[u.jsx("h3",{className:"font-bold text-yellow-800 border-b border-yellow-200 pb-2 mb-2 text-sm",children:"  "}),u.jsxs("div",{className:"text-xs leading-relaxed text-justify",children:[y.downtime.generalDescription.map((Be,ut)=>u.jsxs("p",{className:"mb-1",children:[" ",Be]},ut)),y.downtime.generalDescription.length===0&&u.jsx("span",{className:"text-gray-400",children:"   ."})]})]}),u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-auto flex-1 max-h-[25%]",children:[u.jsx("h3",{className:"font-bold text-green-800 border-b border-green-200 pb-2 mb-2 text-sm",children:"    "}),u.jsxs("div",{className:"text-xs leading-relaxed text-justify",children:[y.footer.nextShiftActions.map((Be,ut)=>u.jsxs("p",{className:"mb-1",children:[" ",Be]},ut)),y.footer.nextShiftActions.length===0&&u.jsx("span",{className:"text-gray-400",children:"   ."})]})]}),u.jsx("div",{className:"mt-auto pt-10 pb-4",children:u.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[u.jsxs("div",{className:"flex flex-col gap-10",children:[u.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),u.jsx("div",{className:"border-b-2 border-gray-300 w-2/3 mx-auto"}),u.jsx("span",{className:"text-xs text-gray-500",children:y.shiftInfo.supervisorName})]}),u.jsxs("div",{className:"flex flex-col gap-10",children:[u.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),u.jsx("div",{className:"border-b-2 border-gray-300 w-2/3 mx-auto"})]}),u.jsxs("div",{className:"flex flex-col gap-10",children:[u.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),u.jsx("div",{className:"border-b-2 border-gray-300 w-2/3 mx-auto"})]})]})})]})]})]})}return u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(mi,{title:" ",icon:IC,data:x,onAdd:Ne,columns:[{header:" ",accessor:U=>u.jsx("span",{className:"font-mono font-bold",children:U.tracking_code})},{header:"",accessor:U=>U.shift_date},{header:"",accessor:U=>U.shift_name},{header:" ",accessor:U=>Sk[U.shift_type]||U.shift_type},{header:"",accessor:U=>U.supervisor_name||"---"},{header:"  A",accessor:U=>u.jsx("span",{className:"text-blue-600 font-bold bg-blue-50 px-2 py-1 rounded",children:U.total_production_a})},{header:"  B",accessor:U=>u.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:U.total_production_b})}],onViewDetails:Me,onEdit:ee,extraActions:me,selectedIds:c,onSelect:d})})},Zle=({enabled:t})=>{const[e,r]=T.useState([]);return T.useEffect(()=>{if(t){const n=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));r(n)}else r([])},[t]),t?u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[u.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(n=>u.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:n.left,top:"-10px",width:n.size,height:n.size,opacity:n.opacity,animation:`snowfall ${n.animationDuration} linear infinite`,animationDelay:n.animationDelay}},n.id))]}):null};var eue={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tue,rue;function nue(){return{geminiUrl:tue,vertexUrl:rue}}function iue(t,e,r,n){var i,o;if(!(t!=null&&t.baseUrl)){const a=nue();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:r:(o=a.geminiUrl)!==null&&o!==void 0?o:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gi{}function ce(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,r){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(r))t[s]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(r))for(let c=0;c<l.length;c++){const d=l[c];m(d,e.slice(o+1),r[c])}else for(const c of l)m(c,e.slice(o+1),r)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),r);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function p(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function oue(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),o=n.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const c=o[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}Hv(t,i,o,0,a)}}function Hv(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Hv(l,e,r,n+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of s)l[c]=a[c];for(const[c,d]of Object.entries(l)){const f=[];for(const h of r.slice(n))h==="*"?f.push(c):f.push(h);m(a,f,d)}for(const c of s)delete a[c]}}else{const a=t;o in a&&Hv(a[o],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aue(t){const e={},r=p(t,["operationName"]);r!=null&&m(e,["operationName"],r);const n=p(t,["resourceName"]);return n!=null&&m(e,["_url","resourceName"],n),e}function sue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],uue(a)),e}function lue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],cue(a)),e}function uue(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>due(a))),m(e,["generatedVideos"],o)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function cue(t){const e={},r=p(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fue(a))),m(e,["generatedVideos"],o)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function due(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],vue(r)),e}function fue(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],xue(r)),e}function hue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function pue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function mue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],gue(a)),e}function gue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function X2(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],yue(a)),e}function yue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function vue(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],vb(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function xue(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],vb(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ek;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ek||(Ek={}));var kk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kk||(kk={}));var Nk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Nk||(Nk={}));var Ii;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ii||(Ii={}));var Tk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Tk||(Tk={}));var Ak;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ak||(Ak={}));var Ck;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ck||(Ck={}));var Pk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Pk||(Pk={}));var Ik;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ik||(Ik={}));var jk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(jk||(jk={}));var Ok;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ok||(Ok={}));var Rk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Rk||(Rk={}));var Mk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mk||(Mk={}));var $k;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})($k||($k={}));var Dk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Dk||(Dk={}));var Lk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lk||(Lk={}));var Uk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Uk||(Uk={}));var Fk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Fk||(Fk={}));var Bk;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bk||(Bk={}));var gh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gh||(gh={}));var qk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qk||(qk={}));var Vk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vk||(Vk={}));var Gk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gk||(Gk={}));var zv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zv||(zv={}));var Hk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hk||(Hk={}));var zk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(zk||(zk={}));var Wk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Wk||(Wk={}));var Kk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Kk||(Kk={}));var Jk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jk||(Jk={}));var Yk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Yk||(Yk={}));var Xk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Xk||(Xk={}));var Qk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Qk||(Qk={}));var Zk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Zk||(Zk={}));var eN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(eN||(eN={}));var tN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tN||(tN={}));var rN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rN||(rN={}));var nN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nN||(nN={}));var iN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(iN||(iN={}));var oN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oN||(oN={}));var aN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(aN||(aN={}));var sN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sN||(sN={}));var lN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lN||(lN={}));var uN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uN||(uN={}));var cN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cN||(cN={}));var dN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dN||(dN={}));var fN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(fN||(fN={}));var hN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hN||(hN={}));var pN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pN||(pN={}));var mN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mN||(mN={}));var gN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gN||(gN={}));var yN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yN||(yN={}));var vN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vN||(vN={}));var xN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xN||(xN={}));var bN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bN||(bN={}));var wN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wN||(wN={}));var Oa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oa||(Oa={}));class Wv{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class yl{get text(){var e,r,n,i,o,a,s,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,b]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(b!==null||b!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,r,n,i,o,a,s,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,r,n,i,o,a,s,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,i,o,a,s,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,i,o,a,s,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class _N{}class SN{}class bue{}class wue{}class _ue{}class Sue{}class EN{}class kN{}class NN{}class Eue{}class yh{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new yh;let i;const o=e;return r?i=lue(o):i=sue(o),Object.assign(n,i),n}}class TN{}class AN{}class CN{}class PN{}class kue{}class Nue{}class Tue{}class xb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new xb,o=mue(e);return Object.assign(n,o),n}}class Aue{}class Cue{}class Pue{}class IN{}class Iue{get text(){var e,r,n;let i="",o=!1;const a=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(s))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,r,n;let i="";const o=[];for(const a of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class jue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new bb,o=X2(e);return Object.assign(n,o),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Q2(t,e){const r=Ue(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Z2(t){return Array.isArray(t)?t.map(e=>vh(e)):[vh(t)]}function vh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function eO(t){const e=vh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tO(t){const e=vh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jN(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function rO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jN(e)):[jN(t)]}function Kv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ON(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function RN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xt(t){if(t==null)throw new Error("ContentUnion is required");return Kv(t)?t:{role:"user",parts:rO(t)}}function wb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=Xt(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=Xt(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Xt(r)):[Xt(e)]}function zr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ON(t)||RN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xt(t)]}const e=[],r=[],n=Kv(t[0]);for(const i of t){const o=Kv(i);if(o!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(ON(i)||RN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:rO(r)}),e}function Oue(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(Ii).includes(r[0].toUpperCase())?r[0].toUpperCase():Ii.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(Ii).includes(n.toUpperCase())?n.toUpperCase():Ii.TYPE_UNSPECIFIED})}}function Ha(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Oue(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Ii).includes(s.toUpperCase())?s.toUpperCase():Ii.TYPE_UNSPECIFIED}else if(r.includes(a))e[a]=Ha(s);else if(n.includes(a)){const l=[];for(const c of s){if(c.type=="null"){e.nullable=!0;continue}l.push(Ha(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,d]of Object.entries(s))l[c]=Ha(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function _b(t){return Ha(t)}function Sb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Eb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ks(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ha(e.response));return t}function Js(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function Rue(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function yi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Rue(t,e,"cachedContents")}function nO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xi(t){return vb(t)}function Mue(t){return t!=null&&typeof t=="object"&&"name"in t}function $ue(t){return t!=null&&typeof t=="object"&&"video"in t}function Due(t){return t!=null&&typeof t=="object"&&"uri"in t}function iO(t){var e;let r;if(Mue(t)&&(r=t.name),!(Due(t)&&(r=t.uri,r===void 0))&&!($ue(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function oO(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function aO(t){for(const e of["models","tunedModels","publisherModels"])if(Lue(t,e))return t[e];return[]}function Lue(t,e){return t!==null&&typeof t=="object"&&e in t}function Uue(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Fue(t,e={}){const r=[],n=new Set;for(const i of t){const o=i.name;if(n.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);n.add(o);const a=Uue(i,e);a.functionDeclarations&&r.push(...a.functionDeclarations)}return{functionDeclarations:r}}function sO(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Bue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lO(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ys(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function uO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function que(t){const e={},r=p(t,["responsesFile"]);r!=null&&m(e,["fileName"],r);const n=p(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>_ce(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Vue(t){const e={},r=p(t,["predictionsFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsDestination","outputUriPrefix"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Gue(t){const e={},r=p(t,["format"]);r!=null&&m(e,["predictionsFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsDestination","outputUriPrefix"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Td(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata","displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],uO(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const c=p(t,["metadata","output"]);return c!=null&&m(e,["dest"],que(lO(c))),e}function Jv(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["state"]);i!=null&&m(e,["state"],uO(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],Hue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],Vue(lO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Hue(t){const e={},r=p(t,["instancesFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsSource","uris"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function zue(t,e){const r={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=p(e,["fileName"]);n!=null&&m(r,["fileName"],n);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wce(t,a))),m(r,["requests","requests"],o)}return r}function Wue(t){const e={},r=p(t,["format"]);r!=null&&m(e,["instancesFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsSource","uris"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Kue(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Jue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function Yue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function Xue(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Que(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Que(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function cO(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Cce(o))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Zue(t,e){const r={},n=p(t,["displayName"]);if(e!==void 0&&n!=null&&m(e,["batch","displayName"],n),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function ece(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Gue(Bue(i))),r}function MN(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],zue(t,sO(t,i)));const o=p(e,["config"]);return o!=null&&Zue(o,r),r}function tce(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],Ue(t,n));const i=p(e,["src"]);i!=null&&m(r,["inputConfig"],Wue(sO(t,i)));const o=p(e,["config"]);return o!=null&&ece(o,r),r}function rce(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["batch","displayName"],n),r}function nce(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],cce(t,i));const o=p(e,["config"]);return o!=null&&rce(o,r),r}function ice(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function oce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function ace(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function sce(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function lce(t,e){const r={},n=p(e,["contents"]);if(n!=null){let o=wb(t,n);Array.isArray(o)&&(o=o.map(a=>a)),m(r,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(r,["_self"],uce(i,r)),oue(r,{"requests[].*":"requests[].request.*"})),r}function uce(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function cce(t,e){const r={},n=p(e,["fileName"]);n!=null&&m(r,["file_name"],n);const i=p(e,["inlinedRequests"]);return i!=null&&m(r,["requests"],lce(t,i)),r}function dce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function fce(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hce(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pce(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],cO(Xt(i)));const o=p(e,["temperature"]);o!=null&&m(n,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(n,["topP"],a);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(n,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],_b(x));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(j=>Pce(j))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=Js(k);Array.isArray(O)&&(O=O.map(j=>jce(Ks(j)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],Ice(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);r!==void 0&&E!=null&&m(r,["cachedContent"],yi(t,E));const N=p(e,["responseModalities"]);N!=null&&m(n,["responseModalities"],N);const A=p(e,["mediaResolution"]);A!=null&&m(n,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(n,["speechConfig"],Sb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const M=p(e,["imageConfig"]);M!=null&&m(n,["imageConfig"],bce(M));const L=p(e,["enableEnhancedCivicAnswers"]);return L!=null&&m(n,["enableEnhancedCivicAnswers"],L),n}function mce(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Xue(c))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function gce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function yce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ys(t,n)),r}function vce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function xce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function bce(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wce(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["request","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let s=zr(i);Array.isArray(s)&&(s=s.map(l=>cO(l))),m(r,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(r,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(r,["request","generationConfig"],pce(t,a,p(r,["request"],{}))),r}function _ce(t){const e={},r=p(t,["response"]);r!=null&&m(e,["response"],mce(r));const n=p(t,["error"]);return n!=null&&m(e,["error"],n),e}function Sce(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Ece(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),r}function kce(t){const e={},r=p(t,["config"]);return r!=null&&Sce(r,e),e}function Nce(t){const e={},r=p(t,["config"]);return r!=null&&Ece(r,e),e}function Tce(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Td(a))),m(e,["batchJobs"],o)}return e}function Ace(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Jv(a))),m(e,["batchJobs"],o)}return e}function Cce(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],dce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],fce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Kue(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Pce(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function Ice(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],hce(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function jce(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],vce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],xce(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ui;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ui||(ui={}));class Zo{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,o;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!n||Object.keys(n).length===0?a={config:{}}:typeof n=="object"?a=Object.assign({},n):a=n,a.config&&(a.config.pageToken=r.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oce extends gi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Zo(ui.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=MN(this.apiClient,e),n=r._url,i=ce("{model}:batchGenerateContent",n),s=r.batch.inputConfig.requests,l=s.requests,c=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}c.push(f)}return s.requests=c,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?n.dest=`${o.slice(0,-6)}/dest`:n.dest=`${o}_dest_${i}`;else if(a)n.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=tce(this.apiClient,e);return s=ce("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>Jv(d))}else{const c=MN(this.apiClient,e);return s=ce("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Td(d))}}async createEmbeddingsInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=nce(this.apiClient,e);return o=ce("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>Td(l))}}async get(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=yce(this.apiClient,e);return s=ce("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>Jv(d))}else{const c=gce(this.apiClient,e);return s=ce("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Td(d))}}async cancel(e){var r,n,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Yue(this.apiClient,e);a=ce("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=Jue(this.apiClient,e);a=ce("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Nce(e);return s=ce("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ace(d),h=new IN;return Object.assign(h,f),h})}else{const c=kce(e);return s=ce("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Tce(d),h=new IN;return Object.assign(h,f),h})}}async delete(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=oce(this.apiClient,e);return s=ce("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>sce(d))}else{const c=ice(this.apiClient,e);return s=ce("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>ace(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rce(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function $N(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>nde(o))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Mce(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=zr(a);Array.isArray(d)&&(d=d.map(f=>$N(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],$N(Xt(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>ode(f))),m(e,["tools"],d)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&m(e,["toolConfig"],ide(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function $ce(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=zr(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Xt(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>ade(h))),m(e,["tools"],f)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&m(e,["toolConfig"],c);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),r}function Dce(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],Q2(t,n));const i=p(e,["config"]);return i!=null&&Mce(i,r),r}function Lce(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],Q2(t,n));const i=p(e,["config"]);return i!=null&&$ce(i,r),r}function Uce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],yi(t,n)),r}function Fce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],yi(t,n)),r}function Bce(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function qce(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function Vce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Gce(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hce(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Wce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],yi(t,n)),r}function Kce(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],yi(t,n)),r}function Jce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Yce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Xce(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Qce(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Zce(t){const e={},r=p(t,["config"]);return r!=null&&Xce(r,e),e}function ede(t){const e={},r=p(t,["config"]);return r!=null&&Qce(r,e),e}function tde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function rde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function nde(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Vce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Gce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Rce(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function ide(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],Hce(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function ode(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Jce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Yce(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function ade(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>zce(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function sde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function lde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function ude(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],yi(t,n));const i=p(e,["config"]);return i!=null&&sde(i,r),r}function cde(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],yi(t,n));const i=p(e,["config"]);return i!=null&&lde(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dde extends gi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Zo(ui.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Lce(this.apiClient,e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Dce(this.apiClient,e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Kce(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Wce(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Fce(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=qce(d),h=new CN;return Object.assign(h,f),h})}else{const c=Uce(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Bce(d),h=new CN;return Object.assign(h,f),h})}}async update(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=cde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=ude(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=ede(e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=rde(d),h=new PN;return Object.assign(h,f),h})}else{const c=Zce(e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=tde(d),h=new PN;return Object.assign(h,f),h})}}}function xh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function DN(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function pn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(b){return Promise.resolve(b).then(g,f)}}function s(g,b){n[g]&&(i[g]=function(y){return new Promise(function(v,x){o.push([g,y,v,x])>1||l(g,y)})},b&&(i[g]=b(i[g])))}function l(g,b){try{c(n[g](b))}catch(y){h(o[0][3],y)}}function c(g){g.value instanceof Te?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function mn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof DN=="function"?DN(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:dO(r)}function dO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function hde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LN(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let o=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),o&&!dO(t[n])&&(o=!1),n++;o?e.push(...i):e.pop()}return e}class pde{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new mde(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mde{constructor(e,r,n,i={},o=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),hde(o)}async sendMessage(e){var r;await this.sendPromise;const n=Xt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,c=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=c?[c]:[];this.recordHistory(n,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=Xt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,n)}getHistory(e=!1){const r=e?LN(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return pn(this,arguments,function*(){var i,o,a,s,l,c;const d=[];try{for(var f=!0,h=mn(e),g;g=yield Te(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const b=s;if(fde(b)){const y=(c=(l=b.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;y!==void 0&&d.push(y)}yield yield Te(b)}}catch(b){o={error:b}}finally{try{!f&&!i&&(a=h.return)&&(yield Te(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(r,d)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(o=>o.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...LN(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gde(t){const e={},r=p(t,["file"]);return r!=null&&m(e,["file"],r),e}function yde(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function vde(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],iO(r)),e}function xde(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function bde(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],iO(r)),e}function wde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function _de(t){const e={},r=p(t,["config"]);return r!=null&&wde(r,e),e}function Sde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ede extends gi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Zo(ui.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_de(e);return o=ce("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Sde(l),d=new Aue;return Object.assign(d,c),d})}}async createInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gde(e);return o=ce("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=yde(l),d=new Cue;return Object.assign(d,c),d})}}async get(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bde(e);return o=ce("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vde(e);return o=ce("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=xde(l),d=new Pue;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ad(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function kde(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bde(o))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Nde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Tde(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ade(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Cde(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&m(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const b=p(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const v=p(t,["routingConfig"]);v!=null&&m(e,["routingConfig"],v);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const N=p(t,["topP"]);if(N!=null&&m(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Pde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Ide(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function jde(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Eb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],kde(Xt(b)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Js(y);Array.isArray(E)&&(E=E.map(N=>Vde(Ks(N)))),m(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],qde(v));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Ode(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],Cde(n));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Eb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],Xt(b));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let N=Js(y);Array.isArray(N)&&(N=N.map(A=>Gde(Ks(A)))),m(e,["setup","tools"],N)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],v);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const E=p(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&m(e,["setup","explicitVadSignal"],E),r}function Rde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ue(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],jde(i,r)),r}function Mde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ue(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],Ode(i,r)),r}function $de(t){const e={},r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],r),e}function Dde(t){const e={},r=p(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["weightedPrompts"],n)}return e}function Lde(t){const e={},r=p(t,["media"]);if(r!=null){let c=Z2(r);Array.isArray(c)&&(c=c.map(d=>Ad(d))),m(e,["mediaChunks"],c)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],Ad(tO(n)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Ad(eO(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Ude(t){const e={},r=p(t,["media"]);if(r!=null){let c=Z2(r);Array.isArray(c)&&(c=c.map(d=>d)),m(e,["mediaChunks"],c)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],tO(n));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],eO(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Fde(t){const e={},r=p(t,["setupComplete"]);r!=null&&m(e,["setupComplete"],r);const n=p(t,["serverContent"]);n!=null&&m(e,["serverContent"],n);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Hde(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const c=p(t,["voiceActivityDetectionSignal"]);return c!=null&&m(e,["voiceActivityDetectionSignal"],c),e}function Bde(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Nde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Tde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Ad(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function qde(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Pde(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Ide(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Gde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ade(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Hde(t){const e={},r=p(t,["promptTokenCount"]);r!=null&&m(e,["promptTokenCount"],r);const n=p(t,["cachedContentTokenCount"]);n!=null&&m(e,["cachedContentTokenCount"],n);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["promptTokensDetails"],g)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zde(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Wde(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Kde(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Kde(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function Jde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let o=zr(i);Array.isArray(o)&&(o=o.map(a=>a)),m(r,["contents"],o)}return r}function Yde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function Xde(t){const e={},r=p(t,["values"]);r!=null&&m(e,["values"],r);const n=p(t,["statistics"]);return n!=null&&m(e,["statistics"],Qde(n)),e}function Qde(t){const e={},r=p(t,["truncated"]);r!=null&&m(e,["truncated"],r);const n=p(t,["token_count"]);return n!=null&&m(e,["tokenCount"],n),e}function Vp(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>she(o))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Zde(t){const e={},r=p(t,["controlType"]);r!=null&&m(e,["controlType"],r);const n=p(t,["enableControlImageComputation"]);return n!=null&&m(e,["computeControl"],n),e}function efe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function tfe(t,e){const r={},n=p(t,["systemInstruction"]);e!==void 0&&n!=null&&m(e,["systemInstruction"],Xt(n));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mO(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],zfe(o)),r}function rfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let a=zr(i);Array.isArray(a)&&(a=a.map(s=>Vp(s))),m(r,["contents"],a)}const o=p(e,["config"]);return o!=null&&efe(o),r}function nfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let a=zr(i);Array.isArray(a)&&(a=a.map(s=>s)),m(r,["contents"],a)}const o=p(e,["config"]);return o!=null&&tfe(o,r),r}function ife(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function ofe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function afe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ue(t,n)),r}function sfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ue(t,n)),r}function lfe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function ufe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function cfe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&m(e,["parameters","addWatermark"],v);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const _=p(t,["editMode"]);e!==void 0&&_!=null&&m(e,["parameters","editMode"],_);const w=p(t,["baseSteps"]);return e!==void 0&&w!=null&&m(e,["parameters","editConfig","baseSteps"],w),r}function dfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>hhe(l))),m(r,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&cfe(a,r),r}function ffe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gp(o))),m(e,["generatedImages"],i)}return e}function hfe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function pfe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["instances[]","task_type"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),r}function mfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let s=wb(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(r,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&hfe(o,r);const a=p(e,["model"]);return a!==void 0&&m(r,["requests[]","model"],Ue(t,a)),r}function gfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let a=wb(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(r,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&pfe(o,r),r}function yfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function vfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xde(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function xfe(t){const e={},r=p(t,["endpoint"]);r!=null&&m(e,["name"],r);const n=p(t,["deployedModelId"]);return n!=null&&m(e,["deployedModelId"],n),e}function bfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function wfe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _fe(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Sfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Efe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],Vp(Xt(i)));const o=p(e,["temperature"]);o!=null&&m(n,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(n,["topP"],a);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(n,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],_b(x));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(j=>phe(j))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=Js(k);Array.isArray(O)&&(O=O.map(j=>whe(Ks(j)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],bhe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);r!==void 0&&E!=null&&m(r,["cachedContent"],yi(t,E));const N=p(e,["responseModalities"]);N!=null&&m(n,["responseModalities"],N);const A=p(e,["mediaResolution"]);A!=null&&m(n,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(n,["speechConfig"],Sb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const M=p(e,["imageConfig"]);M!=null&&m(n,["imageConfig"],Xfe(M));const L=p(e,["enableEnhancedCivicAnswers"]);return L!=null&&m(n,["enableEnhancedCivicAnswers"],L),n}function kfe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],Xt(i));const o=p(e,["temperature"]);o!=null&&m(n,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(n,["topP"],a);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(n,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],_b(x));const _=p(e,["responseJsonSchema"]);_!=null&&m(n,["responseJsonSchema"],_);const w=p(e,["routingConfig"]);w!=null&&m(n,["routingConfig"],w);const k=p(e,["modelSelectionConfig"]);k!=null&&m(n,["modelConfig"],k);const S=p(e,["safetySettings"]);if(r!==void 0&&S!=null){let $=S;Array.isArray($)&&($=$.map(B=>B)),m(r,["safetySettings"],$)}const E=p(e,["tools"]);if(r!==void 0&&E!=null){let $=Js(E);Array.isArray($)&&($=$.map(B=>mO(Ks(B)))),m(r,["tools"],$)}const N=p(e,["toolConfig"]);r!==void 0&&N!=null&&m(r,["toolConfig"],N);const A=p(e,["labels"]);r!==void 0&&A!=null&&m(r,["labels"],A);const C=p(e,["cachedContent"]);r!==void 0&&C!=null&&m(r,["cachedContent"],yi(t,C));const I=p(e,["responseModalities"]);I!=null&&m(n,["responseModalities"],I);const M=p(e,["mediaResolution"]);M!=null&&m(n,["mediaResolution"],M);const L=p(e,["speechConfig"]);L!=null&&m(n,["speechConfig"],Sb(L));const O=p(e,["audioTimestamp"]);O!=null&&m(n,["audioTimestamp"],O);const j=p(e,["thinkingConfig"]);j!=null&&m(n,["thinkingConfig"],j);const P=p(e,["imageConfig"]);if(P!=null&&m(n,["imageConfig"],Qfe(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function UN(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let a=zr(i);Array.isArray(a)&&(a=a.map(s=>Vp(s))),m(r,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(r,["generationConfig"],Efe(t,o,r)),r}function FN(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["contents"]);if(i!=null){let a=zr(i);Array.isArray(a)&&(a=a.map(s=>s)),m(r,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(r,["generationConfig"],kfe(t,o,r)),r}function BN(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Wde(c))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function qN(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function Nfe(t,e){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Tfe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&m(e,["parameters","addWatermark"],v);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&m(e,["parameters","sampleImageSize"],_);const w=p(t,["enhancePrompt"]);return e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w),r}function Afe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Nfe(o,r),r}function Cfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Tfe(o,r),r}function Pfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>qfe(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],hO(i)),e}function Ife(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Gp(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],pO(i)),e}function jfe(t,e){const r={},n=p(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],Hp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Rhe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Ofe(t,e){const r={},n=p(t,["numberOfVideos"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const b=p(t,["generateAudio"]);e!==void 0&&b!=null&&m(e,["parameters","generateAudio"],b);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],vn(y));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(k=>Mhe(k))),m(e,["instances[0]","referenceImages"],w)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],Ohe(x));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&m(e,["parameters","compressionQuality"],_),r}function Rfe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Lfe(a)),e}function Mfe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Ufe(a)),e}function $fe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(r,["instances[0]","image"],Hp(o));const a=p(e,["video"]);a!=null&&m(r,["instances[0]","video"],gO(a));const s=p(e,["source"]);s!=null&&Ffe(s,r);const l=p(e,["config"]);return l!=null&&jfe(l,r),r}function Dfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(r,["instances[0]","image"],vn(o));const a=p(e,["video"]);a!=null&&m(r,["instances[0]","video"],yO(a));const s=p(e,["source"]);s!=null&&Bfe(s,r);const l=p(e,["config"]);return l!=null&&Ofe(l,r),r}function Lfe(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Gfe(a))),m(e,["generatedVideos"],o)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ufe(t){const e={},r=p(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Hfe(a))),m(e,["generatedVideos"],o)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ffe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Hp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],gO(o)),r}function Bfe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],vn(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],yO(o)),r}function qfe(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],Zfe(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],hO(i)),e}function Gp(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],fO(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],pO(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Vfe(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["mask"],fO(r));const n=p(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Gfe(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],Ihe(r)),e}function Hfe(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],jhe(r)),e}function zfe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&m(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const b=p(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const v=p(t,["routingConfig"]);v!=null&&m(e,["routingConfig"],v);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const N=p(t,["topP"]);if(N!=null&&m(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Wfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ue(t,n)),r}function Kfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ue(t,n)),r}function Jfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Yfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Xfe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qfe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);n!=null&&m(e,["imageSize"],n);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function Zfe(t){const e={},r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Xi(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function fO(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Xi(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Xi(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function vn(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Xi(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ehe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const o=p(e,["pageToken"]);r!==void 0&&o!=null&&m(r,["_query","pageToken"],o);const a=p(e,["filter"]);r!==void 0&&a!=null&&m(r,["_query","filter"],a);const s=p(e,["queryBase"]);return r!==void 0&&s!=null&&m(r,["_url","models_url"],oO(t,s)),n}function the(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const o=p(e,["pageToken"]);r!==void 0&&o!=null&&m(r,["_query","pageToken"],o);const a=p(e,["filter"]);r!==void 0&&a!=null&&m(r,["_query","filter"],a);const s=p(e,["queryBase"]);return r!==void 0&&s!=null&&m(r,["_url","models_url"],oO(t,s)),n}function rhe(t,e){const r={},n=p(e,["config"]);return n!=null&&ehe(t,n,r),r}function nhe(t,e){const r={},n=p(e,["config"]);return n!=null&&the(t,n,r),r}function ihe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let o=aO(i);Array.isArray(o)&&(o=o.map(a=>Yv(a))),m(e,["models"],o)}return e}function ohe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let o=aO(i);Array.isArray(o)&&(o=o.map(a=>Xv(a))),m(e,["models"],o)}return e}function ahe(t){const e={},r=p(t,["maskMode"]);r!=null&&m(e,["maskMode"],r);const n=p(t,["segmentationClasses"]);n!=null&&m(e,["maskClasses"],n);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Yv(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],_he(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const c=p(t,["supportedGenerationMethods"]);c!=null&&m(e,["supportedActions"],c);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const b=p(t,["thinking"]);return b!=null&&m(e,["thinking"],b),e}function Xv(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>xfe(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],She(l));const c=p(t,["defaultCheckpointId"]);c!=null&&m(e,["defaultCheckpointId"],c);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function she(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],bfe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],wfe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],zde(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function lhe(t){const e={},r=p(t,["productImage"]);return r!=null&&m(e,["image"],vn(r)),e}function uhe(t,e){const r={},n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&m(e,["parameters","addWatermark"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),r}function che(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["source"]);i!=null&&fhe(i,r);const o=p(e,["config"]);return o!=null&&uhe(o,r),r}function dhe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Gp(i))),m(e,["generatedImages"],n)}return e}function fhe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],vn(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>lhe(s))),m(e,["instances[0]","productImages"],a)}return r}function hhe(t){const e={},r=p(t,["referenceImage"]);r!=null&&m(e,["referenceImage"],vn(r));const n=p(t,["referenceId"]);n!=null&&m(e,["referenceId"],n);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],ahe(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Zde(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function hO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function pO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function phe(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function mhe(t){const e={},r=p(t,["image"]);return r!=null&&m(e,["image"],vn(r)),e}function ghe(t,e){const r={},n=p(t,["mode"]);e!==void 0&&n!=null&&m(e,["parameters","mode"],n);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),r}function yhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["source"]);i!=null&&xhe(i,r);const o=p(e,["config"]);return o!=null&&ghe(o,r),r}function vhe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Vfe(i))),m(e,["generatedMasks"],n)}return e}function xhe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],vn(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],mhe(o)),r}function bhe(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],_fe(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function whe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Jfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Yfe(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function mO(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Sfe(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function _he(t){const e={},r=p(t,["baseModel"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function She(t){const e={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Ehe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),r}function khe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),r}function Nhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","name"],Ue(t,n));const i=p(e,["config"]);return i!=null&&Ehe(i,r),r}function The(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["config"]);return i!=null&&khe(i,r),r}function Ahe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const c=p(t,["enhanceInputImage"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),r}function Che(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ue(t,n));const i=p(e,["image"]);i!=null&&m(r,["instances[0]","image"],vn(i));const o=p(e,["upscaleFactor"]);o!=null&&m(r,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&Ahe(a,r),r}function Phe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gp(o))),m(e,["generatedImages"],i)}return e}function Ihe(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],Xi(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function jhe(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],Xi(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ohe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["_self"],vn(r));const n=p(t,["maskMode"]);return n!=null&&m(e,["maskMode"],n),e}function Rhe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],Hp(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function Mhe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],vn(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function gO(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["encodedVideo"],Xi(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function yO(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Xi(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $he(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["displayName"],n),r}function Dhe(t){const e={},r=p(t,["config"]);return r!=null&&$he(r,e),e}function Lhe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function Uhe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Lhe(n,e),e}function Fhe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function Bhe(t,e){const r={},n=p(t,["customMetadata"]);if(e!==void 0&&n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),r}function qhe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Ghe(a)),e}function Vhe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["fileName"]);n!=null&&m(e,["fileName"],n);const i=p(t,["config"]);return i!=null&&Bhe(i,e),e}function Ghe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Hhe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function zhe(t){const e={},r=p(t,["config"]);return r!=null&&Hhe(r,e),e}function Whe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function vO(t,e){const r={},n=p(t,["mimeType"]);e!==void 0&&n!=null&&m(e,["mimeType"],n);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),r}function Khe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["config"]);return n!=null&&vO(n,e),e}function Jhe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yhe="Content-Type",Xhe="X-Server-Timeout",Qhe="User-Agent",Qv="x-goog-api-client",Zhe="1.34.0",epe=`google-genai-sdk/${Zhe}`,tpe="v1beta1",rpe="v1beta";class npe{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:tpe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rpe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,r,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(r))typeof o=="object"?n[i]=Object.assign(Object.assign({},n[i]),o):o!==void 0&&(n[i]=o);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,r,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const o=new AbortController,a=o.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const s=setTimeout(()=>o.abort(),r.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return r&&r.extraBody!==null&&ipe(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await VN(i),new Wv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await VN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return pn(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:d}=yield Te(i.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const b=JSON.parse(f);if("error"in b){const y=JSON.parse(JSON.stringify(b.error)),v=y.status,x=y.code,_=`got status: ${v}. ${JSON.stringify(b)}`;if(x>=400&&x<600)throw new qp({message:_,status:x})}}catch(b){if(b.name==="ApiError")throw b}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const v of l){const x=a.indexOf(v);x!==-1&&(h===-1||x<h)&&(h=x,g=v.length)}if(h===-1)break;const b=a.substring(0,h);a=a.substring(h+g);const y=b.trim();if(y.startsWith(s)){const v=y.substring(s.length).trim();try{const x=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new Wv(x))}catch(x){throw new Error(`exception parsing stream chunk ${v}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=epe+" "+this.clientOptions.userAgentExtra;return e[Qhe]=r,e[Qv]=r,e[Yhe]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(Xhe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},c=this.getFileName(e),d=ce("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,c,l,r==null?void 0:r.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,r,n){var i;const o=this.clientOptions.uploader,a=await o.stat(r),s=String(a.size),l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(r),f={};n!=null&&vO(n,f);const h=await this.fetchUploadUrl(c,s,l,d,f,n==null?void 0:n.httpOptions);return o.uploadToFileSearchStore(r,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function VN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new qp({message:i,status:r}):new Error(i)}}function ipe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))r=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],d=s[l];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=n(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),s[l]=c)}return s}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ope="mcp_used/unknown";let ape=!1;function xO(t){for(const e of t)if(spe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ape}function bO(t){var e;const r=(e=t[Qv])!==null&&e!==void 0?e:"";t[Qv]=(r+` ${ope}`).trimStart()}function spe(t){return t!==null&&typeof t=="object"&&t instanceof kb}function lpe(t){return pn(this,arguments,function*(r,n=100){let i,o=0;for(;o<n;){const a=yield Te(r.listTools({cursor:i}));for(const s of a.tools)yield yield Te(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class kb{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new kb(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(r=void 0,mn(lpe(d))),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){r={error:f}}finally{try{!s&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Fue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:n.name,arguments:n.args},void 0,o);r.push({functionResponse:{name:n.name,response:a.isError?{error:a}:a}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function upe(t,e,r){const n=new jue;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class cpe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=hpe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let c=()=>{};const d=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},g=this.apiClient,b={onopen:h,onmessage:w=>{upe(g,f.onmessage,w)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(w){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(w){}},y=this.webSocketFactory.create(l,fpe(a),b);y.connect(),await d;const _={setup:{model:Ue(this.apiClient,e.model)}};return y.send(JSON.stringify(_)),new dpe(y,this.apiClient)}}class dpe{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Dde(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=$de(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Oa.PLAY)}pause(){this.sendPlaybackControl(Oa.PAUSE)}stop(){this.sendPlaybackControl(Oa.STOP)}resetContext(){this.sendPlaybackControl(Oa.RESET_CONTEXT)}close(){this.conn.close()}}function fpe(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function hpe(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ppe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mpe(t,e,r){const n=new Iue;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Fde(o);Object.assign(n,a)}else Object.assign(n,o);e(n)}class gpe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new cpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&xO(e.config.tools)&&bO(f);const h=bpe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let I="BidiGenerateContent",M="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",M="access_token"),d=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${I}?${M}=${C}`}let g=()=>{};const b=new Promise(C=>{g=C}),y=e.callbacks,v=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},x=this.apiClient,_={onopen:v,onmessage:C=>{mpe(x,y.onmessage,C)},onerror:(r=y==null?void 0:y.onerror)!==null&&r!==void 0?r:function(C){},onclose:(n=y==null?void 0:y.onclose)!==null&&n!==void 0?n:function(C){}},w=this.webSocketFactory.create(d,xpe(h),_);w.connect(),await b;let k=Ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const C=this.apiClient.getProject(),I=this.apiClient.getLocation();k=`projects/${C}/locations/${I}/`+k}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gh.AUDIO]}:e.config.responseModalities=[gh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],N=[];for(const C of E)if(this.isCallableTool(C)){const I=C;N.push(await I.tool())}else N.push(C);N.length>0&&(e.config.tools=N);const A={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Mde(this.apiClient,A):S=Rde(this.apiClient,A),delete S.config,w.send(JSON.stringify(S)),new vpe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ype={turnComplete:!0};class vpe{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=zr(r.turns),e.isVertexAI()||(n=n.map(i=>Vp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const o of n){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ppe)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ype),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Ude(e)}:r={realtimeInput:Lde(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function xpe(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function bpe(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GN=10;function HN(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(za(a)){i=!0;break}if(!i)return!0;const o=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function za(t){return"callTool"in t&&typeof t.callTool=="function"}function wpe(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>za(i)))!==null&&n!==void 0?n:!1}function zN(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(za(n))return;const o=n;o.functionDeclarations&&o.functionDeclarations.length>0&&r.push(i)}),r}function WN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _pe extends gi{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!wpe(r)||HN(r.config))return await this.generateContentInternal(l);const c=zN(r);if(c.length>0){const y=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=zr(l.contents),g=(o=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:GN;let b=0;for(;b<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,v=[];for(const x of(s=(a=r.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(za(x)){const w=await x.callTool(d.functionCalls);v.push(...w)}b++,f={role:"user",parts:v},l.contents=zr(l.contents),l.contents.push(y),l.contents.push(f),WN(l.config)&&(h.push(y),h.push(f))}return WN(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async r=>{var n,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(r),HN(r.config)){const f=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(f)}const l=zN(r);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=r==null?void 0:r.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(c&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let o;const a=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:n.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:n.sdkHttpResponse},s}),this.list=async r=>{var n;const a={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((n=a.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Zo(ui.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,o,a,s,l;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((a=(o=r.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=r.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const o=(r=e.config)===null||r===void 0?void 0:r.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>za(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&xO(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),bO(c),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return s}async initAfcToolsMap(e){var r,n,i;const o=new Map;for(const a of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(za(a)){const s=a,l=await s.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,s)}}return o}async processAfcStream(e){var r,n,i;const o=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:GN;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(c,d,f){return pn(this,arguments,function*(){for(var h,g,b,y,v,x;s<o;){a&&(s++,a=!1);const S=yield Te(c.processParamsMaybeAddMcpUsage(f)),E=yield Te(c.generateContentStreamInternal(S)),N=[],A=[];try{for(var _=!0,w=(g=void 0,mn(E)),k;k=yield Te(w.next()),h=k.done,!h;_=!0){y=k.value,_=!1;const C=y;if(yield yield Te(C),C.candidates&&(!((v=C.candidates[0])===null||v===void 0)&&v.content)){A.push(C.candidates[0].content);for(const I of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(I.functionCall.name)){const M=yield Te(d.get(I.functionCall.name).callTool([I.functionCall]));N.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!_&&!h&&(b=w.return)&&(yield Te(b.call(w)))}finally{if(g)throw g.error}}if(N.length>0){a=!0;const C=new yl;C.candidates=[{content:{role:"user",parts:N}}],yield yield Te(C);const I=[];I.push(...A),I.push({role:"user",parts:N});const M=zr(f.contents).concat(I);f.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=FN(this.apiClient,e);return s=ce("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=qN(d),h=new yl;return Object.assign(h,f),h})}else{const c=UN(this.apiClient,e);return s=ce("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=BN(d),h=new yl;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=FN(this.apiClient,e);return s=ce("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),a.then(function(f){return pn(this,arguments,function*(){var h,g,b,y;try{for(var v=!0,x=mn(f),_;_=yield Te(x.next()),h=_.done,!h;v=!0){y=_.value,v=!1;const w=y,k=qN(yield Te(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new yl;Object.assign(S,k),yield yield Te(S)}}catch(w){g={error:w}}finally{try{!v&&!h&&(b=x.return)&&(yield Te(b.call(x)))}finally{if(g)throw g.error}}})})}else{const c=UN(this.apiClient,e);return s=ce("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return pn(this,arguments,function*(){var h,g,b,y;try{for(var v=!0,x=mn(f),_;_=yield Te(x.next()),h=_.done,!h;v=!0){y=_.value,v=!1;const w=y,k=BN(yield Te(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new yl;Object.assign(S,k),yield yield Te(S)}}catch(w){g={error:w}}finally{try{!v&&!h&&(b=x.return)&&(yield Te(b.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=gfe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=vfe(d),h=new _N;return Object.assign(h,f),h})}else{const c=mfe(this.apiClient,e);return s=ce("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=yfe(d),h=new _N;return Object.assign(h,f),h})}}async generateImagesInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Cfe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ife(d),h=new SN;return Object.assign(h,f),h})}else{const c=Afe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Pfe(d),h=new SN;return Object.assign(h,f),h})}}async editImageInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=dfe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=ffe(l),d=new bue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Che(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Phe(l),d=new wue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=che(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=dhe(l),d=new _ue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=yhe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=vhe(l),d=new Sue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Kfe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>Xv(d))}else{const c=Wfe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Yv(d))}}async listInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nhe(this.apiClient,e);return s=ce("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ohe(d),h=new EN;return Object.assign(h,f),h})}else{const c=rhe(this.apiClient,e);return s=ce("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ihe(d),h=new EN;return Object.assign(h,f),h})}}async update(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=The(this.apiClient,e);return s=ce("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>Xv(d))}else{const c=Nhe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Yv(d))}}async delete(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=sfe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ufe(d),h=new kN;return Object.assign(h,f),h})}else{const c=afe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lfe(d),h=new kN;return Object.assign(h,f),h})}}async countTokens(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nfe(this.apiClient,e);return s=ce("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ofe(d),h=new NN;return Object.assign(h,f),h})}else{const c=rfe(this.apiClient,e);return s=ce("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ife(d),h=new NN;return Object.assign(h,f),h})}}async computeTokens(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Jde(this.apiClient,e);return o=ce("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Yde(l),d=new Eue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Dfe(this.apiClient,e);return s=ce("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Mfe(d),h=new yh;return Object.assign(h,f),h})}else{const c=$fe(this.apiClient,e);return s=ce("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Rfe(d),h=new yh;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Spe extends gi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:o}});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:o}});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=pue(e);return s=ce("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a}else{const c=hue(e);return s=ce("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=aue(e);return o=ce("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Epe(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function kpe(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rpe(o))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Npe(t,e,r){const n={},i=p(e,["expireTime"]);r!==void 0&&i!=null&&m(r,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);r!==void 0&&o!=null&&m(r,["newSessionExpireTime"],o);const a=p(e,["uses"]);r!==void 0&&a!=null&&m(r,["uses"],a);const s=p(e,["liveConnectConstraints"]);r!==void 0&&s!=null&&m(r,["bidiGenerateContentSetup"],Ope(t,s));const l=p(e,["lockAdditionalFields"]);return r!==void 0&&l!=null&&m(r,["fieldMask"],l),n}function Tpe(t,e){const r={},n=p(e,["config"]);return n!=null&&m(r,["config"],Npe(t,n,r)),r}function Ape(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Cpe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ppe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Ipe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function jpe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Eb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],kpe(Xt(b)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Js(y);Array.isArray(E)&&(E=E.map(N=>$pe(Ks(N)))),m(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],Mpe(v));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Ope(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ue(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],jpe(i,r)),r}function Rpe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ape(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Cpe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Epe(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Mpe(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $pe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ppe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Ipe(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dpe(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(o=>`${r}.${o}`);e.push(...i)}else e.push(r)}return e.join(",")}function Lpe(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const o=n.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,r=o):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const o=Dpe(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Upe extends gi{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Tpe(this.apiClient,e);o=ce("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Lpe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fpe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function Bpe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Fpe(n,e),e}function qpe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function Vpe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Gpe(t){const e={},r=p(t,["parent"]);r!=null&&m(e,["_url","parent"],r);const n=p(t,["config"]);return n!=null&&Vpe(n,e),e}function Hpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zpe extends gi{constructor(e){super(),this.apiClient=e,this.list=async r=>new Zo(ui.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qpe(e);return o=ce("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bpe(e);i=ce("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gpe(e);return o=ce("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Hpe(l),d=new kue;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wpe extends gi{constructor(e,r=new zpe(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new Zo(ui.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dhe(e);return o=ce("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Fhe(e);return o=ce("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Uhe(e);i=ce("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zhe(e);return o=ce("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Whe(l),d=new Nue;return Object.assign(d,c),d})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Khe(e);return o=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Jhe(l),d=new Tue;return Object.assign(d,c),d})}}async importFile(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vhe(e);return o=ce("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=qhe(l),d=new xb;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wO=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return wO=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Kpe=()=>wO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const e0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yr extends Error{}class ar extends Yr{constructor(e,r,n,i){super(`${ar.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new zp({message:n,cause:e0(r)});const o=r;return e===400?new SO(e,o,n,i):e===401?new EO(e,o,n,i):e===403?new kO(e,o,n,i):e===404?new NO(e,o,n,i):e===409?new TO(e,o,n,i):e===422?new AO(e,o,n,i):e===429?new CO(e,o,n,i):e>=500?new PO(e,o,n,i):new ar(e,o,n,i)}}class t0 extends ar{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class zp extends ar{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class _O extends zp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class SO extends ar{}class EO extends ar{}class kO extends ar{}class NO extends ar{}class TO extends ar{}class AO extends ar{}class CO extends ar{}class PO extends ar{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jpe=/^[a-z][a-z0-9+.-]*:/i,Ype=t=>Jpe.test(t);let r0=t=>(r0=Array.isArray,r0(t));const Xpe=r0;let Qpe=Xpe;const KN=Qpe;function Zpe(t){if(!t)return!0;for(const e in t)return!1;return!0}function eme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const tme=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Yr(`${t} must be an integer`);if(e<0)throw new Yr(`${t} must be a positive integer`);return e},rme=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nme=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ime(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ome=()=>{var t,e,r,n,i;const o=ime();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pa,"X-Stainless-OS":YN(Deno.build.os),"X-Stainless-Arch":JN(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pa,"X-Stainless-OS":YN((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":JN((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=ame();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ame(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,o=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const JN=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",YN=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ld;const sme=()=>ld??(ld=ome());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lme(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function IO(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ume(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return IO({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function jO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cme(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dme=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OO=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sg(t,e,r){return OO(),new File(t,e??"unknown_file",r)}function fme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",pme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&RO(t),mme=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function gme(t,e,r){if(OO(),t=await t,pme(t))return t instanceof File?t:sg([await t.arrayBuffer()],t.name);if(mme(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),sg(await n0(i),e,r)}const n=await n0(t);if(e||(e=fme(t)),!(r!=null&&r.type)){const i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return sg(n,e,r)}async function n0(t){var e,r,n,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(RO(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(hme(t))try{for(var s=!0,l=mn(t),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const d=i;a.push(...await n0(d))}}catch(d){r={error:d}}finally{try{!s&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${yme(t)}`)}return a}function yme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MO{constructor(e){this._client=e}}MO._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $O(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XN=Object.freeze(Object.create(null)),vme=(t=$O)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const o=[],a=r.reduce((d,f,h)=>{var g,b,y;/[?#]/.test(f)&&(i=!0);const v=n[h];let x=(i?encodeURIComponent:t)(""+v);return h!==n.length&&(v==null||typeof v=="object"&&v.toString===((y=Object.getPrototypeOf((b=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:XN))!==null&&b!==void 0?b:XN))===null||y===void 0?void 0:y.toString))&&(x=v+"",o.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===n.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(s))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const b=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+b+y},"");throw new Yr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},ud=vme($O);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DO extends MO{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,o=xh(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Yr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Yr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ud`/${i}/interactions`,Object.assign(Object.assign({body:o},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(ud`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(ud`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const o=r??{},{api_version:a=this._client.apiVersion}=o,s=xh(o,["api_version"]);return this._client.get(ud`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}DO._key=Object.freeze(["interactions"]);class LO extends DO{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xme(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let cd;function Nb(t){let e;return(cd??(e=new globalThis.TextEncoder,cd=e.encode.bind(e)))(t)}let dd;function QN(t){let e;return(dd??(e=new globalThis.TextDecoder,dd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Nb(e):e;this.buffer=xme([this.buffer,r]);const n=[];let i;for(;(i=bme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(QN(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=QN(this.buffer.subarray(0,o));n.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Wp.NEWLINE_CHARS=new Set([`
`,"\r"]);Wp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function wme(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bh={off:0,error:200,warn:300,info:400,debug:500},ZN=(t,e,r)=>{if(t){if(eme(bh,t))return t;er(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(bh))}`)}};function Nl(){}function fd(t,e,r){return!e||bh[t]>bh[r]?Nl:e[t].bind(e)}const _me={error:Nl,warn:Nl,info:Nl,debug:Nl};let eT=new WeakMap;function er(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return _me;const i=eT.get(r);if(i&&i[0]===n)return i[1];const o={error:fd("error",r,n),warn:fd("warn",r,n),info:fd("info",r,n),debug:fd("debug",r,n)};return eT.set(r,[n,o]),o}const uo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ra{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const o=n?er(n):console;function a(){return pn(this,arguments,function*(){var l,c,d,f;if(i)throw new Yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,b=mn(Sme(e,r)),y;y=yield Te(b.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Te(JSON.parse(v.data))}catch(x){throw o.error("Could not parse message into JSON:",v.data),o.error("From chunk:",v.raw),x}}}catch(v){c={error:v}}finally{try{!g&&!l&&(d=b.return)&&(yield Te(d.call(b)))}finally{if(c)throw c.error}}h=!0}catch(v){if(Zv(v))return yield Te(void 0);throw v}finally{h||r.abort()}})}return new Ra(a,r,n)}static fromReadableStream(e,r,n){let i=!1;function o(){return pn(this,arguments,function*(){var l,c,d,f;const h=new Wp,g=jO(e);try{for(var b=!0,y=mn(g),v;v=yield Te(y.next()),l=v.done,!l;b=!0){f=v.value,b=!1;const x=f;for(const _ of h.decode(x))yield yield Te(_)}}catch(x){c={error:x}}finally{try{!b&&!l&&(d=y.return)&&(yield Te(d.call(y)))}finally{if(c)throw c.error}}for(const x of h.flush())yield yield Te(x)})}function a(){return pn(this,arguments,function*(){var l,c,d,f;if(i)throw new Yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,b=mn(o()),y;y=yield Te(b.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const v=f;h||v&&(yield yield Te(JSON.parse(v)))}}catch(v){c={error:v}}finally{try{!g&&!l&&(d=b.return)&&(yield Te(d.call(b)))}finally{if(c)throw c.error}}h=!0}catch(v){if(Zv(v))return yield Te(void 0);throw v}finally{h||r.abort()}})}return new Ra(a,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=n.next();e.push(a),r.push(a)}return o.shift()}});return[new Ra(()=>i(e),this.controller,this.client),new Ra(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return IO({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:o}=await r.next();if(o)return n.close();const a=Nb(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function Sme(t,e){return pn(this,arguments,function*(){var n,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yr("Attempted to iterate over a response with no body");const s=new kme,l=new Wp,c=jO(t.body);try{for(var d=!0,f=mn(Eme(c)),h;h=yield Te(f.next()),n=h.done,!n;d=!0){a=h.value,d=!1;const g=a;for(const b of l.decode(g)){const y=s.decode(b);y&&(yield yield Te(y))}}}catch(g){i={error:g}}finally{try{!d&&!n&&(o=f.return)&&(yield Te(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const b=s.decode(g);b&&(yield yield Te(b))}})}function Eme(t){return pn(this,arguments,function*(){var r,n,i,o;let a=new Uint8Array;try{for(var s=!0,l=mn(t),c;c=yield Te(l.next()),r=c.done,!r;s=!0){o=c.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Nb(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=wme(a))!==-1;)yield yield Te(a.slice(0,g)),a=a.slice(g)}}catch(d){n={error:d}}finally{try{!s&&!r&&(i=l.return)&&(yield Te(i.call(l)))}finally{if(n)throw n.error}}a.length>0&&(yield yield Te(a))})}class kme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=Nme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function Nme(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Tme(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return er(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):Ra.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const l=r.headers.get("content-type"),c=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await r.json():await r.text()})();return er(t).debug(`[${n}] response parsed`,uo({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tb extends Promise{constructor(e,r,n=Tme){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Tb(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UO=Symbol("brand.privateNullableHeaders");function*Ame(t){if(!t)return;if(UO in t){const{values:n,nulls:i}=t;yield*n.entries();for(const o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():KN(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=KN(n[1])?n[1]:[n[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const vl=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[o,a]of Ame(n)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),r.add(s)):(e.append(o,a),r.delete(s))}}return{[UO]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lg=t=>{var e,r,n,i,o,a;if(typeof globalThis.process<"u")return(n=(r=(e=eue)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FO;class Kp{constructor(e){var r,n,i,o,a,s,l,{baseURL:c=lg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=lg("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=e,h=xh(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(n=g.timeout)!==null&&n!==void 0?n:Kp.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(a=(o=ZN(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:ZN(lg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:b,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:lme(),this.encoder=dme,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=vl([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return vl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return vl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Yr(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${pa}`}defaultIdempotencyKey(){return`stainless-node-retry-${Kpe()}`}makeStatusError(e,r,n,i){return ar.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,o=Ype(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Zpe(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new Tb(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=l),await this.prepareOptions(s);const{req:c,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-r});await this.prepareRequest(c,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=n===void 0?"":`, retryOf: ${n}`,b=Date.now();if(er(this).debug(`[${h}] sending request`,uo({retryOfRequestLogID:n,method:s.method,url:d,options:s,headers:c.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new t0;const y=new AbortController,v=await this.fetchWithTimeout(d,c,f,y).catch(e0),x=Date.now();if(v instanceof globalThis.Error){const w=`retrying, ${r} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new t0;const k=Zv(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(r)return er(this).info(`[${h}] connection ${k?"timed out":"failed"} - ${w}`),er(this).debug(`[${h}] connection ${k?"timed out":"failed"} (${w})`,uo({retryOfRequestLogID:n,url:d,durationMs:x-b,message:v.message})),this.retryRequest(s,r,n??h);throw er(this).info(`[${h}] connection ${k?"timed out":"failed"} - error; no more retries left`),er(this).debug(`[${h}] connection ${k?"timed out":"failed"} (error; no more retries left)`,uo({retryOfRequestLogID:n,url:d,durationMs:x-b,message:v.message})),k?new _O:new zp({cause:v})}const _=`[${h}${g}] ${c.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${x-b}ms`;if(!v.ok){const w=await this.shouldRetry(v);if(r&&w){const C=`retrying, ${r} attempts remaining`;return await cme(v.body),er(this).info(`${_} - ${C}`),er(this).debug(`[${h}] response error (${C})`,uo({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,durationMs:x-b})),this.retryRequest(s,r,n??h,v.headers)}const k=w?"error; no more retries left":"error; not retryable";er(this).info(`${_} - ${k}`);const S=await v.text().catch(C=>e0(C).message),E=rme(S),N=E?void 0:S;throw er(this).debug(`[${h}] response error (${k})`,uo({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,message:N,durationMs:Date.now()-b})),this.makeStatusError(v.status,E,N,v.headers)}return er(this).info(_),er(this).debug(`[${h}] response start`,uo({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,durationMs:x-b})),{response:v,options:s,controller:y,requestLogID:h,retryOfRequestLogID:n,startTime:b}}async fetchWithTimeout(e,r,n,i){const o=r||{},{signal:a,method:s}=o,l=xh(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),n),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,c)}return await nme(a),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const o=r-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,o;const a=Object.assign({},e),{method:s,path:l,query:c,defaultBaseURL:d}=a,f=this.buildURL(l,c,d);"timeout"in a&&tme("timeout",a.timeout),a.timeout=(n=a.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),b=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:b},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=vl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),sme()),this._options.defaultHeaders,n,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=vl([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ume(e)}:this.encoder({body:e,headers:n})}}Kp.DEFAULT_TIMEOUT=6e4;class Lt extends Kp{constructor(){super(...arguments),this.interactions=new LO(this)}}FO=Lt;Lt.GeminiNextGenAPIClient=FO;Lt.GeminiNextGenAPIClientError=Yr;Lt.APIError=ar;Lt.APIConnectionError=zp;Lt.APIConnectionTimeoutError=_O;Lt.APIUserAbortError=t0;Lt.NotFoundError=NO;Lt.ConflictError=TO;Lt.RateLimitError=CO;Lt.BadRequestError=SO;Lt.AuthenticationError=EO;Lt.InternalServerError=PO;Lt.PermissionDeniedError=kO;Lt.UnprocessableEntityError=AO;Lt.toFile=gme;Lt.Interactions=LO;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cme(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Pme(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Ime(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function jme(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function Ome(t,e,r){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function Rme(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],tT(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],tT(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=p(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),n}function Mme(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&zme(o);const a=p(t,["config"]);return a!=null&&Ome(a,r),r}function $me(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Wme(o,r,e);const a=p(t,["config"]);return a!=null&&Rme(a,r,e),r}function Dme(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Lme(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Ume(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function Fme(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function Bme(t,e){const r={},n=p(t,["config"]);return n!=null&&Ume(n,r),r}function qme(t,e){const r={},n=p(t,["config"]);return n!=null&&Fme(n,r),r}function Vme(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>BO(s))),m(r,["tuningJobs"],a)}return r}function Gme(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>i0(s))),m(r,["tuningJobs"],a)}return r}function Hme(t,e){const r={},n=p(t,["name"]);n!=null&&m(r,["model"],n);const i=p(t,["name"]);return i!=null&&m(r,["endpoint"],i),r}function zme(t,e){const r={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(r,["examples","examples"],i)}return r}function Wme(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function BO(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const o=p(t,["state"]);o!=null&&m(r,["state"],nO(o));const a=p(t,["createTime"]);a!=null&&m(r,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(r,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(r,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(r,["updateTime"],c);const d=p(t,["description"]);d!=null&&m(r,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(r,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(r,["tunedModel"],Hme(h)),r}function i0(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const o=p(t,["state"]);o!=null&&m(r,["state"],nO(o));const a=p(t,["createTime"]);a!=null&&m(r,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(r,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(r,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(r,["updateTime"],c);const d=p(t,["error"]);d!=null&&m(r,["error"],d);const f=p(t,["description"]);f!=null&&m(r,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(r,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(r,["tunedModel"],g);const b=p(t,["preTunedModel"]);b!=null&&m(r,["preTunedModel"],b);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(r,["supervisedTuningSpec"],y);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&m(r,["preferenceOptimizationSpec"],v);const x=p(t,["tuningDataStats"]);x!=null&&m(r,["tuningDataStats"],x);const _=p(t,["encryptionSpec"]);_!=null&&m(r,["encryptionSpec"],_);const w=p(t,["partnerModelTuningSpec"]);w!=null&&m(r,["partnerModelTuningSpec"],w);const k=p(t,["customBaseModel"]);k!=null&&m(r,["customBaseModel"],k);const S=p(t,["experiment"]);S!=null&&m(r,["experiment"],S);const E=p(t,["labels"]);E!=null&&m(r,["labels"],E);const N=p(t,["outputUri"]);N!=null&&m(r,["outputUri"],N);const A=p(t,["pipelineJob"]);A!=null&&m(r,["pipelineJob"],A);const C=p(t,["serviceAccount"]);C!=null&&m(r,["serviceAccount"],C);const I=p(t,["tunedModelDisplayName"]);I!=null&&m(r,["tunedModelDisplayName"],I);const M=p(t,["veoTuningSpec"]);return M!=null&&m(r,["veoTuningSpec"],M),r}function Kme(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const o=p(t,["metadata"]);o!=null&&m(r,["metadata"],o);const a=p(t,["done"]);a!=null&&m(r,["done"],a);const s=p(t,["error"]);return s!=null&&m(r,["error"],s),r}function tT(t,e){const r={},n=p(t,["gcsUri"]);n!=null&&m(r,["validationDatasetUri"],n);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jme extends gi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Zo(ui.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},r),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:zv.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Lme(e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>i0(d))}else{const c=Dme(e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>BO(d))}}async listInternal(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=qme(e);return s=ce("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Gme(d),h=new TN;return Object.assign(h,f),h})}else{const c=Bme(e);return s=ce("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Vme(d),h=new TN;return Object.assign(h,f),h})}}async cancel(e){var r,n,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Pme(e);return s=ce("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=jme(d),h=new AN;return Object.assign(h,f),h})}else{const c=Cme(e);return s=ce("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ime(d),h=new AN;return Object.assign(h,f),h})}}async tuneInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$me(e,e);return o=ce("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>i0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mme(e);return o=ce("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Kme(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yme{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xme=1024*1024*8,Qme=3,Zme=1e3,ege=2,wh="x-goog-upload-status";async function tge(t,e,r){var n;const i=await qO(t,e,r),o=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[wh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function rge(t,e,r){var n;const i=await qO(t,e,r),o=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[wh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=X2(o),s=new bb;return Object.assign(s,a),s}async function qO(t,e,r){var n,i;let o=0,a=0,s=new Wv(new Response),l="upload";for(o=t.size;a<o;){const c=Math.min(Xme,o-a),d=t.slice(a,a+c);a+c>=o&&(l+=", finalize");let f=0,h=Zme;for(;f<Qme&&(s=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((n=s==null?void 0:s.headers)===null||n===void 0)&&n[wh]));)f++,await ige(h),h=h*ege;if(a+=c,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[wh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function nge(t){return{size:t.size,type:t.type}}function ige(t){return new Promise(e=>setTimeout(e,t))}class oge{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tge(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rge(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nge(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class age{create(e,r,n){return new sge(e,r,n)}}class sge{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rT="x-goog-api-key";class lge{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(rT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(rT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uge="gl-node/";class cge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=iue(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new lge(this.apiKey);this.apiClient=new npe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:uge+"web",uploader:new oge,downloader:new Yme}),this.models=new _pe(this.apiClient),this.live=new gpe(this.apiClient,i,new age),this.batches=new Oce(this.apiClient),this.chats=new pde(this.models,this.apiClient),this.caches=new dde(this.apiClient),this.files=new Ede(this.apiClient),this.operations=new Spe(this.apiClient),this.authTokens=new Upe(this.apiClient),this.tunings=new Jme(this.apiClient),this.fileSearchStores=new Wpe(this.apiClient)}}const dge=({user:t})=>{const[e,r]=T.useState(!1),[n,i]=T.useState(""),[o,a]=T.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=T.useState(!1),c=T.useRef(null);T.useEffect(()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{try{const{data:h}=await Ae.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(x=>{const _=x.data||{};return{code:x.tracking_code,title:x.title,status:_.status||x.status,equipment:_.equipName||"",failure:_.failureDesc,date:x.created_at,requester:_.requester}}),{data:b}=await Ae.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),y=(b||[]).map(x=>{const _=x.data||{};return{part:_.partName,qty:_.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:y})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!n.trim())return;const g={id:Date.now().toString(),role:"user",text:n};a(b=>[...b,g]),i(""),l(!0);try{const b=new cge({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await b.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+n}]}],config:{temperature:.3}})).text||"    .";a(_=>[..._,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(b){console.error("AI Error:",b);let y=`: ${b.message||"      ."}`;b.message&&b.message.toLowerCase().includes("failed to fetch")?y=`        .

         (VPN)        .`:b.message&&(b.message.includes("403")||b.message.includes("400"))&&(y="  API        ."),a(v=>[...v,{id:(Date.now()+1).toString(),role:"model",text:y}])}finally{l(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>r(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?u.jsx(It,{className:"w-6 h-6"}):u.jsx(SD,{className:"w-7 h-7"})}),e&&u.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[u.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:u.jsx(zD,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold",children:" "}),u.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>u.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:u.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[u.jsx(Pt,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),u.jsx("div",{ref:c})]}),u.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[u.jsx("input",{type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),u.jsx("button",{type:"submit",disabled:s||!n.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:u.jsx(sf,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},fge=()=>{const[t,e]=T.useState(0),[r,n]=T.useState(!1);return T.useEffect(()=>{setTimeout(()=>n(!0),2500);const i=4e3,o=30,s=100/(i/o),l=setInterval(()=>{e(c=>c>=100?(clearInterval(l),100):Math.min(c+s,100))},o);return()=>{clearInterval(l)}},[]),u.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),u.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[u.jsx("div",{className:"w-48 h-48 mb-6 relative",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:"w-full h-full drop-shadow-xl",children:[u.jsx("defs",{children:u.jsxs("filter",{id:"softGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),u.jsx("path",{d:"M100 25 L175 165 H25 L100 25 Z",stroke:"#7f1d1d",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"logo-part-triangle"}),u.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",children:[u.jsx("path",{d:"M100 180 L150 155 L100 130 L50 155 Z",fill:"#7f1d1d",stroke:"#7f1d1d",strokeWidth:"4",className:"logo-part-rhombus-bottom"}),u.jsx("path",{d:"M100 145 L140 120 L100 95 L60 120 Z",fill:"#991b1b",stroke:"#991b1b",strokeWidth:"4",className:"logo-part-rhombus-middle"}),u.jsx("path",{d:"M100 110 L130 90 L100 70 L70 90 Z",fill:"#b91c1c",stroke:"#b91c1c",strokeWidth:"4",className:"logo-part-rhombus-top"})]}),u.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#7f1d1d",className:"logo-part-dot"})]})}),u.jsxs("div",{className:`text-center transition-all duration-1000 transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[u.jsx("h1",{className:"text-3xl font-black text-[#800020] dark:text-red-400 mb-2 tracking-wide",children:"  "}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-10",children:"    "})]}),u.jsx("div",{className:"w-48 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-500 rounded-full transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(128,0,32,0.5)]",style:{width:`${t}%`}})})]}),u.jsx("style",{children:`
        /* 1. Triangle Drawing Animation */
        .logo-part-triangle {
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            opacity: 0.3;
            animation: drawTriangle 2.5s ease-out forwards;
        }
        @keyframes drawTriangle {
            0% { stroke-dashoffset: 600; opacity: 0; }
            100% { stroke-dashoffset: 0; opacity: 0.3; }
        }

        /* 2. Rhombus Assembly Animations */
        /* Staggered to complete by approx 3.8s */
        .logo-part-rhombus-bottom {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 0.8s;
        }
        .logo-part-rhombus-middle {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 1.6s;
        }
        .logo-part-rhombus-top {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 2.4s;
        }

        @keyframes assemblePart {
            0% { opacity: 0; transform: translateY(25px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* 3. Dot Pop In (Last piece) */
        .logo-part-dot {
            opacity: 0;
            transform-origin: center;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            animation-delay: 3.2s;
        }
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }
      `})]})},nT=300*1e3,hge=()=>{const[t,e]=T.useState(!0),[r,n]=T.useState(()=>{try{const g=localStorage.getItem("lastActivityTime");if(g&&Date.now()-parseInt(g,10)>nT)return localStorage.removeItem("currentUser"),null;const b=localStorage.getItem("currentUser");return b?JSON.parse(b):null}catch(g){return console.error("Failed to parse user from local storage",g),localStorage.removeItem("currentUser"),null}}),[i,o]=T.useState(()=>localStorage.getItem("theme")==="dark"),[a,s]=T.useState(()=>localStorage.getItem("snowMode")==="true"),l=T.useRef(null);T.useEffect(()=>{const g=setTimeout(()=>{e(!1)},6e3);return()=>clearTimeout(g)},[]);const c=T.useCallback(async(g=!1)=>{if(r){const b=await Jw();try{await Ae.from("system_logs").insert([{user_id:r.id,user_name:r.fullName,personnel_code:r.personnelCode||"---",action:g?"  ( )":"  ",ip_address:b,details:`Logout Time: ${rt()} ${ts()}`}])}catch(x){console.error("Logout logging failed:",x)}const y=localStorage.getItem("theme"),v=localStorage.getItem("snowMode");localStorage.clear(),y&&localStorage.setItem("theme",y),v&&localStorage.setItem("snowMode",v)}n(null),g&&alert("               .")},[r]),d=T.useCallback(()=>{r&&(localStorage.setItem("lastActivityTime",Date.now().toString()),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{c(!0)},nT))},[r,c]);T.useEffect(()=>{if(!r)return;const g=["mousedown","mousemove","keydown","scroll","touchstart"],b=()=>d();return g.forEach(y=>document.addEventListener(y,b)),d(),()=>{g.forEach(y=>document.removeEventListener(y,b)),l.current&&clearTimeout(l.current)}},[r,d]),T.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),T.useEffect(()=>{localStorage.setItem("snowMode",String(a))},[a]);const f=async g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g)),localStorage.setItem("lastActivityTime",Date.now().toString());try{const b=await Jw();await Ae.from("system_logs").insert([{user_id:g.id,user_name:g.fullName,personnel_code:g.personnelCode||(g.username==="admin"?"9999":"0000"),action:"  ",ip_address:b,details:`Role: ${g.role}`}])}catch(b){console.error("Login logging failed:",b)}},h=g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g))};return t?u.jsx(fge,{}):u.jsxs(fD,{children:[u.jsx(Zle,{enabled:a}),r&&u.jsx(dge,{user:r}),u.jsx(J4,{user:r,onLogout:()=>c(!1),darkMode:i,toggleDarkMode:()=>o(!i),children:u.jsxs(uD,{children:[u.jsx(ct,{path:"/login",element:r?u.jsx(pt,{to:"/"}):u.jsx(X4,{onLogin:f})}),u.jsx(ct,{path:"/",element:r?u.jsx(jle,{}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/inbox",element:r?u.jsx(zle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/messages",element:r?u.jsx(Wle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/notes",element:r?u.jsx(Kle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/reports",element:r?u.jsx(Yle,{}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/shift-report",element:r?u.jsx(Qle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/work-orders",element:r?u.jsx(Mle,{}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/work-orders/new",element:r?u.jsx(yb,{}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/projects",element:r?u.jsx(Gle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/performance",element:r?u.jsx(Hle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/part-requests",element:r?u.jsx(Lle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/inspections",element:r?u.jsx(Dle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/documents",element:r?u.jsx(Ule,{}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/meetings",element:r?u.jsx(Fle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/suggestions",element:r?u.jsx(Ble,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/purchases",element:r?u.jsx(qle,{user:r}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"/workflow-designer",element:(r==null?void 0:r.role)===fr.ADMIN?u.jsx(Jle,{}):u.jsx(pt,{to:"/"})}),u.jsx(ct,{path:"/admin",element:(r==null?void 0:r.role)===fr.ADMIN?u.jsx(Rle,{}):u.jsx(pt,{to:"/"})}),u.jsx(ct,{path:"/settings",element:r?u.jsx(Vle,{user:r,onUpdateUser:h,snowMode:a,setSnowMode:s}):u.jsx(pt,{to:"/login"})}),u.jsx(ct,{path:"*",element:u.jsx(pt,{to:"/"})})]})})]})};class pge extends D.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){var e;return this.state.hasError?u.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[u.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),u.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),u.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),u.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const VO=document.getElementById("root");if(!VO)throw new Error("Failed to find the root element");const mge=ug.createRoot(VO);mge.render(u.jsx(D.StrictMode,{children:u.jsx(pge,{children:u.jsx(hge,{})})}));
