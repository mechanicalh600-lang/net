function pR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _N={exports:{}},Th={},SN={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),mR=Symbol.for("react.portal"),gR=Symbol.for("react.fragment"),yR=Symbol.for("react.strict_mode"),vR=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),wR=Symbol.for("react.forward_ref"),_R=Symbol.for("react.suspense"),SR=Symbol.for("react.memo"),ER=Symbol.for("react.lazy"),Bb=Symbol.iterator;function TR(t){return t===null||typeof t!="object"?null:(t=Bb&&t[Bb]||t["@@iterator"],typeof t=="function"?t:null)}var EN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TN=Object.assign,kN={};function js(t,e,n){this.props=t,this.context=e,this.refs=kN,this.updater=n||EN}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NN(){}NN.prototype=js.prototype;function d0(t,e,n){this.props=t,this.context=e,this.refs=kN,this.updater=n||EN}var f0=d0.prototype=new NN;f0.constructor=d0;TN(f0,js.prototype);f0.isPureReactComponent=!0;var Fb=Array.isArray,AN=Object.prototype.hasOwnProperty,h0={current:null},CN={key:!0,ref:!0,__self:!0,__source:!0};function PN(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)AN.call(e,r)&&!CN.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ac,type:t,key:o,ref:a,props:i,_owner:h0.current}}function kR(t,e){return{$$typeof:ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function p0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ac}function NR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qb=/\/+/g;function tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NR(""+t.key):e.toString(36)}function md(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ac:case mR:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+tm(a,0):r,Fb(i)?(n="",t!=null&&(n=t.replace(qb,"$&/")+"/"),md(i,e,n,"",function(c){return c})):i!=null&&(p0(i)&&(i=kR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(qb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Fb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+tm(o,s);a+=md(o,e,n,l,i)}else if(l=TR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+tm(o,s++),a+=md(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cc(t,e,n){if(t==null)return t;var r=[],i=0;return md(t,r,"","",function(o){return e.call(n,o,i++)}),r}function AR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},gd={transition:null},CR={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:gd,ReactCurrentOwner:h0};function IN(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!p0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=js;Ie.Fragment=gR;Ie.Profiler=vR;Ie.PureComponent=d0;Ie.StrictMode=yR;Ie.Suspense=_R;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;Ie.act=IN;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TN({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=h0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)AN.call(e,l)&&!CN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ac,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:bR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xR,_context:t},t.Consumer=t};Ie.createElement=PN;Ie.createFactory=function(t){var e=PN.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:wR,render:t}};Ie.isValidElement=p0;Ie.lazy=function(t){return{$$typeof:ER,_payload:{_status:-1,_result:t},_init:AR}};Ie.memo=function(t,e){return{$$typeof:SR,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};Ie.unstable_act=IN;Ie.useCallback=function(t,e){return cn.current.useCallback(t,e)};Ie.useContext=function(t){return cn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return cn.current.useEffect(t,e)};Ie.useId=function(){return cn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return cn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Ie.useRef=function(t){return cn.current.useRef(t)};Ie.useState=function(t){return cn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return cn.current.useTransition()};Ie.version="18.3.1";SN.exports=Ie;var N=SN.exports;const M=Ve(N),PR=pR({__proto__:null,default:M},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=N,jR=Symbol.for("react.element"),OR=Symbol.for("react.fragment"),RR=Object.prototype.hasOwnProperty,MR=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$R={key:!0,ref:!0,__self:!0,__source:!0};function jN(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)RR.call(e,r)&&!$R.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jR,type:t,key:o,ref:a,props:i,_owner:MR.current}}Th.Fragment=OR;Th.jsx=jN;Th.jsxs=jN;_N.exports=Th;var u=_N.exports,mg={},ON={exports:{}},Mn={},RN={exports:{}},MN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,W){var J=q.length;q.push(W);e:for(;0<J;){var ne=J-1>>>1,Q=q[ne];if(0<i(Q,W))q[ne]=W,q[J]=Q,J=ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],J=q.pop();if(J!==W){q[0]=J;e:for(var ne=0,Q=q.length,ce=Q>>>1;ne<ce;){var Ee=2*(ne+1)-1,Te=q[Ee],Me=Ee+1,_e=q[Me];if(0>i(Te,J))Me<Q&&0>i(_e,Te)?(q[ne]=_e,q[Me]=J,ne=Me):(q[ne]=Te,q[Ee]=J,ne=Ee);else if(Me<Q&&0>i(_e,J))q[ne]=_e,q[Me]=J,ne=Me;else break e}}return W}function i(q,W){var J=q.sortIndex-W.sortIndex;return J!==0?J:q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=q)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function E(q){if(y=!1,_(q),!v)if(n(l)!==null)v=!0,F(S);else{var W=n(c);W!==null&&U(E,W.startTime-q)}}function S(q,W){v=!1,y&&(y=!1,x(A),A=-1),m=!0;var J=h;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||q&&!R());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var Q=ne(f.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var Ee=n(c);Ee!==null&&U(E,Ee.startTime-W),ce=!1}return ce}finally{f=null,h=J,m=!1}}var T=!1,k=null,A=-1,C=5,O=-1;function R(){return!(t.unstable_now()-O<C)}function D(){if(k!==null){var q=t.unstable_now();O=q;var W=!0;try{W=k(!0,q)}finally{W?L():(T=!1,k=null)}}else T=!1}var L;if(typeof b=="function")L=function(){b(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,j=$.port2;$.port1.onmessage=D,L=function(){j.postMessage(null)}}else L=function(){w(D,0)};function F(q){k=q,T||(T=!0,L())}function U(q,W){A=w(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,F(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var J=h;h=W;try{return q()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=h;h=q;try{return W()}finally{h=J}},t.unstable_scheduleCallback=function(q,W,J){var ne=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=J+Q,q={id:d++,callback:W,priorityLevel:q,startTime:J,expirationTime:Q,sortIndex:-1},J>ne?(q.sortIndex=J,e(c,q),n(l)===null&&q===n(c)&&(y?(x(A),A=-1):y=!0,U(E,J-ne))):(q.sortIndex=Q,e(l,q),v||m||(v=!0,F(S))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var W=h;return function(){var J=h;h=W;try{return q.apply(this,arguments)}finally{h=J}}}})(MN);RN.exports=MN;var DR=RN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=N,Rn=DR;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $N=new Set,Jl={};function zo(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(Jl[t]=e,t=0;t<e.length;t++)$N.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=Object.prototype.hasOwnProperty,UR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vb={},Gb={};function BR(t){return gg.call(Gb,t)?!0:gg.call(Vb,t)?!1:UR.test(t)?Gb[t]=!0:(Vb[t]=!0,!1)}function FR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qR(t,e,n,r){if(e===null||typeof e>"u"||FR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var m0=/[\-:]([a-z])/g;function g0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m0,g0);Ht[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m0,g0);Ht[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m0,g0);Ht[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function y0(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qR(e,n,i,r)&&(n=null),r||i===null?BR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),xa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),LN=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),xg=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),UN=Symbol.for("react.offscreen"),Hb=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=Hb&&t[Hb]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,nm;function _l(t){if(nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nm=e&&e[1]||""}return`
`+nm+t}var rm=!1;function im(t,e){if(!t||rm)return"";rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_l(t):""}function VR(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function bg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ba:return"Fragment";case xa:return"Portal";case yg:return"Profiler";case v0:return"StrictMode";case vg:return"Suspense";case xg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LN:return(t.displayName||"Context")+".Consumer";case DN:return(t._context.displayName||"Context")+".Provider";case x0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b0:return e=t.displayName||null,e!==null?e:bg(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return bg(t(e))}catch{}}return null}function GR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bg(e);case 8:return e===v0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HR(t){var e=BN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ic(t){t._valueTracker||(t._valueTracker=HR(t))}function FN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wg(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qN(t,e){e=e.checked,e!=null&&y0(t,"checked",e,!1)}function _g(t,e){qN(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sg(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sg(t,e,n){(e!=="number"||Pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function Ua(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Sl(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function VN(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jc,HN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zR=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){zR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function zN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function WN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WR=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(WR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=null;function w0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cg=null,Ba=null,Fa=null;function Yb(t){if(t=uc(t)){if(typeof Cg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Ph(e),Cg(t.stateNode,t.type,e))}}function KN(t){Ba?Fa?Fa.push(t):Fa=[t]:Ba=t}function JN(){if(Ba){var t=Ba,e=Fa;if(Fa=Ba=null,Yb(t),e)for(t=0;t<e.length;t++)Yb(e[t])}}function YN(t,e){return t(e)}function XN(){}var om=!1;function QN(t,e,n){if(om)return t(e,n);om=!0;try{return YN(t,e,n)}finally{om=!1,(Ba!==null||Fa!==null)&&(XN(),JN())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Pg=!1;if(ri)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Pg=!1}function KR(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Pl=!1,Id=null,jd=!1,Ig=null,JR={onError:function(t){Pl=!0,Id=t}};function YR(t,e,n,r,i,o,a,s,l){Pl=!1,Id=null,KR.apply(JR,arguments)}function XR(t,e,n,r,i,o,a,s,l){if(YR.apply(this,arguments),Pl){if(Pl){var c=Id;Pl=!1,Id=null}else throw Error(re(198));jd||(jd=!0,Ig=c)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(t){if(Wo(t)!==t)throw Error(re(188))}function QR(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xb(i),t;if(o===r)return Xb(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function eA(t){return t=QR(t),t!==null?tA(t):null}function tA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tA(t);if(e!==null)return e;t=t.sibling}return null}var nA=Rn.unstable_scheduleCallback,Qb=Rn.unstable_cancelCallback,ZR=Rn.unstable_shouldYield,eM=Rn.unstable_requestPaint,yt=Rn.unstable_now,tM=Rn.unstable_getCurrentPriorityLevel,_0=Rn.unstable_ImmediatePriority,rA=Rn.unstable_UserBlockingPriority,Od=Rn.unstable_NormalPriority,nM=Rn.unstable_LowPriority,iA=Rn.unstable_IdlePriority,kh=null,Ar=null;function rM(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(kh,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:aM,iM=Math.log,oM=Math.LN2;function aM(t){return t>>>=0,t===0?32:31-(iM(t)/oM|0)|0}var Oc=64,Rc=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=El(s):(o&=a,o!==0&&(r=El(o)))}else a=n&~i,a!==0?r=El(a):o!==0&&(r=El(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function sM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-hr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=sM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oA(){var t=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),t}function am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function uM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function S0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function aA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sA,E0,lA,uA,cA,Og=!1,Mc=[],Mi=null,$i=null,Di=null,Ql=new Map,Zl=new Map,ki=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zb(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function il(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&E0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dM(t,e,n,r,i){switch(e){case"focusin":return Mi=il(Mi,t,e,n,r,i),!0;case"dragenter":return $i=il($i,t,e,n,r,i),!0;case"mouseover":return Di=il(Di,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ql.set(o,il(Ql.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zl.set(o,il(Zl.get(o)||null,t,e,n,r,i)),!0}return!1}function dA(t){var e=wo(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=ZN(n),e!==null){t.blockedOn=e,cA(t.priority,function(){lA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ag=r,n.target.dispatchEvent(r),Ag=null}else return e=uc(n),e!==null&&E0(e),t.blockedOn=n,!1;e.shift()}return!0}function ew(t,e,n){yd(t)&&n.delete(e)}function fM(){Og=!1,Mi!==null&&yd(Mi)&&(Mi=null),$i!==null&&yd($i)&&($i=null),Di!==null&&yd(Di)&&(Di=null),Ql.forEach(ew),Zl.forEach(ew)}function ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Og||(Og=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,fM)))}function eu(t){function e(i){return ol(i,t)}if(0<Mc.length){ol(Mc[0],t);for(var n=1;n<Mc.length;n++){var r=Mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&ol(Mi,t),$i!==null&&ol($i,t),Di!==null&&ol(Di,t),Ql.forEach(e),Zl.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)dA(n),n.blockedOn===null&&ki.shift()}var qa=di.ReactCurrentBatchConfig,Md=!0;function hM(t,e,n,r){var i=qe,o=qa.transition;qa.transition=null;try{qe=1,T0(t,e,n,r)}finally{qe=i,qa.transition=o}}function pM(t,e,n,r){var i=qe,o=qa.transition;qa.transition=null;try{qe=4,T0(t,e,n,r)}finally{qe=i,qa.transition=o}}function T0(t,e,n,r){if(Md){var i=Rg(t,e,n,r);if(i===null)gm(t,e,r,$d,n),Zb(t,r);else if(dM(i,t,e,n,r))r.stopPropagation();else if(Zb(t,r),e&4&&-1<cM.indexOf(t)){for(;i!==null;){var o=uc(i);if(o!==null&&sA(o),o=Rg(t,e,n,r),o===null&&gm(t,e,r,$d,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gm(t,e,r,null,n)}}var $d=null;function Rg(t,e,n,r){if($d=null,t=w0(r),t=wo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function fA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tM()){case _0:return 1;case rA:return 4;case Od:case nM:return 16;case iA:return 536870912;default:return 16}default:return 16}}var Pi=null,k0=null,vd=null;function hA(){if(vd)return vd;var t,e=k0,n=e.length,r,i="value"in Pi?Pi.value:Pi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return vd=i.slice(t,1<r?1-r:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $c(){return!0}function tw(){return!1}function $n(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$c:tw,this.isPropagationStopped=tw,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N0=$n(Os),lc=dt({},Os,{view:0,detail:0}),mM=$n(lc),sm,lm,al,Nh=dt({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(sm=t.screenX-al.screenX,lm=t.screenY-al.screenY):lm=sm=0,al=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),nw=$n(Nh),gM=dt({},Nh,{dataTransfer:0}),yM=$n(gM),vM=dt({},lc,{relatedTarget:0}),um=$n(vM),xM=dt({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),bM=$n(xM),wM=dt({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_M=$n(wM),SM=dt({},Os,{data:0}),rw=$n(SM),EM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kM[t])?!!e[t]:!1}function A0(){return NM}var AM=dt({},lc,{key:function(t){if(t.key){var e=EM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A0,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CM=$n(AM),PM=dt({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=$n(PM),IM=dt({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A0}),jM=$n(IM),OM=dt({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),RM=$n(OM),MM=dt({},Nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$M=$n(MM),DM=[9,13,27,32],C0=ri&&"CompositionEvent"in window,Il=null;ri&&"documentMode"in document&&(Il=document.documentMode);var LM=ri&&"TextEvent"in window&&!Il,pA=ri&&(!C0||Il&&8<Il&&11>=Il),ow=" ",aw=!1;function mA(t,e){switch(t){case"keyup":return DM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function UM(t,e){switch(t){case"compositionend":return gA(e);case"keypress":return e.which!==32?null:(aw=!0,ow);case"textInput":return t=e.data,t===ow&&aw?null:t;default:return null}}function BM(t,e){if(wa)return t==="compositionend"||!C0&&mA(t,e)?(t=hA(),vd=k0=Pi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pA&&e.locale!=="ko"?null:e.data;default:return null}}var FM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FM[t.type]:e==="textarea"}function yA(t,e,n,r){KN(r),e=Dd(e,"onChange"),0<e.length&&(n=new N0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,tu=null;function qM(t){AA(t,0)}function Ah(t){var e=Ea(t);if(FN(e))return t}function VM(t,e){if(t==="change")return e}var vA=!1;if(ri){var cm;if(ri){var dm="oninput"in document;if(!dm){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),dm=typeof lw.oninput=="function"}cm=dm}else cm=!1;vA=cm&&(!document.documentMode||9<document.documentMode)}function uw(){jl&&(jl.detachEvent("onpropertychange",xA),tu=jl=null)}function xA(t){if(t.propertyName==="value"&&Ah(tu)){var e=[];yA(e,tu,t,w0(t)),QN(qM,e)}}function GM(t,e,n){t==="focusin"?(uw(),jl=e,tu=n,jl.attachEvent("onpropertychange",xA)):t==="focusout"&&uw()}function HM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(tu)}function zM(t,e){if(t==="click")return Ah(e)}function WM(t,e){if(t==="input"||t==="change")return Ah(e)}function KM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:KM;function nu(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gg.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dw(t,e){var n=cw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cw(n)}}function bA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wA(){for(var t=window,e=Pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pd(t.document)}return e}function P0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JM(t){var e=wA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bA(n.ownerDocument.documentElement,n)){if(r!==null&&P0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=dw(n,o);var a=dw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YM=ri&&"documentMode"in document&&11>=document.documentMode,_a=null,Mg=null,Ol=null,$g=!1;function fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$g||_a==null||_a!==Pd(r)||(r=_a,"selectionStart"in r&&P0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&nu(Ol,r)||(Ol=r,r=Dd(Mg,"onSelect"),0<r.length&&(e=new N0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_a)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},fm={},_A={};ri&&(_A=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ch(t){if(fm[t])return fm[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _A)return fm[t]=e[n];return t}var SA=Ch("animationend"),EA=Ch("animationiteration"),TA=Ch("animationstart"),kA=Ch("transitionend"),NA=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){NA.set(t,e),zo(e,[t])}for(var hm=0;hm<hw.length;hm++){var pm=hw[hm],XM=pm.toLowerCase(),QM=pm[0].toUpperCase()+pm.slice(1);Ji(XM,"on"+QM)}Ji(SA,"onAnimationEnd");Ji(EA,"onAnimationIteration");Ji(TA,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(kA,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function pw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XR(r,e,void 0,t),t.currentTarget=null}function AA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;pw(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;pw(i,s,c),o=l}}}if(jd)throw t=Ig,jd=!1,Ig=null,t}function tt(t,e){var n=e[Fg];n===void 0&&(n=e[Fg]=new Set);var r=t+"__bubble";n.has(r)||(CA(e,t,2,!1),n.add(r))}function mm(t,e,n){var r=0;e&&(r|=4),CA(n,t,r,e)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Lc]){t[Lc]=!0,$N.forEach(function(n){n!=="selectionchange"&&(ZM.has(n)||mm(n,!1,t),mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lc]||(e[Lc]=!0,mm("selectionchange",!1,e))}}function CA(t,e,n,r){switch(fA(e)){case 1:var i=hM;break;case 4:i=pM;break;default:i=T0}n=i.bind(null,e,n,t),i=void 0,!Pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=wo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}QN(function(){var c=o,d=w0(n),f=[];e:{var h=NA.get(t);if(h!==void 0){var m=N0,v=t;switch(t){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":m=CM;break;case"focusin":v="focus",m=um;break;case"focusout":v="blur",m=um;break;case"beforeblur":case"afterblur":m=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jM;break;case SA:case EA:case TA:m=bM;break;case kA:m=RM;break;case"scroll":m=mM;break;case"wheel":m=$M;break;case"copy":case"cut":case"paste":m=_M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iw}var y=(e&4)!==0,w=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,_;b!==null;){_=b;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=Xl(b,x),E!=null&&y.push(iu(b,E,_)))),w)break;b=b.return}0<y.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Ag&&(v=n.relatedTarget||n.fromElement)&&(wo(v)||v[ii]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?wo(v):null,v!==null&&(w=Wo(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=nw,E="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=iw,E="onPointerLeave",x="onPointerEnter",b="pointer"),w=m==null?h:Ea(m),_=v==null?h:Ea(v),h=new y(E,b+"leave",m,n,d),h.target=w,h.relatedTarget=_,E=null,wo(d)===c&&(y=new y(x,b+"enter",v,n,d),y.target=_,y.relatedTarget=w,E=y),w=E,m&&v)t:{for(y=m,x=v,b=0,_=y;_;_=ia(_))b++;for(_=0,E=x;E;E=ia(E))_++;for(;0<b-_;)y=ia(y),b--;for(;0<_-b;)x=ia(x),_--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=ia(y),x=ia(x)}y=null}else y=null;m!==null&&mw(f,h,m,y,!1),v!==null&&w!==null&&mw(f,w,v,y,!0)}}e:{if(h=c?Ea(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=VM;else if(sw(h))if(vA)S=WM;else{S=HM;var T=GM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=zM);if(S&&(S=S(t,c))){yA(f,S,n,d);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Sg(h,"number",h.value)}switch(T=c?Ea(c):window,t){case"focusin":(sw(T)||T.contentEditable==="true")&&(_a=T,Mg=c,Ol=null);break;case"focusout":Ol=Mg=_a=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,fw(f,n,d);break;case"selectionchange":if(YM)break;case"keydown":case"keyup":fw(f,n,d)}var k;if(C0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wa?mA(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(pA&&n.locale!=="ko"&&(wa||A!=="onCompositionStart"?A==="onCompositionEnd"&&wa&&(k=hA()):(Pi=d,k0="value"in Pi?Pi.value:Pi.textContent,wa=!0)),T=Dd(c,A),0<T.length&&(A=new rw(A,t,null,n,d),f.push({event:A,listeners:T}),k?A.data=k:(k=gA(n),k!==null&&(A.data=k)))),(k=LM?UM(t,n):BM(t,n))&&(c=Dd(c,"onBeforeInput"),0<c.length&&(d=new rw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}AA(f,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xl(t,n),o!=null&&r.unshift(iu(t,o,i)),o=Xl(t,e),o!=null&&r.push(iu(t,o,i))),t=t.return}return r}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Xl(n,o),l!=null&&a.unshift(iu(n,l,s))):i||(l=Xl(n,o),l!=null&&a.push(iu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var e$=/\r\n?/g,t$=/\u0000|\uFFFD/g;function gw(t){return(typeof t=="string"?t:""+t).replace(e$,`
`).replace(t$,"")}function Uc(t,e,n){if(e=gw(e),gw(t)!==e&&n)throw Error(re(425))}function Ld(){}var Dg=null,Lg=null;function Ug(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,n$=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,r$=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(t){return yw.resolve(null).then(t).catch(i$)}:Bg;function i$(t){setTimeout(function(){throw t})}function ym(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Rs,ou="__reactProps$"+Rs,ii="__reactContainer$"+Rs,Fg="__reactEvents$"+Rs,o$="__reactListeners$"+Rs,a$="__reactHandles$"+Rs;function wo(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vw(t);t!==null;){if(n=t[Tr])return n;t=vw(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[Tr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Ph(t){return t[ou]||null}var qg=[],Ta=-1;function Yi(t){return{current:t}}function it(t){0>Ta||(t.current=qg[Ta],qg[Ta]=null,Ta--)}function Ze(t,e){Ta++,qg[Ta]=t.current,t.current=e}var zi={},Zt=Yi(zi),gn=Yi(!1),Mo=zi;function Za(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function Ud(){it(gn),it(Zt)}function xw(t,e,n){if(Zt.current!==zi)throw Error(re(168));Ze(Zt,e),Ze(gn,n)}function PA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,GR(t)||"Unknown",i));return dt({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Mo=Zt.current,Ze(Zt,t),Ze(gn,gn.current),!0}function bw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=PA(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,it(gn),it(Zt),Ze(Zt,t)):it(gn),Ze(gn,n)}var Hr=null,Ih=!1,vm=!1;function IA(t){Hr===null?Hr=[t]:Hr.push(t)}function s$(t){Ih=!0,IA(t)}function Xi(){if(!vm&&Hr!==null){vm=!0;var t=0,e=qe;try{var n=Hr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Ih=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),nA(_0,Xi),i}finally{qe=e,vm=!1}}return null}var ka=[],Na=0,Fd=null,qd=0,qn=[],Vn=0,$o=null,zr=1,Wr="";function co(t,e){ka[Na++]=qd,ka[Na++]=Fd,Fd=t,qd=e}function jA(t,e,n){qn[Vn++]=zr,qn[Vn++]=Wr,qn[Vn++]=$o,$o=t;var r=zr;t=Wr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var o=32-hr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zr=1<<32-hr(e)+i|n<<i|r,Wr=o+t}else zr=1<<o|n<<i|r,Wr=t}function I0(t){t.return!==null&&(co(t,1),jA(t,1,0))}function j0(t){for(;t===Fd;)Fd=ka[--Na],ka[Na]=null,qd=ka[--Na],ka[Na]=null;for(;t===$o;)$o=qn[--Vn],qn[Vn]=null,Wr=qn[--Vn],qn[Vn]=null,zr=qn[--Vn],qn[Vn]=null}var In=null,Pn=null,ot=!1,dr=null;function OA(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ww(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Pn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:zr,overflow:Wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Pn=null,!0):!1;default:return!1}}function Vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(ot){var e=Pn;if(e){var n=e;if(!ww(t,e)){if(Vg(t))throw Error(re(418));e=Li(n.nextSibling);var r=In;e&&ww(t,e)?OA(r,n):(t.flags=t.flags&-4097|2,ot=!1,In=t)}}else{if(Vg(t))throw Error(re(418));t.flags=t.flags&-4097|2,ot=!1,In=t}}}function _w(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Bc(t){if(t!==In)return!1;if(!ot)return _w(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ug(t.type,t.memoizedProps)),e&&(e=Pn)){if(Vg(t))throw RA(),Error(re(418));for(;e;)OA(t,e),e=Li(e.nextSibling)}if(_w(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=In?Li(t.stateNode.nextSibling):null;return!0}function RA(){for(var t=Pn;t;)t=Li(t.nextSibling)}function es(){Pn=In=null,ot=!1}function O0(t){dr===null?dr=[t]:dr.push(t)}var l$=di.ReactCurrentBatchConfig;function sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Fc(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sw(t){var e=t._init;return e(t._payload)}function MA(t){function e(x,b){if(t){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=qi(x,b),x.index=0,x.sibling=null,x}function o(x,b,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,b,_,E){return b===null||b.tag!==6?(b=Tm(_,x.mode,E),b.return=x,b):(b=i(b,_),b.return=x,b)}function l(x,b,_,E){var S=_.type;return S===ba?d(x,b,_.props.children,E,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_i&&Sw(S)===b.type)?(E=i(b,_.props),E.ref=sl(x,b,_),E.return=x,E):(E=kd(_.type,_.key,_.props,null,x.mode,E),E.ref=sl(x,b,_),E.return=x,E)}function c(x,b,_,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=km(_,x.mode,E),b.return=x,b):(b=i(b,_.children||[]),b.return=x,b)}function d(x,b,_,E,S){return b===null||b.tag!==7?(b=Po(_,x.mode,E,S),b.return=x,b):(b=i(b,_),b.return=x,b)}function f(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Tm(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:return _=kd(b.type,b.key,b.props,null,x.mode,_),_.ref=sl(x,null,b),_.return=x,_;case xa:return b=km(b,x.mode,_),b.return=x,b;case _i:var E=b._init;return f(x,E(b._payload),_)}if(Sl(b)||nl(b))return b=Po(b,x.mode,_,null),b.return=x,b;Fc(x,b)}return null}function h(x,b,_,E){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,b,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pc:return _.key===S?l(x,b,_,E):null;case xa:return _.key===S?c(x,b,_,E):null;case _i:return S=_._init,h(x,b,S(_._payload),E)}if(Sl(_)||nl(_))return S!==null?null:d(x,b,_,E,null);Fc(x,_)}return null}function m(x,b,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,s(b,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pc:return x=x.get(E.key===null?_:E.key)||null,l(b,x,E,S);case xa:return x=x.get(E.key===null?_:E.key)||null,c(b,x,E,S);case _i:var T=E._init;return m(x,b,_,T(E._payload),S)}if(Sl(E)||nl(E))return x=x.get(_)||null,d(b,x,E,S,null);Fc(b,E)}return null}function v(x,b,_,E){for(var S=null,T=null,k=b,A=b=0,C=null;k!==null&&A<_.length;A++){k.index>A?(C=k,k=null):C=k.sibling;var O=h(x,k,_[A],E);if(O===null){k===null&&(k=C);break}t&&k&&O.alternate===null&&e(x,k),b=o(O,b,A),T===null?S=O:T.sibling=O,T=O,k=C}if(A===_.length)return n(x,k),ot&&co(x,A),S;if(k===null){for(;A<_.length;A++)k=f(x,_[A],E),k!==null&&(b=o(k,b,A),T===null?S=k:T.sibling=k,T=k);return ot&&co(x,A),S}for(k=r(x,k);A<_.length;A++)C=m(k,x,A,_[A],E),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?A:C.key),b=o(C,b,A),T===null?S=C:T.sibling=C,T=C);return t&&k.forEach(function(R){return e(x,R)}),ot&&co(x,A),S}function y(x,b,_,E){var S=nl(_);if(typeof S!="function")throw Error(re(150));if(_=S.call(_),_==null)throw Error(re(151));for(var T=S=null,k=b,A=b=0,C=null,O=_.next();k!==null&&!O.done;A++,O=_.next()){k.index>A?(C=k,k=null):C=k.sibling;var R=h(x,k,O.value,E);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(x,k),b=o(R,b,A),T===null?S=R:T.sibling=R,T=R,k=C}if(O.done)return n(x,k),ot&&co(x,A),S;if(k===null){for(;!O.done;A++,O=_.next())O=f(x,O.value,E),O!==null&&(b=o(O,b,A),T===null?S=O:T.sibling=O,T=O);return ot&&co(x,A),S}for(k=r(x,k);!O.done;A++,O=_.next())O=m(k,x,A,O.value,E),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?A:O.key),b=o(O,b,A),T===null?S=O:T.sibling=O,T=O);return t&&k.forEach(function(D){return e(x,D)}),ot&&co(x,A),S}function w(x,b,_,E){if(typeof _=="object"&&_!==null&&_.type===ba&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pc:e:{for(var S=_.key,T=b;T!==null;){if(T.key===S){if(S=_.type,S===ba){if(T.tag===7){n(x,T.sibling),b=i(T,_.props.children),b.return=x,x=b;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_i&&Sw(S)===T.type){n(x,T.sibling),b=i(T,_.props),b.ref=sl(x,T,_),b.return=x,x=b;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===ba?(b=Po(_.props.children,x.mode,E,_.key),b.return=x,x=b):(E=kd(_.type,_.key,_.props,null,x.mode,E),E.ref=sl(x,b,_),E.return=x,x=E)}return a(x);case xa:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(x,b.sibling),b=i(b,_.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=km(_,x.mode,E),b.return=x,x=b}return a(x);case _i:return T=_._init,w(x,b,T(_._payload),E)}if(Sl(_))return v(x,b,_,E);if(nl(_))return y(x,b,_,E);Fc(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,_),b.return=x,x=b):(n(x,b),b=Tm(_,x.mode,E),b.return=x,x=b),a(x)):n(x,b)}return w}var ts=MA(!0),$A=MA(!1),Vd=Yi(null),Gd=null,Aa=null,R0=null;function M0(){R0=Aa=Gd=null}function $0(t){var e=Vd.current;it(Vd),t._currentValue=e}function Hg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Va(t,e){Gd=t,R0=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(R0!==t)if(t={context:t,memoizedValue:e,next:null},Aa===null){if(Gd===null)throw Error(re(308));Aa=t,Gd.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return e}var _o=null;function D0(t){_o===null?_o=[t]:_o.push(t)}function DA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,D0(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Si=!1;function L0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,D0(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S0(t,n)}}function Ew(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var i=t.updateQueue;Si=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=dt({},f,h);break e;case 2:Si=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Lo|=a,t.lanes=a,t.memoizedState=f}}function Tw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var cc={},Cr=Yi(cc),au=Yi(cc),su=Yi(cc);function So(t){if(t===cc)throw Error(re(174));return t}function U0(t,e){switch(Ze(su,e),Ze(au,t),Ze(Cr,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tg(e,t)}it(Cr),Ze(Cr,e)}function ns(){it(Cr),it(au),it(su)}function UA(t){So(su.current);var e=So(Cr.current),n=Tg(e,t.type);e!==n&&(Ze(au,t),Ze(Cr,n))}function B0(t){au.current===t&&(it(Cr),it(au))}var ut=Yi(0);function zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function F0(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var wd=di.ReactCurrentDispatcher,bm=di.ReactCurrentBatchConfig,Do=0,ct=null,At=null,Rt=null,Wd=!1,Rl=!1,lu=0,u$=0;function zt(){throw Error(re(321))}function q0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function V0(t,e,n,r,i,o){if(Do=o,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wd.current=t===null||t.memoizedState===null?h$:p$,t=n(r,i),Rl){o=0;do{if(Rl=!1,lu=0,25<=o)throw Error(re(301));o+=1,Rt=At=null,e.updateQueue=null,wd.current=m$,t=n(r,i)}while(Rl)}if(wd.current=Kd,e=At!==null&&At.next!==null,Do=0,Rt=At=ct=null,Wd=!1,e)throw Error(re(300));return t}function G0(){var t=lu!==0;return lu=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Yn(){if(At===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Rt===null?ct.memoizedState:Rt.next;if(e!==null)Rt=e,At=t;else{if(t===null)throw Error(re(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function uu(t,e){return typeof e=="function"?e(t):e}function wm(t){var e=Yn(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((Do&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ct.lanes|=d,Lo|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,vr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ct.lanes|=o,Lo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _m(t){var e=Yn(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);vr(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function BA(){}function FA(t,e){var n=ct,r=Yn(),i=e(),o=!vr(r.memoizedState,i);if(o&&(r.memoizedState=i,hn=!0),r=r.queue,H0(GA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,cu(9,VA.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(re(349));Do&30||qA(n,e,i)}return i}function qA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VA(t,e,n,r){e.value=n,e.getSnapshot=r,HA(e)&&zA(t)}function GA(t,e,n){return n(function(){HA(e)&&zA(t)})}function HA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function zA(t){var e=oi(t,1);e!==null&&pr(e,t,1,-1)}function kw(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=f$.bind(null,ct,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WA(){return Yn().memoizedState}function _d(t,e,n,r){var i=Er();ct.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var i=Yn();r=r===void 0?null:r;var o=void 0;if(At!==null){var a=At.memoizedState;if(o=a.destroy,r!==null&&q0(r,a.deps)){i.memoizedState=cu(e,n,o,r);return}}ct.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function Nw(t,e){return _d(8390656,8,t,e)}function H0(t,e){return jh(2048,8,t,e)}function KA(t,e){return jh(4,2,t,e)}function JA(t,e){return jh(4,4,t,e)}function YA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XA(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,YA.bind(null,e,t),n)}function z0(){}function QA(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZA(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eC(t,e,n){return Do&21?(vr(n,e)||(n=oA(),ct.lanes|=n,Lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function c$(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=bm.transition;bm.transition={};try{t(!1),e()}finally{qe=n,bm.transition=r}}function tC(){return Yn().memoizedState}function d$(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nC(t))rC(e,n);else if(n=DA(t,e,n,r),n!==null){var i=ln();pr(n,t,r,i),iC(n,e,r)}}function f$(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nC(t))rC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,vr(s,a)){var l=e.interleaved;l===null?(i.next=i,D0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DA(t,e,i,r),n!==null&&(i=ln(),pr(n,t,r,i),iC(n,e,r))}}function nC(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function rC(t,e){Rl=Wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S0(t,n)}}var Kd={readContext:Jn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},h$={readContext:Jn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:Nw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_d(4194308,4,YA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _d(4194308,4,t,e)},useInsertionEffect:function(t,e){return _d(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d$.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:kw,useDebugValue:z0,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=kw(!1),e=t[0];return t=c$.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=Er();if(ot){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),$t===null)throw Error(re(349));Do&30||qA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Nw(GA.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,VA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Er(),e=$t.identifierPrefix;if(ot){var n=Wr,r=zr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p$={readContext:Jn,useCallback:QA,useContext:Jn,useEffect:H0,useImperativeHandle:XA,useInsertionEffect:KA,useLayoutEffect:JA,useMemo:ZA,useReducer:wm,useRef:WA,useState:function(){return wm(uu)},useDebugValue:z0,useDeferredValue:function(t){var e=Yn();return eC(e,At.memoizedState,t)},useTransition:function(){var t=wm(uu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:BA,useSyncExternalStore:FA,useId:tC,unstable_isNewReconciler:!1},m$={readContext:Jn,useCallback:QA,useContext:Jn,useEffect:H0,useImperativeHandle:XA,useInsertionEffect:KA,useLayoutEffect:JA,useMemo:ZA,useReducer:_m,useRef:WA,useState:function(){return _m(uu)},useDebugValue:z0,useDeferredValue:function(t){var e=Yn();return At===null?e.memoizedState=t:eC(e,At.memoizedState,t)},useTransition:function(){var t=_m(uu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:BA,useSyncExternalStore:FA,useId:tC,unstable_isNewReconciler:!1};function or(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oh={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Fi(t),o=Qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ui(t,o,i),e!==null&&(pr(e,t,i,r),bd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Fi(t),o=Qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ui(t,o,i),e!==null&&(pr(e,t,i,r),bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Fi(t),i=Qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(pr(e,t,r,n),bd(e,t,r))}};function Aw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,o):!0}function oC(t,e,n){var r=!1,i=zi,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=yn(e)?Mo:Zt.current,r=e.contextTypes,o=(r=r!=null)?Za(t,i):zi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oh.enqueueReplaceState(e,e.state,null)}function Wg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},L0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=yn(e)?Mo:Zt.current,i.context=Za(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oh.enqueueReplaceState(i,i.state,null),Hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rs(t,e){try{var n="",r=e;do n+=VR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Sm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var g$=typeof WeakMap=="function"?WeakMap:Map;function aC(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,iy=r),Kg(t,e)},n}function sC(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Kg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kg(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Pw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new g$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=P$.bind(null,t,e,n),e.then(t,t))}function Iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var y$=di.ReactCurrentOwner,hn=!1;function rn(t,e,n,r){e.child=t===null?$A(e,null,n,r):ts(e,t.child,n,r)}function Ow(t,e,n,r,i){n=n.render;var o=e.ref;return Va(e,i),r=V0(t,e,n,r,o,i),n=G0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(ot&&n&&I0(e),e.flags|=1,rn(t,e,r,i),e.child)}function Rw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ex(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lC(t,e,o,r,i)):(t=kd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(a,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=qi(o,r),t.ref=e.ref,t.return=e,e.child=t}function lC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nu(o,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Jg(t,e,n,r,i)}function uC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Pa,Sn),Sn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Pa,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(Pa,Sn),Sn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(Pa,Sn),Sn|=r;return rn(t,e,i,n),e.child}function cC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jg(t,e,n,r,i){var o=yn(n)?Mo:Zt.current;return o=Za(e,o),Va(e,i),n=V0(t,e,n,r,o,i),r=G0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(ot&&r&&I0(e),e.flags|=1,rn(t,e,n,i),e.child)}function Mw(t,e,n,r,i){if(yn(n)){var o=!0;Bd(e)}else o=!1;if(Va(e,i),e.stateNode===null)Sd(t,e),oC(e,n,r),Wg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jn(c):(c=yn(n)?Mo:Zt.current,c=Za(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Cw(e,a,r,c),Si=!1;var h=e.memoizedState;a.state=h,Hd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||gn.current||Si?(typeof d=="function"&&(zg(e,n,d,r),l=e.memoizedState),(s=Si||Aw(e,n,s,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,LA(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:or(e.type,s),a.props=c,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=yn(n)?Mo:Zt.current,l=Za(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Cw(e,a,r,l),Si=!1,h=e.memoizedState,a.state=h,Hd(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||gn.current||Si?(typeof m=="function"&&(zg(e,n,m,r),v=e.memoizedState),(c=Si||Aw(e,n,c,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Yg(t,e,n,r,o,i)}function Yg(t,e,n,r,i,o){cC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&bw(e,n,!1),ai(t,e,o);r=e.stateNode,y$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ts(e,t.child,null,o),e.child=ts(e,null,s,o)):rn(t,e,s,o),e.memoizedState=r.state,i&&bw(e,n,!0),e.child}function dC(t){var e=t.stateNode;e.pendingContext?xw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xw(t,e.context,!1),U0(t,e.containerInfo)}function $w(t,e,n,r,i){return es(),O0(i),e.flags|=256,rn(t,e,n,r),e.child}var Xg={dehydrated:null,treeContext:null,retryLane:0};function Qg(t){return{baseLanes:t,cachePool:null,transitions:null}}function fC(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ut,i&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$h(a,r,0,null),t=Po(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Qg(n),e.memoizedState=Xg,t):W0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return v$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=qi(s,o):(o=Po(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Qg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Xg,r}return o=t.child,t=o.sibling,r=qi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W0(t,e){return e=$h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&O0(r),ts(e,t.child,null,n),t=W0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Sm(Error(re(422))),qc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$h({mode:"visible",children:r.children},i,0,null),o=Po(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ts(e,t.child,null,a),e.child.memoizedState=Qg(a),e.memoizedState=Xg,o);if(!(e.mode&1))return qc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(re(419)),r=Sm(o,r,void 0),qc(t,e,a,r)}if(s=(a&t.childLanes)!==0,hn||s){if(r=$t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,oi(t,i),pr(r,t,i,-1))}return Z0(),r=Sm(Error(re(421))),qc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pn=Li(i.nextSibling),In=e,ot=!0,dr=null,t!==null&&(qn[Vn++]=zr,qn[Vn++]=Wr,qn[Vn++]=$o,zr=t.id,Wr=t.overflow,$o=e),e=W0(e,r.children),e.flags|=4096,e)}function Dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hg(t.return,e,n)}function Em(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(rn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dw(t,n,e);else if(t.tag===19)Dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Em(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Em(e,!0,n,null,o);break;case"together":Em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x$(t,e,n){switch(e.tag){case 3:dC(e),es();break;case 5:UA(e);break;case 1:yn(e.type)&&Bd(e);break;case 4:U0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Vd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?fC(t,e,n):(Ze(ut,ut.current&1),t=ai(t,e,n),t!==null?t.sibling:null);Ze(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,uC(t,e,n)}return ai(t,e,n)}var pC,Zg,mC,gC;pC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zg=function(){};mC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,So(Cr.current);var o=null;switch(n){case"input":i=wg(t,i),r=wg(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=Eg(t,i),r=Eg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}kg(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};gC=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b$(t,e,n){var r=e.pendingProps;switch(j0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return yn(e.type)&&Ud(),Wt(e),null;case 3:return r=e.stateNode,ns(),it(gn),it(Zt),F0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(sy(dr),dr=null))),Zg(t,e),Wt(e),null;case 5:B0(e);var i=So(su.current);if(n=e.type,t!==null&&e.stateNode!=null)mC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Wt(e),null}if(t=So(Cr.current),Bc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Tr]=e,r[ou]=o,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<Tl.length;i++)tt(Tl[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":zb(r,o),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},tt("invalid",r);break;case"textarea":Kb(r,o),tt("invalid",r)}kg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Uc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Uc(r.textContent,s,t),i=["children",""+s]):Jl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&tt("scroll",r)}switch(n){case"input":Ic(r),Wb(r,o,!0);break;case"textarea":Ic(r),Jb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ld)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Tr]=e,t[ou]=r,pC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ng(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tl.length;i++)tt(Tl[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":zb(t,r),i=wg(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Kb(t,r),i=Eg(t,r),tt("invalid",t);break;default:i=r}kg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?WN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&tt("scroll",t):l!=null&&y0(t,o,l,a))}switch(n){case"input":Ic(t),Wb(t,r,!1);break;case"textarea":Ic(t),Jb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ua(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)gC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=So(su.current),So(Cr.current),Bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(o=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Wt(e),null;case 13:if(it(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Pn!==null&&e.mode&1&&!(e.flags&128))RA(),es(),e.flags|=98560,o=!1;else if(o=Bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Tr]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else dr!==null&&(sy(dr),dr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):Z0())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ns(),Zg(t,e),t===null&&ru(e.stateNode.containerInfo),Wt(e),null;case 10:return $0(e.type._context),Wt(e),null;case 17:return yn(e.type)&&Ud(),Wt(e),null;case 19:if(it(ut),o=e.memoizedState,o===null)return Wt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ll(o,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zd(t),a!==null){for(e.flags|=128,ll(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&yt()>is&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=zd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ot)return Wt(e),null}else 2*yt()-o.renderingStartTime>is&&n!==1073741824&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=yt(),e.sibling=null,n=ut.current,Ze(ut,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function w$(t,e){switch(j0(e),e.tag){case 1:return yn(e.type)&&Ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),it(gn),it(Zt),F0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return B0(e),null;case 13:if(it(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ut),null;case 4:return ns(),null;case 10:return $0(e.type._context),null;case 22:case 23:return Q0(),null;case 24:return null;default:return null}}var Vc=!1,Yt=!1,_$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function ey(t,e,n){try{n()}catch(r){ht(t,e,r)}}var Lw=!1;function S$(t,e){if(Dg=Md,t=wA(),P0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lg={focusedElem:t,selectionRange:n},Md=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:or(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(E){ht(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=Lw,Lw=!1,v}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ey(e,n,o)}i=i.next}while(i!==r)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ty(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yC(t){var e=t.alternate;e!==null&&(t.alternate=null,yC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[ou],delete e[Fg],delete e[o$],delete e[a$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vC(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(ny(t,e,n),t=t.sibling;t!==null;)ny(t,e,n),t=t.sibling}function ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ry(t,e,n),t=t.sibling;t!==null;)ry(t,e,n),t=t.sibling}var Vt=null,sr=!1;function wi(t,e,n){for(n=n.child;n!==null;)xC(t,e,n),n=n.sibling}function xC(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 5:Yt||Ca(n,e);case 6:var r=Vt,i=sr;Vt=null,wi(t,e,n),Vt=r,sr=i,Vt!==null&&(sr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(sr?(t=Vt,n=n.stateNode,t.nodeType===8?ym(t.parentNode,n):t.nodeType===1&&ym(t,n),eu(t)):ym(Vt,n.stateNode));break;case 4:r=Vt,i=sr,Vt=n.stateNode.containerInfo,sr=!0,wi(t,e,n),Vt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ey(n,e,a),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!Yt&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ht(n,e,s)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,wi(t,e,n),Yt=r):wi(t,e,n);break;default:wi(t,e,n)}}function Bw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _$),e.forEach(function(r){var i=j$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,sr=!1;break e;case 3:Vt=s.stateNode.containerInfo,sr=!0;break e;case 4:Vt=s.stateNode.containerInfo,sr=!0;break e}s=s.return}if(Vt===null)throw Error(re(160));xC(o,a,i),Vt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ht(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bC(e,t),e=e.sibling}function bC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Sr(t),r&4){try{Ml(3,t,t.return),Rh(3,t)}catch(y){ht(t,t.return,y)}try{Ml(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:nr(e,t),Sr(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(nr(e,t),Sr(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&qN(i,o),Ng(s,a);var c=Ng(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?WN(i,f):d==="dangerouslySetInnerHTML"?HN(i,f):d==="children"?Yl(i,f):y0(i,d,f,c)}switch(s){case"input":_g(i,o);break;case"textarea":VN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ua(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ua(i,!!o.multiple,o.defaultValue,!0):Ua(i,!!o.multiple,o.multiple?[]:"",!1))}i[ou]=o}catch(y){ht(t,t.return,y)}}break;case 6:if(nr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ht(t,t.return,y)}}break;case 3:if(nr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:nr(e,t),Sr(t);break;case 13:nr(e,t),Sr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Y0=yt())),r&4&&Bw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(c=Yt)||d,nr(e,t),Yt=c):nr(e,t),Sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(h=fe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ml(4,h,h.return);break;case 1:Ca(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:Ca(h,h.return);break;case 22:if(h.memoizedState!==null){qw(f);continue}}m!==null?(m.return=h,fe=m):qw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=zN("display",a))}catch(y){ht(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){ht(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(e,t),Sr(t),r&4&&Bw(t);break;case 21:break;default:nr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vC(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var o=Uw(t);ry(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Uw(t);ny(t,s,a);break;default:throw Error(re(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E$(t,e,n){fe=t,wC(t)}function wC(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Vc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Yt;s=Vc;var c=Yt;if(Vc=a,(Yt=l)&&!c)for(fe=i;fe!==null;)a=fe,l=a.child,a.tag===22&&a.memoizedState!==null?Vw(i):l!==null?(l.return=a,fe=l):Vw(i);for(;o!==null;)fe=o,wC(o),o=o.sibling;fe=i,Vc=s,Yt=c}Fw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):Fw(t)}}function Fw(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Tw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Yt||e.flags&512&&ty(e)}catch(h){ht(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function qw(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Vw(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var o=e.return;try{ty(e)}catch(l){ht(e,o,l)}break;case 5:var a=e.return;try{ty(e)}catch(l){ht(e,a,l)}}}catch(l){ht(e,e.return,l)}if(e===t){fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,fe=s;break}fe=e.return}}var T$=Math.ceil,Jd=di.ReactCurrentDispatcher,K0=di.ReactCurrentOwner,Wn=di.ReactCurrentBatchConfig,Re=0,$t=null,_t=null,Gt=0,Sn=0,Pa=Yi(0),Pt=0,du=null,Lo=0,Mh=0,J0=0,$l=null,fn=null,Y0=0,is=1/0,qr=null,Yd=!1,iy=null,Bi=null,Gc=!1,Ii=null,Xd=0,Dl=0,oy=null,Ed=-1,Td=0;function ln(){return Re&6?yt():Ed!==-1?Ed:Ed=yt()}function Fi(t){return t.mode&1?Re&2&&Gt!==0?Gt&-Gt:l$.transition!==null?(Td===0&&(Td=oA()),Td):(t=qe,t!==0||(t=window.event,t=t===void 0?16:fA(t.type)),t):1}function pr(t,e,n,r){if(50<Dl)throw Dl=0,oy=null,Error(re(185));sc(t,n,r),(!(Re&2)||t!==$t)&&(t===$t&&(!(Re&2)&&(Mh|=n),Pt===4&&Ni(t,Gt)),vn(t,r),n===1&&Re===0&&!(e.mode&1)&&(is=yt()+500,Ih&&Xi()))}function vn(t,e){var n=t.callbackNode;lM(t,e);var r=Rd(t,t===$t?Gt:0);if(r===0)n!==null&&Qb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qb(n),e===1)t.tag===0?s$(Gw.bind(null,t)):IA(Gw.bind(null,t)),r$(function(){!(Re&6)&&Xi()}),n=null;else{switch(aA(r)){case 1:n=_0;break;case 4:n=rA;break;case 16:n=Od;break;case 536870912:n=iA;break;default:n=Od}n=CC(n,_C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _C(t,e){if(Ed=-1,Td=0,Re&6)throw Error(re(327));var n=t.callbackNode;if(Ga()&&t.callbackNode!==n)return null;var r=Rd(t,t===$t?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qd(t,r);else{e=r;var i=Re;Re|=2;var o=EC();($t!==t||Gt!==e)&&(qr=null,is=yt()+500,Co(t,e));do try{A$();break}catch(s){SC(t,s)}while(!0);M0(),Jd.current=o,Re=i,_t!==null?e=0:($t=null,Gt=0,e=Pt)}if(e!==0){if(e===2&&(i=jg(t),i!==0&&(r=i,e=ay(t,i))),e===1)throw n=du,Co(t,0),Ni(t,r),vn(t,yt()),n;if(e===6)Ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!k$(i)&&(e=Qd(t,r),e===2&&(o=jg(t),o!==0&&(r=o,e=ay(t,o))),e===1))throw n=du,Co(t,0),Ni(t,r),vn(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:fo(t,fn,qr);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=Y0+500-yt(),10<e)){if(Rd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bg(fo.bind(null,t,fn,qr),e);break}fo(t,fn,qr);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T$(r/1960))-r,10<r){t.timeoutHandle=Bg(fo.bind(null,t,fn,qr),r);break}fo(t,fn,qr);break;case 5:fo(t,fn,qr);break;default:throw Error(re(329))}}}return vn(t,yt()),t.callbackNode===n?_C.bind(null,t):null}function ay(t,e){var n=$l;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=Qd(t,e),t!==2&&(e=fn,fn=n,e!==null&&sy(e)),t}function sy(t){fn===null?fn=t:fn.push.apply(fn,t)}function k$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!vr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~J0,e&=~Mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Gw(t){if(Re&6)throw Error(re(327));Ga();var e=Rd(t,0);if(!(e&1))return vn(t,yt()),null;var n=Qd(t,e);if(t.tag!==0&&n===2){var r=jg(t);r!==0&&(e=r,n=ay(t,r))}if(n===1)throw n=du,Co(t,0),Ni(t,e),vn(t,yt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,fn,qr),vn(t,yt()),null}function X0(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(is=yt()+500,Ih&&Xi())}}function Uo(t){Ii!==null&&Ii.tag===0&&!(Re&6)&&Ga();var e=Re;Re|=1;var n=Wn.transition,r=qe;try{if(Wn.transition=null,qe=1,t)return t()}finally{qe=r,Wn.transition=n,Re=e,!(Re&6)&&Xi()}}function Q0(){Sn=Pa.current,it(Pa)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,n$(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(j0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ud();break;case 3:ns(),it(gn),it(Zt),F0();break;case 5:B0(r);break;case 4:ns();break;case 13:it(ut);break;case 19:it(ut);break;case 10:$0(r.type._context);break;case 22:case 23:Q0()}n=n.return}if($t=t,_t=t=qi(t.current,null),Gt=Sn=e,Pt=0,du=null,J0=Mh=Lo=0,fn=$l=null,_o!==null){for(e=0;e<_o.length;e++)if(n=_o[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}_o=null}return t}function SC(t,e){do{var n=_t;try{if(M0(),wd.current=Kd,Wd){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wd=!1}if(Do=0,Rt=At=ct=null,Rl=!1,lu=0,K0.current=null,n===null||n.return===null){Pt=1,du=e,_t=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Gt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Iw(a);if(m!==null){m.flags&=-257,jw(m,a,s,o,e),m.mode&1&&Pw(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Pw(o,c,e),Z0();break e}l=Error(re(426))}}else if(ot&&s.mode&1){var w=Iw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jw(w,a,s,o,e),O0(rs(l,s));break e}}o=l=rs(l,s),Pt!==4&&(Pt=2),$l===null?$l=[o]:$l.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=aC(o,l,e);Ew(o,x);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bi===null||!Bi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=sC(o,s,e);Ew(o,E);break e}}o=o.return}while(o!==null)}kC(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function EC(){var t=Jd.current;return Jd.current=Kd,t===null?Kd:t}function Z0(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),$t===null||!(Lo&268435455)&&!(Mh&268435455)||Ni($t,Gt)}function Qd(t,e){var n=Re;Re|=2;var r=EC();($t!==t||Gt!==e)&&(qr=null,Co(t,e));do try{N$();break}catch(i){SC(t,i)}while(!0);if(M0(),Re=n,Jd.current=r,_t!==null)throw Error(re(261));return $t=null,Gt=0,Pt}function N$(){for(;_t!==null;)TC(_t)}function A$(){for(;_t!==null&&!ZR();)TC(_t)}function TC(t){var e=AC(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?kC(t):_t=e,K0.current=null}function kC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w$(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,_t=null;return}}else if(n=b$(n,e,Sn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Pt===0&&(Pt=5)}function fo(t,e,n){var r=qe,i=Wn.transition;try{Wn.transition=null,qe=1,C$(t,e,n,r)}finally{Wn.transition=i,qe=r}return null}function C$(t,e,n,r){do Ga();while(Ii!==null);if(Re&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uM(t,o),t===$t&&(_t=$t=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gc||(Gc=!0,CC(Od,function(){return Ga(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var a=qe;qe=1;var s=Re;Re|=4,K0.current=null,S$(t,n),bC(n,t),JM(Lg),Md=!!Dg,Lg=Dg=null,t.current=n,E$(n),eM(),Re=s,qe=a,Wn.transition=o}else t.current=n;if(Gc&&(Gc=!1,Ii=t,Xd=i),o=t.pendingLanes,o===0&&(Bi=null),rM(n.stateNode),vn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yd)throw Yd=!1,t=iy,iy=null,t;return Xd&1&&t.tag!==0&&Ga(),o=t.pendingLanes,o&1?t===oy?Dl++:(Dl=0,oy=t):Dl=0,Xi(),null}function Ga(){if(Ii!==null){var t=aA(Xd),e=Wn.transition,n=qe;try{if(Wn.transition=null,qe=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,Xd=0,Re&6)throw Error(re(331));var i=Re;for(Re|=4,fe=t.current;fe!==null;){var o=fe,a=o.child;if(fe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(fe=c;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:Ml(8,d,o)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var h=d.sibling,m=d.return;if(yC(d),d===c){fe=null;break}if(h!==null){h.return=m,fe=h;break}fe=m}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}fe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,fe=a;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ml(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,fe=x;break e}fe=o.return}}var b=t.current;for(fe=b;fe!==null;){a=fe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,fe=_;else e:for(a=b;fe!==null;){if(s=fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Rh(9,s)}}catch(S){ht(s,s.return,S)}if(s===a){fe=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,fe=E;break e}fe=s.return}}if(Re=i,Xi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(kh,t)}catch{}r=!0}return r}finally{qe=n,Wn.transition=e}}return!1}function Hw(t,e,n){e=rs(n,e),e=aC(t,e,1),t=Ui(t,e,1),e=ln(),t!==null&&(sc(t,1,e),vn(t,e))}function ht(t,e,n){if(t.tag===3)Hw(t,t,n);else for(;e!==null;){if(e.tag===3){Hw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=rs(n,t),t=sC(e,t,1),e=Ui(e,t,1),t=ln(),e!==null&&(sc(e,1,t),vn(e,t));break}}e=e.return}}function P$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Gt&n)===n&&(Pt===4||Pt===3&&(Gt&130023424)===Gt&&500>yt()-Y0?Co(t,0):J0|=n),vn(t,e)}function NC(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var n=ln();t=oi(t,e),t!==null&&(sc(t,e,n),vn(t,n))}function I$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NC(t,n)}function j$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),NC(t,n)}var AC;AC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,x$(t,e,n);hn=!!(t.flags&131072)}else hn=!1,ot&&e.flags&1048576&&jA(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sd(t,e),t=e.pendingProps;var i=Za(e,Zt.current);Va(e,n),i=V0(null,e,r,t,i,n);var o=G0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(o=!0,Bd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,L0(e),i.updater=Oh,e.stateNode=i,i._reactInternals=e,Wg(e,r,t,n),e=Yg(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&I0(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R$(r),t=or(r,t),i){case 0:e=Jg(null,e,r,t,n);break e;case 1:e=Mw(null,e,r,t,n);break e;case 11:e=Ow(null,e,r,t,n);break e;case 14:e=Rw(null,e,r,or(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Jg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Mw(t,e,r,i,n);case 3:e:{if(dC(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,LA(t,e),Hd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=rs(Error(re(423)),e),e=$w(t,e,r,n,i);break e}else if(r!==i){i=rs(Error(re(424)),e),e=$w(t,e,r,n,i);break e}else for(Pn=Li(e.stateNode.containerInfo.firstChild),In=e,ot=!0,dr=null,n=$A(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===i){e=ai(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return UA(e),t===null&&Gg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Ug(r,i)?a=null:o!==null&&Ug(r,o)&&(e.flags|=32),cC(t,e),rn(t,e,a,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return fC(t,e,n);case 4:return U0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ts(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Ow(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ze(Vd,r._currentValue),r._currentValue=a,o!==null)if(vr(o.value,a)){if(o.children===i.children&&!gn.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hg(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(re(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Hg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Va(e,n),i=Jn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),Rw(t,e,r,i,n);case 15:return lC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Sd(t,e),e.tag=1,yn(r)?(t=!0,Bd(e)):t=!1,Va(e,n),oC(e,r,i),Wg(e,r,i,n),Yg(null,e,r,!0,t,n);case 19:return hC(t,e,n);case 22:return uC(t,e,n)}throw Error(re(156,e.tag))};function CC(t,e){return nA(t,e)}function O$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new O$(t,e,n,r)}function ex(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R$(t){if(typeof t=="function")return ex(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x0)return 11;if(t===b0)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")ex(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ba:return Po(n.children,i,o,e);case v0:a=8,i|=8;break;case yg:return t=Hn(12,n,e,i|2),t.elementType=yg,t.lanes=o,t;case vg:return t=Hn(13,n,e,i),t.elementType=vg,t.lanes=o,t;case xg:return t=Hn(19,n,e,i),t.elementType=xg,t.lanes=o,t;case UN:return $h(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DN:a=10;break e;case LN:a=9;break e;case x0:a=11;break e;case b0:a=14;break e;case _i:a=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Hn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Po(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function $h(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=UN,t.lanes=n,t.stateNode={isHidden:!1},t}function Tm(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function km(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=am(0),this.expirationTimes=am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=am(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tx(t,e,n,r,i,o,a,s,l){return t=new M$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(o),t}function $$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PC(t){if(!t)return zi;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(yn(n))return PA(t,n,e)}return e}function IC(t,e,n,r,i,o,a,s,l){return t=tx(n,r,!0,t,i,o,a,s,l),t.context=PC(null),n=t.current,r=ln(),i=Fi(n),o=Qr(r,i),o.callback=e??null,Ui(n,o,i),t.current.lanes=i,sc(t,i,r),vn(t,r),t}function Dh(t,e,n,r){var i=e.current,o=ln(),a=Fi(i);return n=PC(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,a),t!==null&&(pr(t,i,a,o),bd(t,i,a)),a}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nx(t,e){zw(t,e),(t=t.alternate)&&zw(t,e)}function D$(){return null}var jC=typeof reportError=="function"?reportError:function(t){console.error(t)};function rx(t){this._internalRoot=t}Lh.prototype.render=rx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Dh(t,e,null,null)};Lh.prototype.unmount=rx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){Dh(null,t,null,null)}),e[ii]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=uA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&dA(t)}};function ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function L$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Zd(a);o.call(c)}}var a=IC(e,r,t,0,null,!1,!1,"",Ww);return t._reactRootContainer=a,t[ii]=a.current,ru(t.nodeType===8?t.parentNode:t),Uo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Zd(l);s.call(c)}}var l=tx(t,0,!1,null,null,!1,!1,"",Ww);return t._reactRootContainer=l,t[ii]=l.current,ru(t.nodeType===8?t.parentNode:t),Uo(function(){Dh(e,l,n,r)}),l}function Bh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Zd(a);s.call(l)}}Dh(e,a,t,i)}else a=L$(n,e,t,i,r);return Zd(a)}sA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(S0(e,n|1),vn(e,yt()),!(Re&6)&&(is=yt()+500,Xi()))}break;case 13:Uo(function(){var r=oi(t,1);if(r!==null){var i=ln();pr(r,t,1,i)}}),nx(t,1)}};E0=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=ln();pr(e,t,134217728,n)}nx(t,134217728)}};lA=function(t){if(t.tag===13){var e=Fi(t),n=oi(t,e);if(n!==null){var r=ln();pr(n,t,e,r)}nx(t,e)}};uA=function(){return qe};cA=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};Cg=function(t,e,n){switch(e){case"input":if(_g(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ph(r);if(!i)throw Error(re(90));FN(r),_g(r,i)}}}break;case"textarea":VN(t,n);break;case"select":e=n.value,e!=null&&Ua(t,!!n.multiple,e,!1)}};YN=X0;XN=Uo;var U$={usingClientEntryPoint:!1,Events:[uc,Ea,Ph,KN,JN,X0]},ul={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B$={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eA(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||D$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{kh=Hc.inject(B$),Ar=Hc}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U$;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ix(e))throw Error(re(200));return $$(t,e,null,n)};Mn.createRoot=function(t,e){if(!ix(t))throw Error(re(299));var n=!1,r="",i=jC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tx(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,ru(t.nodeType===8?t.parentNode:t),new rx(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=eA(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Uo(t)};Mn.hydrate=function(t,e,n){if(!Uh(e))throw Error(re(200));return Bh(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!ix(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=jC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IC(e,null,t,1,n??null,i,!1,o,a),t[ii]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};Mn.render=function(t,e,n){if(!Uh(e))throw Error(re(200));return Bh(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Uh(t))throw Error(re(40));return t._reactRootContainer?(Uo(function(){Bh(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Mn.unstable_batchedUpdates=X0;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uh(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Bh(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function OC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OC)}catch(t){console.error(t)}}OC(),ON.exports=Mn;var F$=ON.exports,Kw=F$;mg.createRoot=Kw.createRoot,mg.hydrateRoot=Kw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const Jw="popstate";function q$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=Ko(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),ly("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:RC(o))}function r(i,o){Fh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return G$(e,n,r,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V$(){return Math.random().toString(36).substr(2,8)}function Yw(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n,r){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:n,key:e&&e.key||r||V$()})}function RC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function G$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=ji.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(fu({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=ji.Pop;let w=d(),x=w==null?null:w-c;c=w,l&&l({action:s,location:y.location,delta:x})}function h(w,x){s=ji.Push;let b=ly(y.location,w,x);n&&n(b,w),c=d()+1;let _=Yw(b,c),E=y.createHref(b);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:s,location:y.location,delta:1})}function m(w,x){s=ji.Replace;let b=ly(y.location,w,x);n&&n(b,w),c=d();let _=Yw(b,c),E=y.createHref(b);a.replaceState(_,"",E),o&&l&&l({action:s,location:y.location,delta:0})}function v(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:RC(w);return b=b.replace(/ $/,"%20"),St(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return s},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Jw,f),l=w,()=>{i.removeEventListener(Jw,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(w){return a.go(w)}};return y}var Xw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xw||(Xw={}));function H$(t,e,n){return n===void 0&&(n="/"),z$(t,e,n)}function z$(t,e,n,r){let i=typeof e=="string"?Ko(e):e,o=DC(i.pathname||"/",n);if(o==null)return null;let a=MC(t);W$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=oD(o);s=nD(a[l],c)}return s}function MC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(St(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Io([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(St(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MC(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:eD(c,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of $C(o.path))i(o,a,l)}),e}function $C(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=$C(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function W$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K$=/^:[\w-]+$/,J$=3,Y$=2,X$=1,Q$=10,Z$=-2,Qw=t=>t==="*";function eD(t,e){let n=t.split("/"),r=n.length;return n.some(Qw)&&(r+=Z$),e&&(r+=Y$),n.filter(i=>!Qw(i)).reduce((i,o)=>i+(K$.test(o)?J$:o===""?X$:Q$),r)}function tD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nD(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=rD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Io([o,f.pathname]),pathnameBase:cD(Io([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Io([o,f.pathnameBase]))}return a}function rD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function iD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const aD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sD=t=>aD.test(t);function lD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ko(t):t,o;if(n)if(sD(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Fh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Zw(n.substring(1),"/"):o=Zw(n,e)}else o=e;return{pathname:o,search:dD(r),hash:fD(i)}}function Zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LC(t,e){let n=uD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ko(t):(i=fu({},t),St(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=lD(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),cD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BC=["post","put","patch","delete"];new Set(BC);const pD=["get",...BC];new Set(pD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const ox=N.createContext(null),mD=N.createContext(null),dc=N.createContext(null),qh=N.createContext(null),Jo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),FC=N.createContext(null);function fc(){return N.useContext(qh)!=null}function Vh(){return fc()||St(!1),N.useContext(qh).location}function qC(t){N.useContext(dc).static||N.useLayoutEffect(t)}function Ms(){let{isDataRoute:t}=N.useContext(Jo);return t?AD():gD()}function gD(){fc()||St(!1);let t=N.useContext(ox),{basename:e,future:n,navigator:r}=N.useContext(dc),{matches:i}=N.useContext(Jo),{pathname:o}=Vh(),a=JSON.stringify(LC(i,n.v7_relativeSplatPath)),s=N.useRef(!1);return qC(()=>{s.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=UC(c,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Io([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function yD(t,e){return vD(t,e)}function vD(t,e,n,r){fc()||St(!1);let{navigator:i}=N.useContext(dc),{matches:o}=N.useContext(Jo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Vh(),d;if(e){var f;let w=typeof e=="string"?Ko(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||St(!1),d=w}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=H$(t,{pathname:m}),y=SD(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Io([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Io([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?N.createElement(qh.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ji.Pop}},y):y}function xD(){let t=ND(),e=hD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const bD=N.createElement(xD,null);class wD extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Jo.Provider,{value:this.props.routeContext},N.createElement(FC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _D(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(ox);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Jo.Provider,{value:e},r)}function SD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||St(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,v=!1,y=null,w=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||bD,l&&(c<0&&h===0?(CD("route-fallback"),v=!0,w=null):c===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),b=()=>{let _;return m?_=y:v?_=w:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,N.createElement(_D,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(wD,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var VC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VC||{}),GC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GC||{});function ED(t){let e=N.useContext(ox);return e||St(!1),e}function TD(t){let e=N.useContext(mD);return e||St(!1),e}function kD(t){let e=N.useContext(Jo);return e||St(!1),e}function HC(t){let e=kD(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function ND(){var t;let e=N.useContext(FC),n=TD(),r=HC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AD(){let{router:t}=ED(VC.UseNavigateStable),e=HC(GC.UseNavigateStable),n=N.useRef(!1);return qC(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hu({fromRouteId:e},o)))},[t,e])}const e_={};function CD(t,e,n){e_[t]||(e_[t]=!0)}function PD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vt(t){let{to:e,replace:n,state:r,relative:i}=t;fc()||St(!1);let{future:o,static:a}=N.useContext(dc),{matches:s}=N.useContext(Jo),{pathname:l}=Vh(),c=Ms(),d=UC(e,LC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function gt(t){St(!1)}function ID(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ji.Pop,navigator:o,static:a=!1,future:s}=t;fc()&&St(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:o,static:a,future:hu({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ko(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=r,y=N.useMemo(()=>{let w=DC(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:v},navigationType:i}},[l,d,f,h,m,v,i]);return y==null?null:N.createElement(dc.Provider,{value:c},N.createElement(qh.Provider,{children:n,value:y}))}function jD(t){let{children:e,location:n}=t;return yD(uy(e),n)}new Promise(()=>{});function uy(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,uy(r.props.children,o));return}r.type!==gt&&St(!1),!r.props.index||!r.props.children||St(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uy(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const OD="6";try{window.__reactRouterVersion=OD}catch{}const RD="startTransition",t_=PR[RD];function MD(t){let{basename:e,children:n,future:r,window:i}=t,o=N.useRef();o.current==null&&(o.current=q$({window:i,v5Compat:!0}));let a=o.current,[s,l]=N.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=N.useCallback(f=>{c&&t_?t_(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.useEffect(()=>PD(r),[r]),N.createElement(ID,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var n_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n_||(n_={}));var r_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r_||(r_={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},d)=>N.createElement("svg",{ref:d,...$D,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${DD(t)}`,s].join(" "),...c},[...e.map(([f,h])=>N.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=te("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=te("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=te("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=te("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=te("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=te("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=te("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=te("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=te("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=te("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=te("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=te("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=te("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=te("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=te("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=te("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=te("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=te("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=te("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=te("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=te("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),NL="2.5.0",Am=[{id:"dashboard",title:"",icon:VD,path:"/"},{id:"reports-group",title:"",icon:QD,path:"#",submenu:[{id:"shiftreport",title:" ",icon:cy,path:"/shift-report"},{id:"reports",title:"",icon:eP,path:"/reports"}]},{id:"inbox",title:" ",icon:af,path:"/inbox"},{id:"messages",title:"",icon:ZC,path:"/messages"},{id:"workorders",title:" ",icon:iP,path:"/work-orders"},{id:"projects",title:"",icon:tf,path:"/projects"},{id:"performance",title:" ",icon:ax,path:"/performance"},{id:"partrequest",title:" ",icon:lf,path:"/part-requests"},{id:"inspections",title:" ",icon:JC,path:"/inspections"},{id:"documents",title:" ",icon:ef,path:"/documents"},{id:"meetings",title:"",icon:of,path:"/meetings"},{id:"suggestions",title:" ",icon:sf,path:"/suggestions"},{id:"purchases",title:" ",icon:df,path:"/purchases"},{id:"workflow",title:" ",icon:XC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:Ds,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:cx,path:"/settings"}],AL=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],CL=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}];var pn=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(pn||{});const Vi=()=>Math.random().toString(36).substring(2,9),oP=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},dx=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},st=()=>{const t=new Date,e=dx(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},mu=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Qi=t=>{const e=new Date,n=dx(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},as=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=oP(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},PL=(t,e,n,r)=>{const i=as(t),o=as(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},IL=(t,e,n,r)=>{const i=as(t),o=as(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},hf=t=>{const e=as(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},l_="192.168.1.105";function Jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}const OL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class RL extends fx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class u_ extends fx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class c_ extends fx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fy||(fy={}));class ML{constructor(e,{headers:n={},customFetch:r,region:i=fy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=OL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jL(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let w=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:w}).catch(S=>{throw new RL(S)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new u_(x);if(!x.ok)throw new c_(x);let _=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield x.json():_==="application/octet-stream"||_==="application/pdf"?E=yield x.blob():_==="text/event-stream"?E=x:_==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof c_||s instanceof u_?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var $L=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},DL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,c=200,d="OK")}catch{o.status===404&&y===""?(c=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&n.shouldThrowOnError)throw new $L(a)}return{error:a,data:s,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var c,d,f,h;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},LL=class extends DL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const d_=new RegExp("[,()]");var ma=class extends LL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&d_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&d_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},UL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ma({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new ma({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ma({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ma({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ma({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},BL=class aP{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new UL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new aP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new ma({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class FL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qL="2.89.0",VL=`realtime-js/${qL}`,sP="1.0.0",GL="2.0.0",f_=sP,hy=1e4,HL=1e3,zL=100;var Ei;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ei||(Ei={}));var Nt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Nt||(Nt={}));var lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lr||(lr={}));var py;(function(t){t.websocket="websocket"})(py||(py={}));var vo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vo||(vo={}));class WL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,c.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(c,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(y++,x.charCodeAt(0)));var w=new Uint8Array(m.byteLength+r.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(r),m.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class lP{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ye||(Ye={}));const h_=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=KL(a,t,e,i),o),{}):{}},KL=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?uP(o,a):my(a)},uP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return QL(e,n)}switch(t){case Ye.bool:return JL(e);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return YL(e);case Ye.json:case Ye.jsonb:return XL(e);case Ye.timestamp:return ZL(e);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return my(e);default:return my(e)}},my=t=>t,JL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},QL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>uP(e,s))}return t},ZL=t=>typeof t=="string"?t.replace(" ","T"):t,cP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Cm{constructor(e,n,r={},i=hy){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var p_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(p_||(p_={}));class Bl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Bl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=o[c];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),v=d.filter(w=>m.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(s[c]=v),y.length>0&&(l[c]=y)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m_||(m_={}));var Fl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fl||(Fl={}));var Vr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vr||(Vr={}));class Ia{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cm(this,lr.join,this.params,this.timeout),this.rejoinTimer=new lP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Bl(this),this.broadcastEndpointURL=cP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Fl.PRESENCE]&&this.bindings[Fl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Vr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Vr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Vr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let b=0;b<w;b++){const _=y[b],{filter:{event:E,schema:S,table:T,filter:k}}=_,A=m&&m[b];if(A&&A.event===E&&Ia.isFilterValueEqual(A.schema,S)&&Ia.isFilterValueEqual(A.table,T)&&Ia.isFilterValueEqual(A.filter,k))x.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=Nt.errored,e==null||e(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Vr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Nt.errored,e==null||e(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Nt.joined&&e===Fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Cm(this,lr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=lr;if(r&&[s,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,y,w;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var v,y,w,x,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:w,commit_timestamp:x,type:b,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:x,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ia.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lr.close,{},e)}_onError(e){this._on(lr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=h_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=h_(e.columns,e.old_record)),n}}const Pm=()=>{},zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e4=[1e3,2e3,5e3,1e4],t4=1e4,n4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r4{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hy,this.transport=null,this.heartbeatIntervalMs=zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pm,this.ref=0,this.reconnectTimer=null,this.vsn=f_,this.logger=Pm,this.conn=null,this.sendBuffer=[],this.serializer=new WL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${py.websocket}`,this.httpEndpoint=cP(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ei.connecting:return vo.Connecting;case Ei.open:return vo.Open;case Ei.closing:return vo.Closing;default:return vo.Closed}}isConnected(){return this.connectionState()===vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Ia(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ei.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ei.open||this.conn.readyState===Ei.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([n4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:VL};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(lr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,c,d,f,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:hy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Pm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:f_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>e4[v-1]||t4,this.vsn){case sP:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case GL:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var gu=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i4(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function o4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function a4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=i4(t.baseUrl,r,i),l=await o4(t.auth),c=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const m=f?h:void 0,v=m==null?void 0:m.error;throw new gu((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:c.status,headers:c.headers,data:h}}}}function Wc(t){return t.join("")}var s4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`}),!0}catch(e){if(e instanceof gu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof gu&&n.status===409)return;throw n}}};function oa(t){return t.join("")}var l4=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oa(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof gu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof gu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},u4=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a4({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new s4(this.client,e),this.tableOps=new l4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Yh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var c4=class extends Yh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gy=class extends Yh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const hx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d4=()=>Response,yy=t=>{if(Array.isArray(t))return t.map(n=>yy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=yy(r)}),e},f4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},h4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function p4(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m4(t){var e=p4(t,"string");return yu(e)=="symbol"?e:e+""}function g4(t,e,n){return(e=m4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){g4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Im=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},y4=async(t,e,n)=>{t instanceof await d4()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new c4(Im(r),i,o))}).catch(r=>{e(new gy(Im(r),r))}):e(new gy(Im(t),t))},v4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(f4(r)?(i.headers=we({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),we(we({},i),n))};async function pc(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,v4(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>y4(l,s,r))})}async function vu(t,e,n,r){return pc(t,"GET",e,n,r)}async function ar(t,e,n,r,i){return pc(t,"POST",e,r,i,n)}async function vy(t,e,n,r,i){return pc(t,"PUT",e,r,i,n)}async function x4(t,e,n,r){return pc(t,"HEAD",e,we(we({},n),{},{noResolveJson:!0}),r)}async function px(t,e,n,r,i){return pc(t,"DELETE",e,r,i,n)}var b4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}}};let dP;dP=Symbol.toStringTag;var w4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[dP]="BlobDownloadBuilder",this.promise=null}asStream(){return new b4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}}};const _4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=hx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=we(we({},y_),r);let s=we(we({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=we(we({},s),r.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),f=await(t=="PUT"?vy:ar)(i.fetch,`${i.url}/object/${d}`,o,we({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const c=we({upsert:y_.upsert},r),d=we(we({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await vy(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=we({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await ar(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Yh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await ar(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await ar(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await ar(r.fetch,`${r.url}/object/sign/${i}`,we({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await ar(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>we(we({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>vu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new w4(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:yy(await vu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await x4(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(lt(r)&&r instanceof gy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await px(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=we(we(we({},_4),e),{},{prefix:t||""});return{data:await ar(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=we({},t);return{data:await ar(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const fP="2.89.0",hP={"X-Client-Info":`storage-js/${fP}`};var E4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=we(we({},hP),e),this.fetch=hx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await vu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await vu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await ar(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await vy(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await ar(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await px(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},T4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=we(we({},hP),e),this.fetch=hx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ar(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await vu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await px(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!h4(t))throw new Yh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new u4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const mx={"X-Client-Info":`storage-js/${fP}`,"Content-Type":"application/json"};var pP=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var jm=class extends pP{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},k4=class extends pP{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const gx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},v_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A4=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new jm(v_(o),r,a))}).catch(()=>{const o=r+"";e(new jm(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new jm(i.statusText||`HTTP ${r} error`,r,o))}}else e(new k4(v_(t),t))},C4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(N4(r)?(i.headers=we({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,we(we({},i),n)):i};async function P4(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,C4(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>A4(l,s,r))})}async function An(t,e,n,r,i){return P4(t,"POST",e,r,i,n)}var I4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=we(we({},mx),e),this.fetch=gx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await An(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await An(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}}},j4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=we(we({},mx),e),this.fetch=gx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await An(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await An(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await An(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}},O4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=we(we({},mx),e),this.fetch=gx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await An(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await An(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}}},R4=class extends O4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new M4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},M4=class extends I4{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new $4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$4=class extends j4{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},D4=class extends E4{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new S4(this.url,this.headers,t,this.fetch)}get vectors(){return new R4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new T4(this.url+"/iceberg",this.headers,this.fetch)}};const mP="2.89.0",ga=30*1e3,xy=3,Om=xy*ga,L4="http://localhost:9999",U4="supabase.auth.token",B4={"X-Client-Info":`gotrue-js/${mP}`},by="X-Supabase-Api-Version",gP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q4=10*60*1e3;class xu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class V4 extends xu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G4(t){return me(t)&&t.name==="AuthApiError"}class xo extends xu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fi extends xu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class bn extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H4(t){return me(t)&&t.name==="AuthSessionMissingError"}class aa extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kc extends fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jc extends fi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z4(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class x_ extends fi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W4 extends fi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wy extends fi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Rm(t){return me(t)&&t.name==="AuthRetryableFetchError"}class b_ extends fi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class _y extends fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w_=` 	
\r=`.split(""),K4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<w_.length;e+=1)t[w_[e].charCodeAt(0)]=-2;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=e;return t})();function __(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(pf[r]),e.queuedBits-=6}}function yP(t,e,n){const r=K4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function S_(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{X4(a,r,n)};for(let a=0;a<t.length;a+=1)yP(t.charCodeAt(a),i,o);return e.join("")}function J4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}J4(r,e)}}function X4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ha(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yP(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Q4(t){const e=[];return Y4(t,n=>e.push(n)),new Uint8Array(e)}function Eo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>__(i,n,r)),__(null,n,r),e.join("")}function Z4(t){return Math.round(Date.now()/1e3)+t}function eU(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",oo={tested:!1,writable:!1},vP=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function tU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const xP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ya=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ao=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bt=async(t,e)=>{await t.removeItem(e)};class Xh{constructor(){this.promise=new Xh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Xh.promiseConstructor=Promise;function Mm(t){const e=t.split(".");if(e.length!==3)throw new _y("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!F4.test(e[r]))throw new _y("JWT not in base64url format");return{header:JSON.parse(S_(e[0])),payload:JSON.parse(S_(e[1])),signature:Ha(e[2]),raw:{header:e[0],payload:e[1]}}}async function rU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iU(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function oU(t){return("0"+t.toString(16)).substr(-2)}function aU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,oU).join("")}async function sU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function lU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sa(t,e,n=!1){const r=aU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ya(t,`${e}-code-verifier`,i);const o=await lU(r);return[o,r===o?"plain":"s256"]}const uU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cU(t){const e=t.headers.get(by);if(!e||!e.match(uU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function la(t){if(!hU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pU(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function E_(t){return JSON.parse(JSON.stringify(t))}const ho=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mU=[502,503,504];async function T_(t){var e;if(!nU(t))throw new wy(ho(t),0);if(mU.includes(t.status))throw new wy(ho(t),t.status);let n;try{n=await t.json()}catch(o){throw new xo(ho(o),o)}let r;const i=cU(t);if(i&&i.getTime()>=gP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new b_(ho(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new b_(ho(n),t.status,n.weak_password.reasons);throw new V4(ho(n),t.status||500,r)}const gU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[by]||(o[by]=gP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await yU(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function yU(t,e,n,r,i,o){const a=gU(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new wy(ho(l),0)}if(s.ok||await T_(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await T_(l)}}function ir(t){var e;let n=null;bU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Z4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function k_(t){const e=ir(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ai(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vU(t){return{data:t,error:null}}function xU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Jh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function N_(t){return t}function bU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dm=["global","local","others"];class wU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Dm[0]){if(Dm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Jh(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ai})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:N_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){la(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ai})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){la(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ai})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){la(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){la(e.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){la(e.userId),la(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:N_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}}function A_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ua={debug:!!(globalThis&&vP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _U extends bP{}async function SU(t,e,n){ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ua.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _U(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ua.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function EU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function TU(t){return parseInt(t,16)}function kU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function NU(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=wP(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${m}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}x+=b}return`${w}
${x}`}class bt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class mf extends bt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function AU({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(_P(a)){if(o.rp.id!==a)return new bt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function CU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(_P(r)){if(n.rpId!==r)return new bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class PU{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const IU=new PU;function jU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Jh(t,["challenge","user","excludeCredentials"]),o=Ha(e).buffer,a=Object.assign(Object.assign({},n),{id:Ha(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ha(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function OU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Jh(t,["challenge","allowCredentials"]),i=Ha(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ha(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function RU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Eo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Eo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Eo(new Uint8Array(i.authenticatorData)),clientDataJSON:Eo(new Uint8Array(i.clientDataJSON)),signature:Eo(new Uint8Array(i.signature)),userHandle:i.userHandle?Eo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _P(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function C_(){var t,e;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $U(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mf("Browser returned unexpected credential type",e)}:{data:null,error:new mf("Empty credential response",e)}}catch(e){return{data:null,error:AU({error:e,options:t})}}}async function DU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mf("Browser returned unexpected credential type",e)}:{data:null,error:new mf("Empty credential response",e)}}catch(e){return{data:null,error:CU({error:e,options:t})}}}const LU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=gf(s,a):r[o]=gf(a)}else r[o]=a}return r}function BU(t,e){return gf(LU,t,e||{})}function FU(t,e){return gf(UU,t,e||{})}class qU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??IU.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=BU(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await $U({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=FU(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await DU(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return me(a)?{data:null,error:a}:{data:null,error:new xo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new xu("rpId is required for WebAuthn authentication")};try{if(!C_())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return me(a)?{data:null,error:a}:{data:null,error:new xo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new xu("rpId is required for WebAuthn registration")};try{if(!C_())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return me(a)?{data:null,error:a}:{data:null,error:new xo("Unexpected error in register",a)}}}}EU();const VU={url:L4,storageKey:U4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function P_(t,e,n){return await n()}const ca={};class bu{get jwks(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},VU),e);if(this.storageKey=o.storageKey,this.instanceID=(n=bu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,bu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ft()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wU({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=xP(o.fetch),this.lock=o.lock||P_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=SU:this.lock=P_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:vP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=A_(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mP}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ft()&&(n=tU(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),z4(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new xo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ir}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await sa(this.storage,this.storageKey)),o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:ir})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ir})}else throw new Kc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:k_})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:k_})}else throw new Kc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new aa;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,c,d,f,h;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:y,wallet:w,statement:x,options:b}=e;let _;if(Ft())if(typeof w=="object")_=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=wP(S[0]);let k=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const C=await _.request({method:"eth_chainId"});k=TU(C)}const A={domain:E.host,address:T,statement:x,uri:E.href,version:"1",chainId:k,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=NU(A),v=await _.request({method:"personal_sign",params:[kU(m),T]})}try{const{data:y,error:w}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ir});if(w)throw w;if(!y||!y.session||!y.user){const x=new aa;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,c,d,f,h,m;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:b,options:_}=e;let E;if(Ft())if(typeof x=="object")E=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:w,error:x}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Eo(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ir});if(x)throw x;if(!w||!w.session||!w.user){const b=new aa;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(me(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await ao(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new W4;const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ir});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new aa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ir}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new aa;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await sa(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Kc("You must provide either an email or phone number.")}catch(s){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ir});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await sa(this.storage,this.storageKey));const c=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:vU});return!((o=c.data)===null||o===void 0)&&o.url&&Ft()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new bn;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Kc("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ao(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Om:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await ao(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=$m()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=pU(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ai}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ai})})}catch(n){if(me(n))return H4(n)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new bn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await sa(this.storage,this.storageKey));const{data:c,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Ai});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Mm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new bn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ft())throw new Jc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x_("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new Jc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ao(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(G4(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=eU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sa(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,c,d;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ft()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,f=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ir}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new aa}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iU(async i=>(i>0&&await rU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ir})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Rm(o)&&Date.now()+a-r<ga})}catch(r){if(this._debug(n,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ao(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ao(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ya(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:$m()}else if(i&&!i.user&&!i.user){const a=await ao(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Bt(this.storage,this.storageKey+"-user"),await ya(this.storage,this.storageKey,i)):i.user=$m()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Om;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Om}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Rm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new bn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),me(o)){const a={data:null,error:o};return Rm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ya(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=E_(i);await ya(this.storage,this.storageKey,o)}else{const i=E_(n);await ya(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ga}ms, refresh threshold is ${xy} ticks`),i<=xy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await sa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?RU(e.webauthn.credential_response):MU(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:jU(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:OU(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mm(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new bn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new bn});const a=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new bn});const a=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bn})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+q4>i)return r;const{data:o,error:a}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Mm(r);n!=null&&n.allowExpired||dU(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const d=fU(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Q4(`${s}.${l}`)))throw new _y("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}bu.nextInstanceID={};const GU=bu,HU="2.89.0";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const zU={"X-Client-Info":`supabase-js-${kl}/${HU}`},WU={headers:zU},KU={schema:"public"},JU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YU={};function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function XU(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QU(t){var e=XU(t,"string");return wu(e)=="symbol"?e:e+""}function ZU(t,e,n){return(e=QU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){ZU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const e5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),t5=()=>Headers,n5=(t,e,n)=>{const r=e5(n),i=t5();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,ft(ft({},a),{},{headers:c}))}};function r5(t){return t.endsWith("/")?t:t+"/"}function i5(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:ft(ft({},l),i),auth:ft(ft({},c),o),realtime:ft(ft({},d),a),storage:{},global:ft(ft(ft({},f),s),{},{headers:ft(ft({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function o5(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var a5=class extends GU{constructor(t){super(t)}},s5=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=o5(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:KU,realtime:YU,auth:ft(ft({},JU),{},{storageKey:a}),global:WU},l=i5(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=n5(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ft({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new BL(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new D4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new ML(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a5({url:this.authUrl.href,headers:ft(ft({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new r4(this.realtimeUrl.href,ft(ft({},t),{},{params:ft(ft({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const l5=(t,e,n)=>new s5(t,e,n);function u5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}u5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const j_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},c5="https://krgznynrljnvxwhvsdxj.supabase.co",d5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function SP(t){try{if(typeof import.meta<"u"&&import.meta&&j_)return j_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const f5=SP("VITE_SUPABASE_URL"),h5=SP("VITE_SUPABASE_ANON_KEY"),EP=f5||c5,p5=h5||d5;EP.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const wt=l5(EP,p5),mc=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},TP=t=>{localStorage.setItem("workflows",JSON.stringify(t))},gc=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},kP=t=>{localStorage.setItem("cartable",JSON.stringify(t))},yx=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},m5=t=>{const e=yx();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},O_=()=>yx(),g5=t=>{const n=yx().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},NP=async(t,e)=>{try{const{data:n,error:r}=await wt.from("messages").select("*").order("created_at",{ascending:!1});if(r)throw r;const o=(n||[]).map(l=>({id:l.id,senderId:l.sender_id,senderName:l.sender_name,receiverId:l.receiver_id,receiverType:l.receiver_type,subject:l.subject,body:l.body,createdAt:l.created_at,readBy:l.read_by||[],attachments:l.attachments||[]})),a=o.filter(l=>l.receiverType==="USER"&&l.receiverId===t||l.receiverType==="ALL"||l.receiverType==="GROUP"&&l.receiverId===e),s=o.filter(l=>l.senderId===t);return{inbox:a,sent:s}}catch(n){return console.error("Error fetching messages:",n),{inbox:[],sent:[]}}},y5=async(t,e)=>{try{const{inbox:n}=await NP(t,e);return n.filter(r=>!r.readBy.includes(t)).length}catch{return 0}},v5=async(t,e,n,r,i,o=[])=>{const a=`${st()} ${mu()}`,s=[];if(n==="USER"&&Array.isArray(e))e.forEach(c=>{s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:"USER",subject:r,body:i,created_at:a,read_by:[],attachments:o})});else{const c=Array.isArray(e)?e[0]:e;s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:n,subject:r,body:i,created_at:a,read_by:[],attachments:o})}const{error:l}=await wt.from("messages").insert(s);if(l)throw l},x5=async(t,e)=>{if(!t.readBy.includes(e)){const n=[...t.readBy,e];await wt.from("messages").update({read_by:n}).eq("id",t.id)}},Fe=async t=>{try{const{data:e,error:n}=await wt.from(t).select("*");if(!n&&e&&!(t==="measurement_units"&&e.length===0))return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},b5=async()=>{try{const{data:t,error:e}=await wt.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching shift reports:",t),[]}},w5=async t=>{try{const e={tracking_code:t.code,shift_date:t.shiftInfo.date,shift_name:t.shiftInfo.name,shift_type:t.shiftInfo.type,shift_duration:t.shiftInfo.shiftDuration,supervisor_id:t.shiftInfo.supervisor,supervisor_name:t.shiftInfo.supervisorName,total_production_a:t.totalA,total_production_b:t.totalB,full_data:t},{error:n}=await wt.from("shift_reports").insert([e]);if(n)throw n;return!0}catch(e){throw console.error("Error saving shift report:",e),e}},_5=async t=>{try{const{data:e,error:n}=await wt.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},S5=()=>{let t=mc();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:pn.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:pn.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:pn.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),TP(t)}};S5();const _u=()=>mc(),E5=t=>{const e=mc(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),TP(e)},Yo=(t,e,n,r,i)=>{let a=mc().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:Vi(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:st(),updatedAt:st(),data:{...e,status:"REQUEST"}},c=gc();return c.push(l),kP(c),l},T5=(t,e,n,r)=>{const i=gc(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=mc().find(f=>f.id===a.workflowId);if(!l)return;const c=l.steps.find(f=>f.id===a.currentStepId);if(!c)return;const d=c.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=pn.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=st(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,kP(i)}},R_=t=>gc().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),AP=()=>gc().filter(e=>e.module==="WORK_ORDER"),Xo=t=>gc().filter(n=>n.module===t),k5=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var E;const[o,a]=N.useState(!1),[s,l]=N.useState(!1),[c,d]=N.useState([]),[f,h]=N.useState(0),m=Ms(),v=Vh(),y=v.pathname==="/login";if(N.useEffect(()=>{Am.forEach(S=>{S.submenu&&S.submenu.some(k=>k.path===v.pathname)&&!c.includes(S.id)&&d(k=>[...k,S.id])})},[v.pathname]),N.useEffect(()=>{if(!e)return;const S=async()=>{const k=await y5(e.id,e.role);h(k)};S();const T=setInterval(S,3e4);return()=>clearInterval(T)},[e]),y)return u.jsx(u.Fragment,{children:t});const w=()=>{m(-1)},x=v.pathname==="/",b=S=>{s?(l(!1),d([S])):d(T=>T.includes(S)?T.filter(k=>k!==S):[...T,S])},_=S=>{S.submenu?b(S.id):(m(S.path),a(!1))};return u.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),u.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${o?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${s?"md:w-20":"md:w-64"}
      `,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${s?"justify-center":"justify-between"}`,children:[!s&&u.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""}),u.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:u.jsx(en,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>l(!s),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:s?"  ":" ",children:s?u.jsx(cL,{className:"w-5 h-5"}):u.jsx(uL,{className:"w-5 h-5"})})]}),u.jsxs("div",{onClick:()=>{m("/settings"),a(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${s?"justify-center":""}
            `,title:s?e==null?void 0:e.fullName:" ",children:[u.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all shadow-sm",children:e!=null&&e.avatar?u.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):u.jsx(os,{className:"w-5 h-5"})}),!s&&u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.role})]})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:Am.map(S=>{var R,D;if(S.id==="settings"||S.role&&(e==null?void 0:e.role)!==S.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const T=!!S.submenu,k=c.includes(S.id),A=T&&((R=S.submenu)==null?void 0:R.some(L=>L.path===v.pathname)),C=!T&&v.pathname===S.path,O=S.id==="messages"&&f>0;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>_(S),title:s?S.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${s?"justify-center px-2":"px-6 text-right justify-between"}
                      ${C||A?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx(S.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${O?"animate-pulse":""} ${(C||A)&&!s?"scale-110":""}`}),O&&s&&u.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!s&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm truncate ${C||A?"font-bold":"font-medium"}`,children:S.title}),O&&u.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:f})]})]}),!s&&T&&u.jsx(Hh,{className:`w-4 h-4 transition-transform duration-200 ${k?"rotate-180":""}`}),s&&u.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[S.title,O&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:f})]})]}),!s&&T&&k&&u.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:(D=S.submenu)==null?void 0:D.map(L=>{const $=v.pathname===L.path;return u.jsxs("button",{onClick:()=>{m(L.path),a(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${$?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[u.jsx(L.icon,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs",children:L.title})]},L.id)})})]},S.id)})}),u.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[u.jsxs("button",{onClick:i,title:s?r?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[r?u.jsx(wL,{className:"w-5 h-5"}):u.jsx(lL,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:r?" ":" "})]}),u.jsxs("button",{onClick:n,title:s?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[u.jsx(oL,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:""})]})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[u.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:u.jsx(sL,{className:"w-6 h-6"})}),!x&&u.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(hc,{className:"w-6 h-6 text-gray-500"})}),u.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((E=Am.flatMap(S=>S.submenu?S.submenu:S).find(S=>S.path===v.pathname))==null?void 0:E.title)||(v.pathname==="/settings"?"":"")})]}),u.jsx("div",{className:"flex items-center gap-2"})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:t})]})]})},N5={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},vx=({className:t})=>{const e=()=>{try{return`${N5&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return u.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})},M_=`--      SQL Editor  Supabase  

-- 1.  
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text,
  unit text,
  mobile text,
  email text,
  profile_picture text,
  created_at timestamptz default now()
);

create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  password text,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

--    ( )
create table if not exists messages (
  id uuid default gen_random_uuid() primary key,
  sender_id text,
  sender_name text,
  receiver_id text,
  receiver_type text,
  subject text,
  body text,
  read_by jsonb default '[]'::jsonb,
  created_at text,
  attachments jsonb default '[]'::jsonb
);

--     attachments   
do $$
begin
  if not exists (select 1 from information_schema.columns where table_name = 'messages' and column_name = 'attachments') then
    alter table messages add column attachments jsonb default '[]'::jsonb;
  end if;
end $$;

-- 2.   
create table if not exists locations ( id uuid default gen_random_uuid() primary key, code text unique, name text not null, parent_id uuid references locations(id), created_at timestamptz default now() );
create table if not exists measurement_units ( id uuid default gen_random_uuid() primary key, title text not null, created_at timestamptz default now() );
create table if not exists equipment_classes ( id uuid default gen_random_uuid() primary key, name text not null, created_at timestamptz default now() );
create table if not exists equipment_groups ( id uuid default gen_random_uuid() primary key, name text not null, class_id uuid references equipment_classes(id), created_at timestamptz default now() );
create table if not exists part_categories ( id uuid default gen_random_uuid() primary key, name text not null, parent_id uuid references part_categories(id), level_type text, created_at timestamptz default now() );

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

-- 3.     (Cartable)
--   (     ...)    
--  tracking_code   
create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb, --    (     ...)   
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

--   
create table if not exists shift_reports (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  shift_date text,
  shift_name text,
  shift_type text,
  shift_duration text,
  supervisor_id uuid,
  supervisor_name text,
  total_production_a numeric default 0,
  total_production_b numeric default 0,
  full_data jsonb,
  created_at timestamptz default now()
);

--   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

--   
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS password text;
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS personnel_id uuid REFERENCES personnel(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES org_chart(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS manager_id uuid REFERENCES personnel(id);
ALTER TABLE personnel ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);
ALTER TABLE locations ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES locations(id);
ALTER TABLE equipment_classes ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE equipment_groups ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE evaluation_criteria ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);

-- Constraints
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_code_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_code_key UNIQUE (code);
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_name_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_name_key UNIQUE (name);
ALTER TABLE equipment_groups DROP CONSTRAINT IF EXISTS equipment_groups_code_key;
ALTER TABLE equipment_groups ADD CONSTRAINT equipment_groups_code_key UNIQUE (code);
ALTER TABLE equipment ALTER COLUMN code SET NOT NULL;

-- RLS Policies
alter table personnel enable row level security; drop policy if exists "Allow all personnel" on personnel; create policy "Allow all personnel" on personnel for all using (true) with check (true);
alter table app_users enable row level security; drop policy if exists "Allow all users" on app_users; create policy "Allow all users" on app_users for all using (true) with check (true);
alter table shift_reports enable row level security; drop policy if exists "Allow all reports" on shift_reports; create policy "Allow all reports" on shift_reports for all using (true) with check (true);
alter table locations enable row level security; create policy "Allow all loc" on locations for all using (true) with check (true);
alter table cartable_items enable row level security; drop policy if exists "Allow all cartable" on cartable_items; create policy "Allow all cartable" on cartable_items for all using (true) with check (true);
alter table messages enable row level security; drop policy if exists "Allow all messages" on messages; create policy "Allow all messages" on messages for all using (true) with check (true);

--        
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  last_code text;
  next_num integer;
  new_code text;
begin
  select tracking_code into last_code
  from cartable_items
  where tracking_code like prefix_input || '%'
  order by tracking_code desc
  limit 1;

  if last_code is null then
    next_num := 1;
  else
    begin
        next_num := to_number(right(last_code, 4), '9999') + 1;
    exception when others then
        next_num := 1;
    end;
  end if;

  new_code := prefix_input || lpad(next_num::text, 4, '0');
  
  return new_code;
end;
$$;
`,A5=({onLogin:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(""),[o,a]=N.useState(""),[s,l]=N.useState(!1),[c,d]=N.useState(!1),[f,h]=N.useState(!1),[m,v]=N.useState(null),[y,w]=N.useState("checking"),[x,b]=N.useState(""),[_,E]=N.useState(!1),[S,T]=N.useState(!1);N.useEffect(()=>{k()},[]);const k=async()=>{w("checking");try{const{data:D,error:L}=await wt.from("app_users").select("count",{count:"exact",head:!0});if(L)throw L;w("connected"),b("    ")}catch(D){console.error("Supabase Connection Error:",D),w("error");let L="   ";typeof D=="string"?L=D:(D==null?void 0:D.code)==="42P01"?L="   ":D!=null&&D.message&&(L=D.message),b(L)}},A=()=>{navigator.clipboard.writeText(M_),T(!0),setTimeout(()=>T(!1),2e3)},C={id:"1",username:"admin",fullName:" ",role:pn.ADMIN,passwordHash:"admin",isDefaultPassword:!0},O=async D=>{var L,$,j;if(D.preventDefault(),a(""),l(!0),e.toLowerCase()==="admin"&&r==="admin"){if(C.isDefaultPassword){h(!0),v(C),a("         ."),l(!1);return}t(C),l(!1);return}try{const{data:F,error:U}=await wt.from("app_users").select(`
                *,
                personnel (
                    full_name,
                    personnel_code,
                    profile_picture,
                    unit
                )
            `).eq("username",e).single();if(U||!F)throw U&&U.code!=="PGRST116"&&console.error("Auth DB Error:",U),new Error("      ");if(F.password!==r)throw new Error("      ");const q={id:F.id,username:F.username,fullName:((L=F.personnel)==null?void 0:L.full_name)||F.username,role:F.role,passwordHash:"***",isDefaultPassword:F.is_default_password,personnelCode:($=F.personnel)==null?void 0:$.personnel_code,avatar:F.avatar||((j=F.personnel)==null?void 0:j.profile_picture)};if(q.isDefaultPassword){h(!0),v(q),a("         ."),l(!1);return}t(q)}catch(F){console.warn("Login Failed:",F.message),a("      ")}finally{l(!1)}},R=async D=>{if(D.preventDefault(),l(!0),(m==null?void 0:m.username)==="admin"){if(r==="admin"){a("        "),l(!1);return}t({...m,isDefaultPassword:!1})}else if(m)try{if(r===m.personnelCode){a("       "),l(!1);return}const{error:L}=await wt.from("app_users").update({password:r,is_default_password:!1}).eq("id",m.id);if(L)throw L;t({...m,isDefaultPassword:!1})}catch(L){a("    : "+L.message)}finally{l(!1)}};return u.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),u.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-6",children:[u.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[u.jsx("h1",{className:"text-lg md:text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4 whitespace-nowrap",children:"     "}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-bold tracking-wide",children:"    "})]}),u.jsx("div",{className:"flex justify-center mb-6 relative z-20 animate-fadeIn delay-100",children:u.jsx("div",{className:"w-36 h-36 flex items-center justify-center transform hover:scale-105 transition duration-700",children:u.jsx(vx,{className:"w-full h-full drop-shadow-2xl"})})}),(y==="checking"||y==="error")&&u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{onClick:k,className:`cursor-pointer flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold justify-center transition-colors border max-w-full text-center
                    ${y==="checking"?"bg-gray-100 text-gray-500 border-gray-200":""}
                    ${y==="error"?"bg-red-50 text-red-700 border-red-200":""}
                `,children:[y==="checking"&&u.jsxs(u.Fragment,{children:[u.jsx(kL,{className:"w-3 h-3 animate-pulse"}),"    ..."]}),y==="error"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gL,{className:"w-3 h-3 flex-shrink-0"})," ",u.jsx("span",{className:"truncate",children:x})," ",u.jsx(uf,{className:"w-3 h-3"})]})]}),y==="error"&&u.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-1 text-[10px] bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-200 hover:bg-blue-100 transition",children:[u.jsx(zD,{className:"w-3 h-3"}),"    (SQL)"]})]}),u.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50 pt-10",children:f?u.jsxs("form",{onSubmit:R,className:"space-y-5",children:[u.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[u.jsx(WC,{className:"w-5 h-5 flex-shrink-0"}),u.jsx("span",{children:"            ."})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),u.jsxs("div",{className:"relative",children:[u.jsx(s_,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:c?"text":"password",placeholder:"",value:r,onChange:D=>i(D.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:c?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:c?u.jsx(a_,{className:"w-5 h-5"}):u.jsx(rf,{className:"w-5 h-5"})})]})]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:s?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):"   "})]}):u.jsxs("form",{onSubmit:O,className:"space-y-5",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"   "}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"         "})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),u.jsxs("div",{className:"relative group",children:[u.jsx(os,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),u.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:D=>n(D.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),u.jsxs("div",{className:"relative group",children:[u.jsx(s_,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),u.jsx("input",{type:c?"text":"password",placeholder:"",value:r,onChange:D=>i(D.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:c?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:c?u.jsx(a_,{className:"w-5 h-5"}):u.jsx(rf,{className:"w-5 h-5"})})]})]})]}),o&&u.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-wait",children:s?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"  "}),u.jsx(iL,{className:"w-5 h-5"})]})})]})}),u.jsxs("div",{className:"text-center space-y-2 pb-6",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-400 dark:text-gray-500 font-light opacity-80",children:u.jsxs("span",{children:[" ",NL]})}),u.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-medium tracking-widest uppercase opacity-80",children:"DESIGN BY H.PARSA"})]})]}),_&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[u.jsx(KD,{className:"w-5 h-5 text-blue-600"}),"  "]}),u.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",u.jsx("b",{children:"Supabase"}),"  ",u.jsx("b",{children:"SQL Editor"}),"        ."]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[u.jsx("pre",{children:M_}),u.jsxs("button",{onClick:A,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[S?u.jsx(Gh,{className:"w-4 h-4"}):u.jsx(WD,{className:"w-4 h-4"}),S?" ":" "]})]})]})})]})};function CP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CP(t))&&(r&&(r+=" "),r+=e);return r}var C5=Array.isArray,xn=C5,P5=typeof Ac=="object"&&Ac&&Ac.Object===Object&&Ac,PP=P5,I5=PP,j5=typeof self=="object"&&self&&self.Object===Object&&self,O5=I5||j5||Function("return this")(),$r=O5,R5=$r,M5=R5.Symbol,yc=M5,$_=yc,IP=Object.prototype,$5=IP.hasOwnProperty,D5=IP.toString,cl=$_?$_.toStringTag:void 0;function L5(t){var e=$5.call(t,cl),n=t[cl];try{t[cl]=void 0;var r=!0}catch{}var i=D5.call(t);return r&&(e?t[cl]=n:delete t[cl]),i}var U5=L5,B5=Object.prototype,F5=B5.toString;function q5(t){return F5.call(t)}var V5=q5,D_=yc,G5=U5,H5=V5,z5="[object Null]",W5="[object Undefined]",L_=D_?D_.toStringTag:void 0;function K5(t){return t==null?t===void 0?W5:z5:L_&&L_ in Object(t)?G5(t):H5(t)}var hi=K5;function J5(t){return t!=null&&typeof t=="object"}var pi=J5,Y5=hi,X5=pi,Q5="[object Symbol]";function Z5(t){return typeof t=="symbol"||X5(t)&&Y5(t)==Q5}var Ls=Z5,e3=xn,t3=Ls,n3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r3=/^\w*$/;function i3(t,e){if(e3(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||t3(t)?!0:r3.test(t)||!n3.test(t)||e!=null&&t in Object(e)}var xx=i3;function o3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Zi=o3;const Us=Ve(Zi);var a3=hi,s3=Zi,l3="[object AsyncFunction]",u3="[object Function]",c3="[object GeneratorFunction]",d3="[object Proxy]";function f3(t){if(!s3(t))return!1;var e=a3(t);return e==u3||e==c3||e==l3||e==d3}var bx=f3;const Se=Ve(bx);var h3=$r,p3=h3["__core-js_shared__"],m3=p3,Lm=m3,U_=function(){var t=/[^.]+$/.exec(Lm&&Lm.keys&&Lm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function g3(t){return!!U_&&U_ in t}var y3=g3,v3=Function.prototype,x3=v3.toString;function b3(t){if(t!=null){try{return x3.call(t)}catch{}try{return t+""}catch{}}return""}var jP=b3,w3=bx,_3=y3,S3=Zi,E3=jP,T3=/[\\^$.*+?()[\]{}|]/g,k3=/^\[object .+?Constructor\]$/,N3=Function.prototype,A3=Object.prototype,C3=N3.toString,P3=A3.hasOwnProperty,I3=RegExp("^"+C3.call(P3).replace(T3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j3(t){if(!S3(t)||_3(t))return!1;var e=w3(t)?I3:k3;return e.test(E3(t))}var O3=j3;function R3(t,e){return t==null?void 0:t[e]}var M3=R3,$3=O3,D3=M3;function L3(t,e){var n=D3(t,e);return $3(n)?n:void 0}var Qo=L3,U3=Qo,B3=U3(Object,"create"),Qh=B3,B_=Qh;function F3(){this.__data__=B_?B_(null):{},this.size=0}var q3=F3;function V3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var G3=V3,H3=Qh,z3="__lodash_hash_undefined__",W3=Object.prototype,K3=W3.hasOwnProperty;function J3(t){var e=this.__data__;if(H3){var n=e[t];return n===z3?void 0:n}return K3.call(e,t)?e[t]:void 0}var Y3=J3,X3=Qh,Q3=Object.prototype,Z3=Q3.hasOwnProperty;function eB(t){var e=this.__data__;return X3?e[t]!==void 0:Z3.call(e,t)}var tB=eB,nB=Qh,rB="__lodash_hash_undefined__";function iB(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nB&&e===void 0?rB:e,this}var oB=iB,aB=q3,sB=G3,lB=Y3,uB=tB,cB=oB;function Bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bs.prototype.clear=aB;Bs.prototype.delete=sB;Bs.prototype.get=lB;Bs.prototype.has=uB;Bs.prototype.set=cB;var dB=Bs;function fB(){this.__data__=[],this.size=0}var hB=fB;function pB(t,e){return t===e||t!==t&&e!==e}var wx=pB,mB=wx;function gB(t,e){for(var n=t.length;n--;)if(mB(t[n][0],e))return n;return-1}var Zh=gB,yB=Zh,vB=Array.prototype,xB=vB.splice;function bB(t){var e=this.__data__,n=yB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xB.call(e,n,1),--this.size,!0}var wB=bB,_B=Zh;function SB(t){var e=this.__data__,n=_B(e,t);return n<0?void 0:e[n][1]}var EB=SB,TB=Zh;function kB(t){return TB(this.__data__,t)>-1}var NB=kB,AB=Zh;function CB(t,e){var n=this.__data__,r=AB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var PB=CB,IB=hB,jB=wB,OB=EB,RB=NB,MB=PB;function Fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fs.prototype.clear=IB;Fs.prototype.delete=jB;Fs.prototype.get=OB;Fs.prototype.has=RB;Fs.prototype.set=MB;var ep=Fs,$B=Qo,DB=$r,LB=$B(DB,"Map"),_x=LB,F_=dB,UB=ep,BB=_x;function FB(){this.size=0,this.__data__={hash:new F_,map:new(BB||UB),string:new F_}}var qB=FB;function VB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var GB=VB,HB=GB;function zB(t,e){var n=t.__data__;return HB(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tp=zB,WB=tp;function KB(t){var e=WB(this,t).delete(t);return this.size-=e?1:0,e}var JB=KB,YB=tp;function XB(t){return YB(this,t).get(t)}var QB=XB,ZB=tp;function eF(t){return ZB(this,t).has(t)}var tF=eF,nF=tp;function rF(t,e){var n=nF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var iF=rF,oF=qB,aF=JB,sF=QB,lF=tF,uF=iF;function qs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qs.prototype.clear=oF;qs.prototype.delete=aF;qs.prototype.get=sF;qs.prototype.has=lF;qs.prototype.set=uF;var Sx=qs,OP=Sx,cF="Expected a function";function Ex(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ex.Cache||OP),n}Ex.Cache=OP;var RP=Ex;const dF=Ve(RP);var fF=RP,hF=500;function pF(t){var e=fF(t,function(r){return n.size===hF&&n.clear(),r}),n=e.cache;return e}var mF=pF,gF=mF,yF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vF=/\\(\\)?/g,xF=gF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yF,function(n,r,i,o){e.push(i?o.replace(vF,"$1"):r||n)}),e}),bF=xF;function wF(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Tx=wF,q_=yc,_F=Tx,SF=xn,EF=Ls,V_=q_?q_.prototype:void 0,G_=V_?V_.toString:void 0;function MP(t){if(typeof t=="string")return t;if(SF(t))return _F(t,MP)+"";if(EF(t))return G_?G_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var TF=MP,kF=TF;function NF(t){return t==null?"":kF(t)}var $P=NF,AF=xn,CF=xx,PF=bF,IF=$P;function jF(t,e){return AF(t)?t:CF(t,e)?[t]:PF(IF(t))}var DP=jF,OF=Ls;function RF(t){if(typeof t=="string"||OF(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var np=RF,MF=DP,$F=np;function DF(t,e){e=MF(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[$F(e[n++])];return n&&n==r?t:void 0}var kx=DF,LF=kx;function UF(t,e,n){var r=t==null?void 0:LF(t,e);return r===void 0?n:r}var LP=UF;const jn=Ve(LP);function BF(t){return t==null}var FF=BF;const Ae=Ve(FF);var qF=hi,VF=xn,GF=pi,HF="[object String]";function zF(t){return typeof t=="string"||!VF(t)&&GF(t)&&qF(t)==HF}var WF=zF;const Bo=Ve(WF);var UP={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=Symbol.for("react.element"),Ax=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),ip=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),sp=Symbol.for("react.context"),KF=Symbol.for("react.server_context"),lp=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),fp=Symbol.for("react.lazy"),JF=Symbol.for("react.offscreen"),BP;BP=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nx:switch(t=t.type,t){case rp:case op:case ip:case up:case cp:return t;default:switch(t=t&&t.$$typeof,t){case KF:case sp:case lp:case fp:case dp:case ap:return t;default:return e}}case Ax:return e}}}Ge.ContextConsumer=sp;Ge.ContextProvider=ap;Ge.Element=Nx;Ge.ForwardRef=lp;Ge.Fragment=rp;Ge.Lazy=fp;Ge.Memo=dp;Ge.Portal=Ax;Ge.Profiler=op;Ge.StrictMode=ip;Ge.Suspense=up;Ge.SuspenseList=cp;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return Zn(t)===sp};Ge.isContextProvider=function(t){return Zn(t)===ap};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nx};Ge.isForwardRef=function(t){return Zn(t)===lp};Ge.isFragment=function(t){return Zn(t)===rp};Ge.isLazy=function(t){return Zn(t)===fp};Ge.isMemo=function(t){return Zn(t)===dp};Ge.isPortal=function(t){return Zn(t)===Ax};Ge.isProfiler=function(t){return Zn(t)===op};Ge.isStrictMode=function(t){return Zn(t)===ip};Ge.isSuspense=function(t){return Zn(t)===up};Ge.isSuspenseList=function(t){return Zn(t)===cp};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rp||t===op||t===ip||t===up||t===cp||t===JF||typeof t=="object"&&t!==null&&(t.$$typeof===fp||t.$$typeof===dp||t.$$typeof===ap||t.$$typeof===sp||t.$$typeof===lp||t.$$typeof===BP||t.getModuleId!==void 0)};Ge.typeOf=Zn;UP.exports=Ge;var YF=UP.exports,XF=hi,QF=pi,ZF="[object Number]";function e8(t){return typeof t=="number"||QF(t)&&XF(t)==ZF}var FP=e8;const t8=Ve(FP);var n8=FP;function r8(t){return n8(t)&&t!=+t}var i8=r8;const vc=Ve(i8);var on=function(e){return e===0?0:e>0?1:-1},To=function(e){return Bo(e)&&e.indexOf("%")===e.length-1},le=function(e){return t8(e)&&!vc(e)},o8=function(e){return Ae(e)},It=function(e){return le(e)||Bo(e)},a8=0,Vs=function(e){var n=++a8;return"".concat(e||"").concat(n)},an=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!Bo(e))return r;var o;if(To(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return vc(o)&&(o=r),i&&o>n&&(o=n),o},Ci=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},s8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},kn=function(e,n){return le(e)&&le(n)?function(r){return e+r*(n-e)}:function(){return n}};function yf(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jn(r,e))===n})}var l8=function(e,n){return le(e)&&le(n)?e-n:Bo(e)&&Bo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function za(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}var u8=["viewBox","children"],c8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],H_=["points","pathLength"],Um={svg:u8,polygon:H_,polyline:H_},Cx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Us(r))return null;var i={};return Object.keys(r).forEach(function(o){Cx.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},d8=function(e,n,r){return function(i){return e(n,r,i),null}},Fo=function(e,n,r){if(!Us(e)||Sy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Cx.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=d8(a,n,r))}),i},f8=["children"],h8=["children"];function z_(t,e){if(t==null)return{};var n=p8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}var W_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},K_=null,Bm=null,Px=function t(e){if(e===K_&&Array.isArray(Bm))return Bm;var n=[];return N.Children.forEach(e,function(r){Ae(r)||(YF.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Bm=n,K_=e,n};function On(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ei(i)}):r=[ei(e)],Px(t).forEach(function(i){var o=jn(i,"type.displayName")||jn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function En(t,e){var n=On(t,e);return n&&n[0]}var J_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!le(r)||r<=0||!le(i)||i<=0)},m8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g8=function(e){return e&&e.type&&Bo(e.type)&&m8.indexOf(e.type)>=0},y8=function(e){return e&&Ey(e)==="object"&&"clipDot"in e},v8=function(e,n,r,i){var o,a=(o=Um==null?void 0:Um[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&a.includes(n)||c8.includes(n))||r&&Cx.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Us(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;v8((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Ty=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Y_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Y_(o,a))return!1}return!0},Y_=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=z_(r,f8),a=n.props||{},s=a.children,l=z_(a,h8);return i&&s?za(o,l)&&Ty(i,s):!i&&!s?za(o,l):!1}return!1},X_=function(e,n){var r=[],i={};return Px(e).forEach(function(o,a){if(g8(o))r.push(o);else if(o){var s=ei(o.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},x8=function(e){var n=e&&e.type;return n&&W_[n]?W_[n]:null},b8=function(e,n){return Px(n).indexOf(e)},w8=["children","width","height","viewBox","className","style","title","desc"];function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(this,arguments)}function _8(t,e){if(t==null)return{};var n=S8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ny(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=_8(t,w8),d=i||{width:n,height:r,x:0,y:0},f=Ce("recharts-surface",o);return M.createElement("svg",ky({},ye(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var E8=["children","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(this,arguments)}function T8(t,e){if(t==null)return{};var n=k8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $e=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=T8(t,E8),o=Ce("recharts-layer",r);return M.createElement("g",Ay({className:o},ye(i,!0),{ref:e}),n)}),mr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function N8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var A8=N8,C8=A8;function P8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:C8(t,e,n)}var I8=P8,j8="\\ud800-\\udfff",O8="\\u0300-\\u036f",R8="\\ufe20-\\ufe2f",M8="\\u20d0-\\u20ff",$8=O8+R8+M8,D8="\\ufe0e\\ufe0f",L8="\\u200d",U8=RegExp("["+L8+j8+$8+D8+"]");function B8(t){return U8.test(t)}var qP=B8;function F8(t){return t.split("")}var q8=F8,VP="\\ud800-\\udfff",V8="\\u0300-\\u036f",G8="\\ufe20-\\ufe2f",H8="\\u20d0-\\u20ff",z8=V8+G8+H8,W8="\\ufe0e\\ufe0f",K8="["+VP+"]",Cy="["+z8+"]",Py="\\ud83c[\\udffb-\\udfff]",J8="(?:"+Cy+"|"+Py+")",GP="[^"+VP+"]",HP="(?:\\ud83c[\\udde6-\\uddff]){2}",zP="[\\ud800-\\udbff][\\udc00-\\udfff]",Y8="\\u200d",WP=J8+"?",KP="["+W8+"]?",X8="(?:"+Y8+"(?:"+[GP,HP,zP].join("|")+")"+KP+WP+")*",Q8=KP+WP+X8,Z8="(?:"+[GP+Cy+"?",Cy,HP,zP,K8].join("|")+")",e6=RegExp(Py+"(?="+Py+")|"+Z8+Q8,"g");function t6(t){return t.match(e6)||[]}var n6=t6,r6=q8,i6=qP,o6=n6;function a6(t){return i6(t)?o6(t):r6(t)}var s6=a6,l6=I8,u6=qP,c6=s6,d6=$P;function f6(t){return function(e){e=d6(e);var n=u6(e)?c6(e):void 0,r=n?n[0]:e.charAt(0),i=n?l6(n,1).join(""):e.slice(1);return r[t]()+i}}var h6=f6,p6=h6,m6=p6("toUpperCase"),g6=m6;const hp=Ve(g6);function Qe(t){return function(){return t}}const JP=Math.cos,xf=Math.sin,br=Math.sqrt,bf=Math.PI,pp=2*bf,Iy=Math.PI,jy=2*Iy,po=1e-6,y6=jy-po;function YP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function v6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class x6{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YP:v6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>po)if(!(Math.abs(f*l-c*d)>po)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,v=i-s,y=l*l+c*c,w=m*m+v*v,x=Math.sqrt(y),b=Math.sqrt(h),_=o*Math.tan((Iy-Math.acos((y+h-w)/(2*x*b)))/2),E=_/b,S=_/x;Math.abs(E-1)>po&&this._append`L${e+E*d},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*m>d*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>po||Math.abs(this._y1-d)>po)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%jy+jy),h>y6?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>po&&this._append`A${r},${r},0,${+(h>=Iy)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ix(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new x6(e)}function jx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XP(t){this._context=t}XP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mp(t){return new XP(t)}function QP(t){return t[0]}function ZP(t){return t[1]}function e2(t,e){var n=Qe(!0),r=null,i=mp,o=null,a=Ix(s);t=typeof t=="function"?t:t===void 0?QP:Qe(t),e=typeof e=="function"?e:e===void 0?ZP:Qe(e);function s(l){var c,d=(l=jx(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Yc(t,e,n){var r=null,i=Qe(!0),o=null,a=mp,s=null,l=Ix(c);t=typeof t=="function"?t:t===void 0?QP:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ZP:Qe(+n);function c(f){var h,m,v,y=(f=jx(f)).length,w,x=!1,b,_=new Array(y),E=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===x)if(x=!x)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(_[v],E[v]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(w,h,f),E[h]=+e(w,h,f),s.point(r?+r(w,h,f):_[h],n?+n(w,h,f):E[h]))}if(b)return s=null,b+""||null}function d(){return e2().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qe(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qe(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qe(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class t2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function b6(t){return new t2(t,!0)}function w6(t){return new t2(t,!1)}const Ox={draw(t,e){const n=br(e/bf);t.moveTo(n,0),t.arc(0,0,n,0,pp)}},_6={draw(t,e){const n=br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},n2=br(1/3),S6=n2*2,E6={draw(t,e){const n=br(e/S6),r=n*n2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},T6={draw(t,e){const n=br(e),r=-n/2;t.rect(r,r,n,n)}},k6=.8908130915292852,r2=xf(bf/10)/xf(7*bf/10),N6=xf(pp/10)*r2,A6=-JP(pp/10)*r2,C6={draw(t,e){const n=br(e*k6),r=N6*n,i=A6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=pp*o/5,s=JP(a),l=xf(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Fm=br(3),P6={draw(t,e){const n=-br(e/(Fm*3));t.moveTo(0,n*2),t.lineTo(-Fm*n,-n),t.lineTo(Fm*n,-n),t.closePath()}},Un=-.5,Bn=br(3)/2,Oy=1/br(12),I6=(Oy/2+1)*3,j6={draw(t,e){const n=br(e/I6),r=n/2,i=n*Oy,o=r,a=n*Oy+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Un*r-Bn*i,Bn*r+Un*i),t.lineTo(Un*o-Bn*a,Bn*o+Un*a),t.lineTo(Un*s-Bn*l,Bn*s+Un*l),t.lineTo(Un*r+Bn*i,Un*i-Bn*r),t.lineTo(Un*o+Bn*a,Un*a-Bn*o),t.lineTo(Un*s+Bn*l,Un*l-Bn*s),t.closePath()}};function O6(t,e){let n=null,r=Ix(i);t=typeof t=="function"?t:Qe(t||Ox),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function wf(){}function _f(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i2(t){this._context=t}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_f(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R6(t){return new i2(t)}function o2(t){this._context=t}o2.prototype={areaStart:wf,areaEnd:wf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M6(t){return new o2(t)}function a2(t){this._context=t}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $6(t){return new a2(t)}function s2(t){this._context=t}s2.prototype={areaStart:wf,areaEnd:wf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function D6(t){return new s2(t)}function Q_(t){return t<0?-1:1}function Z_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Q_(o)+Q_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function eS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Sf(t){this._context=t}Sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qm(this,this._t0,eS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qm(this,eS(this,n=Z_(this,t,e)),n);break;default:qm(this,this._t0,n=Z_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function l2(t){this._context=new u2(t)}(l2.prototype=Object.create(Sf.prototype)).point=function(t,e){Sf.prototype.point.call(this,e,t)};function u2(t){this._context=t}u2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function L6(t){return new Sf(t)}function U6(t){return new l2(t)}function c2(t){this._context=t}c2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tS(t),i=tS(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tS(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function B6(t){return new c2(t)}function gp(t,e){this._context=t,this._t=e}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function F6(t){return new gp(t,.5)}function q6(t){return new gp(t,0)}function V6(t){return new gp(t,1)}function ss(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ry(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function G6(t,e){return t[e]}function H6(t){const e=[];return e.key=t,e}function z6(){var t=Qe([]),e=Ry,n=ss,r=G6;function i(o){var a=Array.from(t.apply(this,arguments),H6),s,l=a.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,d=jx(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ry:typeof o=="function"?o:Qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ss,i):n},i}function W6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ss(t,e)}}function K6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ss(t,e)}}function J6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],w=y[r][1]||0,x=y[r-1][1]||0;m+=w-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ss(t,e)}}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}var Y6=["type","size","sizeType"];function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){X6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X6(t,e,n){return e=Q6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q6(t){var e=Z6(t,"string");return Su(e)=="symbol"?e:e+""}function Z6(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eq(t,e){if(t==null)return{};var n=tq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d2={symbolCircle:Ox,symbolCross:_6,symbolDiamond:E6,symbolSquare:T6,symbolStar:C6,symbolTriangle:P6,symbolWye:j6},nq=Math.PI/180,rq=function(e){var n="symbol".concat(hp(e));return d2[n]||Ox},iq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oq=function(e,n){d2["symbol".concat(hp(e))]=n},Rx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=eq(e,Y6),c=rS(rS({},l),{},{type:r,size:o,sizeType:s}),d=function(){var w=rq(r),x=O6().type(w).size(iq(o,s,r));return x()},f=c.className,h=c.cx,m=c.cy,v=ye(c,!0);return h===+h&&m===+m&&o===+o?M.createElement("path",My({},v,{className:Ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Rx.registerSymbol=oq;function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){Eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h2(r.key),r)}}function uq(t,e,n){return e&&lq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cq(t,e,n){return e=Ef(e),dq(t,f2()?Reflect.construct(e,n||[],Ef(t).constructor):e.apply(t,n))}function dq(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(t)}function fq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!t})()}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(t)}function hq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function Eu(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){var e=pq(t,"string");return ls(e)=="symbol"?e:e+""}function pq(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fn=32,Mx=function(t){function e(){return sq(this,e),cq(this,e,arguments)}return hq(e,t),uq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Fn/2,a=Fn/6,s=Fn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Fn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Fn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fn/8,"h").concat(Fn,"v").concat(Fn*3/4,"h").concat(-Fn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=aq({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(Rx,{fill:l,cx:o,cy:o,size:Fn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Fn,height:Fn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var y=m.formatter||l,w=Ce(Eu(Eu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Se(m.value)?null:m.value;mr(!Se(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?c:m.color;return M.createElement("li",$y({className:w,style:f,key:"legend-item-".concat(v)},Fo(r.props,m,v)),M.createElement(Ny,{width:a,height:a,viewBox:d,style:h},r.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,m,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Eu(Mx,"displayName","Legend");Eu(Mx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mq=ep;function gq(){this.__data__=new mq,this.size=0}var yq=gq;function vq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var xq=vq;function bq(t){return this.__data__.get(t)}var wq=bq;function _q(t){return this.__data__.has(t)}var Sq=_q,Eq=ep,Tq=_x,kq=Sx,Nq=200;function Aq(t,e){var n=this.__data__;if(n instanceof Eq){var r=n.__data__;if(!Tq||r.length<Nq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kq(r)}return n.set(t,e),this.size=n.size,this}var Cq=Aq,Pq=ep,Iq=yq,jq=xq,Oq=wq,Rq=Sq,Mq=Cq;function Gs(t){var e=this.__data__=new Pq(t);this.size=e.size}Gs.prototype.clear=Iq;Gs.prototype.delete=jq;Gs.prototype.get=Oq;Gs.prototype.has=Rq;Gs.prototype.set=Mq;var p2=Gs,$q="__lodash_hash_undefined__";function Dq(t){return this.__data__.set(t,$q),this}var Lq=Dq;function Uq(t){return this.__data__.has(t)}var Bq=Uq,Fq=Sx,qq=Lq,Vq=Bq;function Tf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fq;++e<n;)this.add(t[e])}Tf.prototype.add=Tf.prototype.push=qq;Tf.prototype.has=Vq;var m2=Tf;function Gq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var g2=Gq;function Hq(t,e){return t.has(e)}var y2=Hq,zq=m2,Wq=g2,Kq=y2,Jq=1,Yq=2;function Xq(t,e,n,r,i,o){var a=n&Jq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Yq?new zq:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var w=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!Wq(e,function(x,b){if(!Kq(m,b)&&(v===x||i(v,x,n,r,o)))return m.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var v2=Xq,Qq=$r,Zq=Qq.Uint8Array,eV=Zq;function tV(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var nV=tV;function rV(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $x=rV,oS=yc,aS=eV,iV=wx,oV=v2,aV=nV,sV=$x,lV=1,uV=2,cV="[object Boolean]",dV="[object Date]",fV="[object Error]",hV="[object Map]",pV="[object Number]",mV="[object RegExp]",gV="[object Set]",yV="[object String]",vV="[object Symbol]",xV="[object ArrayBuffer]",bV="[object DataView]",sS=oS?oS.prototype:void 0,Vm=sS?sS.valueOf:void 0;function wV(t,e,n,r,i,o,a){switch(n){case bV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xV:return!(t.byteLength!=e.byteLength||!o(new aS(t),new aS(e)));case cV:case dV:case pV:return iV(+t,+e);case fV:return t.name==e.name&&t.message==e.message;case mV:case yV:return t==e+"";case hV:var s=aV;case gV:var l=r&lV;if(s||(s=sV),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=uV,a.set(t,e);var d=oV(s(t),s(e),r,i,o,a);return a.delete(t),d;case vV:if(Vm)return Vm.call(t)==Vm.call(e)}return!1}var _V=wV;function SV(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var x2=SV,EV=x2,TV=xn;function kV(t,e,n){var r=e(t);return TV(t)?r:EV(r,n(t))}var NV=kV;function AV(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var CV=AV;function PV(){return[]}var IV=PV,jV=CV,OV=IV,RV=Object.prototype,MV=RV.propertyIsEnumerable,lS=Object.getOwnPropertySymbols,$V=lS?function(t){return t==null?[]:(t=Object(t),jV(lS(t),function(e){return MV.call(t,e)}))}:OV,DV=$V;function LV(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var UV=LV,BV=hi,FV=pi,qV="[object Arguments]";function VV(t){return FV(t)&&BV(t)==qV}var GV=VV,uS=GV,HV=pi,b2=Object.prototype,zV=b2.hasOwnProperty,WV=b2.propertyIsEnumerable,KV=uS(function(){return arguments}())?uS:function(t){return HV(t)&&zV.call(t,"callee")&&!WV.call(t,"callee")},Dx=KV,kf={exports:{}};function JV(){return!1}var YV=JV;kf.exports;(function(t,e){var n=$r,r=YV,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(kf,kf.exports);var w2=kf.exports,XV=9007199254740991,QV=/^(?:0|[1-9]\d*)$/;function ZV(t,e){var n=typeof t;return e=e??XV,!!e&&(n=="number"||n!="symbol"&&QV.test(t))&&t>-1&&t%1==0&&t<e}var Lx=ZV,e7=9007199254740991;function t7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e7}var Ux=t7,n7=hi,r7=Ux,i7=pi,o7="[object Arguments]",a7="[object Array]",s7="[object Boolean]",l7="[object Date]",u7="[object Error]",c7="[object Function]",d7="[object Map]",f7="[object Number]",h7="[object Object]",p7="[object RegExp]",m7="[object Set]",g7="[object String]",y7="[object WeakMap]",v7="[object ArrayBuffer]",x7="[object DataView]",b7="[object Float32Array]",w7="[object Float64Array]",_7="[object Int8Array]",S7="[object Int16Array]",E7="[object Int32Array]",T7="[object Uint8Array]",k7="[object Uint8ClampedArray]",N7="[object Uint16Array]",A7="[object Uint32Array]",nt={};nt[b7]=nt[w7]=nt[_7]=nt[S7]=nt[E7]=nt[T7]=nt[k7]=nt[N7]=nt[A7]=!0;nt[o7]=nt[a7]=nt[v7]=nt[s7]=nt[x7]=nt[l7]=nt[u7]=nt[c7]=nt[d7]=nt[f7]=nt[h7]=nt[p7]=nt[m7]=nt[g7]=nt[y7]=!1;function C7(t){return i7(t)&&r7(t.length)&&!!nt[n7(t)]}var P7=C7;function I7(t){return function(e){return t(e)}}var _2=I7,Nf={exports:{}};Nf.exports;(function(t,e){var n=PP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Nf,Nf.exports);var j7=Nf.exports,O7=P7,R7=_2,cS=j7,dS=cS&&cS.isTypedArray,M7=dS?R7(dS):O7,S2=M7,$7=UV,D7=Dx,L7=xn,U7=w2,B7=Lx,F7=S2,q7=Object.prototype,V7=q7.hasOwnProperty;function G7(t,e){var n=L7(t),r=!n&&D7(t),i=!n&&!r&&U7(t),o=!n&&!r&&!i&&F7(t),a=n||r||i||o,s=a?$7(t.length,String):[],l=s.length;for(var c in t)(e||V7.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||B7(c,l)))&&s.push(c);return s}var H7=G7,z7=Object.prototype;function W7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||z7;return t===n}var K7=W7;function J7(t,e){return function(n){return t(e(n))}}var E2=J7,Y7=E2,X7=Y7(Object.keys,Object),Q7=X7,Z7=K7,eG=Q7,tG=Object.prototype,nG=tG.hasOwnProperty;function rG(t){if(!Z7(t))return eG(t);var e=[];for(var n in Object(t))nG.call(t,n)&&n!="constructor"&&e.push(n);return e}var iG=rG,oG=bx,aG=Ux;function sG(t){return t!=null&&aG(t.length)&&!oG(t)}var xc=sG,lG=H7,uG=iG,cG=xc;function dG(t){return cG(t)?lG(t):uG(t)}var yp=dG,fG=NV,hG=DV,pG=yp;function mG(t){return fG(t,pG,hG)}var gG=mG,fS=gG,yG=1,vG=Object.prototype,xG=vG.hasOwnProperty;function bG(t,e,n,r,i,o){var a=n&yG,s=fS(t),l=s.length,c=fS(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:xG.call(e,h)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=s[f];var x=t[h],b=e[h];if(r)var _=a?r(b,x,h,e,t,o):r(x,b,h,t,e,o);if(!(_===void 0?x===b||i(x,b,n,r,o):_)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var wG=bG,_G=Qo,SG=$r,EG=_G(SG,"DataView"),TG=EG,kG=Qo,NG=$r,AG=kG(NG,"Promise"),CG=AG,PG=Qo,IG=$r,jG=PG(IG,"Set"),T2=jG,OG=Qo,RG=$r,MG=OG(RG,"WeakMap"),$G=MG,Ly=TG,Uy=_x,By=CG,Fy=T2,qy=$G,k2=hi,Hs=jP,hS="[object Map]",DG="[object Object]",pS="[object Promise]",mS="[object Set]",gS="[object WeakMap]",yS="[object DataView]",LG=Hs(Ly),UG=Hs(Uy),BG=Hs(By),FG=Hs(Fy),qG=Hs(qy),mo=k2;(Ly&&mo(new Ly(new ArrayBuffer(1)))!=yS||Uy&&mo(new Uy)!=hS||By&&mo(By.resolve())!=pS||Fy&&mo(new Fy)!=mS||qy&&mo(new qy)!=gS)&&(mo=function(t){var e=k2(t),n=e==DG?t.constructor:void 0,r=n?Hs(n):"";if(r)switch(r){case LG:return yS;case UG:return hS;case BG:return pS;case FG:return mS;case qG:return gS}return e});var VG=mo,Gm=p2,GG=v2,HG=_V,zG=wG,vS=VG,xS=xn,bS=w2,WG=S2,KG=1,wS="[object Arguments]",_S="[object Array]",Xc="[object Object]",JG=Object.prototype,SS=JG.hasOwnProperty;function YG(t,e,n,r,i,o){var a=xS(t),s=xS(e),l=a?_S:vS(t),c=s?_S:vS(e);l=l==wS?Xc:l,c=c==wS?Xc:c;var d=l==Xc,f=c==Xc,h=l==c;if(h&&bS(t)){if(!bS(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Gm),a||WG(t)?GG(t,e,n,r,i,o):HG(t,e,l,n,r,i,o);if(!(n&KG)){var m=d&&SS.call(t,"__wrapped__"),v=f&&SS.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,w=v?e.value():e;return o||(o=new Gm),i(y,w,n,r,o)}}return h?(o||(o=new Gm),zG(t,e,n,r,i,o)):!1}var XG=YG,QG=XG,ES=pi;function N2(t,e,n,r,i){return t===e?!0:t==null||e==null||!ES(t)&&!ES(e)?t!==t&&e!==e:QG(t,e,n,r,N2,i)}var Bx=N2,ZG=p2,eH=Bx,tH=1,nH=2;function rH(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ZG;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?eH(d,c,tH|nH,r,f):h))return!1}}return!0}var iH=rH,oH=Zi;function aH(t){return t===t&&!oH(t)}var A2=aH,sH=A2,lH=yp;function uH(t){for(var e=lH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sH(i)]}return e}var cH=uH;function dH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var C2=dH,fH=iH,hH=cH,pH=C2;function mH(t){var e=hH(t);return e.length==1&&e[0][2]?pH(e[0][0],e[0][1]):function(n){return n===t||fH(n,t,e)}}var gH=mH;function yH(t,e){return t!=null&&e in Object(t)}var vH=yH,xH=DP,bH=Dx,wH=xn,_H=Lx,SH=Ux,EH=np;function TH(t,e,n){e=xH(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=EH(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&SH(i)&&_H(a,i)&&(wH(t)||bH(t)))}var kH=TH,NH=vH,AH=kH;function CH(t,e){return t!=null&&AH(t,e,NH)}var PH=CH,IH=Bx,jH=LP,OH=PH,RH=xx,MH=A2,$H=C2,DH=np,LH=1,UH=2;function BH(t,e){return RH(t)&&MH(e)?$H(DH(t),e):function(n){var r=jH(n,t);return r===void 0&&r===e?OH(n,t):IH(e,r,LH|UH)}}var FH=BH;function qH(t){return t}var zs=qH;function VH(t){return function(e){return e==null?void 0:e[t]}}var GH=VH,HH=kx;function zH(t){return function(e){return HH(e,t)}}var WH=zH,KH=GH,JH=WH,YH=xx,XH=np;function QH(t){return YH(t)?KH(XH(t)):JH(t)}var ZH=QH,ez=gH,tz=FH,nz=zs,rz=xn,iz=ZH;function oz(t){return typeof t=="function"?t:t==null?nz:typeof t=="object"?rz(t)?tz(t[0],t[1]):ez(t):iz(t)}var Dr=oz;function az(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var P2=az;function sz(t){return t!==t}var lz=sz;function uz(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var cz=uz,dz=P2,fz=lz,hz=cz;function pz(t,e,n){return e===e?hz(t,e,n):dz(t,fz,n)}var mz=pz,gz=mz;function yz(t,e){var n=t==null?0:t.length;return!!n&&gz(t,e,0)>-1}var vz=yz;function xz(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var bz=xz;function wz(){}var _z=wz,Hm=T2,Sz=_z,Ez=$x,Tz=1/0,kz=Hm&&1/Ez(new Hm([,-0]))[1]==Tz?function(t){return new Hm(t)}:Sz,Nz=kz,Az=m2,Cz=vz,Pz=bz,Iz=y2,jz=Nz,Oz=$x,Rz=200;function Mz(t,e,n){var r=-1,i=Cz,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Pz;else if(o>=Rz){var c=e?null:jz(t);if(c)return Oz(c);a=!1,i=Iz,l=new Az}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var $z=Mz,Dz=Dr,Lz=$z;function Uz(t,e){return t&&t.length?Lz(t,Dz(e)):[]}var Bz=Uz;const TS=Ve(Bz);function I2(t,e,n){return e===!0?TS(t,n):Se(e)?TS(t,e):t}function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}var Fz=["ref"];function kS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(n),!0).forEach(function(r){vp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function Vz(t,e,n){return e&&NS(t.prototype,e),n&&NS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gz(t,e,n){return e=Af(e),Hz(t,j2()?Reflect.construct(e,n||[],Af(t).constructor):e.apply(t,n))}function Hz(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zz(t)}function zz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j2=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(t)}function Wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function vp(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=Kz(t,"string");return us(e)=="symbol"?e:e+""}function Kz(t,e){if(us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jz(t,e){if(t==null)return{};var n=Yz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xz(t){return t.value}function Qz(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=Jz(e,Fz);return M.createElement(Mx,n)}var AS=1,jo=function(t){function e(){var n;qz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gz(this,e,[].concat(i)),vp(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wz(e,t),Vz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>AS||Math.abs(i.height-this.lastBoundingBox.height)>AS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Br({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Br(Br({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Br(Br({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Qz(o,Br(Br({},this.props),{},{payload:I2(d,c,Xz)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Br(Br({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&le(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);vp(jo,"displayName","Legend");vp(jo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CS=yc,Zz=Dx,eW=xn,PS=CS?CS.isConcatSpreadable:void 0;function tW(t){return eW(t)||Zz(t)||!!(PS&&t&&t[PS])}var nW=tW,rW=x2,iW=nW;function R2(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=iW),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?R2(s,e-1,n,r,i):rW(i,s):r||(i[i.length]=s)}return i}var M2=R2;function oW(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var aW=oW,sW=aW,lW=sW(),uW=lW,cW=uW,dW=yp;function fW(t,e){return t&&cW(t,e,dW)}var $2=fW,hW=xc;function pW(t,e){return function(n,r){if(n==null)return n;if(!hW(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var mW=pW,gW=$2,yW=mW,vW=yW(gW),Fx=vW,xW=Fx,bW=xc;function wW(t,e){var n=-1,r=bW(t)?Array(t.length):[];return xW(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var D2=wW;function _W(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var SW=_W,IS=Ls;function EW(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=IS(t),a=e!==void 0,s=e===null,l=e===e,c=IS(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var TW=EW,kW=TW;function NW(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=kW(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var AW=NW,zm=Tx,CW=kx,PW=Dr,IW=D2,jW=SW,OW=_2,RW=AW,MW=zs,$W=xn;function DW(t,e,n){e.length?e=zm(e,function(o){return $W(o)?function(a){return CW(a,o.length===1?o[0]:o)}:o}):e=[MW];var r=-1;e=zm(e,OW(PW));var i=IW(t,function(o,a,s){var l=zm(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return jW(i,function(o,a){return RW(o,a,n)})}var LW=DW;function UW(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var BW=UW,FW=BW,jS=Math.max;function qW(t,e,n){return e=jS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=jS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),FW(t,this,s)}}var VW=qW;function GW(t){return function(){return t}}var HW=GW,zW=Qo,WW=function(){try{var t=zW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),L2=WW,KW=HW,OS=L2,JW=zs,YW=OS?function(t,e){return OS(t,"toString",{configurable:!0,enumerable:!1,value:KW(e),writable:!0})}:JW,XW=YW,QW=800,ZW=16,e9=Date.now;function t9(t){var e=0,n=0;return function(){var r=e9(),i=ZW-(r-n);if(n=r,i>0){if(++e>=QW)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n9=t9,r9=XW,i9=n9,o9=i9(r9),a9=o9,s9=zs,l9=VW,u9=a9;function c9(t,e){return u9(l9(t,e,s9),t+"")}var d9=c9,f9=wx,h9=xc,p9=Lx,m9=Zi;function g9(t,e,n){if(!m9(n))return!1;var r=typeof e;return(r=="number"?h9(n)&&p9(e,n.length):r=="string"&&e in n)?f9(n[e],t):!1}var xp=g9,y9=M2,v9=LW,x9=d9,RS=xp,b9=x9(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RS(t,e[0],e[1])?e=[]:n>2&&RS(e[0],e[1],e[2])&&(e=[e[0]]),v9(t,y9(e,1),[])}),w9=b9;const qx=Ve(w9);function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function _9(t,e){return k9(t)||T9(t,e)||E9(t,e)||S9()}function S9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function k9(t){if(Array.isArray(t))return t}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){N9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N9(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=C9(t,"string");return Tu(e)=="symbol"?e:e+""}function C9(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P9(t){return Array.isArray(t)&&It(t[0])&&It(t[1])?t.join(" ~ "):t}var I9=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,y=e.label,w=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,_=function(){if(d&&d.length){var D={padding:0,margin:0},L=(h?qx(d,h):d).map(function($,j){if($.type==="none")return null;var F=Wm({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),U=$.formatter||f||P9,q=$.value,W=$.name,J=q,ne=W;if(U&&J!=null&&ne!=null){var Q=U(q,W,$,j,d);if(Array.isArray(Q)){var ce=_9(Q,2);J=ce[0],ne=ce[1]}else J=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:F},It(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,It(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},J),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},E=Wm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Wm({margin:0},c),T=!Ae(y),k=T?y:"",A=Ce("recharts-default-tooltip",m),C=Ce("recharts-tooltip-label",v);T&&w&&d!==void 0&&d!==null&&(k=w(y,d));var O=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Gy({className:A,style:E},O),M.createElement("p",{className:C,style:S},M.isValidElement(k)?k:"".concat(k)),_())};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Qc(t,e,n){return e=j9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9(t){var e=O9(t,"string");return ku(e)=="symbol"?e:e+""}function O9(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dl="recharts-tooltip-wrapper",R9={visibility:"hidden"};function M9(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(dl,Qc(Qc(Qc(Qc({},"".concat(dl,"-right"),le(n)&&e&&le(e.x)&&n>=e.x),"".concat(dl,"-left"),le(n)&&e&&le(e.x)&&n<e.x),"".concat(dl,"-bottom"),le(r)&&e&&le(e.y)&&r>=e.y),"".concat(dl,"-top"),le(r)&&e&&le(e.y)&&r<e.y))}function DS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&le(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+c;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function $9(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function D9(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=DS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=DS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=$9({translateX:d,translateY:f,useTranslate3d:s})):c=R9,{cssProperties:c,cssClasses:M9({translateX:d,translateY:f,coordinate:n})}}function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function US(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B2(r.key),r)}}function B9(t,e,n){return e&&U9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F9(t,e,n){return e=Cf(e),q9(t,U2()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function q9(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V9(t)}function V9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function G9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(t,e)}function zy(t,e,n){return e=B2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B2(t){var e=H9(t,"string");return cs(e)=="symbol"?e:e+""}function H9(t,e){if(cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BS=1,z9=function(t){function e(){var n;L9(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=F9(this,e,[].concat(i)),zy(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zy(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return G9(e,t),B9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>BS||Math.abs(r.height-this.state.lastBoundingBox.height)>BS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,_=D9({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),E=_.cssClasses,S=_.cssProperties,T=US(US({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(A){r.wrapperNode=A}},c)}}])}(N.PureComponent),W9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zo={isSsr:W9()};function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){Vx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function Y9(t,e,n){return e&&J9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X9(t,e,n){return e=Pf(e),Q9(t,F2()?Reflect.construct(e,n||[],Pf(t).constructor):e.apply(t,n))}function Q9(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z9(t)}function Z9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}function eK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wy(t,e)}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wy(t,e)}function Vx(t,e,n){return e=q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2(t){var e=tK(t,"string");return ds(e)=="symbol"?e:e+""}function tK(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nK(t){return t.dataKey}function rK(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(I9,e)}var Tn=function(t){function e(){return K9(this,e),X9(this,e,arguments)}return eK(e,t),Y9(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,y=i.payloadUniqBy,w=i.position,x=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=v??[];f&&S.length&&(S=I2(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),y,nK));var T=S.length>0;return M.createElement(z9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:T,offset:m,position:w,reverseDirection:x,useTranslate3d:b,viewBox:_,wrapperStyle:E},rK(c,qS(qS({},this.props),{},{payload:S})))}}])}(N.PureComponent);Vx(Tn,"displayName","Tooltip");Vx(Tn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iK=$r,oK=function(){return iK.Date.now()},aK=oK,sK=/\s/;function lK(t){for(var e=t.length;e--&&sK.test(t.charAt(e)););return e}var uK=lK,cK=uK,dK=/^\s+/;function fK(t){return t&&t.slice(0,cK(t)+1).replace(dK,"")}var hK=fK,pK=hK,VS=Zi,mK=Ls,GS=NaN,gK=/^[-+]0x[0-9a-f]+$/i,yK=/^0b[01]+$/i,vK=/^0o[0-7]+$/i,xK=parseInt;function bK(t){if(typeof t=="number")return t;if(mK(t))return GS;if(VS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=VS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pK(t);var n=yK.test(t);return n||vK.test(t)?xK(t.slice(2),n?2:8):gK.test(t)?GS:+t}var V2=bK,wK=Zi,Km=aK,HS=V2,_K="Expected a function",SK=Math.max,EK=Math.min;function TK(t,e,n){var r,i,o,a,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_K);e=HS(e)||0,wK(n)&&(d=!!n.leading,f="maxWait"in n,o=f?SK(HS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(T){var k=r,A=i;return r=i=void 0,c=T,a=t.apply(A,k),a}function v(T){return c=T,s=setTimeout(x,e),d?m(T):a}function y(T){var k=T-l,A=T-c,C=e-k;return f?EK(C,o-A):C}function w(T){var k=T-l,A=T-c;return l===void 0||k>=e||k<0||f&&A>=o}function x(){var T=Km();if(w(T))return b(T);s=setTimeout(x,y(T))}function b(T){return s=void 0,h&&r?m(T):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function E(){return s===void 0?a:b(Km())}function S(){var T=Km(),k=w(T);if(r=arguments,i=this,l=T,k){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,e),m(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=_,S.flush=E,S}var kK=TK,NK=kK,AK=Zi,CK="Expected a function";function PK(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(CK);return AK(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),NK(t,e,{leading:r,maxWait:e,trailing:i})}var IK=PK;const G2=Ve(IK);function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){jK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jK(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=RK(t,"string");return Nu(e)=="symbol"?e:e+""}function RK(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t,e){return UK(t)||LK(t,e)||DK(t,e)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function UK(t){if(Array.isArray(t))return t}var Wa=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,y=v===void 0?0:v,w=t.id,x=t.className,b=t.onResize,_=t.style,E=_===void 0?{}:_,S=N.useRef(null),T=N.useRef();T.current=b,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=N.useState({containerWidth:i.width,containerHeight:i.height}),A=MK(k,2),C=A[0],O=A[1],R=N.useCallback(function(L,$){O(function(j){var F=Math.round(L),U=Math.round($);return j.containerWidth===F&&j.containerHeight===U?j:{containerWidth:F,containerHeight:U}})},[]);N.useEffect(function(){var L=function(W){var J,ne=W[0].contentRect,Q=ne.width,ce=ne.height;R(Q,ce),(J=T.current)===null||J===void 0||J.call(T,Q,ce)};y>0&&(L=G2(L,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),j=S.current.getBoundingClientRect(),F=j.width,U=j.height;return R(F,U),$.observe(S.current),function(){$.disconnect()}},[R,y]);var D=N.useMemo(function(){var L=C.containerWidth,$=C.containerHeight;if(L<0||$<0)return null;mr(To(a)||To(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),mr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=To(a)?L:a,F=To(l)?$:l;n&&n>0&&(j?F=j/n:F&&(j=F*n),h&&F>h&&(F=h)),mr(j>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,F,a,l,d,f,n);var U=!Array.isArray(m)&&ei(m.type).endsWith("Chart");return M.Children.map(m,function(q){return M.isValidElement(q)?N.cloneElement(q,Zc({width:j,height:F},U?{style:Zc({height:"100%",width:"100%",maxHeight:F,maxWidth:j},q.props.style)}:{})):q})},[n,m,l,h,f,d,C,a]);return M.createElement("div",{id:w?"".concat(w):void 0,className:Ce("recharts-responsive-container",x),style:Zc(Zc({},E),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},D)}),Au=function(e){return null};Au.displayName="Cell";function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return e=FK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=qK(t,"string");return Cu(e)=="symbol"?e:e+""}function qK(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var da={widthCache:{},cacheCount:0},VK=2e3,GK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JS="recharts_measurement_span";function HK(t){var e=Ky({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ql=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zo.isSsr)return{width:0,height:0};var r=HK(n),i=JSON.stringify({text:e,copyStyle:r});if(da.widthCache[i])return da.widthCache[i];try{var o=document.getElementById(JS);o||(o=document.createElement("span"),o.setAttribute("id",JS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ky(Ky({},GK),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return da.widthCache[i]=l,++da.cacheCount>VK&&(da.cacheCount=0,da.widthCache={}),l}catch{return{width:0,height:0}}},zK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function If(t,e){return YK(t)||JK(t,e)||KK(t,e)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t,e){if(t){if(typeof t=="string")return YS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(t,e)}}function YS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function YK(t){if(Array.isArray(t))return t}function XK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZK(r.key),r)}}function QK(t,e,n){return e&&XS(t.prototype,e),n&&XS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZK(t){var e=eJ(t,"string");return Pu(e)=="symbol"?e:e+""}function eJ(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rJ=Object.keys(H2),ja="NaN";function iJ(t,e){return t*H2[e]}var ed=function(){function t(e,n){XK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!tJ.test(n)&&(this.num=NaN,this.unit=""),rJ.includes(n)&&(this.num=iJ(e,n),this.unit="px")}return QK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=nJ.exec(n))!==null&&r!==void 0?r:[],o=If(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function z2(t){if(t.includes(ja))return ja;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=QS.exec(e))!==null&&n!==void 0?n:[],i=If(r,4),o=i[1],a=i[2],s=i[3],l=ed.parse(o??""),c=ed.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return ja;e=e.replace(QS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ZS.exec(e))!==null&&f!==void 0?f:[],m=If(h,4),v=m[1],y=m[2],w=m[3],x=ed.parse(v??""),b=ed.parse(w??""),_=y==="+"?x.add(b):x.subtract(b);if(_.isNaN())return ja;e=e.replace(ZS,_.toString())}return e}var e1=/\(([^()]*)\)/;function oJ(t){for(var e=t;e.includes("(");){var n=e1.exec(e),r=If(n,2),i=r[1];e=e.replace(e1,z2(i))}return e}function aJ(t){var e=t.replace(/\s+/g,"");return e=oJ(e),e=z2(e),e}function sJ(t){try{return aJ(t)}catch{return ja}}function Jm(t){var e=sJ(t.slice(5,-1));return e===ja?"":e}var lJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uJ=["dx","dy","angle","className","breakAll"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}function t1(t,e){if(t==null)return{};var n=cJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1(t,e){return pJ(t)||hJ(t,e)||fJ(t,e)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(t,e){if(t){if(typeof t=="string")return r1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(t,e)}}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pJ(t){if(Array.isArray(t))return t}var W2=/[ \f\n\r\t\v\u2028\u2029]+/,K2=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(W2));var a=o.map(function(l){return{word:l,width:ql(l,i).width}}),s=r?0:ql("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},mJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=le(a),f=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(F,U){var q=U.word,W=U.width,J=F[F.length-1];if(J&&(i==null||o||J.width+W+r<Number(i)))J.words.push(q),J.width+=W+r;else{var ne={words:[q],width:W};F.push(ne)}return F},[])},m=h(n),v=function(j){return j.reduce(function(F,U){return F.width>U.width?F:U})};if(!d)return m;for(var y="",w=function(j){var F=f.slice(0,j),U=K2({breakAll:c,style:l,children:F+y}).wordsWithComputedWidth,q=h(U),W=q.length>a||v(q).width>Number(i);return[W,q]},x=0,b=f.length-1,_=0,E;x<=b&&_<=f.length-1;){var S=Math.floor((x+b)/2),T=S-1,k=w(T),A=n1(k,2),C=A[0],O=A[1],R=w(S),D=n1(R,1),L=D[0];if(!C&&!L&&(x=S+1),C&&L&&(b=S-1),!C&&L){E=O;break}_++}return E||m},i1=function(e){var n=Ae(e)?[]:e.toString().split(W2);return[{words:n}]},gJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Zo.isSsr){var l,c,d=K2({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return i1(i);return mJ({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return i1(i)},o1="#808080",qo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,w=e.fill,x=w===void 0?o1:w,b=t1(e,lJ),_=N.useMemo(function(){return gJ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),E=b.dx,S=b.dy,T=b.angle,k=b.className,A=b.breakAll,C=t1(b,uJ);if(!It(r)||!It(o))return null;var O=r+(le(E)?E:0),R=o+(le(S)?S:0),D;switch(y){case"start":D=Jm("calc(".concat(c,")"));break;case"middle":D=Jm("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:D=Jm("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[];if(f){var $=_[0].width,j=b.width;L.push("scale(".concat((le(j)?j/$:1)/$,")"))}return T&&L.push("rotate(".concat(T,", ").concat(O,", ").concat(R,")")),L.length&&(C.transform=L.join(" ")),M.createElement("text",Jy({},ye(C,!0),{x:O,y:R,className:Ce("recharts-text",k),textAnchor:m,fill:x.includes("url")?o1:x}),_.map(function(F,U){var q=F.words.join(A?"":" ");return M.createElement("tspan",{x:O,dy:U===0?D:s,key:"".concat(q,"-").concat(U)},q)}))};function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gx(t){let e,n,r;t.length!==2?(e=Gi,n=(s,l)=>Gi(t(s),l),r=(s,l)=>t(s)-l):(e=t===Gi||t===yJ?t:vJ,n=t,r=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function vJ(){return 0}function J2(t){return t===null?NaN:+t}function*xJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bJ=Gx(Gi),bc=bJ.right;Gx(J2).center;class a1 extends Map{constructor(e,n=SJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(s1(this,e))}has(e){return super.has(s1(this,e))}set(e,n){return super.set(wJ(this,e),n)}delete(e){return super.delete(_J(this,e))}}function s1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _J({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function SJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EJ(t=Gi){if(t===Gi)return Y2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Y2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const TJ=Math.sqrt(50),kJ=Math.sqrt(10),NJ=Math.sqrt(2);function jf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=TJ?10:o>=kJ?5:o>=NJ?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?jf(t,e,n*2):[s,l,c]}function Yy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?jf(e,t,n):jf(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Xy(t,e,n){return e=+e,t=+t,n=+n,jf(t,e,n)[2]}function Qy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xy(e,t,n):Xy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function l1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function u1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X2(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Y2:EJ(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),v=Math.min(r,Math.floor(e+(l-c)*f/l+h));X2(t,e,m,v,i)}const o=t[e];let a=n,s=r;for(fl(t,n,e),i(t[r],o)>0&&fl(t,n,r);a<s;){for(fl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?fl(t,n,s):(++s,fl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function fl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AJ(t,e,n){if(t=Float64Array.from(xJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return u1(t);if(e>=1)return l1(t);var r,i=(r-1)*e,o=Math.floor(i),a=l1(X2(t,o).subarray(0,o+1)),s=u1(t.subarray(o+1));return a+(s-a)*(i-o)}}function CJ(t,e,n=J2){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function PJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zy=Symbol("implicit");function Hx(){var t=new a1,e=[],n=[],r=Zy;function i(o){let a=t.get(o);if(a===void 0){if(r!==Zy)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new a1;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hx(e,n).unknown(r)},er.apply(i,arguments),i}function Iu(){var t=Hx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,y=m?r:i;o=(y-v)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=PJ(h).map(function(x){return v+o*x});return n(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Iu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},er.apply(f(),arguments)}function Q2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Q2(e())},t}function Vl(){return Q2(Iu.apply(null,arguments).paddingInner(1))}function zx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Z2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wc(){}var ju=.7,Of=1/ju,Ka="\\s*([+-]?\\d+)\\s*",Ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IJ=/^#([0-9a-f]{3,8})$/,jJ=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),OJ=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),RJ=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${Ou}\\)$`),MJ=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Ou}\\)$`),$J=new RegExp(`^hsl\\(${Ou},${Pr},${Pr}\\)$`),DJ=new RegExp(`^hsla\\(${Ou},${Pr},${Pr},${Ou}\\)$`),c1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zx(wc,Ru,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d1,formatHex:d1,formatHex8:LJ,formatHsl:UJ,formatRgb:f1,toString:f1});function d1(){return this.rgb().formatHex()}function LJ(){return this.rgb().formatHex8()}function UJ(){return eI(this).formatHsl()}function f1(){return this.rgb().formatRgb()}function Ru(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?h1(e):n===3?new mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?td(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?td(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jJ.exec(t))?new mn(e[1],e[2],e[3],1):(e=OJ.exec(t))?new mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RJ.exec(t))?td(e[1],e[2],e[3],e[4]):(e=MJ.exec(t))?td(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$J.exec(t))?g1(e[1],e[2]/100,e[3]/100,1):(e=DJ.exec(t))?g1(e[1],e[2]/100,e[3]/100,e[4]):c1.hasOwnProperty(t)?h1(c1[t]):t==="transparent"?new mn(NaN,NaN,NaN,0):null}function h1(t){return new mn(t>>16&255,t>>8&255,t&255,1)}function td(t,e,n,r){return r<=0&&(t=e=n=NaN),new mn(t,e,n,r)}function BJ(t){return t instanceof wc||(t=Ru(t)),t?(t=t.rgb(),new mn(t.r,t.g,t.b,t.opacity)):new mn}function ev(t,e,n,r){return arguments.length===1?BJ(t):new mn(t,e,n,r??1)}function mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zx(mn,ev,Z2(wc,{brighter(t){return t=t==null?Of:Math.pow(Of,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ju:Math.pow(ju,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mn(Oo(this.r),Oo(this.g),Oo(this.b),Rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p1,formatHex:p1,formatHex8:FJ,formatRgb:m1,toString:m1}));function p1(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function FJ(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function m1(){const t=Rf(this.opacity);return`${t===1?"rgb(":"rgba("}${Oo(this.r)}, ${Oo(this.g)}, ${Oo(this.b)}${t===1?")":`, ${t})`}`}function Rf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ko(t){return t=Oo(t),(t<16?"0":"")+t.toString(16)}function g1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fr(t,e,n,r)}function eI(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);if(t instanceof wc||(t=Ru(t)),!t)return new fr;if(t instanceof fr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new fr(a,s,l,t.opacity)}function qJ(t,e,n,r){return arguments.length===1?eI(t):new fr(t,e,n,r??1)}function fr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zx(fr,qJ,Z2(wc,{brighter(t){return t=t==null?Of:Math.pow(Of,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ju:Math.pow(ju,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mn(Ym(t>=240?t-240:t+120,i,r),Ym(t,i,r),Ym(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fr(y1(this.h),nd(this.s),nd(this.l),Rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rf(this.opacity);return`${t===1?"hsl(":"hsla("}${y1(this.h)}, ${nd(this.s)*100}%, ${nd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function y1(t){return t=(t||0)%360,t<0?t+360:t}function nd(t){return Math.max(0,Math.min(1,t||0))}function Ym(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wx=t=>()=>t;function VJ(t,e){return function(n){return t+n*e}}function GJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HJ(t){return(t=+t)==1?tI:function(e,n){return n-e?GJ(e,n,t):Wx(isNaN(e)?n:e)}}function tI(t,e){var n=e-t;return n?VJ(t,n):Wx(isNaN(t)?e:t)}const v1=function t(e){var n=HJ(e);function r(i,o){var a=n((i=ev(i)).r,(o=ev(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=tI(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function zJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function WJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ws(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function JJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function YJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ws(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xm=new RegExp(tv.source,"g");function XJ(t){return function(){return t}}function QJ(t){return function(e){return t(e)+""}}function ZJ(t,e){var n=tv.lastIndex=Xm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=tv.exec(t))&&(i=Xm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Mf(r,i)})),n=Xm.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?QJ(l[0].x):XJ(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Ws(t,e){var n=typeof e,r;return e==null||n==="boolean"?Wx(e):(n==="number"?Mf:n==="string"?(r=Ru(e))?(e=r,v1):ZJ:e instanceof Ru?v1:e instanceof Date?JJ:WJ(e)?zJ:Array.isArray(e)?KJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YJ:Mf)(t,e)}function Kx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eY(t,e){e===void 0&&(e=t,t=Ws);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function tY(t){return function(){return t}}function $f(t){return+t}var x1=[0,1];function sn(t){return t}function nv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tY(isNaN(e)?NaN:.5)}function nY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rY(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=nv(i,r),o=n(a,o)):(r=nv(r,i),o=n(o,a)),function(s){return o(r(s))}}function iY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=nv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=bc(t,s,1,r)-1;return o[l](i[l](s))}}function _c(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bp(){var t=x1,e=x1,n=Ws,r,i,o,a=sn,s,l,c;function d(){var h=Math.min(t.length,e.length);return a!==sn&&(a=nY(t[0],t[h-1])),s=h>2?iY:rY,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=s(e,t.map(r),Mf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,$f),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Kx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:sn,d()):a!==sn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function Jx(){return bp()(sn,sn)}function oY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Df(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fs(t){return t=Df(Math.abs(t)),t?t[1]:NaN}function aY(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function sY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mu(t){if(!(e=lY.exec(t)))throw new Error("invalid format: "+t);var e;return new Yx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mu.prototype=Yx.prototype;function Yx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nI;function cY(t,e){var n=Df(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(nI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Df(t,Math.max(0,e+o-1))[0]}function b1(t,e){var n=Df(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const w1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>b1(t*100,e),r:b1,s:cY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _1(t){return t}var S1=Array.prototype.map,E1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dY(t){var e=t.grouping===void 0||t.thousands===void 0?_1:aY(S1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?_1:sY(S1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Mu(f);var h=f.fill,m=f.align,v=f.sign,y=f.symbol,w=f.zero,x=f.width,b=f.comma,_=f.precision,E=f.trim,S=f.type;S==="n"?(b=!0,S="g"):w1[S]||(_===void 0&&(_=12),E=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=y==="$"?r:/[%p]/.test(S)?a:"",A=w1[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(R){var D=T,L=k,$,j,F;if(S==="c")L=A(R)+L,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?l:A(Math.abs(R),_),E&&(R=uY(R)),U&&+R==0&&v!=="+"&&(U=!1),D=(U?v==="("?v:s:v==="-"||v==="("?"":v)+D,L=(S==="s"?E1[8+nI/3]:"")+L+(U&&v==="("?")":""),C){for($=-1,j=R.length;++$<j;)if(F=R.charCodeAt($),48>F||F>57){L=(F===46?i+R.slice($+1):R.slice($))+L,R=R.slice(0,$);break}}}b&&!w&&(R=e(R,1/0));var q=D.length+R.length+L.length,W=q<x?new Array(x-q+1).join(h):"";switch(b&&w&&(R=e(W+R,W.length?x-L.length:1/0),W=""),m){case"<":R=D+R+L+W;break;case"=":R=D+W+R+L;break;case"^":R=W.slice(0,q=W.length>>1)+D+R+L+W.slice(q);break;default:R=W+D+R+L;break}return o(R)}return O.toString=function(){return f+""},O}function d(f,h){var m=c((f=Mu(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(fs(h)/3)))*3,y=Math.pow(10,-v),w=E1[8+v/3];return function(x){return m(y*x)+w}}return{format:c,formatPrefix:d}}var rd,Xx,rI;fY({thousands:",",grouping:[3],currency:["$",""]});function fY(t){return rd=dY(t),Xx=rd.format,rI=rd.formatPrefix,rd}function hY(t){return Math.max(0,-fs(Math.abs(t)))}function pY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fs(e)/3)))*3-fs(Math.abs(t)))}function mY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fs(e)-fs(t))+1}function iI(t,e,n,r){var i=Qy(t,e,n),o;switch(r=Mu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=pY(i,a))&&(r.precision=o),rI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hY(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xx(r)}function eo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Yy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=Xy(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Lf(){var t=Jx();return t.copy=function(){return _c(t,Lf())},er.apply(t,arguments),eo(t)}function oI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$f),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oI(t).unknown(e)},t=arguments.length?Array.from(t,$f):[0,1],eo(n)}function aI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function T1(t){return Math.log(t)}function k1(t){return Math.exp(t)}function gY(t){return-Math.log(-t)}function yY(t){return-Math.exp(-t)}function vY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xY(t){return t===10?vY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function N1(t){return(e,n)=>-t(-e,n)}function Qx(t){const e=t(T1,k1),n=e.domain;let r=10,i,o;function a(){return i=bY(r),o=xY(r),n()[0]<0?(i=N1(i),o=N1(o),t(gY,yY)):t(T1,k1),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,y;const w=s==null?10:+s;let x=[];if(!(r%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<c)){if(y>d)break;x.push(y)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<c)){if(y>d)break;x.push(y)}x.length*2<w&&(x=Yy(c,d,w))}else x=Yy(h,m,Math.min(m-h,w)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Mu(l)).precision==null&&(l.trim=!0),l=Xx(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(aI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function sI(){const t=Qx(bp()).domain([1,10]);return t.copy=()=>_c(t,sI()).base(t.base()),er.apply(t,arguments),t}function A1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function C1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zx(t){var e=1,n=t(A1(e),C1(e));return n.constant=function(r){return arguments.length?t(A1(e=+r),C1(e)):e},eo(n)}function lI(){var t=Zx(bp());return t.copy=function(){return _c(t,lI()).constant(t.constant())},er.apply(t,arguments)}function P1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _Y(t){return t<0?-t*t:t*t}function eb(t){var e=t(sn,sn),n=1;function r(){return n===1?t(sn,sn):n===.5?t(wY,_Y):t(P1(n),P1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},eo(e)}function tb(){var t=eb(bp());return t.copy=function(){return _c(t,tb()).exponent(t.exponent())},er.apply(t,arguments),t}function SY(){return tb.apply(null,arguments).exponent(.5)}function I1(t){return Math.sign(t)*t*t}function EY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uI(){var t=Jx(),e=[0,1],n=!1,r;function i(o){var a=EY(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(I1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,$f)).map(I1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},er.apply(i,arguments),eo(i)}function cI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=CJ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[bc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return cI().domain(t).range(e).unknown(r)},er.apply(o,arguments)}function dI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[bc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return dI().domain([t,e]).range(i).unknown(o)},er.apply(eo(a),arguments)}function fI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return fI().domain(t).range(e).unknown(n)},er.apply(i,arguments)}const Qm=new Date,Zm=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>jt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Qm.setTime(+o),Zm.setTime(+a),t(Qm),t(Zm),Math.floor(n(Qm,Zm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Uf=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uf);Uf.range;const Kr=1e3,zn=Kr*60,Jr=zn*60,si=Jr*24,nb=si*7,j1=si*30,eg=si*365,No=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCSeconds());No.range;const rb=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());rb.range;const ib=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());ib.range;const ob=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getHours());ob.range;const ab=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCHours());ab.range;const Sc=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/si,t=>t.getDate()-1);Sc.range;const wp=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/si,t=>t.getUTCDate()-1);wp.range;const hI=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/si,t=>Math.floor(t/si));hI.range;function ea(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zn)/nb)}const _p=ea(0),Bf=ea(1),TY=ea(2),kY=ea(3),hs=ea(4),NY=ea(5),AY=ea(6);_p.range;Bf.range;TY.range;kY.range;hs.range;NY.range;AY.range;function ta(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nb)}const Sp=ta(0),Ff=ta(1),CY=ta(2),PY=ta(3),ps=ta(4),IY=ta(5),jY=ta(6);Sp.range;Ff.range;CY.range;PY.range;ps.range;IY.range;jY.range;const sb=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sb.range;const lb=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lb.range;const li=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});li.range;const ui=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ui.range;function pI(t,e,n,r,i,o){const a=[[No,1,Kr],[No,5,5*Kr],[No,15,15*Kr],[No,30,30*Kr],[o,1,zn],[o,5,5*zn],[o,15,15*zn],[o,30,30*zn],[i,1,Jr],[i,3,3*Jr],[i,6,6*Jr],[i,12,12*Jr],[r,1,si],[r,2,2*si],[n,1,nb],[e,1,j1],[e,3,3*j1],[t,1,eg]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,m=Gx(([,,w])=>w).right(a,h);if(m===a.length)return t.every(Qy(c/eg,d/eg,f));if(m===0)return Uf.every(Math.max(Qy(c,d,f),1));const[v,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(y)}return[s,l]}const[OY,RY]=pI(ui,lb,Sp,hI,ab,ib),[MY,$Y]=pI(li,sb,_p,Sc,ob,rb);function tg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ng(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function DY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=pl(i),d=ml(i),f=pl(o),h=ml(o),m=pl(a),v=ml(a),y=pl(s),w=ml(s),x=pl(l),b=ml(l),_={a:U,A:q,b:W,B:J,c:null,d:L1,e:L1,f:aX,g:gX,G:vX,H:rX,I:iX,j:oX,L:mI,m:sX,M:lX,p:ne,q:Q,Q:F1,s:q1,S:uX,u:cX,U:dX,V:fX,w:hX,W:pX,x:null,X:null,y:mX,Y:yX,Z:xX,"%":B1},E={a:ce,A:Ee,b:Te,B:Me,c:null,d:U1,e:U1,f:SX,g:OX,G:MX,H:bX,I:wX,j:_X,L:yI,m:EX,M:TX,p:_e,q:Be,Q:F1,s:q1,S:kX,u:NX,U:AX,V:CX,w:PX,W:IX,x:null,X:null,y:jX,Y:RX,Z:$X,"%":B1},S={a:O,A:R,b:D,B:L,c:$,d:$1,e:$1,f:ZY,g:M1,G:R1,H:D1,I:D1,j:JY,L:QY,m:KY,M:YY,p:C,q:WY,Q:tX,s:nX,S:XY,u:qY,U:VY,V:GY,w:FY,W:HY,x:j,X:F,y:M1,Y:R1,Z:zY,"%":eX};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(se,ge){return function(ve){var B=[],Oe=-1,Pe=0,I=se.length,V,X,K;for(ve instanceof Date||(ve=new Date(+ve));++Oe<I;)se.charCodeAt(Oe)===37&&(B.push(se.slice(Pe,Oe)),(X=O1[V=se.charAt(++Oe)])!=null?V=se.charAt(++Oe):X=V==="e"?" ":"0",(K=ge[V])&&(V=K(ve,X)),B.push(V),Pe=Oe+1);return B.push(se.slice(Pe,Oe)),B.join("")}}function k(se,ge){return function(ve){var B=hl(1900,void 0,1),Oe=A(B,se,ve+="",0),Pe,I;if(Oe!=ve.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ge&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(Pe=ng(hl(B.y,0,1)),I=Pe.getUTCDay(),Pe=I>4||I===0?Ff.ceil(Pe):Ff(Pe),Pe=wp.offset(Pe,(B.V-1)*7),B.y=Pe.getUTCFullYear(),B.m=Pe.getUTCMonth(),B.d=Pe.getUTCDate()+(B.w+6)%7):(Pe=tg(hl(B.y,0,1)),I=Pe.getDay(),Pe=I>4||I===0?Bf.ceil(Pe):Bf(Pe),Pe=Sc.offset(Pe,(B.V-1)*7),B.y=Pe.getFullYear(),B.m=Pe.getMonth(),B.d=Pe.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),I="Z"in B?ng(hl(B.y,0,1)).getUTCDay():tg(hl(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(I+5)%7:B.w+B.U*7-(I+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,ng(B)):tg(B)}}function A(se,ge,ve,B){for(var Oe=0,Pe=ge.length,I=ve.length,V,X;Oe<Pe;){if(B>=I)return-1;if(V=ge.charCodeAt(Oe++),V===37){if(V=ge.charAt(Oe++),X=S[V in O1?ge.charAt(Oe++):V],!X||(B=X(se,ve,B))<0)return-1}else if(V!=ve.charCodeAt(B++))return-1}return B}function C(se,ge,ve){var B=c.exec(ge.slice(ve));return B?(se.p=d.get(B[0].toLowerCase()),ve+B[0].length):-1}function O(se,ge,ve){var B=m.exec(ge.slice(ve));return B?(se.w=v.get(B[0].toLowerCase()),ve+B[0].length):-1}function R(se,ge,ve){var B=f.exec(ge.slice(ve));return B?(se.w=h.get(B[0].toLowerCase()),ve+B[0].length):-1}function D(se,ge,ve){var B=x.exec(ge.slice(ve));return B?(se.m=b.get(B[0].toLowerCase()),ve+B[0].length):-1}function L(se,ge,ve){var B=y.exec(ge.slice(ve));return B?(se.m=w.get(B[0].toLowerCase()),ve+B[0].length):-1}function $(se,ge,ve){return A(se,e,ge,ve)}function j(se,ge,ve){return A(se,n,ge,ve)}function F(se,ge,ve){return A(se,r,ge,ve)}function U(se){return a[se.getDay()]}function q(se){return o[se.getDay()]}function W(se){return l[se.getMonth()]}function J(se){return s[se.getMonth()]}function ne(se){return i[+(se.getHours()>=12)]}function Q(se){return 1+~~(se.getMonth()/3)}function ce(se){return a[se.getUTCDay()]}function Ee(se){return o[se.getUTCDay()]}function Te(se){return l[se.getUTCMonth()]}function Me(se){return s[se.getUTCMonth()]}function _e(se){return i[+(se.getUTCHours()>=12)]}function Be(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=T(se+="",_);return ge.toString=function(){return se},ge},parse:function(se){var ge=k(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=T(se+="",E);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=k(se+="",!0);return ge.toString=function(){return se},ge}}}var O1={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,LY=/^%/,UY=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function BY(t){return t.replace(UY,"\\$&")}function pl(t){return new RegExp("^(?:"+t.map(BY).join("|")+")","i")}function ml(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function FY(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function HY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function R1(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function M1(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function WY(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function KY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $1(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function JY(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D1(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function YY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function QY(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eX(t,e,n){var r=LY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tX(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nX(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function L1(t,e){return De(t.getDate(),e,2)}function rX(t,e){return De(t.getHours(),e,2)}function iX(t,e){return De(t.getHours()%12||12,e,2)}function oX(t,e){return De(1+Sc.count(li(t),t),e,3)}function mI(t,e){return De(t.getMilliseconds(),e,3)}function aX(t,e){return mI(t,e)+"000"}function sX(t,e){return De(t.getMonth()+1,e,2)}function lX(t,e){return De(t.getMinutes(),e,2)}function uX(t,e){return De(t.getSeconds(),e,2)}function cX(t){var e=t.getDay();return e===0?7:e}function dX(t,e){return De(_p.count(li(t)-1,t),e,2)}function gI(t){var e=t.getDay();return e>=4||e===0?hs(t):hs.ceil(t)}function fX(t,e){return t=gI(t),De(hs.count(li(t),t)+(li(t).getDay()===4),e,2)}function hX(t){return t.getDay()}function pX(t,e){return De(Bf.count(li(t)-1,t),e,2)}function mX(t,e){return De(t.getFullYear()%100,e,2)}function gX(t,e){return t=gI(t),De(t.getFullYear()%100,e,2)}function yX(t,e){return De(t.getFullYear()%1e4,e,4)}function vX(t,e){var n=t.getDay();return t=n>=4||n===0?hs(t):hs.ceil(t),De(t.getFullYear()%1e4,e,4)}function xX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function U1(t,e){return De(t.getUTCDate(),e,2)}function bX(t,e){return De(t.getUTCHours(),e,2)}function wX(t,e){return De(t.getUTCHours()%12||12,e,2)}function _X(t,e){return De(1+wp.count(ui(t),t),e,3)}function yI(t,e){return De(t.getUTCMilliseconds(),e,3)}function SX(t,e){return yI(t,e)+"000"}function EX(t,e){return De(t.getUTCMonth()+1,e,2)}function TX(t,e){return De(t.getUTCMinutes(),e,2)}function kX(t,e){return De(t.getUTCSeconds(),e,2)}function NX(t){var e=t.getUTCDay();return e===0?7:e}function AX(t,e){return De(Sp.count(ui(t)-1,t),e,2)}function vI(t){var e=t.getUTCDay();return e>=4||e===0?ps(t):ps.ceil(t)}function CX(t,e){return t=vI(t),De(ps.count(ui(t),t)+(ui(t).getUTCDay()===4),e,2)}function PX(t){return t.getUTCDay()}function IX(t,e){return De(Ff.count(ui(t)-1,t),e,2)}function jX(t,e){return De(t.getUTCFullYear()%100,e,2)}function OX(t,e){return t=vI(t),De(t.getUTCFullYear()%100,e,2)}function RX(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function MX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ps(t):ps.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function $X(){return"+0000"}function B1(){return"%"}function F1(t){return+t}function q1(t){return Math.floor(+t/1e3)}var fa,xI,bI;DX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DX(t){return fa=DY(t),xI=fa.format,fa.parse,bI=fa.utcFormat,fa.utcParse,fa}function LX(t){return new Date(t)}function UX(t){return t instanceof Date?+t:+new Date(+t)}function ub(t,e,n,r,i,o,a,s,l,c){var d=Jx(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),w=c("%I %p"),x=c("%a %d"),b=c("%b %d"),_=c("%B"),E=c("%Y");function S(T){return(l(T)<T?m:s(T)<T?v:a(T)<T?y:o(T)<T?w:r(T)<T?i(T)<T?x:b:n(T)<T?_:E)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,UX)):h().map(LX)},d.ticks=function(T){var k=h();return t(k[0],k[k.length-1],T??10)},d.tickFormat=function(T,k){return k==null?S:c(k)},d.nice=function(T){var k=h();return(!T||typeof T.range!="function")&&(T=e(k[0],k[k.length-1],T??10)),T?h(aI(k,T)):d},d.copy=function(){return _c(d,ub(t,e,n,r,i,o,a,s,l,c))},d}function BX(){return er.apply(ub(MY,$Y,li,sb,_p,Sc,ob,rb,No,xI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FX(){return er.apply(ub(OY,RY,ui,lb,Sp,wp,ab,ib,No,bI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ep(){var t=0,e=1,n,r,i,o,a=sn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,a=f(m,v),c):[a(0),a(1)]}}return c.range=d(Ws),c.rangeRound=d(Kx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function to(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wI(){var t=eo(Ep()(sn));return t.copy=function(){return to(t,wI())},mi.apply(t,arguments)}function _I(){var t=Qx(Ep()).domain([1,10]);return t.copy=function(){return to(t,_I()).base(t.base())},mi.apply(t,arguments)}function SI(){var t=Zx(Ep());return t.copy=function(){return to(t,SI()).constant(t.constant())},mi.apply(t,arguments)}function cb(){var t=eb(Ep());return t.copy=function(){return to(t,cb()).exponent(t.exponent())},mi.apply(t,arguments)}function qX(){return cb.apply(null,arguments).exponent(.5)}function EI(){var t=[],e=sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>AJ(t,o/r))},n.copy=function(){return EI(e).domain(t)},mi.apply(n,arguments)}function Tp(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=sn,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function v(y){return function(w){var x,b,_;return arguments.length?([x,b,_]=w,c=eY(y,[x,b,_]),m):[c(0),c(.5),c(1)]}}return m.range=v(Ws),m.rangeRound=v(Kx),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function TI(){var t=eo(Tp()(sn));return t.copy=function(){return to(t,TI())},mi.apply(t,arguments)}function kI(){var t=Qx(Tp()).domain([.1,1,10]);return t.copy=function(){return to(t,kI()).base(t.base())},mi.apply(t,arguments)}function NI(){var t=Zx(Tp());return t.copy=function(){return to(t,NI()).constant(t.constant())},mi.apply(t,arguments)}function db(){var t=eb(Tp());return t.copy=function(){return to(t,db()).exponent(t.exponent())},mi.apply(t,arguments)}function VX(){return db.apply(null,arguments).exponent(.5)}const V1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Iu,scaleDiverging:TI,scaleDivergingLog:kI,scaleDivergingPow:db,scaleDivergingSqrt:VX,scaleDivergingSymlog:NI,scaleIdentity:oI,scaleImplicit:Zy,scaleLinear:Lf,scaleLog:sI,scaleOrdinal:Hx,scalePoint:Vl,scalePow:tb,scaleQuantile:cI,scaleQuantize:dI,scaleRadial:uI,scaleSequential:wI,scaleSequentialLog:_I,scaleSequentialPow:cb,scaleSequentialQuantile:EI,scaleSequentialSqrt:qX,scaleSequentialSymlog:SI,scaleSqrt:SY,scaleSymlog:lI,scaleThreshold:fI,scaleTime:BX,scaleUtc:FX,tickFormat:iI},Symbol.toStringTag,{value:"Module"}));var GX=Ls;function HX(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!GX(a):n(a,s)))var s=a,l=o}return l}var kp=HX;function zX(t,e){return t>e}var AI=zX,WX=kp,KX=AI,JX=zs;function YX(t){return t&&t.length?WX(t,JX,KX):void 0}var XX=YX;const Np=Ve(XX);function QX(t,e){return t<e}var CI=QX,ZX=kp,eQ=CI,tQ=zs;function nQ(t){return t&&t.length?ZX(t,tQ,eQ):void 0}var rQ=nQ;const Ap=Ve(rQ);var iQ=Tx,oQ=Dr,aQ=D2,sQ=xn;function lQ(t,e){var n=sQ(t)?iQ:aQ;return n(t,oQ(e))}var uQ=lQ,cQ=M2,dQ=uQ;function fQ(t,e){return cQ(dQ(t,e),1)}var hQ=fQ;const pQ=Ve(hQ);var mQ=Bx;function gQ(t,e){return mQ(t,e)}var yQ=gQ;const Ec=Ve(yQ);var Ks=1e9,vQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hb,at=!0,Xn="[DecimalError] ",Ro=Xn+"Invalid argument: ",fb=Xn+"Exponent out of range: ",Js=Math.floor,go=Math.pow,xQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,Ot=1e7,rt=7,PI=9007199254740991,qf=Js(PI/rt),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return ti(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return Ke(ti(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return Et(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cn))throw Error(Xn+"NaN");if(n.s<1)throw Error(Xn+(n.s?"NaN":"-Infinity"));return n.eq(Cn)?new r(0):(at=!1,e=ti($u(n,o),$u(t,o),o),at=!0,Ke(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OI(e,t):II(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xn+"NaN");return n.s?(at=!1,e=ti(n,t,0,1).times(t),at=!0,n.minus(e)):Ke(new r(n),i)};he.naturalExponential=he.exp=function(){return jI(this)};he.naturalLogarithm=he.ln=function(){return $u(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?II(e,t):OI(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ro+t);if(e=Et(i)+1,r=i.d.length-1,n=r*rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xn+"NaN")}for(t=Et(s),at=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Nr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Js((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ti(s,o,a+2)).times(.5),Nr(o.d).slice(0,a)===(e=Nr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return at=!0,Ke(r,n)};he.times=he.mul=function(t){var e,n,r,i,o,a,s,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%Ot|0,e=s/Ot|0;o[i]=(o[i]+e)%Ot|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,at?Ke(t,f.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(jr(t,0,Ks),e===void 0?e=r.rounding:jr(e,0,8),Ke(n,t+Et(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vo(r,!0):(jr(t,0,Ks),e===void 0?e=i.rounding:jr(e,0,8),r=Ke(new i(r),t+1,e),n=Vo(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Vo(i):(jr(t,0,Ks),e===void 0?e=o.rounding:jr(e,0,8),r=Ke(new o(i),t+Et(i)+1,e),n=Vo(r.abs(),!1,t+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Et(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Cn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Xn+"Infinity");return s}if(s.eq(Cn))return s;if(r=l.precision,t.eq(Cn))return Ke(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=PI){for(i=new l(Cn),e=Math.ceil(r/rt+4),at=!1;n%2&&(i=i.times(s),H1(i.d,e)),n=Js(n/2),n!==0;)s=s.times(s),H1(s.d,e);return at=!0,t.s<0?new l(Cn).div(i):Ke(i,r)}}else if(o<0)throw Error(Xn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,at=!1,i=t.times($u(s,r+c)),at=!0,i=jI(i),i.s=o,i};he.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Et(i),r=Vo(i,n<=o.toExpNeg||n>=o.toExpPos)):(jr(t,1,Ks),e===void 0?e=o.rounding:jr(e,0,8),i=Ke(new o(i),t,e),n=Et(i),r=Vo(i,t<=n||n<=o.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(jr(t,1,Ks),e===void 0?e=r.rounding:jr(e,0,8)),Ke(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Et(t),n=t.constructor;return Vo(t,e<=n.toExpNeg||e>=n.toExpPos)};function II(t,e){var n,r,i,o,a,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),at?Ke(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/rt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Ot|0,l[o]%=Ot;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,at?Ke(e,f):e}function jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ro+t)}function Nr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=rt-r.length,n&&(o+=Ti(n)),o+=r;a=t[e],r=a+"",n=rt-r.length,n&&(o+=Ti(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ti=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ot|0,a=o/Ot|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ot+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,d,f,h,m,v,y,w,x,b,_,E,S,T,k,A,C=r.constructor,O=r.s==i.s?1:-1,R=r.d,D=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Xn+"Division by zero");for(l=r.e-i.e,k=D.length,S=R.length,m=new C(O),v=m.d=[],c=0;D[c]==(R[c]||0);)++c;if(D[c]>(R[c]||0)&&--l,o==null?b=o=C.precision:a?b=o+(Et(r)-Et(i))+1:b=o,b<0)return new C(0);if(b=b/rt+2|0,c=0,k==1)for(d=0,D=D[0],b++;(c<S||d)&&b--;c++)_=d*Ot+(R[c]||0),v[c]=_/D|0,d=_%D|0;else{for(d=Ot/(D[0]+1)|0,d>1&&(D=t(D,d),R=t(R,d),k=D.length,S=R.length),E=k,y=R.slice(0,k),w=y.length;w<k;)y[w++]=0;A=D.slice(),A.unshift(0),T=D[0],D[1]>=Ot/2&&++T;do d=0,s=e(D,y,k,w),s<0?(x=y[0],k!=w&&(x=x*Ot+(y[1]||0)),d=x/T|0,d>1?(d>=Ot&&(d=Ot-1),f=t(D,d),h=f.length,w=y.length,s=e(f,y,h,w),s==1&&(d--,n(f,k<h?A:D,h))):(d==0&&(s=d=1),f=D.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),s==-1&&(w=y.length,s=e(D,y,k,w),s<1&&(d++,n(y,k<w?A:D,w))),w=y.length):s===0&&(d++,y=[0]),v[c++]=d,s&&y[0]?y[w++]=R[E]||0:(y=[R[E]],w=1);while((E++<S||y[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=l,Ke(m,a?o+Et(m)+1:o)}}();function jI(t,e){var n,r,i,o,a,s,l=0,c=0,d=t.constructor,f=d.precision;if(Et(t)>16)throw Error(fb+Et(t));if(!t.s)return new d(Cn);for(at=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(go(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Cn),d.precision=s;;){if(i=Ke(i.times(t),s),n=n.times(++l),a=o.plus(ti(i,n,s)),Nr(a.d).slice(0,s)===Nr(o.d).slice(0,s)){for(;c--;)o=Ke(o.times(o),s);return d.precision=f,e==null?(at=!0,Ke(o,f)):o}o=a}}function Et(t){for(var e=t.e*rt,n=t.d[0];n>=10;n/=10)e++;return e}function rg(t,e,n){if(e>t.LN10.sd())throw at=!0,n&&(t.precision=n),Error(Xn+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function Ti(t){for(var e="";t--;)e+="0";return e}function $u(t,e){var n,r,i,o,a,s,l,c,d,f=1,h=10,m=t,v=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Xn+(m.s?"NaN":"-Infinity"));if(m.eq(Cn))return new y(0);if(e==null?(at=!1,c=w):c=e,m.eq(10))return e==null&&(at=!0),rg(y,c);if(c+=h,y.precision=c,n=Nr(v),r=n.charAt(0),o=Et(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Nr(m.d),r=n.charAt(0),f++;o=Et(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return l=rg(y,c+2,w).times(o+""),m=$u(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=w,e==null?(at=!0,Ke(m,w)):m;for(s=a=m=ti(m.minus(Cn),m.plus(Cn),c),d=Ke(m.times(m),c),i=3;;){if(a=Ke(a.times(d),c),l=s.plus(ti(a,new y(i),c)),Nr(l.d).slice(0,c)===Nr(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(rg(y,c+2,w).times(o+""))),s=ti(s,new y(f),c),y.precision=w,e==null?(at=!0,Ke(s,w)):s;s=l,i+=2}}function G1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Js(n/rt),t.d=[],r=(n+1)%rt,n<0&&(r+=rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=rt;r<i;)t.d.push(+e.slice(r,r+=rt));e=e.slice(r),r=rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),at&&(t.e>qf||t.e<-qf))throw Error(fb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,a,s,l,c,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=rt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/rt),o=f.length,d>=o)return t;for(c=o=f[d],a=1;o>=10;o/=10)a++;r%=rt,i=r-rt+a}if(n!==void 0&&(o=go(10,a-i-1),s=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/go(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Et(t),f.length=1,e=e-o-1,f[0]=go(10,(rt-e%rt)%rt),t.e=Js(-e/rt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=go(10,rt-r),f[d]=i>0?(c/go(10,a-i)%go(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Ot&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Ot)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(at&&(t.e>qf||t.e<-qf))throw Error(fb+Et(t));return t}function OI(t,e){var n,r,i,o,a,s,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),at?Ke(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(m/rt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ot-1;--l[o],l[i]+=Ot}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,at?Ke(e,m):e):new h(0)}function Vo(t,e,n){var r,i=Et(t),o=Nr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ti(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ti(-i-1)+o,n&&(r=n-a)>0&&(o+=Ti(r))):i>=a?(o+=Ti(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ti(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ti(r))),t.s<0?"-"+o:o}function H1(t,e){if(t.length>e)return t.length=e,!0}function RI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ro+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return G1(a,o.toString())}else if(typeof o!="string")throw Error(Ro+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,xQ.test(o))G1(a,o);else throw Error(Ro+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RI,i.config=i.set=bQ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bQ(t){if(!t||typeof t!="object")throw Error(Xn+"Object expected");var e,n,r,i=["precision",1,Ks,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Js(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ro+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ro+n+": "+r);return this}var hb=RI(vQ);Cn=new hb(1);const ze=hb;function wQ(t){return TQ(t)||EQ(t)||SQ(t)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t,e){if(t){if(typeof t=="string")return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(t,e)}}function EQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TQ(t){if(Array.isArray(t))return rv(t)}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kQ=function(e){return e},MI={},$I=function(e){return e===MI},z1=function(e){return function n(){return arguments.length===0||arguments.length===1&&$I(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},NQ=function t(e,n){return e===1?n:z1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==MI}).length;return a>=e?n.apply(void 0,i):t(e-a,z1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return $I(f)?l.shift():f});return n.apply(void 0,wQ(d).concat(l))}))})},Cp=function(e){return NQ(e.length,e)},iv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},AQ=Cp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),CQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kQ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},ov=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function PQ(t){var e;return t===0?e=1:e=Math.floor(new ze(t).abs().log(10).toNumber())+1,e}function IQ(t,e,n){for(var r=new ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var jQ=Cp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),OQ=Cp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),RQ=Cp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Pp={rangeStep:IQ,getDigitCount:PQ,interpolateNumber:jQ,uninterpolateNumber:OQ,uninterpolateTruncation:RQ};function av(t){return DQ(t)||$Q(t)||LI(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DQ(t){if(Array.isArray(t))return sv(t)}function Du(t,e){return BQ(t)||UQ(t,e)||LI(t,e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LI(t,e){if(t){if(typeof t=="string")return sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sv(t,e)}}function sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function BQ(t){if(Array.isArray(t))return t}function UI(t){var e=Du(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function BI(t,e,n){if(t.lte(0))return new ze(0);var r=Pp.getDigitCount(t.toNumber()),i=new ze(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new ze(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new ze(Math.ceil(l))}function FQ(t,e,n){var r=1,i=new ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ze(10).pow(Pp.getDigitCount(t)-1),i=new ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ze(Math.floor(t)))}else t===0?i=new ze(Math.floor((e-1)/2)):n||(i=new ze(Math.floor(t)));var a=Math.floor((e-1)/2),s=CQ(AQ(function(l){return i.add(new ze(l-a).mul(r)).toNumber()}),iv);return s(0,e)}function FI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=BI(new ze(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ze(0):(a=new ze(t).add(e).div(2),a=a.sub(new ze(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new ze(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?FI(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new ze(s).mul(o)),tickMax:a.add(new ze(l).mul(o))})}function qQ(t){var e=Du(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=UI([n,r]),l=Du(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(av(iv(0,i-1).map(function(){return 1/0}))):[].concat(av(iv(0,i-1).map(function(){return-1/0})),[d]);return n>r?ov(f):f}if(c===d)return FQ(c,i,o);var h=FI(c,d,a,o),m=h.step,v=h.tickMin,y=h.tickMax,w=Pp.rangeStep(v,y.add(new ze(.1).mul(m)),m);return n>r?ov(w):w}function VQ(t,e){var n=Du(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=UI([r,i]),s=Du(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=BI(new ze(c).sub(l).div(d-1),o,0),h=[].concat(av(Pp.rangeStep(new ze(l),new ze(c).sub(new ze(.99).mul(f)),f)),[c]);return r>i?ov(h):h}var GQ=DI(qQ),HQ=DI(VQ),zQ="Invariant failed";function Go(t,e){throw new Error(zQ)}var WQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function KQ(t,e){return QQ(t)||XQ(t,e)||YQ(t,e)||JQ()}function JQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return W1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W1(t,e)}}function W1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function QQ(t){if(Array.isArray(t))return t}function ZQ(t,e){if(t==null)return{};var n=eZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GI(r.key),r)}}function rZ(t,e,n){return e&&nZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t,e,n){return e=Gf(e),oZ(t,qI()?Reflect.construct(e,n||[],Gf(t).constructor):e.apply(t,n))}function oZ(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(t)}function aZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(t)}function sZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function VI(t,e,n){return e=GI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t){var e=lZ(t,"string");return ms(e)=="symbol"?e:e+""}function lZ(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tc=function(t){function e(){return tZ(this,e),iZ(this,e,arguments)}return sZ(e,t),rZ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=ZQ(r,WQ),m=ye(h,!1);this.props.direction==="x"&&d.type!=="number"&&Go();var v=l.map(function(y){var w=c(y,s),x=w.x,b=w.y,_=w.value,E=w.errorVal;if(!E)return null;var S=[],T,k;if(Array.isArray(E)){var A=KQ(E,2);T=A[0],k=A[1]}else T=k=E;if(o==="vertical"){var C=d.scale,O=b+i,R=O+a,D=O-a,L=C(_-T),$=C(_+k);S.push({x1:$,y1:R,x2:$,y2:D}),S.push({x1:L,y1:O,x2:$,y2:O}),S.push({x1:L,y1:R,x2:L,y2:D})}else if(o==="horizontal"){var j=f.scale,F=x+i,U=F-a,q=F+a,W=j(_-T),J=j(_+k);S.push({x1:U,y1:J,x2:q,y2:J}),S.push({x1:F,y1:W,x2:F,y2:J}),S.push({x1:U,y1:W,x2:q,y2:W})}return M.createElement($e,Vf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),S.map(function(ne){return M.createElement("line",Vf({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return M.createElement($e,{className:"recharts-errorBars"},v)}}])}(M.Component);VI(Tc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VI(Tc,"displayName","ErrorBar");function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){uZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e,n){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=dZ(t,"string");return Lu(e)=="symbol"?e:e+""}function dZ(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=En(n,jo);if(!a)return null;var s=jo.defaultProps,l=s!==void 0?so(so({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?so(so({},h),f.props):{},v=m.dataKey,y=m.name,w=m.legendType,x=m.hide;return{inactive:x,dataKey:v,type:l.iconType||w||"square",color:pb(f),value:y||v,payload:m}}),so(so(so({},l),jo.getWithHeight(a,i)),{},{payload:c,item:a})};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function J1(t){return mZ(t)||pZ(t)||hZ(t)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(t,e){if(t){if(typeof t=="string")return uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(t,e)}}function pZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mZ(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ja(t,e,n){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return Uu(e)=="symbol"?e:e+""}function yZ(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ct(t,e,n){return Ae(t)||Ae(e)?n:It(e)?jn(t,e,n):Se(e)?e(t):n}function Gl(t,e,n,r){var i=pQ(t,function(s){return Ct(s,e)});if(n==="number"){var o=i.filter(function(s){return le(s)||parseFloat(s)});return o.length?[Ap(o),Np(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ae(s)}):i;return a.map(function(s){return It(s)||s instanceof Date?s:""})}var vZ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(on(f-d)!==on(h-f)){var v=[];if(on(h-f)===on(l[1]-l[0])){m=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{m=d;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var b=Math.min(d,h),_=Math.max(d,h);if(e>(b+f)/2&&e<=(_+f)/2){a=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},pb=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},xZ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],y=v.items,w=v.cateAxisId,x=y.filter(function(k){return ei(k.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,_=b!==void 0?pt(pt({},b),x[0].props):x[0].props,E=_.barSize,S=_[w];a[S]||(a[S]=[]);var T=Ae(E)?n:E;a[S].push({item:x[0],stackList:x.slice(1),barSize:Ae(T)?void 0:an(T,r,0)})}}return a},bZ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=an(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,v=a.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var y=(i-v)/2>>0,w={offset:y-c,size:0};d=a.reduce(function(E,S){var T={item:S.item,position:{offset:w.offset+w.size+c,size:h?m:S.barSize}},k=[].concat(J1(E),[T]);return w=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){k.push({item:A,position:w})}),k},f)}else{var x=an(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;d=a.reduce(function(E,S,T){var k=[].concat(J1(E),[{item:S.item,position:{offset:x+(b+c)*T+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},f)}return d},wZ=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=HI({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,v=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&m!=="center"&&le(e[m]))return pt(pt({},e),{},Ja({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&v!=="middle"&&le(e[v]))return pt(pt({},e),{},Ja({},v,e[v]+(h||0)))}return e},_Z=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},zI=function(e,n,r,i,o){var a=n.props.children,s=On(a,Tc).filter(function(c){return _Z(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Ct(d,r);if(Ae(f))return c;var h=Array.isArray(f)?[Ap(f),Np(f)]:[f,f],m=l.reduce(function(v,y){var w=Ct(d,y,0),x=h[0]-Math.abs(Array.isArray(w)?w[0]:w),b=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},SZ=function(e,n,r,i,o){var a=n.map(function(s){return zI(e,s,r,o,i)}).filter(function(s){return!Ae(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},WI=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&zI(e,l,c,i)||Gl(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},KI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},JI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Yr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?on(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!vc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},ig=new WeakMap,id=function(e,n){if(typeof n!="function")return e;ig.has(e)||ig.set(e,new WeakMap);var r=ig.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},YI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Iu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Lf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vl(),realScaleType:"point"}:o==="category"?{scale:Iu(),realScaleType:"band"}:{scale:Lf(),realScaleType:"linear"};if(Bo(i)){var l="scale".concat(hp(i));return{scale:(V1[l]||Vl)(),realScaleType:V1[l]?l:"point"}}return Se(i)?{scale:i}:{scale:Vl(),realScaleType:"point"}},X1=1e-4,XI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-X1,a=Math.max(i[0],i[1])+X1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},EZ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},TZ=function(e,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!le(e[0])||e[0]<r)&&(o[0]=r),(!le(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},kZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=vc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},NZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=vc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AZ={sign:kZ,expand:W6,none:ss,silhouette:K6,wiggle:J6,positive:NZ},CZ=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=AZ[r],a=z6().keys(i).value(function(s,l){return+Ct(s,l,0)}).order(Ry).offset(o);return a(e)},PZ=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?pt(pt({},h.type.defaultProps),h.props):h.props,y=v.stackId,w=v.hide;if(w)return f;var x=v[r],b=f[x]||{hasStack:!1,stackGroups:{}};if(It(y)){var _=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[y]=_}else b.stackGroups[Vs("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return pt(pt({},f),{},Ja({},x,b))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,w){var x=m.stackGroups[w];return pt(pt({},y),{},Ja({},w,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:CZ(e,x.items,o)}))},v)}return pt(pt({},f),{},Ja({},h,m))},d)},QI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=GQ(c,o,s);return e.domain([Ap(d),Np(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=HQ(f,o,s);return{niceTicks:h}}return null};function Q1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ae(i[e.dataKey])){var s=yf(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Ct(i,Ae(a)?e.dataKey:a);return Ae(l)?null:e.scale(l)}var Z1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Ct(a,n.dataKey,n.domain[s]);return Ae(l)?null:n.scale(l)-o/2+i},IZ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},jZ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(It(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},OZ=function(e){return e.reduce(function(n,r){return[Ap(r.concat([n[0]]).filter(le)),Np(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},ZI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,d){var f=OZ(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},eE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cv=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(le(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(eE.test(e[0])){var o=+eE.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(le(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(tE.test(e[1])){var a=+tE.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Hf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=qx(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},nE=function(e,n,r){return!e||!e.length||Ec(e,jn(r,"type.defaultProps.domain"))?n:e},ej=function(e,n){var r=e.type.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return pt(pt({},ye(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:pb(e),value:Ct(n,i),type:l,payload:n,chartType:c,hide:d})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){tj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tj(t,e,n){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=MZ(t,"string");return Bu(e)=="symbol"?e:e+""}function MZ(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Z(t,e){return BZ(t)||UZ(t,e)||LZ(t,e)||DZ()}function DZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function BZ(t){if(Array.isArray(t))return t}var zf=Math.PI/180,FZ=function(e){return e*180/Math.PI},et=function(e,n,r,i){return{x:e+Math.cos(-zf*i)*r,y:n+Math.sin(-zf*i)*r}},nj=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qZ=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=an(e.cx,a,a/2),f=an(e.cy,s,s/2),h=nj(a,s,r),m=an(e.innerRadius,h,0),v=an(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(w,x){var b=n[x],_=b.domain,E=b.reversed,S;if(Ae(b.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[m,v]),E&&(S=[S[1],S[0]]);else{S=b.range;var T=S,k=$Z(T,2);l=k[0],c=k[1]}var A=YI(b,o),C=A.realScaleType,O=A.scale;O.domain(_).range(S),XI(O);var R=QI(O,Gr(Gr({},b),{},{realScaleType:C})),D=Gr(Gr(Gr({},b),R),{},{range:S,radius:v,realScaleType:C,scale:O,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:l,endAngle:c});return Gr(Gr({},w),{},tj({},x,D))},{})},VZ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},GZ=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=VZ({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:FZ(c),angleInRadian:c}},HZ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},zZ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},oE=function(e,n){var r=e.x,i=e.y,o=GZ({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=HZ(n),f=d.startAngle,h=d.endAngle,m=s,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Gr(Gr({},n),{},{radius:a,angle:zZ(m,n)}):null},rj=function(e){return!N.isValidElement(e)&&!Se(e)&&typeof e!="boolean"?e.className:""};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}var WZ=["offset"];function KZ(t){return QZ(t)||XZ(t)||YZ(t)||JZ()}function JZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZ(t,e){if(t){if(typeof t=="string")return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}}function XZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QZ(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZZ(t,e){if(t==null)return{};var n=eee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return e=nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return Fu(e)=="symbol"?e:e+""}function ree(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}var iee=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return Se(r)?r(i):i},oee=function(e,n){var r=on(n-e),i=Math.min(Math.abs(n-e),360);return r*i},aee=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,y=l.clockWise,w=(f+h)/2,x=oee(m,v),b=x>=0?1:-1,_,E;i==="insideStart"?(_=m+b*a,E=y):i==="insideEnd"?(_=v-b*a,E=!y):i==="end"&&(_=v+b*a,E=y),E=x<=0?E:!E;var S=et(c,d,w,_),T=et(c,d,w,_+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),A=Ae(e.id)?Vs("recharts-radial-line-"):e.id;return M.createElement("text",qu({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:A,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(A)},n))},see=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=et(a,s,c+r,h),v=m.x,y=m.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,x=et(a,s,w,h),b=x.x,_=x.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},lee=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",y=c>=0?1:-1,w=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var _={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return kt(kt({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var E={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return kt(kt({},E),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var S={x:s-w,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kt(kt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var T={x:s+c+w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return kt(kt({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var k=r?{width:c,height:d}:{};return o==="insideLeft"?kt({x:s+w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},k):o==="insideRight"?kt({x:s+c-w,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},k):o==="insideTop"?kt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},k):o==="insideBottom"?kt({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},k):o==="insideTopLeft"?kt({x:s+w,y:l+h,textAnchor:b,verticalAnchor:v},k):o==="insideTopRight"?kt({x:s+c-w,y:l+h,textAnchor:x,verticalAnchor:v},k):o==="insideBottomLeft"?kt({x:s+w,y:l+d-h,textAnchor:b,verticalAnchor:m},k):o==="insideBottomRight"?kt({x:s+c-w,y:l+d-h,textAnchor:x,verticalAnchor:m},k):Us(o)&&(le(o.x)||To(o.x))&&(le(o.y)||To(o.y))?kt({x:s+an(o.x,c),y:l+an(o.y,d),textAnchor:"end",verticalAnchor:"end"},k):kt({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},uee=function(e){return"cx"in e&&le(e.cx)};function Mt(t){var e=t.offset,n=e===void 0?5:e,r=ZZ(t,WZ),i=kt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Ae(s)&&Ae(l)&&!N.isValidElement(c)&&!Se(c))return null;if(N.isValidElement(c))return N.cloneElement(c,i);var m;if(Se(c)){if(m=N.createElement(c,i),N.isValidElement(m))return m}else m=iee(i);var v=uee(o),y=ye(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return aee(i,m,y);var w=v?see(i):lee(i);return M.createElement(qo,qu({className:Ce("recharts-label",f)},y,w,{breakAll:h}),m)}Mt.displayName="Label";var ij=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,y=e.width,w=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(le(y)&&le(w)){if(le(f)&&le(h))return{x:f,y:h,width:y,height:w};if(le(m)&&le(v))return{x:m,y:v,width:y,height:w}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},cee=function(e,n){return e?e===!0?M.createElement(Mt,{key:"label-implicit",viewBox:n}):It(e)?M.createElement(Mt,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===Mt?N.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):Se(e)?M.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):Us(e)?M.createElement(Mt,qu({viewBox:n},e,{key:"label-implicit"})):null:null},dee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=ij(e),a=On(i,Mt).map(function(l,c){return N.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=cee(e.label,n||o);return[s].concat(KZ(a))};Mt.parseViewBox=ij;Mt.renderCallByParent=dee;function fee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var hee=fee;const pee=Ve(hee);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var mee=["valueAccessor"],gee=["data","dataKey","clockWise","id","textBreakAll"];function yee(t){return wee(t)||bee(t)||xee(t)||vee()}function vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function bee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wee(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){_ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e,n){return e=See(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=Eee(t,"string");return Vu(e)=="symbol"?e:e+""}function Eee(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uE(t,e){if(t==null)return{};var n=Tee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kee=function(e){return Array.isArray(e.value)?pee(e.value):e.value};function ni(t){var e=t.valueAccessor,n=e===void 0?kee:e,r=uE(t,mee),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=uE(r,gee);return!i||!i.length?null:M.createElement($e,{className:"recharts-label-list"},i.map(function(d,f){var h=Ae(o)?n(d,f):Ct(d&&d.payload,o),m=Ae(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Mt,Wf({},ye(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Mt.parseViewBox(Ae(a)?d:lE(lE({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ni.displayName="LabelList";function Nee(t,e){return t?t===!0?M.createElement(ni,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Se(t)?M.createElement(ni,{key:"labelList-implicit",data:e,content:t}):Us(t)?M.createElement(ni,Wf({data:e},t,{key:"labelList-implicit"})):null:null}function Aee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=On(r,ni).map(function(a,s){return N.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Nee(t.label,e);return[o].concat(yee(i))}ni.renderCallByParent=Aee;function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Iee(t,"string");return Gu(e)=="symbol"?e:e+""}function Iee(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jee=function(e,n){var r=on(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},od=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/zf,h=c?o:o+a*f,m=et(n,r,d,h),v=et(n,r,i,h),y=c?o-a*f:o,w=et(n,r,d*Math.cos(f*zf),y);return{center:m,circleTangency:v,lineTangency:w,theta:f}},oj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=jee(a,s),c=a+l,d=et(n,r,o,a),f=et(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=et(n,r,i,a),v=et(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Oee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=on(d-c),h=od({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,y=h.theta,w=od({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=w.circleTangency,b=w.lineTangency,_=w.theta,E=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):oj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var T=od({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=T.circleTangency,A=T.lineTangency,C=T.theta,O=od({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=O.circleTangency,D=O.lineTangency,L=O.theta,$=l?Math.abs(c-d):Math.abs(c-d)-C-L;if($<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Ree={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aj=function(e){var n=dE(dE({},Ree),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var m=Ce("recharts-sector",h),v=a-o,y=an(s,v,0,!0),w;return y>0&&Math.abs(d-f)<360?w=Oee({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):w=oj({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),M.createElement("path",hv({},ye(n,!0),{className:m,d:w,role:"img"}))};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Dee(t,"string");return Hu(e)=="symbol"?e:e+""}function Dee(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pE={curveBasisClosed:M6,curveBasisOpen:$6,curveBasis:R6,curveBumpX:b6,curveBumpY:w6,curveLinearClosed:D6,curveLinear:mp,curveMonotoneX:L6,curveMonotoneY:U6,curveNatural:B6,curveStep:F6,curveStepAfter:V6,curveStepBefore:q6},ad=function(e){return e.x===+e.x&&e.y===+e.y},gl=function(e){return e.x},yl=function(e){return e.y},Lee=function(e,n){if(Se(e))return e;var r="curve".concat(hp(e));return(r==="curveMonotone"||r==="curveBump")&&n?pE["".concat(r).concat(n==="vertical"?"Y":"X")]:pE[r]||mp},Uee=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=Lee(r,s),f=c?o.filter(function(y){return ad(y)}):o,h;if(Array.isArray(a)){var m=c?a.filter(function(y){return ad(y)}):a,v=f.map(function(y,w){return hE(hE({},y),{},{base:m[w]})});return s==="vertical"?h=Yc().y(yl).x1(gl).x0(function(y){return y.base.x}):h=Yc().x(gl).y1(yl).y0(function(y){return y.base.y}),h.defined(ad).curve(d),h(v)}return s==="vertical"&&le(a)?h=Yc().y(yl).x1(gl).x0(a):le(a)?h=Yc().x(gl).y1(yl).y0(a):h=e2().x(gl).y(yl),h.defined(ad).curve(d),h(f)},Kf=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Uee(e):i;return N.createElement("path",pv({},ye(e,!1),vf(e),{className:Ce("recharts-curve",n),d:a,ref:o}))},sj={exports:{}},Bee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fee=Bee,qee=Fee;function lj(){}function uj(){}uj.resetWarningCache=lj;var Vee=function(){function t(r,i,o,a,s,l){if(l!==qee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uj,resetWarningCache:lj};return n.PropTypes=n,n};sj.exports=Vee();var Gee=sj.exports;const Ue=Ve(Gee),{getOwnPropertyNames:Hee,getOwnPropertySymbols:zee}=Object,{hasOwnProperty:Wee}=Object.prototype;function og(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function sd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Kee(t){return t!=null?t[Symbol.toStringTag]:void 0}function mE(t){return Hee(t).concat(zee(t))}const Jee=Object.hasOwn||((t,e)=>Wee.call(t,e));function na(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Yee="__v",Xee="__o",Qee="_owner",{getOwnPropertyDescriptor:gE,keys:yE}=Object;function Zee(t,e){return t.byteLength===e.byteLength&&Jf(new Uint8Array(t),new Uint8Array(e))}function ete(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tte(t,e){return t.byteLength===e.byteLength&&Jf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function nte(t,e){return na(t.getTime(),e.getTime())}function rte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ite(t,e){return t===e}function vE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let d=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const ote=na;function ate(t,e,n){const r=yE(t);let i=r.length;if(yE(e).length!==i)return!1;for(;i-- >0;)if(!cj(t,e,n,r[i]))return!1;return!0}function vl(t,e,n){const r=mE(t);let i=r.length;if(mE(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!cj(t,e,n,o)||(a=gE(t,o),s=gE(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function ste(t,e){return na(t.valueOf(),e.valueOf())}function lte(t,e){return t.source===e.source&&t.flags===e.flags}function xE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Jf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ute(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cj(t,e,n,r){return(r===Qee||r===Xee||r===Yee)&&(t.$$typeof||e.$$typeof)?!0:Jee(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const cte="[object ArrayBuffer]",dte="[object Arguments]",fte="[object Boolean]",hte="[object DataView]",pte="[object Date]",mte="[object Error]",gte="[object Map]",yte="[object Number]",vte="[object Object]",xte="[object RegExp]",bte="[object Set]",wte="[object String]",_te={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ste="[object URL]",Ete=Object.prototype.toString;function Tte({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:v}){return function(w,x,b){if(w===x)return!0;if(w==null||x==null)return!1;const _=typeof w;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?s(w,x,b):_==="function"?o(w,x,b):!1;const E=w.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(w,x,b);if(Array.isArray(w))return e(w,x,b);if(E===Date)return r(w,x,b);if(E===RegExp)return d(w,x,b);if(E===Map)return a(w,x,b);if(E===Set)return f(w,x,b);const S=Ete.call(w);if(S===pte)return r(w,x,b);if(S===xte)return d(w,x,b);if(S===gte)return a(w,x,b);if(S===bte)return f(w,x,b);if(S===vte)return typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,b);if(S===Ste)return m(w,x,b);if(S===mte)return i(w,x,b);if(S===dte)return l(w,x,b);if(_te[S])return h(w,x,b);if(S===cte)return t(w,x,b);if(S===hte)return n(w,x,b);if(S===fte||S===yte||S===wte)return c(w,x,b);if(v){let T=v[S];if(!T){const k=Kee(w);k&&(T=v[k])}if(T)return T(w,x,b)}return!1}}function kte({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Zee,areArraysEqual:n?vl:ete,areDataViewsEqual:tte,areDatesEqual:nte,areErrorsEqual:rte,areFunctionsEqual:ite,areMapsEqual:n?og(vE,vl):vE,areNumbersEqual:ote,areObjectsEqual:n?vl:ate,arePrimitiveWrappersEqual:ste,areRegExpsEqual:lte,areSetsEqual:n?og(xE,vl):xE,areTypedArraysEqual:n?og(Jf,vl):Jf,areUrlsEqual:ute,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=sd(r.areArraysEqual),o=sd(r.areMapsEqual),a=sd(r.areObjectsEqual),s=sd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Nte(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Ate({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:c,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Cte=no();no({strict:!0});no({circular:!0});no({circular:!0,strict:!0});no({createInternalComparator:()=>na});no({strict:!0,createInternalComparator:()=>na});no({circular:!0,createInternalComparator:()=>na});no({circular:!0,createInternalComparator:()=>na,strict:!0});function no(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=kte(t),a=Tte(o),s=n?n(a):Nte(a);return Ate({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Pte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Pte(i)};requestAnimationFrame(r)}function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function Ite(t){return Mte(t)||Rte(t)||Ote(t)||jte()}function jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mte(t){if(Array.isArray(t))return t}function $te(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Ite(a),l=s[0],c=s.slice(1);if(typeof l=="number"){bE(i.bind(null,c),l);return}i(l),bE(i.bind(null,c));return}mv(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dj(t,e,n){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=Lte(t,"string");return zu(e)==="symbol"?e:String(e)}function Lte(t,e){if(zu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ute=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Bte=function(e){return e},Fte=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Hl=function(e,n){return Object.keys(n).reduce(function(r,i){return SE(SE({},r),{},dj({},i,e(i,n[i])))},{})},EE=function(e,n,r){return e.map(function(i){return"".concat(Fte(i)," ").concat(n,"ms ").concat(r)}).join(",")};function qte(t,e){return Hte(t)||Gte(t,e)||fj(t,e)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Hte(t){if(Array.isArray(t))return t}function zte(t){return Jte(t)||Kte(t)||fj(t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fj(t,e){if(t){if(typeof t=="string")return gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(t,e)}}function Kte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jte(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yf=1e-4,hj=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},pj=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},TE=function(e,n){return function(r){var i=hj(e,n);return pj(i,r)}},Yte=function(e,n){return function(r){var i=hj(e,n),o=[].concat(zte(i.map(function(a,s){return a*s}).slice(1)),[0]);return pj(o,r)}},kE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=qte(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=TE(i,a),h=TE(o,s),m=Yte(i,a),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,_=b,E=0;E<8;++E){var S=f(_)-b,T=m(_);if(Math.abs(S-b)<Yf||T<Yf)return h(_);_=v(_-S/T)}return h(_)};return y.isStepper=!1,y},Xte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var m=-(d-f)*r,v=h*o,y=h+(m-v)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<Yf&&Math.abs(y)<Yf?[f,0]:[w,y]};return l.isStepper=!0,l.dt=s,l},Qte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kE(i);case"spring":return Xte();default:if(i.split("(")[0]==="cubic-bezier")return kE(i)}return typeof i=="function"?i:null};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function NE(t){return tne(t)||ene(t)||mj(t)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tne(t){if(Array.isArray(t))return vv(t)}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yv(t,e,n){return e=nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return Wu(e)==="symbol"?e:String(e)}function rne(t,e){if(Wu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ine(t,e){return sne(t)||ane(t,e)||mj(t,e)||one()}function one(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mj(t,e){if(t){if(typeof t=="string")return vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vv(t,e)}}function vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ane(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sne(t){if(Array.isArray(t))return t}var Xf=function(e,n,r){return e+(n-e)*r},xv=function(e){var n=e.from,r=e.to;return n!==r},lne=function t(e,n,r){var i=Hl(function(o,a){if(xv(a)){var s=e(a.from,a.to,a.velocity),l=ine(s,2),c=l[0],d=l[1];return qt(qt({},a),{},{from:c,velocity:d})}return a},n);return r<1?Hl(function(o,a){return xv(a)?qt(qt({},a),{},{velocity:Xf(a.velocity,i[o].velocity,r),from:Xf(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const une=function(t,e,n,r,i){var o=Ute(t,e),a=o.reduce(function(w,x){return qt(qt({},w),{},yv({},x,[t[x],e[x]]))},{}),s=o.reduce(function(w,x){return qt(qt({},w),{},yv({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Hl(function(x,b){return b.from},s)},m=function(){return!Object.values(s).filter(xv).length},v=function(x){c||(c=x);var b=x-c,_=b/n.dt;s=lne(n,s,_),i(qt(qt(qt({},t),e),h())),c=x,m()||(l=requestAnimationFrame(f))},y=function(x){d||(d=x);var b=(x-d)/r,_=Hl(function(S,T){return Xf.apply(void 0,NE(T).concat([n(b)]))},a);if(i(qt(qt(qt({},t),e),_)),b<1)l=requestAnimationFrame(f);else{var E=Hl(function(S,T){return Xf.apply(void 0,NE(T).concat([n(1)]))},a);i(qt(qt(qt({},t),e),E))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}var cne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dne(t,e){if(t==null)return{};var n=fne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ag(t){return gne(t)||mne(t)||pne(t)||hne()}function hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(t,e)}}function mne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gne(t){if(Array.isArray(t))return bv(t)}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){Nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nl(t,e,n){return e=gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gj(r.key),r)}}function xne(t,e,n){return e&&vne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gj(t){var e=bne(t,"string");return gs(e)==="symbol"?e:String(e)}function bne(t,e){if(gs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(t,e)}function _ne(t){var e=Sne();return function(){var r=Qf(t),i;if(e){var o=Qf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _v(this,i)}}function _v(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sv(t)}function Sv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(t)}var Or=function(t){wne(n,t);var e=_ne(n);function n(r,i){var o;yne(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Sv(o)),o.changeStyle=o.changeStyle.bind(Sv(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),_v(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},_v(o);o.state={style:l?Nl({},l,c):c}}else o.state={style:{}};return o}return xne(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?Nl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(Cte(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||c?f:i.to;if(this.state&&h){var w={style:l?Nl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(rr(rr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=une(a,s,Qte(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(y,w,x){if(x===0)return y;var b=w.duration,_=w.easing,E=_===void 0?"ease":_,S=w.style,T=w.properties,k=w.onAnimationEnd,A=x>0?a[x-1]:w,C=T||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(ag(y),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:b,easing:E}),b]);var O=EE(C,b,E),R=rr(rr(rr({},A.style),S),{},{transition:O});return[].concat(ag(y),[R,b,k]).filter(Bte)};return this.manager.start([l].concat(ag(a.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$te());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Nl({},s,l):l,w=EE(Object.keys(y),a,c);v.start([d,o,rr(rr({},y),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dne(i,cne),c=N.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var f=function(m){var v=m.props,y=v.style,w=y===void 0?{}:y,x=v.className,b=N.cloneElement(m,rr(rr({},l),{},{style:rr(rr({},w),d),className:x}));return b};return c===1?f(N.Children.only(o)):M.createElement("div",null,N.Children.map(o,function(h){return f(h)}))}}]),n}(N.PureComponent);Or.displayName="Animate";Or.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Or.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}function Ene(t,e){return Ane(t)||Nne(t,e)||kne(t,e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t,e){if(t){if(typeof t=="string")return PE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(t,e)}}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ane(t){if(Array.isArray(t))return t}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Ine(t,"string");return Ku(e)=="symbol"?e:e+""}function Ine(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OE=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},jne=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},One={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mb=function(e){var n=jE(jE({},One),e),r=N.useRef(),i=N.useState(-1),o=Ene(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var _=Ce("recharts-rectangle",m);return b?M.createElement(Or,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:y,animationEasing:v,isActive:b},function(E){var S=E.width,T=E.height,k=E.x,A=E.y;return M.createElement(Or,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:x,easing:v},M.createElement("path",Zf({},ye(n,!0),{className:_,d:OE(k,A,S,T,h),ref:r})))}):M.createElement("path",Zf({},ye(n,!0),{className:_,d:OE(l,c,d,f,h)}))},Rne=["points","className","baseLinePoints","connectNulls"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function Mne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RE(t){return Bne(t)||Une(t)||Lne(t)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function Une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bne(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ME=function(e){return e&&e.x===+e.x&&e.y===+e.y},Fne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){ME(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ME(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zl=function(e,n){var r=Fne(e);n&&(r=[r.reduce(function(o,a){return[].concat(RE(o),RE(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},qne=function(e,n,r){var i=zl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zl(n.reverse(),r).slice(1))},Vne=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Mne(e,Rne);if(!n||!n.length)return null;var s=Ce("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=qne(n,i,o);return M.createElement("g",{className:s},M.createElement("path",Oa({},ye(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?M.createElement("path",Oa({},ye(a,!0),{fill:"none",d:zl(n,o)})):null,l?M.createElement("path",Oa({},ye(a,!0),{fill:"none",d:zl(i,o)})):null)}var d=zl(n,o);return M.createElement("path",Oa({},ye(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}var Ip=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?N.createElement("circle",Tv({},ye(e,!1),vf(e),{className:a,cx:n,cy:r,r:i})):null};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var Gne=["x","y","top","left","width","height","className"];function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Kne(t,"string");return Ju(e)=="symbol"?e:e+""}function Kne(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jne(t,e){if(t==null)return{};var n=Yne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xne=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Qne=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,y=Jne(e,Gne),w=Hne({x:r,y:o,top:s,left:c,width:f,height:m},y);return!le(r)||!le(o)||!le(f)||!le(m)||!le(s)||!le(c)?null:M.createElement("path",kv({},ye(w,!0),{className:Ce("recharts-cross",v),d:Xne(r,o,f,m,s,c)}))},Zne=kp,ere=AI,tre=Dr;function nre(t,e){return t&&t.length?Zne(t,tre(e),ere):void 0}var rre=nre;const ire=Ve(rre);var ore=kp,are=Dr,sre=CI;function lre(t,e){return t&&t.length?ore(t,are(e),sre):void 0}var ure=lre;const cre=Ve(ure);var dre=["cx","cy","angle","ticks","axisLine"],fre=["ticks","tick","angle","tickFormatter","stroke"];function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}function DE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(n),!0).forEach(function(r){jp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LE(t,e){if(t==null)return{};var n=hre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vj(r.key),r)}}function mre(t,e,n){return e&&UE(t.prototype,e),n&&UE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gre(t,e,n){return e=eh(e),yre(t,yj()?Reflect.construct(e,n||[],eh(t).constructor):e.apply(t,n))}function yre(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vre(t)}function vre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(t)}function xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nv(t,e)}function jp(t,e,n){return e=vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vj(t){var e=bre(t,"string");return ys(e)=="symbol"?e:e+""}function bre(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Op=function(t){function e(){return pre(this,e),gre(this,e,arguments)}return xre(e,t),mre(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return et(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=ire(s,function(d){return d.coordinate||0}),c=cre(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=LE(r,dre),d=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=et(i,o,d[0],a),h=et(i,o,d[1],a),m=lo(lo(lo({},ye(c,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Wl({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=LE(i,fre),f=this.getTickTextAnchor(),h=ye(d,!1),m=ye(a,!1),v=o.map(function(y,w){var x=r.getTickValueCoord(y),b=lo(lo(lo(lo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:c},m),{},{index:w},x),{},{payload:y});return M.createElement($e,Wl({className:Ce("recharts-polar-radius-axis-tick",rj(a)),key:"tick-".concat(y.coordinate)},Fo(r.props,y,w)),e.renderTickItem(a,b,l?l(y.value,w):y.value))});return M.createElement($e,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement($e,{className:Ce("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Se(r)?a=r(i):a=M.createElement(qo,Wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(N.PureComponent);jp(Op,"displayName","PolarRadiusAxis");jp(Op,"axisType","radiusAxis");jp(Op,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){Rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bj(r.key),r)}}function _re(t,e,n){return e&&FE(t.prototype,e),n&&FE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sre(t,e,n){return e=th(e),Ere(t,xj()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function Ere(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tre(t)}function Tre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xj=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Av(t,e)}function Rp(t,e,n){return e=bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=Nre(t,"string");return vs(e)=="symbol"?e:e+""}function Nre(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Are=Math.PI/180,qE=1e-5,Mp=function(t){function e(){return wre(this,e),Sre(this,e,arguments)}return kre(e,t),_re(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=et(o,a,s,r.coordinate),h=et(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Are),a;return o>qE?a=i==="outer"?"start":"end":o<-qE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=uo(uo({},ye(this.props,!1)),{},{fill:"none"},ye(s,!1));if(l==="circle")return M.createElement(Ip,bo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return et(i,o,a,h.coordinate)});return M.createElement(Vne,bo({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=ye(this.props,!1),f=ye(a,!1),h=uo(uo({},d),{},{fill:"none"},ye(s,!1)),m=o.map(function(v,y){var w=r.getTickLineCoord(v),x=r.getTickTextAnchor(v),b=uo(uo(uo({textAnchor:x},d),{},{stroke:"none",fill:c},f),{},{index:y,payload:v,x:w.x2,y:w.y2});return M.createElement($e,bo({className:Ce("recharts-polar-angle-axis-tick",rj(a)),key:"tick-".concat(v.coordinate)},Fo(r.props,v,y)),s&&M.createElement("line",bo({className:"recharts-polar-angle-axis-tick-line"},h,w)),a&&e.renderTickItem(a,b,l?l(v.value,y):v.value))});return M.createElement($e,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement($e,{className:Ce("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Se(r)?a=r(i):a=M.createElement(qo,bo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(N.PureComponent);Rp(Mp,"displayName","PolarAngleAxis");Rp(Mp,"axisType","angleAxis");Rp(Mp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Cre=E2,Pre=Cre(Object.getPrototypeOf,Object),Ire=Pre,jre=hi,Ore=Ire,Rre=pi,Mre="[object Object]",$re=Function.prototype,Dre=Object.prototype,wj=$re.toString,Lre=Dre.hasOwnProperty,Ure=wj.call(Object);function Bre(t){if(!Rre(t)||jre(t)!=Mre)return!1;var e=Ore(t);if(e===null)return!0;var n=Lre.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wj.call(n)==Ure}var Fre=Bre;const qre=Ve(Fre);var Vre=hi,Gre=pi,Hre="[object Boolean]";function zre(t){return t===!0||t===!1||Gre(t)&&Vre(t)==Hre}var Wre=zre;const Kre=Ve(Wre);function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function Jre(t,e){return Zre(t)||Qre(t,e)||Xre(t,e)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Zre(t){if(Array.isArray(t))return t}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t,e,n){return e=tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tie(t){var e=nie(t,"string");return Yu(e)=="symbol"?e:e+""}function nie(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zE=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},rie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iie=function(e){var n=HE(HE({},rie),e),r=N.useRef(),i=N.useState(-1),o=Jre(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ce("recharts-trapezoid",m);return x?M.createElement(Or,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:v,isActive:x},function(_){var E=_.upperWidth,S=_.lowerWidth,T=_.height,k=_.x,A=_.y;return M.createElement(Or,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},M.createElement("path",nh({},ye(n,!0),{className:b,d:zE(k,A,E,S,T),ref:r})))}):M.createElement("g",null,M.createElement("path",nh({},ye(n,!0),{className:b,d:zE(l,c,d,f,h)})))},oie=["option","shapeType","propTransformer","activeClassName","isActive"];function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function aie(t,e){if(t==null)return{};var n=sie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return e=uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=cie(t,"string");return Xu(e)=="symbol"?e:e+""}function cie(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function die(t,e){return rh(rh({},e),t)}function fie(t,e){return t==="symbols"}function KE(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(mb,n);case"trapezoid":return M.createElement(iie,n);case"sector":return M.createElement(aj,n);case"symbols":if(fie(e))return M.createElement(Rx,n);break;default:return null}}function hie(t){return N.isValidElement(t)?t.props:t}function _j(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?die:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=aie(t,oie),c;if(N.isValidElement(e))c=N.cloneElement(e,rh(rh({},l),hie(e)));else if(Se(e))c=e(l);else if(qre(e)&&!Kre(e)){var d=i(e,l);c=M.createElement(KE,{shapeType:n,elementProps:d})}else{var f=l;c=M.createElement(KE,{shapeType:n,elementProps:f})}return s?M.createElement($e,{className:a},c):c}function $p(t,e){return e!=null&&"trapezoids"in t.props}function Dp(t,e){return e!=null&&"sectors"in t.props}function Qu(t,e){return e!=null&&"points"in t.props}function pie(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function mie(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function gie(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function yie(t,e){var n;return $p(t,e)?n=pie:Dp(t,e)?n=mie:Qu(t,e)&&(n=gie),n}function vie(t,e){var n;return $p(t,e)?n="trapezoids":Dp(t,e)?n="sectors":Qu(t,e)&&(n="points"),n}function xie(t,e){if($p(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qu(t,e)?e.payload:{}}function bie(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=vie(n,e),o=xie(n,e),a=r.filter(function(l,c){var d=Ec(o,l),f=n.props[i].filter(function(v){var y=yie(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var Nd;function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(this,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ej(r.key),r)}}function _ie(t,e,n){return e&&YE(t.prototype,e),n&&YE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,n){return e=ih(e),Eie(t,Sj()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function Eie(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tie(t)}function Tie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sj=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function kie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cv(t,e)}function Gn(t,e,n){return e=Ej(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ej(t){var e=Nie(t,"string");return xs(e)=="symbol"?e:e+""}function Nie(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rr=function(t){function e(n){var r;return wie(this,e),r=Sie(this,e,[n]),Gn(r,"pieRef",null),Gn(r,"sectorRefs",[]),Gn(r,"id",Vs("recharts-pie-")),Gn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Se(i)&&i()}),Gn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Se(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return kie(e,t),_ie(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,d=ye(this.props,!1),f=ye(a,!1),h=ye(s,!1),m=a&&a.offsetRadius||20,v=r.map(function(y,w){var x=(y.startAngle+y.endAngle)/2,b=et(y.cx,y.cy,y.outerRadius+m,x),_=Xe(Xe(Xe(Xe({},d),y),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(b.x,y.cx)},b),E=Xe(Xe(Xe(Xe({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[et(y.cx,y.cy,y.outerRadius,x),b]}),S=l;return Ae(l)&&Ae(c)?S="value":Ae(l)&&(S=c),M.createElement($e,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,_,Ct(y,S)))});return M.createElement($e,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,m=f?a:h,v=Xe(Xe({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return M.createElement($e,Ra({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Fo(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),M.createElement(_j,Ra({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return M.createElement(Or,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,w=[],x=o&&o[0],b=x.startAngle;return o.forEach(function(_,E){var S=h&&h[E],T=E>0?jn(_,"paddingAngle",0):0;if(S){var k=kn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),A=Xe(Xe({},_),{},{startAngle:b+T,endAngle:b+k(y)+T});w.push(A),b=A.endAngle}else{var C=_.endAngle,O=_.startAngle,R=kn(0,C-O),D=R(y),L=Xe(Xe({},_),{},{startAngle:b+T,endAngle:b+D+T});w.push(L),b=L.endAngle}}),M.createElement($e,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Ec(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!le(c)||!le(d)||!le(f)||!le(h))return null;var y=Ce("recharts-pie",s);return M.createElement($e,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),Mt.renderCallByParent(this.props,null,!1),(!m||v)&&ni.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(Se(r))return r(i);var a=Ce("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Kf,Ra({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(Se(r)&&(a=r(i),M.isValidElement(a)))return a;var s=Ce("recharts-pie-label-text",typeof r!="boolean"&&!Se(r)?r.className:"");return M.createElement(qo,Ra({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(N.PureComponent);Nd=Rr;Gn(Rr,"displayName","Pie");Gn(Rr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gn(Rr,"parseDeltaAngle",function(t,e){var n=on(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Gn(Rr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=On(n,Au);return e&&e.length?e.map(function(o,a){return Xe(Xe(Xe({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Xe(Xe({},r),o.props)}):[]});Gn(Rr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=nj(i,o),s=r+an(t.cx,i,i/2),l=n+an(t.cy,o,o/2),c=an(t.innerRadius,a,0),d=an(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});Gn(Rr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,i=Nd.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=Nd.parseCoordinateOfPie(r,n),y=Nd.parseDeltaAngle(a,s),w=Math.abs(y),x=c;Ae(c)&&Ae(f)?(mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ae(c)&&(mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=i.filter(function(A){return Ct(A,x,0)!==0}).length,_=(w>=360?b:b-1)*l,E=w-b*m-_,S=i.reduce(function(A,C){var O=Ct(C,x,0);return A+(le(O)?O:0)},0),T;if(S>0){var k;T=i.map(function(A,C){var O=Ct(A,x,0),R=Ct(A,d,C),D=(le(O)?O:0)/S,L;C?L=k.endAngle+on(y)*l*(O!==0?1:0):L=a;var $=L+on(y)*((O!==0?m:0)+D*E),j=(L+$)/2,F=(v.innerRadius+v.outerRadius)/2,U=[{name:R,value:O,payload:A,dataKey:x,type:h}],q=et(v.cx,v.cy,F,j);return k=Xe(Xe(Xe({percent:D,cornerRadius:o,name:R,tooltipPayload:U,midAngle:j,middleRadius:F,tooltipPosition:q},A),v),{},{value:Ct(A,x),startAngle:L,endAngle:$,payload:A,paddingAngle:on(y)*l}),k})}return Xe(Xe({},v),{},{sectors:T,data:i})});var Aie=Math.ceil,Cie=Math.max;function Pie(t,e,n,r){for(var i=-1,o=Cie(Aie((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Iie=Pie,jie=V2,XE=1/0,Oie=17976931348623157e292;function Rie(t){if(!t)return t===0?t:0;if(t=jie(t),t===XE||t===-XE){var e=t<0?-1:1;return e*Oie}return t===t?t:0}var Tj=Rie,Mie=Iie,$ie=xp,sg=Tj;function Die(t){return function(e,n,r){return r&&typeof r!="number"&&$ie(e,n,r)&&(n=r=void 0),e=sg(e),n===void 0?(n=e,e=0):n=sg(n),r=r===void 0?e<n?1:-1:sg(r),Mie(e,n,r,t)}}var Lie=Die,Uie=Lie,Bie=Uie(),Fie=Bie;const oh=Ve(Fie);function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function QE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(n),!0).forEach(function(r){kj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kj(t,e,n){return e=qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=Vie(t,"string");return Zu(e)=="symbol"?e:e+""}function Vie(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gie=["Webkit","Moz","O","ms"],Hie=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Gie.reduce(function(o,a){return ZE(ZE({},o),{},kj({},a+r,n))},{});return i[e]=n,i};function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){_n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aj(r.key),r)}}function Wie(t,e,n){return e&&tT(t.prototype,e),n&&tT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,n){return e=sh(e),Jie(t,Nj()?Reflect.construct(e,n||[],sh(t).constructor):e.apply(t,n))}function Jie(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(t)}function Yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nj=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pv(t,e)}function _n(t,e,n){return e=Aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aj(t){var e=Qie(t,"string");return bs(e)=="symbol"?e:e+""}function Qie(t,e){if(bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zie=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Vl().domain(oh(0,l)).range([o,o+a-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},nT=function(e){return e.changedTouches&&!!e.changedTouches.length},ws=function(t){function e(n){var r;return zie(this,e),r=Kie(this,e,[n]),_n(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_n(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_n(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),_n(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_n(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_n(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_n(r,"handleSlideDragStart",function(i){var o=nT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xie(e,t),Wie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Ct(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,c+d-f-s,c+d-f-a):y<0&&(y=Math.max(y,c-a,c-s));var w=this.getIndex({startX:a+y,endX:s+y});(w.startIndex!==h||w.endIndex!==m)&&v&&v(w),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=nT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,y=d.gap,w=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-m-c):b<0&&(b=Math.max(b,f-c)),x[a]=c+b;var _=this.getIndex(x),E=_.startIndex,S=_.endIndex,T=function(){var A=w.length-1;return a==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===A||a==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===A};this.setState(_n(_n({},a,c+b),"brushMoveStartX",r.pageX),function(){v&&T()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(_n({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,f=N.Children.only(c);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,y=l.startIndex,w=l.endIndex,x=Math.max(r,this.props.x),b=lg(lg({},ye(this.props,!1)),{},{x,y:c,width:d,height:f}),_=m||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return M.createElement($e,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:c};return M.createElement($e,{className:"recharts-brush-texts"},M.createElement(qo,ah({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},v),this.getTextOfTick(i)),M.createElement(qo,ah({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,y=h.isTextActive,w=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!le(s)||!le(l)||!le(c)||!le(d)||c<=0||d<=0)return null;var _=Ce("recharts-brush",o),E=M.Children.count(a)===1,S=Hie("userSelect","none");return M.createElement($e,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(y||w||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return lg({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Zie({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(N.PureComponent);_n(ws,"displayName","Brush");_n(ws,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eoe=Fx;function toe(t,e){var n;return eoe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var noe=toe,roe=g2,ioe=Dr,ooe=noe,aoe=xn,soe=xp;function loe(t,e,n){var r=aoe(t)?roe:ooe;return n&&soe(t,e,n)&&(e=void 0),r(t,ioe(e))}var uoe=loe;const coe=Ve(uoe);var Ir=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},rT=L2;function doe(t,e,n){e=="__proto__"&&rT?rT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var foe=doe,hoe=foe,poe=$2,moe=Dr;function goe(t,e){var n={};return e=moe(e),poe(t,function(r,i,o){hoe(n,i,e(r,i,o))}),n}var yoe=goe;const voe=Ve(yoe);function xoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var boe=xoe,woe=Fx;function _oe(t,e){var n=!0;return woe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Soe=_oe,Eoe=boe,Toe=Soe,koe=Dr,Noe=xn,Aoe=xp;function Coe(t,e,n){var r=Noe(t)?Eoe:Toe;return n&&Aoe(t,e,n)&&(e=void 0),r(t,koe(e))}var Poe=Coe;const Cj=Ve(Poe);var Ioe=["x","y"];function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e,n){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=Roe(t,"string");return ec(e)=="symbol"?e:e+""}function Roe(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t,e){if(t==null)return{};var n=$oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Doe(t,e){var n=t.x,r=t.y,i=Moe(t,Ioe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return xl(xl(xl(xl(xl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function oT(t){return M.createElement(_j,Iv({shapeType:"rectangle",propTransformer:Doe,activeClassName:"recharts-active-bar"},t))}var Loe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=le(r)||o8(r);return o?e(r,i):(o||Go(),n)}},Uoe=["value","background"],Pj;function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Boe(t,e){if(t==null)return{};var n=Foe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Foe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){Oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jj(r.key),r)}}function Voe(t,e,n){return e&&sT(t.prototype,e),n&&sT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,e,n){return e=uh(e),Hoe(t,Ij()?Reflect.construct(e,n||[],uh(t).constructor):e.apply(t,n))}function Hoe(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(t)}function zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jv(t,e)}function Oi(t,e,n){return e=jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jj(t){var e=Koe(t,"string");return _s(e)=="symbol"?e:e+""}function Koe(t,e){if(_s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mr=function(t){function e(){var n;qoe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Goe(this,e,[].concat(i)),Oi(n,"state",{isAnimationFinished:!1}),Oi(n,"id",Vs("recharts-bar-")),Oi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Oi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Woe(e,t),Voe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=ye(this.props,!1);return r&&r.map(function(f,h){var m=h===l,v=m?c:a,y=xt(xt(xt({},d),f),{},{isActive:m,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement($e,lh({className:"recharts-bar-rectangle"},Fo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(oT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Or,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=o.map(function(w,x){var b=h&&h[x];if(b){var _=kn(b.x,w.x),E=kn(b.y,w.y),S=kn(b.width,w.width),T=kn(b.height,w.height);return xt(xt({},w),{},{x:_(v),y:E(v),width:S(v),height:T(v)})}if(a==="horizontal"){var k=kn(0,w.height),A=k(v);return xt(xt({},w),{},{y:w.y+w.height-A,height:A})}var C=kn(0,w.width),O=C(v);return xt(xt({},w),{},{width:O})});return M.createElement($e,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ec(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=Boe(c,Uoe);if(!f)return null;var m=xt(xt(xt(xt(xt({},h),{},{fill:"#eee"},f),l),Fo(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(oT,lh({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=On(d,Tc);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,m=function(w,x){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:Ct(w,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement($e,v,f.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,x=Ce("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=b||_,S=Ae(y)?this.id:y;return M.createElement($e,{className:x},b||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:b?c:c-f/2,y:_?d:d-h/2,width:b?f:f*2,height:_?h:h*2}))):null,M.createElement($e,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!m||w)&&ni.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);Pj=Mr;Oi(Mr,"displayName","Bar");Oi(Mr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oi(Mr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=EZ(r,n);if(!m)return null;var v=e.layout,y=n.type.defaultProps,w=y!==void 0?xt(xt({},y),n.props):n.props,x=w.dataKey,b=w.children,_=w.minPointSize,E=v==="horizontal"?a:o,S=c?E.scale.domain():null,T=IZ({numericAxis:E}),k=On(b,Au),A=f.map(function(C,O){var R,D,L,$,j,F;c?R=TZ(c[d+O],S):(R=Ct(C,x),Array.isArray(R)||(R=[T,R]));var U=Loe(_,Pj.defaultProps.minPointSize)(R[1],O);if(v==="horizontal"){var q,W=[a.scale(R[0]),a.scale(R[1])],J=W[0],ne=W[1];D=Z1({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:C,index:O}),L=(q=ne??J)!==null&&q!==void 0?q:void 0,$=m.size;var Q=J-ne;if(j=Number.isNaN(Q)?0:Q,F={x:D,y:a.y,width:$,height:a.height},Math.abs(U)>0&&Math.abs(j)<Math.abs(U)){var ce=on(j||U)*(Math.abs(U)-Math.abs(j));L-=ce,j+=ce}}else{var Ee=[o.scale(R[0]),o.scale(R[1])],Te=Ee[0],Me=Ee[1];if(D=Te,L=Z1({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:C,index:O}),$=Me-Te,j=m.size,F={x:o.x,y:L,width:o.width,height:j},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var _e=on($||U)*(Math.abs(U)-Math.abs($));$+=_e}}return xt(xt(xt({},C),{},{x:D,y:L,width:$,height:j,value:c?R:R[1],payload:C,background:F},k&&k[O]&&k[O].props),{},{tooltipPayload:[ej(n,C)],tooltipPosition:{x:D+$/2,y:L+j/2}})});return xt({data:A,layout:v},h)});function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oj(r.key),r)}}function Yoe(t,e,n){return e&&lT(t.prototype,e),n&&lT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){Lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lp(t,e,n){return e=Oj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oj(t){var e=Xoe(t,"string");return tc(e)=="symbol"?e:e+""}function Xoe(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rj=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!En(c,Mr);return d.reduce(function(m,v){var y=n[v],w=y.orientation,x=y.domain,b=y.padding,_=b===void 0?{}:b,E=y.mirror,S=y.reversed,T="".concat(w).concat(E?"Mirror":""),k,A,C,O,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=x[1]-x[0],L=1/0,$=y.categoricalDomain.sort(l8);if($.forEach(function(Ee,Te){Te>0&&(L=Math.min((Ee||0)-($[Te-1]||0),L))}),Number.isFinite(L)){var j=L/D,F=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(k=j*F/2),y.padding==="no-gap"){var U=an(e.barCategoryGap,j*F),q=j*F/2;k=q-U-(q-U)/F*U}}}i==="xAxis"?A=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:A=y.range,S&&(A=[A[1],A[0]]);var W=YI(y,o,h),J=W.scale,ne=W.realScaleType;J.domain(x).range(A),XI(J);var Q=QI(J,ur(ur({},y),{},{realScaleType:ne}));i==="xAxis"?(R=w==="top"&&!E||w==="bottom"&&E,C=r.left,O=f[T]-R*y.height):i==="yAxis"&&(R=w==="left"&&!E||w==="right"&&E,C=f[T]-R*y.width,O=r.top);var ce=ur(ur(ur({},y),Q),{},{realScaleType:ne,x:C,y:O,scale:J,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ce.bandSize=Hf(ce,Q),!y.hide&&i==="xAxis"?f[T]+=(R?-1:1)*ce.height:y.hide||(f[T]+=(R?-1:1)*ce.width),ur(ur({},m),{},Lp({},v,ce))},{})},Mj=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Qoe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Mj({x:n,y:r},{x:i,y:o})},$j=function(){function t(e){Joe(this,t),this.scale=e}return Yoe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Lp($j,"EPS",1e-4);var gb=function(e){var n=Object.keys(e).reduce(function(r,i){return ur(ur({},r),{},Lp({},i,$j.create(e[i])))},{});return ur(ur({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return voe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return Cj(i,function(o,a){return n[a].isInRange(o)})}})};function Zoe(t){return(t%180+180)%180}var eae=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Zoe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},tae=Dr,nae=xc,rae=yp;function iae(t){return function(e,n,r){var i=Object(e);if(!nae(e)){var o=tae(n);e=rae(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var oae=iae,aae=Tj;function sae(t){var e=aae(t),n=e%1;return e===e?n?e-n:e:0}var lae=sae,uae=P2,cae=Dr,dae=lae,fae=Math.max;function hae(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:dae(n);return i<0&&(i=fae(r+i,0)),uae(t,cae(e),i)}var pae=hae,mae=oae,gae=pae,yae=mae(gae),vae=yae;const xae=Ve(vae);var bae=dF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yb=N.createContext(void 0),vb=N.createContext(void 0),Dj=N.createContext(void 0),Lj=N.createContext({}),Uj=N.createContext(void 0),Bj=N.createContext(0),Fj=N.createContext(0),cT=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=bae(o);return M.createElement(yb.Provider,{value:r},M.createElement(vb.Provider,{value:i},M.createElement(Lj.Provider,{value:o},M.createElement(Dj.Provider,{value:d},M.createElement(Uj.Provider,{value:a},M.createElement(Bj.Provider,{value:c},M.createElement(Fj.Provider,{value:l},s)))))))},wae=function(){return N.useContext(Uj)},qj=function(e){var n=N.useContext(yb);n==null&&Go();var r=n[e];return r==null&&Go(),r},_ae=function(){var e=N.useContext(yb);return Ci(e)},Sae=function(){var e=N.useContext(vb),n=xae(e,function(r){return Cj(r.domain,Number.isFinite)});return n||Ci(e)},Vj=function(e){var n=N.useContext(vb);n==null&&Go();var r=n[e];return r==null&&Go(),r},Eae=function(){var e=N.useContext(Dj);return e},Tae=function(){return N.useContext(Lj)},xb=function(){return N.useContext(Fj)},bb=function(){return N.useContext(Bj)};function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hj(r.key),r)}}function Aae(t,e,n){return e&&Nae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cae(t,e,n){return e=ch(e),Pae(t,Gj()?Reflect.construct(e,n||[],ch(t).constructor):e.apply(t,n))}function Pae(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iae(t)}function Iae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}function jae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ov(t,e)}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wb(t,e,n){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hj(t){var e=Oae(t,"string");return Ss(e)=="symbol"?e:e+""}function Oae(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rae(t,e){return Lae(t)||Dae(t,e)||$ae(t,e)||Mae()}function Mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ae(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Lae(t){if(Array.isArray(t))return t}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}var Uae=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Se(e)?r=e(n):r=M.createElement("line",Rv({},n,{className:"recharts-reference-line-line"})),r},Bae=function(e,n,r,i,o,a,s,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var v=c.y,y=e.y.apply(v,{position:a});if(Ir(c,"discard")&&!e.y.isInRange(y))return null;var w=[{x:d+h,y},{x:d,y}];return l==="left"?w.reverse():w}if(n){var x=c.x,b=e.x.apply(x,{position:a});if(Ir(c,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?_.reverse():_}if(i){var E=c.segment,S=E.map(function(T){return e.apply(T,{position:a})});return Ir(c,"discard")&&coe(S,function(T){return!e.isInRange(T)})?null:S}return null};function Fae(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=wae(),d=qj(i),f=Vj(o),h=Eae();if(!c||!h)return null;mr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=gb({x:d.scale,y:f.scale}),v=It(e),y=It(n),w=r&&r.length===2,x=Bae(m,v,y,w,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var b=Rae(x,2),_=b[0],E=_.x,S=_.y,T=b[1],k=T.x,A=T.y,C=Ir(t,"hidden")?"url(#".concat(c,")"):void 0,O=fT(fT({clipPath:C},ye(t,!0)),{},{x1:E,y1:S,x2:k,y2:A});return M.createElement($e,{className:Ce("recharts-reference-line",s)},Uae(a,O),Mt.renderCallByParent(t,Qoe({x1:E,y1:S,x2:k,y2:A})))}var _b=function(t){function e(){return kae(this,e),Cae(this,e,arguments)}return jae(e,t),Aae(e,[{key:"render",value:function(){return M.createElement(Fae,this.props)}}])}(M.Component);wb(_b,"displayName","ReferenceLine");wb(_b,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){Up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function Gae(t,e,n){return e&&Vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t,e,n){return e=dh(e),zae(t,zj()?Reflect.construct(e,n||[],dh(t).constructor):e.apply(t,n))}function zae(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(t)}function Wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zj=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(t)}function Kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function Up(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=Jae(t,"string");return Es(e)=="symbol"?e:e+""}function Jae(t,e){if(Es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=gb({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Ir(e,"discard")&&!a.isInRange(s)?null:s},Bp=function(t){function e(){return qae(this,e),Hae(this,e,arguments)}return Kae(e,t),Gae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=It(i),d=It(o);if(mr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=Yae(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,y=v.shape,w=v.className,x=Ir(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=mT(mT({clipPath:x},ye(this.props,!0)),{},{cx:h,cy:m});return M.createElement($e,{className:Ce("recharts-reference-dot",w)},e.renderDot(y,b),Mt.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(M.Component);Up(Bp,"displayName","ReferenceDot");Up(Bp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Up(Bp,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(Ip,Mv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){Fp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jj(r.key),r)}}function Zae(t,e,n){return e&&Qae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ese(t,e,n){return e=fh(e),tse(t,Kj()?Reflect.construct(e,n||[],fh(t).constructor):e.apply(t,n))}function tse(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(t)}function nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fh(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lv(t,e)}function Fp(t,e,n){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jj(t){var e=ise(t,"string");return Ts(e)=="symbol"?e:e+""}function ise(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ose=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=gb({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ir(o,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:Mj(m,v)},qp=function(t){function e(){return Xae(this,e),ese(this,e,arguments)}return rse(e,t),Zae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;mr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=It(i),h=It(o),m=It(a),v=It(s),y=this.props.shape;if(!f&&!h&&!m&&!v&&!y)return null;var w=ose(f,h,m,v,this.props);if(!w&&!y)return null;var x=Ir(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement($e,{className:Ce("recharts-reference-area",l)},e.renderRect(y,yT(yT({clipPath:x},ye(this.props,!0)),w)),Mt.renderCallByParent(this.props,w))}}])}(M.Component);Fp(qp,"displayName","ReferenceArea");Fp(qp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fp(qp,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(mb,Dv({},e,{className:"recharts-reference-area-rect"})),n});function Yj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ase(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return eae(r,n)}function sse(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function lse(t,e){return Yj(t,e+1)}function use(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Yj(r,c)};var y=l,w,x=function(){return w===void 0&&(w=n(v,y)),w},b=v.coordinate,_=l===0||hh(t,b,x,d,s);_||(l=0,d=a,c+=1),_&&(d=b+t*(x()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return e=dse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dse(t){var e=fse(t,"string");return nc(e)=="symbol"?e:e+""}function fse(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hse(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(h){var m=o[h],v,y=function(){return v===void 0&&(v=n(m,h)),v};if(h===a-1){var w=t*(m.coordinate+t*y()/2-l);o[h]=m=Kt(Kt({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else o[h]=m=Kt(Kt({},m),{},{tickCoord:m.coordinate});var x=hh(t,m.tickCoord,y,s,l);x&&(l=m.tickCoord-t*(y()/2+i),o[h]=Kt(Kt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function pse(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-c);a[s-1]=d=Kt(Kt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=hh(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),a[s-1]=Kt(Kt({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(b){var _=a[b],E,S=function(){return E===void 0&&(E=n(_,b)),E};if(b===0){var T=t*(_.coordinate-t*S()/2-l);a[b]=_=Kt(Kt({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[b]=_=Kt(Kt({},_),{},{tickCoord:_.coordinate});var k=hh(t,_.tickCoord,S,l,c);k&&(l=_.tickCoord+t*(S()/2+i),a[b]=Kt(Kt({},_),{},{isShow:!0}))},w=0;w<v;w++)y(w);return a}function Sb(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(le(l)||Zo.isSsr)return lse(i,typeof l=="number"&&le(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",v=d&&m==="width"?ql(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,E){var S=Se(c)?c(_.value,E):_.value;return m==="width"?ase(ql(S,{fontSize:e,letterSpacing:n}),v,f):ql(S,{fontSize:e,letterSpacing:n})[m]},w=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,x=sse(o,w,m);return l==="equidistantPreserveStart"?use(w,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=pse(w,x,y,i,a,l==="preserveStartEnd"):h=hse(w,x,y,i,a),h.filter(function(b){return b.isShow}))}var mse=["viewBox"],gse=["viewBox"],yse=["ticks"];function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){Eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ug(t,e){if(t==null)return{};var n=vse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qj(r.key),r)}}function bse(t,e,n){return e&&bT(t.prototype,e),n&&bT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wse(t,e,n){return e=ph(e),_se(t,Xj()?Reflect.construct(e,n||[],ph(t).constructor):e.apply(t,n))}function _se(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sse(t)}function Sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ph(t)}function Ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uv(t,e)}function Eb(t,e,n){return e=Qj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qj(t){var e=Tse(t,"string");return ks(e)=="symbol"?e:e+""}function Tse(t,e){if(ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ys=function(t){function e(n){var r;return xse(this,e),r=wse(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Ese(e,t),bse(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=ug(r,mse),s=this.props,l=s.viewBox,c=ug(s,gse);return!za(o,l)||!za(a,c)||!za(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,y,w,x,b,_=f?-1:1,E=r.tickSize||d,S=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,w=a+ +!f*l,y=w-_*E,b=y-_*h,x=S;break;case"left":y=w=r.coordinate,v=o+ +!f*s,m=v-_*E,x=m-_*h,b=S;break;case"right":y=w=r.coordinate,v=o+ +f*s,m=v+_*E,x=m+_*h,b=S;break;default:m=v=r.coordinate,w=a+ +f*l,y=w+_*E,b=y+_*h,x=S;break}return{line:{x1:m,y1:y,x2:v,y2:w},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Tt(Tt(Tt({},ye(this.props,!1)),ye(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Tt(Tt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=Tt(Tt({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return M.createElement("line",Ma({},f,{className:Ce("recharts-cartesian-axis-line",jn(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=Sb(Tt(Tt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=ye(this.props,!1),x=ye(d,!1),b=Tt(Tt({},w),{},{fill:"none"},ye(l,!1)),_=m.map(function(E,S){var T=a.getTickLineCoord(E),k=T.line,A=T.tick,C=Tt(Tt(Tt(Tt({textAnchor:v,verticalAnchor:y},w),{},{stroke:"none",fill:c},x),A),{},{index:S,payload:E,visibleTicksCount:m.length,tickFormatter:f});return M.createElement($e,Ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Fo(a.props,E,S)),l&&M.createElement("line",Ma({},b,k,{className:Ce("recharts-cartesian-axis-tick-line",jn(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(Se(f)?f(E.value,S):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=ug(f,yse),v=h;return Se(l)&&(v=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:M.createElement($e,{className:Ce("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ce(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,Tt(Tt({},i),{},{className:s})):Se(r)?a=r(Tt(Tt({},i),{},{className:s})):a=M.createElement(qo,Ma({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(N.Component);Eb(Ys,"displayName","CartesianAxis");Eb(Ys,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kse=["x1","y1","x2","y2","key"],Nse=["offset"];function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){Ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e,n){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Pse(t,"string");return Ho(e)=="symbol"?e:e+""}function Pse(t,e){if(Ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(this,arguments)}function _T(t,e){if(t==null)return{};var n=Ise(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jse=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Zj(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=_T(e,kse),c=ye(l,!1);c.offset;var d=_T(c,Nse);n=M.createElement("line",Ao({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Ose(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Xt(Xt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return Zj(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Rse(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Xt(Xt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return Zj(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Mse(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?i+a-h:d[m+1]-h;if(y<=0)return null;var w=m%e.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $se(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?o+s-h:d[m+1]-h;if(y<=0)return null;var w=m%r.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:y,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Dse=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return JI(Sb(Xt(Xt(Xt({},Ys.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Lse=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return JI(Sb(Xt(Xt(Xt({},Ys.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},ha={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rc(t){var e,n,r,i,o,a,s=xb(),l=bb(),c=Tae(),d=Xt(Xt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ha.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ha.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ha.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ha.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ha.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ha.verticalFill,x:le(t.x)?t.x:c.left,y:le(t.y)?t.y:c.top,width:le(t.width)?t.width:c.width,height:le(t.height)?t.height:c.height}),f=d.x,h=d.y,m=d.width,v=d.height,y=d.syncWithTicks,w=d.horizontalValues,x=d.verticalValues,b=_ae(),_=Sae();if(!le(m)||m<=0||!le(v)||v<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var E=d.verticalCoordinatesGenerator||Dse,S=d.horizontalCoordinatesGenerator||Lse,T=d.horizontalPoints,k=d.verticalPoints;if((!T||!T.length)&&Se(S)){var A=w&&w.length,C=S({yAxis:_?Xt(Xt({},_),{},{ticks:A?w:_.ticks}):void 0,width:s,height:l,offset:c},A?!0:y);mr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(C),"]")),Array.isArray(C)&&(T=C)}if((!k||!k.length)&&Se(E)){var O=x&&x.length,R=E({xAxis:b?Xt(Xt({},b),{},{ticks:O?x:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:y);mr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(R),"]")),Array.isArray(R)&&(k=R)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(jse,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(Ose,Ao({},d,{offset:c,horizontalPoints:T,xAxis:b,yAxis:_})),M.createElement(Rse,Ao({},d,{offset:c,verticalPoints:k,xAxis:b,yAxis:_})),M.createElement(Mse,Ao({},d,{horizontalPoints:T})),M.createElement($se,Ao({},d,{verticalPoints:k})))}rc.displayName="CartesianGrid";var Use=["type","layout","connectNulls","ref"],Bse=["key"];function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function ST(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pa(t){return Hse(t)||Gse(t)||Vse(t)||qse()}function qse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(t,e){if(t){if(typeof t=="string")return Bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(t,e)}}function Gse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hse(t){if(Array.isArray(t))return Bv(t)}function Bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tO(r.key),r)}}function Wse(t,e,n){return e&&TT(t.prototype,e),n&&TT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kse(t,e,n){return e=mh(e),Jse(t,eO()?Reflect.construct(e,n||[],mh(t).constructor):e.apply(t,n))}function Jse(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(t)}function Yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(t)}function Xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fv(t,e)}function cr(t,e,n){return e=tO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tO(t){var e=Qse(t,"string");return Ns(e)=="symbol"?e:e+""}function Qse(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kc=function(t){function e(){var n;zse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kse(this,e,[].concat(i)),cr(n,"state",{isAnimationFinished:!0,totalLength:0}),cr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),cr(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(x,b){return x+b});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),f=a%c,h=s-a,m=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){m=[].concat(pa(l.slice(0,v)),[f-y]);break}var w=m.length%2===0?[0,h]:[h];return[].concat(pa(e.repeat(l,d)),pa(m),w).map(function(x){return"".concat(x,"px")}).join(", ")}),cr(n,"id",Vs("recharts-line-")),cr(n,"pathRef",function(a){n.mainCurve=a}),cr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),cr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xse(e,t),Wse(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=On(d,Tc);if(!f)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:Ct(y.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement($e,m,f.map(function(v){return M.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=ye(this.props,!1),h=ye(l,!0),m=c.map(function(y,w){var x=wn(wn(wn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,x)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement($e,Kl({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=ST(s,Use),h=wn(wn(wn({},ye(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return M.createElement(Kf,Kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,v=a.animateNewValues,y=a.width,w=a.height,x=this.state,b=x.prevPoints,_=x.totalLength;return M.createElement(Or,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(b){var T=b.length/s.length,k=s.map(function(D,L){var $=Math.floor(L*T);if(b[$]){var j=b[$],F=kn(j.x,D.x),U=kn(j.y,D.y);return wn(wn({},D),{},{x:F(S),y:U(S)})}if(v){var q=kn(y*2,D.x),W=kn(w/2,D.y);return wn(wn({},D),{},{x:q(S),y:W(S)})}return wn(wn({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(k,r,i)}var A=kn(0,_),C=A(S),O;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});O=o.getStrokeDasharray(C,_,R)}else O=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!Ec(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=s.length===1,_=Ce("recharts-line",l),E=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,T=E||S,k=Ae(w)?this.id:w,A=(r=ye(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,O=C===void 0?3:C,R=A.strokeWidth,D=R===void 0?2:R,L=y8(a)?a:{},$=L.clipDot,j=$===void 0?!0:$,F=O*2+D;return M.createElement($e,{className:_},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:E?h:h-m/2,y:S?f:f-v/2,width:E?m:m*2,height:S?v:v*2})),!j&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:v+F}))):null,!b&&this.renderCurve(T,k),this.renderErrorBar(T,k),(b||a)&&this.renderDots(T,j,k),(!y||x)&&ni.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(pa(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(pa(a),pa(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=ST(i,Bse),l=Ce("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(Ip,Kl({key:a},s,{className:l}))}return o}}])}(N.PureComponent);cr(kc,"displayName","Line");cr(kc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cr(kc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var v=Ct(h,a);return d==="horizontal"?{x:Q1({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Ae(v)?null:r.scale(v),value:v,payload:h}:{x:Ae(v)?null:n.scale(v),y:Q1({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:v,payload:h}});return wn({points:f,layout:d},c)});function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iO(r.key),r)}}function tle(t,e,n){return e&&ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nle(t,e,n){return e=gh(e),rle(t,nO()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function rle(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ile(t)}function ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qv(t,e)}function rO(t,e,n){return e=iO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iO(t){var e=ale(t,"string");return As(e)=="symbol"?e:e+""}function ale(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function sle(t){var e=t.xAxisId,n=xb(),r=bb(),i=qj(e);return i==null?null:N.createElement(Ys,Vv({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Yr(a,!0)}}))}var Wi=function(t){function e(){return Zse(this,e),nle(this,e,arguments)}return ole(e,t),tle(e,[{key:"render",value:function(){return N.createElement(sle,this.props)}}])}(N.Component);rO(Wi,"displayName","XAxis");rO(Wi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ule(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sO(r.key),r)}}function cle(t,e,n){return e&&ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dle(t,e,n){return e=yh(e),fle(t,oO()?Reflect.construct(e,n||[],yh(t).constructor):e.apply(t,n))}function fle(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(t)}function hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oO=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(t)}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gv(t,e)}function aO(t,e,n){return e=sO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sO(t){var e=mle(t,"string");return Cs(e)=="symbol"?e:e+""}function mle(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}var gle=function(e){var n=e.yAxisId,r=xb(),i=bb(),o=Vj(n);return o==null?null:N.createElement(Ys,Hv({},o,{className:Ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Yr(s,!0)}}))},Ki=function(t){function e(){return lle(this,e),dle(this,e,arguments)}return ple(e,t),cle(e,[{key:"render",value:function(){return N.createElement(gle,this.props)}}])}(N.Component);aO(Ki,"displayName","YAxis");aO(Ki,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kT(t){return ble(t)||xle(t)||vle(t)||yle()}function yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t,e){if(t){if(typeof t=="string")return zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(t,e)}}function xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ble(t){if(Array.isArray(t))return zv(t)}function zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wv=function(e,n,r,i,o){var a=On(e,_b),s=On(e,Bp),l=[].concat(kT(a),kT(s)),c=On(e,qp),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[d]===r&&Ir(w.props,"extendDomain")&&le(w.props[f])){var x=w.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var m="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(y,w){if(w.props[d]===r&&Ir(w.props,"extendDomain")&&le(w.props[m])&&le(w.props[v])){var x=w.props[m],b=w.props[v];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return le(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},lO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var w=this._events[y],x=arguments.length,b,_;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,v),!0}for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];w.fn.apply(w.context,b)}else{var E=w.length,S;for(_=0;_<E;_++)switch(w[_].once&&this.removeListener(c,w[_].fn,void 0,!0),x){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,d);break;case 3:w[_].fn.call(w[_].context,d,f);break;case 4:w[_].fn.call(w[_].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];w[_].fn.apply(w[_].context,b)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var y=0,w=[],x=v.length;y<x;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&w.push(v[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(lO);var wle=lO.exports;const _le=Ve(wle);var cg=new _le,dg="recharts.syncMouseEvents";function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uO(r.key),r)}}function Tle(t,e,n){return e&&Ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fg(t,e,n){return e=uO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uO(t){var e=kle(t,"string");return ic(e)=="symbol"?e:e+""}function kle(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nle=function(){function t(){Sle(this,t),fg(this,"activeIndex",0),fg(this,"coordinateList",[]),fg(this,"layout","horizontal")}return Tle(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ale(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&le(r)&&le(i))return!0}return!1}function Cle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=et(e,n,r,i),s=et(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Ple(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=et(s,l,c,f),m=et(s,l,d,f);r=h.x,i=h.y,o=m.x,a=m.y}else return cO(e);return[{x:r,y:i},{x:o,y:a}]}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return e=jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=Ole(t,"string");return oc(e)=="symbol"?e:e+""}function Ole(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Kf;if(h==="ScatterChart")v=a,y=Qne;else if(h==="BarChart")v=Cle(f,a,l,d),y=mb;else if(f==="radial"){var w=cO(a),x=w.cx,b=w.cy,_=w.radius,E=w.startAngle,S=w.endAngle;v={cx:x,cy:b,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},y=aj}else v={points:Ple(f,a,l)},y=Kf;var T=ld(ld(ld(ld({stroke:"#ccc",pointerEvents:"none"},l),v),ye(m,!1)),{},{payload:s,payloadIndex:c,className:Ce("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,T):N.createElement(y,T)}var Mle=["item"],$le=["children","className","width","height","style","compact","title","desc"];function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function AT(t,e){return Ule(t)||Lle(t,e)||fO(t,e)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ule(t){if(Array.isArray(t))return t}function CT(t,e){if(t==null)return{};var n=Ble(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hO(r.key),r)}}function Vle(t,e,n){return e&&qle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gle(t,e,n){return e=vh(e),Hle(t,dO()?Reflect.construct(e,n||[],vh(t).constructor):e.apply(t,n))}function Hle(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function Wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kv(t,e)}function Is(t){return Yle(t)||Jle(t)||fO(t)||Kle()}function Kle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fO(t,e){if(t){if(typeof t=="string")return Jv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jv(t,e)}}function Jle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yle(t){if(Array.isArray(t))return Jv(t)}function Jv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xe(t,e,n){return e=hO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hO(t){var e=Xle(t,"string");return Ps(e)=="symbol"?e:e+""}function Xle(t,e){if(Ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qle={xAxis:["bottom","top"],yAxis:["left","right"]},Zle={width:"100%",height:"100%"},pO={x:0,y:0};function ud(t){return t}var eue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},tue=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Y(Y(Y({},i),et(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Y(Y(Y({},i),et(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return pO},Vp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Is(s),Is(c)):s},[]);return a.length>0?a:e&&e.length&&le(i)&&le(o)?e.slice(i,o+1):[]};function mO(t){return t==="number"?[0,"auto"]:void 0}var Yv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Vp(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=yf(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Is(l),[ej(c,h)]):l},[])},IT=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=eue(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=vZ(a,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=Yv(e,n,d,f),m=tue(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},nue=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=KI(d,o);return r.reduce(function(v,y){var w,x=y.type.defaultProps!==void 0?Y(Y({},y.type.defaultProps),y.props):y.props,b=x.type,_=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,T=x.scale,k=x.ticks,A=x.includeHidden,C=x[a];if(v[C])return v;var O=Vp(e.data,{graphicalItems:i.filter(function(Q){var ce,Ee=a in Q.props?Q.props[a]:(ce=Q.type.defaultProps)===null||ce===void 0?void 0:ce[a];return Ee===C}),dataStartIndex:l,dataEndIndex:c}),R=O.length,D,L,$;Ale(x.domain,E,b)&&(D=cv(x.domain,null,E),m&&(b==="number"||T!=="auto")&&($=Gl(O,_,"category")));var j=mO(b);if(!D||D.length===0){var F,U=(F=x.domain)!==null&&F!==void 0?F:j;if(_){if(D=Gl(O,_,b),b==="category"&&m){var q=s8(D);S&&q?(L=D,D=oh(0,R)):S||(D=nE(U,D,y).reduce(function(Q,ce){return Q.indexOf(ce)>=0?Q:[].concat(Is(Q),[ce])},[]))}else if(b==="category")S?D=D.filter(function(Q){return Q!==""&&!Ae(Q)}):D=nE(U,D,y).reduce(function(Q,ce){return Q.indexOf(ce)>=0||ce===""||Ae(ce)?Q:[].concat(Is(Q),[ce])},[]);else if(b==="number"){var W=SZ(O,i.filter(function(Q){var ce,Ee,Te=a in Q.props?Q.props[a]:(ce=Q.type.defaultProps)===null||ce===void 0?void 0:ce[a],Me="hide"in Q.props?Q.props.hide:(Ee=Q.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return Te===C&&(A||!Me)}),_,o,d);W&&(D=W)}m&&(b==="number"||T!=="auto")&&($=Gl(O,_,"category"))}else m?D=oh(0,R):s&&s[C]&&s[C].hasStack&&b==="number"?D=h==="expand"?[0,1]:ZI(s[C].stackGroups,l,c):D=WI(O,i.filter(function(Q){var ce=a in Q.props?Q.props[a]:Q.type.defaultProps[a],Ee="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ce===C&&(A||!Ee)}),b,d,!0);if(b==="number")D=Wv(f,D,C,o,k),U&&(D=cv(U,D,E));else if(b==="category"&&U){var J=U,ne=D.every(function(Q){return J.indexOf(Q)>=0});ne&&(D=J)}}return Y(Y({},v),{},xe({},C,Y(Y({},x),{},{axisType:o,domain:D,categoricalDomain:$,duplicateDomain:L,originalDomain:(w=x.domain)!==null&&w!==void 0?w:j,isCategorical:m,layout:d})))},{})},rue=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Vp(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,v=KI(d,o),y=-1;return r.reduce(function(w,x){var b=x.type.defaultProps!==void 0?Y(Y({},x.type.defaultProps),x.props):x.props,_=b[a],E=mO("number");if(!w[_]){y++;var S;return v?S=oh(0,m):s&&s[_]&&s[_].hasStack?(S=ZI(s[_].stackGroups,l,c),S=Wv(f,S,_,o)):(S=cv(E,WI(h,r.filter(function(T){var k,A,C=a in T.props?T.props[a]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[a],O="hide"in T.props?T.props.hide:(A=T.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!O}),"number",d),i.defaultProps.allowDataOverflow),S=Wv(f,S,_,o)),Y(Y({},w),{},xe({},_,Y(Y({axisType:o},i.defaultProps),{},{hide:!0,orientation:jn(Qle,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:v,layout:d})))}return w},{})},iue=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=On(d,o),m={};return h&&h.length?m=nue(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=rue(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},oue=function(e){var n=Ci(e),r=Yr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:qx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Hf(n,r)}},jT=function(e){var n=e.children,r=e.defaultShowTooltip,i=En(n,ws),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},aue=function(e){return!e||!e.length?!1:e.some(function(n){var r=ei(n&&n.type);return r&&r.indexOf("Bar")>=0})},OT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sue=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=En(f,ws),v=En(f,jo),y=Object.keys(l).reduce(function(S,T){var k=l[T],A=k.orientation;return!k.mirror&&!k.hide?Y(Y({},S),{},xe({},A,S[A]+k.width)):S},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(S,T){var k=a[T],A=k.orientation;return!k.mirror&&!k.hide?Y(Y({},S),{},xe({},A,jn(S,"".concat(A))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=Y(Y({},w),y),b=x.bottom;m&&(x.bottom+=m.props.height||ws.defaultProps.height),v&&n&&(x=wZ(x,i,r,n));var _=c-x.left-x.right,E=d-x.top-x.bottom;return Y(Y({brushBottom:b},x),{},{width:Math.max(_,0),height:Math.max(E,0)})},lue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Tb=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,b){var _=b.graphicalItems,E=b.stackGroups,S=b.offset,T=b.updateId,k=b.dataStartIndex,A=b.dataEndIndex,C=x.barSize,O=x.layout,R=x.barGap,D=x.barCategoryGap,L=x.maxBarSize,$=OT(O),j=$.numericAxisName,F=$.cateAxisName,U=aue(_),q=[];return _.forEach(function(W,J){var ne=Vp(x.data,{graphicalItems:[W],dataStartIndex:k,dataEndIndex:A}),Q=W.type.defaultProps!==void 0?Y(Y({},W.type.defaultProps),W.props):W.props,ce=Q.dataKey,Ee=Q.maxBarSize,Te=Q["".concat(j,"Id")],Me=Q["".concat(F,"Id")],_e={},Be=l.reduce(function(oe,pe){var je=b["".concat(pe.axisType,"Map")],We=Q["".concat(pe.axisType,"Id")];je&&je[We]||pe.axisType==="zAxis"||Go();var Ut=je[We];return Y(Y({},oe),{},xe(xe({},pe.axisType,Ut),"".concat(pe.axisType,"Ticks"),Yr(Ut)))},_e),se=Be[F],ge=Be["".concat(F,"Ticks")],ve=E&&E[Te]&&E[Te].hasStack&&jZ(W,E[Te].stackGroups),B=ei(W.type).indexOf("Bar")>=0,Oe=Hf(se,ge),Pe=[],I=U&&xZ({barSize:C,stackGroups:E,totalSize:lue(Be,F)});if(B){var V,X,K=Ae(Ee)?L:Ee,ie=(V=(X=Hf(se,ge,!0))!==null&&X!==void 0?X:K)!==null&&V!==void 0?V:0;Pe=bZ({barGap:R,barCategoryGap:D,bandSize:ie!==Oe?ie:Oe,sizeList:I[Me],maxBarSize:K}),ie!==Oe&&(Pe=Pe.map(function(oe){return Y(Y({},oe),{},{position:Y(Y({},oe.position),{},{offset:oe.position.offset-ie/2})})}))}var z=W&&W.type&&W.type.getComposedData;z&&q.push({props:Y(Y({},z(Y(Y({},Be),{},{displayedData:ne,props:x,dataKey:ce,item:W,bandSize:Oe,barPosition:Pe,offset:S,stackedData:ve,layout:O,dataStartIndex:k,dataEndIndex:A}))),{},xe(xe(xe({key:W.key||"item-".concat(J)},j,Be[j]),F,Be[F]),"animationId",T)),childIndex:b8(W,x.children),item:W})}),q},m=function(x,b){var _=x.props,E=x.dataStartIndex,S=x.dataEndIndex,T=x.updateId;if(!J_({props:_}))return null;var k=_.children,A=_.layout,C=_.stackOffset,O=_.data,R=_.reverseStackOrder,D=OT(A),L=D.numericAxisName,$=D.cateAxisName,j=On(k,r),F=PZ(O,j,"".concat(L,"Id"),"".concat($,"Id"),C,R),U=l.reduce(function(Q,ce){var Ee="".concat(ce.axisType,"Map");return Y(Y({},Q),{},xe({},Ee,iue(_,Y(Y({},ce),{},{graphicalItems:j,stackGroups:ce.axisType===L&&F,dataStartIndex:E,dataEndIndex:S}))))},{}),q=sue(Y(Y({},U),{},{props:_,graphicalItems:j}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(Q){U[Q]=d(_,U[Q],q,Q.replace("Map",""),n)});var W=U["".concat($,"Map")],J=oue(W),ne=h(_,Y(Y({},U),{},{dataStartIndex:E,dataEndIndex:S,updateId:T,graphicalItems:j,stackGroups:F,offset:q}));return Y(Y({formattedGraphicalItems:ne,graphicalItems:j,offset:q,stackGroups:F},J),U)},v=function(w){function x(b){var _,E,S;return Fle(this,x),S=Gle(this,x,[b]),xe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xe(S,"accessibilityManager",new Nle),xe(S,"handleLegendBBoxUpdate",function(T){if(T){var k=S.state,A=k.dataStartIndex,C=k.dataEndIndex,O=k.updateId;S.setState(Y({legendBBox:T},m({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:O},Y(Y({},S.state),{},{legendBBox:T}))))}}),xe(S,"handleReceiveSyncEvent",function(T,k,A){if(S.props.syncId===T){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),xe(S,"handleBrushChange",function(T){var k=T.startIndex,A=T.endIndex;if(k!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return Y({dataStartIndex:k,dataEndIndex:A},m({props:S.props,dataStartIndex:k,dataEndIndex:A,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),xe(S,"handleMouseEnter",function(T){var k=S.getMouseInfo(T);if(k){var A=Y(Y({},k),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseEnter;Se(C)&&C(A,T)}}),xe(S,"triggeredAfterMouseMove",function(T){var k=S.getMouseInfo(T),A=k?Y(Y({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseMove;Se(C)&&C(A,T)}),xe(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),xe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),xe(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),xe(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var A=S.props.onMouseLeave;Se(A)&&A(k,T)}),xe(S,"handleOuterEvent",function(T){var k=x8(T),A=jn(S.props,"".concat(k));if(k&&Se(A)){var C,O;/.*touch.*/i.test(k)?O=S.getMouseInfo(T.changedTouches[0]):O=S.getMouseInfo(T),A((C=O)!==null&&C!==void 0?C:{},T)}}),xe(S,"handleClick",function(T){var k=S.getMouseInfo(T);if(k){var A=Y(Y({},k),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onClick;Se(C)&&C(A,T)}}),xe(S,"handleMouseDown",function(T){var k=S.props.onMouseDown;if(Se(k)){var A=S.getMouseInfo(T);k(A,T)}}),xe(S,"handleMouseUp",function(T){var k=S.props.onMouseUp;if(Se(k)){var A=S.getMouseInfo(T);k(A,T)}}),xe(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),xe(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),xe(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),xe(S,"handleDoubleClick",function(T){var k=S.props.onDoubleClick;if(Se(k)){var A=S.getMouseInfo(T);k(A,T)}}),xe(S,"handleContextMenu",function(T){var k=S.props.onContextMenu;if(Se(k)){var A=S.getMouseInfo(T);k(A,T)}}),xe(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&cg.emit(dg,S.props.syncId,T,S.eventEmitterSymbol)}),xe(S,"applySyncEvent",function(T){var k=S.props,A=k.layout,C=k.syncMethod,O=S.state.updateId,R=T.dataStartIndex,D=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(Y({dataStartIndex:R,dataEndIndex:D},m({props:S.props,dataStartIndex:R,dataEndIndex:D,updateId:O},S.state)));else if(T.activeTooltipIndex!==void 0){var L=T.chartX,$=T.chartY,j=T.activeTooltipIndex,F=S.state,U=F.offset,q=F.tooltipTicks;if(!U)return;if(typeof C=="function")j=C(q,T);else if(C==="value"){j=-1;for(var W=0;W<q.length;W++)if(q[W].value===T.activeLabel){j=W;break}}var J=Y(Y({},U),{},{x:U.left,y:U.top}),ne=Math.min(L,J.x+J.width),Q=Math.min($,J.y+J.height),ce=q[j]&&q[j].value,Ee=Yv(S.state,S.props.data,j),Te=q[j]?{x:A==="horizontal"?q[j].coordinate:ne,y:A==="horizontal"?Q:q[j].coordinate}:pO;S.setState(Y(Y({},T),{},{activeLabel:ce,activeCoordinate:Te,activePayload:Ee,activeTooltipIndex:j}))}else S.setState(T)}),xe(S,"renderCursor",function(T){var k,A=S.state,C=A.isTooltipActive,O=A.activeCoordinate,R=A.activePayload,D=A.offset,L=A.activeTooltipIndex,$=A.tooltipAxisBandSize,j=S.getTooltipEventType(),F=(k=T.props.active)!==null&&k!==void 0?k:C,U=S.props.layout,q=T.key||"_recharts-cursor";return M.createElement(Rle,{key:q,activeCoordinate:O,activePayload:R,activeTooltipIndex:L,chartName:n,element:T,isActive:F,layout:U,offset:D,tooltipAxisBandSize:$,tooltipEventType:j})}),xe(S,"renderPolarAxis",function(T,k,A){var C=jn(T,"type.axisType"),O=jn(S.state,"".concat(C,"Map")),R=T.type.defaultProps,D=R!==void 0?Y(Y({},R),T.props):T.props,L=O&&O[D["".concat(C,"Id")]];return N.cloneElement(T,Y(Y({},L),{},{className:Ce(C,L.className),key:T.key||"".concat(k,"-").concat(A),ticks:Yr(L,!0)}))}),xe(S,"renderPolarGrid",function(T){var k=T.props,A=k.radialLines,C=k.polarAngles,O=k.polarRadius,R=S.state,D=R.radiusAxisMap,L=R.angleAxisMap,$=Ci(D),j=Ci(L),F=j.cx,U=j.cy,q=j.innerRadius,W=j.outerRadius;return N.cloneElement(T,{polarAngles:Array.isArray(C)?C:Yr(j,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(O)?O:Yr($,!0).map(function(J){return J.coordinate}),cx:F,cy:U,innerRadius:q,outerRadius:W,key:T.key||"polar-grid",radialLines:A})}),xe(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,k=S.props,A=k.children,C=k.width,O=k.height,R=S.props.margin||{},D=C-(R.left||0)-(R.right||0),L=HI({children:A,formattedGraphicalItems:T,legendWidth:D,legendContent:c});if(!L)return null;var $=L.item,j=CT(L,Mle);return N.cloneElement($,Y(Y({},j),{},{chartWidth:C,chartHeight:O,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),xe(S,"renderTooltip",function(){var T,k=S.props,A=k.children,C=k.accessibilityLayer,O=En(A,Tn);if(!O)return null;var R=S.state,D=R.isTooltipActive,L=R.activeCoordinate,$=R.activePayload,j=R.activeLabel,F=R.offset,U=(T=O.props.active)!==null&&T!==void 0?T:D;return N.cloneElement(O,{viewBox:Y(Y({},F),{},{x:F.left,y:F.top}),active:U,label:j,payload:U?$:[],coordinate:L,accessibilityLayer:C})}),xe(S,"renderBrush",function(T){var k=S.props,A=k.margin,C=k.data,O=S.state,R=O.offset,D=O.dataStartIndex,L=O.dataEndIndex,$=O.updateId;return N.cloneElement(T,{key:T.key||"_recharts-brush",onChange:id(S.handleBrushChange,T.props.onChange),data:C,x:le(T.props.x)?T.props.x:R.left,y:le(T.props.y)?T.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:le(T.props.width)?T.props.width:R.width,startIndex:D,endIndex:L,updateId:"brush-".concat($)})}),xe(S,"renderReferenceElement",function(T,k,A){if(!T)return null;var C=S,O=C.clipPathId,R=S.state,D=R.xAxisMap,L=R.yAxisMap,$=R.offset,j=T.type.defaultProps||{},F=T.props,U=F.xAxisId,q=U===void 0?j.xAxisId:U,W=F.yAxisId,J=W===void 0?j.yAxisId:W;return N.cloneElement(T,{key:T.key||"".concat(k,"-").concat(A),xAxis:D[q],yAxis:L[J],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),xe(S,"renderActivePoints",function(T){var k=T.item,A=T.activePoint,C=T.basePoint,O=T.childIndex,R=T.isRange,D=[],L=k.props.key,$=k.item.type.defaultProps!==void 0?Y(Y({},k.item.type.defaultProps),k.item.props):k.item.props,j=$.activeDot,F=$.dataKey,U=Y(Y({index:O,dataKey:F,cx:A.x,cy:A.y,r:4,fill:pb(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ye(j,!1)),vf(j));return D.push(x.renderActiveDot(j,U,"".concat(L,"-activePoint-").concat(O))),C?D.push(x.renderActiveDot(j,Y(Y({},U),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(O))):R&&D.push(null),D}),xe(S,"renderGraphicChild",function(T,k,A){var C=S.filterFormatItem(T,k,A);if(!C)return null;var O=S.getTooltipEventType(),R=S.state,D=R.isTooltipActive,L=R.tooltipAxis,$=R.activeTooltipIndex,j=R.activeLabel,F=S.props.children,U=En(F,Tn),q=C.props,W=q.points,J=q.isRange,ne=q.baseLine,Q=C.item.type.defaultProps!==void 0?Y(Y({},C.item.type.defaultProps),C.item.props):C.item.props,ce=Q.activeDot,Ee=Q.hide,Te=Q.activeBar,Me=Q.activeShape,_e=!!(!Ee&&D&&U&&(ce||Te||Me)),Be={};O!=="axis"&&U&&U.props.trigger==="click"?Be={onClick:id(S.handleItemMouseEnter,T.props.onClick)}:O!=="axis"&&(Be={onMouseLeave:id(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:id(S.handleItemMouseEnter,T.props.onMouseEnter)});var se=N.cloneElement(T,Y(Y({},C.props),Be));function ge(pe){return typeof L.dataKey=="function"?L.dataKey(pe.payload):null}if(_e)if($>=0){var ve,B;if(L.dataKey&&!L.allowDuplicatedCategory){var Oe=typeof L.dataKey=="function"?ge:"payload.".concat(L.dataKey.toString());ve=yf(W,Oe,j),B=J&&ne&&yf(ne,Oe,j)}else ve=W==null?void 0:W[$],B=J&&ne&&ne[$];if(Me||Te){var Pe=T.props.activeIndex!==void 0?T.props.activeIndex:$;return[N.cloneElement(T,Y(Y(Y({},C.props),Be),{},{activeIndex:Pe})),null,null]}if(!Ae(ve))return[se].concat(Is(S.renderActivePoints({item:C,activePoint:ve,basePoint:B,childIndex:$,isRange:J})))}else{var I,V=(I=S.getItemByXY(S.state.activeCoordinate))!==null&&I!==void 0?I:{graphicalItem:se},X=V.graphicalItem,K=X.item,ie=K===void 0?T:K,z=X.childIndex,oe=Y(Y(Y({},C.props),Be),{},{activeIndex:z});return[N.cloneElement(ie,oe),null,null]}return J?[se,null,null]:[se,null]}),xe(S,"renderCustomized",function(T,k,A){return N.cloneElement(T,Y(Y({key:"recharts-customized-".concat(A)},S.props),S.state))}),xe(S,"renderMap",{CartesianGrid:{handler:ud,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ud},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ud},YAxis:{handler:ud},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Vs("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=G2(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Wle(x,w),Vle(x,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,T=_.height,k=_.layout,A=En(E,Tn);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,R=Yv(this.state,S,C,O),D=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+T)/2,$=k==="horizontal",j=$?{x:D,y:L}:{y:D,x:L},F=this.state.formattedGraphicalItems.find(function(q){var W=q.item;return W.type.name==="Scatter"});F&&(j=Y(Y({},j),F.props.points[C].tooltipPosition),R=F.props.points[C].tooltipPayload);var U={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:R,activeCoordinate:j};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ty([En(_.children,Tn)],[En(this.props.children,Tn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=En(this.props.children,Tn);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),T=zK(S),k={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},A=S.width/E.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,A);if(!C)return null;var O=this.state,R=O.xAxisMap,D=O.yAxisMap,L=this.getTooltipEventType(),$=IT(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&R&&D){var j=Ci(R).scale,F=Ci(D).scale,U=j&&j.invert?j.invert(k.chartX):null,q=F&&F.invert?F.invert(k.chartY):null;return Y(Y({},k),{},{xValue:U,yValue:q},$)}return $?Y(Y({},k),$):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=_/S,A=E/S;if(T==="horizontal"||T==="vertical"){var C=this.state.offset,O=k>=C.left&&k<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return O?{x:k,y:A}:null}var R=this.state,D=R.angleAxisMap,L=R.radiusAxisMap;if(D&&L){var $=Ci(D);return oE({x:k,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=En(_,Tn),T={};S&&E==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=vf(this.props,this.handleOuterEvent);return Y(Y({},k),T)}},{key:"addListener",value:function(){cg.on(dg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cg.removeListener(dg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var T=this.state.formattedGraphicalItems,k=0,A=T.length;k<A;k++){var C=T[k];if(C.item===_||C.props.key===_.key||E===ei(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,T=E.top,k=E.height,A=E.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:S,y:T,height:k,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=AT(S,2),k=T[0],A=T[1];return Y(Y({},E),{},xe({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=AT(S,2),k=T[0],A=T[1];return Y(Y({},E),{},xe({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,T=E.activeItem;if(S&&S.length)for(var k=0,A=S.length;k<A;k++){var C=S[k],O=C.props,R=C.item,D=R.type.defaultProps!==void 0?Y(Y({},R.type.defaultProps),R.props):R.props,L=ei(R.type);if(L==="Bar"){var $=(O.data||[]).find(function(q){return jne(_,q)});if($)return{graphicalItem:C,payload:$}}else if(L==="RadialBar"){var j=(O.data||[]).find(function(q){return oE(_,q)});if(j)return{graphicalItem:C,payload:j}}else if($p(C,T)||Dp(C,T)||Qu(C,T)){var F=bie({graphicalItem:C,activeTooltipItem:T,itemData:D.data}),U=D.activeIndex===void 0?F:D.activeIndex;return{graphicalItem:Y(Y({},C),{},{childIndex:U}),payload:Qu(C,T)?D.data[F]:C.props.data[F]}}}return null}},{key:"render",value:function(){var _=this;if(!J_(this))return null;var E=this.props,S=E.children,T=E.className,k=E.width,A=E.height,C=E.style,O=E.compact,R=E.title,D=E.desc,L=CT(E,$le),$=ye(L,!1);if(O)return M.createElement(cT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Ny,$a({},$,{width:k,height:A,title:R,desc:D}),this.renderClipPath(),X_(S,this.renderMap)));if(this.props.accessibilityLayer){var j,F;$.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,$.role=(F=this.props.role)!==null&&F!==void 0?F:"application",$.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},$.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(cT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",$a({className:Ce("recharts-wrapper",T),style:Y({position:"relative",cursor:"default",width:k,height:A},C)},U,{ref:function(W){_.container=W}}),M.createElement(Ny,$a({},$,{width:k,height:A,title:R,desc:D,style:Zle}),this.renderClipPath(),X_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);xe(v,"displayName",n),xe(v,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xe(v,"getDerivedStateFromProps",function(w,x){var b=w.dataKey,_=w.data,E=w.children,S=w.width,T=w.height,k=w.layout,A=w.stackOffset,C=w.margin,O=x.dataStartIndex,R=x.dataEndIndex;if(x.updateId===void 0){var D=jT(w);return Y(Y(Y({},D),{},{updateId:0},m(Y(Y({props:w},D),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:E})}if(b!==x.prevDataKey||_!==x.prevData||S!==x.prevWidth||T!==x.prevHeight||k!==x.prevLayout||A!==x.prevStackOffset||!za(C,x.prevMargin)){var L=jT(w),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},j=Y(Y({},IT(x,_,k)),{},{updateId:x.updateId+1}),F=Y(Y(Y({},L),$),j);return Y(Y(Y({},F),m(Y({props:w},F),x)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:E})}if(!Ty(E,x.prevChildren)){var U,q,W,J,ne=En(E,ws),Q=ne&&(U=(q=ne.props)===null||q===void 0?void 0:q.startIndex)!==null&&U!==void 0?U:O,ce=ne&&(W=(J=ne.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:R,Ee=Q!==O||ce!==R,Te=!Ae(_),Me=Te&&!Ee?x.updateId:x.updateId+1;return Y(Y({updateId:Me},m(Y(Y({props:w},x),{},{updateId:Me,dataStartIndex:Q,dataEndIndex:ce}),x)),{},{prevChildren:E,dataStartIndex:Q,dataEndIndex:ce})}return null}),xe(v,"renderActiveDot",function(w,x,b){var _;return N.isValidElement(w)?_=N.cloneElement(w,x):Se(w)?_=w(x):_=M.createElement(Ip,x),M.createElement($e,{className:"recharts-active-dot",key:b},_)});var y=N.forwardRef(function(x,b){return M.createElement(v,$a({},x,{ref:b}))});return y.displayName=v.displayName,y},uue=Tb({chartName:"LineChart",GraphicalChild:kc,axisComponents:[{axisType:"xAxis",AxisComp:Wi},{axisType:"yAxis",AxisComp:Ki}],formatAxisMap:Rj}),kb=Tb({chartName:"BarChart",GraphicalChild:Mr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wi},{axisType:"yAxis",AxisComp:Ki}],formatAxisMap:Rj}),RT=Tb({chartName:"PieChart",GraphicalChild:Rr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mp},{axisType:"radiusAxis",AxisComp:Op}],formatAxisMap:qZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const cue=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>u.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[u.jsx("p",{className:"text-sm opacity-80",children:t.label}),u.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),u.jsx("div",{className:"h-64",children:u.jsx(Wa,{width:"100%",height:"100%",children:u.jsxs(kb,{data:AL,children:[u.jsx(rc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(Wi,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(Ki,{stroke:"#9ca3af"}),u.jsx(Tn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(Mr,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),u.jsx("div",{className:"h-64",children:u.jsx(Wa,{width:"100%",height:"100%",children:u.jsxs(uue,{data:CL,children:[u.jsx(rc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(Wi,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(Ki,{stroke:"#9ca3af"}),u.jsx(Tn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(kc,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function gi({data:t,columns:e,title:n,icon:r,onAdd:i,onEdit:o,onDelete:a,onViewDetails:s,customRowActions:l,extraActions:c,selectedIds:d,onSelect:f}){const[h,m]=N.useState(t),[v,y]=N.useState(""),[w,x]=N.useState(1),[b,_]=N.useState(10),[E,S]=N.useState([]),T=d||E,k=f||S,[A,C]=N.useState(null);N.useEffect(()=>{let U=[...t];if(v){const q=v.toLowerCase();U=U.filter(W=>Object.values(W).join(" ").toLowerCase().includes(q))}A&&U.sort((q,W)=>{const J=q[A.key],ne=W[A.key];if(J===ne)return 0;if(J==null)return 1;if(ne==null)return-1;const Q=J<ne?-1:1;return A.direction==="asc"?Q:-Q}),m(U),v&&w!==1&&x(1)},[t,v,A]);const O=U=>{let q="asc";A&&A.key===U&&A.direction==="asc"&&(q="desc"),C({key:U,direction:q})},R=(w-1)*b,D=R+b,L=h.slice(R,D),$=U=>{U.target.checked?k(h.map(q=>q.id)):k([])},j=U=>{T.includes(U)?k(T.filter(q=>q!==U)):k([...T,U])},F=s||o||a||l;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[r&&u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(r,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[T.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[T.length,"  "]}),c,i&&u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium text-sm",children:[u.jsx(xr,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(pu,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:v,onChange:U=>y(U.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-500",children:u.jsx(Kh,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:$,checked:h.length>0&&T.length===h.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((U,q)=>u.jsx("th",{className:`p-4 whitespace-nowrap ${U.sortKey?"cursor-pointer hover:text-primary transition-colors select-none":""}`,onClick:()=>U.sortKey&&O(U.sortKey),children:u.jsxs("div",{className:"flex items-center gap-1",children:[U.header,U.sortKey&&u.jsx("span",{className:"text-gray-400",children:(A==null?void 0:A.key)===U.sortKey?A.direction==="asc"?u.jsx(qD,{className:"w-3 h-3"}):u.jsx(BD,{className:"w-3 h-3"}):u.jsx(FD,{className:"w-3 h-3 opacity-50"})})]})},q)),F&&u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:L.length>0?L.map((U,q)=>u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${T.includes(U.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:T.includes(U.id),onChange:()=>j(U.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((W,J)=>u.jsx("td",{className:"p-4",children:W.accessor(U)},J)),F&&u.jsxs("td",{className:"p-4 flex gap-1.5 items-center",children:[l&&l(U),s&&u.jsx("button",{onClick:()=>s(U),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(rf,{width:18,height:18})}),o&&u.jsx("button",{onClick:()=>o(U),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(xL,{width:18,height:18})}),a&&u.jsx("button",{onClick:()=>a(U),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"",children:u.jsx(Jt,{width:18,height:18})})]})]},U.id||q)):u.jsx("tr",{children:u.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:b,onChange:U=>{_(Number(U.target.value)),x(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsxs("span",{children:[": ",h.length]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{disabled:w===1,onClick:()=>x(U=>U-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(hc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",w]}),u.jsx("button",{disabled:D>=h.length,onClick:()=>x(U=>U+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(zh,{className:"w-4 h-4"})})]})]})]})]})}const due=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories","parts","activity_cards","checklist_items","maintenance_plans"],MT={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories:" ",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},fue=()=>{const[t,e]=N.useState("user_groups"),[n,r]=N.useState([]),[i,o]=N.useState(!1),[a,s]=N.useState(!1),[l,c]=N.useState(null),[d,f]=N.useState([]),[h,m]=N.useState(null),[v,y]=N.useState(!1),[w,x]=N.useState([]),[b,_]=N.useState([]),[E,S]=N.useState([]),[T,k]=N.useState([]),[A,C]=N.useState([]),[O,R]=N.useState([]),D=N.useRef(null),L=N.useRef(null),$={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"avatar",header:""},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:""},{key:"group_id",header:""},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"org_unit_id",header:" "},{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:""}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"  "},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},j=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description"],F=I=>{try{return JSON.parse(localStorage.getItem(`admin_data_${I}`)||"[]")}catch{return[]}},U=(I,V)=>{localStorage.setItem(`admin_data_${I}`,JSON.stringify(V))},q=async()=>{o(!0),m(null);try{const{data:I,error:V}=await wt.from(t).select("*").order("created_at",{ascending:!1});if(V)throw V;let X=I||[];if(t==="app_users"){const K=w.length>0?w:await Fe("personnel");x(K),X=X.map(ie=>{const z=K.find(oe=>oe.id===ie.personnel_id);return{...ie,full_name:z?z.full_name:"---",unit:z?z.unit:"---",avatar:ie.avatar||(z?z.profile_picture:null),personnel_code:z?z.personnel_code:null}})}if(t==="org_chart"){if(w.length===0){const K=await Fe("personnel");x(K)}X=X.map(K=>{var ie,z;return{...K,parent_name:((ie=X.find(oe=>oe.id===K.parent_id))==null?void 0:ie.name)||"-",manager_name:((z=w.find(oe=>oe.id===K.manager_id))==null?void 0:z.full_name)||K.manager_name||"-"}})}if(t==="locations"&&(X=X.map(K=>{var ie;return{...K,parent_name:((ie=X.find(z=>z.id===K.parent_id))==null?void 0:ie.name)||"-"}})),t==="personnel"){const K=await Fe("org_chart");S(K),X=X.map(ie=>{const z=K.find(oe=>oe.id===ie.org_unit_id);return{...ie,unit:z?z.name:ie.unit||"-"}})}if(t==="evaluation_criteria"){const K=await Fe("org_chart");S(K),X=X.map(ie=>{const z=K.find(oe=>oe.id===ie.org_unit_id);return{...ie,org_unit_name:z?z.name:"-"}})}if(t==="equipment_groups"){const K=await Fe("equipment_classes");k(K),X=X.map(ie=>{var z;return{...ie,class_name:((z=K.find(oe=>oe.id===ie.class_id))==null?void 0:z.name)||"-"}})}if(t==="equipment"||t==="equipment_local_names"){const K=await Fe("equipment_classes"),ie=await Fe("equipment_groups");k(K),C(ie),X=X.map(z=>{var oe,pe;return{...z,class_name:((oe=K.find(je=>je.id===z.class_id))==null?void 0:oe.name)||"-",group_name:((pe=ie.find(je=>je.id===z.group_id))==null?void 0:pe.name)||"-"}})}if(t==="equipment_tree"){const K=await Fe("equipment");R(K),X=X.map(ie=>{var z,oe;return{...ie,equipment_name:((z=K.find(pe=>pe.id===ie.equipment_id))==null?void 0:z.name)||"-",parent_name:((oe=X.find(pe=>pe.id===ie.parent_id))==null?void 0:oe.name)||"-"}})}y(!1),r(X),U(t,X)}catch(I){console.warn("Supabase fetch failed, switching to local data:",I),y(!0);const V=F(t);r(V)}finally{o(!1)}};N.useEffect(()=>{q(),f([]),(t==="app_users"||t==="org_chart"||t==="evaluation_criteria")&&(Fe("personnel").then(x),Fe("org_chart").then(S)),t==="app_users"&&Fe("user_groups").then(_),t==="personnel"&&Fe("org_chart").then(S),(t==="equipment_groups"||t==="equipment"||t==="equipment_local_names")&&Fe("equipment_classes").then(k),(t==="equipment"||t==="equipment_local_names")&&Fe("equipment_groups").then(C),t==="equipment_tree"&&Fe("equipment").then(R)},[t]);const W=()=>{c({}),s(!0)},J=I=>{if(t==="app_users"&&I.personnel_id){const V=w.find(X=>X.id===I.personnel_id);c({...I,full_name:V==null?void 0:V.full_name,unit:V==null?void 0:V.unit,personnel_profile:V==null?void 0:V.profile_picture})}else c(I);s(!0)},ne=async I=>{if(!I.personnel_code){alert(":       .");return}if(window.confirm(`        "${I.username}"     (${I.personnel_code})  `)){o(!0);try{const{error:V}=await wt.from("app_users").update({password:I.personnel_code,is_default_password:!0}).eq("id",I.id);if(V)throw V;alert("     .")}catch(V){console.error("Reset Password Error:",V),alert("    : "+V.message)}finally{o(!1)}}},Q=async I=>{if(window.confirm("      ")){[...n],r(V=>V.filter(X=>X.id!==I.id)),f(V=>V.filter(X=>X!==I.id));try{const{error:V}=await wt.from(t).delete().eq("id",I.id);if(V)throw V;await q()}catch{console.warn("Delete failed, performing offline delete");const K=F(t).filter(ie=>ie.id!==I.id);U(t,K),y(!0)}}},ce=async()=>{if(d.length!==0&&window.confirm(`   ${d.length}   `)){r(I=>I.filter(V=>!d.includes(V.id)));try{const{error:I}=await wt.from(t).delete().in("id",d);if(I)throw I;f([]),await q()}catch{console.warn("Bulk delete failed, performing offline delete");const X=F(t).filter(K=>!d.includes(K.id));U(t,X),f([]),y(!0)}}},Ee=I=>{const V=w.find(X=>X.id===I);V&&c({...l,personnel_id:V.id,full_name:V.full_name,unit:V.unit,personnel_profile:V.profile_picture,password:V.personnel_code,is_default_password:!0})},Te=()=>{if(!l)return!1;switch(t){case"user_groups":return!!(l.code&&l.name);case"personnel":return!!(l.personnel_code&&l.full_name);case"org_chart":return!!l.name;case"app_users":return!!(l.username&&l.personnel_id&&l.role);case"locations":return!!l.name;case"equipment_classes":return!!(l.code&&l.name);case"equipment_groups":return!!(l.code&&l.name&&l.class_id);case"equipment":return!!(l.code&&l.name&&l.class_id&&l.group_id);case"equipment_local_names":return!!(l.local_name&&l.class_id&&l.group_id);case"evaluation_periods":return!!(l.code&&l.title);case"evaluation_criteria":return!!(l.title&&l.max_score&&l.org_unit_id);case"measurement_units":return!!l.title;case"equipment_tree":return!!(l.code&&l.name&&l.equipment_id);case"part_categories":return!!l.name;case"parts":return!!l.name;case"activity_cards":return!!(l.code&&l.name);case"checklist_items":return!!(l.description&&l.activity_card_id);case"maintenance_plans":return!!(l.name&&l.equipment_id);default:return!1}},Me=async I=>{I.preventDefault(),o(!0),m(null);let V={...l};if(!Te()){o(!1),alert("    ()   .");return}if(t==="equipment_classes"){const X=n.some(ie=>ie.code===V.code&&ie.id!==V.id),K=n.some(ie=>ie.name===V.name&&ie.id!==V.id);if(X){o(!1),alert("   .");return}if(K){o(!1),alert("   .");return}}if(t==="equipment_groups"){const X=n.some(ie=>ie.code===V.code&&ie.id!==V.id),K=n.some(ie=>ie.name===V.name&&ie.id!==V.id);if(X){o(!1),alert("   .");return}if(K){o(!1),alert("   .");return}}if(t==="personnel"&&V.org_unit_id){const X=E.find(K=>K.id===V.org_unit_id);X&&(V.unit=X.name)}t==="app_users"&&(delete V.full_name,delete V.unit,delete V.personnel_profile,delete V.avatar,delete V.personnel_code),(t==="org_chart"||t==="locations")&&(delete V.parent_name,t==="org_chart"&&delete V.manager_name),t==="equipment_groups"&&delete V.class_name,(t==="equipment"||t==="equipment_local_names")&&(delete V.class_name,delete V.group_name),t==="equipment_tree"&&(delete V.equipment_name,delete V.parent_name),t==="evaluation_criteria"&&delete V.org_unit_name;try{if(V.id){const{error:X}=await wt.from(t).update(V).eq("id",V.id);if(X)throw X}else{const{error:X}=await wt.from(t).insert([V]);if(X)throw X}await q(),s(!1)}catch(X){if(X.code==="23505")alert(" :     (  )    .");else{console.warn("Save failed, performing offline save:",X);let ie=[...F(t)];if(V.id){const z=ie.findIndex(oe=>oe.id===V.id);z>=0?ie[z]={...ie[z],...V}:ie.push(V)}else V.id=Vi(),V.created_at=new Date().toISOString(),ie.unshift(V);U(t,ie),alert("     .         ."),await q(),s(!1)}}finally{o(!1)}},_e=()=>{const V=$[t].map(pe=>pe.key),X=n.length>0?n:[];let K="\uFEFF"+V.join(",")+`
`;X.forEach(pe=>{const je=V.map(We=>{let Ut=pe[We]||"";return String(Ut).includes(",")&&(Ut=`"${Ut}"`),Ut});K+=je.join(",")+`
`});const ie=new Blob([K],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),oe=URL.createObjectURL(ie);z.setAttribute("href",oe),z.setAttribute("download",`${t}_export.csv`),document.body.appendChild(z),z.click(),document.body.removeChild(z)},Be=I=>{var K;const V=(K=I.target.files)==null?void 0:K[0];if(!V)return;const X=new FileReader;X.onload=async ie=>{var tl;let z=((tl=ie.target)==null?void 0:tl.result)||"";z=z.replace(/^\uFEFF/,"");const oe=z.split(/\r?\n/).filter(mt=>mt.trim()!=="");if(oe.length<2){alert("       ."),D.current&&(D.current.value="");return}const pe=oe[0],je=pe.includes(";")?";":",",We=pe.split(je).map(mt=>mt.trim().replace(/^"|"$/g,"")),Ut=$[t].map(mt=>mt.key);if(t==="personnel"&&!We.includes("personnel_code")){alert(':  "personnel_code"  .');return}if(t==="app_users"&&(!We.includes("username")||!We.includes("personnel_code"))){alert('   :     "username"  "personnel_code" .');return}const Lr=[],el=[];for(let mt=1;mt<oe.length;mt++){const xi=oe[mt].split(je).map(Ur=>Ur.trim().replace(/^"|"$/g,"")),tr={};We.forEach((Ur,Xp)=>{let Dn=xi[Xp];if(Dn&&Dn!=="")if(t==="app_users")if(Ur==="personnel_code"){const Nc=w.find(Qp=>Qp.personnel_code===Dn);Nc?(tr.personnel_id=Nc.id,tr.password=Dn,tr.is_default_password=!0):el.push(` ${mt+1}:   ${Dn}    .`)}else Ut.includes(Ur)&&(tr[Ur]=Dn);else Ut.includes(Ur)&&(tr[Ur]=Dn)}),!(t==="personnel"&&!tr.personnel_code)&&(t==="app_users"&&!tr.personnel_id||Object.keys(tr).length>0&&Lr.push(tr))}if(Lr.length===0){alert(`    .
`+el.join(`
`));return}o(!0);try{const{data:mt,error:_r}=await wt.from(t).insert(Lr).select();if(_r)throw _r;alert(` ${(mt==null?void 0:mt.length)||Lr.length}     .`),await q()}catch(mt){console.error("Upload Error:",mt),mt.code==="23505"?alert("  :     ."):alert(` : ${mt.message}`)}finally{o(!1),D.current&&(D.current.value="")}},X.readAsText(V)},se=I=>{var X;const V=(X=I.target.files)==null?void 0:X[0];if(V){const K=new FileReader;K.onloadend=()=>{c({...l,profile_picture:K.result})},K.readAsDataURL(V)}},ge=($[t]||[]).map(I=>({header:I.header,accessor:V=>{if(I.key==="avatar"||I.key==="profile_picture")return u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden flex items-center justify-center",children:V[I.key]?u.jsx("img",{src:V[I.key],alt:"Avatar",className:"w-full h-full object-cover"}):u.jsx(os,{className:"w-5 h-5 text-gray-400"})});if(typeof V[I.key]=="boolean")return V[I.key]?u.jsx("span",{className:"text-green-600",children:""}):u.jsx("span",{className:"text-gray-400",children:""});if(t==="equipment_groups"&&I.key==="class_id")return V.class_name||"-";if(t==="equipment"||t==="equipment_local_names"){if(I.key==="class_id")return V.class_name||"-";if(I.key==="group_id")return V.group_name||"-"}return t==="evaluation_criteria"&&I.key==="org_unit_id"?V.org_unit_name||"-":t==="equipment_tree"&&I.key==="equipment_id"?V.equipment_name||"-":t==="equipment_tree"&&I.key==="parent_id"?V.parent_name||"-":V[I.key]},sortKey:I.key})),ve=u.jsxs(u.Fragment,{children:[d.length>0&&u.jsxs("button",{onClick:ce,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[u.jsx(Jt,{className:"w-4 h-4"}),"  ",d.length," "]}),u.jsxs("button",{onClick:_e,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[u.jsx(ux,{className:"w-4 h-4"}),"  / "]}),u.jsx("input",{type:"file",ref:D,accept:".csv",onChange:Be,className:"hidden"}),u.jsxs("button",{onClick:()=>{var I;return(I=D.current)==null?void 0:I.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[u.jsx(ff,{className:"w-4 h-4"}),"    (CSV)"]})]}),B=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 border-4 border-white dark:border-gray-600 shadow-lg overflow-hidden flex items-center justify-center",children:l.personnel_profile?u.jsx("img",{src:l.personnel_profile,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx(os,{className:"w-10 h-10 text-gray-400"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"font-bold text-lg",children:l.full_name||" "}),u.jsx("p",{className:"text-sm text-gray-500",children:l.unit||"  "})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.personnel_id||"",onChange:I=>Ee(I.target.value),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),w.map(I=>u.jsxs("option",{value:I.id,children:[I.full_name," (",I.personnel_code,")"]},I.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",dir:"ltr",value:l.username||"",onChange:I=>c({...l,username:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:"user123"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.role||"",onChange:I=>c({...l,role:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),b.map(I=>u.jsx("option",{value:I.name,children:I.name},I.id))]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"         ."]})]})]}),Oe=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsx("input",{type:"text",value:l.code||"",onChange:I=>c({...l,code:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:I=>c({...l,name:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:I=>c({...l,parent_id:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(I=>I.id!==l.id).map(I=>u.jsx("option",{value:I.id,children:I.name},I.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.manager_id||"",onChange:I=>c({...l,manager_id:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:" ..."}),w.map(I=>u.jsxs("option",{value:I.id,children:[I.full_name," (",I.unit,")"]},I.id))]})]})]}),Pe=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),u.jsx("input",{type:"text",value:l.code||"",onChange:I=>c({...l,code:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:I=>c({...l,name:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:I=>c({...l,parent_id:I.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(I=>I.id!==l.id).map(I=>u.jsx("option",{value:I.id,children:I.name},I.id))]})]})]});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(Ds,{className:"text-primary"}),"   "]}),v&&u.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[u.jsx(TL,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{onClick:q,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:u.jsx(uf,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&u.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 pb-3 mb-2",children:due.map(I=>u.jsx("button",{onClick:()=>e(I),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===I?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:MT[I]},I))}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:u.jsx(gi,{title:MT[t],data:n,columns:ge,onAdd:W,onEdit:J,onDelete:Q,extraActions:ve,selectedIds:d,onSelect:f,customRowActions:I=>t==="app_users"?u.jsx("button",{onClick:()=>ne(I),className:"p-1.5 text-slate-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"  ",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round","aria-hidden":"true",children:[u.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),u.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}):null})}),a&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),u.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:Me,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t==="app_users"?B():t==="org_chart"?Oe():t==="locations"?Pe():u.jsxs(u.Fragment,{children:[$[t].map(I=>{const V=j.includes(I.key);if(I.key==="parent_name"||t==="evaluation_criteria"&&I.key==="org_unit_name")return null;const X=V&&!(t==="equipment"&&I.key==="description");if(t==="personnel"&&I.key==="unit")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:K=>c({...l,org_unit_id:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(K=>u.jsx("option",{value:K.id,children:K.name},K.id))]})]},String(I.key));if(t==="evaluation_criteria"&&I.key==="org_unit_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:K=>c({...l,org_unit_id:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(K=>u.jsx("option",{value:K.id,children:K.name},K.id))]})]},String(I.key));if(t==="equipment_groups"&&I.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:K=>c({...l,class_id:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),T.map(K=>u.jsx("option",{value:K.id,children:K.name},K.id))]})]},String(I.key));if(t==="equipment"||t==="equipment_local_names"){if(I.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:K=>c({...l,class_id:K.target.value,group_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),T.map(K=>u.jsx("option",{value:K.id,children:K.name},K.id))]})]},String(I.key));if(I.key==="group_id"){const K=A.filter(ie=>ie.class_id===l.class_id);return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.group_id||"",onChange:ie=>c({...l,group_id:ie.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",disabled:!l.class_id,children:[u.jsx("option",{value:"",children:" ..."}),K.map(ie=>u.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]},String(I.key))}}return t==="equipment_tree"&&I.key==="equipment_id"?u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.equipment_id||"",onChange:K=>c({...l,equipment_id:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),O.map(K=>u.jsxs("option",{value:K.id,children:[K.name," (",K.code,")"]},K.id))]})]},String(I.key)):t==="equipment_tree"&&I.key==="parent_id"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.parent_id||"",onChange:K=>c({...l,parent_id:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(K=>K.id!==l.id&&K.equipment_id===l.equipment_id).map(K=>u.jsxs("option",{value:K.id,children:[K.name," (",K.code,")"]},K.id))]})]},String(I.key)):u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[I.header," ",X&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:I.key==="email"?"email":"text",value:l[I.key]||"",onChange:K=>c({...l,[I.key]:K.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:I.key==="mobile"?": 09123456789":""})]},String(I.key))}),t==="personnel"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[u.jsxs("div",{onClick:()=>{var I;return(I=L.current)==null?void 0:I.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?u.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:u.jsx(nf,{className:"w-8 h-8"})}),u.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:u.jsx(ff,{className:"w-6 h-6 text-white"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("input",{type:"file",ref:L,accept:"image/*",className:"hidden",onChange:se}),u.jsxs("button",{type:"button",onClick:()=>{var I;return(I=L.current)==null?void 0:I.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[u.jsx(nf,{className:"w-4 h-4"}),"  "]}),u.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]})]}),u.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t dark:border-gray-700 mt-2",children:[u.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),u.jsxs("button",{type:"submit",disabled:i||!Te(),className:`flex-1 py-2.5 rounded-lg flex justify-center gap-2 items-center transition shadow-lg ${i||!Te()?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-70":"bg-primary text-white hover:bg-red-800"}`,children:[i?u.jsx(uf,{className:"w-4 h-4 animate-spin"}):u.jsx($s,{className:"w-4 h-4"})," "]})]})]})]})})]})},Xr=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=N.useState(!1),[s,l]=N.useState(1403),[c,d]=N.useState(1),f=N.useRef(null);N.useEffect(()=>{if(t){const T=t.split("/").map(Number);T.length===3&&(l(T[0]),d(T[1]))}else{const T=st().split("/").map(Number);l(T[0]),d(T[1])}},[t,o]),N.useEffect(()=>{const T=k=>{f.current&&!f.current.contains(k.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const h=["","","","","","","","","","","",""],m=["","","","","","",""],v=(T,k)=>k<=6?31:k<=11||T%33===1||T%33===5||T%33===9||T%33===13||T%33===17||T%33===22||T%33===26||T%33===30?30:29,y=(T,k)=>{const{gy:A,gm:C,gd:O}=oP(T,k,1);return new Date(A,C-1,O).getDay()},w=()=>{c===1?(d(12),l(T=>T-1)):d(T=>T-1)},x=()=>{c===12?(d(1),l(T=>T+1)):d(T=>T+1)},b=T=>{const k=`${s}/${String(c).padStart(2,"0")}/${String(T).padStart(2,"0")}`;i&&hf(k)||(e(k),a(!1))},_=()=>{const T=st();e(T),a(!1)},E=(y(s,c)+1)%7,S=v(s,c);return u.jsxs("div",{className:"relative",ref:f,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),u.jsx(HD,{className:"w-4 h-4 text-gray-400"})]}),o&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:w,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(hc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[c-1]," ",s]}),u.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(zh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:m.map((T,k)=>u.jsx("span",{className:k===6?"text-red-500 font-bold":"",children:T},k))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:E}).map((T,k)=>u.jsx("div",{},`empty-${k}`)),Array.from({length:S}).map((T,k)=>{const A=k+1,C=`${s}/${String(c).padStart(2,"0")}/${String(A).padStart(2,"0")}`,O=t===C,R=i&&hf(C),D=(E+k)%7===6;return u.jsx("button",{type:"button",disabled:R,onClick:()=>b(A),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${O?"bg-primary text-white shadow-md font-bold":R?"text-gray-200 dark:text-gray-600 cursor-not-allowed":D?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:A},A)})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:u.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},tn=({value:t,onChange:e,label:n})=>{const[r,i]=N.useState(!1),[o,a]=N.useState("HOURS"),s=N.useRef(null),[l,c]=N.useState("00"),[d,f]=N.useState("00");N.useEffect(()=>{if(t&&t.includes(":")){const[b,_]=t.split(":");c(b),f(_)}},[t,r]),N.useEffect(()=>{const b=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const h=b=>{c(b),a("MINUTES")},m=b=>{f(b),e(`${l}:${b}`),i(!1),a("HOURS")},v=(b,_,E)=>{const S=b*(360/_)-90,T=E*Math.cos(S*Math.PI/180),k=E*Math.sin(S*Math.PI/180);return{transform:`translate(${T}px, ${k}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],w=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return u.jsxs("div",{className:"relative",ref:s,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),u.jsx(Wh,{className:"w-5 h-5 text-gray-400"})]}),r&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[u.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),u.jsx("span",{className:"text-gray-300 pb-2",children:":"}),u.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),u.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[u.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&u.jsxs(u.Fragment,{children:[y.map((b,_)=>{const E=b===12?"00":b,S=String(E).padStart(2,"0"),T=l===S;return u.jsx("button",{type:"button",onClick:()=>h(S),style:v(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${T?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`out-${b}`)}),w.map((b,_)=>{const E=String(b).padStart(2,"0"),S=l===E;return u.jsx("button",{type:"button",onClick:()=>h(E),style:v(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:b===12?"12":b},`in-${b}`)})]}),o==="MINUTES"&&u.jsxs(u.Fragment,{children:[x.map((b,_)=>{const E=String(b).padStart(2,"0"),S=d===E;return u.jsx("button",{type:"button",onClick:()=>m(E),style:v(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`m-${b}`)}),u.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),u.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},Nb=({initialData:t,onProcessComplete:e})=>{const n=Ms(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=N.useState("GENERAL"),[l,c]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(!1),[v,y]=N.useState(null),[w,x]=N.useState(!1),[b,_]=N.useState([]),[E,S]=N.useState([]),[T,k]=N.useState([]),[A,C]=N.useState([]),[O,R]=N.useState([]),[D,L]=N.useState([]),$=N.useRef(null),[j,F]=N.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:st(),reportTime:mu(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:st(),startTime:"",endDate:st(),endTime:"",downtime:"",repairTime:""}),[U,q]=N.useState([]),[W,J]=N.useState([]),[ne,Q]=N.useState([]);N.useEffect(()=>{(async()=>{const V=await Fe("equipment"),X=await Fe("equipment_local_names"),K=await Fe("locations");S(V),k(X),R(V),L(X),C(K),_(await Fe("measurement_units"))})(),t&&(F(V=>({...V,...t})),t.labor&&q(t.labor),t.parts&&J(t.parts),t.docs&&Q(t.docs))},[t]);const ce=I=>{const V=I.target.value,X=E.find(K=>K.code===V);if(!X){F(K=>({...K,equipCode:"",equipName:"",locationId:""})),L(T);return}if(F(K=>({...K,equipCode:V,equipName:X.name,locationId:X.location_id||""})),X.class_id&&X.group_id){const K=T.filter(ie=>ie.class_id===X.class_id&&ie.group_id===X.group_id);L(K)}else L(T)},Ee=I=>{const V=I.target.value,X=T.find(K=>K.local_name===V);if(F(K=>({...K,equipLocalName:V})),X&&X.class_id&&X.group_id){const K=E.filter(ie=>ie.class_id===X.class_id&&ie.group_id===X.group_id);R(K)}else R(E)},Te=I=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(!V){alert("         .");return}if(v===I){y(null);return}const X=new V;X.lang="fa-IR",X.continuous=!1,X.interimResults=!1,X.onstart=()=>y(I),X.onend=()=>y(null),X.onresult=K=>{const ie=K.results[0][0].transcript;F(z=>({...z,[I]:z[I]?`${z[I]} ${ie}`:ie}))},X.start()},Me=()=>{q([...U,{id:Math.random().toString(),name:"",startDate:j.startDate,startTime:j.startTime||"08:00",endDate:j.endDate,endTime:j.endTime||"16:00",durationMinutes:0}])},_e=(I,V,X)=>{q(K=>K.map(ie=>{if(ie.id!==I)return ie;const z={...ie,[V]:X};return["startDate","startTime","endDate","endTime"].includes(V)&&(z.durationMinutes=IL(z.startDate,z.startTime,z.endDate,z.endTime)),z}))},Be=()=>{var I;J([...W,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((I=b[0])==null?void 0:I.title)||""}])},se=(I,V,X)=>{J(K=>K.map(ie=>ie.id===I?{...ie,[V]:X}:ie))},ge=I=>{if(I.target.files&&I.target.files.length>0){const V=Array.from(I.target.files).map(X=>({id:Math.random().toString(),name:X.name}));Q(X=>[...X,...V]),I.target.value=""}},ve=(I,V)=>{I(X=>X.filter(K=>K.id!==V))},B=()=>{if(!j.equipCode)return"     .";if(!j.equipLocalName)return"      .";if(!j.productionLine)return"     .";if(!j.locationId)return"     .";if(!j.workCategory)return"   ()   .";if(!j.failureDesc)return"   .";if(i){if(!j.actionDesc)return"    .";if(!j.startDate||!j.startTime||!j.endDate||!j.endTime)return"      .";if(!j.downtime||!j.repairTime)return"       .";if(hf(j.startDate)||hf(j.endDate))return"         .";if(PL(j.startDate,j.startTime,j.endDate,j.endTime)===1)return":            ."}return null},Oe=()=>!(!j.equipCode||!j.equipLocalName||!j.productionLine||!j.locationId||!j.workCategory||!j.priority||!j.workType||!j.failureDesc||i&&(!j.actionDesc||!j.downtime||!j.repairTime)),Pe=async I=>{I.preventDefault(),f(null);const V=B();if(V){f(V),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const X={...j,labor:U,parts:W,docs:ne};if(i&&e)e(X);else{x(!0);try{const K=new Date,ie=dx(K.getFullYear(),K.getMonth()+1,K.getDate()),z=String(ie.jy).substring(2),oe=String(ie.jm).padStart(2,"0"),pe=`W${z}${oe}`,je=await _5(pe);Yo("WORK_ORDER",X,r,je,` : ${j.equipName||j.equipLocalName} - ${j.failureDesc.substring(0,30)}...`)?(m(!0),c(je)):f("   .    .")}catch(K){console.error(K),f("        .")}finally{x(!1)}}};return l?u.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:u.jsx(sx,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),u.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),u.jsxs("div",{className:"p-6 space-y-3",children:[u.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[u.jsx(nL,{className:"w-5 h-5"}),"     "]}),u.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&u.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[u.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),u.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),u.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),u.jsxs("form",{onSubmit:Pe,className:"p-6",children:[d&&u.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[u.jsx(LD,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),u.jsx("span",{children:d})]}),a==="GENERAL"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm",children:j.requester})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:j.reportDate})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:j.reportTime})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:j.shift,onChange:I=>F({...j,shift:I.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[u.jsx("option",{value:"DayWork",children:""}),u.jsx("option",{value:"A",children:" A"}),u.jsx("option",{value:"B",children:" B"}),u.jsx("option",{value:"C",children:" C"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),i?u.jsx("input",{type:"text",value:j.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):u.jsxs("select",{value:j.equipCode,onChange:ce,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[u.jsx("option",{value:"",children:" ..."}),O.map(I=>u.jsxs("option",{value:I.code,children:[I.code," - ",I.name]},I.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsx("input",{type:"text",readOnly:!0,value:j.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"     "})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:j.equipLocalName,onChange:Ee,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:"  ..."}),D.length>0?D.map(I=>u.jsx("option",{value:I.local_name,children:I.local_name},I.id)):u.jsx("option",{disabled:!0,children:"  "})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:j.productionLine,onChange:I=>F({...j,productionLine:I.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"Line A",children:"Line A"}),u.jsx("option",{value:"Line B",children:"Line B"}),u.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{disabled:i,value:j.locationId,onChange:I=>F({...j,locationId:I.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" ..."}),A.map(I=>u.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:j.workType,onChange:I=>F({...j,workType:I.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"REPAIR",children:"  (EM)"}),u.jsx("option",{value:"PM",children:"  (PM)"}),u.jsx("option",{value:"PROJECT",children:" / "}),u.jsx("option",{value:"INSPECTION",children:" "}),u.jsx("option",{value:"SERVICE",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:j.workCategory,onChange:I=>F({...j,workCategory:I.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"MECHANICAL",children:""}),u.jsx("option",{value:"ELECTRICAL",children:""}),u.jsx("option",{value:"INSTRUMENTATION",children:" "}),u.jsx("option",{value:"FACILITIES",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:j.priority,onChange:I=>F({...j,priority:I.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"NORMAL",children:""}),u.jsx("option",{value:"URGENT",children:""}),u.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:j.failureDesc,onChange:I=>F({...j,failureDesc:I.target.value})}),!i&&u.jsx("button",{type:"button",onClick:()=>Te("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="failureDesc"?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u.jsx(kr,{className:"w-5 h-5"})})]})]}),i&&u.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[u.jsx(zC,{className:"w-5 h-5"}),"    (  )"]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:j.actionDesc,onChange:I=>F({...j,actionDesc:I.target.value})}),u.jsx("button",{type:"button",onClick:()=>Te("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="actionDesc"?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u.jsx(kr,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Xr,{label:" ",value:j.startDate,onChange:I=>F({...j,startDate:I})}),u.jsx(tn,{label:" ",value:j.startTime,onChange:I=>F({...j,startTime:I})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Xr,{label:" ",value:j.endDate,onChange:I=>F({...j,endDate:I})}),u.jsx(tn,{label:" ",value:j.endTime,onChange:I=>F({...j,endTime:I})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:j.downtime,onChange:I=>F({...j,downtime:I.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:j.repairTime,onChange:I=>F({...j,repairTime:I.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&u.jsxs("div",{className:"space-y-4",children:[U.map(I=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1 ml-2",children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:I.name,onChange:V=>_e(I.id,"name",V.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[u.jsx("option",{value:"",children:"..."}),u.jsx("option",{value:" ",children:"  ()"}),u.jsx("option",{value:" ",children:"  ()"})]})]}),u.jsx("button",{type:"button",onClick:()=>ve(q,I.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:u.jsx(Jt,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(Xr,{label:" ",value:I.startDate,onChange:V=>_e(I.id,"startDate",V)}),u.jsx(tn,{label:" ",value:I.startTime,onChange:V=>_e(I.id,"startTime",V)}),u.jsx(Xr,{label:" ",value:I.endDate,onChange:V=>_e(I.id,"endDate",V)}),u.jsx(tn,{label:" ",value:I.endTime,onChange:V=>_e(I.id,"endTime",V)})]})]},I.id)),u.jsxs("button",{type:"button",onClick:Me,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(xr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&u.jsxs("div",{className:"space-y-4",children:[W.map(I=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[u.jsx("button",{type:"button",onClick:()=>ve(J,I.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:u.jsx(Jt,{className:"w-4 h-4"})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),u.jsx("input",{type:"text",value:I.code,onChange:V=>se(I.id,"code",V.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:I.name,onChange:V=>se(I.id,"name",V.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:I.qty,onChange:V=>se(I.id,"qty",Number(V.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:I.unit,onChange:V=>se(I.id,"unit",V.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:b.length>0?b.map(V=>u.jsx("option",{value:V.title,children:V.title},V.id)):u.jsx("option",{value:"",children:""})})]})]})]},I.id)),u.jsxs("button",{type:"button",onClick:Be,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(xr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("input",{type:"file",ref:$,multiple:!0,className:"hidden",onChange:ge}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var I;return(I=$.current)==null?void 0:I.click()},children:[u.jsx(Ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),ne.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),ne.map(I=>u.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[u.jsx("span",{className:"text-sm truncate max-w-[200px]",children:I.name}),u.jsx("button",{type:"button",onClick:()=>ve(Q,I.id),className:"text-red-500",children:u.jsx(Jt,{className:"w-4 h-4"})})]},I.id))]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:u.jsxs("button",{disabled:!Oe()||w,type:"submit",className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 ${!Oe()||w?"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400 shadow-none":""}`,children:[w?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u.jsx($s,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},hue=()=>{const t=Ms(),[e,n]=N.useState([]),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[c,d]=N.useState(!1),[f,h]=N.useState([]),[m,v]=N.useState(""),[y,w]=N.useState("ALL"),[x,b]=N.useState(""),[_,E]=N.useState(""),[S,T]=N.useState(1),[k,A]=N.useState(10);N.useEffect(()=>{const $=AP();n($.sort((j,F)=>F.createdAt.localeCompare(j.createdAt)))},[]),N.useEffect(()=>{let $=e;m&&($=$.filter(j=>{var F;return j.title.includes(m)||j.trackingCode.includes(m)||((F=j.data)==null?void 0:F.equipName)&&j.data.equipName.includes(m)})),y!=="ALL"&&($=$.filter(j=>C(j).includes(y))),x&&($=$.filter(j=>j.createdAt>=x)),_&&($=$.filter(j=>j.createdAt<=_)),i($),T(1),h([])},[e,m,y,x,_]),N.useEffect(()=>{const $=(S-1)*k,j=$+k;a(r.slice($,j))},[r,S,k]);const C=$=>{if($.status==="DONE")return" ";const F=_u().find(q=>q.id===$.workflowId),U=F==null?void 0:F.steps.find(q=>q.id===$.currentStepId);return(U==null?void 0:U.title)||""},O=$=>{const j=C($);let F="bg-gray-100 text-gray-600";return j.includes("")?F="bg-blue-100 text-blue-700":j.includes("")?F="bg-orange-100 text-orange-700":j.includes("")?F="bg-purple-100 text-purple-700":(j.includes("")||$.status==="DONE")&&(F="bg-green-100 text-green-700"),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${F}`,children:j})},R=$=>{$.target.checked?h(o.map(j=>j.id)):h([])},D=$=>{f.includes($)?h(f.filter(j=>j!==$)):h([...f,$])},L=()=>{const $=f.length>0?e.filter(J=>f.includes(J.id)):r;if($.length===0){alert("    .");return}const j=[" ","",""," ","",""],F=$.map(J=>{var ne,Q;return[J.trackingCode,((ne=J.data)==null?void 0:ne.equipName)||"-",J.title,((Q=J.data)==null?void 0:Q.requester)||"-",J.createdAt,C(J)]}),U="data:text/csv;charset=utf-8,\uFEFF"+j.join(",")+`
`+F.map(J=>J.join(",")).join(`
`),q=encodeURI(U),W=document.createElement("a");W.setAttribute("href",q),W.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(iP,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),u.jsxs("button",{onClick:L,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[u.jsx(YC,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]}),u.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[u.jsx(xr,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[u.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(pu,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" (  ...)",value:m,onChange:$=>v($.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${c?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[u.jsx(Kh,{className:"w-5 h-5"}),u.jsx("span",{children:""}),c?u.jsx(KC,{className:"w-4 h-4"}):u.jsx(Hh,{className:"w-4 h-4"})]})]}),c&&u.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsxs("select",{value:y,onChange:$=>w($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:"  "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:$=>b($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:$=>E($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsx("div",{className:"flex items-end",children:u.jsx("button",{onClick:()=>{w("ALL"),b(""),E(""),v("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:R,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:"  / "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map($=>{var j,F,U;return u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes($.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>D($.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:$.trackingCode}),u.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((j=$.data)==null?void 0:j.equipName)||"-"}),u.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((F=$.data)==null?void 0:F.failureDesc)||$.title}),u.jsx("td",{className:"p-4",children:((U=$.data)==null?void 0:U.requester)||""}),u.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:$.createdAt}),u.jsx("td",{className:"p-4",children:O($)}),u.jsx("td",{className:"p-4",children:u.jsxs("button",{onClick:()=>l($),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[u.jsx(rf,{className:"w-4 h-4"})," "]})})]},$.id)}):u.jsx("tr",{children:u.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[u.jsx(pu,{className:"w-12 h-12 mb-4 opacity-20"}),u.jsx("span",{children:"     ."})]})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:k,onChange:$=>{A(Number($.target.value)),T(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{children:"   "}),u.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:S===1,onClick:()=>T($=>Math.max(1,$-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(hc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/k)||1]}),u.jsx("button",{disabled:S>=Math.ceil(r.length/k),onClick:()=>T($=>$+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(zh,{className:"w-4 h-4"})})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-lg",children:s.title}),u.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),u.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(en,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:u.jsx("div",{className:"pointer-events-none opacity-90",children:u.jsx(Nb,{initialData:s.data})})}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:u.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},pue=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],mue=({user:t})=>{const e=Ms(),[n,r]=N.useState("SELECT"),[i,o]=N.useState(pue),[a,s]=N.useState(""),l=(h,m)=>{o(v=>v.map(y=>y.id===h?{...y,status:m}:y))},c=()=>{r("SENDING"),setTimeout(()=>{s(Qi("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[u.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:u.jsx(mL,{className:"w-20 h-20 text-primary"})}),u.jsx("p",{className:"text-lg font-medium",children:" QR   "}),u.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),u.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:u.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(m=>m.status==="NOK");return u.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"text-4xl animate-bounce",children:""}),u.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:"  101"}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:st()}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(m=>m.status==="OK").length," "]}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[u.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),u.jsx("ul",{className:"list-disc list-inside",children:h.map(m=>u.jsx("li",{children:m.desc},m.id))})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(nP,{className:"w-5 h-5"}),"  "]}),u.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(QC,{className:"w-5 h-5"})," "]})]})]})}return u.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[u.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),u.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),u.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),u.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>u.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[u.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[u.jsx(Gh,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[u.jsx(en,{className:"w-5 h-5"})," "]})]}):u.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[u.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),u.jsx(kr,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[u.jsx(nf,{className:"w-4 h-4"}),"  "]}),u.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:u.jsx("button",{disabled:d>0,onClick:c,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})},gue=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const d=Xo("PART_REQUEST");i(d.map(f=>({...f,...f.data}))),Fe("measurement_units").then(a)},[e]);const[s,l]=N.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});N.useEffect(()=>{o.length>0&&!s.unit&&l(d=>({...d,unit:o[0].title}))},[o]);const c=d=>{var h;if(d.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=Qi("P");Yo("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:"   ",icon:lf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:d=>d.trackingCode},{header:" ",accessor:d=>u.jsx("span",{className:"font-bold",children:d.partName})},{header:" ",accessor:d=>d.partCode||"-"},{header:"",accessor:d=>u.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[d.qty," ",d.unit]})},{header:" ",accessor:d=>d.createdAt},{header:" ",accessor:d=>d.description.split("")[1]||"-"},{header:"",accessor:d=>d.status==="PENDING"?"  ":" "}]})}):u.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(lf,{className:"text-primary"}),"    "]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),u.jsx("input",{type:"text",value:st(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),u.jsx("input",{type:"text",value:mu(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsx("input",{type:"text",value:s.partCode,onChange:d=>l({...s,partCode:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",required:!0,value:s.partName,onChange:d=>l({...s,partName:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",min:"1",value:s.qty,onChange:d=>l({...s,qty:Number(d.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:s.unit,onChange:d=>l({...s,unit:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(d=>u.jsx("option",{value:d.title,children:d.title},d.id)):u.jsx("option",{value:"",children:""})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),u.jsxs("select",{value:s.relatedWorkOrder,onChange:d=>l({...s,relatedWorkOrder:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),u.jsx("option",{children:"W403012293 -  "}),u.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&u.jsxs("div",{className:"animate-fadeIn",children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{required:!0,value:s.requestReason,onChange:d=>l({...s,requestReason:d.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),u.jsxs("div",{className:"pt-4 flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},yue=()=>{const[t,e]=N.useState("LIST"),[n,r]=N.useState([]);N.useEffect(()=>{r(O_())},[t]);const i=N.useRef(null),[o,a]=N.useState(null),[s,l]=N.useState({code:"",name:"",type:""}),c=()=>{var m;(m=i.current)==null||m.click()},d=m=>{m.target.files&&m.target.files[0]&&a(m.target.files[0])},f=m=>{if(m.preventDefault(),!s.code||!s.name)return;const v={id:Vi(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:st()};m5(v),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=m=>{window.confirm("      ")&&(g5(m.id),r(O_()))};return t==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:"  ",icon:ef,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:m=>u.jsx("span",{className:"font-mono font-bold",children:m.code})},{header:" ",accessor:m=>m.name},{header:" ",accessor:m=>m.type},{header:" ",accessor:m=>m.fileName||"-"},{header:" ",accessor:m=>m.createdAt}]})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ef,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),u.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:s.code,onChange:m=>l({...s,code:m.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:s.name,onChange:m=>l({...s,name:m.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:s.type,onChange:m=>l({...s,type:m.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"MAP",children:""}),u.jsx("option",{value:"CATALOG",children:""}),u.jsx("option",{value:"MANUAL",children:""}),u.jsx("option",{value:"OTHER",children:""})]})]}),u.jsx("input",{type:"file",ref:i,onChange:d,className:"hidden"}),u.jsxs("div",{onClick:c,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[u.jsx(ff,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),u.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),u.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},$T=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=N.useState(!1),a=N.useRef(null),s=Array.from({length:24},(m,v)=>String(v).padStart(2,"0")),l=Array.from({length:12},(m,v)=>String(v*5).padStart(2,"0"));N.useEffect(()=>{const m=v=>{a.current&&!a.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const[c,d]=t?t.split(":"):["--","--"],f=m=>{e(`${m}:${d==="--"?"00":d}`)},h=m=>{e(`${c==="--"?"00":c}:${m}`),o(!1)};return u.jsxs("div",{className:"relative",ref:a,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),u.jsx(Wh,{className:"w-4 h-4 text-gray-400"})]}),i&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(m=>u.jsx("button",{type:"button",onClick:()=>h(m),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===m?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:m},m))]}),u.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(m=>u.jsx("button",{type:"button",onClick:()=>f(m),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${c===m?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:m},m))]})]})]})},vue=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=N.useState("LIST"),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{const k=Xo("MEETING");o(k.map(A=>({...A,...A.data}))),Fe("personnel").then(s),Fe("org_chart").then(c)},[n]);const d=N.useRef(null),[f,h]=N.useState([]),[m,v]=N.useState([]),[y,w]=N.useState({name:"",role:""}),[x,b]=N.useState({code:"",subject:"",location:"",meetingDate:st(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!y.name||!y.role){alert("      ");return}v([...m,y]),w({name:"",role:""})},E=k=>{v(m.filter((A,C)=>C!==k))},S=k=>{if(k.preventDefault(),m.length===0){alert("         ");return}const A=Qi("G"),C=m.map(O=>`${O.name} - ${O.role}`).join(`
`);Yo("MEETING",{...x,attendees:C,attendeesList:m},e,A,`: ${x.subject}`),alert("  ."),r("LIST"),b({code:"",subject:"",location:"",meetingDate:st(),startTime:"",endTime:"",decisions:""}),v([]),h([])},T=k=>{k.target.files&&k.target.files.length>0&&h([...f,...Array.from(k.target.files)])};return n==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:" ",icon:of,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:k=>k.trackingCode},{header:" ",accessor:k=>u.jsx("span",{className:"font-bold",children:k.subject})},{header:" ",accessor:k=>k.meetingDate},{header:"",accessor:k=>`${k.startTime} - ${k.endTime}`},{header:"",accessor:k=>k.location},{header:"",accessor:k=>k.status==="PENDING"?"":" "}]})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(of,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),u.jsx("input",{type:"text",value:x.code,onChange:k=>b({...x,code:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:x.subject,onChange:k=>b({...x,subject:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),u.jsx("input",{type:"text",value:x.location,onChange:k=>b({...x,location:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsx("div",{children:u.jsx(Xr,{label:" ",value:x.meetingDate,onChange:k=>b({...x,meetingDate:k})})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[u.jsx("div",{children:u.jsx($T,{label:" ",value:x.startTime,onChange:k=>b({...x,startTime:k})})}),u.jsx("div",{children:u.jsx($T,{label:" ",value:x.endTime,onChange:k=>b({...x,endTime:k})})})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[u.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[u.jsx(Ds,{className:"w-4 h-4"}),"   "]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.name,onChange:k=>w({...y,name:k.target.value}),children:[u.jsx("option",{value:"",children:"  ..."}),a.map(k=>u.jsxs("option",{value:k.full_name,children:[k.full_name," (",k.unit,")"]},k.id))]}),u.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.role,onChange:k=>w({...y,role:k.target.value}),children:[u.jsx("option",{value:"",children:" /..."}),l.map(k=>u.jsx("option",{value:k.name,children:k.name},k.id))]}),u.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:u.jsx(xr,{className:"w-5 h-5"})})]}),m.length>0?u.jsx("ul",{className:"space-y-2",children:m.map((k,A)=>u.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[u.jsxs("span",{children:[k.name," ",u.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:k.role})]}),u.jsx("button",{type:"button",onClick:()=>E(A),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Jt,{className:"w-4 h-4"})})]},A))}):u.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:x.decisions,onChange:k=>b({...x,decisions:k.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),u.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),u.jsx("input",{type:"file",ref:d,multiple:!0,className:"hidden",onChange:T}),u.jsxs("button",{type:"button",onClick:()=>{var k;return(k=d.current)==null?void 0:k.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[u.jsx(xr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&u.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((k,A)=>u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),k.name]},A))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[u.jsx($s,{className:"w-5 h-5"}),"   "]})]})]})]})},xue=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const v=Xo("SUGGESTION");i(v.map(y=>({...y,...y.data})))},[e]);const[o,a]=N.useState(""),s=N.useRef(null),[l,c]=N.useState([]),d=v=>{if(v.preventDefault(),!o.trim())return;const y=Qi("H");Yo("SUGGESTION",{text:o},t,y,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),c([])},f=()=>{var v;(v=s.current)==null||v.click()},h=v=>{v.target.files&&v.target.files.length>0&&c([...l,...Array.from(v.target.files)])},m=v=>{c(l.filter((y,w)=>w!==v))};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:" ",icon:sf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.description.split("")[1]||t.fullName},{header:"",accessor:v=>u.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):u.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sf,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:st(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:o,onChange:v=>a(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),u.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:u.jsx(kr,{className:"w-6 h-6"})})]})]}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Ul,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&u.jsx("div",{className:"mt-4 space-y-2",children:l.map((v,y)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),u.jsx("button",{type:"button",onClick:()=>m(y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Jt,{className:"w-4 h-4"})})]},y))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[u.jsx(cf,{className:"w-5 h-5"}),"  "]})]})]})]})},bue=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const E=Xo("PURCHASE");i(E.map(S=>({...S,...S.data}))),Fe("measurement_units").then(a)},[e]);const[s,l]=N.useState(""),[c,d]=N.useState(st()),[f,h]=N.useState(null),[m,v]=N.useState(""),[y,w]=N.useState(1),[x,b]=N.useState("");N.useEffect(()=>{o.length>0&&!x&&b(o[0].title)},[o]);const _=E=>{if(E.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const T=Qi("K");Yo("PURCHASE",{requestNumber:s,requestDate:c,desc:m,qty:y,unit:x},t,T,`: ${m.substring(0,15)}...`),alert("   "),n("LIST"),l(""),v(""),w(1),d(st())};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:" ",icon:df,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:E=>E.trackingCode},{header:" ",accessor:E=>u.jsx("span",{className:"font-mono font-bold",children:E.requestNumber})},{header:" ",accessor:E=>E.desc},{header:"",accessor:E=>E.qty+" "+(E.unit||"")},{header:"",accessor:E=>E.requestDate||E.createdAt},{header:"",accessor:E=>E.status==="PENDING"?" ":" "}]})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(df,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:s,onChange:E=>{l(E.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&u.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[u.jsx(WC,{className:"w-3 h-3"}),u.jsx("span",{children:f})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx(Xr,{value:c,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("select",{className:"input-field",children:[u.jsx("option",{children:" ( )"}),u.jsx("option",{children:" ()"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:""}),u.jsxs("select",{className:"input-field",children:[u.jsx("option",{children:""}),u.jsx("option",{children:""}),u.jsx("option",{children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:m,onChange:E=>v(E.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),u.jsx(kr,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:y,onChange:E=>w(Number(E.target.value)),className:"input-field",required:!0})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:x,onChange:E=>b(E.target.value),className:"input-field",children:o.length>0?o.map(E=>u.jsx("option",{value:E.title,children:E.title},E.id)):u.jsx("option",{value:"",children:""})})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),u.jsx(kr,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),u.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},wue=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=N.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const c=new FileReader;c.onloadend=()=>{const d=c.result;e({...t,avatar:d})},c.readAsDataURL(s)}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:" "}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?u.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),u.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:u.jsx(nf,{className:"w-4 h-4"})}),u.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),u.jsx("p",{className:"text-gray-500",children:t.role})]})]}),u.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:u.jsx(yL,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium block",children:"  "}),u.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:""}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"   "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},_ue=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const y=Xo("PROJECT");i(y.map(w=>({...w,...w.data})))},[e]);const[o,a]=N.useState({title:"",manager:"",budget:0,startDate:st(),endDate:"",description:""}),[s,l]=N.useState([]),[c,d]=N.useState({title:"",weight:10}),f=()=>{if(!c.title)return;const y=s.reduce((w,x)=>w+x.weight,0);if(y+c.weight>100){alert(`      .  : ${100-y}`);return}l([...s,{id:Math.random().toString(),title:c.title,weight:c.weight,progress:0}]),d({title:"",weight:10})},h=y=>{l(s.filter(w=>w.id!==y))},m=()=>{const y=s.reduce((x,b)=>x+b.weight,0);if(y===0)return 0;const w=s.reduce((x,b)=>x+b.progress*b.weight,0);return Math.round(w/y)},v=y=>{y.preventDefault();const w=Qi("P"),x=s.reduce((_,E)=>_+E.weight,0);if(s.length>0&&x!==100){alert(`     .  : ${x}`);return}const b={...o,milestones:s,progress:m()};Yo("PROJECT",b,t,w,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:st(),endDate:"",description:""}),l([])};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:"   ",icon:tf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>u.jsx("span",{className:"font-bold",children:y.title})},{header:" ",accessor:y=>y.manager},{header:" ",accessor:y=>y.startDate},{header:" ()",accessor:y=>Number(y.budget).toLocaleString()},{header:"",accessor:y=>u.jsxs("div",{className:"w-24",children:[u.jsx("div",{className:"flex justify-between text-xs mb-1",children:u.jsxs("span",{children:[y.progress||0,"%"]})}),u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500",style:{width:`${y.progress||0}%`}})})]})},{header:"",accessor:y=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:y.status==="PENDING"?"  ":" "})}]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(tf,{className:"w-8 h-8 text-primary"}),u.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),u.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:o.title,onChange:y=>a({...o,title:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:o.manager,onChange:y=>a({...o,manager:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsx("div",{children:u.jsx(Xr,{label:" ",value:o.startDate||"",onChange:y=>a({...o,startDate:y}),disableFuture:!1})}),u.jsx("div",{children:u.jsx(Xr,{label:"  ()",value:o.endDate||"",onChange:y=>a({...o,endDate:y}),disableFuture:!1})}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:o.budget,onChange:y=>a({...o,budget:Number(y.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),u.jsx("textarea",{value:o.description,onChange:y=>a({...o,description:y.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(_L,{className:"w-5 h-5"}),"   (WBS)"]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:c.title,onChange:y=>d({...c,title:y.target.value})}),u.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:c.weight,onChange:y=>d({...c,weight:Number(y.target.value)})}),u.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:u.jsx(xr,{className:"w-5 h-5"})})]}),s.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[u.jsx("span",{className:"col-span-8",children:" "}),u.jsx("span",{className:"col-span-2 text-center",children:""}),u.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(y=>u.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[u.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[u.jsx(lx,{className:"w-4 h-4 text-green-500"})," ",y.title]}),u.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[y.weight,"%"]}),u.jsx("div",{className:"col-span-2 flex justify-center",children:u.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Jt,{className:"w-4 h-4"})})})]},y.id)),u.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",u.jsxs("span",{className:`${s.reduce((y,w)=>y+w.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((y,w)=>y+w.weight,0),"%"]})]})]}):u.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[u.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[u.jsx(en,{className:"w-5 h-5"})," "]}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[u.jsx($s,{className:"w-5 h-5"}),"      "]})]})]})]})},Sue=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState(!1),[o,a]=N.useState([]),[s,l]=N.useState([]),[c,d]=N.useState([]),[f,h]=N.useState([]);N.useEffect(()=>{const E=Xo("PERFORMANCE");a(E.map(S=>({...S,...S.data}))),Fe("evaluation_periods").then(l),Fe("evaluation_criteria").then(d),Fe("personnel").then(h)},[e]);const[m,v]=N.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});N.useEffect(()=>{s.length>0&&!m.period&&v(E=>({...E,period:s[0].title}))},[s]);const y=m.criteria.reduce((E,S)=>E+S.score,0),w=m.criteria.reduce((E,S)=>E+S.max,0),x=E=>{var T;if(E.preventDefault(),!m.personnelId){alert("      .");return}if(m.criteria.length===0){alert("          .");return}const S=Qi("G");Yo("PERFORMANCE",{...m,totalScore:y},t,S,` : ${m.personnelName} - ${m.period}`),alert("       ."),n("LIST"),v({personnelId:"",personnelName:"",unit:"",org_unit_id:"",period:((T=s[0])==null?void 0:T.title)||"",criteria:[]})},b=(E,S)=>{const T=m.criteria[E].max;if(S>T){alert(`       (${T})  .`);return}const k=[...m.criteria];k[E].score=Math.max(0,S),v({...m,criteria:k})},_=E=>{const S=c.filter(k=>k.org_unit_id===E.org_unit_id),T=S.map(k=>({label:k.title,score:0,max:k.max_score}));v({...m,personnelId:E.id,personnelName:E.full_name,unit:E.unit,org_unit_id:E.org_unit_id,criteria:T}),i(!1),S.length===0&&alert(":        ()   .      .")};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(gi,{title:"  ",icon:ax,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:E=>E.trackingCode},{header:" ",accessor:E=>u.jsx("span",{className:"font-bold",children:E.personnelName})},{header:"",accessor:E=>E.unit},{header:" ",accessor:E=>E.period},{header:" ",accessor:E=>{const S=E.criteria?E.criteria.reduce((T,k)=>T+k.max,0):100;return u.jsxs("span",{className:`font-bold ${E.totalScore>=S*.8?"text-green-600":"text-orange-500"}`,children:[E.totalScore," / ",S]})}},{header:"",accessor:E=>E.description.split("")[1]||"-"}]})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),u.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),m.personnelName?u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:m.personnelName}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",m.unit]})]}),u.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):u.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(Ds,{className:"w-5 h-5"}),"   "]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:m.period,onChange:E=>v({...m,period:E.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(E=>u.jsx("option",{value:E.title,children:E.title},E.id)):u.jsx("option",{children:"   "})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[u.jsxs("h3",{className:"font-bold",children:["  ",m.unit?`( ${m.unit})`:""]}),m.unit&&u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[u.jsx(dy,{className:"w-3 h-3"}),"   "]})]}),m.personnelId?m.criteria.length>0?m.criteria.map((E,S)=>u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition animate-fadeIn",children:[u.jsxs("div",{className:"mb-2 md:mb-0",children:[u.jsxs("span",{className:"font-medium block",children:[S+1,". ",E.label]}),u.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",E.max]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"0",max:E.max,value:E.score,onChange:T=>b(S,Number(T.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),u.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",E.max]})]})]},S)):u.jsx("div",{className:"text-center p-6 bg-yellow-50 text-yellow-700 rounded-xl border border-yellow-200",children:u.jsxs("p",{children:['      "',m.unit,'"   .']})}):u.jsx("p",{className:"text-center text-gray-400 py-4 border-2 border-dashed rounded-xl",children:"          ."})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[u.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-4xl font-black text-primary",children:y}),u.jsxs("span",{className:"text-gray-500",children:["/ ",w||100]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsx("button",{type:"submit",disabled:m.criteria.length===0,className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:"   "})]})]})]}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold text-lg",children:" "}),u.jsx("button",{onClick:()=>i(!1),children:u.jsx(en,{className:"w-5 h-5 text-gray-500"})})]}),u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(pu,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"   "}),u.jsx("th",{className:"p-3",children:" "}),u.jsx("th",{className:"p-3",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(E=>u.jsxs("tr",{onClick:()=>_(E),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[u.jsx("td",{className:"p-3 font-bold",children:E.full_name}),u.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:E.unit}),u.jsx("td",{className:"p-3",children:u.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:u.jsx(Gh,{className:"w-4 h-4"})})})]},E.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Eue=({user:t})=>{var v;const[e,n]=N.useState("WORK_ORDER"),[r,i]=N.useState([]),[o,a]=N.useState(null);N.useEffect(()=>{const y=R_(t);i(y)},[t,e]);const s=(y,w)=>{o&&(T5(o.id,y,t),a(null),i(R_(t)))},l=y=>{const x=c(o).find(b=>b.style==="primary"||b.style==="success");x&&o?(o.data=y,s(x.id)):alert("      .")},c=y=>{const x=_u().find(_=>_.id===y.workflowId);if(!x)return[];const b=x.steps.find(_=>_.id===y.currentStepId);return b?b.actions:[]},d=y=>{const x=_u().find(_=>_.id===y.workflowId),b=x==null?void 0:x.steps.find(_=>_.id===y.currentStepId);return(b==null?void 0:b.title)||""},f=y=>r.filter(w=>w.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:dy},{id:"PROJECT",label:"",icon:tf},{id:"PERFORMANCE",label:" ",icon:ax},{id:"PART_REQUEST",label:" ",icon:lf},{id:"INSPECTION",label:" ",icon:JC},{id:"DOCUMENT",label:" ",icon:ef},{id:"MEETING",label:"",icon:of},{id:"SUGGESTION",label:"",icon:sf},{id:"PURCHASE",label:" ",icon:df}],m=({item:y})=>{const w=c(y),[x,b]=N.useState("");return y.module==="WORK_ORDER"?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[u.jsx(dy,{className:"w-5 h-5 text-primary"}),y.title]}),u.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(i_,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx(Nb,{initialData:y.data,onProcessComplete:l})})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),u.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),u.jsx("h2",{className:"text-xl font-bold",children:y.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(i_,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([_,E])=>typeof E=="object"||Array.isArray(E)||_==="id"?null:u.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[u.jsxs("span",{className:"text-gray-500",children:[_,":"]}),u.jsx("span",{className:"font-medium",children:String(E)})]},_))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),u.jsx("textarea",{value:x,onChange:_=>b(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),u.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:w.map(_=>{const E=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return u.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${E}`,children:_.label},_.id)})})]})};return o?u.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:u.jsx(m,{item:o})}):u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[u.jsx(af,{className:"w-5 h-5"}),"  "]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>u.jsxs("button",{onClick:()=>{n(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(y.icon,{className:"w-4 h-4"}),u.jsx("span",{children:y.label})]}),f(y.id)>0&&u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),u.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("h3",{className:"font-bold",children:[" : ",(v=h.find(y=>y.id===e))==null?void 0:v.label]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(y=>y.module===e).length===0?u.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[u.jsx(sx,{className:"w-12 h-12 mb-3 opacity-20"}),u.jsx("p",{children:"     ."})]}):r.filter(y=>y.module===e).map(y=>u.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[u.jsx(Wh,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},Tue=({user:t})=>{const[e,n]=N.useState("INBOX"),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[c,d]=N.useState(!1),[f,h]=N.useState([]),[m,v]=N.useState([]),[y,w]=N.useState(!1),x=N.useRef(null),[b,_]=N.useState("USER"),[E,S]=N.useState(""),[T,k]=N.useState(""),[A,C]=N.useState(""),[O,R]=N.useState(!1),[D,L]=N.useState([]),[$,j]=N.useState(""),F=N.useRef(null),[U,q]=N.useState(""),[W,J]=N.useState("newest"),[ne,Q]=N.useState(1),[ce,Ee]=N.useState(10);N.useEffect(()=>{Te()},[t,e]),N.useEffect(()=>{Q(1),q("")},[e]),N.useEffect(()=>{(async()=>{try{const oe=await Fe("app_users"),pe=await Fe("personnel"),je=oe.map(We=>{const Ut=pe.find(Lr=>Lr.id===We.personnel_id);return{id:We.id,name:Ut?Ut.full_name:We.username}});h(je)}catch(oe){console.error("Error loading users for messages:",oe)}})()},[]),N.useEffect(()=>{const z=oe=>{x.current&&!x.current.contains(oe.target)&&w(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const Te=async()=>{d(!0);try{const{inbox:z,sent:oe}=await NP(t.id,t.role);i(z),a(oe)}catch(z){console.error("Failed to load messages",z)}finally{d(!1)}},Me=async z=>{l(z),e==="INBOX"&&!z.readBy.includes(t.id)&&(i(oe=>oe.map(pe=>pe.id===z.id?{...pe,readBy:[...pe.readBy,t.id]}:pe)),await x5(z,t.id))},_e=z=>{v(oe=>oe.includes(z)?oe.filter(pe=>pe!==z):[...oe,z])},Be=z=>new Promise((oe,pe)=>{const je=new FileReader;je.readAsDataURL(z),je.onload=()=>{oe(je.result)},je.onerror=We=>{pe(We)}}),se=z=>{if(z.target.files&&z.target.files.length>0){const oe=Array.from(z.target.files),pe=5*1024*1024,je=oe.filter(We=>We.size>pe?(alert(` ${We.name}        .`),!1):!0);L(We=>[...We,...je])}F.current&&(F.current.value="")},ge=z=>{L(oe=>oe.filter((pe,je)=>je!==z))},ve=async z=>{z.preventDefault();let oe="";if(b==="USER"){if(m.length===0){alert("      ");return}oe=m}else if(b==="ALL")oe="ALL";else{if(!E){alert("    ");return}oe=E}R(!0),j("");try{const pe=[];for(const je of D){const We=await Be(je);pe.push({name:je.name,size:je.size,type:je.type,data:We})}await v5(t,oe,b,T,A,pe),j("    "),k(""),C(""),S(""),v([]),L([]),Te(),setTimeout(()=>{j(""),n("SENT")},3e3)}catch(pe){alert("   : "+(pe.message||" ")),console.error(pe)}finally{R(!1)}},B=z=>z.readBy&&z.readBy.length>0?u.jsx("span",{title:" ",className:"flex text-blue-500",children:u.jsx(o_,{className:"w-4 h-4"})}):u.jsx("span",{title:" ",className:"flex text-gray-400",children:u.jsx(Gh,{className:"w-4 h-4"})}),Oe=z=>{if(z.receiverType==="ALL")return" ";if(z.receiverType==="GROUP")return` ${z.receiverId}`;const oe=f.find(pe=>pe.id===z.receiverId);return oe?oe.name:""},I=(()=>{let z=e==="INBOX"?r:o;if(U){const oe=U.toLowerCase();z=z.filter(pe=>pe.subject.toLowerCase().includes(oe)||pe.body.toLowerCase().includes(oe)||pe.senderName.toLowerCase().includes(oe)||e==="SENT"&&Oe(pe).toLowerCase().includes(oe))}return z.sort((oe,pe)=>W==="newest"?pe.createdAt.localeCompare(oe.createdAt):oe.createdAt.localeCompare(pe.createdAt)),z})(),V=I.length,X=Math.ceil(V/ce),K=(ne-1)*ce,ie=I.slice(K,K+ce);return u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null),j("")},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[u.jsx(cf,{className:"w-4 h-4"}),"   "]})}),u.jsxs("div",{className:"p-2 space-y-1",children:[u.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(af,{className:"w-4 h-4"}),"  "]}),r.filter(z=>!z.readBy.includes(t.id)).length>0&&u.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(z=>!z.readBy.includes(t.id)).length})]}),u.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ff,{className:"w-4 h-4"}),"  "]})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&u.jsxs("div",{className:"p-6 overflow-y-auto",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(ZC,{className:"w-6 h-6 text-primary"}),"   "]}),$&&u.jsxs("div",{className:"mb-4 bg-green-100 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-center gap-2 animate-fadeIn",children:[u.jsx(sx,{className:"w-5 h-5"}),$]}),u.jsxs("form",{onSubmit:ve,className:"space-y-4 max-w-2xl",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>_("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${b==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(os,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>_("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${b==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(Ds,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>_("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${b==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(ZD,{className:"w-4 h-4"})," "]})]})]}),b==="USER"&&u.jsxs("div",{className:"relative",ref:x,children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none cursor-pointer flex items-center justify-between",onClick:()=>w(!y),children:[u.jsx("span",{className:"text-sm truncate",children:m.length>0?`${m.length}   `:" ..."}),u.jsx(Hh,{className:"w-4 h-4 text-gray-500"})]}),y&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto p-1",children:f.map(z=>u.jsxs("div",{onClick:()=>_e(z.id),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:m.includes(z.id),readOnly:!0,className:"w-4 h-4 rounded text-primary focus:ring-primary pointer-events-none"}),u.jsx("span",{className:"text-sm",children:z.name})]},z.id))}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:m.map(z=>{const oe=f.find(pe=>pe.id===z);return oe?u.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[oe.name,u.jsx("button",{type:"button",onClick:()=>_e(z),className:"hover:text-red-600",children:u.jsx(en,{className:"w-3 h-3"})})]},z):null})})]}),b==="GROUP"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),u.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:E,onChange:z=>S(z.target.value),required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:pn.ADMIN,children:" "}),u.jsx("option",{value:pn.MANAGER,children:" "}),u.jsx("option",{value:pn.USER,children:" "}),u.jsx("option",{value:pn.STOREKEEPER,children:""})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:T,onChange:z=>k(z.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:A,onChange:z=>C(z.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>{var z;return(z=F.current)==null?void 0:z.click()},className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Ul,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:"   :  "}),u.jsx("input",{type:"file",ref:F,multiple:!0,className:"hidden",onChange:se})]}),D.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:D.map((z,oe)=>u.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full text-xs border border-gray-200 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[150px]",children:z.name}),u.jsxs("span",{className:"text-gray-400",children:["(",(z.size/1024/1024).toFixed(2)," MB)"]}),u.jsx("button",{type:"button",onClick:()=>ge(oe),className:"text-red-500 hover:bg-red-100 rounded-full p-0.5",children:u.jsx(en,{className:"w-3 h-3"})})]},oe))})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("button",{disabled:O,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 disabled:opacity-50",children:[O?u.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u.jsx(cf,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&u.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[u.jsxs("div",{className:`${s?"hidden md:flex md:w-1/3 border-l dark:border-gray-700":"w-full flex"} flex-col h-full bg-white dark:bg-gray-800`,children:[u.jsxs("div",{className:"p-3 border-b dark:border-gray-700 space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(pu,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"...",value:U,onChange:z=>{q(z.target.value),Q(1)},className:"w-full pr-9 pl-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-1 focus:ring-primary"})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("button",{onClick:()=>J(z=>z==="newest"?"oldest":"newest"),className:"flex items-center gap-1 text-gray-500 hover:text-primary transition",children:[u.jsx(UD,{className:"w-3 h-3"}),W==="newest"?"":""]}),u.jsxs("span",{className:"text-gray-400",children:[V," "]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&u.jsxs("div",{className:"p-10 text-center text-gray-400",children:[u.jsx(Zr,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),u.jsx("span",{children:"  ..."})]}),!c&&ie.length===0&&u.jsxs("div",{className:"text-center p-10 text-gray-400",children:[u.jsx(af,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),u.jsx("p",{children:"  "})]}),ie.map(z=>{const oe=e==="INBOX"&&!z.readBy.includes(t.id);return u.jsxs("div",{onClick:()=>Me(z),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition relative
                                            ${(s==null?void 0:s.id)===z.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                            ${oe?"bg-white":"bg-gray-50/30 dark:bg-gray-800/50"}
                                        `,children:[oe&&u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500"}),u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("span",{className:`text-sm ${oe?"font-black text-black dark:text-white":"font-medium text-gray-600 dark:text-gray-400"}`,children:e==="INBOX"?z.senderName:Oe(z)}),u.jsx("span",{className:"text-[10px] text-gray-400",dir:"ltr",children:z.createdAt})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:`text-sm truncate pr-2 ${oe?"font-black text-gray-900 dark:text-white":"font-normal text-gray-600 dark:text-gray-400"}`,children:z.subject}),e==="SENT"&&B(z)]}),u.jsx("p",{className:`text-xs mt-1 truncate ${oe?"text-gray-800 dark:text-gray-300":"text-gray-400"}`,children:z.body}),z.attachments&&z.attachments.length>0&&u.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[u.jsx(Ul,{className:"w-3 h-3"}),u.jsxs("span",{children:[z.attachments.length," "]})]})]},z.id)})]}),V>0&&u.jsxs("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:ce,onChange:z=>{Ee(Number(z.target.value)),Q(1)},className:"bg-white dark:bg-gray-800 border dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{className:"text-gray-500",children:""})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:ne===1,onClick:()=>Q(z=>z-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(hc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-mono",children:[ne," / ",X||1]}),u.jsx("button",{disabled:ne>=X,onClick:()=>Q(z=>z+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(zh,{className:"w-4 h-4"})})]})]})]}),s?u.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[u.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:s.subject}),u.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:e==="INBOX"?s.senderName[0]:u.jsx(os,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{children:u.jsx("span",{className:"font-bold",children:e==="INBOX"?s.senderName:""})}),u.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&u.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",Oe(s),s.readBy.length>0&&u.jsxs("span",{className:"mr-2 text-blue-600 flex items-center gap-1 inline-flex",children:[u.jsx(o_,{className:"w-3 h-3"}),"  "]})]})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body}),s.attachments&&s.attachments.length>0&&u.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[u.jsx(Ul,{className:"w-4 h-4"}),"   "]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.attachments.map((z,oe)=>u.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition",children:[u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg text-gray-500",children:u.jsx(XD,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 px-3 overflow-hidden",children:[u.jsx("p",{className:"text-sm font-medium truncate",title:z.name,children:z.name}),u.jsxs("p",{className:"text-xs text-gray-400",children:[(z.size/1024).toFixed(1)," KB"]})]}),u.jsx("a",{href:z.data,download:z.name,className:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-full transition",title:"",children:u.jsx(ux,{className:"w-4 h-4"})})]},oe))})]})]})]}):u.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},kue=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(null);N.useEffect(()=>{e(_u())},[]);const i=()=>{const l={id:Vi(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(E5(n),e(_u()),alert("    ."))},a=()=>{if(!n)return;const l={id:Vi(),title:" ",assigneeRole:pn.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const c={id:Vi(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,c]})})};return n?u.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),u.jsx("div",{className:"h-8 w-px bg-gray-300"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[u.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),u.jsx("option",{value:"PROJECT",children:" (Project)"}),u.jsx("option",{value:"PART_REQUEST",children:" "}),u.jsx("option",{value:"PURCHASE",children:" "}),u.jsx("option",{value:"PERFORMANCE",children:" "}),u.jsx("option",{value:"MEETING",children:""}),u.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[u.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),u.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[u.jsx($s,{className:"w-4 h-4"}),"  "]})]})]}),u.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:u.jsxs("div",{className:"flex gap-8 min-w-max",children:[u.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[u.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:u.jsx(dL,{className:"w-6 h-6 ml-1"})}),u.jsx("span",{className:"text-xs font-bold",children:""})]}),u.jsx(Ll,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,c)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[c].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),u.jsxs("div",{className:"mt-2",children:[u.jsx("label",{className:"text-xs text-gray-500",children:" :"}),u.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[c].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(pn).map(d=>u.jsx("option",{value:d,children:d},d)),u.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),u.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:u.jsx(Jt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:d.label,onChange:h=>{const m=[...n.steps];m[c].actions[f].label=h.target.value,r({...n,steps:m})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),u.jsxs("select",{value:d.style,onChange:h=>{const m=[...n.steps];m[c].actions[f].style=h.target.value,r({...n,steps:m})},className:"text-xs bg-gray-100 rounded",children:[u.jsx("option",{value:"primary",children:""}),u.jsx("option",{value:"success",children:""}),u.jsx("option",{value:"danger",children:""}),u.jsx("option",{value:"neutral",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Ll,{className:"w-3 h-3"}),u.jsx("span",{children:" :"}),u.jsxs("select",{value:d.nextStepId,onChange:h=>{const m=[...n.steps];m[c].actions[f].nextStepId=h.target.value,r({...n,steps:m})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[u.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>u.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),u.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),u.jsx(Ll,{className:"w-8 h-8 text-gray-300"})]},l.id)),u.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[u.jsx(xr,{className:"w-8 h-8 mb-2"}),u.jsx("span",{children:" "})]})]})})]}):u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(XC,{className:"text-primary"}),"   "]}),u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(xr,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:u.jsx(cx,{className:"w-6 h-6"})}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),u.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),u.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Nue=()=>{const[t,e]=N.useState("LOGINS"),[n,r]=N.useState([]),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,c]=N.useState(""),[d,f]=N.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};N.useEffect(()=>{m(),s(h[t])},[t]),N.useEffect(()=>{if(l){const x=l.toLowerCase();o(n.filter(b=>Object.values(b).some(_=>String(_).toLowerCase().includes(x))))}else o(n)},[l,n]);const m=()=>{let x=[];switch(t){case"LOGINS":x=JSON.parse(localStorage.getItem("system_logs")||"[]"),x.reverse();break;case"WORK_ORDERS":x=AP().map(b=>{var _,E;return{...b,requester:((_=b.data)==null?void 0:_.requester)||"-",equipName:((E=b.data)==null?void 0:E.equipName)||"-"}});break;case"PARTS":x=Xo("PART_REQUEST").map(b=>{var _,E,S;return{...b,partName:(_=b.data)==null?void 0:_.partName,qty:(E=b.data)==null?void 0:E.qty,unit:(S=b.data)==null?void 0:S.unit,requester:b.description.split("")[1]||"-"}});break}r(x),o(x)},v=x=>{s(b=>b.map(_=>_.id===x?{..._,visible:!_.visible}:_))},y=()=>{if(i.length===0)return alert("    ");const x=a.filter(T=>T.visible),b=x.map(T=>T.label),_=i.map(T=>x.map(k=>T[k.id]||"-")),E="data:text/csv;charset=utf-8,\uFEFF"+b.join(",")+`
`+_.map(T=>T.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(E)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},w=()=>{if(i.length===0)return[];const x=t==="LOGINS"?"date":"status",b={};return i.forEach(_=>{const E=_[x]||"";b[E]=(b[E]||0)+1}),Object.keys(b).map(_=>({name:_,count:b[_]})).slice(0,10)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(eP,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),u.jsxs("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[u.jsx(YC,{className:"w-5 h-5"}),"  "]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[u.jsx(cx,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:t,onChange:x=>e(x.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[u.jsx("option",{value:"LOGINS",children:"  "}),u.jsx("option",{value:"WORK_ORDERS",children:" "}),u.jsx("option",{value:"PARTS",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?u.jsx(KC,{className:"w-3 h-3"}):u.jsx(Hh,{className:"w-3 h-3"})]}),d&&u.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(x=>u.jsxs("div",{onClick:()=>v(x.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[x.visible?u.jsx(lx,{className:"w-4 h-4 text-primary"}):u.jsx(rP,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm",children:x.label})]},x.id))})]}),u.jsxs("button",{onClick:m,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[u.jsx(tP,{className:"w-4 h-4"}),"  "]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),u.jsx(Wa,{width:"100%",height:"90%",children:u.jsxs(kb,{data:w(),children:[u.jsx(rc,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Wi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),u.jsx(Ki,{fontSize:10}),u.jsx(Tn,{}),u.jsx(Mr,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(Kh,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:x=>c(x.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:u.jsx("tr",{children:a.filter(x=>x.visible).map(x=>u.jsx("th",{className:"p-4 whitespace-nowrap",children:x.label},x.id))})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((x,b)=>u.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>u.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:x[_.id]||"-"},_.id))},b)):u.jsx("tr",{children:u.jsx("td",{colSpan:a.filter(x=>x.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},DT=({title:t,selectedCloths:e,onChange:n})=>{const[r,i]=N.useState(!1),o=N.useRef(null);N.useEffect(()=>{const l=c=>{o.current&&!o.current.contains(c.target)&&i(!1)};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]);const a=(l,c)=>{const d=`D${l}-C${c}`;e.includes(d)?n(e.filter(f=>f!==d)):n([...e,d])},s=l=>{const c=Array.from({length:20}).map((f,h)=>`D${l}-C${h+1}`);if(c.every(f=>e.includes(f)))n(e.filter(f=>!c.includes(f)));else{const f=[...new Set([...e,...c])];n(f)}};return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[u.jsx(eL,{className:"w-4 h-4 text-primary"})," : ",t]}),u.jsx("button",{type:"button",onClick:()=>i(!r),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:r?" ":"  "})]}),u.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:u.jsxs("span",{children:["  : ",u.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:u.jsxs("div",{ref:o,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["   - ",t]}),u.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:u.jsx(en,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((l,c)=>{const d=c+1,h=Array.from({length:20}).map((m,v)=>`D${d}-C${v+1}`).every(m=>e.includes(m));return u.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[u.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d]}),u.jsx("button",{type:"button",onClick:()=>s(d),className:`p-1 rounded transition ${h?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:h?u.jsx(lx,{className:"w-6 h-6"}):u.jsx(rP,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((m,v)=>{const y=v+1,w=`D${d}-C${y}`,x=e.includes(w);return u.jsx("div",{onClick:()=>a(d,y),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${x?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${d} -  ${y}`,children:y},w)})})]},d)})}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:u.jsx("button",{onClick:()=>i(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},Fr=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],LT=["08:00","11:00","02:00","05:00"],UT=["","","","","",""],Aue=[25,30,40,50,60,70,80,90,100],BT=["#22c55e","#ef4444"],FT={Day1:" ()",Day2:" ()",Night1:" ()",Night2:" ()"},Cue=({user:t})=>{Ms();const[e,n]=N.useState("LIST"),[r,i]=N.useState(1),[o,a]=N.useState(!1),[s,l]=N.useState(null),[c,d]=N.useState([]),[f,h]=N.useState(!1),[m,v]=N.useState(null),[y,w]=N.useState([]),[x,b]=N.useState([]),[_,E]=N.useState({name:"A",type:"Day1",date:st(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),[S,T]=N.useState({}),[k,A]=N.useState({}),[C,O]=N.useState({lineA:{},lineB:{}}),[R,D]=N.useState({lineA:{},lineB:{}}),[L,$]=N.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[j,F]=N.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),[U,q]=N.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[W,J]=N.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[ne,Q]=N.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),[ce,Ee]=N.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[Te,Me]=N.useState({process:[],cleanWater:[]}),[_e,Be]=N.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[se,ge]=N.useState({nextShiftActions:[""]});N.useEffect(()=>{Fe("personnel").then(P=>{b(P),T({})}),ve()},[]);const ve=async()=>{const P=await b5();w(P)},B=e==="VIEW",Oe=()=>{E({name:"A",type:"Day1",date:st(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),T({}),A({}),O({lineA:{},lineB:{}}),D({lineA:{},lineB:{}}),$({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),F({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),q({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),J({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),Q({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),Ee({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),Me({process:[],cleanWater:[]}),Be({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),ge({nextShiftActions:[""]}),i(1)},Pe=()=>{Oe(),n("FORM")},I=P=>{const G=P.full_data;if(G){E(G.shiftInfo),T(G.attendance.map);const H={};G.attendance.leave.forEach(Z=>H[Z.id]=Z.type),A(H),O(G.production),D(G.feedInfo),$(G.ballMills),F(G.hydrocyclones),q(G.drumMagnets),J(G.concentrateFilters),Q(G.thickeners),Ee(G.recoveryFilters),Me(G.pumps),Be(G.downtime),ge(G.footer),v(G),n("VIEW"),i(1)}},V=P=>{if(!P||P==="00:00")return 0;const[G,H]=P.split(":").map(Number);return G*60+H},X=P=>{const G=V(_.shiftDuration);return V(P)>G?(alert(`    (${P})      (${_.shiftDuration})  .`),!1):!0},K=(P,G,H)=>{if(B)return;const Z=Number(H);if(Z<0)return;const ue=Fr.indexOf(G);O(ae=>{const ee={...ae[P]};if(ue!==-1)for(let Ne=ue;Ne<Fr.length;Ne++)ee[Fr[Ne]]=Z;return{...ae,[P]:ee}})},ie=(P,G,H)=>{D(Z=>{const ue={...Z[P]};for(let ae=G;ae<Fr.length;ae++)ue[Fr[ae]]=[...H];return{...Z,[P]:ue}})},z=(P,G,H,Z)=>{if(B)return;const ue=Fr[G],ee=[...R[P][ue]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]];ee[H]={...ee[H],type:Z};for(let Ne=H+1;Ne<3;Ne++)ee[Ne]={type:"",percent:0};ie(P,G,ee)},oe=(P,G,H,Z)=>{if(B)return;const ue=Fr[G],ee=[...R[P][ue]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]],Ne=Math.min(100,Math.max(0,Number(Z)));ee[H]={...ee[H],percent:Ne},ie(P,G,ee)},pe=P=>Object.values(C[P]).reduce((G,H)=>G+H,0),je=(P,G)=>{!P||B||(T(H=>({...H,[P]:G})),G==="LEAVE"&&A(H=>({...H,[P]:"DAILY"})))},We=P=>{if(B)return;const G={...S};if(delete G[P],T(G),k[P]){const H={...k};delete H[P],A(H)}},Ut=(P,G,H)=>{if(!B)if(P==="downtime"){const Z=[..._e.generalDescription];Z[G]=H,Be({..._e,generalDescription:Z})}else{const Z=[...se.nextShiftActions];Z[G]=H,ge({...se,nextShiftActions:Z})}},Lr=P=>{B||(P==="downtime"?Be({..._e,generalDescription:[..._e.generalDescription,""]}):ge({...se,nextShiftActions:[...se.nextShiftActions,""]}))},el=(P,G)=>{if(!B)if(P==="downtime"){const H=_e.generalDescription.filter((Z,ue)=>ue!==G);Be({..._e,generalDescription:H.length?H:[""]})}else{const H=se.nextShiftActions.filter((Z,ue)=>ue!==G);ge({...se,nextShiftActions:H.length?H:[""]})}},tl=(P,G)=>{if(B)return;const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H){alert("  ");return}const Z=new H;Z.lang="fa-IR",Z.onstart=()=>l({section:P,index:G}),Z.onend=()=>l(null),Z.onresult=ue=>{const ae=ue.results[0][0].transcript,ee=P==="downtime"?_e.generalDescription[G]:se.nextShiftActions[G];Ut(P,G,ee?ee+" "+ae:ae)},Z.start()},mt=(P,G)=>{if(B)return;const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H)return;const Z=new H;Z.lang="fa-IR",Z.onresult=ue=>{const ae=ue.results[0][0].transcript;P(G?G+" "+ae:ae)},Z.start()},_r=(P,G,H,Z,ue)=>{B||Number(ue)<0||Q(ae=>{const ee=[...ae[P]],Ne={...ee[G]},Je={...Ne.data[H]||{pressure:"",jack:"",mudLine:""}};return Je[Z]=ue,Ne.data={...Ne.data,[H]:Je},ee[G]=Ne,{...ae,[P]:ee}})},xi=(P,G,H,Z)=>{B||typeof Z=="string"&&(H==="hoursWorked"||H==="channelOutput")&&!X(Z)||Q(ue=>{const ae=[...ue[P]];return ae[G]={...ae[G],[H]:Z},{...ue,[P]:ae}})},tr=(P,G)=>{if(B)return;const H=L[P][G],Z=Number(H.ballSize),ue=Number(H.barrelCount);if(!Z||!ue||ue<1){alert("      ( )   .");return}if(H.charges.some(ee=>ee.size===Z)){alert("      .");return}const ae=[...H.charges,{size:Z,count:ue}];$(ee=>({...ee,[P]:{...ee[P],[G]:{...ee[P][G],charges:ae,ballSize:"",barrelCount:""}}}))},Ur=(P,G,H)=>{if(B)return;const ue=L[P][G].charges.filter((ae,ee)=>ee!==H);$(ae=>({...ae,[P]:{...ae[P],[G]:{...ae[P][G],charges:ue}}}))},Xp=P=>{const G=as(P);return G?["","","","","","",""][G.getDay()]:""},Dn=(P,G,H)=>{if(B)return;const Z=G==="workTime"?"stopTime":"workTime",ue=_e[P][Z],ae=V(H),ee=V(ue),Ne=V(_.shiftDuration);if(ae+ee>Ne){alert(`    (${Nc(ae+ee)})      (${_.shiftDuration}) .`);return}Be(Je=>({...Je,[P]:{...Je[P],[G]:H}}))},Nc=P=>{const G=Math.floor(P/60),H=P%60;return`${String(G).padStart(2,"0")}:${String(H).padStart(2,"0")}`},Qp=async P=>{if(P.preventDefault(),!window.confirm("       "))return;a(!0);const G=Qi("T"),H=Object.keys(S).filter(ee=>S[ee]==="PRESENT"),Z=Object.keys(S).filter(ee=>S[ee]==="ABSENT"),ue=Object.keys(S).filter(ee=>S[ee]==="LEAVE"),ae={code:G,shiftInfo:_,attendance:{present:H,absent:Z,leave:ue.map(ee=>({id:ee,type:k[ee]})),map:S},production:C,feedInfo:R,ballMills:L,concentrateFilters:W,hydrocyclones:j,thickeners:ne,drumMagnets:U,recoveryFilters:ce,pumps:Te,downtime:_e,footer:se,totalA:pe("lineA"),totalB:pe("lineB")};try{await w5(ae),alert("    ."),Oe(),n("LIST"),ve()}catch{alert("   .    .")}finally{a(!1)}},uR=async()=>{if(c.length!==0&&window.confirm(`   ${c.length}   `))try{const{error:P}=await wt.from("shift_reports").delete().in("id",c);if(P)throw P;w(G=>G.filter(H=>!c.includes(H.id))),d([])}catch{alert("   .")}},cR=()=>{const P=c.length>0?y.filter(Ne=>c.includes(Ne.id)):y;if(P.length===0){alert("    .");return}const G=["Tracking Code","Date","Shift","Type","Supervisor","Production A","Production B"],H=P.map(Ne=>[Ne.tracking_code,Ne.shift_date,Ne.shift_name,Ne.shift_type,Ne.supervisor_name,Ne.total_production_a,Ne.total_production_b]);let Z="\uFEFF"+G.join(",")+`
`;H.forEach(Ne=>{const Je=Ne.join(",");Z+=Je+`
`});const ue=new Blob([Z],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),ee=URL.createObjectURL(ue);ae.setAttribute("href",ee),ae.setAttribute("download",`shift_reports_${st().replace(/\//g,"-")}.csv`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},dR=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:ve,className:"bg-gray-100 hover:bg-gray-200 text-gray-600 p-2 rounded-lg transition",title:"",children:u.jsx(tP,{className:"w-5 h-5"})}),c.length>0&&u.jsxs("button",{onClick:uR,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[u.jsx(Jt,{className:"w-4 h-4"}),"  (",c.length,")"]}),u.jsxs("button",{onClick:cR,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[u.jsx(ux,{className:"w-4 h-4"}),"  "]})]}),Lb=({value:P,onChange:G})=>u.jsxs("select",{value:P,onChange:H=>G(H.target.value),disabled:B,className:`w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-sm ${B?"cursor-not-allowed bg-gray-100":""}`,children:[u.jsx("option",{value:"",children:" ..."}),x.filter(H=>S[H.id]==="PRESENT").map(H=>u.jsx("option",{value:H.id,children:H.full_name},H.id))]}),Zp=()=>x.filter(P=>!S[P.id]),em=P=>x.filter(G=>S[G.id]===P),bi=({active:P,onClick:G})=>u.jsx("button",{type:"button",disabled:B,onClick:G,className:`p-2 rounded-full transition-all shadow-md ${P?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-400 hover:bg-gray-300 dark:bg-gray-700"} ${B?"opacity-70 cursor-not-allowed":""}`,title:P?"":"",children:u.jsx(hL,{className:"w-5 h-5"})}),Ub=()=>{window.print()},fR=async()=>{if(navigator.share)try{await navigator.share({title:`  ${m.shiftInfo.date}`,text:`   ${m.shiftInfo.name}  ${m.shiftInfo.date}`,url:window.location.href})}catch(P){console.error("Error sharing:",P)}else Ub()};if(f&&m){const P=[{name:"",value:V(m.downtime.lineA.workTime)||1},{name:"",value:V(m.downtime.lineA.stopTime)}],G=[{name:"",value:V(m.downtime.lineB.workTime)||1},{name:"",value:V(m.downtime.lineB.stopTime)}],H=Fr.map(Z=>({time:Z,LineA:m.production.lineA[Z]||0,LineB:m.production.lineB[Z]||0}));return u.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[u.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .page-break { page-break-after: always; }
                      .print-container { 
                          width: 210mm !important; 
                          min-height: 297mm !important; 
                          padding: 20mm !important; 
                          box-shadow: none !important; 
                          margin: 0 !important; 
                      }
                      aside, header, footer { display: none !important; }
                  }
              `}),u.jsxs("div",{className:"flex flex-col gap-4 w-[210mm]",children:[u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-6 font-sans box-border",style:{padding:"20mm",width:"210mm",minHeight:"297mm"},children:[u.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16",children:u.jsx(vx,{className:"w-full h-full object-contain"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020]",children:"     "}),u.jsx("span",{className:"text-sm font-bold text-gray-700 mt-1 tracking-wide",children:"    "})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-3 min-w-[180px] flex flex-col gap-1.5 text-[10px]",children:[u.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{className:"font-mono font-bold",children:m.code})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{className:"font-bold",children:m.shiftInfo.date})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:" / :"}),u.jsxs("span",{className:"font-bold",children:[m.shiftInfo.name," (",m.shiftInfo.shiftDuration,")"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:" :"}),u.jsx("span",{className:"font-bold",children:FT[m.shiftInfo.type]||m.shiftInfo.type})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:"   A"}),u.jsxs("p",{className:"text-2xl font-black",children:[m.totalA," ",u.jsx("span",{className:"text-sm",children:""})]})]}),u.jsxs("div",{className:"bg-[#800020] text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:"   B"}),u.jsxs("p",{className:"text-2xl font-black",children:[m.totalB," ",u.jsx("span",{className:"text-sm",children:""})]})]}),u.jsxs("div",{className:"bg-green-600 text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:" "}),u.jsxs("div",{className:"flex justify-center gap-3 text-xs font-bold mt-1",children:[u.jsxs("span",{children:[": ",m.attendance.present.length]}),u.jsxs("span",{children:[": ",m.attendance.absent.length]}),u.jsxs("span",{children:[": ",m.attendance.leave.length]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 h-56",children:[u.jsxs("div",{className:"border rounded-xl p-3 bg-gray-50 flex flex-col justify-center items-center shadow-sm",children:[u.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"   "}),u.jsxs("div",{className:"flex w-full justify-around items-center h-full",children:[u.jsxs("div",{className:"text-center relative",children:[u.jsx("span",{className:"block text-xs font-bold text-blue-700 mb-1",children:" A"}),u.jsx("div",{className:"w-24 h-24 relative mx-auto",children:u.jsx(Wa,{children:u.jsx(RT,{children:u.jsx(Rr,{data:P,innerRadius:0,outerRadius:40,dataKey:"value",stroke:"none",children:P.map((Z,ue)=>u.jsx(Au,{fill:BT[ue]},`cell-${ue}`))})})})}),u.jsxs("div",{className:"text-[9px] mt-1 font-bold",children:[u.jsxs("span",{className:"text-green-600",children:[": ",m.downtime.lineA.workTime]})," | ",u.jsxs("span",{className:"text-red-500",children:[": ",m.downtime.lineA.stopTime]})]})]}),u.jsxs("div",{className:"text-center relative",children:[u.jsx("span",{className:"block text-xs font-bold text-[#800020] mb-1",children:" B"}),u.jsx("div",{className:"w-24 h-24 relative mx-auto",children:u.jsx(Wa,{children:u.jsx(RT,{children:u.jsx(Rr,{data:G,innerRadius:0,outerRadius:40,dataKey:"value",stroke:"none",children:G.map((Z,ue)=>u.jsx(Au,{fill:BT[ue]},`cell-${ue}`))})})})}),u.jsxs("div",{className:"text-[9px] mt-1 font-bold",children:[u.jsxs("span",{className:"text-green-600",children:[": ",m.downtime.lineB.workTime]})," | ",u.jsxs("span",{className:"text-red-500",children:[": ",m.downtime.lineB.stopTime]})]})]})]})]}),u.jsxs("div",{className:"border rounded-xl p-3 bg-white shadow-sm",children:[u.jsx("h4",{className:"font-bold mb-2 text-center text-xs text-gray-700",children:"   "}),u.jsx("div",{className:"h-44 w-full",dir:"ltr",children:u.jsx(Wa,{children:u.jsxs(kb,{data:H,children:[u.jsx(rc,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Wi,{dataKey:"time",fontSize:8,interval:0}),u.jsx(Ki,{fontSize:8}),u.jsx(Tn,{}),u.jsx(jo,{wrapperStyle:{fontSize:"8px"}}),u.jsx(Mr,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0]}),u.jsx(Mr,{dataKey:"LineB",name:" B",fill:"#800020",radius:[2,2,0,0]})]})})})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-6",children:["lineA","lineB"].map(Z=>{const ue=Z==="lineA"?" A":" B",ae=Z==="lineA"?"border-blue-200":"border-red-200",ee=Z==="lineA"?"bg-blue-50 text-blue-800":"bg-red-50 text-[#800020]",Ne=m.ballMills[Z],Je=m.hydrocyclones[Z];return u.jsxs("div",{className:`border ${ae} rounded-xl overflow-hidden shadow-sm`,children:[u.jsx("div",{className:`${ee} p-2 font-bold text-center border-b ${ae}`,children:ue}),u.jsxs("div",{className:"p-3 space-y-3",children:[u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["primary","secondary"].map(io=>{const Ln=Ne[io];return u.jsxs("div",{className:`border p-2 rounded-lg ${Ln.active?"bg-green-50/50":"bg-gray-50 opacity-60"}`,children:[u.jsx("div",{className:"font-bold text-[9px] mb-2 border-b pb-1 text-center",children:io==="primary"?" ":" "}),u.jsxs("div",{className:"space-y-1 text-[8px]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" (08/02):"}),u.jsxs("span",{className:`font-mono ${Number(Ln.amp08)>970?"text-red-600 font-bold":""}`,children:[Ln.amp08,"/",Ln.amp02]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" (08/02):"}),u.jsxs("span",{className:"font-mono",children:[Ln.dens08,"/",Ln.dens02]})]})]}),Ln.charges.length>0&&u.jsxs("div",{className:"mt-2 pt-1 border-t border-dashed bg-yellow-50 p-1 rounded",children:[u.jsx("span",{className:"block font-bold text-[8px] text-orange-700 text-center mb-1",children:" "}),Ln.charges.map((He,hR)=>u.jsxs("div",{className:"text-[8px] flex justify-between bg-white px-1 rounded mb-0.5",children:[u.jsxs("span",{children:[" ",He.size]}),u.jsxs("span",{children:[He.count," "]})]},hR))]})]},io)})}),u.jsxs("div",{className:"text-[9px] border-t pt-2",children:[u.jsx("span",{className:"font-bold block mb-1",children:":"}),u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-100",children:[u.jsxs("span",{children:[": ",u.jsx("b",{children:Je.primary.pressure})," Bar"]}),u.jsxs("span",{children:[" : ",u.jsx("b",{children:Je.primary.activeCyclones.length})]})]})]})]})]},Z)})})]}),u.jsx("div",{className:"page-break"}),u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-6 font-sans box-border",style:{padding:"20mm",width:"210mm",minHeight:"297mm"},children:[u.jsxs("div",{className:"border-b-2 border-gray-200 pb-2 mb-2 flex justify-between text-gray-400 text-[10px]",children:[u.jsxs("span",{children:["    - ",m.shiftInfo.date]}),u.jsx("span",{children:"   "})]}),u.jsx("div",{className:"grid grid-cols-2 gap-6",children:["lineA","lineB"].map(Z=>u.jsxs("div",{className:"border border-gray-300 rounded-xl p-3 shadow-sm",children:[u.jsxs("div",{className:"font-bold border-b mb-2 pb-1 text-center bg-gray-100 rounded text-gray-700 p-1",children:["  ",Z==="lineA"?"A":"B"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{children:":"}),u.jsxs("span",{className:"font-bold bg-white px-2 py-0.5 rounded border",children:[m.concentrateFilters[Z].cloths.length," "]})]}),u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{children:" :"}),u.jsxs("span",{className:"font-bold bg-white px-2 py-0.5 rounded border",children:[m.recoveryFilters[Z][0].cloths.length," "]})]}),u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{children:" :"}),u.jsxs("span",{className:"font-bold bg-white px-2 py-0.5 rounded border",children:[m.recoveryFilters[Z][1].cloths.length," "]})]})]})]},Z))}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold text-sm bg-gray-800 text-white p-2 rounded-lg text-center shadow-md",children:"    "}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border border-blue-200 rounded-xl p-4 bg-blue-50/40 relative",children:[u.jsx("div",{className:"absolute -top-3 right-4 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold border border-blue-200",children:"  A"}),u.jsx("p",{className:"text-justify leading-relaxed mt-2",children:m.downtime.lineA.stopTime==="00:00"?"      .":m.downtime.lineA.reason||"   ."})]}),u.jsxs("div",{className:"border border-[#800020]/30 rounded-xl p-4 bg-red-50/40 relative",children:[u.jsx("div",{className:"absolute -top-3 right-4 bg-red-100 text-[#800020] px-3 py-1 rounded-full text-xs font-bold border border-red-200",children:"  B"}),u.jsx("p",{className:"text-justify leading-relaxed mt-2",children:m.downtime.lineB.stopTime==="00:00"?"      .":m.downtime.lineB.reason||"   ."})]})]}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 bg-gray-50",children:[u.jsx("div",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"  /  "}),u.jsx("ul",{className:"list-decimal list-inside space-y-1 text-gray-700",children:m.downtime.generalDescription.map((Z,ue)=>u.jsx("li",{className:"text-justify",children:Z||"..."},ue))})]}),u.jsxs("div",{className:"border border-orange-200 rounded-xl p-4 bg-orange-50 shadow-sm",children:[u.jsxs("div",{className:"font-bold text-orange-800 mb-2 flex items-center gap-2",children:[u.jsx(Ll,{className:"w-4 h-4"}),"     "]}),u.jsx("ul",{className:"list-decimal list-inside space-y-1 text-gray-700",children:m.footer.nextShiftActions.map((Z,ue)=>u.jsx("li",{className:"text-justify",children:Z||"..."},ue))})]})]}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-8 pt-8 border-t-2 border-gray-200",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:"  "}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:" "}),u.jsx("div",{className:"font-mono text-sm mb-1 absolute bottom-4 left-0 right-0",children:t.fullName}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:" "}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]})]})]}),u.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50",children:[u.jsxs("button",{onClick:()=>h(!1),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[u.jsx(QC,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:Ub,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[u.jsx(pL,{className:"w-5 h-5"}),"   (PDF)"]}),u.jsxs("button",{onClick:fR,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[u.jsx(nP,{className:"w-5 h-5"}),"  "]})]})]})]})}return e==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(cy,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"  "}),u.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:u.jsx(gi,{title:"   ",icon:rL,data:y,onAdd:Pe,columns:[{header:" ",accessor:P=>u.jsx("span",{className:"font-mono font-bold",children:P.tracking_code}),sortKey:"tracking_code"},{header:" ",accessor:P=>P.shift_date,sortKey:"shift_date"},{header:"",accessor:P=>P.shift_name},{header:" ",accessor:P=>FT[P.shift_type]||P.shift_type},{header:"",accessor:P=>P.supervisor_name||"-"},{header:"  A",accessor:P=>u.jsxs("span",{className:"text-blue-600 font-bold",children:[P.total_production_a," "]})},{header:"  B",accessor:P=>u.jsxs("span",{className:"text-red-600 font-bold",children:[P.total_production_b," "]})}],onViewDetails:P=>I(P),extraActions:dR,selectedIds:c,onSelect:d})})]}):u.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(cy,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:B?"  ":"  "}),u.jsx("p",{className:"text-xs text-gray-500",children:B?` : ${(m==null?void 0:m.code)||"---"}`:"     "})]})]}),u.jsxs("button",{onClick:()=>n("LIST"),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition text-sm font-bold flex items-center gap-2",children:[u.jsx(Ll,{className:"w-4 h-4"}),"   "]})]}),u.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:" ",icon:Ds},{id:2,label:"",icon:YD},{id:3,label:"",icon:zC},{id:4,label:"",icon:JD},{id:9,label:" ",icon:aL},{id:6,label:" ",icon:Kh},{id:5,label:"",icon:tL},{id:7,label:" ",icon:uf},{id:8,label:"  ",icon:bL}].map(P=>u.jsxs("button",{type:"button",onClick:()=>i(P.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${r===P.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[u.jsx(P.icon,{className:"w-4 h-4"})," ",P.label]},P.id))}),u.jsxs("form",{onSubmit:Qp,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[r===1&&u.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),u.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none disabled:bg-gray-200",disabled:B,value:_.name,onChange:P=>E({..._,name:P.target.value}),children:[u.jsx("option",{value:"A",children:" A"}),u.jsx("option",{value:"B",children:" B"}),u.jsx("option",{value:"C",children:" C"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none disabled:bg-gray-200",disabled:B,value:_.type,onChange:P=>E({..._,type:P.target.value}),children:[u.jsx("option",{value:"Day1",children:" "}),u.jsx("option",{value:"Day2",children:" "}),u.jsx("option",{value:"Night1",children:" "}),u.jsx("option",{value:"Night2",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("div",{className:B?"pointer-events-none opacity-80":"",children:u.jsx(tn,{value:_.shiftDuration,onChange:P=>E({..._,shiftDuration:P})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:Xp(_.date)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),u.jsx("div",{className:B?"pointer-events-none opacity-80":"",children:u.jsx(Xr,{value:_.date,onChange:P=>E({..._,date:P})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("input",{type:"text",value:_.supervisorName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[u.jsx(SL,{className:"w-5 h-5"}),"  "]}),!B&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:P=>{P.target.value&&(je(P.target.value,"PRESENT"),P.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),Zp().map(P=>u.jsx("option",{value:P.id,children:P.full_name},P.id))]})}),u.jsx("div",{className:"space-y-2",children:em("PRESENT").map(P=>u.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[u.jsx("span",{children:P.full_name}),!B&&u.jsx("button",{type:"button",onClick:()=>We(P.id),className:"text-red-500",children:u.jsx(Jt,{className:"w-4 h-4"})})]},P.id))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-orange-600 mb-2 flex items-center gap-2",children:[u.jsx(Wh,{className:"w-5 h-5"}),"  "]}),!B&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:P=>{P.target.value&&(je(P.target.value,"LEAVE"),P.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),Zp().map(P=>u.jsx("option",{value:P.id,children:P.full_name},P.id))]})}),u.jsx("div",{className:"space-y-2",children:em("LEAVE").map(P=>u.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-lg text-orange-800 text-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{children:P.full_name}),!B&&u.jsx("button",{type:"button",onClick:()=>We(P.id),className:"text-red-500",children:u.jsx(Jt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex gap-2 text-xs",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",disabled:B,checked:k[P.id]==="DAILY",onChange:()=>A({...k,[P.id]:"DAILY"})})," "]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",disabled:B,checked:k[P.id]==="HOURLY",onChange:()=>A({...k,[P.id]:"HOURLY"})})," "]})]})]},P.id))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[u.jsx(EL,{className:"w-5 h-5"}),"  "]}),!B&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:P=>{P.target.value&&(je(P.target.value,"ABSENT"),P.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),Zp().map(P=>u.jsx("option",{value:P.id,children:P.full_name},P.id))]})}),u.jsx("div",{className:"space-y-2",children:em("ABSENT").map(P=>u.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[u.jsx("span",{children:P.full_name}),!B&&u.jsx("button",{type:"button",onClick:()=>We(P.id),className:"text-red-500",children:u.jsx(Jt,{className:"w-4 h-4"})})]},P.id))})]})]})]}),r===2&&u.jsx("div",{className:"animate-fadeIn overflow-x-auto",children:u.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{rowSpan:2,className:"p-3 w-16 bg-gray-100 dark:bg-gray-700 border-b dark:border-gray-600",children:""}),u.jsx("th",{className:"p-3 bg-blue-100 text-blue-800 border-b dark:border-gray-600",children:" A"}),u.jsx("th",{className:"p-3 bg-red-100 text-red-800 border-b dark:border-gray-600",children:" B"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[Fr.map((P,G)=>{const H=R.lineA[P]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],Z=R.lineB[P]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],ue=H.reduce((ee,Ne)=>ee+Number(Ne.percent),0),ae=Z.reduce((ee,Ne)=>ee+Number(Ne.percent),0);return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 font-bold bg-gray-50 dark:bg-gray-900 border-r",children:P}),u.jsxs("td",{className:"p-2 align-top bg-blue-50/30",children:[u.jsx("div",{className:"mb-2",children:u.jsx("input",{disabled:B,type:"number",placeholder:"",min:"0",className:`w-full text-center p-1 rounded border focus:border-blue-500 font-bold mb-2 ${B?"bg-transparent border-none":""}`,value:C.lineA[P]||"",onChange:ee=>K("lineA",P,ee.target.value)})}),u.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(ee=>{const Ne=ee>0&&!H[ee-1].type,Je=H[ee],io=H.map(He=>He.type),Ln=UT.filter(He=>!io.includes(He)||He===Je.type);return u.jsxs("div",{className:`flex gap-1 ${Ne?"opacity-50":""}`,children:[u.jsxs("select",{className:`flex-[2] p-1 text-xs border rounded ${B?"bg-transparent border-none appearance-none":""}`,value:Je.type,onChange:He=>z("lineA",G,ee,He.target.value),disabled:Ne||B,children:[u.jsxs("option",{value:"",children:["  ",ee+1]}),Ln.map(He=>u.jsx("option",{value:He,children:He},He))]}),u.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",required:!!Je.type,className:`flex-1 text-center p-1 text-xs border rounded ${Je.type&&!Je.percent&&!B?"border-red-500 bg-red-50":""} ${B?"bg-transparent border-none":""}`,value:Je.percent||"",onChange:He=>oe("lineA",G,ee,He.target.value),disabled:Ne||B})]},ee)}),u.jsxs("div",{className:`text-[10px] text-right mt-1 ${ue!==100&&ue!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",ue,"% ",ue!==100&&ue!==0&&!B&&"(  )"]})]})]}),u.jsxs("td",{className:"p-2 align-top bg-red-50/30",children:[u.jsx("div",{className:"mb-2",children:u.jsx("input",{disabled:B,type:"number",placeholder:"",min:"0",className:`w-full text-center p-1 rounded border focus:border-red-500 font-bold mb-2 ${B?"bg-transparent border-none":""}`,value:C.lineB[P]||"",onChange:ee=>K("lineB",P,ee.target.value)})}),u.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(ee=>{const Ne=ee>0&&!Z[ee-1].type,Je=Z[ee],io=Z.map(He=>He.type),Ln=UT.filter(He=>!io.includes(He)||He===Je.type);return u.jsxs("div",{className:`flex gap-1 ${Ne?"opacity-50":""}`,children:[u.jsxs("select",{className:`flex-[2] p-1 text-xs border rounded ${B?"bg-transparent border-none appearance-none":""}`,value:Je.type,onChange:He=>z("lineB",G,ee,He.target.value),disabled:Ne||B,children:[u.jsxs("option",{value:"",children:["  ",ee+1]}),Ln.map(He=>u.jsx("option",{value:He,children:He},He))]}),u.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",required:!!Je.type,className:`flex-1 text-center p-1 text-xs border rounded ${Je.type&&!Je.percent&&!B?"border-red-500 bg-red-50":""} ${B?"bg-transparent border-none":""}`,value:Je.percent||"",onChange:He=>oe("lineB",G,ee,He.target.value),disabled:Ne||B})]},ee)}),u.jsxs("div",{className:`text-[10px] text-right mt-1 ${ae!==100&&ae!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",ae,"% ",ae!==100&&ae!==0&&!B&&"(  )"]})]})]})]},P)}),u.jsxs("tr",{className:"bg-gray-100 font-bold text-lg",children:[u.jsx("td",{className:"p-3",children:""}),u.jsxs("td",{className:"p-3 text-blue-800",children:[pe("lineA")," "]}),u.jsxs("td",{className:"p-3 text-red-800",children:[pe("lineB")," "]})]})]})]})}),r===3&&u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(P=>u.jsxs("div",{className:`border rounded-xl p-4 ${P==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[u.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${P==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:P==="lineA"?"  A":"  B"}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(G=>{const H=L[P][G],Z=H.charges.map(ae=>ae.size),ue=Aue.filter(ae=>!Z.includes(ae));return u.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"font-bold text-sm",children:G==="primary"?"  ()":"  ()"}),u.jsx(bi,{active:H.active,onClick:()=>{const ae={...L[P],[G]:{...H,active:!H.active}};$({...L,[P]:ae})}})]}),H.active&&u.jsxs("div",{className:"animate-slideDown space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{disabled:B,type:"number",min:"0",placeholder:" 08:30",className:`p-2 text-xs border rounded w-full ${Number(H.amp08)>970?"bg-red-100 border-red-500 text-red-900 font-bold":""}`,value:H.amp08,onChange:ae=>{if(Number(ae.target.value)<0)return;const ee={...L[P],[G]:{...H,amp08:ae.target.value}};$({...L,[P]:ee})}}),u.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{disabled:B,type:"number",min:"0",placeholder:" 02:30",className:`p-2 text-xs border rounded w-full ${Number(H.amp02)>970?"bg-red-100 border-red-500 text-red-900 font-bold":""}`,value:H.amp02,onChange:ae=>{if(Number(ae.target.value)<0)return;const ee={...L[P],[G]:{...H,amp02:ae.target.value}};$({...L,[P]:ee})}}),u.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{disabled:B,type:"number",min:"0",placeholder:" 08:30",className:"p-2 text-xs border rounded w-full",value:H.dens08,onChange:ae=>{if(Number(ae.target.value)<0)return;const ee={...L[P],[G]:{...H,dens08:ae.target.value}};$({...L,[P]:ee})}}),u.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{disabled:B,type:"number",min:"0",placeholder:" 02:30",className:"p-2 text-xs border rounded w-full",value:H.dens02,onChange:ae=>{if(Number(ae.target.value)<0)return;const ee={...L[P],[G]:{...H,dens02:ae.target.value}};$({...L,[P]:ee})}}),u.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]})]}),u.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-500 block mb-2",children:" "}),H.charges.length>0&&u.jsx("div",{className:"space-y-1 mb-2",children:H.charges.map((ae,ee)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-2 rounded text-xs border border-gray-200 dark:border-gray-600",children:[u.jsxs("span",{children:[": ",u.jsx("b",{children:ae.size})," - : ",u.jsx("b",{children:ae.count})," "]}),!B&&u.jsx("button",{type:"button",onClick:()=>Ur(P,G,ee),className:"text-red-500 hover:bg-red-100 p-1 rounded",children:u.jsx(Jt,{className:"w-3 h-3"})})]},ee))}),!B&&u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("select",{className:"flex-1 p-2 text-xs border rounded outline-none",value:H.ballSize,onChange:ae=>{const ee={...L[P],[G]:{...H,ballSize:ae.target.value}};$({...L,[P]:ee})},children:[u.jsx("option",{value:"",children:"..."}),ue.map(ae=>u.jsx("option",{value:ae,children:ae},ae))]}),u.jsx("input",{type:"number",min:"1",placeholder:" ",className:"flex-1 p-2 text-xs border rounded",value:H.barrelCount,onChange:ae=>{const ee={...L[P],[G]:{...H,barrelCount:ae.target.value}};$({...L,[P]:ee})}}),u.jsx("button",{type:"button",onClick:()=>tr(P,G),className:"bg-green-600 text-white p-2 rounded hover:bg-green-700 transition",children:u.jsx(fL,{className:"w-4 h-4"})})]})]})]})]},G)})})]},P))}),r===4&&u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(P=>u.jsxs("div",{className:`border rounded-xl p-4 ${P==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[u.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${P==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:P==="lineA"?"  A":"  B"}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(G=>{const H=j[P][G];return u.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"font-bold text-sm",children:G==="primary"?"  ":"  "}),u.jsx(bi,{active:H.active,onClick:()=>{const Z={...j[P],[G]:{...H,active:!H.active}};F({...j,[P]:Z})}})]}),H.active&&u.jsxs("div",{className:"animate-slideDown space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{disabled:B,type:"number",placeholder:"",className:"p-2 text-xs border rounded w-full",value:H.pressure,onChange:Z=>{const ue={...j[P],[G]:{...H,pressure:Z.target.value}};F({...j,[P]:ue})}}),u.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"Bar"})]}),u.jsx("input",{disabled:B,type:"text",placeholder:"",className:"p-2 text-xs border rounded",value:H.angle,onChange:Z=>{const ue={...j[P],[G]:{...H,angle:Z.target.value}};F({...j,[P]:ue})}})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs block mb-1",children:" :"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:12}).map((Z,ue)=>{const ae=ue+1;return u.jsx("button",{disabled:B,type:"button",onClick:()=>{const ee=H.activeCyclones.includes(ae)?H.activeCyclones.filter(Je=>Je!==ae):[...H.activeCyclones,ae],Ne={...j[P],[G]:{...H,activeCyclones:ee}};F({...j,[P]:Ne})},className:`w-6 h-6 text-xs rounded border ${H.activeCyclones.includes(ae)?"bg-blue-500 text-white":"bg-white"}`,children:ae},ae)})})]})]})]},G)})})]},P))}),r===9&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[u.jsxs("div",{className:"border rounded-xl p-4 bg-blue-50/20 border-blue-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-blue-200 pb-2",children:[u.jsx("h3",{className:"font-bold text-blue-800",children:"   A"}),u.jsx(bi,{active:U.lineA.active,onClick:()=>q({...U,lineA:{...U.lineA,active:!U.lineA.active}})})]}),U.lineA.active&&u.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(P=>u.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[u.jsx("span",{className:"text-sm",children:P.l}),u.jsx("input",{disabled:B,type:"checkbox",checked:U.lineA[P.k],onChange:G=>q({...U,lineA:{...U.lineA,[P.k]:G.target.checked}})})]},P.k)),u.jsxs("div",{className:"mt-4 relative",children:[u.jsx("label",{className:"block text-xs font-bold mb-1",children:"  A"}),u.jsx("textarea",{disabled:B,className:"w-full p-2 border rounded-lg h-20 text-xs",value:U.lineA.description,onChange:P=>q({...U,lineA:{...U.lineA,description:P.target.value}})}),!B&&u.jsx("button",{type:"button",onClick:()=>mt(P=>q({...U,lineA:{...U.lineA,description:P}}),U.lineA.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:u.jsx(kr,{className:"w-4 h-4"})})]})]})]}),u.jsxs("div",{className:"border rounded-xl p-4 bg-red-50/20 border-red-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-red-200 pb-2",children:[u.jsx("h3",{className:"font-bold text-red-800",children:"   B"}),u.jsx(bi,{active:U.lineB.active,onClick:()=>q({...U,lineB:{...U.lineB,active:!U.lineB.active}})})]}),U.lineB.active&&u.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(P=>u.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[u.jsx("span",{className:"text-sm",children:P.l}),u.jsx("input",{disabled:B,type:"checkbox",checked:U.lineB[P.k],onChange:G=>q({...U,lineB:{...U.lineB,[P.k]:G.target.checked}})})]},P.k)),u.jsxs("div",{className:"mt-4 relative",children:[u.jsx("label",{className:"block text-xs font-bold mb-1",children:"  B"}),u.jsx("textarea",{disabled:B,className:"w-full p-2 border rounded-lg h-20 text-xs",value:U.lineB.description,onChange:P=>q({...U,lineB:{...U.lineB,description:P.target.value}})}),!B&&u.jsx("button",{type:"button",onClick:()=>mt(P=>q({...U,lineB:{...U.lineB,description:P}}),U.lineB.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:u.jsx(kr,{className:"w-4 h-4"})})]})]})]})]}),r===6&&u.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB","reserve"].map(P=>{const G=W[P],H=P==="lineA"?"   A":P==="lineB"?"   B":"  ",Z=P==="lineA"?"blue":P==="lineB"?"red":"gray";return u.jsxs("div",{className:`border rounded-xl p-4 bg-${Z}-50/20 border-${Z}-100`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:`font-bold text-${Z}-800`,children:H}),u.jsx(bi,{active:G.active,onClick:()=>J({...W,[P]:{...G,active:!G.active}})})]}),G.active&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-slideDown",children:[u.jsx(Lb,{value:G.operator,onChange:ue=>J({...W,[P]:{...G,operator:ue}})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold mb-1 text-gray-500",children:" "}),u.jsx("div",{className:B?"pointer-events-none opacity-80":"",children:u.jsx(tn,{value:G.hours,onChange:ue=>{X(ue)&&J({...W,[P]:{...G,hours:ue}})}})})]}),u.jsx("div",{className:`col-span-2 ${B?"pointer-events-none opacity-90":""}`,children:u.jsx(DT,{title:H,selectedCloths:G.cloths,onChange:ue=>J({...W,[P]:{...G,cloths:ue}})})})]})]},P)})}),r===5&&u.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[u.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-blue-50/20 border-blue-100",children:[u.jsx("h3",{className:"font-bold mb-4 text-blue-800 sticky left-0",children:"  A"}),ne.lineA.map((P,G)=>u.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",G+1]}),u.jsx(bi,{active:P.active,onClick:()=>xi("lineA",G,"active",!P.active)})]}),P.active&&u.jsxs("div",{className:"animate-slideDown",children:[u.jsxs("div",{className:`flex gap-4 mb-4 ${B?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:P.hoursWorked,onChange:H=>xi("lineA",G,"hoursWorked",H)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:"  "}),u.jsx(tn,{value:P.channelOutput,onChange:H=>xi("lineA",G,"channelOutput",H)})]})]}),u.jsxs("table",{className:"w-full text-center text-xs border",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[u.jsx("th",{className:"p-2 border",children:""}),u.jsx("th",{className:"p-2 border",children:" (Bar)"}),u.jsx("th",{className:"p-2 border",children:"  (cm)"}),u.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),u.jsx("tbody",{children:LT.map(H=>{var Z,ue,ae;return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:H}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((Z=P.data[H])==null?void 0:Z.pressure)||"",onChange:ee=>_r("lineA",G,H,"pressure",ee.target.value)})}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((ue=P.data[H])==null?void 0:ue.jack)||"",onChange:ee=>_r("lineA",G,H,"jack",ee.target.value)})}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((ae=P.data[H])==null?void 0:ae.mudLine)||"",onChange:ee=>_r("lineA",G,H,"mudLine",ee.target.value)})})]},H)})})]})]})]},G))]}),u.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-red-50/20 border-red-100",children:[u.jsx("h3",{className:"font-bold mb-4 text-red-800 sticky left-0",children:"  B"}),ne.lineB.map((P,G)=>u.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",G+1]}),u.jsx(bi,{active:P.active,onClick:()=>xi("lineB",G,"active",!P.active)})]}),P.active&&u.jsxs("div",{className:"animate-slideDown",children:[u.jsxs("div",{className:`flex gap-4 mb-4 ${B?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:P.hoursWorked,onChange:H=>xi("lineB",G,"hoursWorked",H)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:"  "}),u.jsx(tn,{value:P.channelOutput,onChange:H=>xi("lineB",G,"channelOutput",H)})]})]}),u.jsxs("table",{className:"w-full text-center text-xs border",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[u.jsx("th",{className:"p-2 border",children:""}),u.jsx("th",{className:"p-2 border",children:" (Bar)"}),u.jsx("th",{className:"p-2 border",children:"  (cm)"}),u.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),u.jsx("tbody",{children:LT.map(H=>{var Z,ue,ae;return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:H}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((Z=P.data[H])==null?void 0:Z.pressure)||"",onChange:ee=>_r("lineB",G,H,"pressure",ee.target.value)})}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((ue=P.data[H])==null?void 0:ue.jack)||"",onChange:ee=>_r("lineB",G,H,"jack",ee.target.value)})}),u.jsx("td",{className:"p-1 border",children:u.jsx("input",{disabled:B,type:"number",min:"0",className:`w-full p-1 text-center bg-transparent outline-none ${B?"border-none":""}`,value:((ae=P.data[H])==null?void 0:ae.mudLine)||"",onChange:ee=>_r("lineB",G,H,"mudLine",ee.target.value)})})]},H)})})]})]})]},G))]})]}),r===7&&u.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB"].map(P=>u.jsxs("div",{className:`border rounded-xl p-4 ${P==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[u.jsx("h3",{className:`font-bold mb-4 ${P==="lineA"?"text-blue-800":"text-red-800"}`,children:P==="lineA"?"   A":"   B"}),ce[P==="lineA"?"lineA":"lineB"].map((G,H)=>u.jsxs("div",{className:"mb-4 border-b pb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold",children:["   ",H+1]}),u.jsx(bi,{active:G.active,onClick:()=>{const Z=[...ce[P==="lineA"?"lineA":"lineB"]];Z[H]={...G,active:!G.active},Ee({...ce,[P]:Z})}})]}),G.active&&u.jsxs("div",{className:"animate-slideDown",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsx(Lb,{value:G.operator,onChange:Z=>{const ue=[...ce[P==="lineA"?"lineA":"lineB"]];ue[H].operator=Z,Ee({...ce,[P]:ue})}}),u.jsxs("div",{className:B?"pointer-events-none opacity-80":"",children:[u.jsx("label",{className:"text-xs block mb-1 text-gray-500",children:" "}),u.jsx(tn,{value:G.hours,onChange:Z=>{if(X(Z)){const ue=[...ce[P==="lineA"?"lineA":"lineB"]];ue[H].hours=Z,Ee({...ce,[P]:ue})}}})]})]}),u.jsx("div",{className:B?"pointer-events-none opacity-90":"",children:u.jsx(DT,{title:`Rec Filter ${P==="lineA"?"A":"B"}-${H+1}`,selectedCloths:G.cloths,onChange:Z=>{const ue=[...ce[P==="lineA"?"lineA":"lineB"]];ue[H].cloths=Z,Ee({...ce,[P]:ue})}})})]})]},H))]},P))}),r===8&&u.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/20 p-4 rounded-xl border",children:[u.jsx("h3",{className:"font-bold mb-3 text-blue-700 dark:text-blue-300",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold mb-2",children:"  "}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(P=>u.jsx("button",{disabled:B,type:"button",onClick:()=>{const G=Te.process.includes(P)?Te.process.filter(H=>H!==P):[...Te.process,P];Me({...Te,process:G})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${Te.process.includes(P)?"bg-blue-600 text-white":"bg-white"} ${B?"cursor-not-allowed opacity-80":""}`,children:P},P))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold mb-2",children:"   "}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(P=>u.jsx("button",{disabled:B,type:"button",onClick:()=>{const G=Te.cleanWater.includes(P)?Te.cleanWater.filter(H=>H!==P):[...Te.cleanWater,P];Me({...Te,cleanWater:G})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${Te.cleanWater.includes(P)?"bg-blue-600 text-white":"bg-white"} ${B?"cursor-not-allowed opacity-80":""}`,children:P},P))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[u.jsx("h3",{className:"font-bold text-center mb-3 text-primary",children:"  A"}),u.jsxs("div",{className:`flex gap-2 mb-3 ${B?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:_e.lineA.workTime,onChange:P=>Dn("lineA","workTime",P)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:_e.lineA.stopTime,onChange:P=>Dn("lineA","stopTime",P)})]})]}),_e.lineA.stopTime&&_e.lineA.stopTime!=="00:00"&&u.jsx("textarea",{disabled:B,className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:_e.lineA.reason,onChange:P=>Be({..._e,lineA:{..._e.lineA,reason:P.target.value}})})]}),u.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[u.jsx("h3",{className:"font-bold text-center mb-3 text-red-600",children:"  B"}),u.jsxs("div",{className:`flex gap-2 mb-3 ${B?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:_e.lineB.workTime,onChange:P=>Dn("lineB","workTime",P)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(tn,{value:_e.lineB.stopTime,onChange:P=>Dn("lineB","stopTime",P)})]})]}),_e.lineB.stopTime&&_e.lineB.stopTime!=="00:00"&&u.jsx("textarea",{disabled:B,className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:_e.lineB.reason,onChange:P=>Be({..._e,lineB:{..._e.lineB,reason:P.target.value}})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-bold mb-2",children:"  /    "}),u.jsxs("div",{className:"space-y-2",children:[_e.generalDescription.map((P,G)=>u.jsxs("div",{className:"relative group",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-400 font-mono w-6 text-center",children:G+1}),u.jsx("textarea",{disabled:B,className:"w-full p-3 pl-12 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none h-20 resize-none disabled:bg-gray-100",placeholder:"...",value:P,onChange:H=>Ut("downtime",G,H.target.value)})]}),!B&&u.jsx("button",{type:"button",onClick:()=>el("downtime",G),className:"absolute top-2 left-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition",children:u.jsx(Jt,{className:"w-4 h-4"})}),!B&&u.jsx("button",{type:"button",onClick:()=>tl("downtime",G),className:`absolute left-2 bottom-2 p-1 rounded-full transition ${(s==null?void 0:s.section)==="downtime"&&s.index===G?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u.jsx(kr,{className:"w-4 h-4"})})]},G)),!B&&u.jsxs("button",{type:"button",onClick:()=>Lr("downtime"),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(xr,{className:"w-4 h-4"}),"   "]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-bold mb-2",children:"    "}),u.jsxs("div",{className:"space-y-2",children:[se.nextShiftActions.map((P,G)=>u.jsxs("div",{className:"relative group",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-400 font-mono w-6 text-center",children:G+1}),u.jsx("textarea",{disabled:B,className:"w-full p-3 pl-12 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none h-20 resize-none disabled:bg-gray-100",placeholder:"  ...",value:P,onChange:H=>Ut("footer",G,H.target.value)})]}),!B&&u.jsx("button",{type:"button",onClick:()=>el("footer",G),className:"absolute top-2 left-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition",children:u.jsx(Jt,{className:"w-4 h-4"})}),!B&&u.jsx("button",{type:"button",onClick:()=>tl("footer",G),className:`absolute left-2 bottom-2 p-1 rounded-full transition ${(s==null?void 0:s.section)==="footer"&&s.index===G?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u.jsx(kr,{className:"w-4 h-4"})})]},G)),!B&&u.jsxs("button",{type:"button",onClick:()=>Lr("footer"),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(xr,{className:"w-4 h-4"}),"   "]})]})]}),!B&&u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsxs("button",{type:"submit",disabled:o,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[o?u.jsx(Zr,{className:"w-6 h-6 animate-spin"}):u.jsx($s,{className:"w-6 h-6"}),"   "]})})]})]})]})},Pue=({enabled:t})=>{const[e,n]=N.useState([]);return N.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[u.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>u.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var Iue={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jue,Oue;function Rue(){return{geminiUrl:jue,vertexUrl:Oue}}function Mue(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Rue();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yi{}function de(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let c=0;c<l.length;c++){const d=l[c];g(d,e.slice(o+1),n[c])}else for(const c of l)g(c,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];g(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function $ue(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const c=o[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}Xv(t,i,o,0,a)}}function Xv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Xv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of s)l[c]=a[c];for(const[c,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(c):f.push(h);g(a,f,d)}for(const c of s)delete a[c]}}else{const a=t;o in a&&Xv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Due(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Lue(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],Bue(a)),e}function Uue(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response"]);return a!=null&&g(e,["response"],Fue(a)),e}function Bue(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>que(a))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Fue(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Vue(a))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function que(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],Jue(n)),e}function Vue(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],Yue(n)),e}function Gue(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Hue(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function zue(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response"]);return a!=null&&g(e,["response"],Wue(a)),e}function Wue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function gO(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response"]);return a!=null&&g(e,["response"],Kue(a)),e}function Kue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Jue(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Ab(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Yue(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Ab(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qT||(qT={}));var VT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(VT||(VT={}));var GT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(GT||(GT={}));var Ri;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ri||(Ri={}));var HT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HT||(HT={}));var zT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zT||(zT={}));var WT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(WT||(WT={}));var KT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(KT||(KT={}));var JT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(JT||(JT={}));var YT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(YT||(YT={}));var XT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(XT||(XT={}));var QT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(QT||(QT={}));var ZT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ZT||(ZT={}));var ek;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ek||(ek={}));var tk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tk||(tk={}));var nk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nk||(nk={}));var rk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rk||(rk={}));var ik;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ik||(ik={}));var ok;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ok||(ok={}));var xh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xh||(xh={}));var ak;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ak||(ak={}));var sk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sk||(sk={}));var lk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lk||(lk={}));var Qv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qv||(Qv={}));var uk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(uk||(uk={}));var ck;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ck||(ck={}));var dk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(dk||(dk={}));var fk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fk||(fk={}));var hk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hk||(hk={}));var pk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pk||(pk={}));var mk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(mk||(mk={}));var gk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gk||(gk={}));var yk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yk||(yk={}));var vk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vk||(vk={}));var xk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xk||(xk={}));var bk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bk||(bk={}));var wk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wk||(wk={}));var _k;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_k||(_k={}));var Sk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Sk||(Sk={}));var Ek;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ek||(Ek={}));var Tk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Tk||(Tk={}));var kk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kk||(kk={}));var Nk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Nk||(Nk={}));var Ak;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ak||(Ak={}));var Ck;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ck||(Ck={}));var Pk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Pk||(Pk={}));var Ik;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ik||(Ik={}));var jk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(jk||(jk={}));var Ok;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ok||(Ok={}));var Rk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rk||(Rk={}));var Mk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Mk||(Mk={}));var $k;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})($k||($k={}));var Dk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dk||(Dk={}));var Lk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Lk||(Lk={}));var Uk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Uk||(Uk={}));var Da;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Da||(Da={}));class Zv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bl{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Bk{}class Fk{}class Xue{}class Que{}class Zue{}class ece{}class qk{}class Vk{}class Gk{}class tce{}class bh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bh;let i;const o=e;return n?i=Uue(o):i=Lue(o),Object.assign(r,i),r}}class Hk{}class zk{}class Wk{}class Kk{}class nce{}class rce{}class ice{}class Cb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Cb,o=zue(e);return Object.assign(r,o),r}}class oce{}class ace{}class sce{}class Jk{}class lce{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uce{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Pb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Pb,o=gO(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yO(t,e){const n=Le(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function vO(t){return Array.isArray(t)?t.map(e=>wh(e)):[wh(t)]}function wh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function xO(t){const e=wh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bO(t){const e=wh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function wO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Yk(e)):[Yk(t)]}function e0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Xk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Qk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qt(t){if(t==null)throw new Error("ContentUnion is required");return e0(t)?t:{role:"user",parts:wO(t)}}function Ib(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Qt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Qt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qt(n)):[Qt(e)]}function Kn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Xk(t)||Qk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(t)]}const e=[],n=[],r=e0(t[0]);for(const i of t){const o=e0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Xk(i)||Qk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:wO(n)}),e}function cce(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ri).includes(n[0].toUpperCase())?n[0].toUpperCase():Ri.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ri).includes(r.toUpperCase())?r.toUpperCase():Ri.TYPE_UNSPECIFIED})}}function Ya(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&cce(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Ri).includes(s.toUpperCase())?s.toUpperCase():Ri.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ya(s);else if(r.includes(a)){const l=[];for(const c of s){if(c.type=="null"){e.nullable=!0;continue}l.push(Ya(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,d]of Object.entries(s))l[c]=Ya(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function jb(t){return Ya(t)}function Ob(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Rb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ya(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ya(e.response));return t}function Qs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function dce(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function vi(t,e){if(typeof e!="string")throw new Error("name must be a string");return dce(t,e,"cachedContents")}function _O(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ro(t){return Ab(t)}function fce(t){return t!=null&&typeof t=="object"&&"name"in t}function hce(t){return t!=null&&typeof t=="object"&&"video"in t}function pce(t){return t!=null&&typeof t=="object"&&"uri"in t}function SO(t){var e;let n;if(fce(t)&&(n=t.name),!(pce(t)&&(n=t.uri,n===void 0))&&!(hce(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function EO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function TO(t){for(const e of["models","tunedModels","publisherModels"])if(mce(t,e))return t[e];return[]}function mce(t,e){return t!==null&&typeof t=="object"&&e in t}function gce(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function yce(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=gce(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function kO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vce(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function NO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Zs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function AO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xce(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Zce(a))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["inlinedEmbedContentResponses"],o)}return e}function bce(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function wce(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ad(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],AO(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&g(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&g(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const c=p(t,["metadata","output"]);return c!=null&&g(e,["dest"],xce(NO(c))),e}function t0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],AO(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["createTime"]);a!=null&&g(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&g(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(e,["updateTime"],c);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],_ce(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],bce(NO(h)));const m=p(t,["completionStats"]);return m!=null&&g(e,["completionStats"],m),e}function _ce(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Sce(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qce(t,a))),g(n,["requests","requests"],o)}return n}function Ece(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tce(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function Nce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function Ace(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Cce(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Cce(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function CO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ade(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Pce(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Ice(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],wce(vce(i))),n}function Zk(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Sce(t,kO(t,i)));const o=p(e,["config"]);return o!=null&&Pce(o,n),n}function jce(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Le(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],Ece(kO(t,i)));const o=p(e,["config"]);return o!=null&&Ice(o,n),n}function Oce(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Rce(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Fce(t,i));const o=p(e,["config"]);return o!=null&&Oce(o,n),n}function Mce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function $ce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function Dce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function Lce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function Uce(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=Ib(t,r);Array.isArray(o)&&(o=o.map(a=>a)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],Bce(i,n)),$ue(n,{"requests[].*":"requests[].request.*"})),n}function Bce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fce(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],Uce(t,i)),n}function qce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Vce(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gce(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],CO(Qt(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&g(r,["topP"],a);const s=p(e,["topK"]);s!=null&&g(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const m=p(e,["presencePenalty"]);m!=null&&g(r,["presencePenalty"],m);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&g(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],jb(x));const b=p(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map($=>sde($))),g(n,["safetySettings"],L)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let L=Qs(E);Array.isArray(L)&&(L=L.map($=>ude(Xs($)))),g(n,["tools"],L)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],lde(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&g(n,["cachedContent"],vi(t,T));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&g(r,["speechConfig"],Ob(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=p(e,["thinkingConfig"]);O!=null&&g(r,["thinkingConfig"],O);const R=p(e,["imageConfig"]);R!=null&&g(r,["imageConfig"],Xce(R));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&g(r,["enableEnhancedCivicAnswers"],D),r}function zce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ace(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function Wce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function Kce(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zs(t,r)),n}function Jce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Yce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Xce(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qce(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(l=>CO(l))),g(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&g(n,["request","generationConfig"],Hce(t,a,p(n,["request"],{}))),n}function Zce(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],zce(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function ede(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function nde(t){const e={},n=p(t,["config"]);return n!=null&&ede(n,e),e}function rde(t){const e={},n=p(t,["config"]);return n!=null&&tde(n,e),e}function ide(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ad(a))),g(e,["batchJobs"],o)}return e}function ode(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>t0(a))),g(e,["batchJobs"],o)}return e}function ade(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],qce(o));const a=p(t,["functionCall"]);a!=null&&g(e,["functionCall"],Vce(a));const s=p(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Tce(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function sde(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function lde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],Gce(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function ude(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Jce(s));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Yce(l));const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ci;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ci||(ci={}));class ra{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cde extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ra(ci.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Zk(this.apiClient,e),r=n._url,i=de("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,c=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}c.push(f)}return s.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=jce(this.apiClient,e);return s=de("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>t0(d))}else{const c=Zk(this.apiClient,e);return s=de("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Ad(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rce(this.apiClient,e);return o=de("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ad(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Kce(this.apiClient,e);return s=de("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>t0(d))}else{const c=Wce(this.apiClient,e);return s=de("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Ad(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Nce(this.apiClient,e);a=de("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=kce(this.apiClient,e);a=de("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=rde(e);return s=de("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ode(d),h=new Jk;return Object.assign(h,f),h})}else{const c=nde(e);return s=de("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ide(d),h=new Jk;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=$ce(this.apiClient,e);return s=de("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Lce(d))}else{const c=Mce(this.apiClient,e);return s=de("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Dce(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dde(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function eN(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Rde(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function fde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=Kn(a);Array.isArray(d)&&(d=d.map(f=>eN(f))),g(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],eN(Qt(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>$de(f))),g(e,["tools"],d)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&g(e,["toolConfig"],Mde(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=Kn(a);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],Qt(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Dde(h))),g(e,["tools"],f)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&g(e,["toolConfig"],c);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function pde(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],yO(t,r));const i=p(e,["config"]);return i!=null&&fde(i,n),n}function mde(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],yO(t,r));const i=p(e,["config"]);return i!=null&&hde(i,n),n}function gde(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vi(t,r)),n}function yde(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vi(t,r)),n}function vde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function xde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function bde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wde(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _de(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Sde(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&g(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&g(e,["responseJsonSchema"],s),e}function Ede(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vi(t,r)),n}function Tde(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vi(t,r)),n}function kde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Nde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Ade(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Cde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Pde(t){const e={},n=p(t,["config"]);return n!=null&&Ade(n,e),e}function Ide(t){const e={},n=p(t,["config"]);return n!=null&&Cde(n,e),e}function jde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function Ode(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function Rde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],bde(o));const a=p(t,["functionCall"]);a!=null&&g(e,["functionCall"],wde(a));const s=p(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],dde(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Mde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],_de(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function $de(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],kde(s));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Nde(l));const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function Dde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Sde(h))),g(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Lde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Ude(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Bde(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],vi(t,r));const i=p(e,["config"]);return i!=null&&Lde(i,n),n}function Fde(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],vi(t,r));const i=p(e,["config"]);return i!=null&&Ude(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qde extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ra(ci.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=mde(this.apiClient,e);return s=de("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=pde(this.apiClient,e);return s=de("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Tde(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Ede(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=yde(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=xde(d),h=new Wk;return Object.assign(h,f),h})}else{const c=gde(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=vde(d),h=new Wk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Fde(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Bde(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Ide(e);return s=de("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ode(d),h=new Kk;return Object.assign(h,f),h})}else{const c=Pde(e);return s=de("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=jde(d),h=new Kk;return Object.assign(h,f),h})}}}function _h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function gr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(v){return Promise.resolve(v).then(m,f)}}function s(m,v){r[m]&&(i[m]=function(y){return new Promise(function(w,x){o.push([m,y,w,x])>1||l(m,y)})},v&&(i[m]=v(i[m])))}function l(m,v){try{c(r[m](v))}catch(y){h(o[0][3],y)}}function c(m){m.value instanceof ke?Promise.resolve(m.value.v).then(d,f):h(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tN=="function"?tN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:PO(n)}function PO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Gde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nN(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!PO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Hde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zde(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zde{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Gde(o)}async sendMessage(e){var n;await this.sendPromise;const r=Qt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,c=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const m=c?[c]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Qt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?nN(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return gr(this,arguments,function*(){var i,o,a,s,l,c;const d=[];try{for(var f=!0,h=yr(e),m;m=yield ke(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const v=s;if(Vde(v)){const y=(c=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;y!==void 0&&d.push(y)}yield yield ke(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield ke(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...nN(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Gp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wde(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function Kde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Jde(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],SO(n)),e}function Yde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Xde(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],SO(n)),e}function Qde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Zde(t){const e={},n=p(t,["config"]);return n!=null&&Qde(n,e),e}function efe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tfe extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ra(ci.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zde(e);return o=de("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=efe(l),d=new oce;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Wde(e);return o=de("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Kde(l),d=new ace;return Object.assign(d,c),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xde(e);return o=de("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jde(e);return o=de("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Yde(l),d=new sce;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cd(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nfe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vfe(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function rfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ife(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ofe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&g(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&g(e,["responseJsonSchema"],s),e}function afe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const m=p(t,["responseMimeType"]);m!=null&&g(e,["responseMimeType"],m);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&g(e,["responseSchema"],y);const w=p(t,["routingConfig"]);w!=null&&g(e,["routingConfig"],w);const x=p(t,["seed"]);x!=null&&g(e,["seed"],x);const b=p(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const _=p(t,["stopSequences"]);_!=null&&g(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&g(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&g(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&g(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function lfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ufe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],Rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const m=p(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],nfe(Qt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=Qs(y);Array.isArray(T)&&(T=T.map(k=>bfe(Xs(k)))),g(e,["setup","tools"],T)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],xfe(w));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=p(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&g(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cfe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],afe(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],Rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const m=p(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],Qt(v));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let k=Qs(y);Array.isArray(k)&&(k=k.map(A=>wfe(Xs(A)))),g(e,["setup","tools"],k)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],w);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=p(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&g(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const T=p(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&g(e,["setup","explicitVadSignal"],T),n}function dfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Le(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],ufe(i,n)),n}function ffe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Le(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],cfe(i,n)),n}function hfe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function pfe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function mfe(t){const e={},n=p(t,["media"]);if(n!=null){let c=vO(n);Array.isArray(c)&&(c=c.map(d=>Cd(d))),g(e,["mediaChunks"],c)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Cd(bO(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Cd(xO(o)));const a=p(t,["text"]);a!=null&&g(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function gfe(t){const e={},n=p(t,["media"]);if(n!=null){let c=vO(n);Array.isArray(c)&&(c=c.map(d=>d)),g(e,["mediaChunks"],c)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],bO(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],xO(o));const a=p(t,["text"]);a!=null&&g(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function yfe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&g(e,["usageMetadata"],_fe(a));const s=p(t,["goAway"]);s!=null&&g(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const c=p(t,["voiceActivityDetectionSignal"]);return c!=null&&g(e,["voiceActivityDetectionSignal"],c),e}function vfe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],rfe(o));const a=p(t,["functionCall"]);a!=null&&g(e,["functionCall"],ife(a));const s=p(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Cd(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function xfe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],sfe(s));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],lfe(l));const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function wfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>ofe(h))),g(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function _fe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&g(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&g(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["promptTokensDetails"],m)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["cacheTokensDetails"],m)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["responseTokensDetails"],m)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["toolUsePromptTokensDetails"],m)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sfe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Efe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Tfe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Tfe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function kfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let o=Kn(i);Array.isArray(o)&&(o=o.map(a=>a)),g(n,["contents"],o)}return n}function Nfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function Afe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],Cfe(r)),e}function Cfe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function Hp(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lhe(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Pfe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Ife(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jfe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Qt(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>RO(s))),g(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],She(o)),n}function Ofe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(s=>Hp(s))),g(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&Ife(o),n}function Rfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&jfe(o,n),n}function Mfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function $fe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Dfe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Le(t,r)),n}function Lfe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Le(t,r)),n}function Ufe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Bfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Ffe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&g(e,["parameters","addWatermark"],w);const x=p(t,["labels"]);e!==void 0&&x!=null&&g(e,["labels"],x);const b=p(t,["editMode"]);e!==void 0&&b!=null&&g(e,["parameters","editMode"],b);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&g(e,["parameters","editConfig","baseSteps"],_),n}function qfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Ghe(l))),g(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&Ffe(a,n),n}function Vfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>zp(o))),g(e,["generatedImages"],i)}return e}function Gfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Hfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&g(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&g(e,["parameters","autoTruncate"],s),n}function zfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let s=Ib(t,i);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&Gfe(o,n);const a=p(e,["model"]);return a!==void 0&&g(n,["requests[]","model"],Le(t,a)),n}function Wfe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let a=Ib(t,i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&Hfe(o,n),n}function Kfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Jfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Afe(a))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Yfe(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function Xfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Qfe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zfe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ehe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&g(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&g(e,["responseJsonSchema"],s),e}function the(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Hp(Qt(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&g(r,["topP"],a);const s=p(e,["topK"]);s!=null&&g(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const m=p(e,["presencePenalty"]);m!=null&&g(r,["presencePenalty"],m);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&g(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],jb(x));const b=p(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map($=>Hhe($))),g(n,["safetySettings"],L)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let L=Qs(E);Array.isArray(L)&&(L=L.map($=>Qhe(Xs($)))),g(n,["tools"],L)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],Xhe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&g(n,["cachedContent"],vi(t,T));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&g(r,["speechConfig"],Ob(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=p(e,["thinkingConfig"]);O!=null&&g(r,["thinkingConfig"],O);const R=p(e,["imageConfig"]);R!=null&&g(r,["imageConfig"],Ahe(R));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&g(r,["enableEnhancedCivicAnswers"],D),r}function nhe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Qt(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&g(r,["topP"],a);const s=p(e,["topK"]);s!=null&&g(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const m=p(e,["presencePenalty"]);m!=null&&g(r,["presencePenalty"],m);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&g(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],jb(x));const b=p(e,["responseJsonSchema"]);b!=null&&g(r,["responseJsonSchema"],b);const _=p(e,["routingConfig"]);_!=null&&g(r,["routingConfig"],_);const E=p(e,["modelSelectionConfig"]);E!=null&&g(r,["modelConfig"],E);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let F=S;Array.isArray(F)&&(F=F.map(U=>U)),g(n,["safetySettings"],F)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let F=Qs(T);Array.isArray(F)&&(F=F.map(U=>RO(Xs(U)))),g(n,["tools"],F)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&g(n,["toolConfig"],k);const A=p(e,["labels"]);n!==void 0&&A!=null&&g(n,["labels"],A);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],vi(t,C));const O=p(e,["responseModalities"]);O!=null&&g(r,["responseModalities"],O);const R=p(e,["mediaResolution"]);R!=null&&g(r,["mediaResolution"],R);const D=p(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],Ob(D));const L=p(e,["audioTimestamp"]);L!=null&&g(r,["audioTimestamp"],L);const $=p(e,["thinkingConfig"]);$!=null&&g(r,["thinkingConfig"],$);const j=p(e,["imageConfig"]);if(j!=null&&g(r,["imageConfig"],Che(j)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function rN(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(s=>Hp(s))),g(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],the(t,o,n)),n}function iN(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],nhe(t,o,n)),n}function oN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Efe(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function aN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function rhe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=p(t,["imageSize"]);if(e!==void 0&&m!=null&&g(e,["parameters","sampleImageSize"],m),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ihe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&g(e,["parameters","addWatermark"],w);const x=p(t,["labels"]);e!==void 0&&x!=null&&g(e,["labels"],x);const b=p(t,["imageSize"]);e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&g(e,["parameters","enhancePrompt"],_),n}function ohe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&rhe(o,n),n}function ahe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&ihe(o,n),n}function she(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>xhe(a))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],jO(i)),e}function lhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>zp(a))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],OO(i)),e}function uhe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&g(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&g(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],Wp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>dpe(m))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function che(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const m=p(t,["enhancePrompt"]);e!==void 0&&m!=null&&g(e,["parameters","enhancePrompt"],m);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&g(e,["instances[0]","lastFrame"],wr(y));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let _=w;Array.isArray(_)&&(_=_.map(E=>fpe(E))),g(e,["instances[0]","referenceImages"],_)}const x=p(t,["mask"]);e!==void 0&&x!=null&&g(e,["instances[0]","mask"],cpe(x));const b=p(t,["compressionQuality"]);return e!==void 0&&b!=null&&g(e,["parameters","compressionQuality"],b),n}function dhe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],mhe(a)),e}function fhe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response"]);return a!=null&&g(e,["response"],ghe(a)),e}function hhe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Wp(o));const a=p(e,["video"]);a!=null&&g(n,["instances[0]","video"],MO(a));const s=p(e,["source"]);s!=null&&yhe(s,n);const l=p(e,["config"]);return l!=null&&uhe(l,n),n}function phe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],wr(o));const a=p(e,["video"]);a!=null&&g(n,["instances[0]","video"],$O(a));const s=p(e,["source"]);s!=null&&vhe(s,n);const l=p(e,["config"]);return l!=null&&che(l,n),n}function mhe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>whe(a))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function ghe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>_he(a))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function yhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Wp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],MO(o)),n}function vhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],wr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],$O(o)),n}function xhe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],Phe(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],jO(i)),e}function zp(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],IO(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],OO(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function bhe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],IO(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function whe(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],lpe(n)),e}function _he(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],upe(n)),e}function She(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const m=p(t,["responseMimeType"]);m!=null&&g(e,["responseMimeType"],m);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&g(e,["responseSchema"],y);const w=p(t,["routingConfig"]);w!=null&&g(e,["routingConfig"],w);const x=p(t,["seed"]);x!=null&&g(e,["seed"],x);const b=p(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const _=p(t,["stopSequences"]);_!=null&&g(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&g(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&g(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&g(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ehe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Le(t,r)),n}function The(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Le(t,r)),n}function khe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Nhe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Ahe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Che(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function Phe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ro(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function IO(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ro(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Wp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ro(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ro(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Ihe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&g(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],EO(t,s)),r}function jhe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&g(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],EO(t,s)),r}function Ohe(t,e){const n={},r=p(e,["config"]);return r!=null&&Ihe(t,r,n),n}function Rhe(t,e){const n={},r=p(e,["config"]);return r!=null&&jhe(t,r,n),n}function Mhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=TO(i);Array.isArray(o)&&(o=o.map(a=>n0(a))),g(e,["models"],o)}return e}function $he(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=TO(i);Array.isArray(o)&&(o=o.map(a=>r0(a))),g(e,["models"],o)}return e}function Dhe(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function n0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const a=p(t,["_self"]);a!=null&&g(e,["tunedModelInfo"],Zhe(a));const s=p(t,["inputTokenLimit"]);s!=null&&g(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const c=p(t,["supportedGenerationMethods"]);c!=null&&g(e,["supportedActions"],c);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const m=p(t,["topK"]);m!=null&&g(e,["topK"],m);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function r0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>Yfe(h))),g(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&g(e,["labels"],s);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],epe(l));const c=p(t,["defaultCheckpointId"]);c!=null&&g(e,["defaultCheckpointId"],c);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function Lhe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],Xfe(o));const a=p(t,["functionCall"]);a!=null&&g(e,["functionCall"],Qfe(a));const s=p(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Sfe(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Uhe(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],wr(n)),e}function Bhe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&g(e,["parameters","addWatermark"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const m=p(t,["labels"]);return e!==void 0&&m!=null&&g(e,["labels"],m),n}function Fhe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["source"]);i!=null&&Vhe(i,n);const o=p(e,["config"]);return o!=null&&Bhe(o,n),n}function qhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zp(i))),g(e,["generatedImages"],r)}return e}function Vhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],wr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Uhe(s))),g(e,["instances[0]","productImages"],a)}return n}function Ghe(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],wr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],Dhe(o));const a=p(t,["controlImageConfig"]);a!=null&&g(e,["controlImageConfig"],Pfe(a));const s=p(t,["styleImageConfig"]);s!=null&&g(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function jO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function OO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function Hhe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function zhe(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],wr(n)),e}function Whe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&g(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function Khe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["source"]);i!=null&&Yhe(i,n);const o=p(e,["config"]);return o!=null&&Whe(o,n),n}function Jhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bhe(i))),g(e,["generatedMasks"],r)}return e}function Yhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],wr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],zhe(o)),n}function Xhe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],Zfe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function Qhe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],khe(s));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Nhe(l));const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function RO(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>ehe(h))),g(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&g(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Zhe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function epe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function tpe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function npe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function rpe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Le(t,r));const i=p(e,["config"]);return i!=null&&tpe(i,n),n}function ipe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["config"]);return i!=null&&npe(i,n),n}function ope(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&g(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&g(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const c=p(t,["enhanceInputImage"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const m=p(t,["mode"]);return e!==void 0&&m!=null&&g(e,["parameters","mode"],m),n}function ape(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Le(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],wr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&ope(a,n),n}function spe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>zp(o))),g(e,["generatedImages"],i)}return e}function lpe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ro(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function upe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ro(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function cpe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],wr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function dpe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Wp(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function fpe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],wr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function MO(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ro(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function $O(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ro(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hpe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function ppe(t){const e={},n=p(t,["config"]);return n!=null&&hpe(n,e),e}function mpe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function gpe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&mpe(r,e),e}function ype(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function vpe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function xpe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const a=p(t,["response"]);return a!=null&&g(e,["response"],wpe(a)),e}function bpe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&vpe(i,e),e}function wpe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function _pe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Spe(t){const e={},n=p(t,["config"]);return n!=null&&_pe(n,e),e}function Epe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["fileSearchStores"],o)}return e}function DO(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&g(e,["chunkingConfig"],a),n}function Tpe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&DO(r,e),e}function kpe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Npe="Content-Type",Ape="X-Server-Timeout",Cpe="User-Agent",i0="x-goog-api-client",Ppe="1.34.0",Ipe=`google-genai-sdk/${Ppe}`,jpe="v1beta1",Ope="v1beta";class Rpe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jpe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ope,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Mpe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await sN(i),new Zv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await sN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return gr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:d}=yield ke(i.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),w=y.status,x=y.code,b=`got status: ${w}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new Gp({message:b,status:x})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const w of l){const x=a.indexOf(w);x!==-1&&(h===-1||x<h)&&(h=x,m=w.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+m);const y=v.trim();if(y.startsWith(s)){const w=y.substring(s.length).trim();try{const x=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new Zv(x))}catch(x){throw new Error(`exception parsing stream chunk ${w}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Ipe+" "+this.clientOptions.userAgentExtra;return e[Cpe]=n,e[i0]=n,e[Npe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Ape,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},c=this.getFileName(e),d=de("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,c,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&DO(r,f);const h=await this.fetchUploadUrl(c,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function sN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Gp({message:i,status:n}):new Error(i)}}function Mpe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],d=s[l];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),s[l]=c)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $pe="mcp_used/unknown";let Dpe=!1;function LO(t){for(const e of t)if(Lpe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dpe}function UO(t){var e;const n=(e=t[i0])!==null&&e!==void 0?e:"";t[i0]=(n+` ${$pe}`).trimStart()}function Lpe(t){return t!==null&&typeof t=="object"&&t instanceof Mb}function Upe(t){return gr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ke(n.listTools({cursor:i}));for(const s of a.tools)yield yield ke(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Mb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Mb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,yr(Upe(d))),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),yce(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Bpe(t,e,n){const r=new uce;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Fpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Gpe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let c=()=>{};const d=new Promise(_=>{c=_}),f=e.callbacks,h=function(){c({})},m=this.apiClient,v={onopen:h,onmessage:_=>{Bpe(m,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,Vpe(a),v);y.connect(),await d;const b={setup:{model:Le(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new qpe(y,this.apiClient)}}class qpe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pfe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hfe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Da.PLAY)}pause(){this.sendPlaybackControl(Da.PAUSE)}stop(){this.sendPlaybackControl(Da.STOP)}resetContext(){this.sendPlaybackControl(Da.RESET_CONTEXT)}close(){this.conn.close()}}function Vpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Gpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hpe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function zpe(t,e,n){const r=new lce;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=yfe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Wpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Fpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&LO(e.config.tools)&&UO(f);const h=Xpe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let O="BidiGenerateContent",R="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",R="access_token"),d=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${O}?${R}=${C}`}let m=()=>{};const v=new Promise(C=>{m=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),m({})},x=this.apiClient,b={onopen:w,onmessage:C=>{zpe(x,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,Ype(h),b);_.connect(),await v;let E=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const C=this.apiClient.getProject(),O=this.apiClient.getLocation();E=`projects/${C}/locations/${O}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xh.AUDIO]}:e.config.responseModalities=[xh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],k=[];for(const C of T)if(this.isCallableTool(C)){const O=C;k.push(await O.tool())}else k.push(C);k.length>0&&(e.config.tools=k);const A={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=ffe(this.apiClient,A):S=dfe(this.apiClient,A),delete S.config,_.send(JSON.stringify(S)),new Jpe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Kpe={turnComplete:!0};class Jpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Kn(n.turns),e.isVertexAI()||(r=r.map(i=>Hp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Hpe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Kpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gfe(e)}:n={realtimeInput:mfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ype(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Xpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN=10;function uN(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xa(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Xa(t){return"callTool"in t&&typeof t.callTool=="function"}function Qpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Xa(i)))!==null&&r!==void 0?r:!1}function cN(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Xa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function dN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zpe extends yi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Qpe(n)||uN(n.config))return await this.generateContentInternal(l);const c=cN(n);if(c.length>0){const y=c.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=Kn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:lN;let v=0;for(;v<m&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,w=[];for(const x of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Xa(x)){const _=await x.callTool(d.functionCalls);w.push(..._)}v++,f={role:"user",parts:w},l.contents=Kn(l.contents),l.contents.push(y),l.contents.push(f),dN(l.config)&&(h.push(y),h.push(f))}return dN(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),uN(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=cN(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(c&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new ra(ci.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Xa(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&LO(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),UO(c),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Xa(a)){const s=a,l=await s.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:lN;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(c,d,f){return gr(this,arguments,function*(){for(var h,m,v,y,w,x;s<o;){a&&(s++,a=!1);const S=yield ke(c.processParamsMaybeAddMcpUsage(f)),T=yield ke(c.generateContentStreamInternal(S)),k=[],A=[];try{for(var b=!0,_=(m=void 0,yr(T)),E;E=yield ke(_.next()),h=E.done,!h;b=!0){y=E.value,b=!1;const C=y;if(yield yield ke(C),C.candidates&&(!((w=C.candidates[0])===null||w===void 0)&&w.content)){A.push(C.candidates[0].content);for(const O of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(O.functionCall.name)){const R=yield ke(d.get(O.functionCall.name).callTool([O.functionCall]));k.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!b&&!h&&(v=_.return)&&(yield ke(v.call(_)))}finally{if(m)throw m.error}}if(k.length>0){a=!0;const C=new bl;C.candidates=[{content:{role:"user",parts:k}}],yield yield ke(C);const O=[];O.push(...A),O.push({role:"user",parts:k});const R=Kn(f.contents).concat(O);f.contents=R}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=iN(this.apiClient,e);return s=de("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=aN(d),h=new bl;return Object.assign(h,f),h})}else{const c=rN(this.apiClient,e);return s=de("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=oN(d),h=new bl;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=iN(this.apiClient,e);return s=de("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return gr(this,arguments,function*(){var h,m,v,y;try{for(var w=!0,x=yr(f),b;b=yield ke(x.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const _=y,E=aN(yield ke(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new bl;Object.assign(S,E),yield yield ke(S)}}catch(_){m={error:_}}finally{try{!w&&!h&&(v=x.return)&&(yield ke(v.call(x)))}finally{if(m)throw m.error}}})})}else{const c=rN(this.apiClient,e);return s=de("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return gr(this,arguments,function*(){var h,m,v,y;try{for(var w=!0,x=yr(f),b;b=yield ke(x.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const _=y,E=oN(yield ke(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new bl;Object.assign(S,E),yield yield ke(S)}}catch(_){m={error:_}}finally{try{!w&&!h&&(v=x.return)&&(yield ke(v.call(x)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Wfe(this.apiClient,e);return s=de("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Jfe(d),h=new Bk;return Object.assign(h,f),h})}else{const c=zfe(this.apiClient,e);return s=de("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Kfe(d),h=new Bk;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=ahe(this.apiClient,e);return s=de("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lhe(d),h=new Fk;return Object.assign(h,f),h})}else{const c=ohe(this.apiClient,e);return s=de("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=she(d),h=new Fk;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=qfe(this.apiClient,e);return o=de("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Vfe(l),d=new Xue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ape(this.apiClient,e);return o=de("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=spe(l),d=new Que;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Fhe(this.apiClient,e);return o=de("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=qhe(l),d=new Zue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Khe(this.apiClient,e);return o=de("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Jhe(l),d=new ece;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=The(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>r0(d))}else{const c=Ehe(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>n0(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Rhe(this.apiClient,e);return s=de("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=$he(d),h=new qk;return Object.assign(h,f),h})}else{const c=Ohe(this.apiClient,e);return s=de("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mhe(d),h=new qk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=ipe(this.apiClient,e);return s=de("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>r0(d))}else{const c=rpe(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>n0(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Lfe(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Bfe(d),h=new Vk;return Object.assign(h,f),h})}else{const c=Dfe(this.apiClient,e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ufe(d),h=new Vk;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Rfe(this.apiClient,e);return s=de("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=$fe(d),h=new Gk;return Object.assign(h,f),h})}else{const c=Ofe(this.apiClient,e);return s=de("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mfe(d),h=new Gk;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=kfe(this.apiClient,e);return o=de("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Nfe(l),d=new tce;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=phe(this.apiClient,e);return s=de("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=fhe(d),h=new bh;return Object.assign(h,f),h})}else{const c=hhe(this.apiClient,e);return s=de("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=dhe(d),h=new bh;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eme extends yi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Hue(e);return s=de("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const c=Gue(e);return s=de("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Due(e);return o=de("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tme(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nme(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dme(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function rme(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&g(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&g(n,["bidiGenerateContentSetup"],cme(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function ime(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],rme(t,r,n)),n}function ome(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ame(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sme(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function lme(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ume(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],Rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const m=p(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],nme(Qt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=Qs(y);Array.isArray(T)&&(T=T.map(k=>hme(Xs(k)))),g(e,["setup","tools"],T)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],fme(w));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=p(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&g(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Le(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],ume(i,n)),n}function dme(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],ome(o));const a=p(t,["functionCall"]);a!=null&&g(e,["functionCall"],ame(a));const s=p(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],tme(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function fme(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hme(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&g(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],sme(s));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],lme(l));const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pme(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function mme(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=pme(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class gme extends yi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=ime(this.apiClient,e);o=de("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=mme(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yme(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function vme(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&yme(r,e),e}function xme(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function bme(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function wme(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&bme(r,e),e}function _me(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sme extends yi{constructor(e){super(),this.apiClient=e,this.list=async n=>new ra(ci.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xme(e);return o=de("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vme(e);i=de("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wme(e);return o=de("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=_me(l),d=new nce;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eme extends yi{constructor(e,n=new Sme(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ra(ci.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ppe(e);return o=de("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ype(e);return o=de("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gpe(e);i=de("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Spe(e);return o=de("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Epe(l),d=new rce;return Object.assign(d,c),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tpe(e);return o=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=kpe(l),d=new ice;return Object.assign(d,c),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bpe(e);return o=de("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=xpe(l),d=new Cb;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let BO=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return BO=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Tme=()=>BO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const a0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qn extends Error{}class un extends Qn{constructor(e,n,r,i){super(`${un.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Kp({message:r,cause:a0(n)});const o=n;return e===400?new qO(e,o,r,i):e===401?new VO(e,o,r,i):e===403?new GO(e,o,r,i):e===404?new HO(e,o,r,i):e===409?new zO(e,o,r,i):e===422?new WO(e,o,r,i):e===429?new KO(e,o,r,i):e>=500?new JO(e,o,r,i):new un(e,o,r,i)}}class s0 extends un{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Kp extends un{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class FO extends Kp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class qO extends un{}class VO extends un{}class GO extends un{}class HO extends un{}class zO extends un{}class WO extends un{}class KO extends un{}class JO extends un{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kme=/^[a-z][a-z0-9+.-]*:/i,Nme=t=>kme.test(t);let l0=t=>(l0=Array.isArray,l0(t));const Ame=l0;let Cme=Ame;const fN=Cme;function Pme(t){if(!t)return!0;for(const e in t)return!1;return!0}function Ime(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const jme=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Qn(`${t} must be an integer`);if(e<0)throw new Qn(`${t} must be a positive integer`);return e},Ome=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rme=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const va="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $me=()=>{var t,e,n,r,i;const o=Mme();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":pN(Deno.build.os),"X-Stainless-Arch":hN(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":pN((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":hN((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Dme();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Dme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const hN=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",pN=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let cd;const Lme=()=>cd??(cd=$me());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ume(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function YO(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Bme(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return YO({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function XO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Fme(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qme=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QO=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hg(t,e,n){return QO(),new File(t,e??"unknown_file",n)}function Vme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Gme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Hme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ZO(t),zme=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Wme(t,e,n){if(QO(),t=await t,Hme(t))return t instanceof File?t:hg([await t.arrayBuffer()],t.name);if(zme(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hg(await u0(i),e,n)}const r=await u0(t);if(e||(e=Vme(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return hg(r,e,n)}async function u0(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(ZO(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(Gme(t))try{for(var s=!0,l=yr(t),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const d=i;a.push(...await u0(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Kme(t)}`)}return a}function Kme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eR{constructor(e){this._client=e}}eR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mN=Object.freeze(Object.create(null)),Jme=(t=tR)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var m,v,y;/[?#]/.test(f)&&(i=!0);const w=r[h];let x=(i?encodeURIComponent:t)(""+w);return h!==r.length&&(w==null||typeof w=="object"&&w.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:mN))!==null&&v!==void 0?v:mN))===null||y===void 0?void 0:y.toString))&&(x=w+"",o.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(s))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,m)=>{const v=" ".repeat(m.start-d),y="^".repeat(m.length);return d=m.start+m.length,h+v+y},"");throw new Qn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},dd=Jme(tR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nR extends eR{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=_h(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Qn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Qn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(dd`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(dd`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(dd`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=_h(o,["api_version"]);return this._client.get(dd`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}nR._key=Object.freeze(["interactions"]);class rR extends nR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yme(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let fd;function $b(t){let e;return(fd??(e=new globalThis.TextEncoder,fd=e.encode.bind(e)))(t)}let hd;function gN(t){let e;return(hd??(e=new globalThis.TextDecoder,hd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?$b(e):e;this.buffer=Yme([this.buffer,n]);const r=[];let i;for(;(i=Xme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(gN(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=gN(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Jp.NEWLINE_CHARS=new Set([`
`,"\r"]);Jp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Xme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Qme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sh={off:0,error:200,warn:300,info:400,debug:500},yN=(t,e,n)=>{if(t){if(Ime(Sh,t))return t;nn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Sh))}`)}};function Al(){}function pd(t,e,n){return!e||Sh[t]>Sh[n]?Al:e[t].bind(e)}const Zme={error:Al,warn:Al,info:Al,debug:Al};let vN=new WeakMap;function nn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Zme;const i=vN.get(n);if(i&&i[0]===r)return i[1];const o={error:pd("error",n,r),warn:pd("warn",n,r),info:pd("info",n,r),debug:pd("debug",n,r)};return vN.set(n,[r,o]),o}const yo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?nn(r):console;function a(){return gr(this,arguments,function*(){var l,c,d,f;if(i)throw new Qn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=yr(ege(e,n)),y;y=yield ke(v.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const w=f;if(!h)if(w.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ke(JSON.parse(w.data))}catch(x){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),x}}}catch(w){c={error:w}}finally{try{!m&&!l&&(d=v.return)&&(yield ke(d.call(v)))}finally{if(c)throw c.error}}h=!0}catch(w){if(o0(w))return yield ke(void 0);throw w}finally{h||n.abort()}})}return new La(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return gr(this,arguments,function*(){var l,c,d,f;const h=new Jp,m=XO(e);try{for(var v=!0,y=yr(m),w;w=yield ke(y.next()),l=w.done,!l;v=!0){f=w.value,v=!1;const x=f;for(const b of h.decode(x))yield yield ke(b)}}catch(x){c={error:x}}finally{try{!v&&!l&&(d=y.return)&&(yield ke(d.call(y)))}finally{if(c)throw c.error}}for(const x of h.flush())yield yield ke(x)})}function a(){return gr(this,arguments,function*(){var l,c,d,f;if(i)throw new Qn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=yr(o()),y;y=yield ke(v.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const w=f;h||w&&(yield yield ke(JSON.parse(w)))}}catch(w){c={error:w}}finally{try{!m&&!l&&(d=v.return)&&(yield ke(d.call(v)))}finally{if(c)throw c.error}}h=!0}catch(w){if(o0(w))return yield ke(void 0);throw w}finally{h||n.abort()}})}return new La(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new La(()=>i(e),this.controller,this.client),new La(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return YO({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=$b(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ege(t,e){return gr(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Qn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Qn("Attempted to iterate over a response with no body");const s=new nge,l=new Jp,c=XO(t.body);try{for(var d=!0,f=yr(tge(c)),h;h=yield ke(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const m=a;for(const v of l.decode(m)){const y=s.decode(v);y&&(yield yield ke(y))}}}catch(m){i={error:m}}finally{try{!d&&!r&&(o=f.return)&&(yield ke(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const v=s.decode(m);v&&(yield yield ke(v))}})}function tge(t){return gr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=yr(t),c;c=yield ke(l.next()),n=c.done,!n;s=!0){o=c.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?$b(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=Qme(a))!==-1;)yield yield ke(a.slice(0,m)),a=a.slice(m)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield ke(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ke(a))})}class nge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=rge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function rge(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ige(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return nn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):La.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return nn(t).debug(`[${r}] response parsed`,yo({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Db extends Promise{constructor(e,n,r=ige){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Db(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iR=Symbol("brand.privateNullableHeaders");function*oge(t){if(!t)return;if(iR in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():fN(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=fN(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const wl=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of oge(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[iR]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pg=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=Iue)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oR;class Yp{constructor(e){var n,r,i,o,a,s,l,{baseURL:c=pg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=pg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=_h(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Yp.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=yN(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:yN(pg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:Ume(),this.encoder=qme,this._options=m,this.apiKey=d,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=wl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return wl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Qn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${va}`}defaultIdempotencyKey(){return`stainless-node-retry-${Tme()}`}makeStatusError(e,n,r,i){return un.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Nme(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Pme(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Db(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:c,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(c,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(nn(this).debug(`[${h}] sending request`,yo({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:c.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new s0;const y=new AbortController,w=await this.fetchWithTimeout(d,c,f,y).catch(a0),x=Date.now();if(w instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new s0;const E=o0(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return nn(this).info(`[${h}] connection ${E?"timed out":"failed"} - ${_}`),nn(this).debug(`[${h}] connection ${E?"timed out":"failed"} (${_})`,yo({retryOfRequestLogID:r,url:d,durationMs:x-v,message:w.message})),this.retryRequest(s,n,r??h);throw nn(this).info(`[${h}] connection ${E?"timed out":"failed"} - error; no more retries left`),nn(this).debug(`[${h}] connection ${E?"timed out":"failed"} (error; no more retries left)`,yo({retryOfRequestLogID:r,url:d,durationMs:x-v,message:w.message})),E?new FO:new Kp({cause:w})}const b=`[${h}${m}] ${c.method} ${d} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${x-v}ms`;if(!w.ok){const _=await this.shouldRetry(w);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await Fme(w.body),nn(this).info(`${b} - ${C}`),nn(this).debug(`[${h}] response error (${C})`,yo({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:x-v})),this.retryRequest(s,n,r??h,w.headers)}const E=_?"error; no more retries left":"error; not retryable";nn(this).info(`${b} - ${E}`);const S=await w.text().catch(C=>a0(C).message),T=Ome(S),k=T?void 0:S;throw nn(this).debug(`[${h}] response error (${E})`,yo({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(w.status,T,k,w.headers)}return nn(this).info(b),nn(this).debug(`[${h}] response start`,yo({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:x-v})),{response:w,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=_h(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,c)}return await Rme(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:c,defaultBaseURL:d}=a,f=this.buildURL(l,c,d);"timeout"in a&&jme("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=wl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Lme()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=wl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Bme(e)}:this.encoder({body:e,headers:r})}}Yp.DEFAULT_TIMEOUT=6e4;class Lt extends Yp{constructor(){super(...arguments),this.interactions=new rR(this)}}oR=Lt;Lt.GeminiNextGenAPIClient=oR;Lt.GeminiNextGenAPIClientError=Qn;Lt.APIError=un;Lt.APIConnectionError=Kp;Lt.APIConnectionTimeoutError=FO;Lt.APIUserAbortError=s0;Lt.NotFoundError=HO;Lt.ConflictError=zO;Lt.RateLimitError=KO;Lt.BadRequestError=qO;Lt.AuthenticationError=VO;Lt.InternalServerError=JO;Lt.PermissionDeniedError=GO;Lt.UnprocessableEntityError=WO;Lt.toFile=Wme;Lt.Interactions=rR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function age(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function sge(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function lge(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function uge(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function cge(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function dge(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=p(t,["validationDataset"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec"],xN(m))}else if(i==="PREFERENCE_TUNING"){const m=p(t,["validationDataset"]);e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec"],xN(m))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=p(t,["epochCount"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=p(t,["epochCount"]);e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=p(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=p(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=p(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=p(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=p(t,["adapterSize"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=p(t,["adapterSize"]);e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function fge(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Sge(o);const a=p(t,["config"]);return a!=null&&cge(a,n),n}function hge(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Ege(o,n,e);const a=p(t,["config"]);return a!=null&&dge(a,n,e),n}function pge(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mge(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function gge(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),r}function yge(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),r}function vge(t,e){const n={},r=p(t,["config"]);return r!=null&&gge(r,n),n}function xge(t,e){const n={},r=p(t,["config"]);return r!=null&&yge(r,n),n}function bge(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>aR(s))),g(n,["tuningJobs"],a)}return n}function wge(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>c0(s))),g(n,["tuningJobs"],a)}return n}function _ge(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function Sge(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function Ege(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function aR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],_O(o));const a=p(t,["createTime"]);a!=null&&g(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&g(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],_ge(h)),n}function c0(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],_O(o));const a=p(t,["createTime"]);a!=null&&g(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&g(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const m=p(t,["tunedModel"]);m!=null&&g(n,["tunedModel"],m);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const y=p(t,["supervisedTuningSpec"]);y!=null&&g(n,["supervisedTuningSpec"],y);const w=p(t,["preferenceOptimizationSpec"]);w!=null&&g(n,["preferenceOptimizationSpec"],w);const x=p(t,["tuningDataStats"]);x!=null&&g(n,["tuningDataStats"],x);const b=p(t,["encryptionSpec"]);b!=null&&g(n,["encryptionSpec"],b);const _=p(t,["partnerModelTuningSpec"]);_!=null&&g(n,["partnerModelTuningSpec"],_);const E=p(t,["customBaseModel"]);E!=null&&g(n,["customBaseModel"],E);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const T=p(t,["labels"]);T!=null&&g(n,["labels"],T);const k=p(t,["outputUri"]);k!=null&&g(n,["outputUri"],k);const A=p(t,["pipelineJob"]);A!=null&&g(n,["pipelineJob"],A);const C=p(t,["serviceAccount"]);C!=null&&g(n,["serviceAccount"],C);const O=p(t,["tunedModelDisplayName"]);O!=null&&g(n,["tunedModelDisplayName"],O);const R=p(t,["veoTuningSpec"]);return R!=null&&g(n,["veoTuningSpec"],R),n}function Tge(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const a=p(t,["done"]);a!=null&&g(n,["done"],a);const s=p(t,["error"]);return s!=null&&g(n,["error"],s),n}function xN(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kge extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ra(ci.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Qv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=mge(e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>c0(d))}else{const c=pge(e);return s=de("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>aR(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=xge(e);return s=de("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=wge(d),h=new Hk;return Object.assign(h,f),h})}else{const c=vge(e);return s=de("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=bge(d),h=new Hk;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=sge(e);return s=de("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=uge(d),h=new zk;return Object.assign(h,f),h})}else{const c=age(e);return s=de("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lge(d),h=new zk;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=hge(e,e);return o=de("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>c0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fge(e);return o=de("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Tge(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nge{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Age=1024*1024*8,Cge=3,Pge=1e3,Ige=2,Eh="x-goog-upload-status";async function jge(t,e,n){var r;const i=await sR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Oge(t,e,n){var r;const i=await sR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=gO(o),s=new Pb;return Object.assign(s,a),s}async function sR(t,e,n){var r,i;let o=0,a=0,s=new Zv(new Response),l="upload";for(o=t.size;a<o;){const c=Math.min(Age,o-a),d=t.slice(a,a+c);a+c>=o&&(l+=", finalize");let f=0,h=Pge;for(;f<Cge&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Eh]));)f++,await Mge(h),h=h*Ige;if(a+=c,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Eh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Rge(t){return{size:t.size,type:t.type}}function Mge(t){return new Promise(e=>setTimeout(e,t))}class $ge{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jge(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Oge(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rge(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dge{create(e,n,r){return new Lge(e,n,r)}}class Lge{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bN="x-goog-api-key";class Uge{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(bN)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bN,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bge="gl-node/";class Fge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Mue(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Uge(this.apiKey);this.apiClient=new Rpe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Bge+"web",uploader:new $ge,downloader:new Nge}),this.models=new Zpe(this.apiClient),this.live=new Wpe(this.apiClient,i,new Dge),this.batches=new cde(this.apiClient),this.chats=new Hde(this.models,this.apiClient),this.caches=new qde(this.apiClient),this.files=new tfe(this.apiClient),this.operations=new eme(this.apiClient),this.authTokens=new gme(this.apiClient),this.tunings=new kge(this.apiClient),this.fileSearchStores=new Eme(this.apiClient)}}const qge=({user:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState(""),[o,a]=N.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=N.useState(!1),c=N.useRef(null);N.useEffect(()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{try{const{data:h}=await wt.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),m=(h||[]).map(x=>{const b=x.data||{};return{code:x.tracking_code,title:x.title,status:b.status||x.status,equipment:b.equipName||"",failure:b.failureDesc,date:x.created_at,requester:b.requester}}),{data:v}=await wt.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),y=(v||[]).map(x=>{const b=x.data||{};return{part:b.partName,qty:b.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:m,activePartsRequests:y})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!r.trim())return;const m={id:Date.now().toString(),role:"user",text:r};a(v=>[...v,m]),i(""),l(!0);try{const v=new Fge({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await v.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(b=>[...b,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(v){console.error("AI Error:",v);let y=`: ${v.message||"      ."}`;v.message&&v.message.toLowerCase().includes("failed to fetch")?y=`        .

         (VPN)        .`:v.message&&(v.message.includes("403")||v.message.includes("400"))&&(y="  API        ."),a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:y}])}finally{l(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?u.jsx(en,{className:"w-6 h-6"}):u.jsx(GD,{className:"w-7 h-7"})}),e&&u.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[u.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:u.jsx(vL,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold",children:" "}),u.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>u.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:u.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[u.jsx(Zr,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),u.jsx("div",{ref:c})]}),u.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[u.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),u.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:u.jsx(cf,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},Vge=()=>{const[t,e]=N.useState(0);return N.useEffect(()=>{const n=setInterval(()=>{e(r=>{if(r===100)return clearInterval(n),100;const i=Math.random()*10;return Math.min(r+i,100)})},150);return()=>{clearInterval(n)}},[]),u.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),u.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[u.jsxs("div",{className:"relative w-40 h-40 mb-8",children:[u.jsx("div",{className:"absolute inset-0 animate-spin-slow opacity-20",children:u.jsx("div",{className:"w-full h-full border-4 border-dashed border-primary rounded-full"})}),u.jsx("div",{className:"w-full h-full p-4 animate-bounce-gentle",children:u.jsx(vx,{className:"w-full h-full drop-shadow-2xl"})})]}),u.jsx("h1",{className:"text-2xl font-black text-[#800020] dark:text-red-400 mb-2 tracking-wide animate-fadeIn",children:" "}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-8 animate-fadeIn delay-100",children:"    "}),u.jsx("div",{className:"w-64 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden relative",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-600 rounded-full transition-all duration-300 ease-out relative",style:{width:`${t}%`},children:u.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-full bg-gradient-to-l from-transparent via-white/30 to-transparent transform -skew-x-12 translate-x-full animate-shimmer"})})}),u.jsxs("span",{className:"mt-2 text-[10px] text-gray-400 font-mono tracking-widest",children:[Math.round(t),"%"]})]}),u.jsx("style",{children:`
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes shimmer {
            100% { transform: translateX(-100%); }
        }
        .animate-spin-slow {
            animation: spin-slow 10s linear infinite;
        }
        .animate-bounce-gentle {
            animation: bounce-gentle 3s ease-in-out infinite;
        }
        .animate-shimmer {
            animation: shimmer 1.5s infinite;
        }
      `})]})},wN=300*1e3,Gge=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(()=>{try{const m=localStorage.getItem("lastActivityTime");if(m&&Date.now()-parseInt(m,10)>wN)return localStorage.removeItem("currentUser"),null;const v=localStorage.getItem("currentUser");return v?JSON.parse(v):null}catch(m){return console.error("Failed to parse user from local storage",m),localStorage.removeItem("currentUser"),null}}),[i,o]=N.useState(()=>localStorage.getItem("theme")==="dark"),[a,s]=N.useState(()=>localStorage.getItem("snowMode")==="true"),l=N.useRef(null);N.useEffect(()=>{const m=setTimeout(()=>{e(!1)},2500);return()=>clearTimeout(m)},[]);const c=N.useCallback((m=!1)=>{if(n){const v={id:Vi(),userName:n.fullName,personnelCode:n.personnelCode||"---",action:m?"  ( )":"  ",date:st(),time:mu(),ip:l_},y=localStorage.getItem("theme"),w=localStorage.getItem("snowMode"),x=localStorage.getItem("system_logs");localStorage.clear(),y&&localStorage.setItem("theme",y),w&&localStorage.setItem("snowMode",w),x&&localStorage.setItem("system_logs",x);const b=x?JSON.parse(x):[];b.push(v),localStorage.setItem("system_logs",JSON.stringify(b))}r(null),m&&alert("               .")},[n]),d=N.useCallback(()=>{n&&(localStorage.setItem("lastActivityTime",Date.now().toString()),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{c(!0)},wN))},[n,c]);N.useEffect(()=>{if(!n)return;const m=["mousedown","mousemove","keydown","scroll","touchstart"],v=()=>d();return m.forEach(y=>document.addEventListener(y,v)),d(),()=>{m.forEach(y=>document.removeEventListener(y,v)),l.current&&clearTimeout(l.current)}},[n,d]),N.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),N.useEffect(()=>{localStorage.setItem("snowMode",String(a))},[a]);const f=m=>{r(m),localStorage.setItem("currentUser",JSON.stringify(m)),localStorage.setItem("lastActivityTime",Date.now().toString());const v={id:Vi(),userName:m.fullName,personnelCode:m.personnelCode||(m.username==="admin"?"9999":"0000"),action:"  ",date:st(),time:mu(),ip:l_,details:`Role: ${m.role}`},y=JSON.parse(localStorage.getItem("system_logs")||"[]");y.push(v),localStorage.setItem("system_logs",JSON.stringify(y))},h=m=>{r(m),localStorage.setItem("currentUser",JSON.stringify(m))};return t?u.jsx(Vge,{}):u.jsxs(MD,{children:[u.jsx(Pue,{enabled:a}),n&&u.jsx(qge,{user:n}),u.jsx(k5,{user:n,onLogout:()=>c(!1),darkMode:i,toggleDarkMode:()=>o(!i),children:u.jsxs(jD,{children:[u.jsx(gt,{path:"/login",element:n?u.jsx(vt,{to:"/"}):u.jsx(A5,{onLogin:f})}),u.jsx(gt,{path:"/",element:n?u.jsx(cue,{}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/inbox",element:n?u.jsx(Eue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/messages",element:n?u.jsx(Tue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/reports",element:n?u.jsx(Nue,{}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/shift-report",element:n?u.jsx(Cue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/work-orders",element:n?u.jsx(hue,{}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/work-orders/new",element:n?u.jsx(Nb,{}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/projects",element:n?u.jsx(_ue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/performance",element:n?u.jsx(Sue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/part-requests",element:n?u.jsx(gue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/inspections",element:n?u.jsx(mue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/documents",element:n?u.jsx(yue,{}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/meetings",element:n?u.jsx(vue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/suggestions",element:n?u.jsx(xue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/purchases",element:n?u.jsx(bue,{user:n}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"/workflow-designer",element:(n==null?void 0:n.role)===pn.ADMIN?u.jsx(kue,{}):u.jsx(vt,{to:"/"})}),u.jsx(gt,{path:"/admin",element:(n==null?void 0:n.role)===pn.ADMIN?u.jsx(fue,{}):u.jsx(vt,{to:"/"})}),u.jsx(gt,{path:"/settings",element:n?u.jsx(wue,{user:n,onUpdateUser:h,snowMode:a,setSnowMode:s}):u.jsx(vt,{to:"/login"})}),u.jsx(gt,{path:"*",element:u.jsx(vt,{to:"/"})})]})})]})};class Hge extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?u.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[u.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),u.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),u.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),u.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const lR=document.getElementById("root");if(!lR)throw new Error("Failed to find the root element");const zge=mg.createRoot(lR);zge.render(u.jsx(M.StrictMode,{children:u.jsx(Hge,{children:u.jsx(Gge,{})})}));
