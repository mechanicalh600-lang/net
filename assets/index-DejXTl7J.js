function sR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bk={exports:{}},jh={},wk={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),lR=Symbol.for("react.portal"),uR=Symbol.for("react.fragment"),cR=Symbol.for("react.strict_mode"),dR=Symbol.for("react.profiler"),fR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),mR=Symbol.for("react.suspense"),gR=Symbol.for("react.memo"),yR=Symbol.for("react.lazy"),qb=Symbol.iterator;function vR(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var _k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sk=Object.assign,Ek={};function Fs(t,e,n){this.props=t,this.context=e,this.refs=Ek,this.updater=n||_k}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nk(){}Nk.prototype=Fs.prototype;function g0(t,e,n){this.props=t,this.context=e,this.refs=Ek,this.updater=n||_k}var y0=g0.prototype=new Nk;y0.constructor=g0;Sk(y0,Fs.prototype);y0.isPureReactComponent=!0;var Vb=Array.isArray,Tk=Object.prototype.hasOwnProperty,v0={current:null},kk={key:!0,ref:!0,__self:!0,__source:!0};function Ak(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Tk.call(e,r)&&!kk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:fc,type:t,key:o,ref:a,props:i,_owner:v0.current}}function xR(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x0(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function bR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gb=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bR(""+t.key):e.toString(36)}function Ed(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fc:case lR:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+am(a,0):r,Vb(i)?(n="",t!=null&&(n=t.replace(Gb,"$&/")+"/"),Ed(i,e,n,"",function(c){return c})):i!=null&&(x0(i)&&(i=xR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Vb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+am(o,s);a+=Ed(o,e,n,l,i)}else if(l=vR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+am(o,s++),a+=Ed(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Lc(t,e,n){if(t==null)return t;var r=[],i=0;return Ed(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Nd={transition:null},_R={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:v0};function Ck(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Lc,forEach:function(t,e,n){Lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lc(t,function(){e++}),e},toArray:function(t){return Lc(t,function(e){return e})||[]},only:function(t){if(!x0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Fs;Me.Fragment=uR;Me.Profiler=dR;Me.PureComponent=g0;Me.StrictMode=cR;Me.Suspense=mR;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_R;Me.act=Ck;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=v0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Tk.call(e,l)&&!kk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:fc,type:t.type,key:i,ref:o,props:r,_owner:a}};Me.createContext=function(t){return t={$$typeof:hR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fR,_context:t},t.Consumer=t};Me.createElement=Ak;Me.createFactory=function(t){var e=Ak.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:pR,render:t}};Me.isValidElement=x0;Me.lazy=function(t){return{$$typeof:yR,_payload:{_status:-1,_result:t},_init:wR}};Me.memo=function(t,e){return{$$typeof:gR,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};Me.unstable_act=Ck;Me.useCallback=function(t,e){return mn.current.useCallback(t,e)};Me.useContext=function(t){return mn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return mn.current.useEffect(t,e)};Me.useId=function(){return mn.current.useId()};Me.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return mn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Me.useRef=function(t){return mn.current.useRef(t)};Me.useState=function(t){return mn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return mn.current.useTransition()};Me.version="18.3.1";wk.exports=Me;var k=wk.exports;const R=We(k),SR=sR({__proto__:null,default:R},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=k,NR=Symbol.for("react.element"),TR=Symbol.for("react.fragment"),kR=Object.prototype.hasOwnProperty,AR=ER.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CR={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)kR.call(e,r)&&!CR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NR,type:t,key:o,ref:a,props:i,_owner:AR.current}}jh.Fragment=TR;jh.jsx=Pk;jh.jsxs=Pk;bk.exports=jh;var u=bk.exports,bg={},jk={exports:{}},Bn={},Ik={exports:{}},Ok={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var X=M.length;M.push(W);e:for(;0<X;){var L=X-1>>>1,K=M[L];if(0<i(K,W))M[L]=W,M[X]=K,X=L;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],X=M.pop();if(X!==W){M[0]=X;e:for(var L=0,K=M.length,re=K>>>1;L<re;){var H=2*(L+1)-1,ae=M[H],me=H+1,xe=M[me];if(0>i(ae,X))me<K&&0>i(xe,ae)?(M[L]=xe,M[me]=X,L=me):(M[L]=ae,M[H]=X,L=H);else if(me<K&&0>i(xe,X))M[L]=xe,M[me]=X,L=me;else break e}}return W}function i(M,W){var X=M.sortIndex-W.sortIndex;return X!==0?X:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,g=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=M)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function N(M){if(x=!1,_(M),!y)if(n(l)!==null)y=!0,U(S);else{var W=n(c);W!==null&&q(N,W.startTime-M)}}function S(M,W){y=!1,x&&(x=!1,v(A),A=-1),g=!0;var X=h;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||M&&!I());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var K=L(f.expirationTime<=W);W=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var H=n(c);H!==null&&q(N,H.startTime-W),re=!1}return re}finally{f=null,h=X,g=!1}}var E=!1,T=null,A=-1,C=5,j=-1;function I(){return!(t.unstable_now()-j<C)}function D(){if(T!==null){var M=t.unstable_now();j=M;var W=!0;try{W=T(!0,M)}finally{W?B():(E=!1,T=null)}}else E=!1}var B;if(typeof w=="function")B=function(){w(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,P=O.port2;O.port1.onmessage=D,B=function(){P.postMessage(null)}}else B=function(){b(D,0)};function U(M){T=M,E||(E=!0,B())}function q(M,W){A=b(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,U(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var X=h;h=W;try{return M()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=h;h=M;try{return W()}finally{h=X}},t.unstable_scheduleCallback=function(M,W,X){var L=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,M={id:d++,callback:W,priorityLevel:M,startTime:X,expirationTime:K,sortIndex:-1},X>L?(M.sortIndex=X,e(c,M),n(l)===null&&M===n(c)&&(x?(v(A),A=-1):x=!0,q(N,X-L))):(M.sortIndex=K,e(l,M),y||g||(y=!0,U(S))),M},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(M){var W=h;return function(){var X=h;h=W;try{return M.apply(this,arguments)}finally{h=X}}}})(Ok);Ik.exports=Ok;var PR=Ik.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=k,Fn=PR;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,tu={};function Qo(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(tu[t]=e,t=0;t<e.length;t++)Rk.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,IR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hb={},zb={};function OR(t){return wg.call(zb,t)?!0:wg.call(Hb,t)?!1:IR.test(t)?zb[t]=!0:(Hb[t]=!0,!1)}function RR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MR(t,e,n,r){if(e===null||typeof e>"u"||RR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var b0=/[\-:]([a-z])/g;function w0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b0,w0);Yt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b0,w0);Yt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b0,w0);Yt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function _0(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MR(e,n,i,r)&&(n=null),r||i===null?OR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uc=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Dk=Symbol.for("react.offscreen"),Wb=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=Wb&&t[Wb]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,sm;function kl(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var lm=!1;function um(t,e){if(!t||lm)return"";lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{lm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function $R(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function Ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case Sa:return"Portal";case _g:return"Profiler";case S0:return"StrictMode";case Sg:return"Suspense";case Eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $k:return(t.displayName||"Context")+".Consumer";case Mk:return(t._context.displayName||"Context")+".Provider";case E0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N0:return e=t.displayName||null,e!==null?e:Ng(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return Ng(t(e))}catch{}}return null}function DR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ng(e);case 8:return e===S0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LR(t){var e=Lk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fc(t){t._valueTracker||(t._valueTracker=LR(t))}function Uk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fk(t,e){e=e.checked,e!=null&&_0(t,"checked",e,!1)}function kg(t,e){Fk(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ag(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ag(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ag(t,e,n){(e!=="number"||Ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function Va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Al(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function Bk(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bc,Vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bc=Bc||document.createElement("div"),Bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UR=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){UR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function Gk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function Hk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FR=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jg(t,e){if(e){if(FR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=null;function T0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rg=null,Ga=null,Ha=null;function Qb(t){if(t=mc(t)){if(typeof Rg!="function")throw Error(te(280));var e=t.stateNode;e&&(e=$h(e),Rg(t.stateNode,t.type,e))}}function zk(t){Ga?Ha?Ha.push(t):Ha=[t]:Ga=t}function Wk(){if(Ga){var t=Ga,e=Ha;if(Ha=Ga=null,Qb(t),e)for(t=0;t<e.length;t++)Qb(e[t])}}function Kk(t,e){return t(e)}function Jk(){}var cm=!1;function Yk(t,e,n){if(cm)return t(e,n);cm=!0;try{return Kk(t,e,n)}finally{cm=!1,(Ga!==null||Ha!==null)&&(Jk(),Wk())}}function ru(t,e){var n=t.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Mg=!1;if(si)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Mg=!1}function BR(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ml=!1,Fd=null,Bd=!1,$g=null,qR={onError:function(t){Ml=!0,Fd=t}};function VR(t,e,n,r,i,o,a,s,l){Ml=!1,Fd=null,BR.apply(qR,arguments)}function GR(t,e,n,r,i,o,a,s,l){if(VR.apply(this,arguments),Ml){if(Ml){var c=Fd;Ml=!1,Fd=null}else throw Error(te(198));Bd||(Bd=!0,$g=c)}}function Zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zb(t){if(Zo(t)!==t)throw Error(te(188))}function HR(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zb(i),t;if(o===r)return Zb(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function Qk(t){return t=HR(t),t!==null?Zk(t):null}function Zk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zk(t);if(e!==null)return e;t=t.sibling}return null}var eA=Fn.unstable_scheduleCallback,ew=Fn.unstable_cancelCallback,zR=Fn.unstable_shouldYield,WR=Fn.unstable_requestPaint,bt=Fn.unstable_now,KR=Fn.unstable_getCurrentPriorityLevel,k0=Fn.unstable_ImmediatePriority,tA=Fn.unstable_UserBlockingPriority,qd=Fn.unstable_NormalPriority,JR=Fn.unstable_LowPriority,nA=Fn.unstable_IdlePriority,Ih=null,Or=null;function YR(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Ih,t,void 0,(t.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:ZR,XR=Math.log,QR=Math.LN2;function ZR(t){return t>>>=0,t===0?32:31-(XR(t)/QR|0)|0}var qc=64,Vc=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Cl(s):(o&=a,o!==0&&(r=Cl(o)))}else a=n&~i,a!==0?r=Cl(a):o!==0&&(r=Cl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-br(e),i=1<<n,r|=t[n],e&=~i;return r}function eM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-br(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=eM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Dg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rA(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function dm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-br(e),t[e]=n}function nM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-br(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function A0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function iA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oA,C0,aA,sA,lA,Lg=!1,Gc=[],Fi=null,Bi=null,qi=null,iu=new Map,ou=new Map,ji=[],rM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tw(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(e.pointerId)}}function ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mc(e),e!==null&&C0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iM(t,e,n,r,i){switch(e){case"focusin":return Fi=ul(Fi,t,e,n,r,i),!0;case"dragenter":return Bi=ul(Bi,t,e,n,r,i),!0;case"mouseover":return qi=ul(qi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return iu.set(o,ul(iu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ou.set(o,ul(ou.get(o)||null,t,e,n,r,i)),!0}return!1}function uA(t){var e=To(t.target);if(e!==null){var n=Zo(e);if(n!==null){if(e=n.tag,e===13){if(e=Xk(n),e!==null){t.blockedOn=e,lA(t.priority,function(){aA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Og=r,n.target.dispatchEvent(r),Og=null}else return e=mc(n),e!==null&&C0(e),t.blockedOn=n,!1;e.shift()}return!0}function nw(t,e,n){Td(t)&&n.delete(e)}function oM(){Lg=!1,Fi!==null&&Td(Fi)&&(Fi=null),Bi!==null&&Td(Bi)&&(Bi=null),qi!==null&&Td(qi)&&(qi=null),iu.forEach(nw),ou.forEach(nw)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lg||(Lg=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,oM)))}function au(t){function e(i){return cl(i,t)}if(0<Gc.length){cl(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fi!==null&&cl(Fi,t),Bi!==null&&cl(Bi,t),qi!==null&&cl(qi,t),iu.forEach(e),ou.forEach(e),n=0;n<ji.length;n++)r=ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ji.length&&(n=ji[0],n.blockedOn===null);)uA(n),n.blockedOn===null&&ji.shift()}var za=gi.ReactCurrentBatchConfig,Gd=!0;function aM(t,e,n,r){var i=ze,o=za.transition;za.transition=null;try{ze=1,P0(t,e,n,r)}finally{ze=i,za.transition=o}}function sM(t,e,n,r){var i=ze,o=za.transition;za.transition=null;try{ze=4,P0(t,e,n,r)}finally{ze=i,za.transition=o}}function P0(t,e,n,r){if(Gd){var i=Ug(t,e,n,r);if(i===null)wm(t,e,r,Hd,n),tw(t,r);else if(iM(i,t,e,n,r))r.stopPropagation();else if(tw(t,r),e&4&&-1<rM.indexOf(t)){for(;i!==null;){var o=mc(i);if(o!==null&&oA(o),o=Ug(t,e,n,r),o===null&&wm(t,e,r,Hd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wm(t,e,r,null,n)}}var Hd=null;function Ug(t,e,n,r){if(Hd=null,t=T0(r),t=To(t),t!==null)if(e=Zo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hd=t,null}function cA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KR()){case k0:return 1;case tA:return 4;case qd:case JR:return 16;case nA:return 536870912;default:return 16}default:return 16}}var Mi=null,j0=null,kd=null;function dA(){if(kd)return kd;var t,e=j0,n=e.length,r,i="value"in Mi?Mi.value:Mi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return kd=i.slice(t,1<r?1-r:void 0)}function Ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hc(){return!0}function rw(){return!1}function qn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hc:rw,this.isPropagationStopped=rw,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),e}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I0=qn(Bs),pc=pt({},Bs,{view:0,detail:0}),lM=qn(pc),fm,hm,dl,Oh=pt({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(fm=t.screenX-dl.screenX,hm=t.screenY-dl.screenY):hm=fm=0,dl=t),fm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),iw=qn(Oh),uM=pt({},Oh,{dataTransfer:0}),cM=qn(uM),dM=pt({},pc,{relatedTarget:0}),pm=qn(dM),fM=pt({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),hM=qn(fM),pM=pt({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mM=qn(pM),gM=pt({},Bs,{data:0}),ow=qn(gM),yM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xM[t])?!!e[t]:!1}function O0(){return bM}var wM=pt({},pc,{key:function(t){if(t.key){var e=yM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(t){return t.type==="keypress"?Ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_M=qn(wM),SM=pt({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aw=qn(SM),EM=pt({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),NM=qn(EM),TM=pt({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kM=qn(TM),AM=pt({},Oh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CM=qn(AM),PM=[9,13,27,32],R0=si&&"CompositionEvent"in window,$l=null;si&&"documentMode"in document&&($l=document.documentMode);var jM=si&&"TextEvent"in window&&!$l,fA=si&&(!R0||$l&&8<$l&&11>=$l),sw=" ",lw=!1;function hA(t,e){switch(t){case"keyup":return PM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function IM(t,e){switch(t){case"compositionend":return pA(e);case"keypress":return e.which!==32?null:(lw=!0,sw);case"textInput":return t=e.data,t===sw&&lw?null:t;default:return null}}function OM(t,e){if(Na)return t==="compositionend"||!R0&&hA(t,e)?(t=dA(),kd=j0=Mi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fA&&e.locale!=="ko"?null:e.data;default:return null}}var RM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RM[t.type]:e==="textarea"}function mA(t,e,n,r){zk(r),e=zd(e,"onChange"),0<e.length&&(n=new I0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dl=null,su=null;function MM(t){TA(t,0)}function Rh(t){var e=Aa(t);if(Uk(e))return t}function $M(t,e){if(t==="change")return e}var gA=!1;if(si){var mm;if(si){var gm="oninput"in document;if(!gm){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),gm=typeof cw.oninput=="function"}mm=gm}else mm=!1;gA=mm&&(!document.documentMode||9<document.documentMode)}function dw(){Dl&&(Dl.detachEvent("onpropertychange",yA),su=Dl=null)}function yA(t){if(t.propertyName==="value"&&Rh(su)){var e=[];mA(e,su,t,T0(t)),Yk(MM,e)}}function DM(t,e,n){t==="focusin"?(dw(),Dl=e,su=n,Dl.attachEvent("onpropertychange",yA)):t==="focusout"&&dw()}function LM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(su)}function UM(t,e){if(t==="click")return Rh(e)}function FM(t,e){if(t==="input"||t==="change")return Rh(e)}function BM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:BM;function lu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wg.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function fw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hw(t,e){var n=fw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fw(n)}}function vA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xA(){for(var t=window,e=Ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ud(t.document)}return e}function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qM(t){var e=xA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vA(n.ownerDocument.documentElement,n)){if(r!==null&&M0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hw(n,o);var a=hw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VM=si&&"documentMode"in document&&11>=document.documentMode,Ta=null,Fg=null,Ll=null,Bg=!1;function pw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bg||Ta==null||Ta!==Ud(r)||(r=Ta,"selectionStart"in r&&M0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&lu(Ll,r)||(Ll=r,r=zd(Fg,"onSelect"),0<r.length&&(e=new I0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ta)))}function zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},ym={},bA={};si&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Mh(t){if(ym[t])return ym[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bA)return ym[t]=e[n];return t}var wA=Mh("animationend"),_A=Mh("animationiteration"),SA=Mh("animationstart"),EA=Mh("transitionend"),NA=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){NA.set(t,e),Qo(e,[t])}for(var vm=0;vm<mw.length;vm++){var xm=mw[vm],GM=xm.toLowerCase(),HM=xm[0].toUpperCase()+xm.slice(1);to(GM,"on"+HM)}to(wA,"onAnimationEnd");to(_A,"onAnimationIteration");to(SA,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(EA,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function gw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GR(r,e,void 0,t),t.currentTarget=null}function TA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;gw(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;gw(i,s,c),o=l}}}if(Bd)throw t=$g,Bd=!1,$g=null,t}function rt(t,e){var n=e[zg];n===void 0&&(n=e[zg]=new Set);var r=t+"__bubble";n.has(r)||(kA(e,t,2,!1),n.add(r))}function bm(t,e,n){var r=0;e&&(r|=4),kA(n,t,r,e)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function uu(t){if(!t[Wc]){t[Wc]=!0,Rk.forEach(function(n){n!=="selectionchange"&&(zM.has(n)||bm(n,!1,t),bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wc]||(e[Wc]=!0,bm("selectionchange",!1,e))}}function kA(t,e,n,r){switch(cA(e)){case 1:var i=aM;break;case 4:i=sM;break;default:i=P0}n=i.bind(null,e,n,t),i=void 0,!Mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=To(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Yk(function(){var c=o,d=T0(n),f=[];e:{var h=NA.get(t);if(h!==void 0){var g=I0,y=t;switch(t){case"keypress":if(Ad(n)===0)break e;case"keydown":case"keyup":g=_M;break;case"focusin":y="focus",g=pm;break;case"focusout":y="blur",g=pm;break;case"beforeblur":case"afterblur":g=pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=cM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NM;break;case wA:case _A:case SA:g=hM;break;case EA:g=kM;break;case"scroll":g=lM;break;case"wheel":g=CM;break;case"copy":case"cut":case"paste":g=mM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=aw}var x=(e&4)!==0,b=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var w=c,_;w!==null;){_=w;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,v!==null&&(N=ru(w,v),N!=null&&x.push(cu(w,N,_)))),b)break;w=w.return}0<x.length&&(h=new g(h,y,null,n,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Og&&(y=n.relatedTarget||n.fromElement)&&(To(y)||y[li]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?To(y):null,y!==null&&(b=Zo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(x=iw,N="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=aw,N="onPointerLeave",v="onPointerEnter",w="pointer"),b=g==null?h:Aa(g),_=y==null?h:Aa(y),h=new x(N,w+"leave",g,n,d),h.target=b,h.relatedTarget=_,N=null,To(d)===c&&(x=new x(v,w+"enter",y,n,d),x.target=_,x.relatedTarget=b,N=x),b=N,g&&y)t:{for(x=g,v=y,w=0,_=x;_;_=la(_))w++;for(_=0,N=v;N;N=la(N))_++;for(;0<w-_;)x=la(x),w--;for(;0<_-w;)v=la(v),_--;for(;w--;){if(x===v||v!==null&&x===v.alternate)break t;x=la(x),v=la(v)}x=null}else x=null;g!==null&&yw(f,h,g,x,!1),y!==null&&b!==null&&yw(f,b,y,x,!0)}}e:{if(h=c?Aa(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=$M;else if(uw(h))if(gA)S=FM;else{S=LM;var E=DM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=UM);if(S&&(S=S(t,c))){mA(f,S,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ag(h,"number",h.value)}switch(E=c?Aa(c):window,t){case"focusin":(uw(E)||E.contentEditable==="true")&&(Ta=E,Fg=c,Ll=null);break;case"focusout":Ll=Fg=Ta=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,pw(f,n,d);break;case"selectionchange":if(VM)break;case"keydown":case"keyup":pw(f,n,d)}var T;if(R0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Na?hA(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(fA&&n.locale!=="ko"&&(Na||A!=="onCompositionStart"?A==="onCompositionEnd"&&Na&&(T=dA()):(Mi=d,j0="value"in Mi?Mi.value:Mi.textContent,Na=!0)),E=zd(c,A),0<E.length&&(A=new ow(A,t,null,n,d),f.push({event:A,listeners:E}),T?A.data=T:(T=pA(n),T!==null&&(A.data=T)))),(T=jM?IM(t,n):OM(t,n))&&(c=zd(c,"onBeforeInput"),0<c.length&&(d=new ow("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}TA(f,e)})}function cu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ru(t,n),o!=null&&r.unshift(cu(t,o,i)),o=ru(t,e),o!=null&&r.push(cu(t,o,i))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=ru(n,o),l!=null&&a.unshift(cu(n,l,s))):i||(l=ru(n,o),l!=null&&a.push(cu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var WM=/\r\n?/g,KM=/\u0000|\uFFFD/g;function vw(t){return(typeof t=="string"?t:""+t).replace(WM,`
`).replace(KM,"")}function Kc(t,e,n){if(e=vw(e),vw(t)!==e&&n)throw Error(te(425))}function Wd(){}var qg=null,Vg=null;function Gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hg=typeof setTimeout=="function"?setTimeout:void 0,JM=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,YM=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(t){return xw.resolve(null).then(t).catch(XM)}:Hg;function XM(t){setTimeout(function(){throw t})}function _m(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);au(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),jr="__reactFiber$"+qs,du="__reactProps$"+qs,li="__reactContainer$"+qs,zg="__reactEvents$"+qs,QM="__reactListeners$"+qs,ZM="__reactHandles$"+qs;function To(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bw(t);t!==null;){if(n=t[jr])return n;t=bw(t)}return e}t=n,n=t.parentNode}return null}function mc(t){return t=t[jr]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function $h(t){return t[du]||null}var Wg=[],Ca=-1;function no(t){return{current:t}}function at(t){0>Ca||(t.current=Wg[Ca],Wg[Ca]=null,Ca--)}function et(t,e){Ca++,Wg[Ca]=t.current,t.current=e}var Yi={},on=no(Yi),bn=no(!1),Bo=Yi;function is(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Kd(){at(bn),at(on)}function ww(t,e,n){if(on.current!==Yi)throw Error(te(168));et(on,e),et(bn,n)}function AA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,DR(t)||"Unknown",i));return pt({},n,r)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Bo=on.current,et(on,t),et(bn,bn.current),!0}function _w(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=AA(t,e,Bo),r.__reactInternalMemoizedMergedChildContext=t,at(bn),at(on),et(on,t)):at(bn),et(bn,n)}var Jr=null,Dh=!1,Sm=!1;function CA(t){Jr===null?Jr=[t]:Jr.push(t)}function e$(t){Dh=!0,CA(t)}function ro(){if(!Sm&&Jr!==null){Sm=!0;var t=0,e=ze;try{var n=Jr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Dh=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(t+1)),eA(k0,ro),i}finally{ze=e,Sm=!1}}return null}var Pa=[],ja=0,Yd=null,Xd=0,Yn=[],Xn=0,qo=null,Xr=1,Qr="";function go(t,e){Pa[ja++]=Xd,Pa[ja++]=Yd,Yd=t,Xd=e}function PA(t,e,n){Yn[Xn++]=Xr,Yn[Xn++]=Qr,Yn[Xn++]=qo,qo=t;var r=Xr;t=Qr;var i=32-br(r)-1;r&=~(1<<i),n+=1;var o=32-br(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-br(e)+i|n<<i|r,Qr=o+t}else Xr=1<<o|n<<i|r,Qr=t}function $0(t){t.return!==null&&(go(t,1),PA(t,1,0))}function D0(t){for(;t===Yd;)Yd=Pa[--ja],Pa[ja]=null,Xd=Pa[--ja],Pa[ja]=null;for(;t===qo;)qo=Yn[--Xn],Yn[Xn]=null,Qr=Yn[--Xn],Yn[Xn]=null,Xr=Yn[--Xn],Yn[Xn]=null}var Dn=null,Mn=null,lt=!1,vr=null;function jA(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,Mn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qo!==null?{id:Xr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,Mn=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jg(t){if(lt){var e=Mn;if(e){var n=e;if(!Sw(t,e)){if(Kg(t))throw Error(te(418));e=Vi(n.nextSibling);var r=Dn;e&&Sw(t,e)?jA(r,n):(t.flags=t.flags&-4097|2,lt=!1,Dn=t)}}else{if(Kg(t))throw Error(te(418));t.flags=t.flags&-4097|2,lt=!1,Dn=t}}}function Ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function Jc(t){if(t!==Dn)return!1;if(!lt)return Ew(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gg(t.type,t.memoizedProps)),e&&(e=Mn)){if(Kg(t))throw IA(),Error(te(418));for(;e;)jA(t,e),e=Vi(e.nextSibling)}if(Ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Dn?Vi(t.stateNode.nextSibling):null;return!0}function IA(){for(var t=Mn;t;)t=Vi(t.nextSibling)}function os(){Mn=Dn=null,lt=!1}function L0(t){vr===null?vr=[t]:vr.push(t)}var t$=gi.ReactCurrentBatchConfig;function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Yc(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nw(t){var e=t._init;return e(t._payload)}function OA(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Wi(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,_,N){return w===null||w.tag!==6?(w=Pm(_,v.mode,N),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,N){var S=_.type;return S===Ea?d(v,w,_.props.children,N,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&Nw(S)===w.type)?(N=i(w,_.props),N.ref=fl(v,w,_),N.return=v,N):(N=Md(_.type,_.key,_.props,null,v.mode,N),N.ref=fl(v,w,_),N.return=v,N)}function c(v,w,_,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=jm(_,v.mode,N),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function d(v,w,_,N,S){return w===null||w.tag!==7?(w=Mo(_,v.mode,N,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pm(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uc:return _=Md(w.type,w.key,w.props,null,v.mode,_),_.ref=fl(v,null,w),_.return=v,_;case Sa:return w=jm(w,v.mode,_),w.return=v,w;case ki:var N=w._init;return f(v,N(w._payload),_)}if(Al(w)||sl(w))return w=Mo(w,v.mode,_,null),w.return=v,w;Yc(v,w)}return null}function h(v,w,_,N){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(v,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:return _.key===S?l(v,w,_,N):null;case Sa:return _.key===S?c(v,w,_,N):null;case ki:return S=_._init,h(v,w,S(_._payload),N)}if(Al(_)||sl(_))return S!==null?null:d(v,w,_,N,null);Yc(v,_)}return null}function g(v,w,_,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(_)||null,s(w,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Uc:return v=v.get(N.key===null?_:N.key)||null,l(w,v,N,S);case Sa:return v=v.get(N.key===null?_:N.key)||null,c(w,v,N,S);case ki:var E=N._init;return g(v,w,_,E(N._payload),S)}if(Al(N)||sl(N))return v=v.get(_)||null,d(w,v,N,S,null);Yc(w,N)}return null}function y(v,w,_,N){for(var S=null,E=null,T=w,A=w=0,C=null;T!==null&&A<_.length;A++){T.index>A?(C=T,T=null):C=T.sibling;var j=h(v,T,_[A],N);if(j===null){T===null&&(T=C);break}t&&T&&j.alternate===null&&e(v,T),w=o(j,w,A),E===null?S=j:E.sibling=j,E=j,T=C}if(A===_.length)return n(v,T),lt&&go(v,A),S;if(T===null){for(;A<_.length;A++)T=f(v,_[A],N),T!==null&&(w=o(T,w,A),E===null?S=T:E.sibling=T,E=T);return lt&&go(v,A),S}for(T=r(v,T);A<_.length;A++)C=g(T,v,A,_[A],N),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?A:C.key),w=o(C,w,A),E===null?S=C:E.sibling=C,E=C);return t&&T.forEach(function(I){return e(v,I)}),lt&&go(v,A),S}function x(v,w,_,N){var S=sl(_);if(typeof S!="function")throw Error(te(150));if(_=S.call(_),_==null)throw Error(te(151));for(var E=S=null,T=w,A=w=0,C=null,j=_.next();T!==null&&!j.done;A++,j=_.next()){T.index>A?(C=T,T=null):C=T.sibling;var I=h(v,T,j.value,N);if(I===null){T===null&&(T=C);break}t&&T&&I.alternate===null&&e(v,T),w=o(I,w,A),E===null?S=I:E.sibling=I,E=I,T=C}if(j.done)return n(v,T),lt&&go(v,A),S;if(T===null){for(;!j.done;A++,j=_.next())j=f(v,j.value,N),j!==null&&(w=o(j,w,A),E===null?S=j:E.sibling=j,E=j);return lt&&go(v,A),S}for(T=r(v,T);!j.done;A++,j=_.next())j=g(T,v,A,j.value,N),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?A:j.key),w=o(j,w,A),E===null?S=j:E.sibling=j,E=j);return t&&T.forEach(function(D){return e(v,D)}),lt&&go(v,A),S}function b(v,w,_,N){if(typeof _=="object"&&_!==null&&_.type===Ea&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:e:{for(var S=_.key,E=w;E!==null;){if(E.key===S){if(S=_.type,S===Ea){if(E.tag===7){n(v,E.sibling),w=i(E,_.props.children),w.return=v,v=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&Nw(S)===E.type){n(v,E.sibling),w=i(E,_.props),w.ref=fl(v,E,_),w.return=v,v=w;break e}n(v,E);break}else e(v,E);E=E.sibling}_.type===Ea?(w=Mo(_.props.children,v.mode,N,_.key),w.return=v,v=w):(N=Md(_.type,_.key,_.props,null,v.mode,N),N.ref=fl(v,w,_),N.return=v,v=N)}return a(v);case Sa:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=jm(_,v.mode,N),w.return=v,v=w}return a(v);case ki:return E=_._init,b(v,w,E(_._payload),N)}if(Al(_))return y(v,w,_,N);if(sl(_))return x(v,w,_,N);Yc(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=Pm(_,v.mode,N),w.return=v,v=w),a(v)):n(v,w)}return b}var as=OA(!0),RA=OA(!1),Qd=no(null),Zd=null,Ia=null,U0=null;function F0(){U0=Ia=Zd=null}function B0(t){var e=Qd.current;at(Qd),t._currentValue=e}function Yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wa(t,e){Zd=t,U0=Ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(U0!==t)if(t={context:t,memoizedValue:e,next:null},Ia===null){if(Zd===null)throw Error(te(308));Ia=t,Zd.dependencies={lanes:0,firstContext:t}}else Ia=Ia.next=t;return e}var ko=null;function q0(t){ko===null?ko=[t]:ko.push(t)}function MA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,q0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function V0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $A(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,q0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function Cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}function Tw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ef(t,e,n,r){var i=t.updateQueue;Ai=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,x=s;switch(h=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=pt({},f,h);break e;case 2:Ai=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Go|=a,t.lanes=a,t.memoizedState=f}}function kw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var gc={},Rr=no(gc),fu=no(gc),hu=no(gc);function Ao(t){if(t===gc)throw Error(te(174));return t}function G0(t,e){switch(et(hu,e),et(fu,t),et(Rr,gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pg(e,t)}at(Rr),et(Rr,e)}function ss(){at(Rr),at(fu),at(hu)}function DA(t){Ao(hu.current);var e=Ao(Rr.current),n=Pg(e,t.type);e!==n&&(et(fu,t),et(Rr,n))}function H0(t){fu.current===t&&(at(Rr),at(fu))}var ft=no(0);function tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Em=[];function z0(){for(var t=0;t<Em.length;t++)Em[t]._workInProgressVersionPrimary=null;Em.length=0}var Pd=gi.ReactCurrentDispatcher,Nm=gi.ReactCurrentBatchConfig,Vo=0,ht=null,It=null,Ut=null,nf=!1,Ul=!1,pu=0,n$=0;function Qt(){throw Error(te(321))}function W0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function K0(t,e,n,r,i,o){if(Vo=o,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pd.current=t===null||t.memoizedState===null?a$:s$,t=n(r,i),Ul){o=0;do{if(Ul=!1,pu=0,25<=o)throw Error(te(301));o+=1,Ut=It=null,e.updateQueue=null,Pd.current=l$,t=n(r,i)}while(Ul)}if(Pd.current=rf,e=It!==null&&It.next!==null,Vo=0,Ut=It=ht=null,nf=!1,e)throw Error(te(300));return t}function J0(){var t=pu!==0;return pu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function ir(){if(It===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ut===null?ht.memoizedState:Ut.next;if(e!==null)Ut=e,It=t;else{if(t===null)throw Error(te(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function mu(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=ir(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((Vo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ht.lanes|=d,Go|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Nr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ht.lanes|=o,Go|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function km(t){var e=ir(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Nr(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function LA(){}function UA(t,e){var n=ht,r=ir(),i=e(),o=!Nr(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,Y0(qA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,gu(9,BA.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(te(349));Vo&30||FA(n,e,i)}return i}function FA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BA(t,e,n,r){e.value=n,e.getSnapshot=r,VA(e)&&GA(t)}function qA(t,e,n){return n(function(){VA(e)&&GA(t)})}function VA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function GA(t){var e=ui(t,1);e!==null&&wr(e,t,1,-1)}function Aw(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:t},e.queue=t,t=t.dispatch=o$.bind(null,ht,t),[e.memoizedState,t]}function gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HA(){return ir().memoizedState}function jd(t,e,n,r){var i=Pr();ht.flags|=t,i.memoizedState=gu(1|e,n,void 0,r===void 0?null:r)}function Lh(t,e,n,r){var i=ir();r=r===void 0?null:r;var o=void 0;if(It!==null){var a=It.memoizedState;if(o=a.destroy,r!==null&&W0(r,a.deps)){i.memoizedState=gu(e,n,o,r);return}}ht.flags|=t,i.memoizedState=gu(1|e,n,o,r)}function Cw(t,e){return jd(8390656,8,t,e)}function Y0(t,e){return Lh(2048,8,t,e)}function zA(t,e){return Lh(4,2,t,e)}function WA(t,e){return Lh(4,4,t,e)}function KA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JA(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4,4,KA.bind(null,e,t),n)}function X0(){}function YA(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XA(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QA(t,e,n){return Vo&21?(Nr(n,e)||(n=rA(),ht.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function r$(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{ze=n,Nm.transition=r}}function ZA(){return ir().memoizedState}function i$(t,e,n){var r=zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eC(t))tC(e,n);else if(n=MA(t,e,n,r),n!==null){var i=fn();wr(n,t,r,i),nC(n,e,r)}}function o$(t,e,n){var r=zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eC(t))tC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Nr(s,a)){var l=e.interleaved;l===null?(i.next=i,q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MA(t,e,i,r),n!==null&&(i=fn(),wr(n,t,r,i),nC(n,e,r))}}function eC(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function tC(t,e){Ul=nf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}var rf={readContext:rr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},a$={readContext:rr,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:Cw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,KA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i$.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:X0,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=r$.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Pr();if(lt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),qt===null)throw Error(te(349));Vo&30||FA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Cw(qA.bind(null,r,o,t),[t]),r.flags|=2048,gu(9,BA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Pr(),e=qt.identifierPrefix;if(lt){var n=Qr,r=Xr;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s$={readContext:rr,useCallback:YA,useContext:rr,useEffect:Y0,useImperativeHandle:JA,useInsertionEffect:zA,useLayoutEffect:WA,useMemo:XA,useReducer:Tm,useRef:HA,useState:function(){return Tm(mu)},useDebugValue:X0,useDeferredValue:function(t){var e=ir();return QA(e,It.memoizedState,t)},useTransition:function(){var t=Tm(mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:UA,useId:ZA,unstable_isNewReconciler:!1},l$={readContext:rr,useCallback:YA,useContext:rr,useEffect:Y0,useImperativeHandle:JA,useInsertionEffect:zA,useLayoutEffect:WA,useMemo:XA,useReducer:km,useRef:HA,useState:function(){return km(mu)},useDebugValue:X0,useDeferredValue:function(t){var e=ir();return It===null?e.memoizedState=t:QA(e,It.memoizedState,t)},useTransition:function(){var t=km(mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:UA,useId:ZA,unstable_isNewReconciler:!1};function fr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?Zo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=zi(t),o=ri(r,i);o.payload=e,n!=null&&(o.callback=n),e=Gi(t,o,i),e!==null&&(wr(e,t,i,r),Cd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=zi(t),o=ri(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Gi(t,o,i),e!==null&&(wr(e,t,i,r),Cd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=zi(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gi(t,i,r),e!==null&&(wr(e,t,r,n),Cd(e,t,r))}};function Pw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!lu(n,r)||!lu(i,o):!0}function rC(t,e,n){var r=!1,i=Yi,o=e.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=wn(e)?Bo:on.current,r=e.contextTypes,o=(r=r!=null)?is(t,i):Yi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Qg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},V0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=wn(e)?Bo:on.current,i.context=is(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uh.enqueueReplaceState(i,i.state,null),ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do n+=$R(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function iC(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){af||(af=!0,uy=r),Zg(t,e)},n}function oC(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zg(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=S$.bind(null,t,e,n),e.then(t,t))}function Ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t)}var c$=gi.ReactCurrentOwner,vn=!1;function ln(t,e,n,r){e.child=t===null?RA(e,null,n,r):as(e,t.child,n,r)}function Mw(t,e,n,r,i){n=n.render;var o=e.ref;return Wa(e,i),r=K0(t,e,n,r,o,i),n=J0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(lt&&n&&$0(e),e.flags|=1,ln(t,e,r,i),e.child)}function $w(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ox(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aC(t,e,o,r,i)):(t=Md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:lu,n(a,r)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=Wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function aC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(lu(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,ci(t,e,i)}return ey(t,e,n,r,i)}function sC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ra,An),An|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Ra,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Ra,An),An|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Ra,An),An|=r;return ln(t,e,i,n),e.child}function lC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ey(t,e,n,r,i){var o=wn(n)?Bo:on.current;return o=is(e,o),Wa(e,i),n=K0(t,e,n,r,o,i),r=J0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(lt&&r&&$0(e),e.flags|=1,ln(t,e,n,i),e.child)}function Dw(t,e,n,r,i){if(wn(n)){var o=!0;Jd(e)}else o=!1;if(Wa(e,i),e.stateNode===null)Id(t,e),rC(e,n,r),Qg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=rr(c):(c=wn(n)?Bo:on.current,c=is(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&jw(e,a,r,c),Ai=!1;var h=e.memoizedState;a.state=h,ef(e,r,a,i),l=e.memoizedState,s!==r||h!==l||bn.current||Ai?(typeof d=="function"&&(Xg(e,n,d,r),l=e.memoizedState),(s=Ai||Pw(e,n,s,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,$A(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:fr(e.type,s),a.props=c,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=wn(n)?Bo:on.current,l=is(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&jw(e,a,r,l),Ai=!1,h=e.memoizedState,a.state=h,ef(e,r,a,i);var y=e.memoizedState;s!==f||h!==y||bn.current||Ai?(typeof g=="function"&&(Xg(e,n,g,r),y=e.memoizedState),(c=Ai||Pw(e,n,c,r,h,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ty(t,e,n,r,o,i)}function ty(t,e,n,r,i,o){lC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&_w(e,n,!1),ci(t,e,o);r=e.stateNode,c$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=as(e,t.child,null,o),e.child=as(e,null,s,o)):ln(t,e,s,o),e.memoizedState=r.state,i&&_w(e,n,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ww(t,e.context,!1),G0(t,e.containerInfo)}function Lw(t,e,n,r,i){return os(),L0(i),e.flags|=256,ln(t,e,n,r),e.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(t){return{baseLanes:t,cachePool:null,transitions:null}}function cC(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ft,i&1),t===null)return Jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=qh(a,r,0,null),t=Mo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ry(n),e.memoizedState=ny,t):Q0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return d$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Wi(s,o):(o=Mo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?ry(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=ny,r}return o=t.child,t=o.sibling,r=Wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Q0(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xc(t,e,n,r){return r!==null&&L0(r),as(e,t.child,null,n),t=Q0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Am(Error(te(422))),Xc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qh({mode:"visible",children:r.children},i,0,null),o=Mo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&as(e,t.child,null,a),e.child.memoizedState=ry(a),e.memoizedState=ny,o);if(!(e.mode&1))return Xc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=Am(o,r,void 0),Xc(t,e,a,r)}if(s=(a&t.childLanes)!==0,vn||s){if(r=qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ui(t,i),wr(r,t,i,-1))}return ix(),r=Am(Error(te(421))),Xc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=Vi(i.nextSibling),Dn=e,lt=!0,vr=null,t!==null&&(Yn[Xn++]=Xr,Yn[Xn++]=Qr,Yn[Xn++]=qo,Xr=t.id,Qr=t.overflow,qo=e),e=Q0(e,r.children),e.flags|=4096,e)}function Uw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yg(t.return,e,n)}function Cm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ln(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uw(t,n,e);else if(t.tag===19)Uw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cm(e,!0,n,null,o);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f$(t,e,n){switch(e.tag){case 3:uC(e),os();break;case 5:DA(e);break;case 1:wn(e.type)&&Jd(e);break;case 4:G0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?cC(t,e,n):(et(ft,ft.current&1),t=ci(t,e,n),t!==null?t.sibling:null);et(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,sC(t,e,n)}return ci(t,e,n)}var fC,iy,hC,pC;fC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iy=function(){};hC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(Rr.current);var o=null;switch(n){case"input":i=Tg(t,i),r=Tg(t,r),o=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":i=Cg(t,i),r=Cg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wd)}jg(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};pC=function(t,e,n,r){n!==r&&(e.flags|=4)};function hl(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h$(t,e,n){var r=e.pendingProps;switch(D0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return wn(e.type)&&Kd(),Zt(e),null;case 3:return r=e.stateNode,ss(),at(bn),at(on),z0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(fy(vr),vr=null))),iy(t,e),Zt(e),null;case 5:H0(e);var i=Ao(hu.current);if(n=e.type,t!==null&&e.stateNode!=null)hC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Zt(e),null}if(t=Ao(Rr.current),Jc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jr]=e,r[du]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Pl.length;i++)rt(Pl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Kb(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":Yb(r,o),rt("invalid",r)}jg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Kc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Kc(r.textContent,s,t),i=["children",""+s]):tu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Fc(r),Jb(r,o,!0);break;case"textarea":Fc(r),Xb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[jr]=e,t[du]=r,fC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ig(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pl.length;i++)rt(Pl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Kb(t,r),i=Tg(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Yb(t,r),i=Cg(t,r),rt("invalid",t);break;default:i=r}jg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Hk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nu(t,l):typeof l=="number"&&nu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&_0(t,o,l,a))}switch(n){case"input":Fc(t),Jb(t,r,!1);break;case"textarea":Fc(t),Xb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Va(t,!!r.multiple,o,!1):r.defaultValue!=null&&Va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Ao(hu.current),Ao(Rr.current),Jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(o=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:Kc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return Zt(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Mn!==null&&e.mode&1&&!(e.flags&128))IA(),os(),e.flags|=98560,o=!1;else if(o=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[jr]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else vr!==null&&(fy(vr),vr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Rt===0&&(Rt=3):ix())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return ss(),iy(t,e),t===null&&uu(e.stateNode.containerInfo),Zt(e),null;case 10:return B0(e.type._context),Zt(e),null;case 17:return wn(e.type)&&Kd(),Zt(e),null;case 19:if(at(ft),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)hl(o,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tf(t),a!==null){for(e.flags|=128,hl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>us&&(e.flags|=128,r=!0,hl(o,!1),e.lanes=4194304)}else{if(!r)if(t=tf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!lt)return Zt(e),null}else 2*bt()-o.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,hl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ft.current,et(ft,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return rx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function p$(t,e){switch(D0(e),e.tag){case 1:return wn(e.type)&&Kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ss(),at(bn),at(on),z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return H0(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return ss(),null;case 10:return B0(e.type._context),null;case 22:case 23:return rx(),null;case 24:return null;default:return null}}var Qc=!1,tn=!1,m$=typeof WeakSet=="function"?WeakSet:Set,he=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function oy(t,e,n){try{n()}catch(r){yt(t,e,r)}}var Fw=!1;function g$(t,e){if(qg=Gd,t=xA(),M0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vg={focusedElem:t,selectionRange:n},Gd=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:fr(e.type,x),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(N){yt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return y=Fw,Fw=!1,y}function Fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&oy(e,n,o)}i=i.next}while(i!==r)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[du],delete e[zg],delete e[QM],delete e[ZM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gC(t){return t.tag===5||t.tag===3||t.tag===4}function Bw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wd));else if(r!==4&&(t=t.child,t!==null))for(sy(t,e,n),t=t.sibling;t!==null;)sy(t,e,n),t=t.sibling}function ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ly(t,e,n),t=t.sibling;t!==null;)ly(t,e,n),t=t.sibling}var Kt=null,pr=!1;function Ti(t,e,n){for(n=n.child;n!==null;)yC(t,e,n),n=n.sibling}function yC(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Ih,n)}catch{}switch(n.tag){case 5:tn||Oa(n,e);case 6:var r=Kt,i=pr;Kt=null,Ti(t,e,n),Kt=r,pr=i,Kt!==null&&(pr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(pr?(t=Kt,n=n.stateNode,t.nodeType===8?_m(t.parentNode,n):t.nodeType===1&&_m(t,n),au(t)):_m(Kt,n.stateNode));break;case 4:r=Kt,i=pr,Kt=n.stateNode.containerInfo,pr=!0,Ti(t,e,n),Kt=r,pr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&oy(n,e,a),i=i.next}while(i!==r)}Ti(t,e,n);break;case 1:if(!tn&&(Oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yt(n,e,s)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ti(t,e,n),tn=r):Ti(t,e,n);break;default:Ti(t,e,n)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m$),e.forEach(function(r){var i=N$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Kt=s.stateNode,pr=!1;break e;case 3:Kt=s.stateNode.containerInfo,pr=!0;break e;case 4:Kt=s.stateNode.containerInfo,pr=!0;break e}s=s.return}if(Kt===null)throw Error(te(160));yC(o,a,i),Kt=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vC(e,t),e=e.sibling}function vC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Cr(t),r&4){try{Fl(3,t,t.return),Fh(3,t)}catch(x){yt(t,t.return,x)}try{Fl(5,t,t.return)}catch(x){yt(t,t.return,x)}}break;case 1:ur(e,t),Cr(t),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(ur(e,t),Cr(t),r&512&&n!==null&&Oa(n,n.return),t.flags&32){var i=t.stateNode;try{nu(i,"")}catch(x){yt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Fk(i,o),Ig(s,a);var c=Ig(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Hk(i,f):d==="dangerouslySetInnerHTML"?Vk(i,f):d==="children"?nu(i,f):_0(i,d,f,c)}switch(s){case"input":kg(i,o);break;case"textarea":Bk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Va(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Va(i,!!o.multiple,o.defaultValue,!0):Va(i,!!o.multiple,o.multiple?[]:"",!1))}i[du]=o}catch(x){yt(t,t.return,x)}}break;case 6:if(ur(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){yt(t,t.return,x)}}break;case 3:if(ur(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{au(e.containerInfo)}catch(x){yt(t,t.return,x)}break;case 4:ur(e,t),Cr(t);break;case 13:ur(e,t),Cr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tx=bt())),r&4&&qw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||d,ur(e,t),tn=c):ur(e,t),Cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(h=he,g=h.child,h.tag){case 0:case 11:case 14:case 15:Fl(4,h,h.return);break;case 1:Oa(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){yt(r,n,x)}}break;case 5:Oa(h,h.return);break;case 22:if(h.memoizedState!==null){Gw(f);continue}}g!==null?(g.return=h,he=g):Gw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Gk("display",a))}catch(x){yt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){yt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ur(e,t),Cr(t),r&4&&qw(t);break;case 21:break;default:ur(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gC(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nu(i,""),r.flags&=-33);var o=Bw(t);ly(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Bw(t);sy(t,s,a);break;default:throw Error(te(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y$(t,e,n){he=t,xC(t)}function xC(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Qc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||tn;s=Qc;var c=tn;if(Qc=a,(tn=l)&&!c)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?Hw(i):l!==null?(l.return=a,he=l):Hw(i);for(;o!==null;)he=o,xC(o),o=o.sibling;he=i,Qc=s,tn=c}Vw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):Vw(t)}}function Vw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&kw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&au(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}tn||e.flags&512&&ay(e)}catch(h){yt(e,e.return,h)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Gw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function Hw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{ay(e)}catch(l){yt(e,o,l)}break;case 5:var a=e.return;try{ay(e)}catch(l){yt(e,a,l)}}}catch(l){yt(e,e.return,l)}if(e===t){he=null;break}var s=e.sibling;if(s!==null){s.return=e.return,he=s;break}he=e.return}}var v$=Math.ceil,of=gi.ReactCurrentDispatcher,Z0=gi.ReactCurrentOwner,tr=gi.ReactCurrentBatchConfig,Fe=0,qt=null,Nt=null,Jt=0,An=0,Ra=no(0),Rt=0,yu=null,Go=0,Bh=0,ex=0,Bl=null,yn=null,tx=0,us=1/0,zr=null,af=!1,uy=null,Hi=null,Zc=!1,$i=null,sf=0,ql=0,cy=null,Od=-1,Rd=0;function fn(){return Fe&6?bt():Od!==-1?Od:Od=bt()}function zi(t){return t.mode&1?Fe&2&&Jt!==0?Jt&-Jt:t$.transition!==null?(Rd===0&&(Rd=rA()),Rd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:cA(t.type)),t):1}function wr(t,e,n,r){if(50<ql)throw ql=0,cy=null,Error(te(185));hc(t,n,r),(!(Fe&2)||t!==qt)&&(t===qt&&(!(Fe&2)&&(Bh|=n),Rt===4&&Ii(t,Jt)),_n(t,r),n===1&&Fe===0&&!(e.mode&1)&&(us=bt()+500,Dh&&ro()))}function _n(t,e){var n=t.callbackNode;tM(t,e);var r=Vd(t,t===qt?Jt:0);if(r===0)n!==null&&ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ew(n),e===1)t.tag===0?e$(zw.bind(null,t)):CA(zw.bind(null,t)),YM(function(){!(Fe&6)&&ro()}),n=null;else{switch(iA(r)){case 1:n=k0;break;case 4:n=tA;break;case 16:n=qd;break;case 536870912:n=nA;break;default:n=qd}n=kC(n,bC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bC(t,e){if(Od=-1,Rd=0,Fe&6)throw Error(te(327));var n=t.callbackNode;if(Ka()&&t.callbackNode!==n)return null;var r=Vd(t,t===qt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lf(t,r);else{e=r;var i=Fe;Fe|=2;var o=_C();(qt!==t||Jt!==e)&&(zr=null,us=bt()+500,Ro(t,e));do try{w$();break}catch(s){wC(t,s)}while(!0);F0(),of.current=o,Fe=i,Nt!==null?e=0:(qt=null,Jt=0,e=Rt)}if(e!==0){if(e===2&&(i=Dg(t),i!==0&&(r=i,e=dy(t,i))),e===1)throw n=yu,Ro(t,0),Ii(t,r),_n(t,bt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!x$(i)&&(e=lf(t,r),e===2&&(o=Dg(t),o!==0&&(r=o,e=dy(t,o))),e===1))throw n=yu,Ro(t,0),Ii(t,r),_n(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:yo(t,yn,zr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=tx+500-bt(),10<e)){if(Vd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hg(yo.bind(null,t,yn,zr),e);break}yo(t,yn,zr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-br(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v$(r/1960))-r,10<r){t.timeoutHandle=Hg(yo.bind(null,t,yn,zr),r);break}yo(t,yn,zr);break;case 5:yo(t,yn,zr);break;default:throw Error(te(329))}}}return _n(t,bt()),t.callbackNode===n?bC.bind(null,t):null}function dy(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=lf(t,e),t!==2&&(e=yn,yn=n,e!==null&&fy(e)),t}function fy(t){yn===null?yn=t:yn.push.apply(yn,t)}function x$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~ex,e&=~Bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-br(e),r=1<<n;t[n]=-1,e&=~r}}function zw(t){if(Fe&6)throw Error(te(327));Ka();var e=Vd(t,0);if(!(e&1))return _n(t,bt()),null;var n=lf(t,e);if(t.tag!==0&&n===2){var r=Dg(t);r!==0&&(e=r,n=dy(t,r))}if(n===1)throw n=yu,Ro(t,0),Ii(t,e),_n(t,bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,yn,zr),_n(t,bt()),null}function nx(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(us=bt()+500,Dh&&ro())}}function Ho(t){$i!==null&&$i.tag===0&&!(Fe&6)&&Ka();var e=Fe;Fe|=1;var n=tr.transition,r=ze;try{if(tr.transition=null,ze=1,t)return t()}finally{ze=r,tr.transition=n,Fe=e,!(Fe&6)&&ro()}}function rx(){An=Ra.current,at(Ra)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JM(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(D0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kd();break;case 3:ss(),at(bn),at(on),z0();break;case 5:H0(r);break;case 4:ss();break;case 13:at(ft);break;case 19:at(ft);break;case 10:B0(r.type._context);break;case 22:case 23:rx()}n=n.return}if(qt=t,Nt=t=Wi(t.current,null),Jt=An=e,Rt=0,yu=null,ex=Bh=Go=0,yn=Bl=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return t}function wC(t,e){do{var n=Nt;try{if(F0(),Pd.current=rf,nf){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nf=!1}if(Vo=0,Ut=It=ht=null,Ul=!1,pu=0,Z0.current=null,n===null||n.return===null){Rt=1,yu=e,Nt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ow(a);if(g!==null){g.flags&=-257,Rw(g,a,s,o,e),g.mode&1&&Iw(o,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){Iw(o,c,e),ix();break e}l=Error(te(426))}}else if(lt&&s.mode&1){var b=Ow(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rw(b,a,s,o,e),L0(ls(l,s));break e}}o=l=ls(l,s),Rt!==4&&(Rt=2),Bl===null?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=iC(o,l,e);Tw(o,v);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hi===null||!Hi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=oC(o,s,e);Tw(o,N);break e}}o=o.return}while(o!==null)}EC(n)}catch(S){e=S,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function _C(){var t=of.current;return of.current=rf,t===null?rf:t}function ix(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),qt===null||!(Go&268435455)&&!(Bh&268435455)||Ii(qt,Jt)}function lf(t,e){var n=Fe;Fe|=2;var r=_C();(qt!==t||Jt!==e)&&(zr=null,Ro(t,e));do try{b$();break}catch(i){wC(t,i)}while(!0);if(F0(),Fe=n,of.current=r,Nt!==null)throw Error(te(261));return qt=null,Jt=0,Rt}function b$(){for(;Nt!==null;)SC(Nt)}function w$(){for(;Nt!==null&&!zR();)SC(Nt)}function SC(t){var e=TC(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?EC(t):Nt=e,Z0.current=null}function EC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p$(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Nt=null;return}}else if(n=h$(n,e,An),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Rt===0&&(Rt=5)}function yo(t,e,n){var r=ze,i=tr.transition;try{tr.transition=null,ze=1,_$(t,e,n,r)}finally{tr.transition=i,ze=r}return null}function _$(t,e,n,r){do Ka();while($i!==null);if(Fe&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nM(t,o),t===qt&&(Nt=qt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zc||(Zc=!0,kC(qd,function(){return Ka(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tr.transition,tr.transition=null;var a=ze;ze=1;var s=Fe;Fe|=4,Z0.current=null,g$(t,n),vC(n,t),qM(Vg),Gd=!!qg,Vg=qg=null,t.current=n,y$(n),WR(),Fe=s,ze=a,tr.transition=o}else t.current=n;if(Zc&&(Zc=!1,$i=t,sf=i),o=t.pendingLanes,o===0&&(Hi=null),YR(n.stateNode),_n(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(af)throw af=!1,t=uy,uy=null,t;return sf&1&&t.tag!==0&&Ka(),o=t.pendingLanes,o&1?t===cy?ql++:(ql=0,cy=t):ql=0,ro(),null}function Ka(){if($i!==null){var t=iA(sf),e=tr.transition,n=ze;try{if(tr.transition=null,ze=16>t?16:t,$i===null)var r=!1;else{if(t=$i,$i=null,sf=0,Fe&6)throw Error(te(331));var i=Fe;for(Fe|=4,he=t.current;he!==null;){var o=he,a=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Fl(8,d,o)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var h=d.sibling,g=d.return;if(mC(d),d===c){he=null;break}if(h!==null){h.return=g,he=h;break}he=g}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}he=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,he=a;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,he=v;break e}he=o.return}}var w=t.current;for(he=w;he!==null;){a=he;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,he=_;else e:for(a=w;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fh(9,s)}}catch(S){yt(s,s.return,S)}if(s===a){he=null;break e}var N=s.sibling;if(N!==null){N.return=s.return,he=N;break e}he=s.return}}if(Fe=i,ro(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Ih,t)}catch{}r=!0}return r}finally{ze=n,tr.transition=e}}return!1}function Ww(t,e,n){e=ls(n,e),e=iC(t,e,1),t=Gi(t,e,1),e=fn(),t!==null&&(hc(t,1,e),_n(t,e))}function yt(t,e,n){if(t.tag===3)Ww(t,t,n);else for(;e!==null;){if(e.tag===3){Ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=ls(n,t),t=oC(e,t,1),e=Gi(e,t,1),t=fn(),e!==null&&(hc(e,1,t),_n(e,t));break}}e=e.return}}function S$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(Jt&n)===n&&(Rt===4||Rt===3&&(Jt&130023424)===Jt&&500>bt()-tx?Ro(t,0):ex|=n),_n(t,e)}function NC(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=fn();t=ui(t,e),t!==null&&(hc(t,e,n),_n(t,n))}function E$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NC(t,n)}function N$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),NC(t,n)}var TC;TC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,f$(t,e,n);vn=!!(t.flags&131072)}else vn=!1,lt&&e.flags&1048576&&PA(e,Xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var i=is(e,on.current);Wa(e,n),i=K0(null,e,r,t,i,n);var o=J0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,Jd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V0(e),i.updater=Uh,e.stateNode=i,i._reactInternals=e,Qg(e,r,t,n),e=ty(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&$0(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=k$(r),t=fr(r,t),i){case 0:e=ey(null,e,r,t,n);break e;case 1:e=Dw(null,e,r,t,n);break e;case 11:e=Mw(null,e,r,t,n);break e;case 14:e=$w(null,e,r,fr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),ey(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Dw(t,e,r,i,n);case 3:e:{if(uC(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,$A(t,e),ef(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ls(Error(te(423)),e),e=Lw(t,e,r,n,i);break e}else if(r!==i){i=ls(Error(te(424)),e),e=Lw(t,e,r,n,i);break e}else for(Mn=Vi(e.stateNode.containerInfo.firstChild),Dn=e,lt=!0,vr=null,n=RA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===i){e=ci(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return DA(e),t===null&&Jg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Gg(r,i)?a=null:o!==null&&Gg(r,o)&&(e.flags|=32),lC(t,e),ln(t,e,a,n),e.child;case 6:return t===null&&Jg(e),null;case 13:return cC(t,e,n);case 4:return G0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=as(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Mw(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(Qd,r._currentValue),r._currentValue=a,o!==null)if(Nr(o.value,a)){if(o.children===i.children&&!bn.current){e=ci(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ri(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yg(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Yg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wa(e,n),i=rr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),$w(t,e,r,i,n);case 15:return aC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Id(t,e),e.tag=1,wn(r)?(t=!0,Jd(e)):t=!1,Wa(e,n),rC(e,r,i),Qg(e,r,i,n),ty(null,e,r,!0,t,n);case 19:return dC(t,e,n);case 22:return sC(t,e,n)}throw Error(te(156,e.tag))};function kC(t,e){return eA(t,e)}function T$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new T$(t,e,n,r)}function ox(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k$(t){if(typeof t=="function")return ox(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E0)return 11;if(t===N0)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Md(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")ox(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ea:return Mo(n.children,i,o,e);case S0:a=8,i|=8;break;case _g:return t=Zn(12,n,e,i|2),t.elementType=_g,t.lanes=o,t;case Sg:return t=Zn(13,n,e,i),t.elementType=Sg,t.lanes=o,t;case Eg:return t=Zn(19,n,e,i),t.elementType=Eg,t.lanes=o,t;case Dk:return qh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mk:a=10;break e;case $k:a=9;break e;case E0:a=11;break e;case N0:a=14;break e;case ki:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Zn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Mo(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=Dk,t.lanes=n,t.stateNode={isHidden:!1},t}function Pm(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function jm(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ax(t,e,n,r,i,o,a,s,l){return t=new A$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(o),t}function C$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AC(t){if(!t)return Yi;t=t._reactInternals;e:{if(Zo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(wn(n))return AA(t,n,e)}return e}function CC(t,e,n,r,i,o,a,s,l){return t=ax(n,r,!0,t,i,o,a,s,l),t.context=AC(null),n=t.current,r=fn(),i=zi(n),o=ri(r,i),o.callback=e??null,Gi(n,o,i),t.current.lanes=i,hc(t,i,r),_n(t,r),t}function Vh(t,e,n,r){var i=e.current,o=fn(),a=zi(i);return n=AC(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gi(i,e,a),t!==null&&(wr(t,i,a,o),Cd(t,i,a)),a}function uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sx(t,e){Kw(t,e),(t=t.alternate)&&Kw(t,e)}function P$(){return null}var PC=typeof reportError=="function"?reportError:function(t){console.error(t)};function lx(t){this._internalRoot=t}Gh.prototype.render=lx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Vh(t,e,null,null)};Gh.prototype.unmount=lx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ho(function(){Vh(null,t,null,null)}),e[li]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=sA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ji.length&&e!==0&&e<ji[n].priority;n++);ji.splice(n,0,t),n===0&&uA(t)}};function ux(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function j$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=uf(a);o.call(c)}}var a=CC(e,r,t,0,null,!1,!1,"",Jw);return t._reactRootContainer=a,t[li]=a.current,uu(t.nodeType===8?t.parentNode:t),Ho(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=uf(l);s.call(c)}}var l=ax(t,0,!1,null,null,!1,!1,"",Jw);return t._reactRootContainer=l,t[li]=l.current,uu(t.nodeType===8?t.parentNode:t),Ho(function(){Vh(e,l,n,r)}),l}function zh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=uf(a);s.call(l)}}Vh(e,a,t,i)}else a=j$(n,e,t,i,r);return uf(a)}oA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(A0(e,n|1),_n(e,bt()),!(Fe&6)&&(us=bt()+500,ro()))}break;case 13:Ho(function(){var r=ui(t,1);if(r!==null){var i=fn();wr(r,t,1,i)}}),sx(t,1)}};C0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=fn();wr(e,t,134217728,n)}sx(t,134217728)}};aA=function(t){if(t.tag===13){var e=zi(t),n=ui(t,e);if(n!==null){var r=fn();wr(n,t,e,r)}sx(t,e)}};sA=function(){return ze};lA=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Rg=function(t,e,n){switch(e){case"input":if(kg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$h(r);if(!i)throw Error(te(90));Uk(r),kg(r,i)}}}break;case"textarea":Bk(t,n);break;case"select":e=n.value,e!=null&&Va(t,!!n.multiple,e,!1)}};Kk=nx;Jk=Ho;var I$={usingClientEntryPoint:!1,Events:[mc,Aa,$h,zk,Wk,nx]},pl={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O$={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qk(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||P$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Ih=ed.inject(O$),Or=ed}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I$;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ux(e))throw Error(te(200));return C$(t,e,null,n)};Bn.createRoot=function(t,e){if(!ux(t))throw Error(te(299));var n=!1,r="",i=PC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ax(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,uu(t.nodeType===8?t.parentNode:t),new lx(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=Qk(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Ho(t)};Bn.hydrate=function(t,e,n){if(!Hh(e))throw Error(te(200));return zh(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!ux(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=PC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=CC(e,null,t,1,n??null,i,!1,o,a),t[li]=e.current,uu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gh(e)};Bn.render=function(t,e,n){if(!Hh(e))throw Error(te(200));return zh(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(te(40));return t._reactRootContainer?(Ho(function(){zh(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Bn.unstable_batchedUpdates=nx;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return zh(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function jC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jC)}catch(t){console.error(t)}}jC(),jk.exports=Bn;var R$=jk.exports,Yw=R$;bg.createRoot=Yw.createRoot,bg.hydrateRoot=Yw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}var Di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Di||(Di={}));const Xw="popstate";function M$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=ea(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),hy("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:IC(o))}function r(i,o){Wh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return D$(e,n,r,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $$(){return Math.random().toString(36).substr(2,8)}function Qw(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,n,r){return n===void 0&&(n=null),vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||$$()})}function IC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function D$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Di.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(vu({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=Di.Pop;let b=d(),v=b==null?null:b-c;c=b,l&&l({action:s,location:x.location,delta:v})}function h(b,v){s=Di.Push;let w=hy(x.location,b,v);n&&n(w,b),c=d()+1;let _=Qw(w,c),N=x.createHref(w);try{a.pushState(_,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}o&&l&&l({action:s,location:x.location,delta:1})}function g(b,v){s=Di.Replace;let w=hy(x.location,b,v);n&&n(w,b),c=d();let _=Qw(w,c),N=x.createHref(w);a.replaceState(_,"",N),o&&l&&l({action:s,location:x.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:IC(b);return w=w.replace(/ $/,"%20"),Tt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let x={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xw,f),l=b,()=>{i.removeEventListener(Xw,f),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(b){return a.go(b)}};return x}var Zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zw||(Zw={}));function L$(t,e,n){return n===void 0&&(n="/"),U$(t,e,n)}function U$(t,e,n,r){let i=typeof e=="string"?ea(e):e,o=MC(i.pathname||"/",n);if(o==null)return null;let a=OC(t);F$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=Q$(o);s=J$(a[l],c)}return s}function OC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$o([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OC(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:W$(c,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of RC(o.path))i(o,a,l)}),e}function RC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=RC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function F$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B$=/^:[\w-]+$/,q$=3,V$=2,G$=1,H$=10,z$=-2,e_=t=>t==="*";function W$(t,e){let n=t.split("/"),r=n.length;return n.some(e_)&&(r+=z$),e&&(r+=V$),n.filter(i=>!e_(i)).reduce((i,o)=>i+(B$.test(o)?q$:o===""?G$:H$),r)}function K$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function J$(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=Y$({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:$o([o,f.pathname]),pathnameBase:rD($o([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=$o([o,f.pathnameBase]))}return a}function Y$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let x=s[f]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=s[f];return g&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function X$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Z$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eD=t=>Z$.test(t);function tD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ea(t):t,o;if(n)if(eD(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Wh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=t_(n.substring(1),"/"):o=t_(n,e)}else o=e;return{pathname:o,search:iD(r),hash:oD(i)}}function t_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $C(t,e){let n=nD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ea(t):(i=vu({},t),Tt(!i.pathname||!i.pathname.includes("?"),Im("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Im("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Im("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=tD(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),rD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LC=["post","put","patch","delete"];new Set(LC);const sD=["get",...LC];new Set(sD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}const cx=k.createContext(null),lD=k.createContext(null),yc=k.createContext(null),Kh=k.createContext(null),ta=k.createContext({outlet:null,matches:[],isDataRoute:!1}),UC=k.createContext(null);function vc(){return k.useContext(Kh)!=null}function Jh(){return vc()||Tt(!1),k.useContext(Kh).location}function FC(t){k.useContext(yc).static||k.useLayoutEffect(t)}function Vs(){let{isDataRoute:t}=k.useContext(ta);return t?wD():uD()}function uD(){vc()||Tt(!1);let t=k.useContext(cx),{basename:e,future:n,navigator:r}=k.useContext(yc),{matches:i}=k.useContext(ta),{pathname:o}=Jh(),a=JSON.stringify($C(i,n.v7_relativeSplatPath)),s=k.useRef(!1);return FC(()=>{s.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=DC(c,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$o([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function cD(t,e){return dD(t,e)}function dD(t,e,n,r){vc()||Tt(!1);let{navigator:i}=k.useContext(yc),{matches:o}=k.useContext(ta),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Jh(),d;if(e){var f;let b=typeof e=="string"?ea(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Tt(!1),d=b}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=L$(t,{pathname:g}),x=gD(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:$o([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:$o([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&x?k.createElement(Kh.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Di.Pop}},x):x}function fD(){let t=bD(),e=aD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const hD=k.createElement(fD,null);class pD extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(ta.Provider,{value:this.props.routeContext},k.createElement(UC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mD(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(cx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ta.Provider,{value:e},r)}function gD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Tt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:g}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,y=!1,x=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||hD,l&&(c<0&&h===0?(_D("route-fallback"),y=!0,b=null):c===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),w=()=>{let _;return g?_=x:y?_=b:f.route.Component?_=k.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,k.createElement(mD,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(pD,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var BC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BC||{}),qC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qC||{});function yD(t){let e=k.useContext(cx);return e||Tt(!1),e}function vD(t){let e=k.useContext(lD);return e||Tt(!1),e}function xD(t){let e=k.useContext(ta);return e||Tt(!1),e}function VC(t){let e=xD(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function bD(){var t;let e=k.useContext(UC),n=vD(),r=VC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wD(){let{router:t}=yD(BC.UseNavigateStable),e=VC(qC.UseNavigateStable),n=k.useRef(!1);return FC(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xu({fromRouteId:e},o)))},[t,e])}const n_={};function _D(t,e,n){n_[t]||(n_[t]=!0)}function SD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _t(t){let{to:e,replace:n,state:r,relative:i}=t;vc()||Tt(!1);let{future:o,static:a}=k.useContext(yc),{matches:s}=k.useContext(ta),{pathname:l}=Jh(),c=Vs(),d=DC(e,$C(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function xt(t){Tt(!1)}function ED(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Di.Pop,navigator:o,static:a=!1,future:s}=t;vc()&&Tt(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:o,static:a,future:xu({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:y="default"}=r,x=k.useMemo(()=>{let b=MC(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:y},navigationType:i}},[l,d,f,h,g,y,i]);return x==null?null:k.createElement(yc.Provider,{value:c},k.createElement(Kh.Provider,{children:n,value:x}))}function ND(t){let{children:e,location:n}=t;return cD(py(e),n)}new Promise(()=>{});function py(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let o=[...e,i];if(r.type===k.Fragment){n.push.apply(n,py(r.props.children,o));return}r.type!==xt&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=py(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const TD="6";try{window.__reactRouterVersion=TD}catch{}const kD="startTransition",r_=SR[kD];function AD(t){let{basename:e,children:n,future:r,window:i}=t,o=k.useRef();o.current==null&&(o.current=M$({window:i,v5Compat:!0}));let a=o.current,[s,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=k.useCallback(f=>{c&&r_?r_(()=>l(f)):l(f)},[l,c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>SD(r),[r]),k.createElement(ED,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var i_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(i_||(i_={}));var o_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o_||(o_={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},d)=>k.createElement("svg",{ref:d,...CD,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${PD(t)}`,s].join(" "),...c},[...e.map(([f,h])=>k.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ne("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ne("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ne("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ne("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ne("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ne("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ne("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ne("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ne("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ne("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ne("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=ne("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=ne("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=ne("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=ne("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ne("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Om=[{id:"dashboard",title:"",icon:$D,path:"/"},{id:"reports-group",title:"",icon:HD,path:"#",submenu:[{id:"shiftreport",title:" ",icon:my,path:"/shift-report"},{id:"reports",title:"",icon:QC,path:"/reports"}]},{id:"inbox",title:" ",icon:pf,path:"/inbox"},{id:"messages",title:"",icon:XC,path:"/messages"},{id:"workorders",title:" ",icon:eP,path:"/work-orders"},{id:"projects",title:"",icon:cf,path:"/projects"},{id:"performance",title:" ",icon:dx,path:"/performance"},{id:"partrequest",title:" ",icon:Hl,path:"/part-requests"},{id:"inspections",title:" ",icon:WC,path:"/inspections"},{id:"documents",title:" ",icon:Vl,path:"/documents"},{id:"meetings",title:"",icon:hf,path:"/meetings"},{id:"suggestions",title:" ",icon:mf,path:"/suggestions"},{id:"purchases",title:" ",icon:vf,path:"/purchases"},{id:"workflow",title:" ",icon:JC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:Gs,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:mx,path:"/settings"}],yL=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],vL=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}];var $n=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))($n||{});const Do=()=>Math.random().toString(36).substring(2,9),tP=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},tp=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},st=()=>{const t=new Date,e=tp(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},hs=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},np=t=>{const e=new Date,n=tp(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},ps=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=tP(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},xL=(t,e,n,r)=>{const i=ps(t),o=ps(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},bL=(t,e,n,r)=>{const i=ps(t),o=ps(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,c]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,c||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},xf=t=>{const e=ps(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},l_="192.168.1.105";function rp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}const _L=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class yx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class SL extends yx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class u_ extends yx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class c_ extends yx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yy||(yy={}));class EL{constructor(e,{headers:n={},customFetch:r,region:i=yy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=_L(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return wL(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)):x=c;let b=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x,signal:b}).catch(S=>{throw new SL(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new u_(v);if(!v.ok)throw new c_(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield v.json():_==="application/octet-stream"||_==="application/pdf"?N=yield v.blob():_==="text/event-stream"?N=v:_==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof c_||s instanceof u_?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var NL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},TL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const x=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const x=await o.text();try{a=JSON.parse(x),Array.isArray(a)&&o.status===404&&(s=[],a=null,c=200,d="OK")}catch{o.status===404&&x===""?(c=204,d="No Content"):a={message:x}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&n.shouldThrowOnError)throw new NL(a)}return{error:a,data:s,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var c,d,f,h;const y=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",x=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,x&&(s+=` (${x})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},kL=class extends TL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const d_=new RegExp("[,()]");var xa=class extends kL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&d_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&d_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},AL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new xa({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new xa({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xa({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new xa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new xa({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},CL=class nP{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new AL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new xa({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class PL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jL="2.89.0",IL=`realtime-js/${jL}`,rP="1.0.0",OL="2.0.0",f_=rP,vy=1e4,RL=1e3,ML=100;var Ci;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ci||(Ci={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mr||(mr={}));var xy;(function(t){t.websocket="websocket"})(xy||(xy={}));var So;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(So||(So={}));class $L{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(g),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,l.length),y.setUint8(x++,s.length),y.setUint8(x++,a.length),y.setUint8(x++,c.length),y.setUint8(x++,f.length),y.setUint8(x++,n),Array.from(l,v=>y.setUint8(x++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(x++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(x++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(x++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(x++,v.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class iP{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const h_=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=DL(a,t,e,i),o),{}):{}},DL=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?oP(o,a):by(a)},oP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return BL(e,n)}switch(t){case Xe.bool:return LL(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return UL(e);case Xe.json:case Xe.jsonb:return FL(e);case Xe.timestamp:return qL(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return by(e);default:return by(e)}},by=t=>t,LL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},FL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},BL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>oP(e,s))}return t},qL=t=>typeof t=="string"?t.replace(" ","T"):t,aP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rm{constructor(e,n,r={},i=vy){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var p_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(p_||(p_={}));class zl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=zl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=o[c];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),y=d.filter(b=>g.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(s[c]=y),x.length>0&&(l[c]=x)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m_||(m_={}));var Wl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wl||(Wl={}));var Wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class Ma{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rm(this,mr.join,this.params,this.timeout),this.rejoinTimer=new iP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new zl(this),this.broadcastEndpointURL=aP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Wl.PRESENCE]&&this.bindings[Wl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Wr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Wr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Wr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<b;w++){const _=x[w],{filter:{event:N,schema:S,table:E,filter:T}}=_,A=g&&g[w];if(A&&A.event===N&&Ma.isFilterValueEqual(A.schema,S)&&Ma.isFilterValueEqual(A.table,E)&&Ma.isFilterValueEqual(A.filter,T))v.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Wr.SUBSCRIBED);return}}).receive("error",g=>{this.state=jt.errored,e==null||e(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===jt.joined&&e===Wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Rm(this,mr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ML){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=mr;if(r&&[s,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,x,b;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=g.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var y,x,b,v,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const N=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return N&&((x=n.ids)===null||x===void 0?void 0:x.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(w=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return N==="*"||N===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:b,commit_timestamp:v,type:w,errors:_}=y;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(h,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ma.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mr.close,{},e)}_onError(e){this._on(mr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=h_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=h_(e.columns,e.old_record)),n}}const Mm=()=>{},td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VL=[1e3,2e3,5e3,1e4],GL=1e4,HL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vy,this.transport=null,this.heartbeatIntervalMs=td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mm,this.ref=0,this.reconnectTimer=null,this.vsn=f_,this.logger=Mm,this.conn=null,this.sendBuffer=[],this.serializer=new $L,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${xy.websocket}`,this.httpEndpoint=aP(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ci.connecting:return So.Connecting;case Ci.open:return So.Open;case Ci.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Ma(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},td.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ci.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ci.open||this.conn.readyState===Ci.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([HL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:IL};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(mr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,c,d,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:vy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:td.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Mm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:f_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>VL[y-1]||GL,this.vsn){case rP:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,x)=>x(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,x)=>x(JSON.parse(y));break;case OL:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var _u=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WL(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function KL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function JL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=WL(t.baseUrl,r,i),l=await KL(t.auth),c=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const g=f?h:void 0,y=g==null?void 0:g.error;throw new _u((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:c.status,headers:c.headers,data:h}}}}function nd(t){return t.join("")}var YL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:nd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nd(t.namespace)}`}),!0}catch(e){if(e instanceof _u&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof _u&&n.status===409)return;throw n}}};function ua(t){return t.join("")}var XL=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof _u&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof _u&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},QL=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=JL({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new YL(this.client,e),this.tableOps=new XL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ip=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function dt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ZL=class extends ip{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wy=class extends ip{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const vx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),e4=()=>Response,_y=t=>{if(Array.isArray(t))return t.map(n=>_y(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=_y(r)}),e},t4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},n4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function r4(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i4(t){var e=r4(t,"string");return Su(e)=="symbol"?e:e+""}function o4(t,e,n){return(e=i4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){o4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const $m=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},a4=async(t,e,n)=>{t instanceof await e4()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new ZL($m(r),i,o))}).catch(r=>{e(new wy($m(r),r))}):e(new wy($m(t),t))},s4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(t4(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ke(ke({},i),n))};async function wc(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,s4(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>a4(l,s,r))})}async function Eu(t,e,n,r){return wc(t,"GET",e,n,r)}async function hr(t,e,n,r,i){return wc(t,"POST",e,r,i,n)}async function Sy(t,e,n,r,i){return wc(t,"PUT",e,r,i,n)}async function l4(t,e,n,r){return wc(t,"HEAD",e,ke(ke({},n),{},{noResolveJson:!0}),r)}async function xx(t,e,n,r,i){return wc(t,"DELETE",e,r,i,n)}var u4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dt(e))return{data:null,error:e};throw e}}};let sP;sP=Symbol.toStringTag;var c4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sP]="BlobDownloadBuilder",this.promise=null}asStream(){return new u4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(dt(e))return{data:null,error:e};throw e}}};const d4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var f4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=vx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=ke(ke({},y_),r);let s=ke(ke({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=ke(ke({},s),r.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),f=await(t=="PUT"?Sy:hr)(i.fetch,`${i.url}/object/${d}`,o,ke({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const c=ke({upsert:y_.upsert},r),d=ke(ke({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await Sy(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(dt(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=ke({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await hr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new ip("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await hr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await hr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await hr(r.fetch,`${r.url}/object/sign/${i}`,ke({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await hr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>ke(ke({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>Eu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new c4(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:_y(await Eu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await l4(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(dt(r)&&r instanceof wy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await xx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=ke(ke(ke({},d4),e),{},{prefix:t||""});return{data:await hr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=ke({},t);return{data:await hr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const lP="2.89.0",uP={"X-Client-Info":`storage-js/${lP}`};var h4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ke(ke({},uP),e),this.fetch=vx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Eu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Eu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await hr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Sy(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await hr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await xx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},p4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},uP),e),this.fetch=vx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await hr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Eu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await xx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!n4(t))throw new ip("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new QL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const bx={"X-Client-Info":`storage-js/${lP}`,"Content-Type":"application/json"};var cP=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function In(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dm=class extends cP{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},m4=class extends cP{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const wx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},v_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y4=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Dm(v_(o),r,a))}).catch(()=>{const o=r+"";e(new Dm(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Dm(i.statusText||`HTTP ${r} error`,r,o))}}else e(new m4(v_(t),t))},v4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(g4(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,ke(ke({},i),n)):i};async function x4(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,v4(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>y4(l,s,r))})}async function On(t,e,n,r,i){return x4(t,"POST",e,r,i,n)}var b4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},bx),e),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await On(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await On(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}}},w4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},bx),e),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await On(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await On(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await On(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}},_4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},bx),e),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await On(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}}},S4=class extends _4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new E4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},E4=class extends b4{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new N4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},N4=class extends w4{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},T4=class extends h4{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new f4(this.url,this.headers,t,this.fetch)}get vectors(){return new S4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new p4(this.url+"/iceberg",this.headers,this.fetch)}};const dP="2.89.0",ba=30*1e3,Ey=3,Lm=Ey*ba,k4="http://localhost:9999",A4="supabase.auth.token",C4={"X-Client-Info":`gotrue-js/${dP}`},Ny="X-Supabase-Api-Version",fP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j4=10*60*1e3;class Nu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class I4 extends Nu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O4(t){return be(t)&&t.name==="AuthApiError"}class Eo extends Nu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yi extends Nu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Nn extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R4(t){return be(t)&&t.name==="AuthSessionMissingError"}class ca extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rd extends yi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class id extends yi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M4(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class x_ extends yi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $4 extends yi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ty extends yi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Um(t){return be(t)&&t.name==="AuthRetryableFetchError"}class b_ extends yi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ky extends yi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w_=` 	
\r=`.split(""),D4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<w_.length;e+=1)t[w_[e].charCodeAt(0)]=-2;for(let e=0;e<bf.length;e+=1)t[bf[e].charCodeAt(0)]=e;return t})();function __(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bf[r]),e.queuedBits-=6}}function hP(t,e,n){const r=D4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function S_(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{F4(a,r,n)};for(let a=0;a<t.length;a+=1)hP(t.charCodeAt(a),i,o);return e.join("")}function L4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function U4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}L4(r,e)}}function F4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ya(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hP(t.charCodeAt(i),n,r);return new Uint8Array(e)}function B4(t){const e=[];return U4(t,n=>e.push(n)),new Uint8Array(e)}function Co(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>__(i,n,r)),__(null,n,r),e.join("")}function q4(t){return Math.round(Date.now()/1e3)+t}function V4(){return Symbol("auth-callback")}const zt=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},pP=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function G4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const mP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),H4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ht=async(t,e)=>{await t.removeItem(e)};class op{constructor(){this.promise=new op.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}op.promiseConstructor=Promise;function Fm(t){const e=t.split(".");if(e.length!==3)throw new ky("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!P4.test(e[r]))throw new ky("JWT not in base64url format");return{header:JSON.parse(S_(e[0])),payload:JSON.parse(S_(e[1])),signature:Ya(e[2]),raw:{header:e[0],payload:e[1]}}}async function z4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function W4(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function K4(t){return("0"+t.toString(16)).substr(-2)}function J4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,K4).join("")}async function Y4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function X4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Y4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(t,e,n=!1){const r=J4();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wa(t,`${e}-code-verifier`,i);const o=await X4(r);return[o,r===o?"plain":"s256"]}const Q4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z4(t){const e=t.headers.get(Ny);if(!e||!e.match(Q4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function t5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fa(t){if(!n5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r5(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function E_(t){return JSON.parse(JSON.stringify(t))}const vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i5=[502,503,504];async function N_(t){var e;if(!H4(t))throw new Ty(vo(t),0);if(i5.includes(t.status))throw new Ty(vo(t),t.status);let n;try{n=await t.json()}catch(o){throw new Eo(vo(o),o)}let r;const i=Z4(t);if(i&&i.getTime()>=fP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new b_(vo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new b_(vo(n),t.status,n.weak_password.reasons);throw new I4(vo(n),t.status||500,r)}const o5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Te(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Ny]||(o[Ny]=fP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await a5(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function a5(t,e,n,r,i,o){const a=o5(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Ty(vo(l),0)}if(s.ok||await N_(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await N_(l)}}function dr(t){var e;let n=null;u5(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=q4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function T_(t){const e=dr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function s5(t){return{data:t,error:null}}function l5(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=rp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function k_(t){return t}function u5(t){return t.access_token&&t.refresh_token&&t.expires_in}const qm=["global","local","others"];class c5{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qm[0]){if(qm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qm.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Oi})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:l5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oi})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:k_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(be(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fa(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oi})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fa(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Oi})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fa(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Oi})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fa(e.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fa(e.userId),fa(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:k_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(be(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function A_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ha={debug:!!(globalThis&&pP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d5 extends gP{}async function f5(t,e,n){ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ha.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ha.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function h5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function p5(t){return parseInt(t,16)}function m5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function g5(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=yP(t.address),y=d?`${d}://${r}`:r,x=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${g}

${x}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${b}
${v}`}class Et extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class wf extends Et{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function y5({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(vP(a)){if(o.rp.id!==a)return new Et({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function v5({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(vP(r)){if(n.rpId!==r)return new Et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class x5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const b5=new x5;function w5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=rp(t,["challenge","user","excludeCredentials"]),o=Ya(e).buffer,a=Object.assign(Object.assign({},n),{id:Ya(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ya(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function _5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=rp(t,["challenge","allowCredentials"]),i=Ya(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ya(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function S5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Co(new Uint8Array(t.response.attestationObject)),clientDataJSON:Co(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Co(new Uint8Array(i.authenticatorData)),clientDataJSON:Co(new Uint8Array(i.clientDataJSON)),signature:Co(new Uint8Array(i.signature)),userHandle:i.userHandle?Co(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vP(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function C_(){var t,e;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function N5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",e)}:{data:null,error:new wf("Empty credential response",e)}}catch(e){return{data:null,error:y5({error:e,options:t})}}}async function T5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",e)}:{data:null,error:new wf("Empty credential response",e)}}catch(e){return{data:null,error:v5({error:e,options:t})}}}const k5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _f(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=_f(s,a):r[o]=_f(a)}else r[o]=a}return r}function C5(t,e){return _f(k5,t,e||{})}function P5(t,e){return _f(A5,t,e||{})}class j5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??b5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=C5(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await N5({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=P5(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await T5(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return be(a)?{data:null,error:a}:{data:null,error:new Eo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Nu("rpId is required for WebAuthn authentication")};try{if(!C_())return{data:null,error:new Eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return be(a)?{data:null,error:a}:{data:null,error:new Eo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Nu("rpId is required for WebAuthn registration")};try{if(!C_())return{data:null,error:new Eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return be(a)?{data:null,error:a}:{data:null,error:new Eo("Unexpected error in register",a)}}}}h5();const I5={url:k4,storageKey:A4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function P_(t,e,n){return await n()}const pa={};class Tu{get jwks(){var e,n;return(n=(e=pa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},I5),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Tu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Tu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&zt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new c5({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=mP(o.fetch),this.lock=o.lock||P_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&zt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=f5:this.lock=P_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=A_(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dP}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(zt()&&(n=G4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),zt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),M4(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Eo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:dr}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await da(this.storage,this.storageKey)),o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:dr})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dr})}else throw new rd("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:T_})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:T_})}else throw new rd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new ca;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,c,d,f,h;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:x,wallet:b,statement:v,options:w}=e;let _;if(zt())if(typeof b=="object")_=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=yP(S[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const C=await _.request({method:"eth_chainId"});T=p5(C)}const A={domain:N.host,address:E,statement:v,uri:N.href,version:"1",chainId:T,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=g5(A),y=await _.request({method:"personal_sign",params:[m5(g),E]})}try{const{data:x,error:b}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:dr});if(b)throw b;if(!x||!x.session||!x.user){const v=new ca;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,r,i,o,a,s,l,c,d,f,h,g;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:b,wallet:v,statement:w,options:_}=e;let N;if(zt())if(typeof v=="object")N=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))N=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const E=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),x=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=E}}try{const{data:b,error:v}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Co(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:dr});if(v)throw v;if(!b||!b.session||!b.user){const w=new ca;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await fo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $4;const{data:o,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dr});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new ca;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dr}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ca;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await da(this.storage,this.storageKey));const{error:f}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new rd("You must provide either an email or phone number.")}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:dr});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await da(this.storage,this.storageKey));const c=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:s5});return!((o=c.data)===null||o===void 0)&&o.url&&zt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Nn;const{error:i}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new rd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Lm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await fo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Bm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=r5(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oi}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Oi})})}catch(n){if(be(n))return R4(n)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Nn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await da(this.storage,this.storageKey));const{data:c,error:d}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Oi});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Fm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Nn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!zt())throw new id("No browser detected.");if(e.error||e.error_description||e.error_code)throw new id(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new id("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x_("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new id("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=ba&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await fo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(O4(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=V4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await da(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,c,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return zt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dr}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ca}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W4(async i=>(i>0&&await z4(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dr})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Um(o)&&Date.now()+a-r<ba})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),zt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await fo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await wa(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Bm()}else if(i&&!i.user&&!i.user){const a=await fo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ht(this.storage,this.storageKey+"-user"),await wa(this.storage,this.storageKey,i)):i.user=Bm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Lm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Lm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Um(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new op;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),be(o)){const a={data:null,error:o};return Um(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ht(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=E_(i);await wa(this.storage,this.storageKey,o)}else{const i=E_(n);await wa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ba);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ba);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ba}ms, refresh threshold is ${Ey} ticks`),i<=Ey&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await da(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?S5(e.webauthn.credential_response):E5(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:w5(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:_5(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fm(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Nn});const a=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Nn});const a=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+j4>i)return r;const{data:o,error:a}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Fm(r);n!=null&&n.allowExpired||e5(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=t5(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,B4(`${s}.${l}`)))throw new ky("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}Tu.nextInstanceID={};const O5=Tu,R5="2.89.0";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const M5={"X-Client-Info":`supabase-js-${jl}/${R5}`},$5={headers:M5},D5={schema:"public"},L5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U5={};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function F5(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B5(t){var e=F5(t,"string");return ku(e)=="symbol"?e:e+""}function q5(t,e,n){return(e=B5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){q5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const V5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G5=()=>Headers,H5=(t,e,n)=>{const r=V5(n),i=G5();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,gt(gt({},a),{},{headers:c}))}};function z5(t){return t.endsWith("/")?t:t+"/"}function W5(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:gt(gt({},l),i),auth:gt(gt({},c),o),realtime:gt(gt({},d),a),storage:{},global:gt(gt(gt({},f),s),{},{headers:gt(gt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function K5(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(z5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var J5=class extends O5{constructor(t){super(t)}},Y5=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=K5(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:D5,realtime:U5,auth:gt(gt({},L5),{},{storageKey:a}),global:$5},l=W5(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=H5(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new CL(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new T4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new EL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J5({url:this.authUrl.href,headers:gt(gt({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zL(this.realtimeUrl.href,gt(gt({},t),{},{params:gt(gt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const X5=(t,e,n)=>new Y5(t,e,n);function Q5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Q5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Z5="https://krgznynrljnvxwhvsdxj.supabase.co",eU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function xP(t){try{if(typeof import.meta<"u"&&import.meta&&I_)return I_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const tU=xP("VITE_SUPABASE_URL"),nU=xP("VITE_SUPABASE_ANON_KEY"),bP=tU||Z5,rU=nU||eU;bP.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const Be=X5(bP,rU),_c=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},wP=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Sc=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},_P=t=>{localStorage.setItem("cartable",JSON.stringify(t))},SP=async(t,e)=>{try{const{data:n,error:r}=await Be.from("messages").select("*").order("created_at",{ascending:!1});if(r)throw r;const o=(n||[]).map(l=>({id:l.id,senderId:l.sender_id,senderName:l.sender_name,receiverId:l.receiver_id,receiverType:l.receiver_type,subject:l.subject,body:l.body,createdAt:l.created_at,readBy:l.read_by||[],attachments:l.attachments||[]})),a=o.filter(l=>l.receiverType==="USER"&&l.receiverId===t||l.receiverType==="ALL"||l.receiverType==="GROUP"&&l.receiverId===e),s=o.filter(l=>l.senderId===t);return{inbox:a,sent:s}}catch(n){return console.error("Error fetching messages:",n),{inbox:[],sent:[]}}},iU=async(t,e)=>{try{const{inbox:n}=await SP(t,e);return n.filter(r=>!r.readBy.includes(t)).length}catch{return 0}},oU=async(t,e,n,r,i,o=[])=>{const a=`${st()} ${hs()}`,s=[];if(n==="USER"&&Array.isArray(e))e.forEach(c=>{s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:"USER",subject:r,body:i,created_at:a,read_by:[],attachments:o})});else{const c=Array.isArray(e)?e[0]:e;s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:c,receiver_type:n,subject:r,body:i,created_at:a,read_by:[],attachments:o})}const{error:l}=await Be.from("messages").insert(s);if(l)throw l},aU=async(t,e)=>{if(!t.readBy.includes(e)){const n=[...t.readBy,e];await Be.from("messages").update({read_by:n}).eq("id",t.id)}},Le=async t=>{try{const{data:e,error:n}=await Be.from(t).select("*");if(!n&&e&&!(t==="measurement_units"&&e.length===0))return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},sU=async()=>{try{const{data:t,error:e}=await Be.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching shift reports:",t),[]}},lU=async t=>{try{const e={tracking_code:t.code,shift_date:t.shiftInfo.date,shift_name:t.shiftInfo.name,shift_type:t.shiftInfo.type,shift_duration:t.shiftInfo.shiftDuration,supervisor_id:t.shiftInfo.supervisor,supervisor_name:t.shiftInfo.supervisorName,total_production_a:t.totalA,total_production_b:t.totalB,full_data:t},{error:n}=await Be.from("shift_reports").insert([e]);if(n)throw n;return!0}catch(e){throw console.error("Error saving shift report:",e),e}},Ec=async t=>{try{const{data:e,error:n}=await Be.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},uU=()=>{let t=_c();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:$n.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:$n.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:$n.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),wP(t)}};uU();const Au=()=>_c(),cU=t=>{const e=_c(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),wP(e)},Qi=(t,e,n,r,i)=>{let a=_c().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:Do(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:st(),updatedAt:st(),data:{...e,status:"REQUEST"}},c=Sc();return c.push(l),_P(c),l},dU=(t,e,n,r)=>{const i=Sc(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=_c().find(f=>f.id===a.workflowId);if(!l)return;const c=l.steps.find(f=>f.id===a.currentStepId);if(!c)return;const d=c.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=$n.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=st(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,_P(i)}},O_=t=>Sc().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),EP=()=>Sc().filter(e=>e.module==="WORK_ORDER"),Nc=t=>Sc().filter(n=>n.module===t),fU=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var N;const[o,a]=k.useState(!1),[s,l]=k.useState(!1),[c,d]=k.useState([]),[f,h]=k.useState(0),g=Vs(),y=Jh(),x=y.pathname==="/login";if(k.useEffect(()=>{Om.forEach(S=>{S.submenu&&S.submenu.some(T=>T.path===y.pathname)&&!c.includes(S.id)&&d(T=>[...T,S.id])})},[y.pathname]),k.useEffect(()=>{if(!e)return;const S=async()=>{const T=await iU(e.id,e.role);h(T)};S();const E=setInterval(S,3e4);return()=>clearInterval(E)},[e]),x)return u.jsx(u.Fragment,{children:t});const b=()=>{g(-1)},v=y.pathname==="/",w=S=>{s?(l(!1),d([S])):d(E=>E.includes(S)?E.filter(T=>T!==S):[...E,S])},_=S=>{S.submenu?w(S.id):(g(S.path),a(!1))};return u.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),u.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${o?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${s?"md:w-20":"md:w-64"}
      `,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${s?"justify-center":"justify-between"}`,children:[!s&&u.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""}),u.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:u.jsx(Xt,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>l(!s),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:s?"  ":" ",children:s?u.jsx(rL,{className:"w-5 h-5"}):u.jsx(nL,{className:"w-5 h-5"})})]}),u.jsxs("div",{onClick:()=>{g("/settings"),a(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${s?"justify-center":""}
            `,title:s?e==null?void 0:e.fullName:" ",children:[u.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all shadow-sm",children:e!=null&&e.avatar?u.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):u.jsx(fs,{className:"w-5 h-5"})}),!s&&u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.role})]})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:Om.map(S=>{var I,D;if(S.id==="settings"||S.role&&(e==null?void 0:e.role)!==S.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const E=!!S.submenu,T=c.includes(S.id),A=E&&((I=S.submenu)==null?void 0:I.some(B=>B.path===y.pathname)),C=!E&&y.pathname===S.path,j=S.id==="messages"&&f>0;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>_(S),title:s?S.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${s?"justify-center px-2":"px-6 text-right justify-between"}
                      ${C||A?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx(S.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${j?"animate-pulse":""} ${(C||A)&&!s?"scale-110":""}`}),j&&s&&u.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!s&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm truncate ${C||A?"font-bold":"font-medium"}`,children:S.title}),j&&u.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:f})]})]}),!s&&E&&u.jsx(Xh,{className:`w-4 h-4 transition-transform duration-200 ${T?"rotate-180":""}`}),s&&u.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[S.title,j&&u.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:f})]})]}),!s&&E&&T&&u.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:(D=S.submenu)==null?void 0:D.map(B=>{const O=y.pathname===B.path;return u.jsxs("button",{onClick:()=>{g(B.path),a(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${O?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[u.jsx(B.icon,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs",children:B.title})]},B.id)})})]},S.id)})}),u.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[u.jsxs("button",{onClick:i,title:s?r?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[r?u.jsx(dL,{className:"w-5 h-5"}):u.jsx(tL,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:r?" ":" "})]}),u.jsxs("button",{onClick:n,title:s?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[u.jsx(QD,{className:"w-5 h-5"}),!s&&u.jsx("span",{className:"text-sm",children:""})]})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[u.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:u.jsx(eL,{className:"w-6 h-6"})}),!v&&u.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(xc,{className:"w-6 h-6 text-gray-500"})}),u.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((N=Om.flatMap(S=>S.submenu?S.submenu:S).find(S=>S.path===y.pathname))==null?void 0:N.title)||(y.pathname==="/settings"?"":"")})]}),u.jsx("div",{className:"flex items-center gap-2"})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:t})]})]})},hU="1.0.0",R_=`--      SQL Editor  Supabase  
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text,
  unit text,
  created_at timestamptz default now()
);

create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  password text,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);
`,pU=({onLogin:t})=>{const[e,n]=k.useState(""),[r,i]=k.useState(""),[o,a]=k.useState(""),[s,l]=k.useState(!1),[c,d]=k.useState(!1),[f,h]=k.useState(!1),[g,y]=k.useState(null),[x,b]=k.useState(""),[v,w]=k.useState(""),[_,N]=k.useState(!1),[S,E]=k.useState("checking"),[T,A]=k.useState(""),[C,j]=k.useState(!1),[I,D]=k.useState(!1);k.useEffect(()=>{B()},[]);const B=async()=>{E("checking");try{const{error:M}=await Be.from("app_users").select("count",{count:"exact",head:!0});if(M)throw M;E("connected"),A("  ")}catch(M){console.error("Connection Error:",M),E("error"),A(M.message||"  ")}},O=()=>{navigator.clipboard.writeText(R_),D(!0),setTimeout(()=>D(!1),2e3)},P={id:"1",username:"admin",fullName:" ",role:"ADMIN",passwordHash:"12381",isDefaultPassword:!1},U=async M=>{var W,X;if(M.preventDefault(),a(""),l(!0),e.toLowerCase()==="admin"&&r==="12381"){setTimeout(()=>{t(P),l(!1)},500);return}try{const{data:L,error:K}=await Be.from("app_users").select("*, personnel (full_name, personnel_code, unit)").eq("username",e).single();if(K||!L)throw new Error("      ");if(L.password!==r)throw new Error("      ");const re={id:L.id,username:L.username,fullName:((W=L.personnel)==null?void 0:W.full_name)||L.username,role:L.role,isDefaultPassword:L.is_default_password,personnelCode:(X=L.personnel)==null?void 0:X.personnel_code,avatar:L.avatar};if(re.isDefaultPassword){h(!0),y(re),l(!1);return}t(re)}catch(L){a(L.message)}finally{l(!1)}},q=async M=>{if(M.preventDefault(),x!==v){a("    ");return}l(!0);try{if(g){const{error:W}=await Be.from("app_users").update({password:x,is_default_password:!1}).eq("id",g.id);if(W)throw W;N(!0),setTimeout(()=>{h(!1),N(!1),i("")},2e3)}}catch(W){a(W.message)}finally{l(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 font-sans relative overflow-hidden",dir:"rtl",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[10%] -right-[10%] w-96 h-96 bg-red-900/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-80 h-80 bg-blue-900/10 rounded-full blur-3xl"})]}),u.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400",children:"     "}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-bold",children:"    "})]}),u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("div",{className:"w-24 h-24 bg-white rounded-full shadow-lg flex items-center justify-center text-[#800020]",children:u.jsx(WD,{className:"w-12 h-12 stroke-[1.5]"})})}),!f&&u.jsxs("div",{className:"flex justify-center gap-2",children:[u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-[10px] font-bold border ${S==="error"?"bg-red-50 text-red-600 border-red-200":"bg-green-50 text-green-600 border-green-200"}`,children:[S==="checking"?u.jsx(gL,{className:"w-3 h-3 animate-pulse"}):S==="connected"?u.jsx(cs,{className:"w-3 h-3"}):u.jsx(aL,{className:"w-3 h-3"}),u.jsx("span",{children:T})]}),S==="error"&&u.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-1 px-3 py-1 rounded-full text-[10px] bg-blue-50 text-blue-600 border border-blue-200",children:[u.jsx(FD,{className:"w-3 h-3"}),"  SQL"]})]}),u.jsx("div",{className:"bg-white/90 dark:bg-gray-800 backdrop-blur-md rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-700",children:f?u.jsx("form",{onSubmit:q,className:"space-y-4",children:_?u.jsxs("div",{className:"text-center py-8 text-green-600 space-y-2",children:[u.jsx(Yh,{className:"w-12 h-12 mx-auto"}),u.jsx("p",{className:"font-bold",children:"     "})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-center mb-4",children:u.jsx("h2",{className:"font-bold text-gray-800 dark:text-white",children:"   "})}),u.jsx("input",{type:"password",placeholder:"  ",className:"w-full h-12 px-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#800020] outline-none transition-colors",value:x,onChange:M=>b(M.target.value),required:!0}),u.jsx("input",{type:"password",placeholder:"   ",className:"w-full h-12 px-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#800020] outline-none transition-colors",value:v,onChange:M=>w(M.target.value),required:!0}),u.jsx("button",{type:"submit",disabled:s,className:"w-full h-12 bg-[#800020] text-white rounded-xl font-bold hover:bg-[#600018] transition-colors flex items-center justify-center gap-2",children:s?u.jsx(hn,{className:"animate-spin w-5 h-5"}):"  "})]})}):u.jsxs("form",{onSubmit:U,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(fs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",className:"w-full h-12 pr-10 pl-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#800020] outline-none transition-colors text-right",dir:"rtl",placeholder:" ...",value:e,onChange:M=>n(M.target.value),required:!0})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(YD,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:c?"text":"password",className:"w-full h-12 pr-10 pl-10 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#800020] outline-none transition-colors text-right",dir:"rtl",placeholder:" ...",value:r,onChange:M=>i(M.target.value),required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:c?u.jsx(qD,{className:"w-5 h-5"}):u.jsx(hx,{className:"w-5 h-5"})})]})]}),o&&u.jsxs("div",{className:"bg-red-50 text-red-600 text-xs p-3 rounded-lg flex items-center gap-2",children:[u.jsx(HC,{className:"w-4 h-4 shrink-0"}),o]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full h-12 bg-[#800020] text-white rounded-xl font-bold hover:bg-[#600018] transition-colors flex items-center justify-center gap-2",children:s?u.jsx(hn,{className:"animate-spin w-5 h-5"}):u.jsxs(u.Fragment,{children:[u.jsx(XD,{className:"w-5 h-5"}),"   "]})})]})}),u.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:[" ",hU]})]}),C&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",dir:"ltr",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl h-[70vh] flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[u.jsx("span",{className:"font-bold text-sm",children:"Database Setup SQL"}),u.jsx("button",{onClick:()=>j(!1),children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 p-4 overflow-auto bg-[#1e1e1e] text-blue-300 font-mono text-xs",children:u.jsx("pre",{children:R_})}),u.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:u.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:[I?u.jsx(cs,{className:"w-4 h-4"}):u.jsx(UD,{className:"w-4 h-4"}),I?"Copied":"Copy SQL"]})})]})})]})};function NP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NP(t))&&(r&&(r+=" "),r+=e);return r}var mU=Array.isArray,En=mU,gU=typeof Dc=="object"&&Dc&&Dc.Object===Object&&Dc,TP=gU,yU=TP,vU=typeof self=="object"&&self&&self.Object===Object&&self,xU=yU||vU||Function("return this")(),Br=xU,bU=Br,wU=bU.Symbol,Tc=wU,M_=Tc,kP=Object.prototype,_U=kP.hasOwnProperty,SU=kP.toString,ml=M_?M_.toStringTag:void 0;function EU(t){var e=_U.call(t,ml),n=t[ml];try{t[ml]=void 0;var r=!0}catch{}var i=SU.call(t);return r&&(e?t[ml]=n:delete t[ml]),i}var NU=EU,TU=Object.prototype,kU=TU.toString;function AU(t){return kU.call(t)}var CU=AU,$_=Tc,PU=NU,jU=CU,IU="[object Null]",OU="[object Undefined]",D_=$_?$_.toStringTag:void 0;function RU(t){return t==null?t===void 0?OU:IU:D_&&D_ in Object(t)?PU(t):jU(t)}var vi=RU;function MU(t){return t!=null&&typeof t=="object"}var xi=MU,$U=vi,DU=xi,LU="[object Symbol]";function UU(t){return typeof t=="symbol"||DU(t)&&$U(t)==LU}var Hs=UU,FU=En,BU=Hs,qU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VU=/^\w*$/;function GU(t,e){if(FU(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||BU(t)?!0:VU.test(t)||!qU.test(t)||e!=null&&t in Object(e)}var _x=GU;function HU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var io=HU;const zs=We(io);var zU=vi,WU=io,KU="[object AsyncFunction]",JU="[object Function]",YU="[object GeneratorFunction]",XU="[object Proxy]";function QU(t){if(!WU(t))return!1;var e=zU(t);return e==JU||e==YU||e==KU||e==XU}var Sx=QU;const Ce=We(Sx);var ZU=Br,e3=ZU["__core-js_shared__"],t3=e3,Vm=t3,L_=function(){var t=/[^.]+$/.exec(Vm&&Vm.keys&&Vm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n3(t){return!!L_&&L_ in t}var r3=n3,i3=Function.prototype,o3=i3.toString;function a3(t){if(t!=null){try{return o3.call(t)}catch{}try{return t+""}catch{}}return""}var AP=a3,s3=Sx,l3=r3,u3=io,c3=AP,d3=/[\\^$.*+?()[\]{}|]/g,f3=/^\[object .+?Constructor\]$/,h3=Function.prototype,p3=Object.prototype,m3=h3.toString,g3=p3.hasOwnProperty,y3=RegExp("^"+m3.call(g3).replace(d3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v3(t){if(!u3(t)||l3(t))return!1;var e=s3(t)?y3:f3;return e.test(c3(t))}var x3=v3;function b3(t,e){return t==null?void 0:t[e]}var w3=b3,_3=x3,S3=w3;function E3(t,e){var n=S3(t,e);return _3(n)?n:void 0}var na=E3,N3=na,T3=N3(Object,"create"),ap=T3,U_=ap;function k3(){this.__data__=U_?U_(null):{},this.size=0}var A3=k3;function C3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var P3=C3,j3=ap,I3="__lodash_hash_undefined__",O3=Object.prototype,R3=O3.hasOwnProperty;function M3(t){var e=this.__data__;if(j3){var n=e[t];return n===I3?void 0:n}return R3.call(e,t)?e[t]:void 0}var $3=M3,D3=ap,L3=Object.prototype,U3=L3.hasOwnProperty;function F3(t){var e=this.__data__;return D3?e[t]!==void 0:U3.call(e,t)}var B3=F3,q3=ap,V3="__lodash_hash_undefined__";function G3(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=q3&&e===void 0?V3:e,this}var H3=G3,z3=A3,W3=P3,K3=$3,J3=B3,Y3=H3;function Ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ws.prototype.clear=z3;Ws.prototype.delete=W3;Ws.prototype.get=K3;Ws.prototype.has=J3;Ws.prototype.set=Y3;var X3=Ws;function Q3(){this.__data__=[],this.size=0}var Z3=Q3;function eF(t,e){return t===e||t!==t&&e!==e}var Ex=eF,tF=Ex;function nF(t,e){for(var n=t.length;n--;)if(tF(t[n][0],e))return n;return-1}var sp=nF,rF=sp,iF=Array.prototype,oF=iF.splice;function aF(t){var e=this.__data__,n=rF(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oF.call(e,n,1),--this.size,!0}var sF=aF,lF=sp;function uF(t){var e=this.__data__,n=lF(e,t);return n<0?void 0:e[n][1]}var cF=uF,dF=sp;function fF(t){return dF(this.__data__,t)>-1}var hF=fF,pF=sp;function mF(t,e){var n=this.__data__,r=pF(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gF=mF,yF=Z3,vF=sF,xF=cF,bF=hF,wF=gF;function Ks(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ks.prototype.clear=yF;Ks.prototype.delete=vF;Ks.prototype.get=xF;Ks.prototype.has=bF;Ks.prototype.set=wF;var lp=Ks,_F=na,SF=Br,EF=_F(SF,"Map"),Nx=EF,F_=X3,NF=lp,TF=Nx;function kF(){this.size=0,this.__data__={hash:new F_,map:new(TF||NF),string:new F_}}var AF=kF;function CF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var PF=CF,jF=PF;function IF(t,e){var n=t.__data__;return jF(e)?n[typeof e=="string"?"string":"hash"]:n.map}var up=IF,OF=up;function RF(t){var e=OF(this,t).delete(t);return this.size-=e?1:0,e}var MF=RF,$F=up;function DF(t){return $F(this,t).get(t)}var LF=DF,UF=up;function FF(t){return UF(this,t).has(t)}var BF=FF,qF=up;function VF(t,e){var n=qF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var GF=VF,HF=AF,zF=MF,WF=LF,KF=BF,JF=GF;function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=HF;Js.prototype.delete=zF;Js.prototype.get=WF;Js.prototype.has=KF;Js.prototype.set=JF;var Tx=Js,CP=Tx,YF="Expected a function";function kx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(kx.Cache||CP),n}kx.Cache=CP;var PP=kx;const XF=We(PP);var QF=PP,ZF=500;function eB(t){var e=QF(t,function(r){return n.size===ZF&&n.clear(),r}),n=e.cache;return e}var tB=eB,nB=tB,rB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iB=/\\(\\)?/g,oB=nB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rB,function(n,r,i,o){e.push(i?o.replace(iB,"$1"):r||n)}),e}),aB=oB;function sB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ax=sB,B_=Tc,lB=Ax,uB=En,cB=Hs,q_=B_?B_.prototype:void 0,V_=q_?q_.toString:void 0;function jP(t){if(typeof t=="string")return t;if(uB(t))return lB(t,jP)+"";if(cB(t))return V_?V_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var dB=jP,fB=dB;function hB(t){return t==null?"":fB(t)}var IP=hB,pB=En,mB=_x,gB=aB,yB=IP;function vB(t,e){return pB(t)?t:mB(t,e)?[t]:gB(yB(t))}var OP=vB,xB=Hs;function bB(t){if(typeof t=="string"||xB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cp=bB,wB=OP,_B=cp;function SB(t,e){e=wB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[_B(e[n++])];return n&&n==r?t:void 0}var Cx=SB,EB=Cx;function NB(t,e,n){var r=t==null?void 0:EB(t,e);return r===void 0?n:r}var RP=NB;const Ln=We(RP);function TB(t){return t==null}var kB=TB;const Ie=We(kB);var AB=vi,CB=En,PB=xi,jB="[object String]";function IB(t){return typeof t=="string"||!CB(t)&&PB(t)&&AB(t)==jB}var OB=IB;const zo=We(OB);var MP={exports:{}},Ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=Symbol.for("react.element"),jx=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),RB=Symbol.for("react.server_context"),gp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),bp=Symbol.for("react.lazy"),MB=Symbol.for("react.offscreen"),$P;$P=Symbol.for("react.module.reference");function sr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Px:switch(t=t.type,t){case dp:case hp:case fp:case yp:case vp:return t;default:switch(t=t&&t.$$typeof,t){case RB:case mp:case gp:case bp:case xp:case pp:return t;default:return e}}case jx:return e}}}Ke.ContextConsumer=mp;Ke.ContextProvider=pp;Ke.Element=Px;Ke.ForwardRef=gp;Ke.Fragment=dp;Ke.Lazy=bp;Ke.Memo=xp;Ke.Portal=jx;Ke.Profiler=hp;Ke.StrictMode=fp;Ke.Suspense=yp;Ke.SuspenseList=vp;Ke.isAsyncMode=function(){return!1};Ke.isConcurrentMode=function(){return!1};Ke.isContextConsumer=function(t){return sr(t)===mp};Ke.isContextProvider=function(t){return sr(t)===pp};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Px};Ke.isForwardRef=function(t){return sr(t)===gp};Ke.isFragment=function(t){return sr(t)===dp};Ke.isLazy=function(t){return sr(t)===bp};Ke.isMemo=function(t){return sr(t)===xp};Ke.isPortal=function(t){return sr(t)===jx};Ke.isProfiler=function(t){return sr(t)===hp};Ke.isStrictMode=function(t){return sr(t)===fp};Ke.isSuspense=function(t){return sr(t)===yp};Ke.isSuspenseList=function(t){return sr(t)===vp};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dp||t===hp||t===fp||t===yp||t===vp||t===MB||typeof t=="object"&&t!==null&&(t.$$typeof===bp||t.$$typeof===xp||t.$$typeof===pp||t.$$typeof===mp||t.$$typeof===gp||t.$$typeof===$P||t.getModuleId!==void 0)};Ke.typeOf=sr;MP.exports=Ke;var $B=MP.exports,DB=vi,LB=xi,UB="[object Number]";function FB(t){return typeof t=="number"||LB(t)&&DB(t)==UB}var DP=FB;const BB=We(DP);var qB=DP;function VB(t){return qB(t)&&t!=+t}var GB=VB;const kc=We(GB);var un=function(e){return e===0?0:e>0?1:-1},Po=function(e){return zo(e)&&e.indexOf("%")===e.length-1},ie=function(e){return BB(e)&&!kc(e)},HB=function(e){return Ie(e)},Mt=function(e){return ie(e)||zo(e)},zB=0,Ys=function(e){var n=++zB;return"".concat(e||"").concat(n)},cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!zo(e))return r;var o;if(Po(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return kc(o)&&(o=r),i&&o>n&&(o=n),o},Ri=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},WB=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},jn=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function Sf(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ln(r,e))===n})}var KB=function(e,n){return ie(e)&&ie(n)?e-n:zo(e)&&zo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var JB=["viewBox","children"],YB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G_=["points","pathLength"],Gm={svg:JB,polygon:G_,polyline:G_},Ix=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ef=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!zs(r))return null;var i={};return Object.keys(r).forEach(function(o){Ix.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},XB=function(e,n,r){return function(i){return e(n,r,i),null}},Wo=function(e,n,r){if(!zs(e)||Ay(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Ix.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=XB(a,n,r))}),i},QB=["children"],ZB=["children"];function H_(t,e){if(t==null)return{};var n=e8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var z_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ii=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},W_=null,Hm=null,Ox=function t(e){if(e===W_&&Array.isArray(Hm))return Hm;var n=[];return k.Children.forEach(e,function(r){Ie(r)||($B.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Hm=n,W_=e,n};function Un(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ii(i)}):r=[ii(e)],Ox(t).forEach(function(i){var o=Ln(i,"type.displayName")||Ln(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cn(t,e){var n=Un(t,e);return n&&n[0]}var K_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},t8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],n8=function(e){return e&&e.type&&zo(e.type)&&t8.indexOf(e.type)>=0},r8=function(e){return e&&Cy(e)==="object"&&"clipDot"in e},i8=function(e,n,r,i){var o,a=(o=Gm==null?void 0:Gm[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ce(e)&&(i&&a.includes(n)||YB.includes(n))||r&&Ix.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!zs(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;i8((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Py=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return J_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!J_(o,a))return!1}return!0},J_=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=H_(r,QB),a=n.props||{},s=a.children,l=H_(a,ZB);return i&&s?Xa(o,l)&&Py(i,s):!i&&!s?Xa(o,l):!1}return!1},Y_=function(e,n){var r=[],i={};return Ox(e).forEach(function(o,a){if(n8(o))r.push(o);else if(o){var s=ii(o.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},o8=function(e){var n=e&&e.type;return n&&z_[n]?z_[n]:null},a8=function(e,n){return Ox(n).indexOf(e)},s8=["children","width","height","viewBox","className","style","title","desc"];function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function l8(t,e){if(t==null)return{};var n=u8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iy(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=l8(t,s8),d=i||{width:n,height:r,x:0,y:0},f=Oe("recharts-surface",o);return R.createElement("svg",jy({},Se(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),e)}var c8=["children","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function d8(t,e){if(t==null)return{};var n=f8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qe=R.forwardRef(function(t,e){var n=t.children,r=t.className,i=d8(t,c8),o=Oe("recharts-layer",r);return R.createElement("g",Oy({className:o},Se(i,!0),{ref:e}),n)}),_r=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function h8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var p8=h8,m8=p8;function g8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:m8(t,e,n)}var y8=g8,v8="\\ud800-\\udfff",x8="\\u0300-\\u036f",b8="\\ufe20-\\ufe2f",w8="\\u20d0-\\u20ff",_8=x8+b8+w8,S8="\\ufe0e\\ufe0f",E8="\\u200d",N8=RegExp("["+E8+v8+_8+S8+"]");function T8(t){return N8.test(t)}var LP=T8;function k8(t){return t.split("")}var A8=k8,UP="\\ud800-\\udfff",C8="\\u0300-\\u036f",P8="\\ufe20-\\ufe2f",j8="\\u20d0-\\u20ff",I8=C8+P8+j8,O8="\\ufe0e\\ufe0f",R8="["+UP+"]",Ry="["+I8+"]",My="\\ud83c[\\udffb-\\udfff]",M8="(?:"+Ry+"|"+My+")",FP="[^"+UP+"]",BP="(?:\\ud83c[\\udde6-\\uddff]){2}",qP="[\\ud800-\\udbff][\\udc00-\\udfff]",$8="\\u200d",VP=M8+"?",GP="["+O8+"]?",D8="(?:"+$8+"(?:"+[FP,BP,qP].join("|")+")"+GP+VP+")*",L8=GP+VP+D8,U8="(?:"+[FP+Ry+"?",Ry,BP,qP,R8].join("|")+")",F8=RegExp(My+"(?="+My+")|"+U8+L8,"g");function B8(t){return t.match(F8)||[]}var q8=B8,V8=A8,G8=LP,H8=q8;function z8(t){return G8(t)?H8(t):V8(t)}var W8=z8,K8=y8,J8=LP,Y8=W8,X8=IP;function Q8(t){return function(e){e=X8(e);var n=J8(e)?Y8(e):void 0,r=n?n[0]:e.charAt(0),i=n?K8(n,1).join(""):e.slice(1);return r[t]()+i}}var Z8=Q8,e6=Z8,t6=e6("toUpperCase"),n6=t6;const wp=We(n6);function Ze(t){return function(){return t}}const HP=Math.cos,Nf=Math.sin,Tr=Math.sqrt,Tf=Math.PI,_p=2*Tf,$y=Math.PI,Dy=2*$y,xo=1e-6,r6=Dy-xo;function zP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function i6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class o6{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zP:i6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>xo)if(!(Math.abs(f*l-c*d)>xo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,y=i-s,x=l*l+c*c,b=g*g+y*y,v=Math.sqrt(x),w=Math.sqrt(h),_=o*Math.tan(($y-Math.acos((x+h-b)/(2*v*w)))/2),N=_/w,S=_/v;Math.abs(N-1)>xo&&this._append`L${e+N*d},${n+N*f}`,this._append`A${o},${o},0,0,${+(f*g>d*y)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xo||Math.abs(this._y1-d)>xo)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Dy+Dy),h>r6?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>xo&&this._append`A${r},${r},0,${+(h>=$y)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Rx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new o6(e)}function Mx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WP(t){this._context=t}WP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sp(t){return new WP(t)}function KP(t){return t[0]}function JP(t){return t[1]}function YP(t,e){var n=Ze(!0),r=null,i=Sp,o=null,a=Rx(s);t=typeof t=="function"?t:t===void 0?KP:Ze(t),e=typeof e=="function"?e:e===void 0?JP:Ze(e);function s(l){var c,d=(l=Mx(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function od(t,e,n){var r=null,i=Ze(!0),o=null,a=Sp,s=null,l=Rx(c);t=typeof t=="function"?t:t===void 0?KP:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JP:Ze(+n);function c(f){var h,g,y,x=(f=Mx(f)).length,b,v=!1,w,_=new Array(x),N=new Array(x);for(o==null&&(s=a(w=l())),h=0;h<=x;++h){if(!(h<x&&i(b=f[h],h,f))===v)if(v=!v)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=g;--y)s.point(_[y],N[y]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+t(b,h,f),N[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):N[h]))}if(w)return s=null,w+""||null}function d(){return YP().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ze(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class XP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function a6(t){return new XP(t,!0)}function s6(t){return new XP(t,!1)}const $x={draw(t,e){const n=Tr(e/Tf);t.moveTo(n,0),t.arc(0,0,n,0,_p)}},l6={draw(t,e){const n=Tr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QP=Tr(1/3),u6=QP*2,c6={draw(t,e){const n=Tr(e/u6),r=n*QP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},d6={draw(t,e){const n=Tr(e),r=-n/2;t.rect(r,r,n,n)}},f6=.8908130915292852,ZP=Nf(Tf/10)/Nf(7*Tf/10),h6=Nf(_p/10)*ZP,p6=-HP(_p/10)*ZP,m6={draw(t,e){const n=Tr(e*f6),r=h6*n,i=p6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=_p*o/5,s=HP(a),l=Nf(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},zm=Tr(3),g6={draw(t,e){const n=-Tr(e/(zm*3));t.moveTo(0,n*2),t.lineTo(-zm*n,-n),t.lineTo(zm*n,-n),t.closePath()}},Wn=-.5,Kn=Tr(3)/2,Ly=1/Tr(12),y6=(Ly/2+1)*3,v6={draw(t,e){const n=Tr(e/y6),r=n/2,i=n*Ly,o=r,a=n*Ly+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Wn*r-Kn*i,Kn*r+Wn*i),t.lineTo(Wn*o-Kn*a,Kn*o+Wn*a),t.lineTo(Wn*s-Kn*l,Kn*s+Wn*l),t.lineTo(Wn*r+Kn*i,Wn*i-Kn*r),t.lineTo(Wn*o+Kn*a,Wn*a-Kn*o),t.lineTo(Wn*s+Kn*l,Wn*l-Kn*s),t.closePath()}};function x6(t,e){let n=null,r=Rx(i);t=typeof t=="function"?t:Ze(t||$x),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function kf(){}function Af(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ej(t){this._context=t}ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b6(t){return new ej(t)}function tj(t){this._context=t}tj.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w6(t){return new tj(t)}function nj(t){this._context=t}nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _6(t){return new nj(t)}function rj(t){this._context=t}rj.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function S6(t){return new rj(t)}function X_(t){return t<0?-1:1}function Q_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(X_(o)+X_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Z_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Cf(t){this._context=t}Cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wm(this,this._t0,Z_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wm(this,Z_(this,n=Q_(this,t,e)),n);break;default:Wm(this,this._t0,n=Q_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ij(t){this._context=new oj(t)}(ij.prototype=Object.create(Cf.prototype)).point=function(t,e){Cf.prototype.point.call(this,e,t)};function oj(t){this._context=t}oj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function E6(t){return new Cf(t)}function N6(t){return new ij(t)}function aj(t){this._context=t}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eS(t),i=eS(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eS(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function T6(t){return new aj(t)}function Ep(t,e){this._context=t,this._t=e}Ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function k6(t){return new Ep(t,.5)}function A6(t){return new Ep(t,0)}function C6(t){return new Ep(t,1)}function ms(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Uy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function P6(t,e){return t[e]}function j6(t){const e=[];return e.key=t,e}function I6(){var t=Ze([]),e=Uy,n=ms,r=P6;function i(o){var a=Array.from(t.apply(this,arguments),j6),s,l=a.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,d=Mx(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Uy:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ms,i):n},i}function O6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ms(t,e)}}function R6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ms(t,e)}}function M6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,g=(f-h)/2,y=0;y<s;++y){var x=t[e[y]],b=x[r][1]||0,v=x[r-1][1]||0;g+=b-v}l+=f,c+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ms(t,e)}}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}var $6=["type","size","sizeType"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(this,arguments)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){D6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=U6(t,"string");return Cu(e)=="symbol"?e:e+""}function U6(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F6(t,e){if(t==null)return{};var n=B6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sj={symbolCircle:$x,symbolCross:l6,symbolDiamond:c6,symbolSquare:d6,symbolStar:m6,symbolTriangle:g6,symbolWye:v6},q6=Math.PI/180,V6=function(e){var n="symbol".concat(wp(e));return sj[n]||$x},G6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*q6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},H6=function(e,n){sj["symbol".concat(wp(e))]=n},Dx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=F6(e,$6),c=nS(nS({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=V6(r),v=x6().type(b).size(G6(o,s,r));return v()},f=c.className,h=c.cx,g=c.cy,y=Se(c,!0);return h===+h&&g===+g&&o===+o?R.createElement("path",Fy({},y,{className:Oe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Dx.registerSymbol=H6;function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){Pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uj(r.key),r)}}function J6(t,e,n){return e&&K6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y6(t,e,n){return e=Pf(e),X6(t,lj()?Reflect.construct(e,n||[],Pf(t).constructor):e.apply(t,n))}function X6(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q6(t)}function Q6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lj=function(){return!!t})()}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}function Z6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qy(t,e)}function qy(t,e){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qy(t,e)}function Pu(t,e,n){return e=uj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=eq(t,"string");return gs(e)=="symbol"?e:e+""}function eq(t,e){if(gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jn=32,Lx=function(t){function e(){return W6(this,e),Y6(this,e,arguments)}return Z6(e,t),J6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Jn/2,a=Jn/6,s=Jn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Jn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Jn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jn/8,"h").concat(Jn,"v").concat(Jn*3/4,"h").concat(-Jn,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var c=z6({},r);return delete c.legendIcon,R.cloneElement(r.legendIcon,c)}return R.createElement(Dx,{fill:l,cx:o,cy:o,size:Jn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Jn,height:Jn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var x=g.formatter||l,b=Oe(Pu(Pu({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var v=Ce(g.value)?null:g.value;_r(!Ce(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?c:g.color;return R.createElement("li",By({className:b,style:f,key:"legend-item-".concat(y)},Wo(r.props,g,y)),R.createElement(Iy,{width:a,height:a,viewBox:d,style:h},r.renderIcon(g)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(v,g,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(k.PureComponent);Pu(Lx,"displayName","Legend");Pu(Lx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tq=lp;function nq(){this.__data__=new tq,this.size=0}var rq=nq;function iq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var oq=iq;function aq(t){return this.__data__.get(t)}var sq=aq;function lq(t){return this.__data__.has(t)}var uq=lq,cq=lp,dq=Nx,fq=Tx,hq=200;function pq(t,e){var n=this.__data__;if(n instanceof cq){var r=n.__data__;if(!dq||r.length<hq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fq(r)}return n.set(t,e),this.size=n.size,this}var mq=pq,gq=lp,yq=rq,vq=oq,xq=sq,bq=uq,wq=mq;function Xs(t){var e=this.__data__=new gq(t);this.size=e.size}Xs.prototype.clear=yq;Xs.prototype.delete=vq;Xs.prototype.get=xq;Xs.prototype.has=bq;Xs.prototype.set=wq;var cj=Xs,_q="__lodash_hash_undefined__";function Sq(t){return this.__data__.set(t,_q),this}var Eq=Sq;function Nq(t){return this.__data__.has(t)}var Tq=Nq,kq=Tx,Aq=Eq,Cq=Tq;function jf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new kq;++e<n;)this.add(t[e])}jf.prototype.add=jf.prototype.push=Aq;jf.prototype.has=Cq;var dj=jf;function Pq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fj=Pq;function jq(t,e){return t.has(e)}var hj=jq,Iq=dj,Oq=fj,Rq=hj,Mq=1,$q=2;function Dq(t,e,n,r,i,o){var a=n&Mq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,g=n&$q?new Iq:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],x=e[f];if(r)var b=a?r(x,y,f,e,t,o):r(y,x,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!Oq(e,function(v,w){if(!Rq(g,w)&&(y===v||i(y,v,n,r,o)))return g.push(w)})){h=!1;break}}else if(!(y===x||i(y,x,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var pj=Dq,Lq=Br,Uq=Lq.Uint8Array,Fq=Uq;function Bq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var qq=Bq;function Vq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Ux=Vq,iS=Tc,oS=Fq,Gq=Ex,Hq=pj,zq=qq,Wq=Ux,Kq=1,Jq=2,Yq="[object Boolean]",Xq="[object Date]",Qq="[object Error]",Zq="[object Map]",eV="[object Number]",tV="[object RegExp]",nV="[object Set]",rV="[object String]",iV="[object Symbol]",oV="[object ArrayBuffer]",aV="[object DataView]",aS=iS?iS.prototype:void 0,Km=aS?aS.valueOf:void 0;function sV(t,e,n,r,i,o,a){switch(n){case aV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oV:return!(t.byteLength!=e.byteLength||!o(new oS(t),new oS(e)));case Yq:case Xq:case eV:return Gq(+t,+e);case Qq:return t.name==e.name&&t.message==e.message;case tV:case rV:return t==e+"";case Zq:var s=zq;case nV:var l=r&Kq;if(s||(s=Wq),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Jq,a.set(t,e);var d=Hq(s(t),s(e),r,i,o,a);return a.delete(t),d;case iV:if(Km)return Km.call(t)==Km.call(e)}return!1}var lV=sV;function uV(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var mj=uV,cV=mj,dV=En;function fV(t,e,n){var r=e(t);return dV(t)?r:cV(r,n(t))}var hV=fV;function pV(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var mV=pV;function gV(){return[]}var yV=gV,vV=mV,xV=yV,bV=Object.prototype,wV=bV.propertyIsEnumerable,sS=Object.getOwnPropertySymbols,_V=sS?function(t){return t==null?[]:(t=Object(t),vV(sS(t),function(e){return wV.call(t,e)}))}:xV,SV=_V;function EV(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var NV=EV,TV=vi,kV=xi,AV="[object Arguments]";function CV(t){return kV(t)&&TV(t)==AV}var PV=CV,lS=PV,jV=xi,gj=Object.prototype,IV=gj.hasOwnProperty,OV=gj.propertyIsEnumerable,RV=lS(function(){return arguments}())?lS:function(t){return jV(t)&&IV.call(t,"callee")&&!OV.call(t,"callee")},Fx=RV,If={exports:{}};function MV(){return!1}var $V=MV;If.exports;(function(t,e){var n=Br,r=$V,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(If,If.exports);var yj=If.exports,DV=9007199254740991,LV=/^(?:0|[1-9]\d*)$/;function UV(t,e){var n=typeof t;return e=e??DV,!!e&&(n=="number"||n!="symbol"&&LV.test(t))&&t>-1&&t%1==0&&t<e}var Bx=UV,FV=9007199254740991;function BV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FV}var qx=BV,qV=vi,VV=qx,GV=xi,HV="[object Arguments]",zV="[object Array]",WV="[object Boolean]",KV="[object Date]",JV="[object Error]",YV="[object Function]",XV="[object Map]",QV="[object Number]",ZV="[object Object]",e7="[object RegExp]",t7="[object Set]",n7="[object String]",r7="[object WeakMap]",i7="[object ArrayBuffer]",o7="[object DataView]",a7="[object Float32Array]",s7="[object Float64Array]",l7="[object Int8Array]",u7="[object Int16Array]",c7="[object Int32Array]",d7="[object Uint8Array]",f7="[object Uint8ClampedArray]",h7="[object Uint16Array]",p7="[object Uint32Array]",it={};it[a7]=it[s7]=it[l7]=it[u7]=it[c7]=it[d7]=it[f7]=it[h7]=it[p7]=!0;it[HV]=it[zV]=it[i7]=it[WV]=it[o7]=it[KV]=it[JV]=it[YV]=it[XV]=it[QV]=it[ZV]=it[e7]=it[t7]=it[n7]=it[r7]=!1;function m7(t){return GV(t)&&VV(t.length)&&!!it[qV(t)]}var g7=m7;function y7(t){return function(e){return t(e)}}var vj=y7,Of={exports:{}};Of.exports;(function(t,e){var n=TP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Of,Of.exports);var v7=Of.exports,x7=g7,b7=vj,uS=v7,cS=uS&&uS.isTypedArray,w7=cS?b7(cS):x7,xj=w7,_7=NV,S7=Fx,E7=En,N7=yj,T7=Bx,k7=xj,A7=Object.prototype,C7=A7.hasOwnProperty;function P7(t,e){var n=E7(t),r=!n&&S7(t),i=!n&&!r&&N7(t),o=!n&&!r&&!i&&k7(t),a=n||r||i||o,s=a?_7(t.length,String):[],l=s.length;for(var c in t)(e||C7.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||T7(c,l)))&&s.push(c);return s}var j7=P7,I7=Object.prototype;function O7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||I7;return t===n}var R7=O7;function M7(t,e){return function(n){return t(e(n))}}var bj=M7,$7=bj,D7=$7(Object.keys,Object),L7=D7,U7=R7,F7=L7,B7=Object.prototype,q7=B7.hasOwnProperty;function V7(t){if(!U7(t))return F7(t);var e=[];for(var n in Object(t))q7.call(t,n)&&n!="constructor"&&e.push(n);return e}var G7=V7,H7=Sx,z7=qx;function W7(t){return t!=null&&z7(t.length)&&!H7(t)}var Ac=W7,K7=j7,J7=G7,Y7=Ac;function X7(t){return Y7(t)?K7(t):J7(t)}var Np=X7,Q7=hV,Z7=SV,eG=Np;function tG(t){return Q7(t,eG,Z7)}var nG=tG,dS=nG,rG=1,iG=Object.prototype,oG=iG.hasOwnProperty;function aG(t,e,n,r,i,o){var a=n&rG,s=dS(t),l=s.length,c=dS(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:oG.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var x=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var v=t[h],w=e[h];if(r)var _=a?r(w,v,h,e,t,o):r(v,w,h,t,e,o);if(!(_===void 0?v===w||i(v,w,n,r,o):_)){x=!1;break}b||(b=h=="constructor")}if(x&&!b){var N=t.constructor,S=e.constructor;N!=S&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(x=!1)}return o.delete(t),o.delete(e),x}var sG=aG,lG=na,uG=Br,cG=lG(uG,"DataView"),dG=cG,fG=na,hG=Br,pG=fG(hG,"Promise"),mG=pG,gG=na,yG=Br,vG=gG(yG,"Set"),wj=vG,xG=na,bG=Br,wG=xG(bG,"WeakMap"),_G=wG,Vy=dG,Gy=Nx,Hy=mG,zy=wj,Wy=_G,_j=vi,Qs=AP,fS="[object Map]",SG="[object Object]",hS="[object Promise]",pS="[object Set]",mS="[object WeakMap]",gS="[object DataView]",EG=Qs(Vy),NG=Qs(Gy),TG=Qs(Hy),kG=Qs(zy),AG=Qs(Wy),bo=_j;(Vy&&bo(new Vy(new ArrayBuffer(1)))!=gS||Gy&&bo(new Gy)!=fS||Hy&&bo(Hy.resolve())!=hS||zy&&bo(new zy)!=pS||Wy&&bo(new Wy)!=mS)&&(bo=function(t){var e=_j(t),n=e==SG?t.constructor:void 0,r=n?Qs(n):"";if(r)switch(r){case EG:return gS;case NG:return fS;case TG:return hS;case kG:return pS;case AG:return mS}return e});var CG=bo,Jm=cj,PG=pj,jG=lV,IG=sG,yS=CG,vS=En,xS=yj,OG=xj,RG=1,bS="[object Arguments]",wS="[object Array]",ad="[object Object]",MG=Object.prototype,_S=MG.hasOwnProperty;function $G(t,e,n,r,i,o){var a=vS(t),s=vS(e),l=a?wS:yS(t),c=s?wS:yS(e);l=l==bS?ad:l,c=c==bS?ad:c;var d=l==ad,f=c==ad,h=l==c;if(h&&xS(t)){if(!xS(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Jm),a||OG(t)?PG(t,e,n,r,i,o):jG(t,e,l,n,r,i,o);if(!(n&RG)){var g=d&&_S.call(t,"__wrapped__"),y=f&&_S.call(e,"__wrapped__");if(g||y){var x=g?t.value():t,b=y?e.value():e;return o||(o=new Jm),i(x,b,n,r,o)}}return h?(o||(o=new Jm),IG(t,e,n,r,i,o)):!1}var DG=$G,LG=DG,SS=xi;function Sj(t,e,n,r,i){return t===e?!0:t==null||e==null||!SS(t)&&!SS(e)?t!==t&&e!==e:LG(t,e,n,r,Sj,i)}var Vx=Sj,UG=cj,FG=Vx,BG=1,qG=2;function VG(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new UG;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?FG(d,c,BG|qG,r,f):h))return!1}}return!0}var GG=VG,HG=io;function zG(t){return t===t&&!HG(t)}var Ej=zG,WG=Ej,KG=Np;function JG(t){for(var e=KG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,WG(i)]}return e}var YG=JG;function XG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Nj=XG,QG=GG,ZG=YG,eH=Nj;function tH(t){var e=ZG(t);return e.length==1&&e[0][2]?eH(e[0][0],e[0][1]):function(n){return n===t||QG(n,t,e)}}var nH=tH;function rH(t,e){return t!=null&&e in Object(t)}var iH=rH,oH=OP,aH=Fx,sH=En,lH=Bx,uH=qx,cH=cp;function dH(t,e,n){e=oH(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=cH(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&uH(i)&&lH(a,i)&&(sH(t)||aH(t)))}var fH=dH,hH=iH,pH=fH;function mH(t,e){return t!=null&&pH(t,e,hH)}var gH=mH,yH=Vx,vH=RP,xH=gH,bH=_x,wH=Ej,_H=Nj,SH=cp,EH=1,NH=2;function TH(t,e){return bH(t)&&wH(e)?_H(SH(t),e):function(n){var r=vH(n,t);return r===void 0&&r===e?xH(n,t):yH(e,r,EH|NH)}}var kH=TH;function AH(t){return t}var Zs=AH;function CH(t){return function(e){return e==null?void 0:e[t]}}var PH=CH,jH=Cx;function IH(t){return function(e){return jH(e,t)}}var OH=IH,RH=PH,MH=OH,$H=_x,DH=cp;function LH(t){return $H(t)?RH(DH(t)):MH(t)}var UH=LH,FH=nH,BH=kH,qH=Zs,VH=En,GH=UH;function HH(t){return typeof t=="function"?t:t==null?qH:typeof t=="object"?VH(t)?BH(t[0],t[1]):FH(t):GH(t)}var qr=HH;function zH(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Tj=zH;function WH(t){return t!==t}var KH=WH;function JH(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var YH=JH,XH=Tj,QH=KH,ZH=YH;function ez(t,e,n){return e===e?ZH(t,e,n):XH(t,QH,n)}var tz=ez,nz=tz;function rz(t,e){var n=t==null?0:t.length;return!!n&&nz(t,e,0)>-1}var iz=rz;function oz(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var az=oz;function sz(){}var lz=sz,Ym=wj,uz=lz,cz=Ux,dz=1/0,fz=Ym&&1/cz(new Ym([,-0]))[1]==dz?function(t){return new Ym(t)}:uz,hz=fz,pz=dj,mz=iz,gz=az,yz=hj,vz=hz,xz=Ux,bz=200;function wz(t,e,n){var r=-1,i=mz,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=gz;else if(o>=bz){var c=e?null:vz(t);if(c)return xz(c);a=!1,i=yz,l=new pz}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var _z=wz,Sz=qr,Ez=_z;function Nz(t,e){return t&&t.length?Ez(t,Sz(e)):[]}var Tz=Nz;const ES=We(Tz);function kj(t,e,n){return e===!0?ES(t,n):Ce(e)?ES(t,e):t}function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}var kz=["ref"];function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){Tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Az(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cj(r.key),r)}}function Cz(t,e,n){return e&&TS(t.prototype,e),n&&TS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pz(t,e,n){return e=Rf(e),jz(t,Aj()?Reflect.construct(e,n||[],Rf(t).constructor):e.apply(t,n))}function jz(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iz(t)}function Iz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aj=function(){return!!t})()}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(t)}function Oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function Tp(t,e,n){return e=Cj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cj(t){var e=Rz(t,"string");return ys(e)=="symbol"?e:e+""}function Rz(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mz(t,e){if(t==null)return{};var n=$z(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $z(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dz(t){return t.value}function Lz(t,e){if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return R.createElement(t,e);e.ref;var n=Mz(e,kz);return R.createElement(Lx,n)}var kS=1,Lo=function(t){function e(){var n;Az(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pz(this,e,[].concat(i)),Tp(n,"lastBoundingBox",{width:-1,height:-1}),n}return Oz(e,t),Cz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kS||Math.abs(i.height-this.lastBoundingBox.height)>kS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hr(Hr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Hr(Hr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},Lz(o,Hr(Hr({},this.props),{},{payload:kj(d,c,Dz)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hr(Hr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ie(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);Tp(Lo,"displayName","Legend");Tp(Lo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AS=Tc,Uz=Fx,Fz=En,CS=AS?AS.isConcatSpreadable:void 0;function Bz(t){return Fz(t)||Uz(t)||!!(CS&&t&&t[CS])}var qz=Bz,Vz=mj,Gz=qz;function Pj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Gz),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Pj(s,e-1,n,r,i):Vz(i,s):r||(i[i.length]=s)}return i}var jj=Pj;function Hz(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var zz=Hz,Wz=zz,Kz=Wz(),Jz=Kz,Yz=Jz,Xz=Np;function Qz(t,e){return t&&Yz(t,e,Xz)}var Ij=Qz,Zz=Ac;function eW(t,e){return function(n,r){if(n==null)return n;if(!Zz(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var tW=eW,nW=Ij,rW=tW,iW=rW(nW),Gx=iW,oW=Gx,aW=Ac;function sW(t,e){var n=-1,r=aW(t)?Array(t.length):[];return oW(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var Oj=sW;function lW(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var uW=lW,PS=Hs;function cW(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=PS(t),a=e!==void 0,s=e===null,l=e===e,c=PS(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var dW=cW,fW=dW;function hW(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=fW(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var pW=hW,Xm=Ax,mW=Cx,gW=qr,yW=Oj,vW=uW,xW=vj,bW=pW,wW=Zs,_W=En;function SW(t,e,n){e.length?e=Xm(e,function(o){return _W(o)?function(a){return mW(a,o.length===1?o[0]:o)}:o}):e=[wW];var r=-1;e=Xm(e,xW(gW));var i=yW(t,function(o,a,s){var l=Xm(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return vW(i,function(o,a){return bW(o,a,n)})}var EW=SW;function NW(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var TW=NW,kW=TW,jS=Math.max;function AW(t,e,n){return e=jS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=jS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),kW(t,this,s)}}var CW=AW;function PW(t){return function(){return t}}var jW=PW,IW=na,OW=function(){try{var t=IW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Rj=OW,RW=jW,IS=Rj,MW=Zs,$W=IS?function(t,e){return IS(t,"toString",{configurable:!0,enumerable:!1,value:RW(e),writable:!0})}:MW,DW=$W,LW=800,UW=16,FW=Date.now;function BW(t){var e=0,n=0;return function(){var r=FW(),i=UW-(r-n);if(n=r,i>0){if(++e>=LW)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qW=BW,VW=DW,GW=qW,HW=GW(VW),zW=HW,WW=Zs,KW=CW,JW=zW;function YW(t,e){return JW(KW(t,e,WW),t+"")}var XW=YW,QW=Ex,ZW=Ac,e9=Bx,t9=io;function n9(t,e,n){if(!t9(n))return!1;var r=typeof e;return(r=="number"?ZW(n)&&e9(e,n.length):r=="string"&&e in n)?QW(n[e],t):!1}var kp=n9,r9=jj,i9=EW,o9=XW,OS=kp,a9=o9(function(t,e){if(t==null)return[];var n=e.length;return n>1&&OS(t,e[0],e[1])?e=[]:n>2&&OS(e[0],e[1],e[2])&&(e=[e[0]]),i9(t,r9(e,1),[])}),s9=a9;const Hx=We(s9);function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}function l9(t,e){return f9(t)||d9(t,e)||c9(t,e)||u9()}function u9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(t,e){if(t){if(typeof t=="string")return RS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(t,e)}}function RS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function f9(t){if(Array.isArray(t))return t}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){h9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=m9(t,"string");return ju(e)=="symbol"?e:e+""}function m9(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g9(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var y9=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,x=e.label,b=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(d&&d.length){var D={padding:0,margin:0},B=(h?Hx(d,h):d).map(function(O,P){if(O.type==="none")return null;var U=Qm({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},s),q=O.formatter||f||g9,M=O.value,W=O.name,X=M,L=W;if(q&&X!=null&&L!=null){var K=q(M,W,O,P,d);if(Array.isArray(K)){var re=l9(K,2);X=re[0],L=re[1]}else X=K}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:U},Mt(L)?R.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Mt(L)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},X),R.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},N=Qm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Qm({margin:0},c),E=!Ie(x),T=E?x:"",A=Oe("recharts-default-tooltip",g),C=Oe("recharts-tooltip-label",y);E&&b&&d!==void 0&&d!==null&&(T=b(x,d));var j=w?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Jy({className:A,style:N},j),R.createElement("p",{className:C,style:S},R.isValidElement(T)?T:"".concat(T)),_())};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function sd(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=x9(t,"string");return Iu(e)=="symbol"?e:e+""}function x9(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gl="recharts-tooltip-wrapper",b9={visibility:"hidden"};function w9(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Oe(gl,sd(sd(sd(sd({},"".concat(gl,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(gl,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(gl,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(gl,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function $S(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,g=l[r];return h<g?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+s,x=l[r]+c;return y>x?Math.max(d,l[r]):Math.max(f,l[r])}function _9(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function S9(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=$S({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=$S({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=_9({translateX:d,translateY:f,useTranslate3d:s})):c=b9,{cssProperties:c,cssClasses:w9({translateX:d,translateY:f,coordinate:n})}}function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){Xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function T9(t,e,n){return e&&N9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k9(t,e,n){return e=Mf(e),A9(t,Mj()?Reflect.construct(e,n||[],Mf(t).constructor):e.apply(t,n))}function A9(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(t)}function C9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mj=function(){return!!t})()}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(t)}function P9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yy(t,e)}function Yy(t,e){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yy(t,e)}function Xy(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t){var e=j9(t,"string");return vs(e)=="symbol"?e:e+""}function j9(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var US=1,I9=function(t){function e(){var n;E9(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=k9(this,e,[].concat(i)),Xy(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xy(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return P9(e,t),T9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>US||Math.abs(r.height-this.state.lastBoundingBox.height)>US)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,x=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=S9({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),N=_.cssClasses,S=_.cssProperties,E=LS(LS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return R.createElement("div",{tabIndex:-1,className:N,style:E,ref:function(A){r.wrapperNode=A}},c)}}])}(k.PureComponent),O9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ra={isSsr:O9()};function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lj(r.key),r)}}function $9(t,e,n){return e&&M9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D9(t,e,n){return e=$f(e),L9(t,Dj()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function L9(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U9(t)}function U9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dj=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function F9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qy(t,e)}function zx(t,e,n){return e=Lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lj(t){var e=B9(t,"string");return xs(e)=="symbol"?e:e+""}function B9(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q9(t){return t.dataKey}function V9(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(y9,e)}var Pn=function(t){function e(){return R9(this,e),D9(this,e,arguments)}return F9(e,t),$9(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,x=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,N=i.wrapperStyle,S=y??[];f&&S.length&&(S=kj(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),x,q9));var E=S.length>0;return R.createElement(I9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:E,offset:g,position:b,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:N},V9(c,BS(BS({},this.props),{},{payload:S})))}}])}(k.PureComponent);zx(Pn,"displayName","Tooltip");zx(Pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ra.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var G9=Br,H9=function(){return G9.Date.now()},z9=H9,W9=/\s/;function K9(t){for(var e=t.length;e--&&W9.test(t.charAt(e)););return e}var J9=K9,Y9=J9,X9=/^\s+/;function Q9(t){return t&&t.slice(0,Y9(t)+1).replace(X9,"")}var Z9=Q9,eK=Z9,qS=io,tK=Hs,VS=NaN,nK=/^[-+]0x[0-9a-f]+$/i,rK=/^0b[01]+$/i,iK=/^0o[0-7]+$/i,oK=parseInt;function aK(t){if(typeof t=="number")return t;if(tK(t))return VS;if(qS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=eK(t);var n=rK.test(t);return n||iK.test(t)?oK(t.slice(2),n?2:8):nK.test(t)?VS:+t}var Uj=aK,sK=io,Zm=z9,GS=Uj,lK="Expected a function",uK=Math.max,cK=Math.min;function dK(t,e,n){var r,i,o,a,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(lK);e=GS(e)||0,sK(n)&&(d=!!n.leading,f="maxWait"in n,o=f?uK(GS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var T=r,A=i;return r=i=void 0,c=E,a=t.apply(A,T),a}function y(E){return c=E,s=setTimeout(v,e),d?g(E):a}function x(E){var T=E-l,A=E-c,C=e-T;return f?cK(C,o-A):C}function b(E){var T=E-l,A=E-c;return l===void 0||T>=e||T<0||f&&A>=o}function v(){var E=Zm();if(b(E))return w(E);s=setTimeout(v,x(E))}function w(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function N(){return s===void 0?a:w(Zm())}function S(){var E=Zm(),T=b(E);if(r=arguments,i=this,l=E,T){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(v,e),g(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=_,S.flush=N,S}var fK=dK,hK=fK,pK=io,mK="Expected a function";function gK(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mK);return pK(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hK(t,e,{leading:r,maxWait:e,trailing:i})}var yK=gK;const Fj=We(yK);function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(r){vK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vK(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=bK(t,"string");return Ou(e)=="symbol"?e:e+""}function bK(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wK(t,e){return NK(t)||EK(t,e)||SK(t,e)||_K()}function _K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SK(t,e){if(t){if(typeof t=="string")return zS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,e)}}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function NK(t){if(Array.isArray(t))return t}var Qa=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,x=y===void 0?0:y,b=t.id,v=t.className,w=t.onResize,_=t.style,N=_===void 0?{}:_,S=k.useRef(null),E=k.useRef();E.current=w,k.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=k.useState({containerWidth:i.width,containerHeight:i.height}),A=wK(T,2),C=A[0],j=A[1],I=k.useCallback(function(B,O){j(function(P){var U=Math.round(B),q=Math.round(O);return P.containerWidth===U&&P.containerHeight===q?P:{containerWidth:U,containerHeight:q}})},[]);k.useEffect(function(){var B=function(W){var X,L=W[0].contentRect,K=L.width,re=L.height;I(K,re),(X=E.current)===null||X===void 0||X.call(E,K,re)};x>0&&(B=Fj(B,x,{trailing:!0,leading:!1}));var O=new ResizeObserver(B),P=S.current.getBoundingClientRect(),U=P.width,q=P.height;return I(U,q),O.observe(S.current),function(){O.disconnect()}},[I,x]);var D=k.useMemo(function(){var B=C.containerWidth,O=C.containerHeight;if(B<0||O<0)return null;_r(Po(a)||Po(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),_r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Po(a)?B:a,U=Po(l)?O:l;n&&n>0&&(P?U=P/n:U&&(P=U*n),h&&U>h&&(U=h)),_r(P>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,U,a,l,d,f,n);var q=!Array.isArray(g)&&ii(g.type).endsWith("Chart");return R.Children.map(g,function(M){return R.isValidElement(M)?k.cloneElement(M,ld({width:P,height:U},q?{style:ld({height:"100%",width:"100%",maxHeight:U,maxWidth:P},M.props.style)}:{})):M})},[n,g,l,h,f,d,C,a]);return R.createElement("div",{id:b?"".concat(b):void 0,className:Oe("recharts-responsive-container",v),style:ld(ld({},N),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},D)}),Ru=function(e){return null};Ru.displayName="Cell";function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){TK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TK(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=AK(t,"string");return Mu(e)=="symbol"?e:e+""}function AK(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma={widthCache:{},cacheCount:0},CK=2e3,PK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KS="recharts_measurement_span";function jK(t){var e=Zy({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Kl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ra.isSsr)return{width:0,height:0};var r=jK(n),i=JSON.stringify({text:e,copyStyle:r});if(ma.widthCache[i])return ma.widthCache[i];try{var o=document.getElementById(KS);o||(o=document.createElement("span"),o.setAttribute("id",KS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Zy(Zy({},PK),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ma.widthCache[i]=l,++ma.cacheCount>CK&&(ma.cacheCount=0,ma.widthCache={}),l}catch{return{width:0,height:0}}},IK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function Df(t,e){return $K(t)||MK(t,e)||RK(t,e)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function $K(t){if(Array.isArray(t))return t}function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UK(r.key),r)}}function LK(t,e,n){return e&&YS(t.prototype,e),n&&YS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UK(t){var e=FK(t,"string");return $u(e)=="symbol"?e:e+""}function FK(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VK=Object.keys(Bj),$a="NaN";function GK(t,e){return t*Bj[e]}var ud=function(){function t(e,n){DK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!BK.test(n)&&(this.num=NaN,this.unit=""),VK.includes(n)&&(this.num=GK(e,n),this.unit="px")}return LK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=qK.exec(n))!==null&&r!==void 0?r:[],o=Df(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function qj(t){if(t.includes($a))return $a;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XS.exec(e))!==null&&n!==void 0?n:[],i=Df(r,4),o=i[1],a=i[2],s=i[3],l=ud.parse(o??""),c=ud.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return $a;e=e.replace(XS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=QS.exec(e))!==null&&f!==void 0?f:[],g=Df(h,4),y=g[1],x=g[2],b=g[3],v=ud.parse(y??""),w=ud.parse(b??""),_=x==="+"?v.add(w):v.subtract(w);if(_.isNaN())return $a;e=e.replace(QS,_.toString())}return e}var ZS=/\(([^()]*)\)/;function HK(t){for(var e=t;e.includes("(");){var n=ZS.exec(e),r=Df(n,2),i=r[1];e=e.replace(ZS,qj(i))}return e}function zK(t){var e=t.replace(/\s+/g,"");return e=HK(e),e=qj(e),e}function WK(t){try{return zK(t)}catch{return $a}}function eg(t){var e=WK(t.slice(5,-1));return e===$a?"":e}var KK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JK=["dx","dy","angle","className","breakAll"];function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function e1(t,e){if(t==null)return{};var n=YK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t1(t,e){return eJ(t)||ZK(t,e)||QK(t,e)||XK()}function XK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(t,e){if(t){if(typeof t=="string")return n1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n1(t,e)}}function n1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function eJ(t){if(Array.isArray(t))return t}var Vj=/[ \f\n\r\t\v\u2028\u2029]+/,Gj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(Vj));var a=o.map(function(l){return{word:l,width:Kl(l,i).width}}),s=r?0:Kl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},tJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=ie(a),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(U,q){var M=q.word,W=q.width,X=U[U.length-1];if(X&&(i==null||o||X.width+W+r<Number(i)))X.words.push(M),X.width+=W+r;else{var L={words:[M],width:W};U.push(L)}return U},[])},g=h(n),y=function(P){return P.reduce(function(U,q){return U.width>q.width?U:q})};if(!d)return g;for(var x="",b=function(P){var U=f.slice(0,P),q=Gj({breakAll:c,style:l,children:U+x}).wordsWithComputedWidth,M=h(q),W=M.length>a||y(M).width>Number(i);return[W,M]},v=0,w=f.length-1,_=0,N;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),E=S-1,T=b(E),A=t1(T,2),C=A[0],j=A[1],I=b(S),D=t1(I,1),B=D[0];if(!C&&!B&&(v=S+1),C&&B&&(w=S-1),!C&&B){N=j;break}_++}return N||g},r1=function(e){var n=Ie(e)?[]:e.toString().split(Vj);return[{words:n}]},nJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ra.isSsr){var l,c,d=Gj({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return r1(i);return tJ({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return r1(i)},i1="#808080",Ko=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,x=y===void 0?"end":y,b=e.fill,v=b===void 0?i1:b,w=e1(e,KK),_=k.useMemo(function(){return nJ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),N=w.dx,S=w.dy,E=w.angle,T=w.className,A=w.breakAll,C=e1(w,JK);if(!Mt(r)||!Mt(o))return null;var j=r+(ie(N)?N:0),I=o+(ie(S)?S:0),D;switch(x){case"start":D=eg("calc(".concat(c,")"));break;case"middle":D=eg("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:D=eg("calc(".concat(_.length-1," * -").concat(s,")"));break}var B=[];if(f){var O=_[0].width,P=w.width;B.push("scale(".concat((ie(P)?P/O:1)/O,")"))}return E&&B.push("rotate(".concat(E,", ").concat(j,", ").concat(I,")")),B.length&&(C.transform=B.join(" ")),R.createElement("text",ev({},Se(C,!0),{x:j,y:I,className:Oe("recharts-text",T),textAnchor:g,fill:v.includes("url")?i1:v}),_.map(function(U,q){var M=U.words.join(A?"":" ");return R.createElement("tspan",{x:j,dy:q===0?D:s,key:"".concat(M,"-").concat(q)},M)}))};function Ki(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wx(t){let e,n,r;t.length!==2?(e=Ki,n=(s,l)=>Ki(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ki||t===rJ?t:iJ,n=t,r=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function iJ(){return 0}function Hj(t){return t===null?NaN:+t}function*oJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const aJ=Wx(Ki),Cc=aJ.right;Wx(Hj).center;class o1 extends Map{constructor(e,n=uJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(a1(this,e))}has(e){return super.has(a1(this,e))}set(e,n){return super.set(sJ(this,e),n)}delete(e){return super.delete(lJ(this,e))}}function a1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cJ(t=Ki){if(t===Ki)return zj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dJ=Math.sqrt(50),fJ=Math.sqrt(10),hJ=Math.sqrt(2);function Lf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=dJ?10:o>=fJ?5:o>=hJ?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Lf(t,e,n*2):[s,l,c]}function tv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Lf(e,t,n):Lf(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function nv(t,e,n){return e=+e,t=+t,n=+n,Lf(t,e,n)[2]}function rv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?nv(e,t,n):nv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function s1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function l1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Wj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zj:cJ(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));Wj(t,e,g,y,i)}const o=t[e];let a=n,s=r;for(yl(t,n,e),i(t[r],o)>0&&yl(t,n,r);a<s;){for(yl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?yl(t,n,s):(++s,yl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function yl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pJ(t,e,n){if(t=Float64Array.from(oJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return l1(t);if(e>=1)return s1(t);var r,i=(r-1)*e,o=Math.floor(i),a=s1(Wj(t,o).subarray(0,o+1)),s=l1(t.subarray(o+1));return a+(s-a)*(i-o)}}function mJ(t,e,n=Hj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function gJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iv=Symbol("implicit");function Kx(){var t=new o1,e=[],n=[],r=iv;function i(o){let a=t.get(o);if(a===void 0){if(r!==iv)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new o1;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Kx(e,n).unknown(r)},lr.apply(i,arguments),i}function Du(){var t=Kx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<r,y=g?i:r,x=g?r:i;o=(x-y)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),y+=(x-y-o*(h-l))*d,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var b=gJ(h).map(function(v){return y+o*v});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Du(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},lr.apply(f(),arguments)}function Kj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kj(e())},t}function Jl(){return Kj(Du.apply(null,arguments).paddingInner(1))}function Jx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pc(){}var Lu=.7,Uf=1/Lu,Za="\\s*([+-]?\\d+)\\s*",Uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yJ=/^#([0-9a-f]{3,8})$/,vJ=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),xJ=new RegExp(`^rgb\\(${Mr},${Mr},${Mr}\\)$`),bJ=new RegExp(`^rgba\\(${Za},${Za},${Za},${Uu}\\)$`),wJ=new RegExp(`^rgba\\(${Mr},${Mr},${Mr},${Uu}\\)$`),_J=new RegExp(`^hsl\\(${Uu},${Mr},${Mr}\\)$`),SJ=new RegExp(`^hsla\\(${Uu},${Mr},${Mr},${Uu}\\)$`),u1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jx(Pc,Fu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:c1,formatHex:c1,formatHex8:EJ,formatHsl:NJ,formatRgb:d1,toString:d1});function c1(){return this.rgb().formatHex()}function EJ(){return this.rgb().formatHex8()}function NJ(){return Yj(this).formatHsl()}function d1(){return this.rgb().formatRgb()}function Fu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f1(e):n===3?new xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vJ.exec(t))?new xn(e[1],e[2],e[3],1):(e=xJ.exec(t))?new xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bJ.exec(t))?cd(e[1],e[2],e[3],e[4]):(e=wJ.exec(t))?cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_J.exec(t))?m1(e[1],e[2]/100,e[3]/100,1):(e=SJ.exec(t))?m1(e[1],e[2]/100,e[3]/100,e[4]):u1.hasOwnProperty(t)?f1(u1[t]):t==="transparent"?new xn(NaN,NaN,NaN,0):null}function f1(t){return new xn(t>>16&255,t>>8&255,t&255,1)}function cd(t,e,n,r){return r<=0&&(t=e=n=NaN),new xn(t,e,n,r)}function TJ(t){return t instanceof Pc||(t=Fu(t)),t?(t=t.rgb(),new xn(t.r,t.g,t.b,t.opacity)):new xn}function ov(t,e,n,r){return arguments.length===1?TJ(t):new xn(t,e,n,r??1)}function xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Jx(xn,ov,Jj(Pc,{brighter(t){return t=t==null?Uf:Math.pow(Uf,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lu:Math.pow(Lu,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xn(Uo(this.r),Uo(this.g),Uo(this.b),Ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h1,formatHex:h1,formatHex8:kJ,formatRgb:p1,toString:p1}));function h1(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function kJ(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function p1(){const t=Ff(this.opacity);return`${t===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${t===1?")":`, ${t})`}`}function Ff(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jo(t){return t=Uo(t),(t<16?"0":"")+t.toString(16)}function m1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xr(t,e,n,r)}function Yj(t){if(t instanceof xr)return new xr(t.h,t.s,t.l,t.opacity);if(t instanceof Pc||(t=Fu(t)),!t)return new xr;if(t instanceof xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new xr(a,s,l,t.opacity)}function AJ(t,e,n,r){return arguments.length===1?Yj(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Jx(xr,AJ,Jj(Pc,{brighter(t){return t=t==null?Uf:Math.pow(Uf,t),new xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lu:Math.pow(Lu,t),new xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xn(tg(t>=240?t-240:t+120,i,r),tg(t,i,r),tg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xr(g1(this.h),dd(this.s),dd(this.l),Ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ff(this.opacity);return`${t===1?"hsl(":"hsla("}${g1(this.h)}, ${dd(this.s)*100}%, ${dd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g1(t){return t=(t||0)%360,t<0?t+360:t}function dd(t){return Math.max(0,Math.min(1,t||0))}function tg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yx=t=>()=>t;function CJ(t,e){return function(n){return t+n*e}}function PJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jJ(t){return(t=+t)==1?Xj:function(e,n){return n-e?PJ(e,n,t):Yx(isNaN(e)?n:e)}}function Xj(t,e){var n=e-t;return n?CJ(t,n):Yx(isNaN(t)?e:t)}const y1=function t(e){var n=jJ(e);function r(i,o){var a=n((i=ov(i)).r,(o=ov(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=Xj(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function IJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function OJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function RJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=el(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function MJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $J(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=el(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var av=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ng=new RegExp(av.source,"g");function DJ(t){return function(){return t}}function LJ(t){return function(e){return t(e)+""}}function UJ(t,e){var n=av.lastIndex=ng.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=av.exec(t))&&(i=ng.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Bf(r,i)})),n=ng.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?LJ(l[0].x):DJ(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function el(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yx(e):(n==="number"?Bf:n==="string"?(r=Fu(e))?(e=r,y1):UJ:e instanceof Fu?y1:e instanceof Date?MJ:OJ(e)?IJ:Array.isArray(e)?RJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$J:Bf)(t,e)}function Xx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function FJ(t,e){e===void 0&&(e=t,t=el);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function BJ(t){return function(){return t}}function qf(t){return+t}var v1=[0,1];function dn(t){return t}function sv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BJ(isNaN(e)?NaN:.5)}function qJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function VJ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=sv(i,r),o=n(a,o)):(r=sv(r,i),o=n(o,a)),function(s){return o(r(s))}}function GJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=sv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Cc(t,s,1,r)-1;return o[l](i[l](s))}}function jc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ap(){var t=v1,e=v1,n=el,r,i,o,a=dn,s,l,c;function d(){var h=Math.min(t.length,e.length);return a!==dn&&(a=qJ(t[0],t[h-1])),s=h>2?GJ:VJ,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=s(e,t.map(r),Bf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,qf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Xx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:dn,d()):a!==dn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,d()}}function Qx(){return Ap()(dn,dn)}function HJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bs(t){return t=Vf(Math.abs(t)),t?t[1]:NaN}function zJ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function WJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var KJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bu(t){if(!(e=KJ.exec(t)))throw new Error("invalid format: "+t);var e;return new Zx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bu.prototype=Zx.prototype;function Zx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Zx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Qj;function YJ(t,e){var n=Vf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Qj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Vf(t,Math.max(0,e+o-1))[0]}function x1(t,e){var n=Vf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:HJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>x1(t*100,e),r:x1,s:YJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w1(t){return t}var _1=Array.prototype.map,S1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XJ(t){var e=t.grouping===void 0||t.thousands===void 0?w1:zJ(_1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?w1:WJ(_1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Bu(f);var h=f.fill,g=f.align,y=f.sign,x=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,N=f.trim,S=f.type;S==="n"?(w=!0,S="g"):b1[S]||(_===void 0&&(_=12),N=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var E=x==="$"?n:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=x==="$"?r:/[%p]/.test(S)?a:"",A=b1[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function j(I){var D=E,B=T,O,P,U;if(S==="c")B=A(I)+B,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?l:A(Math.abs(I),_),N&&(I=JJ(I)),q&&+I==0&&y!=="+"&&(q=!1),D=(q?y==="("?y:s:y==="-"||y==="("?"":y)+D,B=(S==="s"?S1[8+Qj/3]:"")+B+(q&&y==="("?")":""),C){for(O=-1,P=I.length;++O<P;)if(U=I.charCodeAt(O),48>U||U>57){B=(U===46?i+I.slice(O+1):I.slice(O))+B,I=I.slice(0,O);break}}}w&&!b&&(I=e(I,1/0));var M=D.length+I.length+B.length,W=M<v?new Array(v-M+1).join(h):"";switch(w&&b&&(I=e(W+I,W.length?v-B.length:1/0),W=""),g){case"<":I=D+I+B+W;break;case"=":I=D+W+I+B;break;case"^":I=W.slice(0,M=W.length>>1)+D+I+B+W.slice(M);break;default:I=W+D+I+B;break}return o(I)}return j.toString=function(){return f+""},j}function d(f,h){var g=c((f=Bu(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(bs(h)/3)))*3,x=Math.pow(10,-y),b=S1[8+y/3];return function(v){return g(x*v)+b}}return{format:c,formatPrefix:d}}var fd,eb,Zj;QJ({thousands:",",grouping:[3],currency:["$",""]});function QJ(t){return fd=XJ(t),eb=fd.format,Zj=fd.formatPrefix,fd}function ZJ(t){return Math.max(0,-bs(Math.abs(t)))}function eY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bs(e)/3)))*3-bs(Math.abs(t)))}function tY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bs(e)-bs(t))+1}function eI(t,e,n,r){var i=rv(t,e,n),o;switch(r=Bu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=eY(i,a))&&(r.precision=o),Zj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=tY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ZJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return eb(r)}function oo(t){var e=t.domain;return t.ticks=function(n){var r=e();return tv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=nv(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Gf(){var t=Qx();return t.copy=function(){return jc(t,Gf())},lr.apply(t,arguments),oo(t)}function tI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return tI(t).unknown(e)},t=arguments.length?Array.from(t,qf):[0,1],oo(n)}function nI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function E1(t){return Math.log(t)}function N1(t){return Math.exp(t)}function nY(t){return-Math.log(-t)}function rY(t){return-Math.exp(-t)}function iY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oY(t){return t===10?iY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function T1(t){return(e,n)=>-t(-e,n)}function tb(t){const e=t(E1,N1),n=e.domain;let r=10,i,o;function a(){return i=aY(r),o=oY(r),n()[0]<0?(i=T1(i),o=T1(o),t(nY,rY)):t(E1,N1),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),g=i(d),y,x;const b=s==null?10:+s;let v=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(y=1;y<r;++y)if(x=h<0?y/o(-h):y*o(h),!(x<c)){if(x>d)break;v.push(x)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(x=h>0?y/o(-h):y*o(h),!(x<c)){if(x>d)break;v.push(x)}v.length*2<b&&(v=tv(c,d,b))}else v=tv(h,g,Math.min(g-h,b)).map(o);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Bu(l)).precision==null&&(l.trim=!0),l=eb(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(nI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function rI(){const t=tb(Ap()).domain([1,10]);return t.copy=()=>jc(t,rI()).base(t.base()),lr.apply(t,arguments),t}function k1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function A1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nb(t){var e=1,n=t(k1(e),A1(e));return n.constant=function(r){return arguments.length?t(k1(e=+r),A1(e)):e},oo(n)}function iI(){var t=nb(Ap());return t.copy=function(){return jc(t,iI()).constant(t.constant())},lr.apply(t,arguments)}function C1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lY(t){return t<0?-t*t:t*t}function rb(t){var e=t(dn,dn),n=1;function r(){return n===1?t(dn,dn):n===.5?t(sY,lY):t(C1(n),C1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},oo(e)}function ib(){var t=rb(Ap());return t.copy=function(){return jc(t,ib()).exponent(t.exponent())},lr.apply(t,arguments),t}function uY(){return ib.apply(null,arguments).exponent(.5)}function P1(t){return Math.sign(t)*t*t}function cY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oI(){var t=Qx(),e=[0,1],n=!1,r;function i(o){var a=cY(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(P1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,qf)).map(P1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},lr.apply(i,arguments),oo(i)}function aI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=mJ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Cc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ki),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aI().domain(t).range(e).unknown(r)},lr.apply(o,arguments)}function sI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Cc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return sI().domain([t,e]).range(i).unknown(o)},lr.apply(oo(a),arguments)}function lI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Cc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lI().domain(t).range(e).unknown(n)},lr.apply(i,arguments)}const rg=new Date,ig=new Date;function $t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>$t(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(rg.setTime(+o),ig.setTime(+a),t(rg),t(ig),Math.floor(n(rg,ig))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Hf=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hf);Hf.range;const Zr=1e3,er=Zr*60,ei=er*60,fi=ei*24,ob=fi*7,j1=fi*30,og=fi*365,Io=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCSeconds());Io.range;const ab=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zr)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getMinutes());ab.range;const sb=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getUTCMinutes());sb.range;const lb=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zr-t.getMinutes()*er)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getHours());lb.range;const ub=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getUTCHours());ub.range;const Ic=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*er)/fi,t=>t.getDate()-1);Ic.range;const Cp=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);Cp.range;const uI=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));uI.range;function ia(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*er)/ob)}const Pp=ia(0),zf=ia(1),dY=ia(2),fY=ia(3),ws=ia(4),hY=ia(5),pY=ia(6);Pp.range;zf.range;dY.range;fY.range;ws.range;hY.range;pY.range;function oa(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ob)}const jp=oa(0),Wf=oa(1),mY=oa(2),gY=oa(3),_s=oa(4),yY=oa(5),vY=oa(6);jp.range;Wf.range;mY.range;gY.range;_s.range;yY.range;vY.range;const cb=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cb.range;const db=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());db.range;const hi=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hi.range;const pi=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pi.range;function cI(t,e,n,r,i,o){const a=[[Io,1,Zr],[Io,5,5*Zr],[Io,15,15*Zr],[Io,30,30*Zr],[o,1,er],[o,5,5*er],[o,15,15*er],[o,30,30*er],[i,1,ei],[i,3,3*ei],[i,6,6*ei],[i,12,12*ei],[r,1,fi],[r,2,2*fi],[n,1,ob],[e,1,j1],[e,3,3*j1],[t,1,og]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),y=g?g.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,g=Wx(([,,b])=>b).right(a,h);if(g===a.length)return t.every(rv(c/og,d/og,f));if(g===0)return Hf.every(Math.max(rv(c,d,f),1));const[y,x]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return y.every(x)}return[s,l]}const[xY,bY]=cI(pi,db,jp,uI,ub,sb),[wY,_Y]=cI(hi,cb,Pp,Ic,lb,ab);function ag(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function SY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=xl(i),d=bl(i),f=xl(o),h=bl(o),g=xl(a),y=bl(a),x=xl(s),b=bl(s),v=xl(l),w=bl(l),_={a:q,A:M,b:W,B:X,c:null,d:D1,e:D1,f:zY,g:nX,G:iX,H:VY,I:GY,j:HY,L:dI,m:WY,M:KY,p:L,q:K,Q:F1,s:B1,S:JY,u:YY,U:XY,V:QY,w:ZY,W:eX,x:null,X:null,y:tX,Y:rX,Z:oX,"%":U1},N={a:re,A:H,b:ae,B:me,c:null,d:L1,e:L1,f:uX,g:xX,G:wX,H:aX,I:sX,j:lX,L:hI,m:cX,M:dX,p:xe,q:Re,Q:F1,s:B1,S:fX,u:hX,U:pX,V:mX,w:gX,W:yX,x:null,X:null,y:vX,Y:bX,Z:_X,"%":U1},S={a:j,A:I,b:D,B,c:O,d:M1,e:M1,f:UY,g:R1,G:O1,H:$1,I:$1,j:MY,L:LY,m:RY,M:$Y,p:C,q:OY,Q:BY,s:qY,S:DY,u:AY,U:CY,V:PY,w:kY,W:jY,x:P,X:U,y:R1,Y:O1,Z:IY,"%":FY};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),N.x=E(n,N),N.X=E(r,N),N.c=E(e,N);function E(Z,ye){return function(J){var Y=[],Ae=-1,ve=0,G=Z.length,se,ge,Pe;for(J instanceof Date||(J=new Date(+J));++Ae<G;)Z.charCodeAt(Ae)===37&&(Y.push(Z.slice(ve,Ae)),(ge=I1[se=Z.charAt(++Ae)])!=null?se=Z.charAt(++Ae):ge=se==="e"?" ":"0",(Pe=ye[se])&&(se=Pe(J,ge)),Y.push(se),ve=Ae+1);return Y.push(Z.slice(ve,Ae)),Y.join("")}}function T(Z,ye){return function(J){var Y=vl(1900,void 0,1),Ae=A(Y,Z,J+="",0),ve,G;if(Ae!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ye&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ve=sg(vl(Y.y,0,1)),G=ve.getUTCDay(),ve=G>4||G===0?Wf.ceil(ve):Wf(ve),ve=Cp.offset(ve,(Y.V-1)*7),Y.y=ve.getUTCFullYear(),Y.m=ve.getUTCMonth(),Y.d=ve.getUTCDate()+(Y.w+6)%7):(ve=ag(vl(Y.y,0,1)),G=ve.getDay(),ve=G>4||G===0?zf.ceil(ve):zf(ve),ve=Ic.offset(ve,(Y.V-1)*7),Y.y=ve.getFullYear(),Y.m=ve.getMonth(),Y.d=ve.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),G="Z"in Y?sg(vl(Y.y,0,1)).getUTCDay():ag(vl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(G+5)%7:Y.w+Y.U*7-(G+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,sg(Y)):ag(Y)}}function A(Z,ye,J,Y){for(var Ae=0,ve=ye.length,G=J.length,se,ge;Ae<ve;){if(Y>=G)return-1;if(se=ye.charCodeAt(Ae++),se===37){if(se=ye.charAt(Ae++),ge=S[se in I1?ye.charAt(Ae++):se],!ge||(Y=ge(Z,J,Y))<0)return-1}else if(se!=J.charCodeAt(Y++))return-1}return Y}function C(Z,ye,J){var Y=c.exec(ye.slice(J));return Y?(Z.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function j(Z,ye,J){var Y=g.exec(ye.slice(J));return Y?(Z.w=y.get(Y[0].toLowerCase()),J+Y[0].length):-1}function I(Z,ye,J){var Y=f.exec(ye.slice(J));return Y?(Z.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function D(Z,ye,J){var Y=v.exec(ye.slice(J));return Y?(Z.m=w.get(Y[0].toLowerCase()),J+Y[0].length):-1}function B(Z,ye,J){var Y=x.exec(ye.slice(J));return Y?(Z.m=b.get(Y[0].toLowerCase()),J+Y[0].length):-1}function O(Z,ye,J){return A(Z,e,ye,J)}function P(Z,ye,J){return A(Z,n,ye,J)}function U(Z,ye,J){return A(Z,r,ye,J)}function q(Z){return a[Z.getDay()]}function M(Z){return o[Z.getDay()]}function W(Z){return l[Z.getMonth()]}function X(Z){return s[Z.getMonth()]}function L(Z){return i[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function re(Z){return a[Z.getUTCDay()]}function H(Z){return o[Z.getUTCDay()]}function ae(Z){return l[Z.getUTCMonth()]}function me(Z){return s[Z.getUTCMonth()]}function xe(Z){return i[+(Z.getUTCHours()>=12)]}function Re(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ye=E(Z+="",_);return ye.toString=function(){return Z},ye},parse:function(Z){var ye=T(Z+="",!1);return ye.toString=function(){return Z},ye},utcFormat:function(Z){var ye=E(Z+="",N);return ye.toString=function(){return Z},ye},utcParse:function(Z){var ye=T(Z+="",!0);return ye.toString=function(){return Z},ye}}}var I1={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,EY=/^%/,NY=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function TY(t){return t.replace(NY,"\\$&")}function xl(t){return new RegExp("^(?:"+t.map(TY).join("|")+")","i")}function bl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kY(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function AY(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function CY(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jY(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function O1(t,e,n){var r=Vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R1(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OY(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function RY(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M1(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function MY(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $1(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $Y(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=Vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FY(t,e,n){var r=EY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BY(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function D1(t,e){return Ve(t.getDate(),e,2)}function VY(t,e){return Ve(t.getHours(),e,2)}function GY(t,e){return Ve(t.getHours()%12||12,e,2)}function HY(t,e){return Ve(1+Ic.count(hi(t),t),e,3)}function dI(t,e){return Ve(t.getMilliseconds(),e,3)}function zY(t,e){return dI(t,e)+"000"}function WY(t,e){return Ve(t.getMonth()+1,e,2)}function KY(t,e){return Ve(t.getMinutes(),e,2)}function JY(t,e){return Ve(t.getSeconds(),e,2)}function YY(t){var e=t.getDay();return e===0?7:e}function XY(t,e){return Ve(Pp.count(hi(t)-1,t),e,2)}function fI(t){var e=t.getDay();return e>=4||e===0?ws(t):ws.ceil(t)}function QY(t,e){return t=fI(t),Ve(ws.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function ZY(t){return t.getDay()}function eX(t,e){return Ve(zf.count(hi(t)-1,t),e,2)}function tX(t,e){return Ve(t.getFullYear()%100,e,2)}function nX(t,e){return t=fI(t),Ve(t.getFullYear()%100,e,2)}function rX(t,e){return Ve(t.getFullYear()%1e4,e,4)}function iX(t,e){var n=t.getDay();return t=n>=4||n===0?ws(t):ws.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function oX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function L1(t,e){return Ve(t.getUTCDate(),e,2)}function aX(t,e){return Ve(t.getUTCHours(),e,2)}function sX(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function lX(t,e){return Ve(1+Cp.count(pi(t),t),e,3)}function hI(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function uX(t,e){return hI(t,e)+"000"}function cX(t,e){return Ve(t.getUTCMonth()+1,e,2)}function dX(t,e){return Ve(t.getUTCMinutes(),e,2)}function fX(t,e){return Ve(t.getUTCSeconds(),e,2)}function hX(t){var e=t.getUTCDay();return e===0?7:e}function pX(t,e){return Ve(jp.count(pi(t)-1,t),e,2)}function pI(t){var e=t.getUTCDay();return e>=4||e===0?_s(t):_s.ceil(t)}function mX(t,e){return t=pI(t),Ve(_s.count(pi(t),t)+(pi(t).getUTCDay()===4),e,2)}function gX(t){return t.getUTCDay()}function yX(t,e){return Ve(Wf.count(pi(t)-1,t),e,2)}function vX(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function xX(t,e){return t=pI(t),Ve(t.getUTCFullYear()%100,e,2)}function bX(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function wX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_s(t):_s.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function _X(){return"+0000"}function U1(){return"%"}function F1(t){return+t}function B1(t){return Math.floor(+t/1e3)}var ga,mI,gI;SX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SX(t){return ga=SY(t),mI=ga.format,ga.parse,gI=ga.utcFormat,ga.utcParse,ga}function EX(t){return new Date(t)}function NX(t){return t instanceof Date?+t:+new Date(+t)}function fb(t,e,n,r,i,o,a,s,l,c){var d=Qx(),f=d.invert,h=d.domain,g=c(".%L"),y=c(":%S"),x=c("%I:%M"),b=c("%I %p"),v=c("%a %d"),w=c("%b %d"),_=c("%B"),N=c("%Y");function S(E){return(l(E)<E?g:s(E)<E?y:a(E)<E?x:o(E)<E?b:r(E)<E?i(E)<E?v:w:n(E)<E?_:N)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,NX)):h().map(EX)},d.ticks=function(E){var T=h();return t(T[0],T[T.length-1],E??10)},d.tickFormat=function(E,T){return T==null?S:c(T)},d.nice=function(E){var T=h();return(!E||typeof E.range!="function")&&(E=e(T[0],T[T.length-1],E??10)),E?h(nI(T,E)):d},d.copy=function(){return jc(d,fb(t,e,n,r,i,o,a,s,l,c))},d}function TX(){return lr.apply(fb(wY,_Y,hi,cb,Pp,Ic,lb,ab,Io,mI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kX(){return lr.apply(fb(xY,bY,pi,db,jp,Cp,ub,sb,Io,gI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ip(){var t=0,e=1,n,r,i,o,a=dn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var g,y;return arguments.length?([g,y]=h,a=f(g,y),c):[a(0),a(1)]}}return c.range=d(el),c.rangeRound=d(Xx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yI(){var t=oo(Ip()(dn));return t.copy=function(){return ao(t,yI())},bi.apply(t,arguments)}function vI(){var t=tb(Ip()).domain([1,10]);return t.copy=function(){return ao(t,vI()).base(t.base())},bi.apply(t,arguments)}function xI(){var t=nb(Ip());return t.copy=function(){return ao(t,xI()).constant(t.constant())},bi.apply(t,arguments)}function hb(){var t=rb(Ip());return t.copy=function(){return ao(t,hb()).exponent(t.exponent())},bi.apply(t,arguments)}function AX(){return hb.apply(null,arguments).exponent(.5)}function bI(){var t=[],e=dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ki),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>pJ(t,o/r))},n.copy=function(){return bI(e).domain(t)},bi.apply(n,arguments)}function Op(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=dn,d,f=!1,h;function g(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-o)*(r*x<r*o?s:l),c(f?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,n]=x,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(x){return arguments.length?(f=!!x,g):f},g.interpolator=function(x){return arguments.length?(c=x,g):c};function y(x){return function(b){var v,w,_;return arguments.length?([v,w,_]=b,c=FJ(x,[v,w,_]),g):[c(0),c(.5),c(1)]}}return g.range=y(el),g.rangeRound=y(Xx),g.unknown=function(x){return arguments.length?(h=x,g):h},function(x){return d=x,i=x(t),o=x(e),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function wI(){var t=oo(Op()(dn));return t.copy=function(){return ao(t,wI())},bi.apply(t,arguments)}function _I(){var t=tb(Op()).domain([.1,1,10]);return t.copy=function(){return ao(t,_I()).base(t.base())},bi.apply(t,arguments)}function SI(){var t=nb(Op());return t.copy=function(){return ao(t,SI()).constant(t.constant())},bi.apply(t,arguments)}function pb(){var t=rb(Op());return t.copy=function(){return ao(t,pb()).exponent(t.exponent())},bi.apply(t,arguments)}function CX(){return pb.apply(null,arguments).exponent(.5)}const q1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Du,scaleDiverging:wI,scaleDivergingLog:_I,scaleDivergingPow:pb,scaleDivergingSqrt:CX,scaleDivergingSymlog:SI,scaleIdentity:tI,scaleImplicit:iv,scaleLinear:Gf,scaleLog:rI,scaleOrdinal:Kx,scalePoint:Jl,scalePow:ib,scaleQuantile:aI,scaleQuantize:sI,scaleRadial:oI,scaleSequential:yI,scaleSequentialLog:vI,scaleSequentialPow:hb,scaleSequentialQuantile:bI,scaleSequentialSqrt:AX,scaleSequentialSymlog:xI,scaleSqrt:uY,scaleSymlog:iI,scaleThreshold:lI,scaleTime:TX,scaleUtc:kX,tickFormat:eI},Symbol.toStringTag,{value:"Module"}));var PX=Hs;function jX(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!PX(a):n(a,s)))var s=a,l=o}return l}var Rp=jX;function IX(t,e){return t>e}var EI=IX,OX=Rp,RX=EI,MX=Zs;function $X(t){return t&&t.length?OX(t,MX,RX):void 0}var DX=$X;const Mp=We(DX);function LX(t,e){return t<e}var NI=LX,UX=Rp,FX=NI,BX=Zs;function qX(t){return t&&t.length?UX(t,BX,FX):void 0}var VX=qX;const $p=We(VX);var GX=Ax,HX=qr,zX=Oj,WX=En;function KX(t,e){var n=WX(t)?GX:zX;return n(t,HX(e))}var JX=KX,YX=jj,XX=JX;function QX(t,e){return YX(XX(t,e),1)}var ZX=QX;const eQ=We(ZX);var tQ=Vx;function nQ(t,e){return tQ(t,e)}var rQ=nQ;const Oc=We(rQ);var tl=1e9,iQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gb,ut=!0,or="[DecimalError] ",Fo=or+"Invalid argument: ",mb=or+"Exponent out of range: ",nl=Math.floor,wo=Math.pow,oQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Lt=1e7,ot=7,TI=9007199254740991,Kf=nl(TI/ot),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return oi(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return Ye(oi(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return kt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rn))throw Error(or+"NaN");if(n.s<1)throw Error(or+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(ut=!1,e=oi(qu(n,o),qu(t,o),o),ut=!0,Ye(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CI(e,t):kI(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(or+"NaN");return n.s?(ut=!1,e=oi(n,t,0,1).times(t),ut=!0,n.minus(e)):Ye(new r(n),i)};pe.naturalExponential=pe.exp=function(){return AI(this)};pe.naturalLogarithm=pe.ln=function(){return qu(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kI(e,t):CI(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fo+t);if(e=kt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(or+"NaN")}for(t=kt(s),ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ir(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(oi(s,o,a+2)).times(.5),Ir(o.d).slice(0,a)===(e=Ir(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ut=!0,Ye(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,o,a,s,l,c,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=g.length,l<c&&(o=h,h=g,g=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%Lt|0,e=s/Lt|0;o[i]=(o[i]+e)%Lt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Ye(t,f.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Dr(t,0,tl),e===void 0?e=r.rounding:Dr(e,0,8),Ye(n,t+kt(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jo(r,!0):(Dr(t,0,tl),e===void 0?e=i.rounding:Dr(e,0,8),r=Ye(new i(r),t+1,e),n=Jo(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Jo(i):(Dr(t,0,tl),e===void 0?e=o.rounding:Dr(e,0,8),r=Ye(new o(i),t+kt(i)+1,e),n=Jo(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),kt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Rn);if(s=new l(s),!s.s){if(t.s<1)throw Error(or+"Infinity");return s}if(s.eq(Rn))return s;if(r=l.precision,t.eq(Rn))return Ye(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=TI){for(i=new l(Rn),e=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(s),G1(i.d,e)),n=nl(n/2),n!==0;)s=s.times(s),G1(s.d,e);return ut=!0,t.s<0?new l(Rn).div(i):Ye(i,r)}}else if(o<0)throw Error(or+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ut=!1,i=t.times(qu(s,r+c)),ut=!0,i=AI(i),i.s=o,i};pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=kt(i),r=Jo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Dr(t,1,tl),e===void 0?e=o.rounding:Dr(e,0,8),i=Ye(new o(i),t,e),n=kt(i),r=Jo(i,t<=n||n<=o.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Dr(t,1,tl),e===void 0?e=r.rounding:Dr(e,0,8)),Ye(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return Jo(t,e<=n.toExpNeg||e>=n.toExpPos)};function kI(t,e){var n,r,i,o,a,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ut?Ye(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/ot),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Lt|0,l[o]%=Lt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ut?Ye(e,f):e}function Dr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fo+t)}function Ir(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=Pi(n)),o+=r;a=t[e],r=a+"",n=ot-r.length,n&&(o+=Pi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var oi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Lt|0,a=o/Lt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Lt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,d,f,h,g,y,x,b,v,w,_,N,S,E,T,A,C=r.constructor,j=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(or+"Division by zero");for(l=r.e-i.e,T=D.length,S=I.length,g=new C(j),y=g.d=[],c=0;D[c]==(I[c]||0);)++c;if(D[c]>(I[c]||0)&&--l,o==null?w=o=C.precision:a?w=o+(kt(r)-kt(i))+1:w=o,w<0)return new C(0);if(w=w/ot+2|0,c=0,T==1)for(d=0,D=D[0],w++;(c<S||d)&&w--;c++)_=d*Lt+(I[c]||0),y[c]=_/D|0,d=_%D|0;else{for(d=Lt/(D[0]+1)|0,d>1&&(D=t(D,d),I=t(I,d),T=D.length,S=I.length),N=T,x=I.slice(0,T),b=x.length;b<T;)x[b++]=0;A=D.slice(),A.unshift(0),E=D[0],D[1]>=Lt/2&&++E;do d=0,s=e(D,x,T,b),s<0?(v=x[0],T!=b&&(v=v*Lt+(x[1]||0)),d=v/E|0,d>1?(d>=Lt&&(d=Lt-1),f=t(D,d),h=f.length,b=x.length,s=e(f,x,h,b),s==1&&(d--,n(f,T<h?A:D,h))):(d==0&&(s=d=1),f=D.slice()),h=f.length,h<b&&f.unshift(0),n(x,f,b),s==-1&&(b=x.length,s=e(D,x,T,b),s<1&&(d++,n(x,T<b?A:D,b))),b=x.length):s===0&&(d++,x=[0]),y[c++]=d,s&&x[0]?x[b++]=I[N]||0:(x=[I[N]],b=1);while((N++<S||x[0]!==void 0)&&w--)}return y[0]||y.shift(),g.e=l,Ye(g,a?o+kt(g)+1:o)}}();function AI(t,e){var n,r,i,o,a,s,l=0,c=0,d=t.constructor,f=d.precision;if(kt(t)>16)throw Error(mb+kt(t));if(!t.s)return new d(Rn);for(ut=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(wo(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Rn),d.precision=s;;){if(i=Ye(i.times(t),s),n=n.times(++l),a=o.plus(oi(i,n,s)),Ir(a.d).slice(0,s)===Ir(o.d).slice(0,s)){for(;c--;)o=Ye(o.times(o),s);return d.precision=f,e==null?(ut=!0,Ye(o,f)):o}o=a}}function kt(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function lg(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(or+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Pi(t){for(var e="";t--;)e+="0";return e}function qu(t,e){var n,r,i,o,a,s,l,c,d,f=1,h=10,g=t,y=g.d,x=g.constructor,b=x.precision;if(g.s<1)throw Error(or+(g.s?"NaN":"-Infinity"));if(g.eq(Rn))return new x(0);if(e==null?(ut=!1,c=b):c=e,g.eq(10))return e==null&&(ut=!0),lg(x,c);if(c+=h,x.precision=c,n=Ir(y),r=n.charAt(0),o=kt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Ir(g.d),r=n.charAt(0),f++;o=kt(g),r>1?(g=new x("0."+n),o++):g=new x(r+"."+n.slice(1))}else return l=lg(x,c+2,b).times(o+""),g=qu(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=b,e==null?(ut=!0,Ye(g,b)):g;for(s=a=g=oi(g.minus(Rn),g.plus(Rn),c),d=Ye(g.times(g),c),i=3;;){if(a=Ye(a.times(d),c),l=s.plus(oi(a,new x(i),c)),Ir(l.d).slice(0,c)===Ir(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(lg(x,c+2,b).times(o+""))),s=oi(s,new x(f),c),x.precision=b,e==null?(ut=!0,Ye(s,b)):s;s=l,i+=2}}function V1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nl(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>Kf||t.e<-Kf))throw Error(mb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,n){var r,i,o,a,s,l,c,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ot,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/ot),o=f.length,d>=o)return t;for(c=o=f[d],a=1;o>=10;o/=10)a++;r%=ot,i=r-ot+a}if(n!==void 0&&(o=wo(10,a-i-1),s=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/wo(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=kt(t),f.length=1,e=e-o-1,f[0]=wo(10,(ot-e%ot)%ot),t.e=nl(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=wo(10,ot-r),f[d]=i>0?(c/wo(10,a-i)%wo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Lt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Lt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>Kf||t.e<-Kf))throw Error(mb+kt(t));return t}function CI(t,e){var n,r,i,o,a,s,l,c,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?Ye(e,g):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(g/ot),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Lt-1;--l[o],l[i]+=Lt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Ye(e,g):e):new h(0)}function Jo(t,e,n){var r,i=kt(t),o=Ir(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Pi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Pi(-i-1)+o,n&&(r=n-a)>0&&(o+=Pi(r))):i>=a?(o+=Pi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Pi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Pi(r))),t.s<0?"-"+o:o}function G1(t,e){if(t.length>e)return t.length=e,!0}function PI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return V1(a,o.toString())}else if(typeof o!="string")throw Error(Fo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,oQ.test(o))V1(a,o);else throw Error(Fo+o)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PI,i.config=i.set=aQ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function aQ(t){if(!t||typeof t!="object")throw Error(or+"Object expected");var e,n,r,i=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fo+n+": "+r);return this}var gb=PI(iQ);Rn=new gb(1);const Je=gb;function sQ(t){return dQ(t)||cQ(t)||uQ(t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){if(t){if(typeof t=="string")return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}}function cQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dQ(t){if(Array.isArray(t))return lv(t)}function lv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fQ=function(e){return e},jI={},II=function(e){return e===jI},H1=function(e){return function n(){return arguments.length===0||arguments.length===1&&II(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},hQ=function t(e,n){return e===1?n:H1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==jI}).length;return a>=e?n.apply(void 0,i):t(e-a,H1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return II(f)?l.shift():f});return n.apply(void 0,sQ(d).concat(l))}))})},Dp=function(e){return hQ(e.length,e)},uv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},pQ=Dp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),mQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fQ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},cv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function gQ(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function yQ(t,e,n){for(var r=new Je(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var vQ=Dp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),xQ=Dp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),bQ=Dp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Lp={rangeStep:yQ,getDigitCount:gQ,interpolateNumber:vQ,uninterpolateNumber:xQ,uninterpolateTruncation:bQ};function dv(t){return SQ(t)||_Q(t)||RI(t)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SQ(t){if(Array.isArray(t))return fv(t)}function Vu(t,e){return TQ(t)||NQ(t,e)||RI(t,e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RI(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function TQ(t){if(Array.isArray(t))return t}function MI(t){var e=Vu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function $I(t,e,n){if(t.lte(0))return new Je(0);var r=Lp.getDigitCount(t.toNumber()),i=new Je(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Je(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Je(Math.ceil(l))}function kQ(t,e,n){var r=1,i=new Je(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Je(10).pow(Lp.getDigitCount(t)-1),i=new Je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Je(Math.floor(t)))}else t===0?i=new Je(Math.floor((e-1)/2)):n||(i=new Je(Math.floor(t)));var a=Math.floor((e-1)/2),s=mQ(pQ(function(l){return i.add(new Je(l-a).mul(r)).toNumber()}),uv);return s(0,e)}function DI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var o=$I(new Je(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Je(0):(a=new Je(t).add(e).div(2),a=a.sub(new Je(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Je(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?DI(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Je(s).mul(o)),tickMax:a.add(new Je(l).mul(o))})}function AQ(t){var e=Vu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=MI([n,r]),l=Vu(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(dv(uv(0,i-1).map(function(){return 1/0}))):[].concat(dv(uv(0,i-1).map(function(){return-1/0})),[d]);return n>r?cv(f):f}if(c===d)return kQ(c,i,o);var h=DI(c,d,a,o),g=h.step,y=h.tickMin,x=h.tickMax,b=Lp.rangeStep(y,x.add(new Je(.1).mul(g)),g);return n>r?cv(b):b}function CQ(t,e){var n=Vu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=MI([r,i]),s=Vu(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=$I(new Je(c).sub(l).div(d-1),o,0),h=[].concat(dv(Lp.rangeStep(new Je(l),new Je(c).sub(new Je(.99).mul(f)),f)),[c]);return r>i?cv(h):h}var PQ=OI(AQ),jQ=OI(CQ),IQ="Invariant failed";function Yo(t,e){throw new Error(IQ)}var OQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}function RQ(t,e){return LQ(t)||DQ(t,e)||$Q(t,e)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return z1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z1(t,e)}}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function LQ(t){if(Array.isArray(t))return t}function UQ(t,e){if(t==null)return{};var n=FQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FI(r.key),r)}}function VQ(t,e,n){return e&&qQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQ(t,e,n){return e=Yf(e),HQ(t,LI()?Reflect.construct(e,n||[],Yf(t).constructor):e.apply(t,n))}function HQ(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(t)}function zQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LI=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(t)}function WQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hv(t,e)}function UI(t,e,n){return e=FI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FI(t){var e=KQ(t,"string");return Ss(e)=="symbol"?e:e+""}function KQ(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rc=function(t){function e(){return BQ(this,e),GQ(this,e,arguments)}return WQ(e,t),VQ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=UQ(r,OQ),g=Se(h,!1);this.props.direction==="x"&&d.type!=="number"&&Yo();var y=l.map(function(x){var b=c(x,s),v=b.x,w=b.y,_=b.value,N=b.errorVal;if(!N)return null;var S=[],E,T;if(Array.isArray(N)){var A=RQ(N,2);E=A[0],T=A[1]}else E=T=N;if(o==="vertical"){var C=d.scale,j=w+i,I=j+a,D=j-a,B=C(_-E),O=C(_+T);S.push({x1:O,y1:I,x2:O,y2:D}),S.push({x1:B,y1:j,x2:O,y2:j}),S.push({x1:B,y1:I,x2:B,y2:D})}else if(o==="horizontal"){var P=f.scale,U=v+i,q=U-a,M=U+a,W=P(_-E),X=P(_+T);S.push({x1:q,y1:X,x2:M,y2:X}),S.push({x1:U,y1:W,x2:U,y2:X}),S.push({x1:q,y1:W,x2:M,y2:W})}return R.createElement(qe,Jf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},g),S.map(function(L){return R.createElement("line",Jf({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return R.createElement(qe,{className:"recharts-errorBars"},y)}}])}(R.Component);UI(Rc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UI(Rc,"displayName","ErrorBar");function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=XQ(t,"string");return Gu(e)=="symbol"?e:e+""}function XQ(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Cn(n,Lo);if(!a)return null;var s=Lo.defaultProps,l=s!==void 0?ho(ho({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(x){return{type:a.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?ho(ho({},h),f.props):{},y=g.dataKey,x=g.name,b=g.legendType,v=g.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:yb(f),value:x||y,payload:g}}),ho(ho(ho({},l),Lo.getWithHeight(a,i)),{},{payload:c,item:a})};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function K1(t){return tZ(t)||eZ(t)||ZQ(t)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(t,e){if(t){if(typeof t=="string")return pv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pv(t,e)}}function eZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tZ(t){if(Array.isArray(t))return pv(t)}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function es(t,e,n){return e=nZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t){var e=rZ(t,"string");return Hu(e)=="symbol"?e:e+""}function rZ(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ot(t,e,n){return Ie(t)||Ie(e)?n:Mt(e)?Ln(t,e,n):Ce(e)?e(t):n}function Yl(t,e,n,r){var i=eQ(t,function(s){return Ot(s,e)});if(n==="number"){var o=i.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[$p(o),Mp(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ie(s)}):i;return a.map(function(s){return Mt(s)||s instanceof Date?s:""})}var iZ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(un(f-d)!==un(h-f)){var y=[];if(un(h-f)===un(l[1]-l[0])){g=h;var x=f+l[1]-l[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{g=d;var b=h+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){a=i[c].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[c].index;break}}}else for(var N=0;N<s;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){a=r[N].index;break}return a},yb=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},oZ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var y=d[f[h]],x=y.items,b=y.cateAxisId,v=x.filter(function(T){return ii(T.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?vt(vt({},w),v[0].props):v[0].props,N=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=Ie(N)?n:N;a[S].push({item:v[0],stackList:v.slice(1),barSize:Ie(E)?void 0:cn(E,r,0)})}}return a},aZ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=cn(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,y=a.reduce(function(N,S){return N+S.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var x=(i-y)/2>>0,b={offset:x-c,size:0};d=a.reduce(function(N,S){var E={item:S.item,position:{offset:b.offset+b.size+c,size:h?g:S.barSize}},T=[].concat(K1(N),[E]);return b=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){T.push({item:A,position:b})}),T},f)}else{var v=cn(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;d=a.reduce(function(N,S,E){var T=[].concat(K1(N),[{item:S.item,position:{offset:v+(w+c)*E+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){T.push({item:A,position:T[T.length-1].position})}),T},f)}return d},sZ=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=BI({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,g=c.align,y=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&g!=="center"&&ie(e[g]))return vt(vt({},e),{},es({},g,e[g]+(f||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&y!=="middle"&&ie(e[y]))return vt(vt({},e),{},es({},y,e[y]+(h||0)))}return e},lZ=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qI=function(e,n,r,i,o){var a=n.props.children,s=Un(a,Rc).filter(function(c){return lZ(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Ot(d,r);if(Ie(f))return c;var h=Array.isArray(f)?[$p(f),Mp(f)]:[f,f],g=l.reduce(function(y,x){var b=Ot(d,x,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},uZ=function(e,n,r,i,o){var a=n.map(function(s){return qI(e,s,r,o,i)}).filter(function(s){return!Ie(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},VI=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&qI(e,l,c,i)||Yl(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},GI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},HI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ti=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!kc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},ug=new WeakMap,hd=function(e,n){if(typeof n!="function")return e;ug.has(e)||ug.set(e,new WeakMap);var r=ug.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Du(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Gf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jl(),realScaleType:"point"}:o==="category"?{scale:Du(),realScaleType:"band"}:{scale:Gf(),realScaleType:"linear"};if(zo(i)){var l="scale".concat(wp(i));return{scale:(q1[l]||Jl)(),realScaleType:q1[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:Jl(),realScaleType:"point"}},Y1=1e-4,WI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Y1,a=Math.max(i[0],i[1])+Y1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},cZ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dZ=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},fZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=kc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},hZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=kc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},pZ={sign:fZ,expand:O6,none:ms,silhouette:R6,wiggle:M6,positive:hZ},mZ=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=pZ[r],a=I6().keys(i).value(function(s,l){return+Ot(s,l,0)}).order(Uy).offset(o);return a(e)},gZ=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?vt(vt({},h.type.defaultProps),h.props):h.props,x=y.stackId,b=y.hide;if(b)return f;var v=y[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(Mt(x)){var _=w.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[x]=_}else w.stackGroups[Ys("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return vt(vt({},f),{},es({},v,w))},l),d={};return Object.keys(c).reduce(function(f,h){var g=c[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,b){var v=g.stackGroups[b];return vt(vt({},x),{},es({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:mZ(e,v.items,o)}))},y)}return vt(vt({},f),{},es({},h,g))},d)},KI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=PQ(c,o,s);return e.domain([$p(d),Mp(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=jQ(f,o,s);return{niceTicks:h}}return null};function X1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var s=Sf(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Ot(i,Ie(a)?e.dataKey:a);return Ie(l)?null:e.scale(l)}var Q1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Ot(a,n.dataKey,n.domain[s]);return Ie(l)?null:n.scale(l)-o/2+i},yZ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},vZ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Mt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},xZ=function(e){return e.reduce(function(n,r){return[$p(r.concat([n[0]]).filter(ie)),Mp(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},JI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,d){var f=xZ(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mv=function(e,n,r){if(Ce(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Z1.test(e[0])){var o=+Z1.exec(e[0])[1];i[0]=n[0]-o}else Ce(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(eE.test(e[1])){var a=+eE.exec(e[1])[1];i[1]=n[1]+a}else Ce(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Xf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Hx(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},tE=function(e,n,r){return!e||!e.length||Oc(e,Ln(r,"type.defaultProps.domain"))?n:e},YI=function(e,n){var r=e.type.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return vt(vt({},Se(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:yb(e),value:Ot(n,i),type:l,payload:n,chartType:c,hide:d})};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){XI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XI(t,e,n){return e=bZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bZ(t){var e=wZ(t,"string");return zu(e)=="symbol"?e:e+""}function wZ(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Z(t,e){return TZ(t)||NZ(t,e)||EZ(t,e)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function TZ(t){if(Array.isArray(t))return t}var Qf=Math.PI/180,kZ=function(e){return e*180/Math.PI},tt=function(e,n,r,i){return{x:e+Math.cos(-Qf*i)*r,y:n+Math.sin(-Qf*i)*r}},QI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AZ=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=cn(e.cx,a,a/2),f=cn(e.cy,s,s/2),h=QI(a,s,r),g=cn(e.innerRadius,h,0),y=cn(e.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(b,v){var w=n[v],_=w.domain,N=w.reversed,S;if(Ie(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[g,y]),N&&(S=[S[1],S[0]]);else{S=w.range;var E=S,T=_Z(E,2);l=T[0],c=T[1]}var A=zI(w,o),C=A.realScaleType,j=A.scale;j.domain(_).range(S),WI(j);var I=KI(j,Kr(Kr({},w),{},{realScaleType:C})),D=Kr(Kr(Kr({},w),I),{},{range:S,radius:y,realScaleType:C,scale:j,cx:d,cy:f,innerRadius:g,outerRadius:y,startAngle:l,endAngle:c});return Kr(Kr({},b),{},XI({},v,D))},{})},CZ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},PZ=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=CZ({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:kZ(c),angleInRadian:c}},jZ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},IZ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},iE=function(e,n){var r=e.x,i=e.y,o=PZ({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=jZ(n),f=d.startAngle,h=d.endAngle,g=s,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?Kr(Kr({},n),{},{radius:a,angle:IZ(g,n)}):null},ZI=function(e){return!k.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}var OZ=["offset"];function RZ(t){return LZ(t)||DZ(t)||$Z(t)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(t,e){if(t){if(typeof t=="string")return gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(t,e)}}function DZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LZ(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UZ(t,e){if(t==null)return{};var n=FZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=VZ(t,"string");return Wu(e)=="symbol"?e:e+""}function VZ(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}var GZ=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return Ce(r)?r(i):i},HZ=function(e,n){var r=un(n-e),i=Math.min(Math.abs(n-e),360);return r*i},zZ=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,x=l.clockWise,b=(f+h)/2,v=HZ(g,y),w=v>=0?1:-1,_,N;i==="insideStart"?(_=g+w*a,N=x):i==="insideEnd"?(_=y-w*a,N=!x):i==="end"&&(_=y+w*a,N=x),N=v<=0?N:!N;var S=tt(c,d,b,_),E=tt(c,d,b,_+(N?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(E.x,",").concat(E.y),A=Ie(e.id)?Ys("recharts-radial-line-"):e.id;return R.createElement("text",Ku({},r,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:A,d:T})),R.createElement("textPath",{xlinkHref:"#".concat(A)},n))},WZ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=tt(a,s,c+r,h),y=g.x,x=g.y;return{x:y,y:x,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,v=tt(a,s,b,h),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},KZ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",y=f>0?"start":"end",x=c>=0?1:-1,b=x*i,v=x>0?"end":"start",w=x>0?"start":"end";if(o==="top"){var _={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return Pt(Pt({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var N={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Pt(Pt({},N),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var S={x:s-b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return Pt(Pt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var E={x:s+c+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Pt(Pt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var T=r?{width:c,height:d}:{};return o==="insideLeft"?Pt({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},T):o==="insideRight"?Pt({x:s+c-b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},T):o==="insideTop"?Pt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},T):o==="insideBottom"?Pt({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},T):o==="insideTopLeft"?Pt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:y},T):o==="insideTopRight"?Pt({x:s+c-b,y:l+h,textAnchor:v,verticalAnchor:y},T):o==="insideBottomLeft"?Pt({x:s+b,y:l+d-h,textAnchor:w,verticalAnchor:g},T):o==="insideBottomRight"?Pt({x:s+c-b,y:l+d-h,textAnchor:v,verticalAnchor:g},T):zs(o)&&(ie(o.x)||Po(o.x))&&(ie(o.y)||Po(o.y))?Pt({x:s+cn(o.x,c),y:l+cn(o.y,d),textAnchor:"end",verticalAnchor:"end"},T):Pt({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},JZ=function(e){return"cx"in e&&ie(e.cx)};function Bt(t){var e=t.offset,n=e===void 0?5:e,r=UZ(t,OZ),i=Pt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Ie(s)&&Ie(l)&&!k.isValidElement(c)&&!Ce(c))return null;if(k.isValidElement(c))return k.cloneElement(c,i);var g;if(Ce(c)){if(g=k.createElement(c,i),k.isValidElement(g))return g}else g=GZ(i);var y=JZ(o),x=Se(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return zZ(i,g,x);var b=y?WZ(i):KZ(i);return R.createElement(Ko,Ku({className:Oe("recharts-label",f)},x,b,{breakAll:h}),g)}Bt.displayName="Label";var e2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,y=e.left,x=e.width,b=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ie(x)&&ie(b)){if(ie(f)&&ie(h))return{x:f,y:h,width:x,height:b};if(ie(g)&&ie(y))return{x:g,y,width:x,height:b}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},YZ=function(e,n){return e?e===!0?R.createElement(Bt,{key:"label-implicit",viewBox:n}):Mt(e)?R.createElement(Bt,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===Bt?k.cloneElement(e,{key:"label-implicit",viewBox:n}):R.createElement(Bt,{key:"label-implicit",content:e,viewBox:n}):Ce(e)?R.createElement(Bt,{key:"label-implicit",content:e,viewBox:n}):zs(e)?R.createElement(Bt,Ku({viewBox:n},e,{key:"label-implicit"})):null:null},XZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=e2(e),a=Un(i,Bt).map(function(l,c){return k.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=YZ(e.label,n||o);return[s].concat(RZ(a))};Bt.parseViewBox=e2;Bt.renderCallByParent=XZ;function QZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ZZ=QZ;const eee=We(ZZ);function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var tee=["valueAccessor"],nee=["data","dataKey","clockWise","id","textBreakAll"];function ree(t){return see(t)||aee(t)||oee(t)||iee()}function iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function aee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function see(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return e=uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=cee(t,"string");return Ju(e)=="symbol"?e:e+""}function cee(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lE(t,e){if(t==null)return{};var n=dee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fee=function(e){return Array.isArray(e.value)?eee(e.value):e.value};function ai(t){var e=t.valueAccessor,n=e===void 0?fee:e,r=lE(t,tee),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=lE(r,nee);return!i||!i.length?null:R.createElement(qe,{className:"recharts-label-list"},i.map(function(d,f){var h=Ie(o)?n(d,f):Ot(d&&d.payload,o),g=Ie(s)?{}:{id:"".concat(s,"-").concat(f)};return R.createElement(Bt,Zf({},Se(d,!0),c,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Bt.parseViewBox(Ie(a)?d:sE(sE({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ai.displayName="LabelList";function hee(t,e){return t?t===!0?R.createElement(ai,{key:"labelList-implicit",data:e}):R.isValidElement(t)||Ce(t)?R.createElement(ai,{key:"labelList-implicit",data:e,content:t}):zs(t)?R.createElement(ai,Zf({data:e},t,{key:"labelList-implicit"})):null:null}function pee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Un(r,ai).map(function(a,s){return k.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=hee(t.label,e);return[o].concat(ree(i))}ai.renderCallByParent=pee;function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(this,arguments)}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return e=gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return Yu(e)=="symbol"?e:e+""}function yee(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vee=function(e,n){var r=un(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},pd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Qf,h=c?o:o+a*f,g=tt(n,r,d,h),y=tt(n,r,i,h),x=c?o-a*f:o,b=tt(n,r,d*Math.cos(f*Qf),x);return{center:g,circleTangency:y,lineTangency:b,theta:f}},t2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=vee(a,s),c=a+l,d=tt(n,r,o,a),f=tt(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=tt(n,r,i,a),y=tt(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},xee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=un(d-c),h=pd({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,x=h.theta,b=pd({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,_=b.theta,N=l?Math.abs(c-d):Math.abs(c-d)-x-_;if(N<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):t2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=pd({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=E.circleTangency,A=E.lineTangency,C=E.theta,j=pd({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=j.circleTangency,D=j.lineTangency,B=j.theta,O=l?Math.abs(c-d):Math.abs(c-d)-C-B;if(O<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},bee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n2=function(e){var n=cE(cE({},bee),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var g=Oe("recharts-sector",h),y=a-o,x=cn(s,y,0,!0),b;return x>0&&Math.abs(d-f)<360?b=xee({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=t2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),R.createElement("path",vv({},Se(n,!0),{className:g,d:b,role:"img"}))};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=See(t,"string");return Xu(e)=="symbol"?e:e+""}function See(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hE={curveBasisClosed:w6,curveBasisOpen:_6,curveBasis:b6,curveBumpX:a6,curveBumpY:s6,curveLinearClosed:S6,curveLinear:Sp,curveMonotoneX:E6,curveMonotoneY:N6,curveNatural:T6,curveStep:k6,curveStepAfter:C6,curveStepBefore:A6},md=function(e){return e.x===+e.x&&e.y===+e.y},wl=function(e){return e.x},_l=function(e){return e.y},Eee=function(e,n){if(Ce(e))return e;var r="curve".concat(wp(e));return(r==="curveMonotone"||r==="curveBump")&&n?hE["".concat(r).concat(n==="vertical"?"Y":"X")]:hE[r]||Sp},Nee=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=Eee(r,s),f=c?o.filter(function(x){return md(x)}):o,h;if(Array.isArray(a)){var g=c?a.filter(function(x){return md(x)}):a,y=f.map(function(x,b){return fE(fE({},x),{},{base:g[b]})});return s==="vertical"?h=od().y(_l).x1(wl).x0(function(x){return x.base.x}):h=od().x(wl).y1(_l).y0(function(x){return x.base.y}),h.defined(md).curve(d),h(y)}return s==="vertical"&&ie(a)?h=od().y(_l).x1(wl).x0(a):ie(a)?h=od().x(wl).y1(_l).y0(a):h=YP().x(wl).y(_l),h.defined(md).curve(d),h(f)},eh=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Nee(e):i;return k.createElement("path",xv({},Se(e,!1),Ef(e),{className:Oe("recharts-curve",n),d:a,ref:o}))},r2={exports:{}},Tee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kee=Tee,Aee=kee;function i2(){}function o2(){}o2.resetWarningCache=i2;var Cee=function(){function t(r,i,o,a,s,l){if(l!==Aee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o2,resetWarningCache:i2};return n.PropTypes=n,n};r2.exports=Cee();var Pee=r2.exports;const He=We(Pee),{getOwnPropertyNames:jee,getOwnPropertySymbols:Iee}=Object,{hasOwnProperty:Oee}=Object.prototype;function cg(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function gd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Ree(t){return t!=null?t[Symbol.toStringTag]:void 0}function pE(t){return jee(t).concat(Iee(t))}const Mee=Object.hasOwn||((t,e)=>Oee.call(t,e));function aa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const $ee="__v",Dee="__o",Lee="_owner",{getOwnPropertyDescriptor:mE,keys:gE}=Object;function Uee(t,e){return t.byteLength===e.byteLength&&th(new Uint8Array(t),new Uint8Array(e))}function Fee(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Bee(t,e){return t.byteLength===e.byteLength&&th(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function qee(t,e){return aa(t.getTime(),e.getTime())}function Vee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Gee(t,e){return t===e}function yE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let d=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const Hee=aa;function zee(t,e,n){const r=gE(t);let i=r.length;if(gE(e).length!==i)return!1;for(;i-- >0;)if(!a2(t,e,n,r[i]))return!1;return!0}function Sl(t,e,n){const r=pE(t);let i=r.length;if(pE(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!a2(t,e,n,o)||(a=mE(t,o),s=mE(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Wee(t,e){return aa(t.valueOf(),e.valueOf())}function Kee(t,e){return t.source===e.source&&t.flags===e.flags}function vE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function th(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Jee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function a2(t,e,n,r){return(r===Lee||r===Dee||r===$ee)&&(t.$$typeof||e.$$typeof)?!0:Mee(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Yee="[object ArrayBuffer]",Xee="[object Arguments]",Qee="[object Boolean]",Zee="[object DataView]",ete="[object Date]",tte="[object Error]",nte="[object Map]",rte="[object Number]",ite="[object Object]",ote="[object RegExp]",ate="[object Set]",ste="[object String]",lte={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ute="[object URL]",cte=Object.prototype.toString;function dte({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:y}){return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;const _=typeof b;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?s(b,v,w):_==="function"?o(b,v,w):!1;const N=b.constructor;if(N!==v.constructor)return!1;if(N===Object)return l(b,v,w);if(Array.isArray(b))return e(b,v,w);if(N===Date)return r(b,v,w);if(N===RegExp)return d(b,v,w);if(N===Map)return a(b,v,w);if(N===Set)return f(b,v,w);const S=cte.call(b);if(S===ete)return r(b,v,w);if(S===ote)return d(b,v,w);if(S===nte)return a(b,v,w);if(S===ate)return f(b,v,w);if(S===ite)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,w);if(S===ute)return g(b,v,w);if(S===tte)return i(b,v,w);if(S===Xee)return l(b,v,w);if(lte[S])return h(b,v,w);if(S===Yee)return t(b,v,w);if(S===Zee)return n(b,v,w);if(S===Qee||S===rte||S===ste)return c(b,v,w);if(y){let E=y[S];if(!E){const T=Ree(b);T&&(E=y[T])}if(E)return E(b,v,w)}return!1}}function fte({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Uee,areArraysEqual:n?Sl:Fee,areDataViewsEqual:Bee,areDatesEqual:qee,areErrorsEqual:Vee,areFunctionsEqual:Gee,areMapsEqual:n?cg(yE,Sl):yE,areNumbersEqual:Hee,areObjectsEqual:n?Sl:zee,arePrimitiveWrappersEqual:Wee,areRegExpsEqual:Kee,areSetsEqual:n?cg(vE,Sl):vE,areTypedArraysEqual:n?cg(th,Sl):th,areUrlsEqual:Jee,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=gd(r.areArraysEqual),o=gd(r.areMapsEqual),a=gd(r.areObjectsEqual),s=gd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function hte(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function pte({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:c,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const mte=so();so({strict:!0});so({circular:!0});so({circular:!0,strict:!0});so({createInternalComparator:()=>aa});so({strict:!0,createInternalComparator:()=>aa});so({circular:!0,createInternalComparator:()=>aa});so({circular:!0,createInternalComparator:()=>aa,strict:!0});function so(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=fte(t),a=dte(o),s=n?n(a):hte(a);return pte({circular:e,comparator:a,createState:r,equals:s,strict:i})}function gte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):gte(i)};requestAnimationFrame(r)}function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function yte(t){return wte(t)||bte(t)||xte(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wte(t){if(Array.isArray(t))return t}function _te(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=yte(a),l=s[0],c=s.slice(1);if(typeof l=="number"){xE(i.bind(null,c),l);return}i(l),xE(i.bind(null,c));return}bv(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){s2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s2(t,e,n){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ete(t,"string");return Qu(e)==="symbol"?e:String(e)}function Ete(t,e){if(Qu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nte=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Tte=function(e){return e},kte=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xl=function(e,n){return Object.keys(n).reduce(function(r,i){return _E(_E({},r),{},s2({},i,e(i,n[i])))},{})},SE=function(e,n,r){return e.map(function(i){return"".concat(kte(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Ate(t,e){return jte(t)||Pte(t,e)||l2(t,e)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jte(t){if(Array.isArray(t))return t}function Ite(t){return Mte(t)||Rte(t)||l2(t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2(t,e){if(t){if(typeof t=="string")return wv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wv(t,e)}}function Rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mte(t){if(Array.isArray(t))return wv(t)}function wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nh=1e-4,u2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},c2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},EE=function(e,n){return function(r){var i=u2(e,n);return c2(i,r)}},$te=function(e,n){return function(r){var i=u2(e,n),o=[].concat(Ite(i.map(function(a,s){return a*s}).slice(1)),[0]);return c2(o,r)}},NE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=Ate(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=EE(i,a),h=EE(o,s),g=$te(i,a),y=function(v){return v>1?1:v<0?0:v},x=function(v){for(var w=v>1?1:v,_=w,N=0;N<8;++N){var S=f(_)-w,E=g(_);if(Math.abs(S-w)<nh||E<nh)return h(_);_=y(_-S/E)}return h(_)};return x.isStepper=!1,x},Dte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*r,y=h*o,x=h+(g-y)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<nh&&Math.abs(x)<nh?[f,0]:[b,x]};return l.isStepper=!0,l.dt=s,l},Lte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NE(i);case"spring":return Dte();default:if(i.split("(")[0]==="cubic-bezier")return NE(i)}return typeof i=="function"?i:null};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function TE(t){return Bte(t)||Fte(t)||d2(t)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bte(t){if(Array.isArray(t))return Sv(t)}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){_v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _v(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Vte(t,"string");return Zu(e)==="symbol"?e:String(e)}function Vte(t,e){if(Zu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gte(t,e){return Wte(t)||zte(t,e)||d2(t,e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(t,e){if(t){if(typeof t=="string")return Sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sv(t,e)}}function Sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Wte(t){if(Array.isArray(t))return t}var rh=function(e,n,r){return e+(n-e)*r},Ev=function(e){var n=e.from,r=e.to;return n!==r},Kte=function t(e,n,r){var i=Xl(function(o,a){if(Ev(a)){var s=e(a.from,a.to,a.velocity),l=Gte(s,2),c=l[0],d=l[1];return Wt(Wt({},a),{},{from:c,velocity:d})}return a},n);return r<1?Xl(function(o,a){return Ev(a)?Wt(Wt({},a),{},{velocity:rh(a.velocity,i[o].velocity,r),from:rh(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Jte=function(t,e,n,r,i){var o=Nte(t,e),a=o.reduce(function(b,v){return Wt(Wt({},b),{},_v({},v,[t[v],e[v]]))},{}),s=o.reduce(function(b,v){return Wt(Wt({},b),{},_v({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Xl(function(v,w){return w.from},s)},g=function(){return!Object.values(s).filter(Ev).length},y=function(v){c||(c=v);var w=v-c,_=w/n.dt;s=Kte(n,s,_),i(Wt(Wt(Wt({},t),e),h())),c=v,g()||(l=requestAnimationFrame(f))},x=function(v){d||(d=v);var w=(v-d)/r,_=Xl(function(S,E){return rh.apply(void 0,TE(E).concat([n(w)]))},a);if(i(Wt(Wt(Wt({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var N=Xl(function(S,E){return rh.apply(void 0,TE(E).concat([n(1)]))},a);i(Wt(Wt(Wt({},t),e),N))}};return f=n.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}var Yte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xte(t,e){if(t==null)return{};var n=Qte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dg(t){return nne(t)||tne(t)||ene(t)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return Nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nv(t,e)}}function tne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nne(t){if(Array.isArray(t))return Nv(t)}function Nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){Il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Il(t,e,n){return e=f2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function one(t,e,n){return e&&ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2(t){var e=ane(t,"string");return Es(e)==="symbol"?e:String(e)}function ane(t,e){if(Es(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Es(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(t,e)}function lne(t){var e=une();return function(){var r=ih(t),i;if(e){var o=ih(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kv(this,i)}}function kv(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Av(t)}function Av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function une(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}var Lr=function(t){sne(n,t);var e=lne(n);function n(r,i){var o;rne(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Av(o)),o.changeStyle=o.changeStyle.bind(Av(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),kv(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},kv(o);o.state={style:l?Il({},l,c):c}}else o.state={style:{}};return o}return one(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?Il({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(mte(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||c?f:i.to;if(this.state&&h){var b={style:l?Il({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(b)}this.runAnimation(cr(cr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=Jte(a,s,Lte(c),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,g=function(x,b,v){if(v===0)return x;var w=b.duration,_=b.easing,N=_===void 0?"ease":_,S=b.style,E=b.properties,T=b.onAnimationEnd,A=v>0?a[v-1]:b,C=E||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(dg(x),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:w,easing:N}),w]);var j=SE(C,w,N),I=cr(cr(cr({},A.style),S),{},{transition:j});return[].concat(dg(x),[I,w,T]).filter(Tte)};return this.manager.start([l].concat(dg(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_te());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=s?Il({},s,l):l,b=SE(Object.keys(x),a,c);y.start([d,o,cr(cr({},x),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Xte(i,Yte),c=k.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var f=function(g){var y=g.props,x=y.style,b=x===void 0?{}:x,v=y.className,w=k.cloneElement(g,cr(cr({},l),{},{style:cr(cr({},b),d),className:v}));return w};return c===1?f(k.Children.only(o)):R.createElement("div",null,k.Children.map(o,function(h){return f(h)}))}}]),n}(k.PureComponent);Lr.displayName="Animate";Lr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lr.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function cne(t,e){return pne(t)||hne(t,e)||fne(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pne(t){if(Array.isArray(t))return t}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return e=gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=yne(t,"string");return ec(e)=="symbol"?e:e+""}function yne(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IE=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);d="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},vne=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},xne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vb=function(e){var n=jE(jE({},xne),e),r=k.useRef(),i=k.useState(-1),o=cne(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,g=n.className,y=n.animationEasing,x=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var _=Oe("recharts-rectangle",g);return w?R.createElement(Lr,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:x,animationEasing:y,isActive:w},function(N){var S=N.width,E=N.height,T=N.x,A=N.y;return R.createElement(Lr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:v,easing:y},R.createElement("path",oh({},Se(n,!0),{className:_,d:IE(T,A,S,E,h),ref:r})))}):R.createElement("path",oh({},Se(n,!0),{className:_,d:IE(l,c,d,f,h)}))},bne=["points","className","baseLinePoints","connectNulls"];function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}function wne(t,e){if(t==null)return{};var n=_ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OE(t){return Tne(t)||Nne(t)||Ene(t)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(t,e)}}function Nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tne(t){if(Array.isArray(t))return Cv(t)}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var RE=function(e){return e&&e.x===+e.x&&e.y===+e.y},kne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){RE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),RE(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ql=function(e,n){var r=kne(e);n&&(r=[r.reduce(function(o,a){return[].concat(OE(o),OE(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Ane=function(e,n,r){var i=Ql(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ql(n.reverse(),r).slice(1))},Cne=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=wne(e,bne);if(!n||!n.length)return null;var s=Oe("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=Ane(n,i,o);return R.createElement("g",{className:s},R.createElement("path",Da({},Se(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?R.createElement("path",Da({},Se(a,!0),{fill:"none",d:Ql(n,o)})):null,l?R.createElement("path",Da({},Se(a,!0),{fill:"none",d:Ql(i,o)})):null)}var d=Ql(n,o);return R.createElement("path",Da({},Se(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}var Up=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Oe("recharts-dot",o);return n===+n&&r===+r&&i===+i?k.createElement("circle",Pv({},Se(e,!1),Ef(e),{className:a,cx:n,cy:r,r:i})):null};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}var Pne=["x","y","top","left","width","height","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Rne(t,"string");return tc(e)=="symbol"?e:e+""}function Rne(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dne=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Lne=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,y=e.className,x=Mne(e,Pne),b=jne({x:r,y:o,top:s,left:c,width:f,height:g},x);return!ie(r)||!ie(o)||!ie(f)||!ie(g)||!ie(s)||!ie(c)?null:R.createElement("path",jv({},Se(b,!0),{className:Oe("recharts-cross",y),d:Dne(r,o,f,g,s,c)}))},Une=Rp,Fne=EI,Bne=qr;function qne(t,e){return t&&t.length?Une(t,Bne(e),Fne):void 0}var Vne=qne;const Gne=We(Vne);var Hne=Rp,zne=qr,Wne=NI;function Kne(t,e){return t&&t.length?Hne(t,zne(e),Wne):void 0}var Jne=Kne;const Yne=We(Jne);var Xne=["cx","cy","angle","ticks","axisLine"],Qne=["ticks","tick","angle","tickFormatter","stroke"];function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){Fp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DE(t,e){if(t==null)return{};var n=Zne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ere(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p2(r.key),r)}}function tre(t,e,n){return e&&LE(t.prototype,e),n&&LE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nre(t,e,n){return e=ah(e),rre(t,h2()?Reflect.construct(e,n||[],ah(t).constructor):e.apply(t,n))}function rre(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ire(t)}function ire(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ah(t)}function ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iv(t,e)}function Fp(t,e,n){return e=p2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2(t){var e=are(t,"string");return Ns(e)=="symbol"?e:e+""}function are(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bp=function(t){function e(){return ere(this,e),nre(this,e,arguments)}return ore(e,t),tre(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return tt(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Gne(s,function(d){return d.coordinate||0}),c=Yne(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=DE(r,Xne),d=s.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),f=tt(i,o,d[0],a),h=tt(i,o,d[1],a),g=po(po(po({},Se(c,!1)),{},{fill:"none"},Se(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Zl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=DE(i,Qne),f=this.getTickTextAnchor(),h=Se(d,!1),g=Se(a,!1),y=o.map(function(x,b){var v=r.getTickValueCoord(x),w=po(po(po(po({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},g),{},{index:b},v),{},{payload:x});return R.createElement(qe,Zl({className:Oe("recharts-polar-radius-axis-tick",ZI(a)),key:"tick-".concat(x.coordinate)},Wo(r.props,x,b)),e.renderTickItem(a,w,l?l(x.value,b):x.value))});return R.createElement(qe,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:R.createElement(qe,{className:Oe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):Ce(r)?a=r(i):a=R.createElement(Ko,Zl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(k.PureComponent);Fp(Bp,"displayName","PolarRadiusAxis");Fp(Bp,"axisType","radiusAxis");Fp(Bp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function lre(t,e,n){return e&&FE(t.prototype,e),n&&FE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ure(t,e,n){return e=sh(e),cre(t,m2()?Reflect.construct(e,n||[],sh(t).constructor):e.apply(t,n))}function cre(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dre(t)}function dre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ov(t,e)}function qp(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=hre(t,"string");return Ts(e)=="symbol"?e:e+""}function hre(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pre=Math.PI/180,BE=1e-5,Vp=function(t){function e(){return sre(this,e),ure(this,e,arguments)}return fre(e,t),lre(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=tt(o,a,s,r.coordinate),h=tt(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*pre),a;return o>BE?a=i==="outer"?"start":"end":o<-BE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=mo(mo({},Se(this.props,!1)),{},{fill:"none"},Se(s,!1));if(l==="circle")return R.createElement(Up,No({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return tt(i,o,a,h.coordinate)});return R.createElement(Cne,No({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Se(this.props,!1),f=Se(a,!1),h=mo(mo({},d),{},{fill:"none"},Se(s,!1)),g=o.map(function(y,x){var b=r.getTickLineCoord(y),v=r.getTickTextAnchor(y),w=mo(mo(mo({textAnchor:v},d),{},{stroke:"none",fill:c},f),{},{index:x,payload:y,x:b.x2,y:b.y2});return R.createElement(qe,No({className:Oe("recharts-polar-angle-axis-tick",ZI(a)),key:"tick-".concat(y.coordinate)},Wo(r.props,y,x)),s&&R.createElement("line",No({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,w,l?l(y.value,x):y.value))});return R.createElement(qe,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:R.createElement(qe,{className:Oe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):Ce(r)?a=r(i):a=R.createElement(Ko,No({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(k.PureComponent);qp(Vp,"displayName","PolarAngleAxis");qp(Vp,"axisType","angleAxis");qp(Vp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mre=bj,gre=mre(Object.getPrototypeOf,Object),yre=gre,vre=vi,xre=yre,bre=xi,wre="[object Object]",_re=Function.prototype,Sre=Object.prototype,y2=_re.toString,Ere=Sre.hasOwnProperty,Nre=y2.call(Object);function Tre(t){if(!bre(t)||vre(t)!=wre)return!1;var e=xre(t);if(e===null)return!0;var n=Ere.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&y2.call(n)==Nre}var kre=Tre;const Are=We(kre);var Cre=vi,Pre=xi,jre="[object Boolean]";function Ire(t){return t===!0||t===!1||Pre(t)&&Cre(t)==jre}var Ore=Ire;const Rre=We(Ore);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function Mre(t,e){return Ure(t)||Lre(t,e)||Dre(t,e)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(t,e){if(t){if(typeof t=="string")return qE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(t,e)}}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ure(t){if(Array.isArray(t))return t}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=qre(t,"string");return nc(e)=="symbol"?e:e+""}function qre(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HE=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Vre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gre=function(e){var n=GE(GE({},Vre),e),r=k.useRef(),i=k.useState(-1),o=Mre(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,x=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Oe("recharts-trapezoid",g);return v?R.createElement(Lr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:x,animationEasing:y,isActive:v},function(_){var N=_.upperWidth,S=_.lowerWidth,E=_.height,T=_.x,A=_.y;return R.createElement(Lr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:y},R.createElement("path",lh({},Se(n,!0),{className:w,d:HE(T,A,N,S,E),ref:r})))}):R.createElement("g",null,R.createElement("path",lh({},Se(n,!0),{className:w,d:HE(l,c,d,f,h)})))},Hre=["option","shapeType","propTransformer","activeClassName","isActive"];function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function zre(t,e){if(t==null)return{};var n=Wre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Jre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Yre(t,"string");return rc(e)=="symbol"?e:e+""}function Yre(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xre(t,e){return uh(uh({},e),t)}function Qre(t,e){return t==="symbols"}function WE(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return R.createElement(vb,n);case"trapezoid":return R.createElement(Gre,n);case"sector":return R.createElement(n2,n);case"symbols":if(Qre(e))return R.createElement(Dx,n);break;default:return null}}function Zre(t){return k.isValidElement(t)?t.props:t}function v2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Xre:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=zre(t,Hre),c;if(k.isValidElement(e))c=k.cloneElement(e,uh(uh({},l),Zre(e)));else if(Ce(e))c=e(l);else if(Are(e)&&!Rre(e)){var d=i(e,l);c=R.createElement(WE,{shapeType:n,elementProps:d})}else{var f=l;c=R.createElement(WE,{shapeType:n,elementProps:f})}return s?R.createElement(qe,{className:a},c):c}function Gp(t,e){return e!=null&&"trapezoids"in t.props}function Hp(t,e){return e!=null&&"sectors"in t.props}function ic(t,e){return e!=null&&"points"in t.props}function eie(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function tie(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function nie(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function rie(t,e){var n;return Gp(t,e)?n=eie:Hp(t,e)?n=tie:ic(t,e)&&(n=nie),n}function iie(t,e){var n;return Gp(t,e)?n="trapezoids":Hp(t,e)?n="sectors":ic(t,e)&&(n="points"),n}function oie(t,e){if(Gp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Hp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ic(t,e)?e.payload:{}}function aie(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=iie(n,e),o=oie(n,e),a=r.filter(function(l,c){var d=Oc(o,l),f=n.props[i].filter(function(y){var x=rie(n,e);return x(y,e)}),h=n.props[i].indexOf(f[f.length-1]),g=c===h;return d&&g}),s=r.indexOf(a[a.length-1]);return s}var $d;function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function La(){return La=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},La.apply(this,arguments)}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){Qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b2(r.key),r)}}function lie(t,e,n){return e&&JE(t.prototype,e),n&&JE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uie(t,e,n){return e=ch(e),cie(t,x2()?Reflect.construct(e,n||[],ch(t).constructor):e.apply(t,n))}function cie(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(t)}function die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}function fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rv(t,e)}function Qn(t,e,n){return e=b2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2(t){var e=hie(t,"string");return ks(e)=="symbol"?e:e+""}function hie(t,e){if(ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=function(t){function e(n){var r;return sie(this,e),r=uie(this,e,[n]),Qn(r,"pieRef",null),Qn(r,"sectorRefs",[]),Qn(r,"id",Ys("recharts-pie-")),Qn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ce(i)&&i()}),Qn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ce(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return fie(e,t),lie(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,d=Se(this.props,!1),f=Se(a,!1),h=Se(s,!1),g=a&&a.offsetRadius||20,y=r.map(function(x,b){var v=(x.startAngle+x.endAngle)/2,w=tt(x.cx,x.cy,x.outerRadius+g,v),_=Qe(Qe(Qe(Qe({},d),x),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(w.x,x.cx)},w),N=Qe(Qe(Qe(Qe({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:b,points:[tt(x.cx,x.cy,x.outerRadius,v),w]}),S=l;return Ie(l)&&Ie(c)?S="value":Ie(l)&&(S=c),R.createElement(qe,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,N,"line"),e.renderLabelItem(a,_,Ot(x,S)))});return R.createElement(qe,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,y=Qe(Qe({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return R.createElement(qe,La({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Wo(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),R.createElement(v2,La({option:g,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return R.createElement(Lr,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,b=[],v=o&&o[0],w=v.startAngle;return o.forEach(function(_,N){var S=h&&h[N],E=N>0?Ln(_,"paddingAngle",0):0;if(S){var T=jn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),A=Qe(Qe({},_),{},{startAngle:w+E,endAngle:w+T(x)+E});b.push(A),w=A.endAngle}else{var C=_.endAngle,j=_.startAngle,I=jn(0,C-j),D=I(x),B=Qe(Qe({},_),{},{startAngle:w+E,endAngle:w+D+E});b.push(B),w=B.endAngle}}),R.createElement(qe,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Oc(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,y=this.state.isAnimationFinished;if(o||!a||!a.length||!ie(c)||!ie(d)||!ie(f)||!ie(h))return null;var x=Oe("recharts-pie",s);return R.createElement(qe,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(a),Bt.renderCallByParent(this.props,null,!1),(!g||y)&&ai.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(R.isValidElement(r))return R.cloneElement(r,i);if(Ce(r))return r(i);var a=Oe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return R.createElement(eh,La({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(R.isValidElement(r))return R.cloneElement(r,i);var a=o;if(Ce(r)&&(a=r(i),R.isValidElement(a)))return a;var s=Oe("recharts-pie-label-text",typeof r!="boolean"&&!Ce(r)?r.className:"");return R.createElement(Ko,La({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(k.PureComponent);$d=Ur;Qn(Ur,"displayName","Pie");Qn(Ur,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ra.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qn(Ur,"parseDeltaAngle",function(t,e){var n=un(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Qn(Ur,"getRealPieData",function(t){var e=t.data,n=t.children,r=Se(t,!1),i=Un(n,Ru);return e&&e.length?e.map(function(o,a){return Qe(Qe(Qe({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Qe(Qe({},r),o.props)}):[]});Qn(Ur,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=QI(i,o),s=r+cn(t.cx,i,i/2),l=n+cn(t.cy,o,o/2),c=cn(t.innerRadius,a,0),d=cn(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});Qn(Ur,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Qe(Qe({},e.type.defaultProps),e.props):e.props,i=$d.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),y=$d.parseCoordinateOfPie(r,n),x=$d.parseDeltaAngle(a,s),b=Math.abs(x),v=c;Ie(c)&&Ie(f)?(_r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Ie(c)&&(_r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(A){return Ot(A,v,0)!==0}).length,_=(b>=360?w:w-1)*l,N=b-w*g-_,S=i.reduce(function(A,C){var j=Ot(C,v,0);return A+(ie(j)?j:0)},0),E;if(S>0){var T;E=i.map(function(A,C){var j=Ot(A,v,0),I=Ot(A,d,C),D=(ie(j)?j:0)/S,B;C?B=T.endAngle+un(x)*l*(j!==0?1:0):B=a;var O=B+un(x)*((j!==0?g:0)+D*N),P=(B+O)/2,U=(y.innerRadius+y.outerRadius)/2,q=[{name:I,value:j,payload:A,dataKey:v,type:h}],M=tt(y.cx,y.cy,U,P);return T=Qe(Qe(Qe({percent:D,cornerRadius:o,name:I,tooltipPayload:q,midAngle:P,middleRadius:U,tooltipPosition:M},A),y),{},{value:Ot(A,v),startAngle:B,endAngle:O,payload:A,paddingAngle:un(x)*l}),T})}return Qe(Qe({},y),{},{sectors:E,data:i})});var pie=Math.ceil,mie=Math.max;function gie(t,e,n,r){for(var i=-1,o=mie(pie((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var yie=gie,vie=Uj,YE=1/0,xie=17976931348623157e292;function bie(t){if(!t)return t===0?t:0;if(t=vie(t),t===YE||t===-YE){var e=t<0?-1:1;return e*xie}return t===t?t:0}var w2=bie,wie=yie,_ie=kp,fg=w2;function Sie(t){return function(e,n,r){return r&&typeof r!="number"&&_ie(e,n,r)&&(n=r=void 0),e=fg(e),n===void 0?(n=e,e=0):n=fg(n),r=r===void 0?e<n?1:-1:fg(r),wie(e,n,r,t)}}var Eie=Sie,Nie=Eie,Tie=Nie(),kie=Tie;const dh=We(kie);function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){_2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _2(t,e,n){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=Cie(t,"string");return oc(e)=="symbol"?e:e+""}function Cie(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pie=["Webkit","Moz","O","ms"],jie=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Pie.reduce(function(o,a){return QE(QE({},o),{},_2({},a+r,n))},{});return i[e]=n,i};function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E2(r.key),r)}}function Oie(t,e,n){return e&&eN(t.prototype,e),n&&eN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rie(t,e,n){return e=hh(e),Mie(t,S2()?Reflect.construct(e,n||[],hh(t).constructor):e.apply(t,n))}function Mie(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(t)}function $ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hh(t)}function Die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mv(t,e)}function kn(t,e,n){return e=E2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t){var e=Lie(t,"string");return As(e)=="symbol"?e:e+""}function Lie(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uie=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Jl().domain(dh(0,l)).range([o,o+a-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},tN=function(e){return e.changedTouches&&!!e.changedTouches.length},Cs=function(t){function e(n){var r;return Iie(this,e),r=Rie(this,e,[n]),kn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),kn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kn(r,"handleSlideDragStart",function(i){var o=tN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Die(e,t),Oie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Ot(o[r],s,r);return Ce(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+d-f-s,c+d-f-a):x<0&&(x=Math.max(x,c-a,c-s));var b=this.getIndex({startX:a+x,endX:s+x});(b.startIndex!==h||b.endIndex!==g)&&y&&y(b),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=tN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,y=d.onChange,x=d.gap,b=d.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-g-c):w<0&&(w=Math.max(w,f-c)),v[a]=c+w;var _=this.getIndex(v),N=_.startIndex,S=_.endIndex,E=function(){var A=b.length-1;return a==="startX"&&(s>l?N%x===0:S%x===0)||s<l&&S===A||a==="endX"&&(s>l?S%x===0:N%x===0)||s>l&&S===A};this.setState(kn(kn({},a,c+w),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(kn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return R.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,f=k.Children.only(c);return f?R.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,x=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),w=hg(hg({},Se(this.props,!1)),{},{x:v,y:c,width:d,height:f}),_=g||"Min value: ".concat((o=y[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[b])===null||a===void 0?void 0:a.name);return R.createElement(qe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,g=5,y={pointerEvents:"none",fill:c};return R.createElement(qe,{className:"recharts-brush-texts"},R.createElement(Ko,fh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},y),this.getTextOfTick(i)),R.createElement(Ko,fh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,x=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ie(s)||!ie(l)||!ie(c)||!ie(d)||c<=0||d<=0)return null;var _=Oe("recharts-brush",o),N=R.Children.count(a)===1,S=jie("userSelect","none");return R.createElement(qe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(x||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):Ce(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return hg({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Uie({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(k.PureComponent);kn(Cs,"displayName","Brush");kn(Cs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fie=Gx;function Bie(t,e){var n;return Fie(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var qie=Bie,Vie=fj,Gie=qr,Hie=qie,zie=En,Wie=kp;function Kie(t,e,n){var r=zie(t)?Vie:Hie;return n&&Wie(t,e,n)&&(e=void 0),r(t,Gie(e))}var Jie=Kie;const Yie=We(Jie);var $r=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},nN=Rj;function Xie(t,e,n){e=="__proto__"&&nN?nN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qie=Xie,Zie=Qie,eoe=Ij,toe=qr;function noe(t,e){var n={};return e=toe(e),eoe(t,function(r,i,o){Zie(n,i,e(r,i,o))}),n}var roe=noe;const ioe=We(roe);function ooe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var aoe=ooe,soe=Gx;function loe(t,e){var n=!0;return soe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var uoe=loe,coe=aoe,doe=uoe,foe=qr,hoe=En,poe=kp;function moe(t,e,n){var r=hoe(t)?coe:doe;return n&&poe(t,e,n)&&(e=void 0),r(t,foe(e))}var goe=moe;const N2=We(goe);var yoe=["x","y"];function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return e=xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=boe(t,"string");return ac(e)=="symbol"?e:e+""}function boe(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){if(t==null)return{};var n=_oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Soe(t,e){var n=t.x,r=t.y,i=woe(t,yoe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return El(El(El(El(El({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function iN(t){return R.createElement(v2,$v({shapeType:"rectangle",propTransformer:Soe,activeClassName:"recharts-active-bar"},t))}var Eoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||HB(r);return o?e(r,i):(o||Yo(),n)}},Noe=["value","background"],T2;function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function Toe(t,e){if(t==null)return{};var n=koe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function koe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A2(r.key),r)}}function Coe(t,e,n){return e&&aN(t.prototype,e),n&&aN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Poe(t,e,n){return e=mh(e),joe(t,k2()?Reflect.construct(e,n||[],mh(t).constructor):e.apply(t,n))}function joe(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(t)}function Ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(t)}function Ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dv(t,e)}function Dv(t,e){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dv(t,e)}function Li(t,e,n){return e=A2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A2(t){var e=Roe(t,"string");return Ps(e)=="symbol"?e:e+""}function Roe(t,e){if(Ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fr=function(t){function e(){var n;Aoe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Poe(this,e,[].concat(i)),Li(n,"state",{isAnimationFinished:!1}),Li(n,"id",Ys("recharts-bar-")),Li(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Li(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Ooe(e,t),Coe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Se(this.props,!1);return r&&r.map(function(f,h){var g=h===l,y=g?c:a,x=St(St(St({},d),f),{},{isActive:g,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(qe,ph({className:"recharts-bar-rectangle"},Wo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(iN,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return R.createElement(Lr,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,x=o.map(function(b,v){var w=h&&h[v];if(w){var _=jn(w.x,b.x),N=jn(w.y,b.y),S=jn(w.width,b.width),E=jn(w.height,b.height);return St(St({},b),{},{x:_(y),y:N(y),width:S(y),height:E(y)})}if(a==="horizontal"){var T=jn(0,b.height),A=T(y);return St(St({},b),{},{y:b.y+b.height-A,height:A})}var C=jn(0,b.width),j=C(y);return St(St({},b),{},{width:j})});return R.createElement(qe,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Oc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=Toe(c,Noe);if(!f)return null;var g=St(St(St(St(St({},h),{},{fill:"#eee"},f),l),Wo(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(iN,ph({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Un(d,Rc);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Ot(b,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(qe,y,f.map(function(x){return R.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,g=r.isAnimationActive,y=r.background,x=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=Oe("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,N=w||_,S=Ie(x)?this.id:x;return R.createElement(qe,{className:v},w||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:w?c:c-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,R.createElement(qe,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!g||b)&&ai.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);T2=Fr;Li(Fr,"displayName","Bar");Li(Fr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ra.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Li(Fr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=cZ(r,n);if(!g)return null;var y=e.layout,x=n.type.defaultProps,b=x!==void 0?St(St({},x),n.props):n.props,v=b.dataKey,w=b.children,_=b.minPointSize,N=y==="horizontal"?a:o,S=c?N.scale.domain():null,E=yZ({numericAxis:N}),T=Un(w,Ru),A=f.map(function(C,j){var I,D,B,O,P,U;c?I=dZ(c[d+j],S):(I=Ot(C,v),Array.isArray(I)||(I=[E,I]));var q=Eoe(_,T2.defaultProps.minPointSize)(I[1],j);if(y==="horizontal"){var M,W=[a.scale(I[0]),a.scale(I[1])],X=W[0],L=W[1];D=Q1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:j}),B=(M=L??X)!==null&&M!==void 0?M:void 0,O=g.size;var K=X-L;if(P=Number.isNaN(K)?0:K,U={x:D,y:a.y,width:O,height:a.height},Math.abs(q)>0&&Math.abs(P)<Math.abs(q)){var re=un(P||q)*(Math.abs(q)-Math.abs(P));B-=re,P+=re}}else{var H=[o.scale(I[0]),o.scale(I[1])],ae=H[0],me=H[1];if(D=ae,B=Q1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:j}),O=me-ae,P=g.size,U={x:o.x,y:B,width:o.width,height:P},Math.abs(q)>0&&Math.abs(O)<Math.abs(q)){var xe=un(O||q)*(Math.abs(q)-Math.abs(O));O+=xe}}return St(St(St({},C),{},{x:D,y:B,width:O,height:P,value:c?I:I[1],payload:C,background:U},T&&T[j]&&T[j].props),{},{tooltipPayload:[YI(n,C)],tooltipPosition:{x:D+O/2,y:B+P/2}})});return St({data:A,layout:y},h)});function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function Moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function $oe(t,e,n){return e&&sN(t.prototype,e),n&&sN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zp(t,e,n){return e=C2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C2(t){var e=Doe(t,"string");return sc(e)=="symbol"?e:e+""}function Doe(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Cn(c,Fr);return d.reduce(function(g,y){var x=n[y],b=x.orientation,v=x.domain,w=x.padding,_=w===void 0?{}:w,N=x.mirror,S=x.reversed,E="".concat(b).concat(N?"Mirror":""),T,A,C,j,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=v[1]-v[0],B=1/0,O=x.categoricalDomain.sort(KB);if(O.forEach(function(H,ae){ae>0&&(B=Math.min((H||0)-(O[ae-1]||0),B))}),Number.isFinite(B)){var P=B/D,U=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(T=P*U/2),x.padding==="no-gap"){var q=cn(e.barCategoryGap,P*U),M=P*U/2;T=M-q-(M-q)/U*q}}}i==="xAxis"?A=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:A=x.range,S&&(A=[A[1],A[0]]);var W=zI(x,o,h),X=W.scale,L=W.realScaleType;X.domain(v).range(A),WI(X);var K=KI(X,gr(gr({},x),{},{realScaleType:L}));i==="xAxis"?(I=b==="top"&&!N||b==="bottom"&&N,C=r.left,j=f[E]-I*x.height):i==="yAxis"&&(I=b==="left"&&!N||b==="right"&&N,C=f[E]-I*x.width,j=r.top);var re=gr(gr(gr({},x),K),{},{realScaleType:L,x:C,y:j,scale:X,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return re.bandSize=Xf(re,K),!x.hide&&i==="xAxis"?f[E]+=(I?-1:1)*re.height:x.hide||(f[E]+=(I?-1:1)*re.width),gr(gr({},g),{},zp({},y,re))},{})},j2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Loe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return j2({x:n,y:r},{x:i,y:o})},I2=function(){function t(e){Moe(this,t),this.scale=e}return $oe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();zp(I2,"EPS",1e-4);var xb=function(e){var n=Object.keys(e).reduce(function(r,i){return gr(gr({},r),{},zp({},i,I2.create(e[i])))},{});return gr(gr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return ioe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return N2(i,function(o,a){return n[a].isInRange(o)})}})};function Uoe(t){return(t%180+180)%180}var Foe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uoe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Boe=qr,qoe=Ac,Voe=Np;function Goe(t){return function(e,n,r){var i=Object(e);if(!qoe(e)){var o=Boe(n);e=Voe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Hoe=Goe,zoe=w2;function Woe(t){var e=zoe(t),n=e%1;return e===e?n?e-n:e:0}var Koe=Woe,Joe=Tj,Yoe=qr,Xoe=Koe,Qoe=Math.max;function Zoe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Xoe(n);return i<0&&(i=Qoe(r+i,0)),Joe(t,Yoe(e),i)}var eae=Zoe,tae=Hoe,nae=eae,rae=tae(nae),iae=rae;const oae=We(iae);var aae=XF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bb=k.createContext(void 0),wb=k.createContext(void 0),O2=k.createContext(void 0),R2=k.createContext({}),M2=k.createContext(void 0),$2=k.createContext(0),D2=k.createContext(0),uN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=aae(o);return R.createElement(bb.Provider,{value:r},R.createElement(wb.Provider,{value:i},R.createElement(R2.Provider,{value:o},R.createElement(O2.Provider,{value:d},R.createElement(M2.Provider,{value:a},R.createElement($2.Provider,{value:c},R.createElement(D2.Provider,{value:l},s)))))))},sae=function(){return k.useContext(M2)},L2=function(e){var n=k.useContext(bb);n==null&&Yo();var r=n[e];return r==null&&Yo(),r},lae=function(){var e=k.useContext(bb);return Ri(e)},uae=function(){var e=k.useContext(wb),n=oae(e,function(r){return N2(r.domain,Number.isFinite)});return n||Ri(e)},U2=function(e){var n=k.useContext(wb);n==null&&Yo();var r=n[e];return r==null&&Yo(),r},cae=function(){var e=k.useContext(O2);return e},dae=function(){return k.useContext(R2)},_b=function(){return k.useContext(D2)},Sb=function(){return k.useContext($2)};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B2(r.key),r)}}function pae(t,e,n){return e&&hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mae(t,e,n){return e=gh(e),gae(t,F2()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function gae(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yae(t)}function yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lv(t,e)}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){Eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eb(t,e,n){return e=B2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B2(t){var e=xae(t,"string");return js(e)=="symbol"?e:e+""}function xae(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bae(t,e){return Eae(t)||Sae(t,e)||_ae(t,e)||wae()}function wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Eae(t){if(Array.isArray(t))return t}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}var Nae=function(e,n){var r;return R.isValidElement(e)?r=R.cloneElement(e,n):Ce(e)?r=e(n):r=R.createElement("line",Uv({},n,{className:"recharts-reference-line-line"})),r},Tae=function(e,n,r,i,o,a,s,l,c){var d=o.x,f=o.y,h=o.width,g=o.height;if(r){var y=c.y,x=e.y.apply(y,{position:a});if($r(c,"discard")&&!e.y.isInRange(x))return null;var b=[{x:d+h,y:x},{x:d,y:x}];return l==="left"?b.reverse():b}if(n){var v=c.x,w=e.x.apply(v,{position:a});if($r(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+g},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var N=c.segment,S=N.map(function(E){return e.apply(E,{position:a})});return $r(c,"discard")&&Yie(S,function(E){return!e.isInRange(E)})?null:S}return null};function kae(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=sae(),d=L2(i),f=U2(o),h=cae();if(!c||!h)return null;_r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=xb({x:d.scale,y:f.scale}),y=Mt(e),x=Mt(n),b=r&&r.length===2,v=Tae(g,y,x,b,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var w=bae(v,2),_=w[0],N=_.x,S=_.y,E=w[1],T=E.x,A=E.y,C=$r(t,"hidden")?"url(#".concat(c,")"):void 0,j=dN(dN({clipPath:C},Se(t,!0)),{},{x1:N,y1:S,x2:T,y2:A});return R.createElement(qe,{className:Oe("recharts-reference-line",s)},Nae(a,j),Bt.renderCallByParent(t,Loe({x1:N,y1:S,x2:T,y2:A})))}var Nb=function(t){function e(){return fae(this,e),mae(this,e,arguments)}return vae(e,t),pae(e,[{key:"render",value:function(){return R.createElement(kae,this.props)}}])}(R.Component);Eb(Nb,"displayName","ReferenceLine");Eb(Nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V2(r.key),r)}}function Pae(t,e,n){return e&&Cae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jae(t,e,n){return e=yh(e),Iae(t,q2()?Reflect.construct(e,n||[],yh(t).constructor):e.apply(t,n))}function Iae(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(t)}function Rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function Wp(t,e,n){return e=V2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2(t){var e=Mae(t,"string");return Is(e)=="symbol"?e:e+""}function Mae(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=xb({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return $r(e,"discard")&&!a.isInRange(s)?null:s},Kp=function(t){function e(){return Aae(this,e),jae(this,e,arguments)}return Rae(e,t),Pae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=Mt(i),d=Mt(o);if(_r(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=$ae(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,x=y.shape,b=y.className,v=$r(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=pN(pN({clipPath:v},Se(this.props,!0)),{},{cx:h,cy:g});return R.createElement(qe,{className:Oe("recharts-reference-dot",b)},e.renderDot(x,w),Bt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(R.Component);Wp(Kp,"displayName","ReferenceDot");Wp(Kp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wp(Kp,"renderDot",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):Ce(t)?n=t(e):n=R.createElement(Up,Fv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){Jp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H2(r.key),r)}}function Uae(t,e,n){return e&&Lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fae(t,e,n){return e=vh(e),Bae(t,G2()?Reflect.construct(e,n||[],vh(t).constructor):e.apply(t,n))}function Bae(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(t)}function qae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function Vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vv(t,e)}function Jp(t,e,n){return e=H2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t){var e=Gae(t,"string");return Os(e)=="symbol"?e:e+""}function Gae(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hae=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=xb({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $r(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:j2(g,y)},Yp=function(t){function e(){return Dae(this,e),Fae(this,e,arguments)}return Vae(e,t),Uae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;_r(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(i),h=Mt(o),g=Mt(a),y=Mt(s),x=this.props.shape;if(!f&&!h&&!g&&!y&&!x)return null;var b=Hae(f,h,g,y,this.props);if(!b&&!x)return null;var v=$r(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(qe,{className:Oe("recharts-reference-area",l)},e.renderRect(x,gN(gN({clipPath:v},Se(this.props,!0)),b)),Bt.renderCallByParent(this.props,b))}}])}(R.Component);Jp(Yp,"displayName","ReferenceArea");Jp(Yp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jp(Yp,"renderRect",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):Ce(t)?n=t(e):n=R.createElement(vb,qv({},e,{className:"recharts-reference-area-rect"})),n});function z2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function zae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Foe(r,n)}function Wae(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function xh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Kae(t,e){return z2(t,e+1)}function Jae(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,d=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:z2(r,c)};var x=l,b,v=function(){return b===void 0&&(b=n(y,x)),b},w=y.coordinate,_=l===0||xh(t,w,v,d,s);_||(l=0,d=a,c+=1),_&&(d=w+t*(v()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return e=Xae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Qae(t,"string");return lc(e)=="symbol"?e:e+""}function Qae(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zae(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(h){var g=o[h],y,x=function(){return y===void 0&&(y=n(g,h)),y};if(h===a-1){var b=t*(g.coordinate+t*x()/2-l);o[h]=g=en(en({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=en(en({},g),{},{tickCoord:g.coordinate});var v=xh(t,g.tickCoord,x,s,l);v&&(l=g.tickCoord-t*(x()/2+i),o[h]=en(en({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function ese(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-c);a[s-1]=d=en(en({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=xh(t,d.tickCoord,function(){return f},l,c);g&&(c=d.tickCoord-t*(f/2+i),a[s-1]=en(en({},d),{},{isShow:!0}))}for(var y=o?s-1:s,x=function(w){var _=a[w],N,S=function(){return N===void 0&&(N=n(_,w)),N};if(w===0){var E=t*(_.coordinate-t*S()/2-l);a[w]=_=en(en({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[w]=_=en(en({},_),{},{tickCoord:_.coordinate});var T=xh(t,_.tickCoord,S,l,c);T&&(l=_.tickCoord+t*(S()/2+i),a[w]=en(en({},_),{},{isShow:!0}))},b=0;b<y;b++)x(b);return a}function Tb(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||ra.isSsr)return Kae(i,typeof l=="number"&&ie(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",y=d&&g==="width"?Kl(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(_,N){var S=Ce(c)?c(_.value,N):_.value;return g==="width"?zae(Kl(S,{fontSize:e,letterSpacing:n}),y,f):Kl(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?un(i[1].coordinate-i[0].coordinate):1,v=Wae(o,b,g);return l==="equidistantPreserveStart"?Jae(b,v,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=ese(b,v,x,i,a,l==="preserveStartEnd"):h=Zae(b,v,x,i,a),h.filter(function(w){return w.isShow}))}var tse=["viewBox"],nse=["viewBox"],rse=["ticks"];function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pg(t,e){if(t==null)return{};var n=ise(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K2(r.key),r)}}function ase(t,e,n){return e&&xN(t.prototype,e),n&&xN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sse(t,e,n){return e=bh(e),lse(t,W2()?Reflect.construct(e,n||[],bh(t).constructor):e.apply(t,n))}function lse(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W2=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(t)}function cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gv(t,e)}function kb(t,e,n){return e=K2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K2(t){var e=dse(t,"string");return Rs(e)=="symbol"?e:e+""}function dse(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rl=function(t){function e(n){var r;return ose(this,e),r=sse(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cse(e,t),ase(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=pg(r,tse),s=this.props,l=s.viewBox,c=pg(s,nse);return!Xa(o,l)||!Xa(a,c)||!Xa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,y,x,b,v,w,_=f?-1:1,N=r.tickSize||d,S=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=y=r.coordinate,b=a+ +!f*l,x=b-_*N,w=x-_*h,v=S;break;case"left":x=b=r.coordinate,y=o+ +!f*s,g=y-_*N,v=g-_*h,w=S;break;case"right":x=b=r.coordinate,y=o+ +f*s,g=y+_*N,v=g+_*h,w=S;break;default:g=y=r.coordinate,b=a+ +f*l,x=b+_*N,w=x+_*h,v=S;break}return{line:{x1:g,y1:x,x2:y,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Ct(Ct(Ct({},Se(this.props,!1)),Se(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Ct(Ct({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Ct(Ct({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return R.createElement("line",Ua({},f,{className:Oe("recharts-cartesian-axis-line",Ln(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=Tb(Ct(Ct({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=Se(this.props,!1),v=Se(d,!1),w=Ct(Ct({},b),{},{fill:"none"},Se(l,!1)),_=g.map(function(N,S){var E=a.getTickLineCoord(N),T=E.line,A=E.tick,C=Ct(Ct(Ct(Ct({textAnchor:y,verticalAnchor:x},b),{},{stroke:"none",fill:c},v),A),{},{index:S,payload:N,visibleTicksCount:g.length,tickFormatter:f});return R.createElement(qe,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Wo(a.props,N,S)),l&&R.createElement("line",Ua({},w,T,{className:Oe("recharts-cartesian-axis-tick-line",Ln(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(Ce(f)?f(N.value,S):N.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=pg(f,rse),y=h;return Ce(l)&&(y=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!y||!y.length?null:R.createElement(qe,{className:Oe("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Oe(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?a=R.cloneElement(r,Ct(Ct({},i),{},{className:s})):Ce(r)?a=r(Ct(Ct({},i),{},{className:s})):a=R.createElement(Ko,Ua({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(k.Component);kb(rl,"displayName","CartesianAxis");kb(rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fse=["x1","y1","x2","y2","key"],hse=["offset"];function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pse(t,e,n){return e=mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=gse(t,"string");return Xo(e)=="symbol"?e:e+""}function gse(t,e){if(Xo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(this,arguments)}function wN(t,e){if(t==null)return{};var n=yse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vse=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return R.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function J2(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=wN(e,fse),c=Se(l,!1);c.offset;var d=wN(c,hse);n=R.createElement("line",Oo({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function xse(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=nn(nn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return J2(i,c)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function bse(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=nn(nn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return J2(i,c)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function wse(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],x=y?i+a-h:d[g+1]-h;if(x<=0)return null;var b=g%e.length;return R.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:x,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _se(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],x=y?o+s-h:d[g+1]-h;if(x<=0)return null;var b=g%r.length;return R.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:x,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Sse=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return HI(Tb(nn(nn(nn({},rl.defaultProps),r),{},{ticks:ti(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Ese=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return HI(Tb(nn(nn(nn({},rl.defaultProps),r),{},{ticks:ti(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},ya={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uc(t){var e,n,r,i,o,a,s=_b(),l=Sb(),c=dae(),d=nn(nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ya.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ya.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ya.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ya.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ya.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ya.verticalFill,x:ie(t.x)?t.x:c.left,y:ie(t.y)?t.y:c.top,width:ie(t.width)?t.width:c.width,height:ie(t.height)?t.height:c.height}),f=d.x,h=d.y,g=d.width,y=d.height,x=d.syncWithTicks,b=d.horizontalValues,v=d.verticalValues,w=lae(),_=uae();if(!ie(g)||g<=0||!ie(y)||y<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||Sse,S=d.horizontalCoordinatesGenerator||Ese,E=d.horizontalPoints,T=d.verticalPoints;if((!E||!E.length)&&Ce(S)){var A=b&&b.length,C=S({yAxis:_?nn(nn({},_),{},{ticks:A?b:_.ticks}):void 0,width:s,height:l,offset:c},A?!0:x);_r(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xo(C),"]")),Array.isArray(C)&&(E=C)}if((!T||!T.length)&&Ce(N)){var j=v&&v.length,I=N({xAxis:w?nn(nn({},w),{},{ticks:j?v:w.ticks}):void 0,width:s,height:l,offset:c},j?!0:x);_r(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xo(I),"]")),Array.isArray(I)&&(T=I)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(vse,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(xse,Oo({},d,{offset:c,horizontalPoints:E,xAxis:w,yAxis:_})),R.createElement(bse,Oo({},d,{offset:c,verticalPoints:T,xAxis:w,yAxis:_})),R.createElement(wse,Oo({},d,{horizontalPoints:E})),R.createElement(_se,Oo({},d,{verticalPoints:T})))}uc.displayName="CartesianGrid";var Nse=["type","layout","connectNulls","ref"],Tse=["key"];function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function _N(t,e){if(t==null)return{};var n=kse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function va(t){return jse(t)||Pse(t)||Cse(t)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(t,e){if(t){if(typeof t=="string")return Hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(t,e)}}function Pse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jse(t){if(Array.isArray(t))return Hv(t)}function Hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X2(r.key),r)}}function Ose(t,e,n){return e&&EN(t.prototype,e),n&&EN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,n){return e=wh(e),Mse(t,Y2()?Reflect.construct(e,n||[],wh(t).constructor):e.apply(t,n))}function Mse(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(t)}function Dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zv(t,e)}function yr(t,e,n){return e=X2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2(t){var e=Lse(t,"string");return Ms(e)=="symbol"?e:e+""}function Lse(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mc=function(t){function e(){var n;Ise(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rse(this,e,[].concat(i)),yr(n,"state",{isAnimationFinished:!0,totalLength:0}),yr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),yr(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(v,w){return v+w});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),f=a%c,h=s-a,g=[],y=0,x=0;y<l.length;x+=l[y],++y)if(x+l[y]>f){g=[].concat(va(l.slice(0,y)),[f-x]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(va(e.repeat(l,d)),va(g),b).map(function(v){return"".concat(v,"px")}).join(", ")}),yr(n,"id",Ys("recharts-line-")),yr(n,"pathRef",function(a){n.mainCurve=a}),yr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),yr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Dse(e,t),Ose(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Un(d,Rc);if(!f)return null;var h=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:Ot(x.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(qe,g,f.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=Se(this.props,!1),h=Se(l,!0),g=c.map(function(x,b){var v=Tn(Tn(Tn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:c});return e.renderDotItem(l,v)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return R.createElement(qe,eu({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=_N(s,Nse),h=Tn(Tn(Tn({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return R.createElement(eh,eu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,y=a.animateNewValues,x=a.width,b=a.height,v=this.state,w=v.prevPoints,_=v.totalLength;return R.createElement(Lr,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(w){var E=w.length/s.length,T=s.map(function(D,B){var O=Math.floor(B*E);if(w[O]){var P=w[O],U=jn(P.x,D.x),q=jn(P.y,D.y);return Tn(Tn({},D),{},{x:U(S),y:q(S)})}if(y){var M=jn(x*2,D.x),W=jn(b/2,D.y);return Tn(Tn({},D),{},{x:M(S),y:W(S)})}return Tn(Tn({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(T,r,i)}var A=jn(0,_),C=A(S),j;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});j=o.getStrokeDasharray(C,_,I)}else j=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!Oc(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,y=i.height,x=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,_=Oe("recharts-line",l),N=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,E=N||S,T=Ie(b)?this.id:b,A=(r=Se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,j=C===void 0?3:C,I=A.strokeWidth,D=I===void 0?2:I,B=r8(a)?a:{},O=B.clipDot,P=O===void 0?!0:O,U=j*2+D;return R.createElement(qe,{className:_},N||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(T)},R.createElement("rect",{x:N?h:h-g/2,y:S?f:f-y/2,width:N?g:g*2,height:S?y:y*2})),!P&&R.createElement("clipPath",{id:"clipPath-dots-".concat(T)},R.createElement("rect",{x:h-U/2,y:f-U/2,width:g+U,height:y+U}))):null,!w&&this.renderCurve(E,T),this.renderErrorBar(E,T),(w||a)&&this.renderDots(E,P,T),(!x||v)&&ai.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(va(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(va(a),va(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(R.isValidElement(r))o=R.cloneElement(r,i);else if(Ce(r))o=r(i);else{var a=i.key,s=_N(i,Tse),l=Oe("recharts-line-dot",typeof r!="boolean"?r.className:"");o=R.createElement(Up,eu({key:a},s,{className:l}))}return o}}])}(k.PureComponent);yr(Mc,"displayName","Line");yr(Mc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ra.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yr(Mc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,g){var y=Ot(h,a);return d==="horizontal"?{x:X1({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:Ie(y)?null:r.scale(y),value:y,payload:h}:{x:Ie(y)?null:n.scale(y),y:X1({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:y,payload:h}});return Tn({points:f,layout:d},c)});function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Use(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eO(r.key),r)}}function Bse(t,e,n){return e&&Fse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qse(t,e,n){return e=_h(e),Vse(t,Q2()?Reflect.construct(e,n||[],_h(t).constructor):e.apply(t,n))}function Vse(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gse(t)}function Gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(t)}function Hse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wv(t,e)}function Z2(t,e,n){return e=eO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t){var e=zse(t,"string");return $s(e)=="symbol"?e:e+""}function zse(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function Wse(t){var e=t.xAxisId,n=_b(),r=Sb(),i=L2(e);return i==null?null:k.createElement(rl,Kv({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ti(a,!0)}}))}var Zi=function(t){function e(){return Use(this,e),qse(this,e,arguments)}return Hse(e,t),Bse(e,[{key:"render",value:function(){return k.createElement(Wse,this.props)}}])}(k.Component);Z2(Zi,"displayName","XAxis");Z2(Zi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rO(r.key),r)}}function Yse(t,e,n){return e&&Jse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xse(t,e,n){return e=Sh(e),Qse(t,tO()?Reflect.construct(e,n||[],Sh(t).constructor):e.apply(t,n))}function Qse(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(t)}function Zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!t})()}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sh(t)}function ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(t,e)}function nO(t,e,n){return e=rO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rO(t){var e=tle(t,"string");return Ds(e)=="symbol"?e:e+""}function tle(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}var nle=function(e){var n=e.yAxisId,r=_b(),i=Sb(),o=U2(n);return o==null?null:k.createElement(rl,Yv({},o,{className:Oe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ti(s,!0)}}))},eo=function(t){function e(){return Kse(this,e),Xse(this,e,arguments)}return ele(e,t),Yse(e,[{key:"render",value:function(){return k.createElement(nle,this.props)}}])}(k.Component);nO(eo,"displayName","YAxis");nO(eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NN(t){return ale(t)||ole(t)||ile(t)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(t,e)}}function ole(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ale(t){if(Array.isArray(t))return Xv(t)}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qv=function(e,n,r,i,o){var a=Un(e,Nb),s=Un(e,Kp),l=[].concat(NN(a),NN(s)),c=Un(e,Yp),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(x,b){if(b.props[d]===r&&$r(b.props,"extendDomain")&&ie(b.props[f])){var v=b.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),c.length){var g="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(x,b){if(b.props[d]===r&&$r(b.props,"extendDomain")&&ie(b.props[g])&&ie(b.props[y])){var v=b.props[g],w=b.props[y];return[Math.min(x[0],v,w),Math.max(x[1],v,w)]}return x},h)}return o&&o.length&&(h=o.reduce(function(x,b){return ie(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},h)),h},iO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,g,y){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],v=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var N=b.length,S;for(_=0;_<N;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return a(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&a(this,g);else{for(var x=0,b=[],v=y.length;x<v;x++)(y[x].fn!==d||h&&!y[x].once||f&&y[x].context!==f)&&b.push(y[x]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(iO);var sle=iO.exports;const lle=We(sle);var mg=new lle,gg="recharts.syncMouseEvents";function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oO(r.key),r)}}function dle(t,e,n){return e&&cle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yg(t,e,n){return e=oO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oO(t){var e=fle(t,"string");return cc(e)=="symbol"?e:e+""}function fle(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hle=function(){function t(){ule(this,t),yg(this,"activeIndex",0),yg(this,"coordinateList",[]),yg(this,"layout","horizontal")}return dle(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function ple(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function mle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function aO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=tt(e,n,r,i),s=tt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function gle(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=tt(s,l,c,f),g=tt(s,l,d,f);r=h.x,i=h.y,o=g.x,a=g.y}else return aO(e);return[{x:r,y:i},{x:o,y:a}]}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e=vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=xle(t,"string");return dc(e)=="symbol"?e:e+""}function xle(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ble(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,x=eh;if(h==="ScatterChart")y=a,x=Lne;else if(h==="BarChart")y=mle(f,a,l,d),x=vb;else if(f==="radial"){var b=aO(a),v=b.cx,w=b.cy,_=b.radius,N=b.startAngle,S=b.endAngle;y={cx:v,cy:w,startAngle:N,endAngle:S,innerRadius:_,outerRadius:_},x=n2}else y={points:gle(f,a,l)},x=eh;var E=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},l),y),Se(g,!1)),{},{payload:s,payloadIndex:c,className:Oe("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,E):k.createElement(x,E)}var wle=["item"],_le=["children","className","width","height","style","compact","title","desc"];function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}function kN(t,e){return Nle(t)||Ele(t,e)||lO(t,e)||Sle()}function Sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ele(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Nle(t){if(Array.isArray(t))return t}function AN(t,e){if(t==null)return{};var n=Tle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uO(r.key),r)}}function Cle(t,e,n){return e&&Ale(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,n){return e=Eh(e),jle(t,sO()?Reflect.construct(e,n||[],Eh(t).constructor):e.apply(t,n))}function jle(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}function Ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zv(t,e)}function Us(t){return $le(t)||Mle(t)||lO(t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lO(t,e){if(t){if(typeof t=="string")return e0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,e)}}function Mle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $le(t){if(Array.isArray(t))return e0(t)}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ne(t,e,n){return e=uO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uO(t){var e=Dle(t,"string");return Ls(e)=="symbol"?e:e+""}function Dle(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lle={xAxis:["bottom","top"],yAxis:["left","right"]},Ule={width:"100%",height:"100%"},cO={x:0,y:0};function vd(t){return t}var Fle=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ble=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Q(Q(Q({},i),tt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Q(Q(Q({},i),tt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return cO},Xp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Us(s),Us(c)):s},[]);return a.length>0?a:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function dO(t){return t==="number"?[0,"auto"]:void 0}var t0=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Xp(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=Sf(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Us(l),[YI(c,h)]):l},[])},PN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Fle(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=iZ(a,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=t0(e,n,d,f),g=Ble(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},qle=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=GI(d,o);return r.reduce(function(y,x){var b,v=x.type.defaultProps!==void 0?Q(Q({},x.type.defaultProps),x.props):x.props,w=v.type,_=v.dataKey,N=v.allowDataOverflow,S=v.allowDuplicatedCategory,E=v.scale,T=v.ticks,A=v.includeHidden,C=v[a];if(y[C])return y;var j=Xp(e.data,{graphicalItems:i.filter(function(K){var re,H=a in K.props?K.props[a]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[a];return H===C}),dataStartIndex:l,dataEndIndex:c}),I=j.length,D,B,O;ple(v.domain,N,w)&&(D=mv(v.domain,null,N),g&&(w==="number"||E!=="auto")&&(O=Yl(j,_,"category")));var P=dO(w);if(!D||D.length===0){var U,q=(U=v.domain)!==null&&U!==void 0?U:P;if(_){if(D=Yl(j,_,w),w==="category"&&g){var M=WB(D);S&&M?(B=D,D=dh(0,I)):S||(D=tE(q,D,x).reduce(function(K,re){return K.indexOf(re)>=0?K:[].concat(Us(K),[re])},[]))}else if(w==="category")S?D=D.filter(function(K){return K!==""&&!Ie(K)}):D=tE(q,D,x).reduce(function(K,re){return K.indexOf(re)>=0||re===""||Ie(re)?K:[].concat(Us(K),[re])},[]);else if(w==="number"){var W=uZ(j,i.filter(function(K){var re,H,ae=a in K.props?K.props[a]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[a],me="hide"in K.props?K.props.hide:(H=K.type.defaultProps)===null||H===void 0?void 0:H.hide;return ae===C&&(A||!me)}),_,o,d);W&&(D=W)}g&&(w==="number"||E!=="auto")&&(O=Yl(j,_,"category"))}else g?D=dh(0,I):s&&s[C]&&s[C].hasStack&&w==="number"?D=h==="expand"?[0,1]:JI(s[C].stackGroups,l,c):D=VI(j,i.filter(function(K){var re=a in K.props?K.props[a]:K.type.defaultProps[a],H="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return re===C&&(A||!H)}),w,d,!0);if(w==="number")D=Qv(f,D,C,o,T),q&&(D=mv(q,D,N));else if(w==="category"&&q){var X=q,L=D.every(function(K){return X.indexOf(K)>=0});L&&(D=X)}}return Q(Q({},y),{},Ne({},C,Q(Q({},v),{},{axisType:o,domain:D,categoricalDomain:O,duplicateDomain:B,originalDomain:(b=v.domain)!==null&&b!==void 0?b:P,isCategorical:g,layout:d})))},{})},Vle=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Xp(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=h.length,y=GI(d,o),x=-1;return r.reduce(function(b,v){var w=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,_=w[a],N=dO("number");if(!b[_]){x++;var S;return y?S=dh(0,g):s&&s[_]&&s[_].hasStack?(S=JI(s[_].stackGroups,l,c),S=Qv(f,S,_,o)):(S=mv(N,VI(h,r.filter(function(E){var T,A,C=a in E.props?E.props[a]:(T=E.type.defaultProps)===null||T===void 0?void 0:T[a],j="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!j}),"number",d),i.defaultProps.allowDataOverflow),S=Qv(f,S,_,o)),Q(Q({},b),{},Ne({},_,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ln(Lle,"".concat(o,".").concat(x%2),null),domain:S,originalDomain:N,isCategorical:y,layout:d})))}return b},{})},Gle=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Un(d,o),g={};return h&&h.length?g=qle(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=Vle(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},Hle=function(e){var n=Ri(e),r=ti(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Hx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xf(n,r)}},jN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Cn(n,Cs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},zle=function(e){return!e||!e.length?!1:e.some(function(n){var r=ii(n&&n.type);return r&&r.indexOf("Bar")>=0})},IN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Wle=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,f=r.children,h=r.margin||{},g=Cn(f,Cs),y=Cn(f,Lo),x=Object.keys(l).reduce(function(S,E){var T=l[E],A=T.orientation;return!T.mirror&&!T.hide?Q(Q({},S),{},Ne({},A,S[A]+T.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var T=a[E],A=T.orientation;return!T.mirror&&!T.hide?Q(Q({},S),{},Ne({},A,Ln(S,"".concat(A))+T.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=Q(Q({},b),x),w=v.bottom;g&&(v.bottom+=g.props.height||Cs.defaultProps.height),y&&n&&(v=sZ(v,i,r,n));var _=c-v.left-v.right,N=d-v.top-v.bottom;return Q(Q({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(N,0)})},Kle=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ab=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,w){var _=w.graphicalItems,N=w.stackGroups,S=w.offset,E=w.updateId,T=w.dataStartIndex,A=w.dataEndIndex,C=v.barSize,j=v.layout,I=v.barGap,D=v.barCategoryGap,B=v.maxBarSize,O=IN(j),P=O.numericAxisName,U=O.cateAxisName,q=zle(_),M=[];return _.forEach(function(W,X){var L=Xp(v.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:A}),K=W.type.defaultProps!==void 0?Q(Q({},W.type.defaultProps),W.props):W.props,re=K.dataKey,H=K.maxBarSize,ae=K["".concat(P,"Id")],me=K["".concat(U,"Id")],xe={},Re=l.reduce(function(fe,F){var V=w["".concat(F.axisType,"Map")],oe=K["".concat(F.axisType,"Id")];V&&V[oe]||F.axisType==="zAxis"||Yo();var z=V[oe];return Q(Q({},fe),{},Ne(Ne({},F.axisType,z),"".concat(F.axisType,"Ticks"),ti(z)))},xe),Z=Re[U],ye=Re["".concat(U,"Ticks")],J=N&&N[ae]&&N[ae].hasStack&&vZ(W,N[ae].stackGroups),Y=ii(W.type).indexOf("Bar")>=0,Ae=Xf(Z,ye),ve=[],G=q&&oZ({barSize:C,stackGroups:N,totalSize:Kle(Re,U)});if(Y){var se,ge,Pe=Ie(H)?B:H,Ue=(se=(ge=Xf(Z,ye,!0))!==null&&ge!==void 0?ge:Pe)!==null&&se!==void 0?se:0;ve=aZ({barGap:I,barCategoryGap:D,bandSize:Ue!==Ae?Ue:Ae,sizeList:G[me],maxBarSize:Pe}),Ue!==Ae&&(ve=ve.map(function(fe){return Q(Q({},fe),{},{position:Q(Q({},fe.position),{},{offset:fe.position.offset-Ue/2})})}))}var ee=W&&W.type&&W.type.getComposedData;ee&&M.push({props:Q(Q({},ee(Q(Q({},Re),{},{displayedData:L,props:v,dataKey:re,item:W,bandSize:Ae,barPosition:ve,offset:S,stackedData:J,layout:j,dataStartIndex:T,dataEndIndex:A}))),{},Ne(Ne(Ne({key:W.key||"item-".concat(X)},P,Re[P]),U,Re[U]),"animationId",E)),childIndex:a8(W,v.children),item:W})}),M},g=function(v,w){var _=v.props,N=v.dataStartIndex,S=v.dataEndIndex,E=v.updateId;if(!K_({props:_}))return null;var T=_.children,A=_.layout,C=_.stackOffset,j=_.data,I=_.reverseStackOrder,D=IN(A),B=D.numericAxisName,O=D.cateAxisName,P=Un(T,r),U=gZ(j,P,"".concat(B,"Id"),"".concat(O,"Id"),C,I),q=l.reduce(function(K,re){var H="".concat(re.axisType,"Map");return Q(Q({},K),{},Ne({},H,Gle(_,Q(Q({},re),{},{graphicalItems:P,stackGroups:re.axisType===B&&U,dataStartIndex:N,dataEndIndex:S}))))},{}),M=Wle(Q(Q({},q),{},{props:_,graphicalItems:P}),w==null?void 0:w.legendBBox);Object.keys(q).forEach(function(K){q[K]=d(_,q[K],M,K.replace("Map",""),n)});var W=q["".concat(O,"Map")],X=Hle(W),L=h(_,Q(Q({},q),{},{dataStartIndex:N,dataEndIndex:S,updateId:E,graphicalItems:P,stackGroups:U,offset:M}));return Q(Q({formattedGraphicalItems:L,graphicalItems:P,offset:M,stackGroups:U},X),q)},y=function(b){function v(w){var _,N,S;return kle(this,v),S=Ple(this,v,[w]),Ne(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(S,"accessibilityManager",new hle),Ne(S,"handleLegendBBoxUpdate",function(E){if(E){var T=S.state,A=T.dataStartIndex,C=T.dataEndIndex,j=T.updateId;S.setState(Q({legendBBox:E},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:j},Q(Q({},S.state),{},{legendBBox:E}))))}}),Ne(S,"handleReceiveSyncEvent",function(E,T,A){if(S.props.syncId===E){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),Ne(S,"handleBrushChange",function(E){var T=E.startIndex,A=E.endIndex;if(T!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return Q({dataStartIndex:T,dataEndIndex:A},g({props:S.props,dataStartIndex:T,dataEndIndex:A,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:A})}}),Ne(S,"handleMouseEnter",function(E){var T=S.getMouseInfo(E);if(T){var A=Q(Q({},T),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseEnter;Ce(C)&&C(A,E)}}),Ne(S,"triggeredAfterMouseMove",function(E){var T=S.getMouseInfo(E),A=T?Q(Q({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseMove;Ce(C)&&C(A,E)}),Ne(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ne(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ne(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),Ne(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var A=S.props.onMouseLeave;Ce(A)&&A(T,E)}),Ne(S,"handleOuterEvent",function(E){var T=o8(E),A=Ln(S.props,"".concat(T));if(T&&Ce(A)){var C,j;/.*touch.*/i.test(T)?j=S.getMouseInfo(E.changedTouches[0]):j=S.getMouseInfo(E),A((C=j)!==null&&C!==void 0?C:{},E)}}),Ne(S,"handleClick",function(E){var T=S.getMouseInfo(E);if(T){var A=Q(Q({},T),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onClick;Ce(C)&&C(A,E)}}),Ne(S,"handleMouseDown",function(E){var T=S.props.onMouseDown;if(Ce(T)){var A=S.getMouseInfo(E);T(A,E)}}),Ne(S,"handleMouseUp",function(E){var T=S.props.onMouseUp;if(Ce(T)){var A=S.getMouseInfo(E);T(A,E)}}),Ne(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ne(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),Ne(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),Ne(S,"handleDoubleClick",function(E){var T=S.props.onDoubleClick;if(Ce(T)){var A=S.getMouseInfo(E);T(A,E)}}),Ne(S,"handleContextMenu",function(E){var T=S.props.onContextMenu;if(Ce(T)){var A=S.getMouseInfo(E);T(A,E)}}),Ne(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&mg.emit(gg,S.props.syncId,E,S.eventEmitterSymbol)}),Ne(S,"applySyncEvent",function(E){var T=S.props,A=T.layout,C=T.syncMethod,j=S.state.updateId,I=E.dataStartIndex,D=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(Q({dataStartIndex:I,dataEndIndex:D},g({props:S.props,dataStartIndex:I,dataEndIndex:D,updateId:j},S.state)));else if(E.activeTooltipIndex!==void 0){var B=E.chartX,O=E.chartY,P=E.activeTooltipIndex,U=S.state,q=U.offset,M=U.tooltipTicks;if(!q)return;if(typeof C=="function")P=C(M,E);else if(C==="value"){P=-1;for(var W=0;W<M.length;W++)if(M[W].value===E.activeLabel){P=W;break}}var X=Q(Q({},q),{},{x:q.left,y:q.top}),L=Math.min(B,X.x+X.width),K=Math.min(O,X.y+X.height),re=M[P]&&M[P].value,H=t0(S.state,S.props.data,P),ae=M[P]?{x:A==="horizontal"?M[P].coordinate:L,y:A==="horizontal"?K:M[P].coordinate}:cO;S.setState(Q(Q({},E),{},{activeLabel:re,activeCoordinate:ae,activePayload:H,activeTooltipIndex:P}))}else S.setState(E)}),Ne(S,"renderCursor",function(E){var T,A=S.state,C=A.isTooltipActive,j=A.activeCoordinate,I=A.activePayload,D=A.offset,B=A.activeTooltipIndex,O=A.tooltipAxisBandSize,P=S.getTooltipEventType(),U=(T=E.props.active)!==null&&T!==void 0?T:C,q=S.props.layout,M=E.key||"_recharts-cursor";return R.createElement(ble,{key:M,activeCoordinate:j,activePayload:I,activeTooltipIndex:B,chartName:n,element:E,isActive:U,layout:q,offset:D,tooltipAxisBandSize:O,tooltipEventType:P})}),Ne(S,"renderPolarAxis",function(E,T,A){var C=Ln(E,"type.axisType"),j=Ln(S.state,"".concat(C,"Map")),I=E.type.defaultProps,D=I!==void 0?Q(Q({},I),E.props):E.props,B=j&&j[D["".concat(C,"Id")]];return k.cloneElement(E,Q(Q({},B),{},{className:Oe(C,B.className),key:E.key||"".concat(T,"-").concat(A),ticks:ti(B,!0)}))}),Ne(S,"renderPolarGrid",function(E){var T=E.props,A=T.radialLines,C=T.polarAngles,j=T.polarRadius,I=S.state,D=I.radiusAxisMap,B=I.angleAxisMap,O=Ri(D),P=Ri(B),U=P.cx,q=P.cy,M=P.innerRadius,W=P.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(C)?C:ti(P,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(j)?j:ti(O,!0).map(function(X){return X.coordinate}),cx:U,cy:q,innerRadius:M,outerRadius:W,key:E.key||"polar-grid",radialLines:A})}),Ne(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,T=S.props,A=T.children,C=T.width,j=T.height,I=S.props.margin||{},D=C-(I.left||0)-(I.right||0),B=BI({children:A,formattedGraphicalItems:E,legendWidth:D,legendContent:c});if(!B)return null;var O=B.item,P=AN(B,wle);return k.cloneElement(O,Q(Q({},P),{},{chartWidth:C,chartHeight:j,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ne(S,"renderTooltip",function(){var E,T=S.props,A=T.children,C=T.accessibilityLayer,j=Cn(A,Pn);if(!j)return null;var I=S.state,D=I.isTooltipActive,B=I.activeCoordinate,O=I.activePayload,P=I.activeLabel,U=I.offset,q=(E=j.props.active)!==null&&E!==void 0?E:D;return k.cloneElement(j,{viewBox:Q(Q({},U),{},{x:U.left,y:U.top}),active:q,label:P,payload:q?O:[],coordinate:B,accessibilityLayer:C})}),Ne(S,"renderBrush",function(E){var T=S.props,A=T.margin,C=T.data,j=S.state,I=j.offset,D=j.dataStartIndex,B=j.dataEndIndex,O=j.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:hd(S.handleBrushChange,E.props.onChange),data:C,x:ie(E.props.x)?E.props.x:I.left,y:ie(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(A.bottom||0),width:ie(E.props.width)?E.props.width:I.width,startIndex:D,endIndex:B,updateId:"brush-".concat(O)})}),Ne(S,"renderReferenceElement",function(E,T,A){if(!E)return null;var C=S,j=C.clipPathId,I=S.state,D=I.xAxisMap,B=I.yAxisMap,O=I.offset,P=E.type.defaultProps||{},U=E.props,q=U.xAxisId,M=q===void 0?P.xAxisId:q,W=U.yAxisId,X=W===void 0?P.yAxisId:W;return k.cloneElement(E,{key:E.key||"".concat(T,"-").concat(A),xAxis:D[M],yAxis:B[X],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:j})}),Ne(S,"renderActivePoints",function(E){var T=E.item,A=E.activePoint,C=E.basePoint,j=E.childIndex,I=E.isRange,D=[],B=T.props.key,O=T.item.type.defaultProps!==void 0?Q(Q({},T.item.type.defaultProps),T.item.props):T.item.props,P=O.activeDot,U=O.dataKey,q=Q(Q({index:j,dataKey:U,cx:A.x,cy:A.y,r:4,fill:yb(T.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Se(P,!1)),Ef(P));return D.push(v.renderActiveDot(P,q,"".concat(B,"-activePoint-").concat(j))),C?D.push(v.renderActiveDot(P,Q(Q({},q),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(j))):I&&D.push(null),D}),Ne(S,"renderGraphicChild",function(E,T,A){var C=S.filterFormatItem(E,T,A);if(!C)return null;var j=S.getTooltipEventType(),I=S.state,D=I.isTooltipActive,B=I.tooltipAxis,O=I.activeTooltipIndex,P=I.activeLabel,U=S.props.children,q=Cn(U,Pn),M=C.props,W=M.points,X=M.isRange,L=M.baseLine,K=C.item.type.defaultProps!==void 0?Q(Q({},C.item.type.defaultProps),C.item.props):C.item.props,re=K.activeDot,H=K.hide,ae=K.activeBar,me=K.activeShape,xe=!!(!H&&D&&q&&(re||ae||me)),Re={};j!=="axis"&&q&&q.props.trigger==="click"?Re={onClick:hd(S.handleItemMouseEnter,E.props.onClick)}:j!=="axis"&&(Re={onMouseLeave:hd(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:hd(S.handleItemMouseEnter,E.props.onMouseEnter)});var Z=k.cloneElement(E,Q(Q({},C.props),Re));function ye(F){return typeof B.dataKey=="function"?B.dataKey(F.payload):null}if(xe)if(O>=0){var J,Y;if(B.dataKey&&!B.allowDuplicatedCategory){var Ae=typeof B.dataKey=="function"?ye:"payload.".concat(B.dataKey.toString());J=Sf(W,Ae,P),Y=X&&L&&Sf(L,Ae,P)}else J=W==null?void 0:W[O],Y=X&&L&&L[O];if(me||ae){var ve=E.props.activeIndex!==void 0?E.props.activeIndex:O;return[k.cloneElement(E,Q(Q(Q({},C.props),Re),{},{activeIndex:ve})),null,null]}if(!Ie(J))return[Z].concat(Us(S.renderActivePoints({item:C,activePoint:J,basePoint:Y,childIndex:O,isRange:X})))}else{var G,se=(G=S.getItemByXY(S.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:Z},ge=se.graphicalItem,Pe=ge.item,Ue=Pe===void 0?E:Pe,ee=ge.childIndex,fe=Q(Q(Q({},C.props),Re),{},{activeIndex:ee});return[k.cloneElement(Ue,fe),null,null]}return X?[Z,null,null]:[Z,null]}),Ne(S,"renderCustomized",function(E,T,A){return k.cloneElement(E,Q(Q({key:"recharts-customized-".concat(A)},S.props),S.state))}),Ne(S,"renderMap",{CartesianGrid:{handler:vd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:vd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:vd},YAxis:{handler:vd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Ys("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Fj(S.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return Ole(v,b),Cle(v,[{key:"componentDidMount",value:function(){var _,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,N=_.children,S=_.data,E=_.height,T=_.layout,A=Cn(N,Pn);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=t0(this.state,S,C,j),D=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+E)/2,O=T==="horizontal",P=O?{x:D,y:B}:{y:D,x:B},U=this.state.formattedGraphicalItems.find(function(M){var W=M.item;return W.type.name==="Scatter"});U&&(P=Q(Q({},P),U.props.points[C].tooltipPosition),I=U.props.points[C].tooltipPayload);var q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:j,activePayload:I,activeCoordinate:P};this.setState(q),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Py([Cn(_.children,Pn)],[Cn(this.props.children,Pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Cn(this.props.children,Pn);if(_&&typeof _.props.shared=="boolean"){var N=_.props.shared?"axis":"item";return s.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),E=IK(S),T={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},A=S.width/N.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,A);if(!C)return null;var j=this.state,I=j.xAxisMap,D=j.yAxisMap,B=this.getTooltipEventType(),O=PN(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&I&&D){var P=Ri(I).scale,U=Ri(D).scale,q=P&&P.invert?P.invert(T.chartX):null,M=U&&U.invert?U.invert(T.chartY):null;return Q(Q({},T),{},{xValue:q,yValue:M},O)}return O?Q(Q({},T),O):null}},{key:"inRange",value:function(_,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,T=_/S,A=N/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,j=T>=C.left&&T<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return j?{x:T,y:A}:null}var I=this.state,D=I.angleAxisMap,B=I.radiusAxisMap;if(D&&B){var O=Ri(D);return iE({x:T,y:A},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,N=this.getTooltipEventType(),S=Cn(_,Pn),E={};S&&N==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ef(this.props,this.handleOuterEvent);return Q(Q({},T),E)}},{key:"addListener",value:function(){mg.on(gg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mg.removeListener(gg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,N,S){for(var E=this.state.formattedGraphicalItems,T=0,A=E.length;T<A;T++){var C=E[T];if(C.item===_||C.props.key===_.key||N===ii(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,N=this.state.offset,S=N.left,E=N.top,T=N.height,A=N.width;return R.createElement("defs",null,R.createElement("clipPath",{id:_},R.createElement("rect",{x:S,y:E,height:T,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(N,S){var E=kN(S,2),T=E[0],A=E[1];return Q(Q({},N),{},Ne({},T,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(N,S){var E=kN(S,2),T=E[0],A=E[1];return Q(Q({},N),{},Ne({},T,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(_){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(_){var N=this.state,S=N.formattedGraphicalItems,E=N.activeItem;if(S&&S.length)for(var T=0,A=S.length;T<A;T++){var C=S[T],j=C.props,I=C.item,D=I.type.defaultProps!==void 0?Q(Q({},I.type.defaultProps),I.props):I.props,B=ii(I.type);if(B==="Bar"){var O=(j.data||[]).find(function(M){return vne(_,M)});if(O)return{graphicalItem:C,payload:O}}else if(B==="RadialBar"){var P=(j.data||[]).find(function(M){return iE(_,M)});if(P)return{graphicalItem:C,payload:P}}else if(Gp(C,E)||Hp(C,E)||ic(C,E)){var U=aie({graphicalItem:C,activeTooltipItem:E,itemData:D.data}),q=D.activeIndex===void 0?U:D.activeIndex;return{graphicalItem:Q(Q({},C),{},{childIndex:q}),payload:ic(C,E)?D.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!K_(this))return null;var N=this.props,S=N.children,E=N.className,T=N.width,A=N.height,C=N.style,j=N.compact,I=N.title,D=N.desc,B=AN(N,_le),O=Se(B,!1);if(j)return R.createElement(uN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Iy,Fa({},O,{width:T,height:A,title:I,desc:D}),this.renderClipPath(),Y_(S,this.renderMap)));if(this.props.accessibilityLayer){var P,U;O.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,O.role=(U=this.props.role)!==null&&U!==void 0?U:"application",O.onKeyDown=function(M){_.accessibilityManager.keyboardEvent(M)},O.onFocus=function(){_.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return R.createElement(uN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Fa({className:Oe("recharts-wrapper",E),style:Q({position:"relative",cursor:"default",width:T,height:A},C)},q,{ref:function(W){_.container=W}}),R.createElement(Iy,Fa({},O,{width:T,height:A,title:I,desc:D,style:Ule}),this.renderClipPath(),Y_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ne(y,"displayName",n),Ne(y,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ne(y,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,_=b.data,N=b.children,S=b.width,E=b.height,T=b.layout,A=b.stackOffset,C=b.margin,j=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var D=jN(b);return Q(Q(Q({},D),{},{updateId:0},g(Q(Q({props:b},D),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:E,prevLayout:T,prevStackOffset:A,prevMargin:C,prevChildren:N})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||E!==v.prevHeight||T!==v.prevLayout||A!==v.prevStackOffset||!Xa(C,v.prevMargin)){var B=jN(b),O={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},P=Q(Q({},PN(v,_,T)),{},{updateId:v.updateId+1}),U=Q(Q(Q({},B),O),P);return Q(Q(Q({},U),g(Q({props:b},U),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:E,prevLayout:T,prevStackOffset:A,prevMargin:C,prevChildren:N})}if(!Py(N,v.prevChildren)){var q,M,W,X,L=Cn(N,Cs),K=L&&(q=(M=L.props)===null||M===void 0?void 0:M.startIndex)!==null&&q!==void 0?q:j,re=L&&(W=(X=L.props)===null||X===void 0?void 0:X.endIndex)!==null&&W!==void 0?W:I,H=K!==j||re!==I,ae=!Ie(_),me=ae&&!H?v.updateId:v.updateId+1;return Q(Q({updateId:me},g(Q(Q({props:b},v),{},{updateId:me,dataStartIndex:K,dataEndIndex:re}),v)),{},{prevChildren:N,dataStartIndex:K,dataEndIndex:re})}return null}),Ne(y,"renderActiveDot",function(b,v,w){var _;return k.isValidElement(b)?_=k.cloneElement(b,v):Ce(b)?_=b(v):_=R.createElement(Up,v),R.createElement(qe,{className:"recharts-active-dot",key:w},_)});var x=k.forwardRef(function(v,w){return R.createElement(y,Fa({},v,{ref:w}))});return x.displayName=y.displayName,x},Jle=Ab({chartName:"LineChart",GraphicalChild:Mc,axisComponents:[{axisType:"xAxis",AxisComp:Zi},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:P2}),Cb=Ab({chartName:"BarChart",GraphicalChild:Fr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zi},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:P2}),ON=Ab({chartName:"PieChart",GraphicalChild:Ur,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vp},{axisType:"radiusAxis",AxisComp:Bp}],formatAxisMap:AZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Yle=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>u.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[u.jsx("p",{className:"text-sm opacity-80",children:t.label}),u.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),u.jsx("div",{className:"h-64",children:u.jsx(Qa,{width:"100%",height:"100%",children:u.jsxs(Cb,{data:yL,children:[u.jsx(uc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(Zi,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(eo,{stroke:"#9ca3af"}),u.jsx(Pn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(Fr,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),u.jsx("div",{className:"h-64",children:u.jsx(Qa,{width:"100%",height:"100%",children:u.jsxs(Jle,{data:vL,children:[u.jsx(uc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),u.jsx(Zi,{dataKey:"name",stroke:"#9ca3af"}),u.jsx(eo,{stroke:"#9ca3af"}),u.jsx(Pn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),u.jsx(Mc,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function wi({data:t,columns:e,title:n,icon:r,onAdd:i,onEdit:o,onDelete:a,onViewDetails:s,customRowActions:l,extraActions:c,selectedIds:d,onSelect:f}){const[h,g]=k.useState(t),[y,x]=k.useState(""),[b,v]=k.useState(1),[w,_]=k.useState(10),[N,S]=k.useState([]),E=d||N,T=f||S,[A,C]=k.useState(null);k.useEffect(()=>{let q=[...t];if(y){const M=y.toLowerCase();q=q.filter(W=>Object.values(W).join(" ").toLowerCase().includes(M))}A&&q.sort((M,W)=>{const X=M[A.key],L=W[A.key];if(X===L)return 0;if(X==null)return 1;if(L==null)return-1;const K=X<L?-1:1;return A.direction==="asc"?K:-K}),g(q),y&&b!==1&&v(1)},[t,y,A]);const j=q=>{let M="asc";A&&A.key===q&&A.direction==="asc"&&(M="desc"),C({key:q,direction:M})},I=(b-1)*w,D=I+w,B=h.slice(I,D),O=q=>{q.target.checked?T(h.map(M=>M.id)):T([])},P=q=>{E.includes(q)?T(E.filter(M=>M!==q)):T([...E,q])},U=s||o||a||l;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[r&&u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(r,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[E.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[E.length,"  "]}),c,i&&u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium text-sm",children:[u.jsx(Sn,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(ds,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:y,onChange:q=>x(q.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-500",children:u.jsx(bc,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:O,checked:h.length>0&&E.length===h.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((q,M)=>u.jsx("th",{className:`p-4 whitespace-nowrap ${q.sortKey?"cursor-pointer hover:text-primary transition-colors select-none":""}`,onClick:()=>q.sortKey&&j(q.sortKey),children:u.jsxs("div",{className:"flex items-center gap-1",children:[q.header,q.sortKey&&u.jsx("span",{className:"text-gray-400",children:(A==null?void 0:A.key)===q.sortKey?A.direction==="asc"?u.jsx(MD,{className:"w-3 h-3"}):u.jsx(OD,{className:"w-3 h-3"}):u.jsx(RD,{className:"w-3 h-3 opacity-50"})})]})},M)),U&&u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:B.length>0?B.map((q,M)=>u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${E.includes(q.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:E.includes(q.id),onChange:()=>P(q.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((W,X)=>u.jsx("td",{className:"p-4",children:W.accessor(q)},X)),U&&u.jsxs("td",{className:"p-4 flex gap-1.5 items-center",children:[l&&l(q),s&&u.jsx("button",{onClick:()=>s(q),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(hx,{width:18,height:18})}),o&&u.jsx("button",{onClick:()=>o(q),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:u.jsx(ep,{width:18,height:18})}),a&&u.jsx("button",{onClick:()=>a(q),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"",children:u.jsx(Ft,{width:18,height:18})})]})]},q.id||M)):u.jsx("tr",{children:u.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:w,onChange:q=>{_(Number(q.target.value)),v(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsxs("span",{children:[": ",h.length]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{disabled:b===1,onClick:()=>v(q=>q-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(xc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",b]}),u.jsx("button",{disabled:D>=h.length,onClick:()=>v(q=>q+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:u.jsx(Qh,{className:"w-4 h-4"})})]})]})]})]})}const Xle=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories_main","part_categories_sub","part_categories_sub_sub","parts","activity_cards","checklist_items","maintenance_plans"],RN={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories_main:"  ",part_categories_sub:"  ",part_categories_sub_sub:"   ",parts:"",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Qle=()=>{const[t,e]=k.useState("user_groups"),[n,r]=k.useState([]),[i,o]=k.useState(!1),[a,s]=k.useState(!1),[l,c]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(null),[y,x]=k.useState(!1),[b,v]=k.useState([]),[w,_]=k.useState([]),[N,S]=k.useState([]),[E,T]=k.useState([]),[A,C]=k.useState([]),[j,I]=k.useState([]),[D,B]=k.useState([]),[O,P]=k.useState([]),U=k.useRef(null),q=k.useRef(null),M={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"avatar",header:""},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:""},{key:"group_id",header:""},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"org_unit_id",header:" "},{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories_main:[{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub:[{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub_sub:[{key:"grand_parent_name",header:" "},{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"   "}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"full_category_path",header:" "},{key:"stock_unit_name",header:" "},{key:"consumption_unit_name",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},W=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description"],X=F=>{try{return JSON.parse(localStorage.getItem(`admin_data_${F}`)||"[]")}catch{return[]}},L=(F,V)=>{localStorage.setItem(`admin_data_${F}`,JSON.stringify(V))},K=async()=>{o(!0),g(null);let F=t;t.startsWith("part_categories_")&&(F="part_categories");try{const{data:V,error:oe}=await Be.from(F).select("*").order("created_at",{ascending:!1});if(oe)throw oe;let z=V||[];if(t.startsWith("part_categories_")&&(P(V||[]),t==="part_categories_main"?z=z.filter(le=>le.level_type==="MAIN"):t==="part_categories_sub"?z=z.filter(le=>le.level_type==="SUB").map(le=>{var ue;return{...le,parent_name:((ue=V==null?void 0:V.find(we=>we.id===le.parent_id))==null?void 0:ue.name)||"-"}}):t==="part_categories_sub_sub"&&(z=z.filter(le=>le.level_type==="SUB_SUB").map(le=>{const ue=V==null?void 0:V.find($e=>$e.id===le.parent_id),we=ue?V==null?void 0:V.find($e=>$e.id===ue.parent_id):null;return{...le,parent_name:(ue==null?void 0:ue.name)||"-",grand_parent_name:(we==null?void 0:we.name)||"-"}}))),t==="parts"){const le=O.length>0?O:await Le("part_categories"),ue=D.length>0?D:await Le("measurement_units");P(le),B(ue),z=z.map(we=>{var an,Vn;const $e=le.find(Dt=>Dt.id===we.category_id);let At="-";if($e){const Dt=le.find(Ni=>Ni.id===$e.parent_id),Ei=Dt?le.find(Ni=>Ni.id===Dt.parent_id):null;At=`${(Ei==null?void 0:Ei.name)||"?"} > ${(Dt==null?void 0:Dt.name)||"?"} > ${$e.name}`}return{...we,full_category_path:At,stock_unit_name:((an=ue.find(Dt=>Dt.id===we.stock_unit_id))==null?void 0:an.title)||"-",consumption_unit_name:((Vn=ue.find(Dt=>Dt.id===we.consumption_unit_id))==null?void 0:Vn.title)||"-"}})}if(t==="app_users"){const le=b.length>0?b:await Le("personnel");v(le),z=z.map(ue=>{const we=le.find($e=>$e.id===ue.personnel_id);return{...ue,full_name:we?we.full_name:"---",unit:we?we.unit:"---",avatar:ue.avatar||(we?we.profile_picture:null),personnel_code:we?we.personnel_code:null}})}if(t==="org_chart"){if(b.length===0){const le=await Le("personnel");v(le)}z=z.map(le=>{var ue,we;return{...le,parent_name:((ue=z.find($e=>$e.id===le.parent_id))==null?void 0:ue.name)||"-",manager_name:((we=b.find($e=>$e.id===le.manager_id))==null?void 0:we.full_name)||le.manager_name||"-"}})}if(t==="locations"&&(z=z.map(le=>{var ue;return{...le,parent_name:((ue=z.find(we=>we.id===le.parent_id))==null?void 0:ue.name)||"-"}})),t==="personnel"){const le=await Le("org_chart");S(le),z=z.map(ue=>{const we=le.find($e=>$e.id===ue.org_unit_id);return{...ue,unit:we?we.name:ue.unit||"-"}})}if(t==="evaluation_criteria"){const le=await Le("org_chart");S(le),z=z.map(ue=>{const we=le.find($e=>$e.id===ue.org_unit_id);return{...ue,org_unit_name:we?we.name:"-"}})}if(t==="equipment_groups"){const le=await Le("equipment_classes");T(le),z=z.map(ue=>{var we;return{...ue,class_name:((we=le.find($e=>$e.id===ue.class_id))==null?void 0:we.name)||"-"}})}if(t==="equipment"||t==="equipment_local_names"){const le=await Le("equipment_classes"),ue=await Le("equipment_groups");T(le),C(ue),z=z.map(we=>{var $e,At;return{...we,class_name:(($e=le.find(an=>an.id===we.class_id))==null?void 0:$e.name)||"-",group_name:((At=ue.find(an=>an.id===we.group_id))==null?void 0:At.name)||"-"}})}if(t==="equipment_tree"){const le=await Le("equipment");I(le),z=z.map(ue=>{var we,$e;return{...ue,equipment_name:((we=le.find(At=>At.id===ue.equipment_id))==null?void 0:we.name)||"-",parent_name:(($e=z.find(At=>At.id===ue.parent_id))==null?void 0:$e.name)||"-"}})}x(!1),r(z),L(t,z)}catch(V){console.warn("Supabase fetch failed, switching to local data:",V),x(!0);const oe=X(t);r(oe)}finally{o(!1)}};k.useEffect(()=>{K(),f([]),(t==="app_users"||t==="org_chart"||t==="evaluation_criteria")&&(Le("personnel").then(v),Le("org_chart").then(S)),t==="app_users"&&Le("user_groups").then(_),t==="personnel"&&Le("org_chart").then(S),(t==="equipment_groups"||t==="equipment"||t==="equipment_local_names")&&Le("equipment_classes").then(T),(t==="equipment"||t==="equipment_local_names")&&Le("equipment_groups").then(C),t==="equipment_tree"&&Le("equipment").then(I),t==="parts"&&Le("measurement_units").then(B)},[t]);const re=()=>{c({}),s(!0)},H=F=>{if(t==="app_users"&&F.personnel_id){const V=b.find(oe=>oe.id===F.personnel_id);c({...F,full_name:V==null?void 0:V.full_name,unit:V==null?void 0:V.unit,personnel_profile:V==null?void 0:V.profile_picture})}else if(t==="part_categories_sub"||t==="part_categories_sub_sub")c({...F});else if(t==="parts"){const V=O.find(le=>le.id===F.category_id),oe=O.find(le=>le.id===(V==null?void 0:V.parent_id)),z=O.find(le=>le.id===(oe==null?void 0:oe.parent_id));c({...F,temp_main_cat_id:(z==null?void 0:z.id)||"",temp_sub_cat_id:(oe==null?void 0:oe.id)||""})}else c(F);s(!0)},ae=async F=>{if(!F.personnel_code){alert(":       .");return}if(window.confirm(`        "${F.username}"     (${F.personnel_code})  `)){o(!0);try{const{error:V}=await Be.from("app_users").update({password:F.personnel_code,is_default_password:!0}).eq("id",F.id);if(V)throw V;alert("     .")}catch(V){console.error("Reset Password Error:",V),alert("    : "+V.message)}finally{o(!1)}}},me=async F=>{if(!window.confirm("      "))return;[...n],r(oe=>oe.filter(z=>z.id!==F.id)),f(oe=>oe.filter(z=>z!==F.id));let V=t;t.startsWith("part_categories_")&&(V="part_categories");try{const{error:oe}=await Be.from(V).delete().eq("id",F.id);if(oe)throw oe;await K()}catch{console.warn("Delete failed, performing offline delete");const le=X(t).filter(ue=>ue.id!==F.id);L(t,le),x(!0)}},xe=async()=>{if(d.length===0||!window.confirm(`   ${d.length}   `))return;r(V=>V.filter(oe=>!d.includes(oe.id)));let F=t;t.startsWith("part_categories_")&&(F="part_categories");try{const{error:V}=await Be.from(F).delete().in("id",d);if(V)throw V;f([]),await K()}catch{console.warn("Bulk delete failed, performing offline delete");const z=X(t).filter(le=>!d.includes(le.id));L(t,z),f([]),x(!0)}},Re=F=>{const V=b.find(oe=>oe.id===F);V&&c({...l,personnel_id:V.id,full_name:V.full_name,unit:V.unit,personnel_profile:V.profile_picture,password:V.personnel_code,is_default_password:!0})},Z=()=>{if(!l)return!1;switch(t){case"user_groups":return!!(l.code&&l.name);case"personnel":return!!(l.personnel_code&&l.full_name);case"org_chart":return!!l.name;case"app_users":return!!(l.username&&l.personnel_id&&l.role);case"locations":return!!l.name;case"equipment_classes":return!!(l.code&&l.name);case"equipment_groups":return!!(l.code&&l.name&&l.class_id);case"equipment":return!!(l.code&&l.name&&l.class_id&&l.group_id);case"equipment_local_names":return!!(l.local_name&&l.class_id&&l.group_id);case"evaluation_periods":return!!(l.code&&l.title);case"evaluation_criteria":return!!(l.title&&l.max_score&&l.org_unit_id);case"measurement_units":return!!l.title;case"equipment_tree":return!!(l.code&&l.name&&l.equipment_id);case"part_categories_main":return!!(l.code&&l.name);case"part_categories_sub":return!!(l.code&&l.name&&l.parent_id);case"part_categories_sub_sub":return!!(l.code&&l.name&&l.parent_id);case"parts":return!!(l.name&&l.category_id);case"activity_cards":return!!(l.code&&l.name);case"checklist_items":return!!(l.description&&l.activity_card_id);case"maintenance_plans":return!!(l.name&&l.equipment_id);default:return!1}},ye=async F=>{F.preventDefault(),o(!0),g(null);let V={...l},oe=t;if(!Z()){o(!1),alert("    ()   .");return}if(t.startsWith("part_categories_")){oe="part_categories";const z=n.some(ue=>ue.code===V.code&&ue.id!==V.id),le=n.some(ue=>ue.name===V.name&&ue.id!==V.id);if(z){o(!1),alert("  .");return}if(le){o(!1),alert("  .");return}t==="part_categories_main"&&(V.level_type="MAIN"),t==="part_categories_sub"&&(V.level_type="SUB"),t==="part_categories_sub_sub"&&(V.level_type="SUB_SUB"),delete V.parent_name,delete V.grand_parent_name,delete V.temp_main_cat_id}if(t==="parts"&&(delete V.full_category_path,delete V.temp_main_cat_id,delete V.temp_sub_cat_id,delete V.stock_unit_name,delete V.consumption_unit_name),t==="equipment_classes"){const z=n.some(ue=>ue.code===V.code&&ue.id!==V.id),le=n.some(ue=>ue.name===V.name&&ue.id!==V.id);if(z){o(!1),alert("   .");return}if(le){o(!1),alert("   .");return}}if(t==="equipment_groups"){const z=n.some(ue=>ue.code===V.code&&ue.id!==V.id),le=n.some(ue=>ue.name===V.name&&ue.id!==V.id);if(z){o(!1),alert("   .");return}if(le){o(!1),alert("   .");return}}if(t==="personnel"&&V.org_unit_id){const z=N.find(le=>le.id===V.org_unit_id);z&&(V.unit=z.name)}t==="app_users"&&(delete V.full_name,delete V.unit,delete V.personnel_profile,delete V.avatar,delete V.personnel_code),(t==="org_chart"||t==="locations")&&(delete V.parent_name,t==="org_chart"&&delete V.manager_name),t==="equipment_groups"&&delete V.class_name,(t==="equipment"||t==="equipment_local_names")&&(delete V.class_name,delete V.group_name),t==="equipment_tree"&&(delete V.equipment_name,delete V.parent_name),t==="evaluation_criteria"&&delete V.org_unit_name;try{if(V.id){const{error:z}=await Be.from(oe).update(V).eq("id",V.id);if(z)throw z}else{const{error:z}=await Be.from(oe).insert([V]);if(z)throw z}await K(),s(!1)}catch(z){if(z.code==="23505")alert(" :     (  )    .");else{console.warn("Save failed, performing offline save:",z);let ue=[...X(t)];if(V.id){const we=ue.findIndex($e=>$e.id===V.id);we>=0?ue[we]={...ue[we],...V}:ue.push(V)}else V.id=Do(),V.created_at=new Date().toISOString(),ue.unshift(V);L(t,ue),alert("     .         ."),await K(),s(!1)}}finally{o(!1)}},J=()=>{const V=M[t].map($e=>$e.key),oe=n.length>0?n:[];let z="\uFEFF"+V.join(",")+`
`;oe.forEach($e=>{const At=V.map(an=>{let Vn=$e[an]||"";return String(Vn).includes(",")&&(Vn=`"${Vn}"`),Vn});z+=At.join(",")+`
`});const le=new Blob([z],{type:"text/csv;charset=utf-8;"}),ue=document.createElement("a"),we=URL.createObjectURL(le);ue.setAttribute("href",we),ue.setAttribute("download",`${t}_export.csv`),document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)},Y=F=>{var z;const V=(z=F.target.files)==null?void 0:z[0];if(!V)return;const oe=new FileReader;oe.onload=async le=>{var Ni;let ue=((Ni=le.target)==null?void 0:Ni.result)||"";ue=ue.replace(/^\uFEFF/,"");const we=ue.split(/\r?\n/).filter(mt=>mt.trim()!=="");if(we.length<2){alert("       ."),U.current&&(U.current.value="");return}const $e=we[0],At=$e.includes(";")?";":",",an=$e.split(At).map(mt=>mt.trim().replace(/^"|"$/g,"")),Vn=M[t].map(mt=>mt.key);if(t==="personnel"&&!an.includes("personnel_code")){alert(':  "personnel_code"  .');return}if(t==="app_users"&&(!an.includes("username")||!an.includes("personnel_code"))){alert('   :     "username"  "personnel_code" .');return}const Dt=[],Ei=[];for(let mt=1;mt<we.length;mt++){const $c=we[mt].split(At).map(Vr=>Vr.trim().replace(/^"|"$/g,"")),Gn={};an.forEach((Vr,Ar)=>{let $=$c[Ar];if($&&$!=="")if(t==="app_users")if(Vr==="personnel_code"){const de=b.find(Ee=>Ee.personnel_code===$);de?(Gn.personnel_id=de.id,Gn.password=$,Gn.is_default_password=!0):Ei.push(` ${mt+1}:   ${$}    .`)}else Vn.includes(Vr)&&(Gn[Vr]=$);else Vn.includes(Vr)&&(Gn[Vr]=$)}),!(t==="personnel"&&!Gn.personnel_code)&&(t==="app_users"&&!Gn.personnel_id||Object.keys(Gn).length>0&&Dt.push(Gn))}if(Dt.length===0){alert(`    .
`+Ei.join(`
`));return}o(!0);try{const{data:mt,error:uo}=await Be.from(t).insert(Dt).select();if(uo)throw uo;alert(` ${(mt==null?void 0:mt.length)||Dt.length}     .`),await K()}catch(mt){console.error("Upload Error:",mt),mt.code==="23505"?alert("  :     ."):alert(` : ${mt.message}`)}finally{o(!1),U.current&&(U.current.value="")}},oe.readAsText(V)},Ae=F=>{var oe;const V=(oe=F.target.files)==null?void 0:oe[0];if(V){const z=new FileReader;z.onloadend=()=>{c({...l,profile_picture:z.result})},z.readAsDataURL(V)}},ve=(M[t]||[]).map(F=>({header:F.header,accessor:V=>{if(F.key==="avatar"||F.key==="profile_picture")return u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden flex items-center justify-center",children:V[F.key]?u.jsx("img",{src:V[F.key],alt:"Avatar",className:"w-full h-full object-cover"}):u.jsx(fs,{className:"w-5 h-5 text-gray-400"})});if(typeof V[F.key]=="boolean")return V[F.key]?u.jsx("span",{className:"text-green-600",children:""}):u.jsx("span",{className:"text-gray-400",children:""});if(t==="equipment_groups"&&F.key==="class_id")return V.class_name||"-";if(t==="equipment"||t==="equipment_local_names"){if(F.key==="class_id")return V.class_name||"-";if(F.key==="group_id")return V.group_name||"-"}return t==="evaluation_criteria"&&F.key==="org_unit_id"?V.org_unit_name||"-":t==="equipment_tree"&&F.key==="equipment_id"?V.equipment_name||"-":t==="equipment_tree"&&F.key==="parent_id"?V.parent_name||"-":V[F.key]},sortKey:F.key})),G=u.jsxs(u.Fragment,{children:[d.length>0&&u.jsxs("button",{onClick:xe,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[u.jsx(Ft,{className:"w-4 h-4"}),"  ",d.length," "]}),u.jsxs("button",{onClick:J,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[u.jsx(fx,{className:"w-4 h-4"}),"  / "]}),u.jsx("input",{type:"file",ref:U,accept:".csv",onChange:Y,className:"hidden"}),u.jsxs("button",{onClick:()=>{var F;return(F=U.current)==null?void 0:F.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[u.jsx(wu,{className:"w-4 h-4"}),"    (CSV)"]})]}),se=()=>{const F=O.filter(V=>V.level_type==="MAIN");return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.parent_id||"",onChange:V=>c({...l,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[u.jsx("option",{value:"",children:" ..."}),F.map(V=>u.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.code||"",onChange:V=>c({...l,code:V.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:V=>c({...l,name:V.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},ge=()=>{const F=O.filter(oe=>oe.level_type==="MAIN"),V=O.filter(oe=>oe.level_type==="SUB"&&(!l.temp_main_cat_id||oe.parent_id===l.temp_main_cat_id));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsxs("select",{value:l.temp_main_cat_id||"",onChange:oe=>c({...l,temp_main_cat_id:oe.target.value,parent_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[u.jsx("option",{value:"",children:" ..."}),F.map(oe=>u.jsxs("option",{value:oe.id,children:[oe.name," (",oe.code,")"]},oe.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.parent_id||"",onChange:oe=>c({...l,parent_id:oe.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",disabled:!l.temp_main_cat_id,children:[u.jsx("option",{value:"",children:" ..."}),V.map(oe=>u.jsxs("option",{value:oe.id,children:[oe.name," (",oe.code,")"]},oe.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.code||"",onChange:oe=>c({...l,code:oe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:oe=>c({...l,name:oe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},Pe=()=>{const F=O.filter(z=>z.level_type==="MAIN"),V=O.filter(z=>z.level_type==="SUB"&&(!l.temp_main_cat_id||z.parent_id===l.temp_main_cat_id)),oe=O.filter(z=>z.level_type==="SUB_SUB"&&(!l.temp_sub_cat_id||z.parent_id===l.temp_sub_cat_id));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("select",{value:l.temp_main_cat_id||"",onChange:z=>c({...l,temp_main_cat_id:z.target.value,temp_sub_cat_id:"",category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",children:[u.jsx("option",{value:"",children:".  ..."}),F.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]}),u.jsxs("select",{value:l.temp_sub_cat_id||"",onChange:z=>c({...l,temp_sub_cat_id:z.target.value,category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",disabled:!l.temp_main_cat_id,children:[u.jsx("option",{value:"",children:".  ..."}),V.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]}),u.jsxs("select",{value:l.category_id||"",onChange:z=>c({...l,category_id:z.target.value}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800 border-primary",disabled:!l.temp_sub_cat_id,children:[u.jsx("option",{value:"",children:".    ()..."}),oe.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsx("input",{type:"text",value:l.code||"",onChange:z=>c({...l,code:z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:z=>c({...l,name:z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsxs("select",{value:l.stock_unit_id||"",onChange:z=>c({...l,stock_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[u.jsx("option",{value:"",children:"..."}),D.map(z=>u.jsx("option",{value:z.id,children:z.title},z.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),u.jsxs("select",{value:l.consumption_unit_id||"",onChange:z=>c({...l,consumption_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[u.jsx("option",{value:"",children:"..."}),D.map(z=>u.jsx("option",{value:z.id,children:z.title},z.id))]})]})]})]})},Ue=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 border-4 border-white dark:border-gray-600 shadow-lg overflow-hidden flex items-center justify-center",children:l.personnel_profile?u.jsx("img",{src:l.personnel_profile,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx(fs,{className:"w-10 h-10 text-gray-400"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"font-bold text-lg",children:l.full_name||" "}),u.jsx("p",{className:"text-sm text-gray-500",children:l.unit||"  "})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.personnel_id||"",onChange:F=>Re(F.target.value),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),b.map(F=>u.jsxs("option",{value:F.id,children:[F.full_name," (",F.personnel_code,")"]},F.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",dir:"ltr",value:l.username||"",onChange:F=>c({...l,username:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:"user123"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.role||"",onChange:F=>c({...l,role:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ..."}),w.map(F=>u.jsx("option",{value:F.name,children:F.name},F.id))]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"         ."]})]})]}),ee=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsx("input",{type:"text",value:l.code||"",onChange:F=>c({...l,code:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:F=>c({...l,name:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:F=>c({...l,parent_id:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(F=>F.id!==l.id).map(F=>u.jsx("option",{value:F.id,children:F.name},F.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.manager_id||"",onChange:F=>c({...l,manager_id:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:" ..."}),b.map(F=>u.jsxs("option",{value:F.id,children:[F.full_name," (",F.unit,")"]},F.id))]})]})]}),fe=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),u.jsx("input",{type:"text",value:l.code||"",onChange:F=>c({...l,code:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name||"",onChange:F=>c({...l,name:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),u.jsxs("select",{value:l.parent_id||"",onChange:F=>c({...l,parent_id:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(F=>F.id!==l.id).map(F=>u.jsx("option",{value:F.id,children:F.name},F.id))]})]})]});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(Gs,{className:"text-primary"}),"   "]}),y&&u.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[u.jsx(mL,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{onClick:K,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:u.jsx(gf,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&u.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 pb-3 mb-2",children:Xle.map(F=>u.jsx("button",{onClick:()=>e(F),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===F?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:RN[F]},F))}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:u.jsx(wi,{title:RN[t],data:n,columns:ve,onAdd:re,onEdit:H,onDelete:me,extraActions:G,selectedIds:d,onSelect:f,customRowActions:F=>t==="app_users"?u.jsx("button",{onClick:()=>ae(F),className:"p-1.5 text-slate-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"  ",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round","aria-hidden":"true",children:[u.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),u.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}):null})}),a&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),u.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t==="app_users"?Ue():t==="org_chart"?ee():t==="locations"?fe():t==="part_categories_sub"?se():t==="part_categories_sub_sub"?ge():t==="parts"?Pe():u.jsxs(u.Fragment,{children:[M[t].map(F=>{const V=W.includes(F.key);if(F.key==="parent_name"||t==="evaluation_criteria"&&F.key==="org_unit_name"||t==="part_categories_main"&&F.key==="level_type")return null;const oe=V&&!(t==="equipment"&&F.key==="description");if(t==="personnel"&&F.key==="unit")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:z=>c({...l,org_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),N.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(F.key));if(t==="evaluation_criteria"&&F.key==="org_unit_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.org_unit_id||"",onChange:z=>c({...l,org_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),N.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(F.key));if(t==="equipment_groups"&&F.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:z=>c({...l,class_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(F.key));if(t==="equipment"||t==="equipment_local_names"){if(F.key==="class_id")return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.class_id||"",onChange:z=>c({...l,class_id:z.target.value,group_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),E.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(F.key));if(F.key==="group_id"){const z=A.filter(le=>le.class_id===l.class_id);return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.group_id||"",onChange:le=>c({...l,group_id:le.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",disabled:!l.class_id,children:[u.jsx("option",{value:"",children:" ..."}),z.map(le=>u.jsx("option",{value:le.id,children:le.name},le.id))]})]},String(F.key))}}return t==="equipment_tree"&&F.key==="equipment_id"?u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",V&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:l.equipment_id||"",onChange:z=>c({...l,equipment_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:" ..."}),j.map(z=>u.jsxs("option",{value:z.id,children:[z.name," (",z.code,")"]},z.id))]})]},String(F.key)):t==="equipment_tree"&&F.key==="parent_id"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("select",{value:l.parent_id||"",onChange:z=>c({...l,parent_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[u.jsx("option",{value:"",children:"  ()"}),n.filter(z=>z.id!==l.id&&z.equipment_id===l.equipment_id).map(z=>u.jsxs("option",{value:z.id,children:[z.name," (",z.code,")"]},z.id))]})]},String(F.key)):u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[F.header," ",oe&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:F.key==="email"?"email":"text",value:l[F.key]||"",onChange:z=>c({...l,[F.key]:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:F.key==="mobile"?": 09123456789":""})]},String(F.key))}),t==="personnel"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),u.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[u.jsxs("div",{onClick:()=>{var F;return(F=q.current)==null?void 0:F.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?u.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:u.jsx(df,{className:"w-8 h-8"})}),u.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:u.jsx(wu,{className:"w-6 h-6 text-white"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("input",{type:"file",ref:q,accept:"image/*",className:"hidden",onChange:Ae}),u.jsxs("button",{type:"button",onClick:()=>{var F;return(F=q.current)==null?void 0:F.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[u.jsx(df,{className:"w-4 h-4"}),"  "]}),u.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]})]}),u.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t dark:border-gray-700 mt-2",children:[u.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),u.jsxs("button",{type:"submit",disabled:i||!Z(),className:`flex-1 py-2.5 rounded-lg flex justify-center gap-2 items-center transition shadow-lg ${i||!Z()?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-70":"bg-primary text-white hover:bg-red-800"}`,children:[i?u.jsx(gf,{className:"w-4 h-4 animate-spin"}):u.jsx(di,{className:"w-4 h-4"})," "]})]})]})]})})]})},ni=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=k.useState(!1),[s,l]=k.useState(1403),[c,d]=k.useState(1),f=k.useRef(null);k.useEffect(()=>{if(t){const E=t.split("/").map(Number);E.length===3&&(l(E[0]),d(E[1]))}else{const E=st().split("/").map(Number);l(E[0]),d(E[1])}},[t,o]),k.useEffect(()=>{const E=T=>{f.current&&!f.current.contains(T.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],y=(E,T)=>T<=6?31:T<=11||E%33===1||E%33===5||E%33===9||E%33===13||E%33===17||E%33===22||E%33===26||E%33===30?30:29,x=(E,T)=>{const{gy:A,gm:C,gd:j}=tP(E,T,1);return new Date(A,C-1,j).getDay()},b=()=>{c===1?(d(12),l(E=>E-1)):d(E=>E-1)},v=()=>{c===12?(d(1),l(E=>E+1)):d(E=>E+1)},w=E=>{const T=`${s}/${String(c).padStart(2,"0")}/${String(E).padStart(2,"0")}`;i&&xf(T)||(e(T),a(!1))},_=()=>{const E=st();e(E),a(!1)},N=(x(s,c)+1)%7,S=y(s,c);return u.jsxs("div",{className:"relative",ref:f,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),u.jsx(LD,{className:"w-4 h-4 text-gray-400"})]}),o&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(xc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[c-1]," ",s]}),u.jsx("button",{onClick:v,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:u.jsx(Qh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((E,T)=>u.jsx("span",{className:T===6?"text-red-500 font-bold":"",children:E},T))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:N}).map((E,T)=>u.jsx("div",{},`empty-${T}`)),Array.from({length:S}).map((E,T)=>{const A=T+1,C=`${s}/${String(c).padStart(2,"0")}/${String(A).padStart(2,"0")}`,j=t===C,I=i&&xf(C),D=(N+T)%7===6;return u.jsx("button",{type:"button",disabled:I,onClick:()=>w(A),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${j?"bg-primary text-white shadow-md font-bold":I?"text-gray-200 dark:text-gray-600 cursor-not-allowed":D?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:A},A)})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:u.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},Yr=({value:t,onChange:e,label:n})=>{const[r,i]=k.useState(!1),[o,a]=k.useState("HOURS"),s=k.useRef(null),[l,c]=k.useState("00"),[d,f]=k.useState("00");k.useEffect(()=>{if(t&&t.includes(":")){const[w,_]=t.split(":");c(w),f(_)}},[t,r]),k.useEffect(()=>{const w=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const h=w=>{c(w),a("MINUTES")},g=w=>{f(w),e(`${l}:${w}`),i(!1),a("HOURS")},y=(w,_,N)=>{const S=w*(360/_)-90,E=N*Math.cos(S*Math.PI/180),T=N*Math.sin(S*Math.PI/180);return{transform:`translate(${E}px, ${T}px)`}},x=[12,13,14,15,16,17,18,19,20,21,22,23],b=[12,1,2,3,4,5,6,7,8,9,10,11],v=[0,5,10,15,20,25,30,35,40,45,50,55];return u.jsxs("div",{className:"relative",ref:s,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),u.jsx(Zh,{className:"w-5 h-5 text-gray-400"})]}),r&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[u.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),u.jsx("span",{className:"text-gray-300 pb-2",children:":"}),u.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),u.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[u.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&u.jsxs(u.Fragment,{children:[x.map((w,_)=>{const N=w===12?"00":w,S=String(N).padStart(2,"0"),E=l===S;return u.jsx("button",{type:"button",onClick:()=>h(S),style:y(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:N},`out-${w}`)}),b.map((w,_)=>{const N=String(w).padStart(2,"0"),S=l===N;return u.jsx("button",{type:"button",onClick:()=>h(N),style:y(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:w===12?"12":w},`in-${w}`)})]}),o==="MINUTES"&&u.jsxs(u.Fragment,{children:[v.map((w,_)=>{const N=String(w).padStart(2,"0"),S=d===N;return u.jsx("button",{type:"button",onClick:()=>g(N),style:y(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:N},`m-${w}`)}),u.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),u.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},Pb=({initialData:t,onProcessComplete:e})=>{const n=Vs(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=k.useState("GENERAL"),[l,c]=k.useState(null),[d,f]=k.useState(null),[h,g]=k.useState(!1),[y,x]=k.useState(null),[b,v]=k.useState(!1),[w,_]=k.useState([]),[N,S]=k.useState([]),[E,T]=k.useState([]),[A,C]=k.useState([]),[j,I]=k.useState([]),[D,B]=k.useState([]),O=k.useRef(null),[P,U]=k.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:st(),reportTime:hs(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:st(),startTime:"",endDate:st(),endTime:"",downtime:"",repairTime:""}),[q,M]=k.useState([]),[W,X]=k.useState([]),[L,K]=k.useState([]);k.useEffect(()=>{(async()=>{const se=await Le("equipment"),ge=await Le("equipment_local_names"),Pe=await Le("locations");S(se),T(ge),I(se),B(ge),C(Pe),_(await Le("measurement_units"))})(),t&&(U(se=>({...se,...t})),t.labor&&M(t.labor),t.parts&&X(t.parts),t.docs&&K(t.docs))},[t]);const re=G=>{const se=G.target.value,ge=N.find(Pe=>Pe.code===se);if(!ge){U(Pe=>({...Pe,equipCode:"",equipName:"",locationId:""})),B(E);return}if(U(Pe=>({...Pe,equipCode:se,equipName:ge.name,locationId:ge.location_id||""})),ge.class_id&&ge.group_id){const Pe=E.filter(Ue=>Ue.class_id===ge.class_id&&Ue.group_id===ge.group_id);B(Pe)}else B(E)},H=G=>{const se=G.target.value,ge=E.find(Pe=>Pe.local_name===se);if(U(Pe=>({...Pe,equipLocalName:se})),ge&&ge.class_id&&ge.group_id){const Pe=N.filter(Ue=>Ue.class_id===ge.class_id&&Ue.group_id===ge.group_id);I(Pe)}else I(N)},ae=G=>{const se=window.SpeechRecognition||window.webkitSpeechRecognition;if(!se){alert("         .");return}if(y===G){x(null);return}const ge=new se;ge.lang="fa-IR",ge.continuous=!1,ge.interimResults=!1,ge.onstart=()=>x(G),ge.onend=()=>x(null),ge.onresult=Pe=>{const Ue=Pe.results[0][0].transcript;U(ee=>({...ee,[G]:ee[G]?`${ee[G]} ${Ue}`:Ue}))},ge.start()},me=()=>{M([...q,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},xe=(G,se,ge)=>{M(Pe=>Pe.map(Ue=>{if(Ue.id!==G)return Ue;const ee={...Ue,[se]:ge};return["startDate","startTime","endDate","endTime"].includes(se)&&(ee.durationMinutes=bL(ee.startDate,ee.startTime,ee.endDate,ee.endTime)),ee}))},Re=()=>{var G;X([...W,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((G=w[0])==null?void 0:G.title)||""}])},Z=(G,se,ge)=>{X(Pe=>Pe.map(Ue=>Ue.id===G?{...Ue,[se]:ge}:Ue))},ye=G=>{if(G.target.files&&G.target.files.length>0){const se=Array.from(G.target.files).map(ge=>({id:Math.random().toString(),name:ge.name}));K(ge=>[...ge,...se]),G.target.value=""}},J=(G,se)=>{G(ge=>ge.filter(Pe=>Pe.id!==se))},Y=()=>{if(!P.equipCode)return"     .";if(!P.equipLocalName)return"      .";if(!P.productionLine)return"     .";if(!P.locationId)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(xf(P.startDate)||xf(P.endDate))return"         .";if(xL(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},Ae=()=>!(!P.equipCode||!P.equipLocalName||!P.productionLine||!P.locationId||!P.workCategory||!P.priority||!P.workType||!P.failureDesc||i&&(!P.actionDesc||!P.downtime||!P.repairTime)),ve=async G=>{G.preventDefault(),f(null);const se=Y();if(se){f(se),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const ge={...P,labor:q,parts:W,docs:L};if(i&&e)e(ge);else{v(!0);try{const Pe=new Date,Ue=tp(Pe.getFullYear(),Pe.getMonth()+1,Pe.getDate()),ee=String(Ue.jy).substring(2),fe=String(Ue.jm).padStart(2,"0"),F=`W${ee}${fe}`,V=await Ec(F);Qi("WORK_ORDER",ge,r,V,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),c(V)):f("   .    .")}catch(Pe){console.error(Pe),f("        .")}finally{v(!1)}}};return l?u.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:u.jsx(Yh,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),u.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),u.jsxs("div",{className:"p-6 space-y-3",children:[u.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[u.jsx(JD,{className:"w-5 h-5"}),"     "]}),u.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&u.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[u.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),u.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),u.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),u.jsxs("form",{onSubmit:ve,className:"p-6",children:[d&&u.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[u.jsx(jD,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),u.jsx("span",{children:d})]}),a==="GENERAL"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:P.shift,onChange:G=>U({...P,shift:G.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[u.jsx("option",{value:"DayWork",children:""}),u.jsx("option",{value:"A",children:" A"}),u.jsx("option",{value:"B",children:" B"}),u.jsx("option",{value:"C",children:" C"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),i?u.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):u.jsxs("select",{value:P.equipCode,onChange:re,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[u.jsx("option",{value:"",children:" ..."}),j.map(G=>u.jsxs("option",{value:G.code,children:[G.code," - ",G.name]},G.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),u.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"     "})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:H,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:"  ..."}),D.length>0?D.map(G=>u.jsx("option",{value:G.local_name,children:G.local_name},G.id)):u.jsx("option",{disabled:!0,children:"  "})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:G=>U({...P,productionLine:G.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"Line A",children:"Line A"}),u.jsx("option",{value:"Line B",children:"Line B"}),u.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{disabled:i,value:P.locationId,onChange:G=>U({...P,locationId:G.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"",children:" ..."}),A.map(G=>u.jsx("option",{value:G.id,children:G.name},G.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:G=>U({...P,workType:G.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"REPAIR",children:"  (EM)"}),u.jsx("option",{value:"PM",children:"  (PM)"}),u.jsx("option",{value:"PROJECT",children:" / "}),u.jsx("option",{value:"INSPECTION",children:" "}),u.jsx("option",{value:"SERVICE",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:G=>U({...P,workCategory:G.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"MECHANICAL",children:""}),u.jsx("option",{value:"ELECTRICAL",children:""}),u.jsx("option",{value:"INSTRUMENTATION",children:" "}),u.jsx("option",{value:"FACILITIES",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:G=>U({...P,priority:G.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[u.jsx("option",{value:"NORMAL",children:""}),u.jsx("option",{value:"URGENT",children:""}),u.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:G=>U({...P,failureDesc:G.target.value})}),!i&&u.jsx("button",{type:"button",onClick:()=>ae("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${y==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:y==="failureDesc"?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(Xi,{className:"w-5 h-5"})})]})]}),i&&u.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[u.jsx(GC,{className:"w-5 h-5"}),"    (  )"]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:G=>U({...P,actionDesc:G.target.value})}),u.jsx("button",{type:"button",onClick:()=>ae("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${y==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:y==="actionDesc"?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(Xi,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ni,{label:" ",value:P.startDate,onChange:G=>U({...P,startDate:G})}),u.jsx(Yr,{label:" ",value:P.startTime,onChange:G=>U({...P,startTime:G})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ni,{label:" ",value:P.endDate,onChange:G=>U({...P,endDate:G})}),u.jsx(Yr,{label:" ",value:P.endTime,onChange:G=>U({...P,endTime:G})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:G=>U({...P,downtime:G.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:G=>U({...P,repairTime:G.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&u.jsxs("div",{className:"space-y-4",children:[q.map(G=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1 ml-2",children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:G.name,onChange:se=>xe(G.id,"name",se.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[u.jsx("option",{value:"",children:"..."}),u.jsx("option",{value:" ",children:"  ()"}),u.jsx("option",{value:" ",children:"  ()"})]})]}),u.jsx("button",{type:"button",onClick:()=>J(M,G.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:u.jsx(Ft,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ni,{label:" ",value:G.startDate,onChange:se=>xe(G.id,"startDate",se)}),u.jsx(Yr,{label:" ",value:G.startTime,onChange:se=>xe(G.id,"startTime",se)}),u.jsx(ni,{label:" ",value:G.endDate,onChange:se=>xe(G.id,"endDate",se)}),u.jsx(Yr,{label:" ",value:G.endTime,onChange:se=>xe(G.id,"endTime",se)})]})]},G.id)),u.jsxs("button",{type:"button",onClick:me,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(Sn,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&u.jsxs("div",{className:"space-y-4",children:[W.map(G=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[u.jsx("button",{type:"button",onClick:()=>J(X,G.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),u.jsx("input",{type:"text",value:G.code,onChange:se=>Z(G.id,"code",se.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:G.name,onChange:se=>Z(G.id,"name",se.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:G.qty,onChange:se=>Z(G.id,"qty",Number(se.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:G.unit,onChange:se=>Z(G.id,"unit",se.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:w.length>0?w.map(se=>u.jsx("option",{value:se.title,children:se.title},se.id)):u.jsx("option",{value:"",children:""})})]})]})]},G.id)),u.jsxs("button",{type:"button",onClick:Re,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[u.jsx(Sn,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("input",{type:"file",ref:O,multiple:!0,className:"hidden",onChange:ye}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var G;return(G=O.current)==null?void 0:G.click()},children:[u.jsx(Ja,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),L.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),L.map(G=>u.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[u.jsx("span",{className:"text-sm truncate max-w-[200px]",children:G.name}),u.jsx("button",{type:"button",onClick:()=>J(K,G.id),className:"text-red-500",children:u.jsx(Ft,{className:"w-4 h-4"})})]},G.id))]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:u.jsxs("button",{disabled:!Ae()||b,type:"submit",className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 ${!Ae()||b?"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400 shadow-none":""}`,children:[b?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(di,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},Zle=()=>{const t=Vs(),[e,n]=k.useState([]),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[c,d]=k.useState(!1),[f,h]=k.useState([]),[g,y]=k.useState(""),[x,b]=k.useState("ALL"),[v,w]=k.useState(""),[_,N]=k.useState(""),[S,E]=k.useState(1),[T,A]=k.useState(10);k.useEffect(()=>{const O=EP();n(O.sort((P,U)=>U.createdAt.localeCompare(P.createdAt)))},[]),k.useEffect(()=>{let O=e;g&&(O=O.filter(P=>{var U;return P.title.includes(g)||P.trackingCode.includes(g)||((U=P.data)==null?void 0:U.equipName)&&P.data.equipName.includes(g)})),x!=="ALL"&&(O=O.filter(P=>C(P).includes(x))),v&&(O=O.filter(P=>P.createdAt>=v)),_&&(O=O.filter(P=>P.createdAt<=_)),i(O),E(1),h([])},[e,g,x,v,_]),k.useEffect(()=>{const O=(S-1)*T,P=O+T;a(r.slice(O,P))},[r,S,T]);const C=O=>{if(O.status==="DONE")return" ";const U=Au().find(M=>M.id===O.workflowId),q=U==null?void 0:U.steps.find(M=>M.id===O.currentStepId);return(q==null?void 0:q.title)||""},j=O=>{const P=C(O);let U="bg-gray-100 text-gray-600";return P.includes("")?U="bg-blue-100 text-blue-700":P.includes("")?U="bg-orange-100 text-orange-700":P.includes("")?U="bg-purple-100 text-purple-700":(P.includes("")||O.status==="DONE")&&(U="bg-green-100 text-green-700"),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${U}`,children:P})},I=O=>{O.target.checked?h(o.map(P=>P.id)):h([])},D=O=>{f.includes(O)?h(f.filter(P=>P!==O)):h([...f,O])},B=()=>{const O=f.length>0?e.filter(X=>f.includes(X.id)):r;if(O.length===0){alert("    .");return}const P=[" ","",""," ","",""],U=O.map(X=>{var L,K;return[X.trackingCode,((L=X.data)==null?void 0:L.equipName)||"-",X.title,((K=X.data)==null?void 0:K.requester)||"-",X.createdAt,C(X)]}),q="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+U.map(X=>X.join(",")).join(`
`),M=encodeURI(q),W=document.createElement("a");W.setAttribute("href",M),W.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(eP,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),u.jsxs("button",{onClick:B,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[u.jsx(KC,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:" "})]}),u.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[u.jsx(Sn,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[u.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1 w-full",children:[u.jsx(ds,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:O=>y(O.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),u.jsxs("button",{onClick:()=>d(!c),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${c?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[u.jsx(bc,{className:"w-5 h-5"}),u.jsx("span",{children:""}),c?u.jsx(zC,{className:"w-4 h-4"}):u.jsx(Xh,{className:"w-4 h-4"})]})]}),c&&u.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsxs("select",{value:x,onChange:O=>b(O.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:"  "}),u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/01/01",value:v,onChange:O=>w(O.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:O=>N(O.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),u.jsx("div",{className:"flex items-end",children:u.jsx("button",{onClick:()=>{b("ALL"),w(""),N(""),y("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-10",children:u.jsx("input",{type:"checkbox",onChange:I,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:"  / "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:" "}),u.jsx("th",{className:"p-4",children:""}),u.jsx("th",{className:"p-4",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(O=>{var P,U,q;return u.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(O.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[u.jsx("td",{className:"p-4",children:u.jsx("input",{type:"checkbox",checked:f.includes(O.id),onChange:()=>D(O.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),u.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:O.trackingCode}),u.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=O.data)==null?void 0:P.equipName)||"-"}),u.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((U=O.data)==null?void 0:U.failureDesc)||O.title}),u.jsx("td",{className:"p-4",children:((q=O.data)==null?void 0:q.requester)||""}),u.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:O.createdAt}),u.jsx("td",{className:"p-4",children:j(O)}),u.jsx("td",{className:"p-4",children:u.jsxs("button",{onClick:()=>l(O),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[u.jsx(hx,{className:"w-4 h-4"})," "]})})]},O.id)}):u.jsx("tr",{children:u.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[u.jsx(ds,{className:"w-12 h-12 mb-4 opacity-20"}),u.jsx("span",{children:"     ."})]})})})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{children:""}),u.jsxs("select",{value:T,onChange:O=>{A(Number(O.target.value)),E(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{children:"   "}),u.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:S===1,onClick:()=>E(O=>Math.max(1,O-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(xc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/T)||1]}),u.jsx("button",{disabled:S>=Math.ceil(r.length/T),onClick:()=>E(O=>O+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(Qh,{className:"w-4 h-4"})})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-lg",children:s.title}),u.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),u.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(Xt,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:u.jsx("div",{className:"pointer-events-none opacity-90",children:u.jsx(Pb,{initialData:s.data})})}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:u.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},eue=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],tue=({user:t})=>{const e=Vs(),[n,r]=k.useState("SELECT"),[i,o]=k.useState(eue),[a,s]=k.useState(""),l=(h,g)=>{o(y=>y.map(x=>x.id===h?{...x,status:g}:x))},c=()=>{r("SENDING"),setTimeout(()=>{s(np("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[u.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:u.jsx(oL,{className:"w-20 h-20 text-primary"})}),u.jsx("p",{className:"text-lg font-medium",children:" QR   "}),u.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),u.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:u.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return u.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"text-4xl animate-bounce",children:""}),u.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:"  101"}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{children:st()}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),u.jsx("span",{className:"text-gray-500",children:":"}),u.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[u.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),u.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>u.jsx("li",{children:g.desc},g.id))})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(gx,{className:"w-5 h-5"}),"  "]}),u.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(px,{className:"w-5 h-5"})," "]})]})]})}return u.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[u.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),u.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),u.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),u.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>u.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[u.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[u.jsx(cs,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[u.jsx(Xt,{className:"w-5 h-5"})," "]})]}):u.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[u.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),u.jsx(Xi,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[u.jsx(df,{className:"w-4 h-4"}),"  "]}),u.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:u.jsx("button",{disabled:d>0,onClick:c,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})},nue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState(!1),[s,l]=k.useState(!1),[c,d]=k.useState([]),[f,h]=k.useState([]),[g,y]=k.useState([]),[x,b]=k.useState([]),[v,w]=k.useState({mainCatId:"",subCatId:"",subSubCatId:"",search:""}),[_,N]=k.useState([]),[S,E]=k.useState({requestDate:st(),requestTime:hs(),workOrderId:"",description:""}),[T,A]=k.useState([]),[C,j]=k.useState({id:"",partId:"",partName:"",partCode:"",qty:1,unit:"",note:""}),[I,D]=k.useState(!1);k.useEffect(()=>{O(),B()},[]);const B=async()=>{const H=Nc("PART_REQUEST");i(H.map(ae=>({...ae,...ae.data})))},O=async()=>{a(!0);const[H,ae,me,xe]=await Promise.all([Le("part_categories"),Le("parts"),Le("measurement_units"),Be.from("cartable_items").select("*").eq("module","WORK_ORDER").neq("status","DONE")]);d(H||[]),h(ae||[]),y(me||[]),b(xe.data||[]),me&&me.length>0&&j(Re=>({...Re,unit:me[0].title})),a(!1)};k.useEffect(()=>{let H=f;if(v.subSubCatId)H=H.filter(ae=>ae.category_id===v.subSubCatId);else if(v.subCatId){const ae=c.filter(me=>me.parent_id===v.subCatId).map(me=>me.id);H=H.filter(me=>ae.includes(me.category_id))}else if(v.mainCatId){const ae=c.filter(xe=>xe.parent_id===v.mainCatId).map(xe=>xe.id),me=c.filter(xe=>ae.includes(xe.parent_id)).map(xe=>xe.id);H=H.filter(xe=>me.includes(xe.category_id))}if(v.search){const ae=v.search.toLowerCase();H=H.filter(me=>me.name&&me.name.toLowerCase().includes(ae)||me.code&&me.code.toLowerCase().includes(ae))}N(H)},[v,f,c]);const P=H=>{var xe,Re;const ae=f.find(Z=>Z.id===H);if(!ae)return;const me=((xe=g.find(Z=>Z.id===ae.consumption_unit_id))==null?void 0:xe.title)||((Re=g[0])==null?void 0:Re.title)||"";j(Z=>({...Z,partId:ae.id,partName:ae.name,partCode:ae.code,unit:me}))},U=()=>{if(!C.partId&&!C.partName){alert("          .");return}if(C.qty<=0){alert("     .");return}const H={...C,id:Math.random().toString()};A(ae=>[...ae,H]),j({id:"",partId:"",partName:"",partCode:"",qty:1,unit:C.unit,note:""})},q=H=>{j(H),D(!0),A(ae=>ae.filter(me=>me.id!==H.id))},M=()=>{var H;!C.partName||C.qty<=0||(A(ae=>[...ae,C]),D(!1),j({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((H=g[0])==null?void 0:H.title)||"",note:""}))},W=H=>{window.confirm("      ")&&A(ae=>ae.filter(me=>me.id!==H))},X=async H=>{if(H.preventDefault(),T.length===0){alert("   .      .");return}if(!S.workOrderId&&!S.description.trim()){alert("       ( )  .");return}l(!0);try{const ae=new Date,me=st().split("/"),xe=await Ec("P"),Re=x.find(G=>G.id===S.workOrderId),Z=Re?Re.tracking_code:null,ye={tracking_code:xe,requester_id:t.id,requester_name:t.fullName,work_order_id:S.workOrderId||null,work_order_code:Z,request_date:S.requestDate,description:S.description||(Re?`   ${Re.title}`:""),status:"PENDING"},{data:J,error:Y}=await Be.from("part_requests").insert([ye]).select().single();if(Y)throw Y;const Ae=T.map(G=>({request_id:J.id,part_id:G.partId||null,part_name:G.partName,qty:G.qty,unit:G.unit,note:G.note})),{error:ve}=await Be.from("part_request_items").insert(Ae);if(ve)throw ve;Qi("PART_REQUEST",{...ye,items:T},t,xe,` : ${T.length} `),alert(`    ${xe}    .`),n("LIST"),B(),A([]),E({requestDate:st(),requestTime:hs(),workOrderId:"",description:""})}catch(ae){console.error(ae),alert("   : "+ae.message)}finally{l(!1)}},L=c.filter(H=>H.level_type==="MAIN"),K=c.filter(H=>H.level_type==="SUB"&&(!v.mainCatId||H.parent_id===v.mainCatId)),re=c.filter(H=>H.level_type==="SUB_SUB"&&(!v.subCatId||H.parent_id===v.subCatId));return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(wi,{title:"   ",icon:Hl,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:H=>u.jsx("span",{className:"font-mono font-bold",children:H.trackingCode})},{header:" ",accessor:H=>H.createdAt},{header:"  ",accessor:H=>{var ae;return((ae=H.data)==null?void 0:ae.work_order_code)||"-"}},{header:" ",accessor:H=>{var ae,me;return u.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded font-bold",children:((me=(ae=H.data)==null?void 0:ae.items)==null?void 0:me.length)||0})}},{header:" ",accessor:H=>{var ae;return((ae=H.data)==null?void 0:ae.requester_name)||t.fullName}},{header:"",accessor:H=>u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${H.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:H.status==="PENDING"?"  ":" "})}]})}):u.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(Hl,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"   / "}),u.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(Xt,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4",children:"  "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm",children:t.fullName})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-mono text-center",children:S.requestDate})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  "}),u.jsxs("select",{value:S.workOrderId,onChange:H=>E({...S,workOrderId:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-600 text-sm outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"  ()"}),x.map(H=>u.jsxs("option",{value:H.id,children:[H.tracking_code," - ",H.title]},H.id))]})]}),!S.workOrderId&&u.jsxs("div",{className:"md:col-span-3 animate-fadeIn",children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:S.description,onChange:H=>E({...S,description:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:"    ..."})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4 flex items-center gap-2",children:[u.jsx(Sn,{className:"w-5 h-5 text-green-600"}),I?"  ":"  "]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-blue-700 mb-2",children:[u.jsx(bc,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2",children:[u.jsxs("select",{value:v.mainCatId,onChange:H=>w({...v,mainCatId:H.target.value,subCatId:"",subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",children:[u.jsx("option",{value:"",children:"  "}),L.map(H=>u.jsx("option",{value:H.id,children:H.name},H.id))]}),u.jsxs("select",{value:v.subCatId,onChange:H=>w({...v,subCatId:H.target.value,subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",disabled:!v.mainCatId,children:[u.jsx("option",{value:"",children:"  "}),K.map(H=>u.jsx("option",{value:H.id,children:H.name},H.id))]}),u.jsxs("select",{value:v.subSubCatId,onChange:H=>w({...v,subSubCatId:H.target.value}),className:"p-2 rounded border outline-none text-xs",disabled:!v.subCatId,children:[u.jsx("option",{value:"",children:" "}),re.map(H=>u.jsx("option",{value:H.id,children:H.name},H.id))]}),u.jsxs("div",{className:"relative",children:[u.jsx(ds,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:" /...",value:v.search,onChange:H=>w({...v,search:H.target.value}),className:"w-full p-2 pl-8 rounded border outline-none text-xs"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:C.partId,onChange:H=>P(H.target.value),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:"--     --"}),_.map(H=>u.jsxs("option",{value:H.id,children:[H.name," ",H.code?`(${H.code})`:""]},H.id))]}),u.jsx("div",{className:"mt-1 text-xs text-gray-400",children:_.length===0?"   .":`${_.length}   .`})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (   )"}),u.jsx("input",{type:"text",value:C.partName,onChange:H=>j({...C,partName:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",min:"0.01",step:"0.01",value:C.qty,onChange:H=>j({...C,qty:Number(H.target.value)}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-center font-bold"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:C.unit,onChange:H=>j({...C,unit:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",children:g.map(H=>u.jsx("option",{value:H.title,children:H.title},H.id))})]})]}),u.jsx("div",{className:"mt-3",children:u.jsx("input",{type:"text",value:C.note,onChange:H=>j({...C,note:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-sm",placeholder:"     ()..."})}),u.jsx("div",{className:"mt-4 flex justify-end",children:I?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{var H;D(!1),j({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((H=g[0])==null?void 0:H.title)||"",note:""})},className:"px-4 py-2 border rounded-lg text-gray-500 hover:bg-gray-100",children:""}),u.jsx("button",{onClick:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg",children:""})]}):u.jsxs("button",{onClick:U,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg flex items-center justify-center gap-2 font-bold transition transform active:scale-95",children:[u.jsx(Sn,{className:"w-5 h-5"}),"   "]})})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 flex justify-between items-center",children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[u.jsx(YC,{className:"w-5 h-5"}),"   "]}),u.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full",children:T.length})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[500px]",children:T.length===0?u.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[u.jsx(Hl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"    ."]}):T.map((H,ae)=>u.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border border-gray-100 dark:border-gray-600 shadow-sm hover:shadow-md transition relative group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:H.partName}),u.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-600 px-1.5 py-0.5 rounded font-mono text-gray-500",children:H.partCode||"---"})]}),u.jsxs("div",{className:"text-sm text-blue-600 font-bold mb-1",children:[H.qty," ",H.unit]}),H.note&&u.jsx("div",{className:"text-xs text-gray-500 italic border-t pt-1 mt-1",children:H.note}),u.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-gray-800/80 rounded p-0.5 backdrop-blur-sm",children:[u.jsx("button",{onClick:()=>q(H),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",children:u.jsx(ep,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>W(H.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})]})]},H.id))}),u.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("button",{onClick:X,disabled:T.length===0||s||!S.workOrderId&&!S.description,className:"w-full bg-primary text-white py-3 rounded-xl shadow-xl hover:bg-red-800 transition font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(di,{className:"w-5 h-5"}),"  "]})})]})})]})]})},rue=()=>{const[t,e]=k.useState("LIST"),[n,r]=k.useState([]),[i,o]=k.useState(!1),[a,s]=k.useState(!1),l=k.useRef(null),[c,d]=k.useState(null),[f,h]=k.useState({code:"",name:"",type:""});k.useEffect(()=>{g()},[t]);const g=async()=>{o(!0);try{const{data:_,error:N}=await Be.from("technical_documents").select("*").order("created_at",{ascending:!1});if(N)throw N;r(_||[])}catch(_){console.error("Error fetching documents:",_)}finally{o(!1)}},y=()=>{var _;(_=l.current)==null||_.click()},x=_=>{_.target.files&&_.target.files[0]&&d(_.target.files[0])},b=()=>f.code.trim()!==""&&f.name.trim()!==""&&f.type!=="",v=async _=>{if(_.preventDefault(),!!b()){s(!0);try{const N={code:f.code,title:f.name,type:f.type,file_name:c?c.name:" "},{error:S}=await Be.from("technical_documents").insert([N]);if(S)throw S;alert("    ."),h({code:"",name:"",type:""}),d(null),l.current&&(l.current.value=""),e("LIST"),g()}catch(N){alert("   : "+N.message)}finally{s(!1)}}},w=async _=>{if(window.confirm("      "))try{const{error:N}=await Be.from("technical_documents").delete().eq("id",_.id);if(N)throw N;r(S=>S.filter(E=>E.id!==_.id))}catch(N){alert("  : "+N.message)}};return t==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx("button",{onClick:g,className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:u.jsx(gf,{className:`w-5 h-5 ${i?"animate-spin":""}`})})}),u.jsx(wi,{title:"  ",icon:Vl,data:n,onAdd:()=>e("NEW"),onDelete:w,columns:[{header:" ",accessor:_=>u.jsx("span",{className:"font-mono font-bold",children:_.code})},{header:" ",accessor:_=>_.title},{header:" ",accessor:_=>_.type},{header:" ",accessor:_=>_.file_name||"-"},{header:" ",accessor:_=>new Date(_.created_at).toLocaleDateString("fa-IR")}]})]}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vl,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),u.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit border border-gray-200 dark:border-gray-700",children:u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:f.code,onChange:_=>h({...f,code:_.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:": MAP-101"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:f.name,onChange:_=>h({...f,name:_.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:"   ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:f.type,onChange:_=>h({...f,type:_.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all cursor-pointer",required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"MAP",children:" "}),u.jsx("option",{value:"CATALOG",children:"  "}),u.jsx("option",{value:"MANUAL",children:" "}),u.jsx("option",{value:"OTHER",children:" "})]})]}),u.jsx("input",{type:"file",ref:l,onChange:x,className:"hidden"}),u.jsxs("div",{onClick:y,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all mt-6
                ${c?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[u.jsx(wu,{className:`w-10 h-10 mx-auto mb-4 ${c?"text-green-600":"text-gray-400"}`}),u.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:c?c.name:"    "}),u.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),u.jsxs("div",{className:"flex gap-3 pt-6 border-t dark:border-gray-700 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsxs("button",{type:"submit",disabled:!b()||a,className:`flex-[2] py-3 rounded-xl shadow-lg font-bold transition-all flex items-center justify-center gap-2
                        ${b()&&!a?"bg-primary text-white hover:bg-red-800 cursor-pointer transform active:scale-95":"bg-gray-300 text-gray-500 dark:bg-gray-700 dark:text-gray-400 cursor-not-allowed opacity-70"}
                    `,children:[a?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(Vl,{className:"w-5 h-5"}),"  "]})]})]})})]})},MN=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=k.useState(!1),a=k.useRef(null),s=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),l=Array.from({length:12},(g,y)=>String(y*5).padStart(2,"0"));k.useEffect(()=>{const g=y=>{a.current&&!a.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[c,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${c==="--"?"00":c}:${g}`),o(!1)};return u.jsxs("div",{className:"relative",ref:a,children:[n&&u.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),u.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[u.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),u.jsx(Zh,{className:"w-4 h-4 text-gray-400"})]}),i&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>u.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),u.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),u.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>u.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${c===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},iue={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},fO=({className:t})=>{const e=()=>{try{return`${iue&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return u.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})},oue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState(!1),[s,l]=k.useState(!1),[c,d]=k.useState([]),[f,h]=k.useState([]),[g,y]=k.useState(null);k.useEffect(()=>{x(),Le("personnel").then(d),Le("org_chart").then(h),b()},[e]);const x=async()=>{a(!0);const{data:J}=await Be.from("meeting_minutes").select("*").order("created_at",{ascending:!1});J&&i(J),a(!1)},b=async()=>{const{data:J}=await Be.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();J&&y(J.avatar)},[v,w]=k.useState({subject:"",location:"",meetingDate:st(),startTime:"",endTime:""}),[_,N]=k.useState([]),[S,E]=k.useState(""),[T,A]=k.useState(null),[C,j]=k.useState([]),[I,D]=k.useState({name:"",role:""});k.useRef(null);const[B,O]=k.useState([]),[P,U]=k.useState(null),q=()=>{if(!I.name||!I.role){alert("      ");return}j([...C,I]),D({name:"",role:""})},M=J=>{j(C.filter((Y,Ae)=>Ae!==J))},W=()=>{S.trim()&&(T?(N(_.map(J=>J.id===T?{...J,text:S}:J)),A(null)):N([..._,{id:Math.random().toString(),text:S}]),E(""))},X=J=>{E(J.text),A(J.id)},L=J=>{N(_.filter(Y=>Y.id!==J))},K=J=>{const Y=["","","","","","","","","",""];return J.toString().replace(/\d/g,Ae=>Y[parseInt(Ae)])},re=()=>{if(!v.startTime||!v.endTime)return!1;const[J,Y]=v.startTime.split(":").map(Number),[Ae,ve]=v.endTime.split(":").map(Number);return Ae>J||Ae===J&&ve>Y},H=()=>v.subject&&re()&&C.length>0&&_.length>0,ae=()=>{v.subject||C.length>0?window.confirm("        ")&&(me(),n("LIST")):(me(),n("LIST"))},me=()=>{w({subject:"",location:"",meetingDate:st(),startTime:"",endTime:""}),j([]),N([]),O([]),U(null)},xe=async J=>{if(J.preventDefault(),!H())return;l(!0);let Y=null,Ae="";try{Ae=await Ec("G");const G=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id)?t.id:null;Y={tracking_code:Ae,subject:v.subject,location:v.location,meeting_date:v.meetingDate,start_time:v.startTime,end_time:v.endTime,attendees:C,decisions:_,attached_files:B.map(ge=>({name:ge.name||"unknown",size:ge.size||0,type:ge.type||"application/octet-stream"})),creator_id:G,status:"PENDING"};const{error:se}=await Be.from("meeting_minutes").insert([Y]);if(se)throw se;Qi("MEETING",Y,t,Ae,`: ${v.subject}`),alert("    ."),U(Y),n("VIEW")}catch(ve){console.error("Submission Error:",ve);const G=(ve==null?void 0:ve.message)||(ve==null?void 0:ve.error_description)||(typeof ve=="object"?JSON.stringify(ve):String(ve))||" ";if(alert(`   : 
${G}

            .`),Y){try{Qi("MEETING",Y,t,Ae||"OFFLINE",` (): ${v.subject}`)}catch(se){console.warn("Local save warning:",se)}U(Y),n("VIEW")}}finally{l(!1)}},Re=()=>{window.print()},Z=async()=>{if(navigator.share)try{await navigator.share({title:` ${P.subject}`,text:`  ${P.tracking_code}  ${P.meeting_date}`,url:window.location.href})}catch(J){console.error("Error sharing:",J)}else Re()},ye=J=>{U(J),O(J.attached_files||[]),n("VIEW")};return e==="VIEW"&&P?u.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[u.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 210mm !important; min-height: 297mm !important; padding: 20mm !important; margin: 0 !important; box-shadow: none !important; }
                      aside, header, footer { display: none !important; }
                  }
              `}),u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-sm space-y-6 font-sans box-border w-[210mm] min-h-[297mm] p-[20mm]",children:[u.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-6 relative min-h-[100px]",children:[u.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 flex items-center justify-center shadow-sm",children:g?u.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx(fO,{className:"w-full h-full object-contain"})}),u.jsxs("div",{className:"flex flex-col items-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020] whitespace-nowrap",children:"     "}),u.jsx("span",{className:"text-sm font-bold text-gray-700 mt-2 bg-gray-100 px-4 py-1 rounded-full border border-gray-200",children:" "})]}),u.jsxs("div",{className:"w-48 text-xs flex flex-col gap-2 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-mono font-bold text-sm text-[#800020]",children:P.tracking_code})]}),u.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-mono font-bold",children:P.meeting_date})]}),u.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500 font-bold",children:":"}),u.jsx("span",{className:"font-bold",children:B.length>0?"":""})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold",children:P.subject})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold",children:P.location||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold font-mono",children:P.start_time})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:" :"})," ",u.jsx("span",{className:"font-bold font-mono",children:P.end_time})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:"  "}),u.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100",children:[u.jsx("th",{className:"border border-gray-300 p-2 w-10",children:""}),u.jsx("th",{className:"border border-gray-300 p-2",children:"   "}),u.jsx("th",{className:"border border-gray-300 p-2",children:" / "}),u.jsx("th",{className:"border border-gray-300 p-2",children:""})]})}),u.jsx("tbody",{children:P.attendees.map((J,Y)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 p-2",children:K(Y+1)}),u.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:J.name}),u.jsx("td",{className:"border border-gray-300 p-2",children:J.role}),u.jsx("td",{className:"border border-gray-300 p-2"})]},Y))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:" "}),u.jsx("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4 min-h-[200px]",children:P.decisions.map((J,Y)=>u.jsxs("div",{className:"flex gap-2 text-justify leading-relaxed border-b border-dashed border-gray-200 pb-2 last:border-0",children:[u.jsxs("span",{className:"font-bold text-[#800020]",children:[K(Y+1),"."]}),u.jsx("span",{children:J.text})]},Y))})]}),u.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[u.jsxs("button",{onClick:()=>n("LIST"),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[u.jsx(px,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:Re,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold",children:[u.jsx(gy,{className:"w-5 h-5"}),"  (PDF)"]}),u.jsxs("button",{onClick:Z,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold",children:[u.jsx(gx,{className:"w-5 h-5"}),"  "]})]})]})]}):e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(wi,{title:" ",icon:hf,data:r,onAdd:()=>{me(),n("NEW")},columns:[{header:" ",accessor:J=>u.jsx("span",{className:"font-mono font-bold",children:J.tracking_code})},{header:" ",accessor:J=>u.jsx("span",{className:"font-bold",children:J.subject})},{header:" ",accessor:J=>J.meeting_date},{header:"",accessor:J=>`${J.start_time} - ${J.end_time}`},{header:"",accessor:J=>J.location},{header:"",accessor:J=>{var Y;return u.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded font-bold",children:[((Y=J.decisions)==null?void 0:Y.length)||0," "]})}}],onViewDetails:ye})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(hf,{className:"w-8 h-8 text-primary"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:ae,className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:xe,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:v.subject,onChange:J=>w({...v,subject:J.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"  ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),u.jsx("input",{type:"text",value:v.location,onChange:J=>w({...v,location:J.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),u.jsx("div",{children:u.jsx(ni,{label:" ",value:v.meetingDate,onChange:J=>w({...v,meetingDate:J})})}),u.jsx("div",{children:u.jsx(MN,{label:" ",value:v.startTime,onChange:J=>w({...v,startTime:J})})}),u.jsx("div",{children:u.jsx(MN,{label:" ",value:v.endTime,onChange:J=>w({...v,endTime:J}),error:v.endTime&&!re()?"      ":void 0})})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[u.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[u.jsx(Gs,{className:"w-4 h-4"}),"    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3 items-end",children:[u.jsxs("div",{className:"flex-[1] min-w-0",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),u.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:I.name,onChange:J=>D({...I,name:J.target.value}),children:[u.jsx("option",{value:"",children:"..."}),c.map(J=>u.jsx("option",{value:J.full_name,children:J.full_name},J.id))]})]}),u.jsxs("div",{className:"flex-[2] min-w-0",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" / "}),u.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:I.role,onChange:J=>D({...I,role:J.target.value}),children:[u.jsx("option",{value:"",children:"..."}),f.map(J=>u.jsx("option",{value:J.name,children:J.name},J.id))]})]}),u.jsx("button",{type:"button",onClick:q,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 h-[38px] w-[38px] flex items-center justify-center",children:u.jsx(Sn,{className:"w-5 h-5"})})]}),C.length>0?u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:C.map((J,Y)=>u.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-bold",children:J.name}),u.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),u.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:J.role})]}),u.jsx("button",{type:"button",onClick:()=>M(Y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})]},Y))}):u.jsx("p",{className:"text-xs text-gray-500 text-center py-2 bg-white/50 rounded border border-dashed",children:"    ."})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[u.jsx(ff,{className:"w-4 h-4"}),"   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:S,onChange:J=>E(J.target.value),placeholder:" ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),W())}),u.jsx("button",{type:"button",onClick:W,className:`bg-green-600 text-white px-4 rounded-lg hover:bg-green-700 transition ${S.trim()?"":"opacity-50 cursor-not-allowed"}`,children:T?u.jsx(di,{className:"w-5 h-5"}):u.jsx(Sn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[_.length===0&&u.jsx("p",{className:"text-sm text-gray-400 text-center py-2 italic",children:"   ."}),_.map((J,Y)=>u.jsxs("div",{className:"flex justify-between items-start bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 group",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 mt-0.5",children:K(Y+1)}),u.jsx("span",{className:"text-sm text-justify leading-relaxed",children:J.text})]}),u.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{type:"button",onClick:()=>X(J),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:u.jsx(ep,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>L(J.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})]})]},J.id))]})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[u.jsx("button",{type:"button",onClick:ae,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",children:""}),u.jsxs("button",{type:"submit",disabled:!H()||s,className:`flex-[2] text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition
                    ${H()&&!s?"bg-primary":"bg-gray-400 cursor-not-allowed"}
                `,children:[s?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(di,{className:"w-5 h-5"}),"   "]})]})]})]})},aue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]);k.useEffect(()=>{const y=Nc("SUGGESTION");i(y.map(x=>({...x,...x.data})))},[e]);const[o,a]=k.useState(""),s=k.useRef(null),[l,c]=k.useState([]),d=y=>{if(y.preventDefault(),!o.trim())return;const x=np("H");Qi("SUGGESTION",{text:o},t,x,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),c([])},f=()=>{var y;(y=s.current)==null||y.click()},h=y=>{y.target.files&&y.target.files.length>0&&c([...l,...Array.from(y.target.files)])},g=y=>{c(l.filter((x,b)=>b!==y))};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(wi,{title:" ",icon:mf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>y.title},{header:" ",accessor:y=>y.createdAt},{header:" ",accessor:y=>y.description.split("")[1]||t.fullName},{header:"",accessor:y=>u.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:y.status==="PENDING"?"  ":"  "})}]})}):u.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mf,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:st(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:o,onChange:y=>a(y.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),u.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:u.jsx(Xi,{className:"w-6 h-6"})})]})]}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Ja,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&u.jsx("div",{className:"mt-4 space-y-2",children:l.map((y,x)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[200px]",children:y.name}),u.jsx("button",{type:"button",onClick:()=>g(x),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})]},x))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[u.jsx(yf,{className:"w-5 h-5"}),"  "]})]})]})]})},sue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]);k.useEffect(()=>{const N=Nc("PURCHASE");i(N.map(S=>({...S,...S.data}))),Le("measurement_units").then(a)},[e]);const[s,l]=k.useState(""),[c,d]=k.useState(st()),[f,h]=k.useState(null),[g,y]=k.useState(""),[x,b]=k.useState(1),[v,w]=k.useState("");k.useEffect(()=>{o.length>0&&!v&&w(o[0].title)},[o]);const _=N=>{if(N.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const E=np("K");Qi("PURCHASE",{requestNumber:s,requestDate:c,desc:g,qty:x,unit:v},t,E,`: ${g.substring(0,15)}...`),alert("   "),n("LIST"),l(""),y(""),b(1),d(st())};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(wi,{title:" ",icon:vf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:N=>N.trackingCode},{header:" ",accessor:N=>u.jsx("span",{className:"font-mono font-bold",children:N.requestNumber})},{header:" ",accessor:N=>N.desc},{header:"",accessor:N=>N.qty+" "+(N.unit||"")},{header:"",accessor:N=>N.requestDate||N.createdAt},{header:"",accessor:N=>N.status==="PENDING"?" ":" "}]})}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vf,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),u.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(Xt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:s,onChange:N=>{l(N.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&u.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[u.jsx(HC,{className:"w-3 h-3"}),u.jsx("span",{children:f})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsx(ni,{value:c,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("select",{className:"input-field",children:[u.jsx("option",{children:" ( )"}),u.jsx("option",{children:" ()"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label-text",children:""}),u.jsxs("select",{className:"input-field",children:[u.jsx("option",{children:""}),u.jsx("option",{children:""}),u.jsx("option",{children:" ( )"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label-text",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:g,onChange:N=>y(N.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),u.jsx(Xi,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:x,onChange:N=>b(Number(N.target.value)),className:"input-field",required:!0})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsxs("label",{className:"label-text",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:v,onChange:N=>w(N.target.value),className:"input-field",children:o.length>0?o.map(N=>u.jsx("option",{value:N.title,children:N.title},N.id)):u.jsx("option",{value:"",children:""})})]}),u.jsxs("div",{className:"col-span-1",children:[u.jsx("label",{className:"label-text",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),u.jsx(Xi,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),u.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),u.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},lue=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=k.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const c=new FileReader;c.onloadend=()=>{const d=c.result;e({...t,avatar:d})},c.readAsDataURL(s)}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:" "}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?u.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),u.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:u.jsx(df,{className:"w-4 h-4"})}),u.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),u.jsx("p",{className:"text-gray-500",children:t.role})]})]}),u.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:u.jsx(sL,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium block",children:"  "}),u.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold border-b pb-2",children:""}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"  "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-1",children:"   "}),u.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),u.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},uue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(!1);k.useEffect(()=>{const L=Nc("PROJECT");i(L.map(K=>({...K,...K.data}))),Le("personnel").then(a)},[e]);const[c,d]=k.useState({title:"",manager:"",managerId:"",budget:0,startDate:st(),endDate:""}),[f,h]=k.useState([]),[g,y]=k.useState(""),[x,b]=k.useState(null),[v,w]=k.useState([]),[_,N]=k.useState({title:"",weight:10}),S=k.useRef(null),[E,T]=k.useState([]),A=()=>{g.trim()&&(x?(h(f.map(L=>L.id===x?{...L,text:g}:L)),b(null)):h([...f,{id:Math.random().toString(),text:g}]),y(""))},C=L=>{y(L.text),b(L.id)},j=L=>{h(f.filter(K=>K.id!==L))},I=()=>{if(!_.title)return;const L=v.reduce((K,re)=>K+re.weight,0);if(L+_.weight>100){alert(`      .  : ${100-L}`);return}w([...v,{id:Math.random().toString(),title:_.title,weight:_.weight,progress:0}]),N({title:"",weight:10})},D=L=>{w(v.filter(K=>K.id!==L))},B=()=>{const L=v.reduce((re,H)=>re+H.weight,0);if(L===0)return 0;const K=v.reduce((re,H)=>re+H.progress*H.weight,0);return Math.round(K/L)},O=L=>{if(L.target.files&&L.target.files.length>0){const K=Array.from(L.target.files),re=K.filter(H=>H.size<=10*1024*1024);re.length!==K.length&&alert("          ."),T(H=>[...H,...re])}S.current&&(S.current.value="")},P=L=>{T(K=>K.filter((re,H)=>H!==L))},U=L=>{const K=L.target.value,re=o.find(H=>H.id===K);d(re?{...c,managerId:re.id,manager:re.full_name}:{...c,managerId:"",manager:""})},q=()=>{const L=v.reduce((K,re)=>K+re.weight,0);return c.title&&c.managerId&&c.budget&&f.length>0&&(v.length===0||L===100)},M=async L=>{if(L.preventDefault(),!!q()){l(!0);try{const K=new Date,re=tp(K.getFullYear(),K.getMonth()+1,K.getDate()),H=`P${String(re.jy).substring(2)}${String(re.jm).padStart(2,"0")}`,ae=await Ec(H),me={...c,objectives:f,milestones:v,fileNames:E.map(xe=>xe.name),progress:B()};Qi("PROJECT",me,t,ae,`: ${c.title}`),alert(`    ${ae}        .`),W()}catch(K){console.error(K),alert("   .    .")}finally{l(!1)}}},W=()=>{n("LIST"),d({title:"",manager:"",managerId:"",budget:0,startDate:st(),endDate:""}),h([]),w([]),T([]),y(""),b(null)},X=()=>{c.title||f.length>0?window.confirm("       ")&&W():W()};return e==="LIST"?u.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:u.jsx(wi,{title:"   ",icon:cf,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:L=>u.jsx("span",{className:"font-mono font-bold",children:L.trackingCode})},{header:" ",accessor:L=>u.jsx("span",{className:"font-bold",children:L.title})},{header:" ",accessor:L=>L.manager},{header:" ",accessor:L=>L.startDate},{header:" ()",accessor:L=>Number(L.budget).toLocaleString()},{header:"",accessor:L=>u.jsxs("div",{className:"w-24",children:[u.jsx("div",{className:"flex justify-between text-xs mb-1",children:u.jsxs("span",{children:[L.progress||0,"%"]})}),u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500",style:{width:`${L.progress||0}%`}})})]})},{header:"",accessor:L=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:L.status==="PENDING"?"  ":" "})}]})}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(cf,{className:"w-8 h-8 text-primary"}),u.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),u.jsxs("form",{onSubmit:M,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{value:c.title,onChange:L=>d({...c,title:L.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:c.managerId,onChange:U,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"",children:" ..."}),o.map(L=>u.jsxs("option",{value:L.id,children:[L.full_name," (",L.unit,")"]},L.id))]})]}),u.jsx("div",{children:u.jsx(ni,{label:" ",value:c.startDate||"",onChange:L=>d({...c,startDate:L}),disableFuture:!1})}),u.jsx("div",{children:u.jsx(ni,{label:"  ()",value:c.endDate||"",onChange:L=>d({...c,endDate:L}),disableFuture:!1})}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:c.budget,onChange:L=>d({...c,budget:Number(L.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-2 flex items-center gap-2",children:[u.jsx(ff,{className:"w-5 h-5"}),"     ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),placeholder:"      ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:L=>L.key==="Enter"&&(L.preventDefault(),A())}),u.jsx("button",{type:"button",onClick:A,className:`bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700 transition ${g.trim()?"":"opacity-50 cursor-not-allowed"}`,children:x?u.jsx(di,{className:"w-5 h-5"}):u.jsx(Sn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[f.length===0&&u.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"   ."}),f.map((L,K)=>u.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",children:K+1}),u.jsx("span",{className:"text-sm",children:L.text})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>C(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:u.jsx(ep,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:()=>j(L.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})]})]},L.id))]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(fL,{className:"w-5 h-5"}),"   (WBS)"]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700 outline-none",value:_.title,onChange:L=>N({..._,title:L.target.value})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"number",placeholder:" ",className:"w-full p-2 border rounded-lg dark:bg-gray-700 text-center outline-none",value:_.weight,onChange:L=>N({..._,weight:Number(L.target.value)})}),u.jsx("span",{className:"absolute left-2 top-2 text-xs text-gray-400",children:"%"})]}),u.jsx("button",{type:"button",onClick:I,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:u.jsx(Sn,{className:"w-5 h-5"})})]}),v.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[u.jsx("span",{className:"col-span-8",children:" "}),u.jsx("span",{className:"col-span-2 text-center",children:" "}),u.jsx("span",{className:"col-span-2 text-center",children:""})]}),v.map(L=>u.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[u.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[u.jsx(ff,{className:"w-4 h-4 text-green-500"})," ",L.title]}),u.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1 text-sm font-bold",children:[L.weight,"%"]}),u.jsx("div",{className:"col-span-2 flex justify-center",children:u.jsx("button",{type:"button",onClick:()=>D(L.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Ft,{className:"w-4 h-4"})})})]},L.id)),u.jsxs("div",{className:"mt-2 text-left text-sm font-bold flex justify-end gap-2 items-center",children:[u.jsx("span",{children:" :"}),u.jsxs("span",{className:`px-2 py-1 rounded ${v.reduce((L,K)=>L+K.weight,0)===100?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[v.reduce((L,K)=>L+K.weight,0),"%"]})]})]}):u.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:S,multiple:!0,className:"hidden",onChange:O}),u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("label",{className:"font-bold text-sm flex items-center gap-2",children:[u.jsx(Ja,{className:"w-4 h-4"}),"  "]}),u.jsxs("button",{type:"button",onClick:()=>{var L;return(L=S.current)==null?void 0:L.click()},className:"text-blue-600 text-xs flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition border border-blue-200",children:[u.jsx(wu,{className:"w-3 h-3"}),"  "]})]}),E.length===0&&u.jsx("p",{className:"text-xs text-gray-400 italic",children:"     ()"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:E.map((L,K)=>u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[u.jsx(bu,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),u.jsx("span",{className:"text-xs truncate",children:L.name}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",(L.size/1024/1024).toFixed(2)," MB)"]})]}),u.jsx("button",{type:"button",onClick:()=>P(K),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:u.jsx(Xt,{className:"w-3 h-3"})})]},K))})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[u.jsxs("button",{type:"button",onClick:X,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2 transition",children:[u.jsx(Xt,{className:"w-5 h-5"})," "]}),u.jsxs("button",{type:"submit",disabled:!q()||s,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition font-bold
                    ${q()&&!s?"bg-primary hover:bg-red-800":"bg-gray-400 cursor-not-allowed opacity-70"}
                `,children:[s?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(di,{className:"w-5 h-5"}),"     "]})]})]})]})},cue=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState(!1),[o,a]=k.useState([]),[s,l]=k.useState(!1),[c,d]=k.useState([]),[f,h]=k.useState([]),[g,y]=k.useState([]);k.useEffect(()=>{x(),Le("evaluation_periods").then(d),Le("evaluation_criteria").then(h),Le("personnel").then(y)},[e]);const x=async()=>{l(!0);try{const{data:T,error:A}=await Be.from("performance_evaluations").select("*").order("created_at",{ascending:!1});!A&&T&&a(T.map(C=>({...C,personnelName:C.personnel_name,totalScore:C.total_score,criteria:C.criteria_data})))}catch(T){console.error("Fetch Error:",T)}finally{l(!1)}},[b,v]=k.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});k.useEffect(()=>{c.length>0&&!b.period&&v(T=>({...T,period:c[0].title}))},[c]);const w=b.criteria.reduce((T,A)=>T+A.score,0),_=b.criteria.reduce((T,A)=>T+A.max,0),N=async T=>{var A;if(T.preventDefault(),!b.personnelId){alert("      .");return}if(b.criteria.length===0){alert("          .");return}l(!0);try{const C=await Ec("G"),j={tracking_code:C,personnel_id:b.personnelId,personnel_name:b.personnelName,unit:b.unit,period:b.period,total_score:w,criteria_data:b.criteria,evaluator_id:t.id,description:`  ${t.fullName}`,status:"PENDING"},{error:I}=await Be.from("performance_evaluations").insert([j]);if(I)throw I;Qi("PERFORMANCE",{...b,totalScore:w},t,C,` : ${b.personnelName} - ${b.period}`),alert(`     .
 : ${C}`),n("LIST"),v({personnelId:"",personnelName:"",unit:"",org_unit_id:"",period:((A=c[0])==null?void 0:A.title)||"",criteria:[]})}catch(C){console.error("Save Error:",C),alert("   : "+C.message)}finally{l(!1)}},S=(T,A)=>{const C=b.criteria[T].max;if(A>C){alert(`       (${C})  .`);return}const j=[...b.criteria];j[T].score=Math.max(0,A),v({...b,criteria:j})},E=T=>{const A=f.filter(j=>j.org_unit_id===T.org_unit_id),C=A.map(j=>({label:j.title,score:0,max:j.max_score}));v({...b,personnelId:T.id,personnelName:T.full_name,unit:T.unit,org_unit_id:T.org_unit_id,criteria:C}),i(!1),A.length===0&&alert(":        ()   .      .")};return e==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[s&&u.jsx("div",{className:"text-center py-4",children:u.jsx(hn,{className:"w-6 h-6 animate-spin mx-auto text-primary"})}),u.jsx(wi,{title:"  ",icon:dx,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:T=>u.jsx("span",{className:"font-mono font-bold",children:T.tracking_code||T.trackingCode})},{header:" ",accessor:T=>u.jsx("span",{className:"font-bold",children:T.personnelName})},{header:"",accessor:T=>T.unit},{header:" ",accessor:T=>T.period},{header:" ",accessor:T=>{const A=T.criteria?T.criteria.reduce((C,j)=>C+j.max,0):100;return u.jsxs("span",{className:`font-bold ${T.totalScore>=A*.8?"text-green-600":"text-orange-500"}`,children:[T.totalScore," / ",A]})}},{header:" ",accessor:T=>new Date(T.created_at).toLocaleDateString("fa-IR")}]})]}):u.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[u.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),u.jsxs("form",{onSubmit:N,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),b.personnelName?u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:b.personnelName}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",b.unit]})]}),u.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):u.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(Gs,{className:"w-5 h-5"}),"   "]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("select",{value:b.period,onChange:T=>v({...b,period:T.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:c.length>0?c.map(T=>u.jsx("option",{value:T.title,children:T.title},T.id)):u.jsx("option",{children:"   "})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[u.jsxs("h3",{className:"font-bold",children:["  ",b.unit?`( ${b.unit})`:""]}),b.unit&&u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[u.jsx(bu,{className:"w-3 h-3"}),"   "]})]}),b.personnelId?b.criteria.length>0?b.criteria.map((T,A)=>u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition animate-fadeIn",children:[u.jsxs("div",{className:"mb-2 md:mb-0",children:[u.jsxs("span",{className:"font-medium block",children:[A+1,". ",T.label]}),u.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",T.max]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"0",max:T.max,value:T.score,onChange:C=>S(A,Number(C.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),u.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",T.max]})]})]},A)):u.jsx("div",{className:"text-center p-6 bg-yellow-50 text-yellow-700 rounded-xl border border-yellow-200",children:u.jsxs("p",{children:['      "',b.unit,'"   .']})}):u.jsx("p",{className:"text-center text-gray-400 py-4 border-2 border-dashed rounded-xl",children:"          ."})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[u.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-4xl font-black text-primary",children:w}),u.jsxs("span",{className:"text-gray-500",children:["/ ",_||100]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),u.jsx("button",{type:"submit",disabled:b.criteria.length===0||s,className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):"   "})]})]})]}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsx("h3",{className:"font-bold text-lg",children:" "}),u.jsx("button",{onClick:()=>i(!1),children:u.jsx(Xt,{className:"w-5 h-5 text-gray-500"})})]}),u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(ds,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"   "}),u.jsx("th",{className:"p-3",children:" "}),u.jsx("th",{className:"p-3",children:""})]})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:g.length>0?g.map(T=>u.jsxs("tr",{onClick:()=>E(T),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[u.jsx("td",{className:"p-3 font-bold",children:T.full_name}),u.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:T.unit}),u.jsx("td",{className:"p-3",children:u.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:u.jsx(cs,{className:"w-4 h-4"})})})]},T.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},due=({user:t})=>{var y;const[e,n]=k.useState("WORK_ORDER"),[r,i]=k.useState([]),[o,a]=k.useState(null);k.useEffect(()=>{const x=O_(t);i(x)},[t,e]);const s=(x,b)=>{o&&(dU(o.id,x,t),a(null),i(O_(t)))},l=x=>{const v=c(o).find(w=>w.style==="primary"||w.style==="success");v&&o?(o.data=x,s(v.id)):alert("      .")},c=x=>{const v=Au().find(_=>_.id===x.workflowId);if(!v)return[];const w=v.steps.find(_=>_.id===x.currentStepId);return w?w.actions:[]},d=x=>{const v=Au().find(_=>_.id===x.workflowId),w=v==null?void 0:v.steps.find(_=>_.id===x.currentStepId);return(w==null?void 0:w.title)||""},f=x=>r.filter(b=>b.module===x).length,h=[{id:"WORK_ORDER",label:" ",icon:bu},{id:"PROJECT",label:"",icon:cf},{id:"PERFORMANCE",label:" ",icon:dx},{id:"PART_REQUEST",label:" ",icon:Hl},{id:"INSPECTION",label:" ",icon:WC},{id:"DOCUMENT",label:" ",icon:Vl},{id:"MEETING",label:"",icon:hf},{id:"SUGGESTION",label:"",icon:mf},{id:"PURCHASE",label:" ",icon:vf}],g=({item:x})=>{const b=c(x),[v,w]=k.useState("");return x.module==="WORK_ORDER"?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[u.jsx(bu,{className:"w-5 h-5 text-primary"}),x.title]}),u.jsx("span",{className:"text-xs text-gray-500",children:x.trackingCode})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:u.jsx(a_,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx(Pb,{initialData:x.data,onProcessComplete:l})})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:x.module}),u.jsx("span",{className:"text-gray-400 text-xs",children:x.trackingCode})]}),u.jsx("h2",{className:"text-xl font-bold",children:x.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.description})]}),u.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(a_,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(x.data).map(([_,N])=>typeof N=="object"||Array.isArray(N)||_==="id"?null:u.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[u.jsxs("span",{className:"text-gray-500",children:[_,":"]}),u.jsx("span",{className:"font-medium",children:String(N)})]},_))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),u.jsx("textarea",{value:v,onChange:_=>w(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),u.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:b.map(_=>{const N=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return u.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${N}`,children:_.label},_.id)})})]})};return o?u.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:u.jsx(g,{item:o})}):u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[u.jsx(pf,{className:"w-5 h-5"}),"  "]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(x=>u.jsxs("button",{onClick:()=>{n(x.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===x.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(x.icon,{className:"w-4 h-4"}),u.jsx("span",{children:x.label})]}),f(x.id)>0&&u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===x.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(x.id)})]},x.id))})]}),u.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("h3",{className:"font-bold",children:[" : ",(y=h.find(x=>x.id===e))==null?void 0:y.label]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(x=>x.module===e).length===0?u.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[u.jsx(Yh,{className:"w-12 h-12 mb-3 opacity-20"}),u.jsx("p",{children:"     ."})]}):r.filter(x=>x.module===e).map(x=>u.jsx("div",{onClick:()=>a(x),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:x.title}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(x)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[u.jsx(Zh,{className:"w-3 h-3"})," ",x.updatedAt]})]})]})},x.id))})]})})]})},fue=({user:t})=>{const[e,n]=k.useState("INBOX"),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[c,d]=k.useState(!1),[f,h]=k.useState([]),[g,y]=k.useState([]),[x,b]=k.useState(!1),v=k.useRef(null),[w,_]=k.useState("USER"),[N,S]=k.useState(""),[E,T]=k.useState(""),[A,C]=k.useState(""),[j,I]=k.useState(!1),[D,B]=k.useState([]),[O,P]=k.useState(""),U=k.useRef(null),[q,M]=k.useState(""),[W,X]=k.useState("newest"),[L,K]=k.useState(1),[re,H]=k.useState(10);k.useEffect(()=>{ae()},[t,e]),k.useEffect(()=>{K(1),M("")},[e]),k.useEffect(()=>{(async()=>{try{const fe=await Le("app_users"),F=await Le("personnel"),V=fe.map(oe=>{const z=F.find(le=>le.id===oe.personnel_id);return{id:oe.id,name:z?z.full_name:oe.username}});h(V)}catch(fe){console.error("Error loading users for messages:",fe)}})()},[]),k.useEffect(()=>{const ee=fe=>{v.current&&!v.current.contains(fe.target)&&b(!1)};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[]);const ae=async()=>{d(!0);try{const{inbox:ee,sent:fe}=await SP(t.id,t.role);i(ee),a(fe)}catch(ee){console.error("Failed to load messages",ee)}finally{d(!1)}},me=async ee=>{l(ee),e==="INBOX"&&!ee.readBy.includes(t.id)&&(i(fe=>fe.map(F=>F.id===ee.id?{...F,readBy:[...F.readBy,t.id]}:F)),await aU(ee,t.id))},xe=ee=>{y(fe=>fe.includes(ee)?fe.filter(F=>F!==ee):[...fe,ee])},Re=ee=>new Promise((fe,F)=>{const V=new FileReader;V.readAsDataURL(ee),V.onload=()=>{fe(V.result)},V.onerror=oe=>{F(oe)}}),Z=ee=>{if(ee.target.files&&ee.target.files.length>0){const fe=Array.from(ee.target.files),F=5*1024*1024,V=fe.filter(oe=>oe.size>F?(alert(` ${oe.name}        .`),!1):!0);B(oe=>[...oe,...V])}U.current&&(U.current.value="")},ye=ee=>{B(fe=>fe.filter((F,V)=>V!==ee))},J=async ee=>{ee.preventDefault();let fe="";if(w==="USER"){if(g.length===0){alert("      ");return}fe=g}else if(w==="ALL")fe="ALL";else{if(!N){alert("    ");return}fe=N}I(!0),P("");try{const F=[];for(const V of D){const oe=await Re(V);F.push({name:V.name,size:V.size,type:V.type,data:oe})}await oU(t,fe,w,E,A,F),P("    "),T(""),C(""),S(""),y([]),B([]),ae(),setTimeout(()=>{P(""),n("SENT")},3e3)}catch(F){alert("   : "+(F.message||" ")),console.error(F)}finally{I(!1)}},Y=ee=>ee.readBy&&ee.readBy.length>0?u.jsx("span",{title:" ",className:"flex text-blue-500",children:u.jsx(s_,{className:"w-4 h-4"})}):u.jsx("span",{title:" ",className:"flex text-gray-400",children:u.jsx(cs,{className:"w-4 h-4"})}),Ae=ee=>{if(ee.receiverType==="ALL")return" ";if(ee.receiverType==="GROUP")return` ${ee.receiverId}`;const fe=f.find(F=>F.id===ee.receiverId);return fe?fe.name:""},G=(()=>{let ee=e==="INBOX"?r:o;if(q){const fe=q.toLowerCase();ee=ee.filter(F=>F.subject.toLowerCase().includes(fe)||F.body.toLowerCase().includes(fe)||F.senderName.toLowerCase().includes(fe)||e==="SENT"&&Ae(F).toLowerCase().includes(fe))}return ee.sort((fe,F)=>W==="newest"?F.createdAt.localeCompare(fe.createdAt):fe.createdAt.localeCompare(F.createdAt)),ee})(),se=G.length,ge=Math.ceil(se/re),Pe=(L-1)*re,Ue=G.slice(Pe,Pe+re);return u.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[u.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:u.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null),P("")},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[u.jsx(yf,{className:"w-4 h-4"}),"   "]})}),u.jsxs("div",{className:"p-2 space-y-1",children:[u.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pf,{className:"w-4 h-4"}),"  "]}),r.filter(ee=>!ee.readBy.includes(t.id)).length>0&&u.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(ee=>!ee.readBy.includes(t.id)).length})]}),u.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wu,{className:"w-4 h-4"}),"  "]})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&u.jsxs("div",{className:"p-6 overflow-y-auto",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(XC,{className:"w-6 h-6 text-primary"}),"   "]}),O&&u.jsxs("div",{className:"mb-4 bg-green-100 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-center gap-2 animate-fadeIn",children:[u.jsx(Yh,{className:"w-5 h-5"}),O]}),u.jsxs("form",{onSubmit:J,className:"space-y-4 max-w-2xl",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>_("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${w==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(fs,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>_("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${w==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(Gs,{className:"w-4 h-4"})," "]}),u.jsxs("button",{type:"button",onClick:()=>_("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${w==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[u.jsx(zD,{className:"w-4 h-4"})," "]})]})]}),w==="USER"&&u.jsxs("div",{className:"relative",ref:v,children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),u.jsxs("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none cursor-pointer flex items-center justify-between",onClick:()=>b(!x),children:[u.jsx("span",{className:"text-sm truncate",children:g.length>0?`${g.length}   `:" ..."}),u.jsx(Xh,{className:"w-4 h-4 text-gray-500"})]}),x&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto p-1",children:f.map(ee=>u.jsxs("div",{onClick:()=>xe(ee.id),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.includes(ee.id),readOnly:!0,className:"w-4 h-4 rounded text-primary focus:ring-primary pointer-events-none"}),u.jsx("span",{className:"text-sm",children:ee.name})]},ee.id))}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.map(ee=>{const fe=f.find(F=>F.id===ee);return fe?u.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[fe.name,u.jsx("button",{type:"button",onClick:()=>xe(ee),className:"hover:text-red-600",children:u.jsx(Xt,{className:"w-3 h-3"})})]},ee):null})})]}),w==="GROUP"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),u.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:N,onChange:ee=>S(ee.target.value),required:!0,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:$n.ADMIN,children:" "}),u.jsx("option",{value:$n.MANAGER,children:" "}),u.jsx("option",{value:$n.USER,children:" "}),u.jsx("option",{value:$n.STOREKEEPER,children:""})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:E,onChange:ee=>T(ee.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:A,onChange:ee=>C(ee.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>{var ee;return(ee=U.current)==null?void 0:ee.click()},className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(Ja,{className:"w-4 h-4"}),"  "]}),u.jsx("span",{className:"text-xs text-gray-400",children:"   :  "}),u.jsx("input",{type:"file",ref:U,multiple:!0,className:"hidden",onChange:Z})]}),D.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:D.map((ee,fe)=>u.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full text-xs border border-gray-200 dark:border-gray-600",children:[u.jsx("span",{className:"truncate max-w-[150px]",children:ee.name}),u.jsxs("span",{className:"text-gray-400",children:["(",(ee.size/1024/1024).toFixed(2)," MB)"]}),u.jsx("button",{type:"button",onClick:()=>ye(fe),className:"text-red-500 hover:bg-red-100 rounded-full p-0.5",children:u.jsx(Xt,{className:"w-3 h-3"})})]},fe))})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsxs("button",{disabled:j,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 disabled:opacity-50",children:[j?u.jsx(hn,{className:"w-5 h-5 animate-spin"}):u.jsx(yf,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&u.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[u.jsxs("div",{className:`${s?"hidden md:flex md:w-1/3 border-l dark:border-gray-700":"w-full flex"} flex-col h-full bg-white dark:bg-gray-800`,children:[u.jsxs("div",{className:"p-3 border-b dark:border-gray-700 space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ds,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"...",value:q,onChange:ee=>{M(ee.target.value),K(1)},className:"w-full pr-9 pl-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-1 focus:ring-primary"})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("button",{onClick:()=>X(ee=>ee==="newest"?"oldest":"newest"),className:"flex items-center gap-1 text-gray-500 hover:text-primary transition",children:[u.jsx(ID,{className:"w-3 h-3"}),W==="newest"?"":""]}),u.jsxs("span",{className:"text-gray-400",children:[se," "]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&u.jsxs("div",{className:"p-10 text-center text-gray-400",children:[u.jsx(hn,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),u.jsx("span",{children:"  ..."})]}),!c&&Ue.length===0&&u.jsxs("div",{className:"text-center p-10 text-gray-400",children:[u.jsx(pf,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),u.jsx("p",{children:"  "})]}),Ue.map(ee=>{const fe=e==="INBOX"&&!ee.readBy.includes(t.id);return u.jsxs("div",{onClick:()=>me(ee),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition relative
                                            ${(s==null?void 0:s.id)===ee.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                            ${fe?"bg-white":"bg-gray-50/30 dark:bg-gray-800/50"}
                                        `,children:[fe&&u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500"}),u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("span",{className:`text-sm ${fe?"font-black text-black dark:text-white":"font-medium text-gray-600 dark:text-gray-400"}`,children:e==="INBOX"?ee.senderName:Ae(ee)}),u.jsx("span",{className:"text-[10px] text-gray-400",dir:"ltr",children:ee.createdAt})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h4",{className:`text-sm truncate pr-2 ${fe?"font-black text-gray-900 dark:text-white":"font-normal text-gray-600 dark:text-gray-400"}`,children:ee.subject}),e==="SENT"&&Y(ee)]}),u.jsx("p",{className:`text-xs mt-1 truncate ${fe?"text-gray-800 dark:text-gray-300":"text-gray-400"}`,children:ee.body}),ee.attachments&&ee.attachments.length>0&&u.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[u.jsx(Ja,{className:"w-3 h-3"}),u.jsxs("span",{children:[ee.attachments.length," "]})]})]},ee.id)})]}),se>0&&u.jsxs("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:re,onChange:ee=>{H(Number(ee.target.value)),K(1)},className:"bg-white dark:bg-gray-800 border dark:border-gray-600 rounded p-1 outline-none",children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"}),u.jsx("option",{value:200,children:"200"})]}),u.jsx("span",{className:"text-gray-500",children:""})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{disabled:L===1,onClick:()=>K(ee=>ee-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(xc,{className:"w-4 h-4"})}),u.jsxs("span",{className:"font-mono",children:[L," / ",ge||1]}),u.jsx("button",{disabled:L>=ge,onClick:()=>K(ee=>ee+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:u.jsx(Qh,{className:"w-4 h-4"})})]})]})]}),s?u.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[u.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:s.subject}),u.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:e==="INBOX"?s.senderName[0]:u.jsx(fs,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{children:u.jsx("span",{className:"font-bold",children:e==="INBOX"?s.senderName:""})}),u.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&u.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",Ae(s),s.readBy.length>0&&u.jsxs("span",{className:"mr-2 text-blue-600 flex items-center gap-1 inline-flex",children:[u.jsx(s_,{className:"w-3 h-3"}),"  "]})]})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body}),s.attachments&&s.attachments.length>0&&u.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[u.jsx(Ja,{className:"w-4 h-4"}),"   "]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.attachments.map((ee,fe)=>u.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition",children:[u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg text-gray-500",children:u.jsx(GD,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 px-3 overflow-hidden",children:[u.jsx("p",{className:"text-sm font-medium truncate",title:ee.name,children:ee.name}),u.jsxs("p",{className:"text-xs text-gray-400",children:[(ee.size/1024).toFixed(1)," KB"]})]}),u.jsx("a",{href:ee.data,download:ee.name,className:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-full transition",title:"",children:u.jsx(fx,{className:"w-4 h-4"})})]},fe))})]})]})]}):u.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},hue=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(null);k.useEffect(()=>{e(Au())},[]);const i=()=>{const l={id:Do(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(cU(n),e(Au()),alert("    ."))},a=()=>{if(!n)return;const l={id:Do(),title:" ",assigneeRole:$n.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const c={id:Do(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,c]})})};return n?u.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),u.jsx("div",{className:"h-8 w-px bg-gray-300"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),u.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[u.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),u.jsx("option",{value:"PROJECT",children:" (Project)"}),u.jsx("option",{value:"PART_REQUEST",children:" "}),u.jsx("option",{value:"PURCHASE",children:" "}),u.jsx("option",{value:"PERFORMANCE",children:" "}),u.jsx("option",{value:"MEETING",children:""}),u.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[u.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),u.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[u.jsx(di,{className:"w-4 h-4"}),"  "]})]})]}),u.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:u.jsxs("div",{className:"flex gap-8 min-w-max",children:[u.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[u.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:u.jsx(iL,{className:"w-6 h-6 ml-1"})}),u.jsx("span",{className:"text-xs font-bold",children:""})]}),u.jsx(Gl,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,c)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[c].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),u.jsxs("div",{className:"mt-2",children:[u.jsx("label",{className:"text-xs text-gray-500",children:" :"}),u.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[c].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values($n).map(d=>u.jsx("option",{value:d,children:d},d)),u.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),u.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:u.jsx(Ft,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:d.label,onChange:h=>{const g=[...n.steps];g[c].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),u.jsxs("select",{value:d.style,onChange:h=>{const g=[...n.steps];g[c].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[u.jsx("option",{value:"primary",children:""}),u.jsx("option",{value:"success",children:""}),u.jsx("option",{value:"danger",children:""}),u.jsx("option",{value:"neutral",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Gl,{className:"w-3 h-3"}),u.jsx("span",{children:" :"}),u.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...n.steps];g[c].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[u.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>u.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),u.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),u.jsx(Gl,{className:"w-8 h-8 text-gray-300"})]},l.id)),u.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[u.jsx(Sn,{className:"w-8 h-8 mb-2"}),u.jsx("span",{children:" "})]})]})})]}):u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(JC,{className:"text-primary"}),"   "]}),u.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),"  "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:u.jsx(mx,{className:"w-6 h-6"})}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),u.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),u.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),u.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},pue=()=>{const[t,e]=k.useState("LOGINS"),[n,r]=k.useState([]),[i,o]=k.useState([]),[a,s]=k.useState([]),[l,c]=k.useState(""),[d,f]=k.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};k.useEffect(()=>{g(),s(h[t])},[t]),k.useEffect(()=>{if(l){const v=l.toLowerCase();o(n.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(v))))}else o(n)},[l,n]);const g=()=>{let v=[];switch(t){case"LOGINS":v=JSON.parse(localStorage.getItem("system_logs")||"[]"),v.reverse();break;case"WORK_ORDERS":v=EP().map(w=>{var _,N;return{...w,requester:((_=w.data)==null?void 0:_.requester)||"-",equipName:((N=w.data)==null?void 0:N.equipName)||"-"}});break;case"PARTS":v=Nc("PART_REQUEST").map(w=>{var _,N,S;return{...w,partName:(_=w.data)==null?void 0:_.partName,qty:(N=w.data)==null?void 0:N.qty,unit:(S=w.data)==null?void 0:S.unit,requester:w.description.split("")[1]||"-"}});break}r(v),o(v)},y=v=>{s(w=>w.map(_=>_.id===v?{..._,visible:!_.visible}:_))},x=()=>{if(i.length===0)return alert("    ");const v=a.filter(E=>E.visible),w=v.map(E=>E.label),_=i.map(E=>v.map(T=>E[T.id]||"-")),N="data:text/csv;charset=utf-8,\uFEFF"+w.join(",")+`
`+_.map(E=>E.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(N)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},b=()=>{if(i.length===0)return[];const v=t==="LOGINS"?"date":"status",w={};return i.forEach(_=>{const N=_[v]||"";w[N]=(w[N]||0)+1}),Object.keys(w).map(_=>({name:_,count:w[_]})).slice(0,10)};return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:u.jsx(QC,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),u.jsxs("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[u.jsx(KC,{className:"w-5 h-5"}),"  "]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[u.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[u.jsx(mx,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsxs("select",{value:t,onChange:v=>e(v.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[u.jsx("option",{value:"LOGINS",children:"  "}),u.jsx("option",{value:"WORK_ORDERS",children:" "}),u.jsx("option",{value:"PARTS",children:" "})]})]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?u.jsx(zC,{className:"w-3 h-3"}):u.jsx(Xh,{className:"w-3 h-3"})]}),d&&u.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(v=>u.jsxs("div",{onClick:()=>y(v.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[v.visible?u.jsx(ff,{className:"w-4 h-4 text-primary"}):u.jsx(uL,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm",children:v.label})]},v.id))})]}),u.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[u.jsx(ZC,{className:"w-4 h-4"}),"  "]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),u.jsx(Qa,{width:"100%",height:"90%",children:u.jsxs(Cb,{data:b(),children:[u.jsx(uc,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Zi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),u.jsx(eo,{fontSize:10}),u.jsx(Pn,{}),u.jsx(Fr,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[u.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[u.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(bc,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:v=>c(v.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs("table",{className:"w-full text-right text-sm",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:u.jsx("tr",{children:a.filter(v=>v.visible).map(v=>u.jsx("th",{className:"p-4 whitespace-nowrap",children:v.label},v.id))})}),u.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((v,w)=>u.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>u.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:v[_.id]||"-"},_.id))},w)):u.jsx("tr",{children:u.jsx("td",{colSpan:a.filter(v=>v.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},$N=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],DN=["08:00","11:00","02:00","05:00"],LN=["#22c55e","#ef4444"],UN={Day1:" ()",Day2:" ()",Night1:" ()",Night2:" ()"},mue=({user:t})=>{Vs();const[e,n]=k.useState("LIST"),[r,i]=k.useState(1),[o,a]=k.useState(!1),[s,l]=k.useState(null),[c,d]=k.useState([]),[f,h]=k.useState(!1),[g,y]=k.useState(null),[x,b]=k.useState([]),[v,w]=k.useState(null),[_,N]=k.useState([]),[S,E]=k.useState({name:"A",type:"Day1",date:st(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),[T,A]=k.useState({}),[C,j]=k.useState({}),[I,D]=k.useState({lineA:{},lineB:{}}),[B,O]=k.useState({lineA:{},lineB:{}}),[P,U]=k.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[q,M]=k.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),[W,X]=k.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[L,K]=k.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[re,H]=k.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),[ae,me]=k.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[xe,Re]=k.useState({process:[],cleanWater:[]}),[Z,ye]=k.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[J,Y]=k.useState({nextShiftActions:[""]});k.useEffect(()=>{Le("personnel").then($=>{N($),A({})}),ve(),Ae()},[]);const Ae=async()=>{const{data:$}=await Be.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();$&&w($.avatar)},ve=async()=>{const $=await sU();b($)},G=e==="VIEW"&&!f,se=()=>{E({name:"A",type:"Day1",date:st(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),A({}),j({}),D({lineA:{},lineB:{}}),O({lineA:{},lineB:{}}),U({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),M({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),X({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),K({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),H({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),me({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),Re({process:[],cleanWater:[]}),ye({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),Y({nextShiftActions:[""]}),i(1)},ge=()=>{se(),h(!1),n("FORM")},Pe=$=>{E($.shiftInfo),A($.attendance.map);const de={};$.attendance.leave.forEach(Ee=>de[Ee.id]=Ee.type),j(de),D($.production),O($.feedInfo),U($.ballMills),M($.hydrocyclones),X($.drumMagnets),K($.concentrateFilters),H($.thickeners),me($.recoveryFilters),Re($.pumps),ye($.downtime),Y($.footer)},Ue=$=>{$.full_data&&(Pe($.full_data),y($.full_data),h(!0),n("VIEW"))},ee=$=>{$.full_data&&(Pe($.full_data),y($.full_data),h(!1),n("VIEW"),i(1))},fe=$=>{if(!$||$==="00:00")return 0;const[de,Ee]=$.split(":").map(Number);return de*60+Ee},F=$=>Object.values(I[$]).reduce((de,Ee)=>de+Ee,0),V=($,de)=>{!$||G||(A(Ee=>({...Ee,[$]:de})),de==="LEAVE"&&j(Ee=>({...Ee,[$]:"DAILY"})))},oe=$=>{if(G)return;const de={...T};if(delete de[$],A(de),C[$]){const Ee={...C};delete Ee[$],j(Ee)}},z=($,de,Ee)=>{if(!G)if($==="downtime"){const ct=[...Z.generalDescription];ct[de]=Ee,ye({...Z,generalDescription:ct})}else{const ct=[...J.nextShiftActions];ct[de]=Ee,Y({...J,nextShiftActions:ct})}},le=$=>{G||($==="downtime"?ye({...Z,generalDescription:[...Z.generalDescription,""]}):Y({...J,nextShiftActions:[...J.nextShiftActions,""]}))},ue=($,de)=>{if(!G)if($==="downtime"){const Ee=Z.generalDescription.filter((ct,_e)=>_e!==de);ye({...Z,generalDescription:Ee.length?Ee:[""]})}else{const Ee=J.nextShiftActions.filter((ct,_e)=>_e!==de);Y({...J,nextShiftActions:Ee.length?Ee:[""]})}},we=($,de)=>{if(G)return;const Ee=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Ee){alert("  ");return}const ct=new Ee;ct.lang="fa-IR",ct.onstart=()=>l({section:$,index:de}),ct.onend=()=>l(null),ct.onresult=_e=>{const De=_e.results[0][0].transcript,nt=$==="downtime"?Z.generalDescription[de]:J.nextShiftActions[de];z($,de,nt?nt+" "+De:De)},ct.start()},$e=$=>{const de=ps($);return de?["","","","","","",""][de.getDay()]:""},At=($,de,Ee)=>{if(G)return;const ct=de==="workTime"?"stopTime":"workTime",_e=Z[$][ct],De=fe(Ee),nt=fe(_e),wt=fe(S.shiftDuration);if(De+nt>wt){alert(`    (${an(De+nt)})      (${S.shiftDuration}) .`);return}ye(Hn=>({...Hn,[$]:{...Hn[$],[de]:Ee}}))},an=$=>{const de=Math.floor($/60),Ee=$%60;return`${String(de).padStart(2,"0")}:${String(Ee).padStart(2,"0")}`},Vn=async $=>{if($.preventDefault(),!window.confirm("       "))return;a(!0);const de=np("T"),Ee=Object.keys(T).filter(nt=>T[nt]==="PRESENT"),ct=Object.keys(T).filter(nt=>T[nt]==="ABSENT"),_e=Object.keys(T).filter(nt=>T[nt]==="LEAVE"),De={code:de,shiftInfo:S,attendance:{present:Ee,absent:ct,leave:_e.map(nt=>({id:nt,type:C[nt]})),map:T},production:I,feedInfo:B,ballMills:P,concentrateFilters:L,hydrocyclones:q,thickeners:re,drumMagnets:W,recoveryFilters:ae,pumps:xe,downtime:Z,footer:J,totalA:F("lineA"),totalB:F("lineB")};try{await lU(De),alert("    ."),y(De),h(!0),n("VIEW"),i(1),ve()}catch{alert("   .    .")}finally{a(!1)}},Dt=async()=>{if(c.length!==0&&window.confirm(`   ${c.length}   `))try{const{error:$}=await Be.from("shift_reports").delete().in("id",c);if($)throw $;b(de=>de.filter(Ee=>!c.includes(Ee.id))),d([])}catch{alert("   .")}},Ei=()=>{const $=c.length>0?x.filter(wt=>c.includes(wt.id)):x;if($.length===0){alert("    .");return}const de=["Tracking Code","Date","Shift","Type","Supervisor","Production A","Production B"],Ee=$.map(wt=>[wt.tracking_code,wt.shift_date,wt.shift_name,wt.shift_type,wt.supervisor_name,wt.total_production_a,wt.total_production_b]);let ct="\uFEFF"+de.join(",")+`
`;Ee.forEach(wt=>{const Hn=wt.join(",");ct+=Hn+`
`});const _e=new Blob([ct],{type:"text/csv;charset=utf-8;"}),De=document.createElement("a"),nt=URL.createObjectURL(_e);De.setAttribute("href",nt),De.setAttribute("download",`shift_reports_${st().replace(/\//g,"-")}.csv`),document.body.appendChild(De),De.click(),document.body.removeChild(De)},Ni=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:ve,className:"bg-gray-100 hover:bg-gray-200 text-gray-600 p-2 rounded-lg transition",title:"",children:u.jsx(ZC,{className:"w-5 h-5"})}),c.length>0&&u.jsxs("button",{onClick:Dt,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[u.jsx(Ft,{className:"w-4 h-4"}),"  (",c.length,")"]}),u.jsxs("button",{onClick:Ei,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[u.jsx(fx,{className:"w-4 h-4"}),"  "]})]}),mt=()=>_.filter($=>!T[$.id]),uo=$=>_.filter(de=>T[de.id]===$),$c=$=>{if(!$||!$.shiftInfo)return"shift_report";const de=$.shiftInfo.date.replace(/\//g,""),Ee=$.shiftInfo.name,_e={Day1:"11",Day2:"12",Night1:"21",Night2:"22"}[$.shiftInfo.type]||"00";return`#${de}.${Ee}${_e}`},Gn=()=>{if(g){const $=$c(g),de=document.title;document.title=$,window.print(),document.title=de}else window.print()},Vr=async()=>{if(navigator.share&&g){const $=$c(g);try{const de=document.title;document.title=$,await navigator.share({title:$,text:`  ${$}`,url:window.location.href}),document.title=de}catch(de){console.error("Error sharing:",de)}}else Gn()},Ar=({status:$})=>$?u.jsx(cs,{className:"w-3 h-3 text-green-600 mx-auto"}):u.jsx(Xt,{className:"w-3 h-3 text-red-600 mx-auto"});if(f&&g){const $=[{name:"",value:fe(g.downtime.lineA.workTime)||1},{name:"",value:fe(g.downtime.lineA.stopTime)}],de=[{name:"",value:fe(g.downtime.lineB.workTime)||1},{name:"",value:fe(g.downtime.lineB.stopTime)}],Ee=$N.map(_e=>({time:_e,LineA:g.production.lineA[_e]||0,LineB:g.production.lineB[_e]||0})),ct=$N.map(_e=>{const De=g.feedInfo.lineA[_e]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],nt=g.feedInfo.lineB[_e]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],wt=g.production.lineA[_e]||0,Hn=g.production.lineB[_e]||0;return{time:_e,prodA:wt,prodB:Hn,feedA:De.filter(zn=>zn.percent>0).map(zn=>`${zn.type} (${zn.percent}%)`).join(" "),feedB:nt.filter(zn=>zn.percent>0).map(zn=>`${zn.type} (${zn.percent}%)`).join(" ")}});return u.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[u.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .page-break { page-break-after: always; }
                      .print-container { 
                          width: 210mm !important; 
                          min-height: 297mm !important; 
                          padding: 20mm !important; 
                          box-shadow: none !important; 
                          margin: 0 !important; 
                      }
                      aside, header, footer { display: none !important; }
                  }
              `}),u.jsxs("div",{className:"flex flex-col gap-4 w-[210mm]",children:[u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-6 font-sans box-border",style:{padding:"20mm",width:"210mm",minHeight:"297mm"},children:[u.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-6 relative min-h-[100px]",children:[u.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 flex items-center justify-center shadow-sm",children:v?u.jsx("img",{src:v,alt:"Logo",className:"w-full h-full object-cover"}):u.jsx(fO,{className:"w-full h-full object-contain"})}),u.jsxs("div",{className:"flex flex-col items-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[u.jsx("h1",{className:"text-xl font-black text-[#800020] whitespace-nowrap",children:"     "}),u.jsx("span",{className:"text-lg font-bold text-gray-900 mt-2",children:"     "})]}),u.jsxs("div",{className:"w-48 text-xs flex flex-col gap-2 bg-gray-50 p-2 rounded-lg border border-gray-100 text-right",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-dashed border-gray-300 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{className:"font-mono font-bold text-[#800020]",children:g.code})]}),u.jsxs("div",{className:"flex justify-between items-center border-b border-dashed border-gray-300 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:":"}),u.jsx("span",{className:"font-bold",children:g.shiftInfo.date})]}),u.jsxs("div",{className:"flex justify-between items-center border-b border-dashed border-gray-300 pb-1",children:[u.jsx("span",{className:"text-gray-500",children:" / :"}),u.jsxs("span",{className:"font-bold",children:[g.shiftInfo.name," (",g.shiftInfo.shiftDuration,")"]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-500",children:" :"}),u.jsx("span",{className:"font-bold",children:UN[g.shiftInfo.type]||g.shiftInfo.type})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:"   A"}),u.jsxs("p",{className:"text-2xl font-black",children:[g.totalA," ",u.jsx("span",{className:"text-sm",children:""})]})]}),u.jsxs("div",{className:"bg-[#800020] text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:"   B"}),u.jsxs("p",{className:"text-2xl font-black",children:[g.totalB," ",u.jsx("span",{className:"text-sm",children:""})]})]}),u.jsxs("div",{className:"bg-green-600 text-white p-4 rounded-xl shadow-sm text-center",children:[u.jsx("p",{className:"opacity-80 mb-1",children:" "}),u.jsxs("div",{className:"flex justify-center gap-3 text-xs font-bold mt-1",children:[u.jsxs("span",{children:[": ",g.attendance.present.length]}),u.jsxs("span",{children:[": ",g.attendance.absent.length]}),u.jsxs("span",{children:[": ",g.attendance.leave.length]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 h-80",children:[u.jsxs("div",{className:"border rounded-xl p-3 bg-gray-50 flex flex-col justify-center items-center shadow-sm",children:[u.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"     "}),u.jsxs("div",{className:"flex w-full justify-around items-center h-full",children:[u.jsxs("div",{className:"text-center relative",children:[u.jsx("span",{className:"block text-xs font-bold text-blue-700 mb-1",children:" A"}),u.jsx("div",{className:"w-24 h-24 relative mx-auto",children:u.jsx(Qa,{children:u.jsx(ON,{children:u.jsx(Ur,{data:$,innerRadius:0,outerRadius:40,dataKey:"value",stroke:"none",children:$.map((_e,De)=>u.jsx(Ru,{fill:LN[De]},`cell-${De}`))})})})}),u.jsxs("div",{className:"text-[9px] mt-1 font-bold",children:[u.jsxs("span",{className:"text-green-600",children:[": ",g.downtime.lineA.workTime]})," | ",u.jsxs("span",{className:"text-red-500",children:[": ",g.downtime.lineA.stopTime]})]})]}),u.jsxs("div",{className:"text-center relative",children:[u.jsx("span",{className:"block text-xs font-bold text-[#800020] mb-1",children:" B"}),u.jsx("div",{className:"w-24 h-24 relative mx-auto",children:u.jsx(Qa,{children:u.jsx(ON,{children:u.jsx(Ur,{data:de,innerRadius:0,outerRadius:40,dataKey:"value",stroke:"none",children:de.map((_e,De)=>u.jsx(Ru,{fill:LN[De]},`cell-${De}`))})})})}),u.jsxs("div",{className:"text-[9px] mt-1 font-bold",children:[u.jsxs("span",{className:"text-green-600",children:[": ",g.downtime.lineB.workTime]})," | ",u.jsxs("span",{className:"text-red-500",children:[": ",g.downtime.lineB.stopTime]})]})]})]})]}),u.jsxs("div",{className:"border rounded-xl p-3 bg-white shadow-sm",children:[u.jsx("h4",{className:"font-bold mb-2 text-center text-xs text-gray-700",children:"    "}),u.jsx("div",{className:"h-72 w-full",dir:"ltr",children:u.jsx(Qa,{children:u.jsxs(Cb,{data:Ee,children:[u.jsx(uc,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Zi,{dataKey:"time",fontSize:8,interval:0,angle:-45,textAnchor:"end",height:60}),u.jsx(eo,{fontSize:8}),u.jsx(Pn,{}),u.jsx(Lo,{wrapperStyle:{fontSize:"8px"}}),u.jsx(Fr,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0]}),u.jsx(Fr,{dataKey:"LineB",name:" B",fill:"#800020",radius:[2,2,0,0]})]})})})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-bold text-xs bg-gray-200 p-1.5 text-center rounded-t-lg border border-gray-300",children:"     "}),u.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center text-[9px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100",children:[u.jsx("th",{className:"border border-gray-300 p-1",children:""}),u.jsx("th",{className:"border border-gray-300 p-1",children:"  A"}),u.jsx("th",{className:"border border-gray-300 p-1",children:"  A"}),u.jsx("th",{className:"border border-gray-300 p-1",children:"  B"}),u.jsx("th",{className:"border border-gray-300 p-1",children:"  B"})]})}),u.jsx("tbody",{children:ct.map((_e,De)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 p-1 font-bold",children:_e.time}),u.jsx("td",{className:"border border-gray-300 p-1 text-blue-700 font-bold",children:_e.prodA}),u.jsx("td",{className:"border border-gray-300 p-1 text-gray-600",children:_e.feedA||"-"}),u.jsx("td",{className:"border border-gray-300 p-1 text-[#800020] font-bold",children:_e.prodB}),u.jsx("td",{className:"border border-gray-300 p-1 text-gray-600",children:_e.feedB||"-"})]},De))})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-6 mt-2",children:["lineA","lineB"].map(_e=>{const De=_e==="lineA"?" A":" B",nt=_e==="lineA"?"border-blue-200":"border-red-200",wt=_e==="lineA"?"bg-blue-50 text-blue-800":"bg-red-50 text-[#800020]",Hn=g.ballMills[_e],zn=g.hydrocyclones[_e];return u.jsxs("div",{className:`border ${nt} rounded-xl overflow-hidden shadow-sm`,children:[u.jsx("div",{className:`${wt} p-2 font-bold text-center border-b ${nt}`,children:De}),u.jsxs("div",{className:"p-3 space-y-3",children:[u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["primary","secondary"].map(om=>{const Gr=Hn[om];return u.jsxs("div",{className:`border p-2 rounded-lg ${Gr.active?"bg-green-50/50":"bg-gray-50 opacity-60"}`,children:[u.jsx("div",{className:"font-bold text-[9px] mb-2 border-b pb-1 text-center",children:om==="primary"?" ":" "}),u.jsxs("div",{className:"space-y-1 text-[8px]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" (08/02):"}),u.jsxs("span",{className:`font-mono ${Number(Gr.amp08)>970||Number(Gr.amp02)>970?"text-red-600 font-bold":""}`,children:[Gr.amp08,"/",Gr.amp02]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" (08/02):"}),u.jsxs("span",{className:"font-mono",children:[Gr.dens08,"/",Gr.dens02]})]})]}),Gr.charges.length>0&&u.jsxs("div",{className:"mt-2 pt-1 border-t border-dashed bg-yellow-50 p-1 rounded",children:[u.jsx("span",{className:"block font-bold text-[8px] text-orange-700 text-center mb-1",children:" "}),Gr.charges.map((Bb,aR)=>u.jsxs("div",{className:"text-[8px] flex justify-between bg-white px-1 rounded mb-0.5",children:[u.jsxs("span",{children:[" ",Bb.size]}),u.jsxs("span",{children:[Bb.count," "]})]},aR))]})]},om)})}),u.jsxs("div",{className:"text-[9px] border-t pt-2",children:[u.jsx("span",{className:"font-bold block mb-1",children:":"}),u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-100",children:[u.jsxs("span",{children:[": ",u.jsx("b",{children:zn.primary.pressure})," Bar"]}),u.jsxs("span",{children:[" : ",u.jsx("b",{children:zn.primary.activeCyclones.length})]})]})]})]})]},_e)})})]}),u.jsx("div",{className:"page-break"}),u.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-6 font-sans box-border",style:{padding:"20mm",width:"210mm",minHeight:"297mm"},children:[u.jsxs("div",{className:"border-b-2 border-gray-200 pb-2 mb-2 flex justify-between text-gray-400 text-[10px]",children:[u.jsxs("span",{children:["    - ",g.shiftInfo.date]}),u.jsx("span",{children:"   "})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"border border-gray-300 rounded-xl p-3 shadow-sm bg-white",children:[u.jsx("div",{className:"font-bold border-b mb-2 pb-1 text-center bg-gray-100 rounded text-gray-700 p-1",children:"  ( )"}),u.jsxs("table",{className:"w-full text-center text-[9px] border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"border p-1",children:" "}),u.jsx("th",{className:"border p-1 text-blue-800",children:" A"}),u.jsx("th",{className:"border p-1 text-[#800020]",children:" B"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:""}),u.jsxs("td",{className:"border p-1",children:[g.concentrateFilters.lineA.cloths.length," "]}),u.jsxs("td",{className:"border p-1",children:[g.concentrateFilters.lineB.cloths.length," "]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsxs("td",{className:"border p-1",children:[g.recoveryFilters.lineA[0].cloths.length," "]}),u.jsxs("td",{className:"border p-1",children:[g.recoveryFilters.lineB[0].cloths.length," "]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsxs("td",{className:"border p-1",children:[g.recoveryFilters.lineA[1].cloths.length," "]}),u.jsxs("td",{className:"border p-1",children:[g.recoveryFilters.lineB[1].cloths.length," "]})]})]})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"border border-gray-300 rounded-xl p-3 shadow-sm bg-white",children:[u.jsx("div",{className:"font-bold border-b mb-2 pb-1 text-center bg-red-50 text-[#800020] rounded p-1",children:" "}),u.jsxs("table",{className:"w-full text-center text-[9px] border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"border p-1",children:" "}),u.jsx("th",{className:"border p-1 text-blue-800",children:" A"}),u.jsx("th",{className:"border p-1 text-[#800020]",children:" B"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineA.single})}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineB.single})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineA.upper})}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineB.upper})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineA.middle})}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineB.middle})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border p-1 font-bold",children:" "}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineA.lower})}),u.jsx("td",{className:"border p-1",children:u.jsx(Ar,{status:g.drumMagnets.lineB.lower})})]})]})]})]})})]}),u.jsxs("div",{className:"border border-gray-300 rounded-xl p-3 shadow-sm bg-white mt-2",children:[u.jsx("div",{className:"font-bold border-b mb-2 pb-1 text-center bg-blue-50 text-blue-800 rounded p-1",children:"  "}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:["lineA","lineB"].map(_e=>u.jsxs("div",{children:[u.jsx("h5",{className:"text-center font-bold text-[10px] mb-1 bg-gray-100 rounded",children:_e==="lineA"?" A":" B"}),u.jsxs("table",{className:"w-full text-[9px] text-center border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"border p-1",children:""}),DN.map(De=>u.jsx("th",{className:"border p-1",children:De},De))]})}),u.jsx("tbody",{children:g.thickeners[_e].map((De,nt)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"border p-1 font-bold bg-gray-50",children:[" ",nt+1]}),DN.map(wt=>{const Hn=De.data[wt]||{pressure:"-",jack:"-",mudLine:"-"};return u.jsx("td",{className:"border p-1",children:u.jsxs("div",{className:"flex flex-col leading-tight space-y-1",children:[u.jsxs("span",{children:["P: ",Hn.pressure]}),u.jsxs("span",{children:["J: ",Hn.jack]}),u.jsxs("span",{children:["M: ",Hn.mudLine]})]})},wt)})]},nt))})]})]},_e))}),u.jsxs("div",{className:"text-[8px] text-gray-400 mt-1 text-center flex gap-4 justify-center",children:[u.jsx("span",{children:"P:  (Bar)"}),u.jsx("span",{children:"J:  ()"}),u.jsx("span",{children:"M:  ()"})]})]}),u.jsxs("div",{className:"border border-gray-300 rounded-xl p-3 bg-gray-50 shadow-sm mt-2",children:[u.jsx("h4",{className:"font-bold text-center text-xs text-gray-700 mb-2 border-b pb-1",children:"  "}),u.jsxs("div",{className:"flex justify-around items-center text-[10px]",children:[u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("span",{className:"font-bold",children:" :"}),u.jsx("div",{className:"flex gap-1",children:g.pumps.process.length>0?g.pumps.process.map(_e=>u.jsx("span",{className:"bg-blue-600 text-white px-2 py-0.5 rounded-full",children:_e},_e)):u.jsx("span",{className:"text-gray-400",children:""})})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("span",{className:"font-bold",children:"  :"}),u.jsx("div",{className:"flex gap-1",children:g.pumps.cleanWater.length>0?g.pumps.cleanWater.map(_e=>u.jsx("span",{className:"bg-cyan-600 text-white px-2 py-0.5 rounded-full",children:_e},_e)):u.jsx("span",{className:"text-gray-400",children:""})})]})]})]}),u.jsxs("div",{className:"space-y-4 mt-2",children:[u.jsx("h3",{className:"font-bold text-sm bg-gray-800 text-white p-2 rounded-lg text-center shadow-md",children:"    "}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border border-blue-200 rounded-xl p-4 bg-blue-50/40 relative",children:[u.jsx("div",{className:"absolute -top-3 right-4 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold border border-blue-200",children:"  A"}),u.jsx("p",{className:"text-justify leading-relaxed mt-2",children:g.downtime.lineA.stopTime==="00:00"?"      .":g.downtime.lineA.reason||"   ."})]}),u.jsxs("div",{className:"border border-[#800020]/30 rounded-xl p-4 bg-red-50/40 relative",children:[u.jsx("div",{className:"absolute -top-3 right-4 bg-red-100 text-[#800020] px-3 py-1 rounded-full text-xs font-bold border border-red-200",children:"  B"}),u.jsx("p",{className:"text-justify leading-relaxed mt-2",children:g.downtime.lineB.stopTime==="00:00"?"      .":g.downtime.lineB.reason||"   ."})]})]}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 bg-gray-50",children:[u.jsx("div",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"  /  "}),u.jsx("ul",{className:"list-decimal list-inside space-y-1 text-gray-700",children:g.downtime.generalDescription.map((_e,De)=>u.jsx("li",{className:"text-justify",children:_e||"..."},De))})]}),u.jsxs("div",{className:"border border-orange-200 rounded-xl p-4 bg-orange-50 shadow-sm",children:[u.jsxs("div",{className:"font-bold text-orange-800 mb-2 flex items-center gap-2",children:[u.jsx(Gl,{className:"w-4 h-4"}),"     "]}),u.jsx("ul",{className:"list-decimal list-inside space-y-1 text-gray-700",children:g.footer.nextShiftActions.map((_e,De)=>u.jsx("li",{className:"text-justify",children:_e||"..."},De))})]})]}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-8 pt-8 border-t-2 border-gray-200",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:"  "}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:" "}),u.jsx("div",{className:"font-mono text-sm mb-1 absolute bottom-4 left-0 right-0",children:g.shiftInfo.supervisorName}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-bold mb-10",children:" "}),u.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]})]})]}),u.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50",children:[u.jsxs("button",{onClick:()=>h(!1),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[u.jsx(px,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:Gn,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[u.jsx(gy,{className:"w-5 h-5"}),"   (PDF)"]}),u.jsxs("button",{onClick:Vr,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[u.jsx(gx,{className:"w-5 h-5"}),"  "]})]})]})]})}return e==="LIST"?u.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(my,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"  "}),u.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:u.jsx(wi,{title:"   ",icon:YC,data:x,onAdd:ge,columns:[{header:" ",accessor:$=>u.jsx("span",{className:"font-mono font-bold",children:$.tracking_code}),sortKey:"tracking_code"},{header:" ",accessor:$=>$.shift_date,sortKey:"shift_date"},{header:"",accessor:$=>$.shift_name},{header:" ",accessor:$=>UN[$.shift_type]||$.shift_type},{header:"",accessor:$=>$.supervisor_name||"-"},{header:"   A",accessor:$=>u.jsxs("span",{className:"text-blue-600 font-bold",children:[$.total_production_a," "]})},{header:"   B",accessor:$=>u.jsxs("span",{className:"text-red-600 font-bold",children:[$.total_production_b," "]})}],onViewDetails:$=>Ue($),customRowActions:$=>u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>Ue($),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"  ",children:u.jsx(gy,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ee($),className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded-lg transition",title:"   ",children:u.jsx(bu,{className:"w-4 h-4"})})]}),extraActions:Ni,selectedIds:c,onSelect:d})})]}):u.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:u.jsx(my,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:G?"  ":"  "}),u.jsx("p",{className:"text-xs text-gray-500",children:G?` : ${(g==null?void 0:g.code)||"---"}`:"     "})]})]}),u.jsxs("button",{onClick:()=>n("LIST"),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition text-sm font-bold flex items-center gap-2",children:[u.jsx(Gl,{className:"w-4 h-4"}),"   "]})]}),u.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:" ",icon:Gs},{id:2,label:"",icon:VD},{id:3,label:"",icon:GC},{id:4,label:"",icon:BD},{id:9,label:" ",icon:ZD},{id:6,label:" ",icon:bc},{id:5,label:"",icon:KD},{id:7,label:" ",icon:gf},{id:8,label:"  ",icon:cL}].map($=>u.jsxs("button",{type:"button",onClick:()=>i($.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${r===$.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[u.jsx($.icon,{className:"w-4 h-4"})," ",$.label]},$.id))}),u.jsxs("form",{onSubmit:Vn,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[r===1&&u.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),u.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none disabled:bg-gray-200",disabled:G,value:S.name,onChange:$=>E({...S,name:$.target.value}),children:[u.jsx("option",{value:"A",children:" A"}),u.jsx("option",{value:"B",children:" B"}),u.jsx("option",{value:"C",children:" C"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none disabled:bg-gray-200",disabled:G,value:S.type,onChange:$=>E({...S,type:$.target.value}),children:[u.jsx("option",{value:"Day1",children:" "}),u.jsx("option",{value:"Day2",children:" "}),u.jsx("option",{value:"Night1",children:" "}),u.jsx("option",{value:"Night2",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("div",{className:G?"pointer-events-none opacity-80":"",children:u.jsx(Yr,{value:S.shiftDuration,onChange:$=>E({...S,shiftDuration:$})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:$e(S.date)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),u.jsx("div",{className:G?"pointer-events-none opacity-80":"",children:u.jsx(ni,{value:S.date,onChange:$=>E({...S,date:$})})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),u.jsx("input",{type:"text",value:S.supervisorName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[u.jsx(hL,{className:"w-5 h-5"}),"  "]}),!G&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:$=>{$.target.value&&(V($.target.value,"PRESENT"),$.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),mt().map($=>u.jsx("option",{value:$.id,children:$.full_name},$.id))]})}),u.jsx("div",{className:"space-y-2",children:uo("PRESENT").map($=>u.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[u.jsx("span",{children:$.full_name}),!G&&u.jsx("button",{type:"button",onClick:()=>oe($.id),className:"text-red-500",children:u.jsx(Ft,{className:"w-4 h-4"})})]},$.id))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-orange-600 mb-2 flex items-center gap-2",children:[u.jsx(Zh,{className:"w-5 h-5"}),"  "]}),!G&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:$=>{$.target.value&&(V($.target.value,"LEAVE"),$.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),mt().map($=>u.jsx("option",{value:$.id,children:$.full_name},$.id))]})}),u.jsx("div",{className:"space-y-2",children:uo("LEAVE").map($=>u.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-lg text-orange-800 text-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{children:$.full_name}),!G&&u.jsx("button",{type:"button",onClick:()=>oe($.id),className:"text-red-500",children:u.jsx(Ft,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex gap-2 text-xs",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",disabled:G,checked:C[$.id]==="DAILY",onChange:()=>j({...C,[$.id]:"DAILY"})})," "]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[u.jsx("input",{type:"radio",disabled:G,checked:C[$.id]==="HOURLY",onChange:()=>j({...C,[$.id]:"HOURLY"})})," "]})]})]},$.id))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[u.jsx(pL,{className:"w-5 h-5"}),"  "]}),!G&&u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:$=>{$.target.value&&(V($.target.value,"ABSENT"),$.target.value="")},children:[u.jsx("option",{value:"",children:"..."}),mt().map($=>u.jsx("option",{value:$.id,children:$.full_name},$.id))]})}),u.jsx("div",{className:"space-y-2",children:uo("ABSENT").map($=>u.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[u.jsx("span",{children:$.full_name}),!G&&u.jsx("button",{type:"button",onClick:()=>oe($.id),className:"text-red-500",children:u.jsx(Ft,{className:"w-4 h-4"})})]},$.id))})]})]})]}),r===8&&u.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/20 p-4 rounded-xl border",children:[u.jsx("h3",{className:"font-bold mb-3 text-blue-700 dark:text-blue-300",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold mb-2",children:"  "}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map($=>u.jsx("button",{disabled:G,type:"button",onClick:()=>{const de=xe.process.includes($)?xe.process.filter(Ee=>Ee!==$):[...xe.process,$];Re({...xe,process:de})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${xe.process.includes($)?"bg-blue-600 text-white":"bg-white"} ${G?"cursor-not-allowed opacity-80":""}`,children:$},$))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold mb-2",children:"   "}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map($=>u.jsx("button",{disabled:G,type:"button",onClick:()=>{const de=xe.cleanWater.includes($)?xe.cleanWater.filter(Ee=>Ee!==$):[...xe.cleanWater,$];Re({...xe,cleanWater:de})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${xe.cleanWater.includes($)?"bg-blue-600 text-white":"bg-white"} ${G?"cursor-not-allowed opacity-80":""}`,children:$},$))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[u.jsx("h3",{className:"font-bold text-center mb-3 text-primary",children:"  A"}),u.jsxs("div",{className:`flex gap-2 mb-3 ${G?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(Yr,{value:Z.lineA.workTime,onChange:$=>At("lineA","workTime",$)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(Yr,{value:Z.lineA.stopTime,onChange:$=>At("lineA","stopTime",$)})]})]}),Z.lineA.stopTime&&Z.lineA.stopTime!=="00:00"&&u.jsx("textarea",{disabled:G,className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:Z.lineA.reason,onChange:$=>ye({...Z,lineA:{...Z.lineA,reason:$.target.value}})})]}),u.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[u.jsx("h3",{className:"font-bold text-center mb-3 text-red-600",children:"  B"}),u.jsxs("div",{className:`flex gap-2 mb-3 ${G?"pointer-events-none opacity-80":""}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(Yr,{value:Z.lineB.workTime,onChange:$=>At("lineB","workTime",$)})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs block mb-1",children:" "}),u.jsx(Yr,{value:Z.lineB.stopTime,onChange:$=>At("lineB","stopTime",$)})]})]}),Z.lineB.stopTime&&Z.lineB.stopTime!=="00:00"&&u.jsx("textarea",{disabled:G,className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:Z.lineB.reason,onChange:$=>ye({...Z,lineB:{...Z.lineB,reason:$.target.value}})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-bold mb-2",children:"  /    "}),u.jsxs("div",{className:"space-y-2",children:[Z.generalDescription.map(($,de)=>u.jsxs("div",{className:"relative group",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-400 font-mono w-6 text-center",children:de+1}),u.jsx("textarea",{disabled:G,className:"w-full p-3 pl-12 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none h-20 resize-none disabled:bg-gray-100",placeholder:"...",value:$,onChange:Ee=>z("downtime",de,Ee.target.value)})]}),!G&&u.jsx("button",{type:"button",onClick:()=>ue("downtime",de),className:"absolute top-2 left-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition",children:u.jsx(Ft,{className:"w-4 h-4"})}),!G&&u.jsx("button",{type:"button",onClick:()=>we("downtime",de),className:`absolute left-2 bottom-2 p-1 rounded-full transition ${(s==null?void 0:s.section)==="downtime"&&s.index===de?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u.jsx(Xi,{className:"w-4 h-4"})})]},de)),!G&&u.jsxs("button",{type:"button",onClick:()=>le("downtime"),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),"   "]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-bold mb-2",children:"    "}),u.jsxs("div",{className:"space-y-2",children:[J.nextShiftActions.map(($,de)=>u.jsxs("div",{className:"relative group",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-400 font-mono w-6 text-center",children:de+1}),u.jsx("textarea",{disabled:G,className:"w-full p-3 pl-12 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none h-20 resize-none disabled:bg-gray-100",placeholder:"  ...",value:$,onChange:Ee=>z("footer",de,Ee.target.value)})]}),!G&&u.jsx("button",{type:"button",onClick:()=>ue("footer",de),className:"absolute top-2 left-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition",children:u.jsx(Ft,{className:"w-4 h-4"})}),!G&&u.jsx("button",{type:"button",onClick:()=>we("footer",de),className:`absolute left-2 bottom-2 p-1 rounded-full transition ${(s==null?void 0:s.section)==="footer"&&s.index===de?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u.jsx(Xi,{className:"w-4 h-4"})})]},de)),!G&&u.jsxs("button",{type:"button",onClick:()=>le("footer"),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),"   "]})]})]}),!G&&u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsxs("button",{type:"submit",disabled:o,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[o?u.jsx(hn,{className:"w-6 h-6 animate-spin"}):u.jsx(di,{className:"w-6 h-6"}),"   "]})})]})]})]})},gue=({enabled:t})=>{const[e,n]=k.useState([]);return k.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?u.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[u.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>u.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var yue={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vue,xue;function bue(){return{geminiUrl:vue,vertexUrl:xue}}function wue(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=bue();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _i{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let c=0;c<l.length;c++){const d=l[c];m(d,e.slice(o+1),n[c])}else for(const c of l)m(c,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function _ue(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const c=o[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}n0(t,i,o,0,a)}}function n0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])n0(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of s)l[c]=a[c];for(const[c,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(c):f.push(h);m(a,f,d)}for(const c of s)delete a[c]}}else{const a=t;o in a&&n0(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sue(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Eue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Tue(a)),e}function Nue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],kue(a)),e}function Tue(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Aue(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function kue(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Cue(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Aue(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Mue(n)),e}function Cue(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],$ue(n)),e}function Pue(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function jue(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Iue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Oue(a)),e}function Oue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function hO(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Rue(a)),e}function Rue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Mue(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],jb(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function $ue(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],jb(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FN||(FN={}));var BN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(BN||(BN={}));var qN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qN||(qN={}));var Ui;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ui||(Ui={}));var VN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(VN||(VN={}));var GN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(GN||(GN={}));var HN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(HN||(HN={}));var zN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zN||(zN={}));var WN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(WN||(WN={}));var KN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(KN||(KN={}));var JN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JN||(JN={}));var YN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(YN||(YN={}));var XN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(XN||(XN={}));var QN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(QN||(QN={}));var ZN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ZN||(ZN={}));var eT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eT||(eT={}));var tT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tT||(tT={}));var nT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nT||(nT={}));var rT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rT||(rT={}));var Nh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Nh||(Nh={}));var iT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iT||(iT={}));var oT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(oT||(oT={}));var aT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aT||(aT={}));var r0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(r0||(r0={}));var sT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sT||(sT={}));var lT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lT||(lT={}));var uT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uT||(uT={}));var cT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(cT||(cT={}));var dT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dT||(dT={}));var fT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fT||(fT={}));var hT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hT||(hT={}));var pT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(pT||(pT={}));var mT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(mT||(mT={}));var gT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(gT||(gT={}));var yT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yT||(yT={}));var vT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vT||(vT={}));var xT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xT||(xT={}));var bT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bT||(bT={}));var wT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(wT||(wT={}));var _T;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_T||(_T={}));var ST;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ST||(ST={}));var ET;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ET||(ET={}));var NT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(NT||(NT={}));var TT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(TT||(TT={}));var kT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(kT||(kT={}));var AT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(AT||(AT={}));var CT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CT||(CT={}));var PT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(PT||(PT={}));var jT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(jT||(jT={}));var IT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(IT||(IT={}));var OT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(OT||(OT={}));var RT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RT||(RT={}));var MT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(MT||(MT={}));var $T;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($T||($T={}));var DT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DT||(DT={}));var Ba;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ba||(Ba={}));class i0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nl{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class LT{}class UT{}class Due{}class Lue{}class Uue{}class Fue{}class FT{}class BT{}class qT{}class Bue{}class Th{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Th;let i;const o=e;return n?i=Nue(o):i=Eue(o),Object.assign(r,i),r}}class VT{}class GT{}class HT{}class zT{}class que{}class Vue{}class Gue{}class Ib{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ib,o=Iue(e);return Object.assign(r,o),r}}class Hue{}class zue{}class Wue{}class WT{}class Kue{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Jue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ob{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ob,o=hO(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function pO(t,e){const n=Ge(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function mO(t){return Array.isArray(t)?t.map(e=>kh(e)):[kh(t)]}function kh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function gO(t){const e=kh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yO(t){const e=kh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function KT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>KT(e)):[KT(t)]}function o0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function JT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function YT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function rn(t){if(t==null)throw new Error("ContentUnion is required");return o0(t)?t:{role:"user",parts:vO(t)}}function Rb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=rn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=rn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>rn(n)):[rn(e)]}function nr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(JT(t)||YT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rn(t)]}const e=[],n=[],r=o0(t[0]);for(const i of t){const o=o0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(JT(i)||YT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:vO(n)}),e}function Yue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ui).includes(n[0].toUpperCase())?n[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function ts(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Yue(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Ui).includes(s.toUpperCase())?s.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ts(s);else if(r.includes(a)){const l=[];for(const c of s){if(c.type=="null"){e.nullable=!0;continue}l.push(ts(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,d]of Object.entries(s))l[c]=ts(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function Mb(t){return ts(t)}function $b(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Db(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function il(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ts(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ts(e.response));return t}function ol(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Xue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Si(t,e){if(typeof e!="string")throw new Error("name must be a string");return Xue(t,e,"cachedContents")}function xO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lo(t){return jb(t)}function Que(t){return t!=null&&typeof t=="object"&&"name"in t}function Zue(t){return t!=null&&typeof t=="object"&&"video"in t}function ece(t){return t!=null&&typeof t=="object"&&"uri"in t}function bO(t){var e;let n;if(Que(t)&&(n=t.name),!(ece(t)&&(n=t.uri,n===void 0))&&!(Zue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function wO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _O(t){for(const e of["models","tunedModels","publisherModels"])if(tce(t,e))return t[e];return[]}function tce(t,e){return t!==null&&typeof t=="object"&&e in t}function nce(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function rce(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=nce(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function SO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ice(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function EO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function al(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function NO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oce(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Uce(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function ace(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function sce(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dd(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],NO(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const c=p(t,["metadata","output"]);return c!=null&&m(e,["dest"],oce(EO(c))),e}function a0(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],NO(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],lce(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],ace(EO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function lce(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function uce(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Lce(t,a))),m(n,["requests","requests"],o)}return n}function cce(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function dce(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function hce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function pce(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],mce(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function mce(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function TO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function gce(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function yce(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],sce(ice(i))),n}function XT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],uce(t,SO(t,i)));const o=p(e,["config"]);return o!=null&&gce(o,n),n}function vce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Ge(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],cce(SO(t,i)));const o=p(e,["config"]);return o!=null&&yce(o,n),n}function xce(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function bce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],kce(t,i));const o=p(e,["config"]);return o!=null&&xce(o,n),n}function wce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function _ce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function Sce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Ece(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Nce(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=Rb(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],Tce(i,n)),_ue(n,{"requests[].*":"requests[].request.*"})),n}function Tce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kce(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Nce(t,i)),n}function Ace(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Cce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],TO(rn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=p(e,["seed"]);x!=null&&m(r,["seed"],x);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const v=p(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],Mb(v));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let B=_;Array.isArray(B)&&(B=B.map(O=>Wce(O))),m(n,["safetySettings"],B)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let B=ol(N);Array.isArray(B)&&(B=B.map(O=>Jce(il(O)))),m(n,["tools"],B)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Kce(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Si(t,E));const T=p(e,["responseModalities"]);T!=null&&m(r,["responseModalities"],T);const A=p(e,["mediaResolution"]);A!=null&&m(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],$b(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const I=p(e,["imageConfig"]);I!=null&&m(r,["imageConfig"],Dce(I));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&m(r,["enableEnhancedCivicAnswers"],D),r}function Ice(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>pce(c))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function Oce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function Rce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],al(t,r)),n}function Mce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function $ce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Dce(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Lce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let s=nr(i);Array.isArray(s)&&(s=s.map(l=>TO(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],jce(t,a,p(n,["request"],{}))),n}function Uce(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Ice(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function Fce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Bce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function qce(t){const e={},n=p(t,["config"]);return n!=null&&Fce(n,e),e}function Vce(t){const e={},n=p(t,["config"]);return n!=null&&Bce(n,e),e}function Gce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Dd(a))),m(e,["batchJobs"],o)}return e}function Hce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a0(a))),m(e,["batchJobs"],o)}return e}function zce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ace(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Cce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],dce(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Wce(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Kce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Pce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Jce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Mce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],$ce(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mi||(mi={}));class sa{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yce extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sa(mi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=XT(this.apiClient,e),r=n._url,i=ce("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,c=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}c.push(f)}return s.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=vce(this.apiClient,e);return s=ce("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>a0(d))}else{const c=XT(this.apiClient,e);return s=ce("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Dd(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bce(this.apiClient,e);return o=ce("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Dd(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Rce(this.apiClient,e);return s=ce("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>a0(d))}else{const c=Oce(this.apiClient,e);return s=ce("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Dd(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=hce(this.apiClient,e);a=ce("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=fce(this.apiClient,e);a=ce("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Vce(e);return s=ce("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Hce(d),h=new WT;return Object.assign(h,f),h})}else{const c=qce(e);return s=ce("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Gce(d),h=new WT;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=_ce(this.apiClient,e);return s=ce("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Ece(d))}else{const c=wce(this.apiClient,e);return s=ce("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Sce(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xce(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function QT(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Qce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=nr(a);Array.isArray(d)&&(d=d.map(f=>QT(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],QT(rn(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>_de(f))),m(e,["tools"],d)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&m(e,["toolConfig"],wde(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Zce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=nr(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],rn(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Sde(h))),m(e,["tools"],f)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&m(e,["toolConfig"],c);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),n}function ede(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],pO(t,r));const i=p(e,["config"]);return i!=null&&Qce(i,n),n}function tde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],pO(t,r));const i=p(e,["config"]);return i!=null&&Zce(i,n),n}function nde(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Si(t,r)),n}function rde(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Si(t,r)),n}function ide(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function ode(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function ade(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function sde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lde(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ude(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function cde(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Si(t,r)),n}function dde(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Si(t,r)),n}function fde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function hde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function pde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function mde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function gde(t){const e={},n=p(t,["config"]);return n!=null&&pde(n,e),e}function yde(t){const e={},n=p(t,["config"]);return n!=null&&mde(n,e),e}function vde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function xde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function bde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ade(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],sde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Xce(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function wde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],lde(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function _de(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],fde(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],hde(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Sde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>ude(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Ede(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Nde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Tde(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Si(t,r));const i=p(e,["config"]);return i!=null&&Ede(i,n),n}function kde(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Si(t,r));const i=p(e,["config"]);return i!=null&&Nde(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ade extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sa(mi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=tde(this.apiClient,e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=ede(this.apiClient,e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=dde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=cde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=rde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ode(d),h=new HT;return Object.assign(h,f),h})}else{const c=nde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ide(d),h=new HT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=kde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Tde(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=yde(e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=xde(d),h=new zT;return Object.assign(h,f),h})}else{const c=gde(e);return s=ce("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=vde(d),h=new zT;return Object.assign(h,f),h})}}}function Ah(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(t){return this instanceof je?(this.v=t,this):new je(t)}function Sr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,f)}}function s(g,y){r[g]&&(i[g]=function(x){return new Promise(function(b,v){o.push([g,x,b,v])>1||l(g,x)})},y&&(i[g]=y(i[g])))}function l(g,y){try{c(r[g](y))}catch(x){h(o[0][3],x)}}function c(g){g.value instanceof je?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Er(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZT=="function"?ZT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:kO(n)}function kO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Pde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ek(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!kO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class jde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ide(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ide{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Pde(o)}async sendMessage(e){var n;await this.sendPromise;const r=rn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,c=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=c?[c]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=rn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?ek(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Sr(this,arguments,function*(){var i,o,a,s,l,c;const d=[];try{for(var f=!0,h=Er(e),g;g=yield je(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const y=s;if(Cde(y)){const x=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;x!==void 0&&d.push(x)}yield yield je(y)}}catch(y){o={error:y}}finally{try{!f&&!i&&(a=h.return)&&(yield je(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ek(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ode(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function Rde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Mde(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],bO(n)),e}function $de(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Dde(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],bO(n)),e}function Lde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Ude(t){const e={},n=p(t,["config"]);return n!=null&&Lde(n,e),e}function Fde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bde extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sa(mi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ude(e);return o=ce("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Fde(l),d=new Hue;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ode(e);return o=ce("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Rde(l),d=new zue;return Object.assign(d,c),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dde(e);return o=ce("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mde(e);return o=ce("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=$de(l),d=new Wue;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ld(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function qde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ife(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Vde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Gde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hde(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function zde(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&m(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=p(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const x=p(t,["responseSchema"]);x!=null&&m(e,["responseSchema"],x);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const v=p(t,["seed"]);v!=null&&m(e,["seed"],v);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const N=p(t,["temperature"]);N!=null&&m(e,["temperature"],N);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const T=p(t,["topP"]);if(T!=null&&m(e,["topP"],T),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Wde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Kde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Jde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],qde(rn(y)));const x=p(t,["tools"]);if(e!==void 0&&x!=null){let E=ol(x);Array.isArray(E)&&(E=E.map(T=>afe(il(T)))),m(e,["setup","tools"],E)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],ofe(b));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],v);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Yde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],zde(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],rn(y));const x=p(t,["tools"]);if(e!==void 0&&x!=null){let T=ol(x);Array.isArray(T)&&(T=T.map(A=>sfe(il(A)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],v);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const E=p(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&m(e,["setup","explicitVadSignal"],E),n}function Xde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ge(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Jde(i,n)),n}function Qde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ge(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Yde(i,n)),n}function Zde(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function efe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function tfe(t){const e={},n=p(t,["media"]);if(n!=null){let c=mO(n);Array.isArray(c)&&(c=c.map(d=>Ld(d))),m(e,["mediaChunks"],c)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],Ld(yO(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Ld(gO(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function nfe(t){const e={},n=p(t,["media"]);if(n!=null){let c=mO(n);Array.isArray(c)&&(c=c.map(d=>d)),m(e,["mediaChunks"],c)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],yO(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],gO(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function rfe(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],lfe(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const c=p(t,["voiceActivityDetectionSignal"]);return c!=null&&m(e,["voiceActivityDetectionSignal"],c),e}function ife(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Vde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Gde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Ld(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function ofe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function afe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Wde(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Kde(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function sfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Hde(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function lfe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["promptTokensDetails"],g)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ufe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cfe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],dfe(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function dfe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function ffe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let o=nr(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function hfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function pfe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],mfe(r)),e}function mfe(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Zp(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ehe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function gfe(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function yfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vfe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],rn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>jO(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],uhe(o)),n}function xfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let a=nr(i);Array.isArray(a)&&(a=a.map(s=>Zp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&yfe(o),n}function bfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let a=nr(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&vfe(o,n),n}function wfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function _fe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Sfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ge(t,r)),n}function Efe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ge(t,r)),n}function Nfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Tfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function kfe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const x=p(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const v=p(t,["labels"]);e!==void 0&&v!=null&&m(e,["labels"],v);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function Afe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Phe(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&kfe(a,n),n}function Cfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>em(o))),m(e,["generatedImages"],i)}return e}function Pfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function Ife(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let s=Rb(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&Pfe(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],Ge(t,a)),n}function Ofe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let a=Rb(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&jfe(o,n),n}function Rfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Mfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>pfe(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function $fe(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Dfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lfe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ufe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ffe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Bfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Zp(rn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=p(e,["seed"]);x!=null&&m(r,["seed"],x);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const v=p(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],Mb(v));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let B=_;Array.isArray(B)&&(B=B.map(O=>jhe(O))),m(n,["safetySettings"],B)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let B=ol(N);Array.isArray(B)&&(B=B.map(O=>Lhe(il(O)))),m(n,["tools"],B)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Dhe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Si(t,E));const T=p(e,["responseModalities"]);T!=null&&m(r,["responseModalities"],T);const A=p(e,["mediaResolution"]);A!=null&&m(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],$b(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const I=p(e,["imageConfig"]);I!=null&&m(r,["imageConfig"],phe(I));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&m(r,["enableEnhancedCivicAnswers"],D),r}function qfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],rn(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=p(e,["seed"]);x!=null&&m(r,["seed"],x);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const v=p(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],Mb(v));const w=p(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const N=p(e,["modelSelectionConfig"]);N!=null&&m(r,["modelConfig"],N);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let U=S;Array.isArray(U)&&(U=U.map(q=>q)),m(n,["safetySettings"],U)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let U=ol(E);Array.isArray(U)&&(U=U.map(q=>jO(il(q)))),m(n,["tools"],U)}const T=p(e,["toolConfig"]);n!==void 0&&T!=null&&m(n,["toolConfig"],T);const A=p(e,["labels"]);n!==void 0&&A!=null&&m(n,["labels"],A);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&m(n,["cachedContent"],Si(t,C));const j=p(e,["responseModalities"]);j!=null&&m(r,["responseModalities"],j);const I=p(e,["mediaResolution"]);I!=null&&m(r,["mediaResolution"],I);const D=p(e,["speechConfig"]);D!=null&&m(r,["speechConfig"],$b(D));const B=p(e,["audioTimestamp"]);B!=null&&m(r,["audioTimestamp"],B);const O=p(e,["thinkingConfig"]);O!=null&&m(r,["thinkingConfig"],O);const P=p(e,["imageConfig"]);if(P!=null&&m(r,["imageConfig"],mhe(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function tk(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let a=nr(i);Array.isArray(a)&&(a=a.map(s=>Zp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Bfe(t,o,n)),n}function nk(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["contents"]);if(i!=null){let a=nr(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],qfe(t,o,n)),n}function rk(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>cfe(c))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function ik(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function Vfe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Gfe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const x=p(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const v=p(t,["labels"]);e!==void 0&&v!=null&&m(e,["labels"],v);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function Hfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Vfe(o,n),n}function zfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Gfe(o,n),n}function Wfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ohe(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],CO(i)),e}function Kfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>em(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],PO(i)),e}function Jfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],tm(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Xhe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Yfe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&m(e,["parameters","generateAudio"],y);const x=p(t,["lastFrame"]);e!==void 0&&x!=null&&m(e,["instances[0]","lastFrame"],kr(x));const b=p(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(N=>Qhe(N))),m(e,["instances[0]","referenceImages"],_)}const v=p(t,["mask"]);e!==void 0&&v!=null&&m(e,["instances[0]","mask"],Yhe(v));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function Xfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],the(a)),e}function Qfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],nhe(a)),e}function Zfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],tm(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],IO(a));const s=p(e,["source"]);s!=null&&rhe(s,n);const l=p(e,["config"]);return l!=null&&Jfe(l,n),n}function ehe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],kr(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],OO(a));const s=p(e,["source"]);s!=null&&ihe(s,n);const l=p(e,["config"]);return l!=null&&Yfe(l,n),n}function the(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>she(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nhe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>lhe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function rhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],tm(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],IO(o)),n}function ihe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],kr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],OO(o)),n}function ohe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],ghe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],CO(i)),e}function em(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],AO(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],PO(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function ahe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],AO(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function she(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Khe(n)),e}function lhe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Jhe(n)),e}function uhe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&m(e,["maxOutputTokens"],c);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=p(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const x=p(t,["responseSchema"]);x!=null&&m(e,["responseSchema"],x);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const v=p(t,["seed"]);v!=null&&m(e,["seed"],v);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const N=p(t,["temperature"]);N!=null&&m(e,["temperature"],N);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const T=p(t,["topP"]);if(T!=null&&m(e,["topP"],T),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function che(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ge(t,r)),n}function dhe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ge(t,r)),n}function fhe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function hhe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function phe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mhe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function ghe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],lo(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function AO(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],lo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function tm(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],lo(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function kr(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],lo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yhe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],wO(t,s)),r}function vhe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],wO(t,s)),r}function xhe(t,e){const n={},r=p(e,["config"]);return r!=null&&yhe(t,r,n),n}function bhe(t,e){const n={},r=p(e,["config"]);return r!=null&&vhe(t,r,n),n}function whe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=_O(i);Array.isArray(o)&&(o=o.map(a=>s0(a))),m(e,["models"],o)}return e}function _he(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=_O(i);Array.isArray(o)&&(o=o.map(a=>l0(a))),m(e,["models"],o)}return e}function She(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function s0(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],Uhe(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const c=p(t,["supportedGenerationMethods"]);c!=null&&m(e,["supportedActions"],c);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const y=p(t,["thinking"]);return y!=null&&m(e,["thinking"],y),e}function l0(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>$fe(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],Fhe(l));const c=p(t,["defaultCheckpointId"]);c!=null&&m(e,["defaultCheckpointId"],c);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Ehe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Dfe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Lfe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],ufe(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Nhe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],kr(n)),e}function The(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&m(e,["parameters","addWatermark"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function khe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["source"]);i!=null&&Che(i,n);const o=p(e,["config"]);return o!=null&&The(o,n),n}function Ahe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>em(i))),m(e,["generatedImages"],r)}return e}function Che(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],kr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Nhe(s))),m(e,["instances[0]","productImages"],a)}return n}function Phe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],kr(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],She(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],gfe(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function CO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function PO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function jhe(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Ihe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],kr(n)),e}function Ohe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function Rhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["source"]);i!=null&&$he(i,n);const o=p(e,["config"]);return o!=null&&Ohe(o,n),n}function Mhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ahe(i))),m(e,["generatedMasks"],r)}return e}function $he(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],kr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Ihe(o)),n}function Dhe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Ufe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Lhe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],fhe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],hhe(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function jO(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Ffe(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],c);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Uhe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Fhe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Bhe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function qhe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Vhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],Ge(t,r));const i=p(e,["config"]);return i!=null&&Bhe(i,n),n}function Ghe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["config"]);return i!=null&&qhe(i,n),n}function Hhe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const c=p(t,["enhanceInputImage"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function zhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ge(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],kr(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&Hhe(a,n),n}function Whe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>em(o))),m(e,["generatedImages"],i)}return e}function Khe(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],lo(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Jhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],lo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Yhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],kr(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Xhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],tm(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Qhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],kr(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function IO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],lo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function OO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],lo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zhe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function epe(t){const e={},n=p(t,["config"]);return n!=null&&Zhe(n,e),e}function tpe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function npe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&tpe(r,e),e}function rpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function ipe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function ope(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],spe(a)),e}function ape(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&ipe(i,e),e}function spe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function lpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function upe(t){const e={},n=p(t,["config"]);return n!=null&&lpe(n,e),e}function cpe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function RO(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function dpe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&RO(r,e),e}function fpe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hpe="Content-Type",ppe="X-Server-Timeout",mpe="User-Agent",u0="x-goog-api-client",gpe="1.34.0",ype=`google-genai-sdk/${gpe}`,vpe="v1beta1",xpe="v1beta";class bpe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vpe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:xpe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&wpe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ok(i),new i0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ok(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Sr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:d}=yield je(i.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const x=JSON.parse(JSON.stringify(y.error)),b=x.status,v=x.code,w=`got status: ${b}. ${JSON.stringify(y)}`;if(v>=400&&v<600)throw new Qp({message:w,status:v})}}catch(y){if(y.name==="ApiError")throw y}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const b of l){const v=a.indexOf(b);v!==-1&&(h===-1||v<h)&&(h=v,g=b.length)}if(h===-1)break;const y=a.substring(0,h);a=a.substring(h+g);const x=y.trim();if(x.startsWith(s)){const b=x.substring(s.length).trim();try{const v=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield je(new i0(v))}catch(v){throw new Error(`exception parsing stream chunk ${b}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ype+" "+this.clientOptions.userAgentExtra;return e[mpe]=n,e[u0]=n,e[hpe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(ppe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},c=this.getFileName(e),d=ce("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,c,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&RO(r,f);const h=await this.fetchUploadUrl(c,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function ok(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Qp({message:i,status:n}):new Error(i)}}function wpe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],d=s[l];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),s[l]=c)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _pe="mcp_used/unknown";let Spe=!1;function MO(t){for(const e of t)if(Epe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Spe}function $O(t){var e;const n=(e=t[u0])!==null&&e!==void 0?e:"";t[u0]=(n+` ${_pe}`).trimStart()}function Epe(t){return t!==null&&typeof t=="object"&&t instanceof Lb}function Npe(t){return Sr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield je(n.listTools({cursor:i}));for(const s of a.tools)yield yield je(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Lb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Lb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,Er(Npe(d))),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),rce(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Tpe(t,e,n){const r=new Jue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class kpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Ppe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let c=()=>{};const d=new Promise(_=>{c=_}),f=e.callbacks,h=function(){c({})},g=this.apiClient,y={onopen:h,onmessage:_=>{Tpe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},x=this.webSocketFactory.create(l,Cpe(a),y);x.connect(),await d;const w={setup:{model:Ge(this.apiClient,e.model)}};return x.send(JSON.stringify(w)),new Ape(x,this.apiClient)}}class Ape{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=efe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Zde(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ba.PLAY)}pause(){this.sendPlaybackControl(Ba.PAUSE)}stop(){this.sendPlaybackControl(Ba.STOP)}resetContext(){this.sendPlaybackControl(Ba.RESET_CONTEXT)}close(){this.conn.close()}}function Cpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ppe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jpe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ipe(t,e,n){const r=new Kue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=rfe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Ope{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new kpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&MO(e.config.tools)&&$O(f);const h=Dpe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let j="BidiGenerateContent",I="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",I="access_token"),d=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${j}?${I}=${C}`}let g=()=>{};const y=new Promise(C=>{g=C}),x=e.callbacks,b=function(){var C;(C=x==null?void 0:x.onopen)===null||C===void 0||C.call(x),g({})},v=this.apiClient,w={onopen:b,onmessage:C=>{Ipe(v,x.onmessage,C)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,$pe(h),w);_.connect(),await y;let N=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const C=this.apiClient.getProject(),j=this.apiClient.getLocation();N=`projects/${C}/locations/${j}/`+N}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nh.AUDIO]}:e.config.responseModalities=[Nh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],T=[];for(const C of E)if(this.isCallableTool(C)){const j=C;T.push(await j.tool())}else T.push(C);T.length>0&&(e.config.tools=T);const A={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Qde(this.apiClient,A):S=Xde(this.apiClient,A),delete S.config,_.send(JSON.stringify(S)),new Mpe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Rpe={turnComplete:!0};class Mpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=nr(n.turns),e.isVertexAI()||(r=r.map(i=>Zp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(jpe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Rpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:nfe(e)}:n={realtimeInput:tfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function $pe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Dpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ak=10;function sk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ns(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ns(t){return"callTool"in t&&typeof t.callTool=="function"}function Lpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ns(i)))!==null&&r!==void 0?r:!1}function lk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ns(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function uk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Upe extends _i{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Lpe(n)||sk(n.config))return await this.generateContentInternal(l);const c=lk(n);if(c.length>0){const x=c.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let d,f;const h=nr(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ak;let y=0;for(;y<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const x=d.candidates[0].content,b=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ns(v)){const _=await v.callTool(d.functionCalls);b.push(..._)}y++,f={role:"user",parts:b},l.contents=nr(l.contents),l.contents.push(x),l.contents.push(f),uk(l.config)&&(h.push(x),h.push(f))}return uk(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),sk(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=lk(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(c&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new sa(mi.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ns(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&MO(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),$O(c),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ns(a)){const s=a,l=await s.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ak;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(c,d,f){return Sr(this,arguments,function*(){for(var h,g,y,x,b,v;s<o;){a&&(s++,a=!1);const S=yield je(c.processParamsMaybeAddMcpUsage(f)),E=yield je(c.generateContentStreamInternal(S)),T=[],A=[];try{for(var w=!0,_=(g=void 0,Er(E)),N;N=yield je(_.next()),h=N.done,!h;w=!0){x=N.value,w=!1;const C=x;if(yield yield je(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){A.push(C.candidates[0].content);for(const j of(v=C.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(j.functionCall.name)){const I=yield je(d.get(j.functionCall.name).callTool([j.functionCall]));T.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!w&&!h&&(y=_.return)&&(yield je(y.call(_)))}finally{if(g)throw g.error}}if(T.length>0){a=!0;const C=new Nl;C.candidates=[{content:{role:"user",parts:T}}],yield yield je(C);const j=[];j.push(...A),j.push({role:"user",parts:T});const I=nr(f.contents).concat(j);f.contents=I}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nk(this.apiClient,e);return s=ce("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ik(d),h=new Nl;return Object.assign(h,f),h})}else{const c=tk(this.apiClient,e);return s=ce("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=rk(d),h=new Nl;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nk(this.apiClient,e);return s=ce("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Sr(this,arguments,function*(){var h,g,y,x;try{for(var b=!0,v=Er(f),w;w=yield je(v.next()),h=w.done,!h;b=!0){x=w.value,b=!1;const _=x,N=ik(yield je(_.json()));N.sdkHttpResponse={headers:_.headers};const S=new Nl;Object.assign(S,N),yield yield je(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield je(y.call(v)))}finally{if(g)throw g.error}}})})}else{const c=tk(this.apiClient,e);return s=ce("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return Sr(this,arguments,function*(){var h,g,y,x;try{for(var b=!0,v=Er(f),w;w=yield je(v.next()),h=w.done,!h;b=!0){x=w.value,b=!1;const _=x,N=rk(yield je(_.json()));N.sdkHttpResponse={headers:_.headers};const S=new Nl;Object.assign(S,N),yield yield je(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield je(y.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Ofe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mfe(d),h=new LT;return Object.assign(h,f),h})}else{const c=Ife(this.apiClient,e);return s=ce("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rfe(d),h=new LT;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=zfe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Kfe(d),h=new UT;return Object.assign(h,f),h})}else{const c=Hfe(this.apiClient,e);return s=ce("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Wfe(d),h=new UT;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Afe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Cfe(l),d=new Due;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=zhe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Whe(l),d=new Lue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=khe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Ahe(l),d=new Uue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Rhe(this.apiClient,e);return o=ce("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Mhe(l),d=new Fue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=dhe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>l0(d))}else{const c=che(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>s0(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=bhe(this.apiClient,e);return s=ce("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=_he(d),h=new FT;return Object.assign(h,f),h})}else{const c=xhe(this.apiClient,e);return s=ce("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=whe(d),h=new FT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Ghe(this.apiClient,e);return s=ce("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>l0(d))}else{const c=Vhe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>s0(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Efe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Tfe(d),h=new BT;return Object.assign(h,f),h})}else{const c=Sfe(this.apiClient,e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Nfe(d),h=new BT;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=bfe(this.apiClient,e);return s=ce("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=_fe(d),h=new qT;return Object.assign(h,f),h})}else{const c=xfe(this.apiClient,e);return s=ce("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=wfe(d),h=new qT;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ffe(this.apiClient,e);return o=ce("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=hfe(l),d=new Bue;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=ehe(this.apiClient,e);return s=ce("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Qfe(d),h=new Th;return Object.assign(h,f),h})}else{const c=Zfe(this.apiClient,e);return s=ce("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Xfe(d),h=new Th;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fpe extends _i{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=jue(e);return s=ce("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const c=Pue(e);return s=ce("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Sue(e);return o=ce("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bpe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function qpe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xpe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Vpe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],Ype(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Gpe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Vpe(t,r,n)),n}function Hpe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function zpe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wpe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Kpe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Jpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],qpe(rn(y)));const x=p(t,["tools"]);if(e!==void 0&&x!=null){let E=ol(x);Array.isArray(E)&&(E=E.map(T=>Zpe(il(T)))),m(e,["setup","tools"],E)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Qpe(b));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],v);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ype(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ge(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Jpe(i,n)),n}function Xpe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Hpe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],zpe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Bpe(l));const c=p(t,["text"]);c!=null&&m(e,["text"],c);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Qpe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zpe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Wpe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Kpe(l));const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eme(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function tme(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=eme(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class nme extends _i{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Gpe(this.apiClient,e);o=ce("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=tme(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rme(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function ime(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&rme(r,e),e}function ome(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function ame(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function sme(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&ame(r,e),e}function lme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ume extends _i{constructor(e){super(),this.apiClient=e,this.list=async n=>new sa(mi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ome(e);return o=ce("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ime(e);i=ce("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=sme(e);return o=ce("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=lme(l),d=new que;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cme extends _i{constructor(e,n=new ume(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new sa(mi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=epe(e);return o=ce("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=rpe(e);return o=ce("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=npe(e);i=ce("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=upe(e);return o=ce("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=cpe(l),d=new Vue;return Object.assign(d,c),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dpe(e);return o=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=fpe(l),d=new Gue;return Object.assign(d,c),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ape(e);return o=ce("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ope(l),d=new Ib;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let DO=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return DO=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const dme=()=>DO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const d0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ar extends Error{}class pn extends ar{constructor(e,n,r,i){super(`${pn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new nm({message:r,cause:d0(n)});const o=n;return e===400?new UO(e,o,r,i):e===401?new FO(e,o,r,i):e===403?new BO(e,o,r,i):e===404?new qO(e,o,r,i):e===409?new VO(e,o,r,i):e===422?new GO(e,o,r,i):e===429?new HO(e,o,r,i):e>=500?new zO(e,o,r,i):new pn(e,o,r,i)}}class f0 extends pn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class nm extends pn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class LO extends nm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class UO extends pn{}class FO extends pn{}class BO extends pn{}class qO extends pn{}class VO extends pn{}class GO extends pn{}class HO extends pn{}class zO extends pn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fme=/^[a-z][a-z0-9+.-]*:/i,hme=t=>fme.test(t);let h0=t=>(h0=Array.isArray,h0(t));const pme=h0;let mme=pme;const ck=mme;function gme(t){if(!t)return!0;for(const e in t)return!1;return!0}function yme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vme=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ar(`${t} must be an integer`);if(e<0)throw new ar(`${t} must be a positive integer`);return e},xme=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bme=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _a="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _me=()=>{var t,e,n,r,i;const o=wme();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":fk(Deno.build.os),"X-Stainless-Arch":dk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":fk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":dk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Sme();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Sme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const dk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",fk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let xd;const Eme=()=>xd??(xd=_me());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nme(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function WO(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Tme(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return WO({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function KO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kme(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ame=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JO=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vg(t,e,n){return JO(),new File(t,e??"unknown_file",n)}function Cme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Pme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&YO(t),Ime=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Ome(t,e,n){if(JO(),t=await t,jme(t))return t instanceof File?t:vg([await t.arrayBuffer()],t.name);if(Ime(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),vg(await p0(i),e,n)}const r=await p0(t);if(e||(e=Cme(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return vg(r,e,n)}async function p0(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(YO(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(Pme(t))try{for(var s=!0,l=Er(t),c;c=await l.next(),e=c.done,!e;s=!0){i=c.value,s=!1;const d=i;a.push(...await p0(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Rme(t)}`)}return a}function Rme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XO{constructor(e){this._client=e}}XO._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QO(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const hk=Object.freeze(Object.create(null)),Mme=(t=QO)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var g,y,x;/[?#]/.test(f)&&(i=!0);const b=r[h];let v=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((x=Object.getPrototypeOf((y=Object.getPrototypeOf((g=b.hasOwnProperty)!==null&&g!==void 0?g:hk))!==null&&y!==void 0?y:hk))===null||x===void 0?void 0:x.toString))&&(v=b+"",o.push({start:d.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(s))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const y=" ".repeat(g.start-d),x="^".repeat(g.length);return d=g.start+g.length,h+y+x},"");throw new ar(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},bd=Mme(QO);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZO extends XO{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Ah(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new ar("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ar("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bd`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(bd`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(bd`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Ah(o,["api_version"]);return this._client.get(bd`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}ZO._key=Object.freeze(["interactions"]);class eR extends ZO{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $me(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let wd;function Ub(t){let e;return(wd??(e=new globalThis.TextEncoder,wd=e.encode.bind(e)))(t)}let _d;function pk(t){let e;return(_d??(e=new globalThis.TextDecoder,_d=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ub(e):e;this.buffer=$me([this.buffer,n]);const r=[];let i;for(;(i=Dme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(pk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=pk(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}rm.NEWLINE_CHARS=new Set([`
`,"\r"]);rm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Dme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Lme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ch={off:0,error:200,warn:300,info:400,debug:500},mk=(t,e,n)=>{if(t){if(yme(Ch,t))return t;sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ch))}`)}};function Ol(){}function Sd(t,e,n){return!e||Ch[t]>Ch[n]?Ol:e[t].bind(e)}const Ume={error:Ol,warn:Ol,info:Ol,debug:Ol};let gk=new WeakMap;function sn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Ume;const i=gk.get(n);if(i&&i[0]===r)return i[1];const o={error:Sd("error",n,r),warn:Sd("warn",n,r),info:Sd("info",n,r),debug:Sd("debug",n,r)};return gk.set(n,[r,o]),o}const _o=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?sn(r):console;function a(){return Sr(this,arguments,function*(){var l,c,d,f;if(i)throw new ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=Er(Fme(e,n)),x;x=yield je(y.next()),l=x.done,!l;g=!0){f=x.value,g=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield je(JSON.parse(b.data))}catch(v){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),v}}}catch(b){c={error:b}}finally{try{!g&&!l&&(d=y.return)&&(yield je(d.call(y)))}finally{if(c)throw c.error}}h=!0}catch(b){if(c0(b))return yield je(void 0);throw b}finally{h||n.abort()}})}return new qa(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Sr(this,arguments,function*(){var l,c,d,f;const h=new rm,g=KO(e);try{for(var y=!0,x=Er(g),b;b=yield je(x.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const v=f;for(const w of h.decode(v))yield yield je(w)}}catch(v){c={error:v}}finally{try{!y&&!l&&(d=x.return)&&(yield je(d.call(x)))}finally{if(c)throw c.error}}for(const v of h.flush())yield yield je(v)})}function a(){return Sr(this,arguments,function*(){var l,c,d,f;if(i)throw new ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=Er(o()),x;x=yield je(y.next()),l=x.done,!l;g=!0){f=x.value,g=!1;const b=f;h||b&&(yield yield je(JSON.parse(b)))}}catch(b){c={error:b}}finally{try{!g&&!l&&(d=y.return)&&(yield je(d.call(y)))}finally{if(c)throw c.error}}h=!0}catch(b){if(c0(b))return yield je(void 0);throw b}finally{h||n.abort()}})}return new qa(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new qa(()=>i(e),this.controller,this.client),new qa(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return WO({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Ub(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Fme(t,e){return Sr(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ar("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ar("Attempted to iterate over a response with no body");const s=new qme,l=new rm,c=KO(t.body);try{for(var d=!0,f=Er(Bme(c)),h;h=yield je(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const g=a;for(const y of l.decode(g)){const x=s.decode(y);x&&(yield yield je(x))}}}catch(g){i={error:g}}finally{try{!d&&!r&&(o=f.return)&&(yield je(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const y=s.decode(g);y&&(yield yield je(y))}})}function Bme(t){return Sr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=Er(t),c;c=yield je(l.next()),n=c.done,!n;s=!0){o=c.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Ub(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=Lme(a))!==-1;)yield yield je(a.slice(0,g)),a=a.slice(g)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield je(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield je(a))})}class qme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Vme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Vme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Gme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):qa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return sn(t).debug(`[${r}] response parsed`,_o({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Promise{constructor(e,n,r=Gme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Fb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tR=Symbol("brand.privateNullableHeaders");function*Hme(t){if(!t)return;if(tR in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ck(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ck(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Tl=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of Hme(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[tR]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=yue)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nR;class im{constructor(e){var n,r,i,o,a,s,l,{baseURL:c=xg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=xg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Ah(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:im.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(o=mk(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:mk(xg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Nme(),this.encoder=Ame,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Tl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Tl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Tl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ar(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_a}`}defaultIdempotencyKey(){return`stainless-node-retry-${dme()}`}makeStatusError(e,n,r,i){return pn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=hme(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return gme(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Fb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:c,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(c,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(sn(this).debug(`[${h}] sending request`,_o({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:c.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new f0;const x=new AbortController,b=await this.fetchWithTimeout(d,c,f,x).catch(d0),v=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new f0;const N=c0(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return sn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${_}`),sn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${_})`,_o({retryOfRequestLogID:r,url:d,durationMs:v-y,message:b.message})),this.retryRequest(s,n,r??h);throw sn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),sn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,_o({retryOfRequestLogID:r,url:d,durationMs:v-y,message:b.message})),N?new LO:new nm({cause:b})}const w=`[${h}${g}] ${c.method} ${d} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${v-y}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await kme(b.body),sn(this).info(`${w} - ${C}`),sn(this).debug(`[${h}] response error (${C})`,_o({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),this.retryRequest(s,n,r??h,b.headers)}const N=_?"error; no more retries left":"error; not retryable";sn(this).info(`${w} - ${N}`);const S=await b.text().catch(C=>d0(C).message),E=xme(S),T=E?void 0:S;throw sn(this).debug(`[${h}] response error (${N})`,_o({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:T,durationMs:Date.now()-y})),this.makeStatusError(b.status,E,T,b.headers)}return sn(this).info(w),sn(this).debug(`[${h}] response start`,_o({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),{response:b,options:s,controller:x,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Ah(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,c)}return await bme(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:c,defaultBaseURL:d}=a,f=this.buildURL(l,c,d);"timeout"in a&&vme("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=Tl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Eme()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Tl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Tme(e)}:this.encoder({body:e,headers:r})}}im.DEFAULT_TIMEOUT=6e4;class Gt extends im{constructor(){super(...arguments),this.interactions=new eR(this)}}nR=Gt;Gt.GeminiNextGenAPIClient=nR;Gt.GeminiNextGenAPIClientError=ar;Gt.APIError=pn;Gt.APIConnectionError=nm;Gt.APIConnectionTimeoutError=LO;Gt.APIUserAbortError=f0;Gt.NotFoundError=qO;Gt.ConflictError=VO;Gt.RateLimitError=HO;Gt.BadRequestError=UO;Gt.AuthenticationError=FO;Gt.InternalServerError=zO;Gt.PermissionDeniedError=BO;Gt.UnprocessableEntityError=GO;Gt.toFile=Ome;Gt.Interactions=eR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Wme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Kme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Jme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Yme(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Xme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],yk(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],yk(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Qme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&uge(o);const a=p(t,["config"]);return a!=null&&Yme(a,n),n}function Zme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&cge(o,n,e);const a=p(t,["config"]);return a!=null&&Xme(a,n,e),n}function ege(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function tge(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function nge(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function rge(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function ige(t,e){const n={},r=p(t,["config"]);return r!=null&&nge(r,n),n}function oge(t,e){const n={},r=p(t,["config"]);return r!=null&&rge(r,n),n}function age(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>rR(s))),m(n,["tuningJobs"],a)}return n}function sge(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>m0(s))),m(n,["tuningJobs"],a)}return n}function lge(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function uge(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function cge(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function rR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],xO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(n,["updateTime"],c);const d=p(t,["description"]);d!=null&&m(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],lge(h)),n}function m0(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],xO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&m(n,["updateTime"],c);const d=p(t,["error"]);d!=null&&m(n,["error"],d);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const y=p(t,["preTunedModel"]);y!=null&&m(n,["preTunedModel"],y);const x=p(t,["supervisedTuningSpec"]);x!=null&&m(n,["supervisedTuningSpec"],x);const b=p(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const v=p(t,["tuningDataStats"]);v!=null&&m(n,["tuningDataStats"],v);const w=p(t,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const N=p(t,["customBaseModel"]);N!=null&&m(n,["customBaseModel"],N);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const E=p(t,["labels"]);E!=null&&m(n,["labels"],E);const T=p(t,["outputUri"]);T!=null&&m(n,["outputUri"],T);const A=p(t,["pipelineJob"]);A!=null&&m(n,["pipelineJob"],A);const C=p(t,["serviceAccount"]);C!=null&&m(n,["serviceAccount"],C);const j=p(t,["tunedModelDisplayName"]);j!=null&&m(n,["tunedModelDisplayName"],j);const I=p(t,["veoTuningSpec"]);return I!=null&&m(n,["veoTuningSpec"],I),n}function dge(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function yk(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fge extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sa(mi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:r0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=tge(e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>m0(d))}else{const c=ege(e);return s=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>rR(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=oge(e);return s=ce("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=sge(d),h=new VT;return Object.assign(h,f),h})}else{const c=ige(e);return s=ce("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=age(d),h=new VT;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Wme(e);return s=ce("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Jme(d),h=new GT;return Object.assign(h,f),h})}else{const c=zme(e);return s=ce("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Kme(d),h=new GT;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Zme(e,e);return o=ce("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>m0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qme(e);return o=ce("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>dge(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hge{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pge=1024*1024*8,mge=3,gge=1e3,yge=2,Ph="x-goog-upload-status";async function vge(t,e,n){var r;const i=await iR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ph])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function xge(t,e,n){var r;const i=await iR(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ph])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=hO(o),s=new Ob;return Object.assign(s,a),s}async function iR(t,e,n){var r,i;let o=0,a=0,s=new i0(new Response),l="upload";for(o=t.size;a<o;){const c=Math.min(pge,o-a),d=t.slice(a,a+c);a+c>=o&&(l+=", finalize");let f=0,h=gge;for(;f<mge&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Ph]));)f++,await wge(h),h=h*yge;if(a+=c,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Ph])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function bge(t){return{size:t.size,type:t.type}}function wge(t){return new Promise(e=>setTimeout(e,t))}class _ge{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vge(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xge(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bge(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sge{create(e,n,r){return new Ege(e,n,r)}}class Ege{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vk="x-goog-api-key";class Nge{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(vk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(vk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tge="gl-node/";class kge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=wue(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Nge(this.apiKey);this.apiClient=new bpe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Tge+"web",uploader:new _ge,downloader:new hge}),this.models=new Upe(this.apiClient),this.live=new Ope(this.apiClient,i,new Sge),this.batches=new Yce(this.apiClient),this.chats=new jde(this.models,this.apiClient),this.caches=new Ade(this.apiClient),this.files=new Bde(this.apiClient),this.operations=new Fpe(this.apiClient),this.authTokens=new nme(this.apiClient),this.tunings=new fge(this.apiClient),this.fileSearchStores=new cme(this.apiClient)}}const Age=({user:t})=>{const[e,n]=k.useState(!1),[r,i]=k.useState(""),[o,a]=k.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=k.useState(!1),c=k.useRef(null);k.useEffect(()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{try{const{data:h}=await Be.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(v=>{const w=v.data||{};return{code:v.tracking_code,title:v.title,status:w.status||v.status,equipment:w.equipName||"",failure:w.failureDesc,date:v.created_at,requester:w.requester}}),{data:y}=await Be.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),x=(y||[]).map(v=>{const w=v.data||{};return{part:w.partName,qty:w.qty,requester:v.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:x})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(y=>[...y,g]),i(""),l(!0);try{const y=new kge({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),x=await d(),v=(await y.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:x+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:v}])}catch(y){console.error("AI Error:",y);let x=`: ${y.message||"      ."}`;y.message&&y.message.toLowerCase().includes("failed to fetch")?x=`        .

         (VPN)        .`:y.message&&(y.message.includes("403")||y.message.includes("400"))&&(x="  API        ."),a(b=>[...b,{id:(Date.now()+1).toString(),role:"model",text:x}])}finally{l(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?u.jsx(Xt,{className:"w-6 h-6"}):u.jsx(DD,{className:"w-7 h-7"})}),e&&u.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[u.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:u.jsx(lL,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold",children:" "}),u.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>u.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:u.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[u.jsx(hn,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),u.jsx("div",{ref:c})]}),u.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[u.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),u.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:u.jsx(yf,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},Cge=()=>{const[t,e]=k.useState(0),[n,r]=k.useState(!1);return k.useEffect(()=>{setTimeout(()=>r(!0),2500);const i=4e3,o=30,s=100/(i/o),l=setInterval(()=>{e(c=>c>=100?(clearInterval(l),100):Math.min(c+s,100))},o);return()=>{clearInterval(l)}},[]),u.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),u.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[u.jsx("div",{className:"w-48 h-48 mb-6 relative",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:"w-full h-full drop-shadow-xl",children:[u.jsx("defs",{children:u.jsxs("filter",{id:"softGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),u.jsx("path",{d:"M100 25 L175 165 H25 L100 25 Z",stroke:"#7f1d1d",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"logo-part-triangle"}),u.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",children:[u.jsx("path",{d:"M100 180 L150 155 L100 130 L50 155 Z",fill:"#7f1d1d",stroke:"#7f1d1d",strokeWidth:"4",className:"logo-part-rhombus-bottom"}),u.jsx("path",{d:"M100 145 L140 120 L100 95 L60 120 Z",fill:"#991b1b",stroke:"#991b1b",strokeWidth:"4",className:"logo-part-rhombus-middle"}),u.jsx("path",{d:"M100 110 L130 90 L100 70 L70 90 Z",fill:"#b91c1c",stroke:"#b91c1c",strokeWidth:"4",className:"logo-part-rhombus-top"})]}),u.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#7f1d1d",className:"logo-part-dot"})]})}),u.jsxs("div",{className:`text-center transition-all duration-1000 transform ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[u.jsx("h1",{className:"text-3xl font-black text-[#800020] dark:text-red-400 mb-2 tracking-wide",children:"  "}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-10",children:"    "})]}),u.jsx("div",{className:"w-48 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-500 rounded-full transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(128,0,32,0.5)]",style:{width:`${t}%`}})})]}),u.jsx("style",{children:`
        /* 1. Triangle Drawing Animation */
        .logo-part-triangle {
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            opacity: 0.3;
            animation: drawTriangle 2.5s ease-out forwards;
        }
        @keyframes drawTriangle {
            0% { stroke-dashoffset: 600; opacity: 0; }
            100% { stroke-dashoffset: 0; opacity: 0.3; }
        }

        /* 2. Rhombus Assembly Animations */
        /* Staggered to complete by approx 3.8s */
        .logo-part-rhombus-bottom {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 0.8s;
        }
        .logo-part-rhombus-middle {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 1.6s;
        }
        .logo-part-rhombus-top {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 2.4s;
        }

        @keyframes assemblePart {
            0% { opacity: 0; transform: translateY(25px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* 3. Dot Pop In (Last piece) */
        .logo-part-dot {
            opacity: 0;
            transform-origin: center;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            animation-delay: 3.2s;
        }
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }
      `})]})},xk=300*1e3,Pge=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState(()=>{try{const g=localStorage.getItem("lastActivityTime");if(g&&Date.now()-parseInt(g,10)>xk)return localStorage.removeItem("currentUser"),null;const y=localStorage.getItem("currentUser");return y?JSON.parse(y):null}catch(g){return console.error("Failed to parse user from local storage",g),localStorage.removeItem("currentUser"),null}}),[i,o]=k.useState(()=>localStorage.getItem("theme")==="dark"),[a,s]=k.useState(()=>localStorage.getItem("snowMode")==="true"),l=k.useRef(null);k.useEffect(()=>{const g=setTimeout(()=>{e(!1)},6e3);return()=>clearTimeout(g)},[]);const c=k.useCallback((g=!1)=>{if(n){const y={id:Do(),userName:n.fullName,personnelCode:n.personnelCode||"---",action:g?"  ( )":"  ",date:st(),time:hs(),ip:l_},x=localStorage.getItem("theme"),b=localStorage.getItem("snowMode"),v=localStorage.getItem("system_logs");localStorage.clear(),x&&localStorage.setItem("theme",x),b&&localStorage.setItem("snowMode",b),v&&localStorage.setItem("system_logs",v);const w=v?JSON.parse(v):[];w.push(y),localStorage.setItem("system_logs",JSON.stringify(w))}r(null),g&&alert("               .")},[n]),d=k.useCallback(()=>{n&&(localStorage.setItem("lastActivityTime",Date.now().toString()),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{c(!0)},xk))},[n,c]);k.useEffect(()=>{if(!n)return;const g=["mousedown","mousemove","keydown","scroll","touchstart"],y=()=>d();return g.forEach(x=>document.addEventListener(x,y)),d(),()=>{g.forEach(x=>document.removeEventListener(x,y)),l.current&&clearTimeout(l.current)}},[n,d]),k.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),k.useEffect(()=>{localStorage.setItem("snowMode",String(a))},[a]);const f=g=>{r(g),localStorage.setItem("currentUser",JSON.stringify(g)),localStorage.setItem("lastActivityTime",Date.now().toString());const y={id:Do(),userName:g.fullName,personnelCode:g.personnelCode||(g.username==="admin"?"9999":"0000"),action:"  ",date:st(),time:hs(),ip:l_,details:`Role: ${g.role}`},x=JSON.parse(localStorage.getItem("system_logs")||"[]");x.push(y),localStorage.setItem("system_logs",JSON.stringify(x))},h=g=>{r(g),localStorage.setItem("currentUser",JSON.stringify(g))};return t?u.jsx(Cge,{}):u.jsxs(AD,{children:[u.jsx(gue,{enabled:a}),n&&u.jsx(Age,{user:n}),u.jsx(fU,{user:n,onLogout:()=>c(!1),darkMode:i,toggleDarkMode:()=>o(!i),children:u.jsxs(ND,{children:[u.jsx(xt,{path:"/login",element:n?u.jsx(_t,{to:"/"}):u.jsx(pU,{onLogin:f})}),u.jsx(xt,{path:"/",element:n?u.jsx(Yle,{}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/inbox",element:n?u.jsx(due,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/messages",element:n?u.jsx(fue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/reports",element:n?u.jsx(pue,{}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/shift-report",element:n?u.jsx(mue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/work-orders",element:n?u.jsx(Zle,{}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/work-orders/new",element:n?u.jsx(Pb,{}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/projects",element:n?u.jsx(uue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/performance",element:n?u.jsx(cue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/part-requests",element:n?u.jsx(nue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/inspections",element:n?u.jsx(tue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/documents",element:n?u.jsx(rue,{}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/meetings",element:n?u.jsx(oue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/suggestions",element:n?u.jsx(aue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/purchases",element:n?u.jsx(sue,{user:n}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"/workflow-designer",element:(n==null?void 0:n.role)===$n.ADMIN?u.jsx(hue,{}):u.jsx(_t,{to:"/"})}),u.jsx(xt,{path:"/admin",element:(n==null?void 0:n.role)===$n.ADMIN?u.jsx(Qle,{}):u.jsx(_t,{to:"/"})}),u.jsx(xt,{path:"/settings",element:n?u.jsx(lue,{user:n,onUpdateUser:h,snowMode:a,setSnowMode:s}):u.jsx(_t,{to:"/login"})}),u.jsx(xt,{path:"*",element:u.jsx(_t,{to:"/"})})]})})]})};class jge extends R.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?u.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[u.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),u.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),u.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),u.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const oR=document.getElementById("root");if(!oR)throw new Error("Failed to find the root element");const Ige=bg.createRoot(oR);Ige.render(u.jsx(R.StrictMode,{children:u.jsx(jge,{children:u.jsx(Pge,{})})}));
