function IR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UT={exports:{}},Uh={},FT={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),OR=Symbol.for("react.portal"),RR=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),$R=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),UR=Symbol.for("react.forward_ref"),FR=Symbol.for("react.suspense"),BR=Symbol.for("react.memo"),qR=Symbol.for("react.lazy"),ow=Symbol.iterator;function VR(t){return t===null||typeof t!="object"?null:(t=ow&&t[ow]||t["@@iterator"],typeof t=="function"?t:null)}var BT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qT=Object.assign,VT={};function Vs(t,e,r){this.props=t,this.context=e,this.refs=VT,this.updater=r||BT}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GT(){}GT.prototype=Vs.prototype;function A0(t,e,r){this.props=t,this.context=e,this.refs=VT,this.updater=r||BT}var C0=A0.prototype=new GT;C0.constructor=A0;qT(C0,Vs.prototype);C0.isPureReactComponent=!0;var sw=Array.isArray,HT=Object.prototype.hasOwnProperty,j0={current:null},zT={key:!0,ref:!0,__self:!0,__source:!0};function WT(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)HT.call(e,n)&&!zT.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:xu,type:t,key:a,ref:o,props:i,_owner:j0.current}}function GR(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function HR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lw=/\/+/g;function vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HR(""+t.key):e.toString(36)}function Id(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case OR:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+vm(o,0):n,sw(i)?(r="",t!=null&&(r=t.replace(lw,"$&/")+"/"),Id(i,e,r,"",function(u){return u})):i!=null&&(P0(i)&&(i=GR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",sw(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+vm(a,s);o+=Id(a,e,r,c,i)}else if(c=VR(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+vm(a,s++),o+=Id(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gu(t,e,r){if(t==null)return t;var n=[],i=0;return Id(t,n,"","",function(a){return e.call(r,a,i++)}),n}function zR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},Od={transition:null},WR={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Od,ReactCurrentOwner:j0};function KT(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Gu,forEach:function(t,e,r){Gu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Vs;Be.Fragment=RR;Be.Profiler=$R;Be.PureComponent=A0;Be.StrictMode=MR;Be.Suspense=FR;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WR;Be.act=KT;Be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qT({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=j0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)HT.call(e,c)&&!zT.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:xu,type:t.type,key:i,ref:a,props:n,_owner:o}};Be.createContext=function(t){return t={$$typeof:LR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DR,_context:t},t.Consumer=t};Be.createElement=WT;Be.createFactory=function(t){var e=WT.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:UR,render:t}};Be.isValidElement=P0;Be.lazy=function(t){return{$$typeof:qR,_payload:{_status:-1,_result:t},_init:zR}};Be.memo=function(t,e){return{$$typeof:BR,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Od.transition;Od.transition={};try{t()}finally{Od.transition=e}};Be.unstable_act=KT;Be.useCallback=function(t,e){return yr.current.useCallback(t,e)};Be.useContext=function(t){return yr.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};Be.useEffect=function(t,e){return yr.current.useEffect(t,e)};Be.useId=function(){return yr.current.useId()};Be.useImperativeHandle=function(t,e,r){return yr.current.useImperativeHandle(t,e,r)};Be.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return yr.current.useMemo(t,e)};Be.useReducer=function(t,e,r){return yr.current.useReducer(t,e,r)};Be.useRef=function(t){return yr.current.useRef(t)};Be.useState=function(t){return yr.current.useState(t)};Be.useSyncExternalStore=function(t,e,r){return yr.current.useSyncExternalStore(t,e,r)};Be.useTransition=function(){return yr.current.useTransition()};Be.version="18.3.1";FT.exports=Be;var T=FT.exports;const L=Ye(T),KR=IR({__proto__:null,default:L},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=T,YR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),QR=Object.prototype.hasOwnProperty,ZR=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eM={key:!0,ref:!0,__self:!0,__source:!0};function JT(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)QR.call(e,n)&&!eM.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:YR,type:t,key:a,ref:o,props:i,_owner:ZR.current}}Uh.Fragment=XR;Uh.jsx=JT;Uh.jsxs=JT;UT.exports=Uh;var l=UT.exports,Ig={},YT={exports:{}},qr={},XT={exports:{}},QT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var K=F.length;F.push(W);e:for(;0<K;){var ee=K-1>>>1,Y=F[ee];if(0<i(Y,W))F[ee]=W,F[K]=Y,K=ee;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var W=F[0],K=F.pop();if(K!==W){F[0]=K;e:for(var ee=0,Y=F.length,ge=Y>>>1;ee<ge;){var R=2*(ee+1)-1,Q=F[R],ue=R+1,ye=F[ue];if(0>i(Q,K))ue<Y&&0>i(ye,Q)?(F[ee]=ye,F[ue]=K,ee=ue):(F[ee]=Q,F[R]=K,ee=R);else if(ue<Y&&0>i(ye,K))F[ee]=ye,F[ue]=K,ee=ue;else break e}}return W}function i(F,W){var K=F.sortIndex-W.sortIndex;return K!==0?K:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=F)n(u),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(u)}}function k(F){if(v=!1,w(F),!x)if(r(c)!==null)x=!0,D(S);else{var W=r(u);W!==null&&B(k,W.startTime-F)}}function S(F,W){x=!1,v&&(v=!1,b(C),C=-1),g=!0;var K=h;try{for(w(W),f=r(c);f!==null&&(!(f.expirationTime>W)||F&&!$());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Y=ee(f.expirationTime<=W);W=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),w(W)}else n(c);f=r(c)}if(f!==null)var ge=!0;else{var R=r(u);R!==null&&B(k,R.startTime-W),ge=!1}return ge}finally{f=null,h=K,g=!1}}var N=!1,E=null,C=-1,A=5,I=-1;function $(){return!(t.unstable_now()-I<A)}function U(){if(E!==null){var F=t.unstable_now();I=F;var W=!0;try{W=E(!0,F)}finally{W?O():(N=!1,E=null)}}else N=!1}var O;if(typeof _=="function")O=function(){_(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,P=M.port2;M.port1.onmessage=U,O=function(){P.postMessage(null)}}else O=function(){y(U,0)};function D(F){E=F,N||(N=!0,O())}function B(F,W){C=y(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,D(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var K=h;h=W;try{return F()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=h;h=F;try{return W()}finally{h=K}},t.unstable_scheduleCallback=function(F,W,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,F={id:d++,callback:W,priorityLevel:F,startTime:K,expirationTime:Y,sortIndex:-1},K>ee?(F.sortIndex=K,e(u,F),r(c)===null&&F===r(u)&&(v?(b(C),C=-1):v=!0,B(k,K-ee))):(F.sortIndex=Y,e(c,F),x||g||(x=!0,D(S))),F},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(F){var W=h;return function(){var K=h;h=W;try{return F.apply(this,arguments)}finally{h=K}}}})(QT);XT.exports=QT;var tM=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM=T,Br=tM;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZT=new Set,uc={};function Qa(t,e){as(t,e),as(t+"Capture",e)}function as(t,e){for(uc[t]=e,t=0;t<e.length;t++)ZT.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,nM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cw={},uw={};function iM(t){return Og.call(uw,t)?!0:Og.call(cw,t)?!1:nM.test(t)?uw[t]=!0:(cw[t]=!0,!1)}function aM(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oM(t,e,r,n){if(e===null||typeof e>"u"||aM(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var I0=/[\-:]([a-z])/g;function O0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(I0,O0);Zt[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(I0,O0);Zt[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(I0,O0);Zt[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function R0(t,e,r,n){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oM(e,r,i,n)&&(r=null),n||i===null?iM(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bi=rM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hu=Symbol.for("react.element"),To=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),rA=Symbol.for("react.offscreen"),dw=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=dw&&t[dw]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,xm;function Ml(t){if(xm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+t}var bm=!1;function wm(t,e){if(!t||bm)return"";bm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=s);break}}}finally{bm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ml(t):""}function sM(t){switch(t.tag){case 5:return Ml(t.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return t=wm(t.type,!1),t;case 11:return t=wm(t.type.render,!1),t;case 1:return t=wm(t.type,!0),t;default:return""}}function Dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case To:return"Portal";case Rg:return"Profiler";case M0:return"StrictMode";case Mg:return"Suspense";case $g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tA:return(t.displayName||"Context")+".Consumer";case eA:return(t._context.displayName||"Context")+".Provider";case $0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:Dg(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Dg(t(e))}catch{}}return null}function lM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dg(e);case 8:return e===M0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cM(t){var e=nA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=cM(t))}function iA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lg(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aA(t,e){e=e.checked,e!=null&&R0(t,"checked",e,!1)}function Ug(t,e){aA(t,e);var r=Zi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Fg(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Fg(t,e,r){(e!=="number"||Wd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $l=Array.isArray;function Wo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if($l(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zi(r)}}function oA(t,e){var r=Zi(e.value),n=Zi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,lA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uM=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(t){uM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ql[e]=ql[t]})});function cA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ql.hasOwnProperty(t)&&ql[t]?(""+e).trim():e+"px"}function uA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=cA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var dM=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vg(t,e){if(e){if(dM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Gg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function L0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,Ko=null,Jo=null;function gw(t){if(t=_u(t)){if(typeof zg!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Gh(e),zg(t.stateNode,t.type,e))}}function dA(t){Ko?Jo?Jo.push(t):Jo=[t]:Ko=t}function fA(){if(Ko){var t=Ko,e=Jo;if(Jo=Ko=null,gw(t),e)for(t=0;t<e.length;t++)gw(e[t])}}function hA(t,e){return t(e)}function pA(){}var _m=!1;function mA(t,e,r){if(_m)return t(e,r);_m=!0;try{return hA(t,e,r)}finally{_m=!1,(Ko!==null||Jo!==null)&&(pA(),fA())}}function fc(t,e){var r=t.stateNode;if(r===null)return null;var n=Gh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var Wg=!1;if(ui)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Wg=!1}function fM(t,e,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Vl=!1,Kd=null,Jd=!1,Kg=null,hM={onError:function(t){Vl=!0,Kd=t}};function pM(t,e,r,n,i,a,o,s,c){Vl=!1,Kd=null,fM.apply(hM,arguments)}function mM(t,e,r,n,i,a,o,s,c){if(pM.apply(this,arguments),Vl){if(Vl){var u=Kd;Vl=!1,Kd=null}else throw Error(ce(198));Jd||(Jd=!0,Kg=u)}}function Za(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(Za(t)!==t)throw Error(ce(188))}function gM(t){var e=t.alternate;if(!e){if(e=Za(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return yw(i),t;if(a===n)return yw(i),e;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function yA(t){return t=gM(t),t!==null?vA(t):null}function vA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vA(t);if(e!==null)return e;t=t.sibling}return null}var xA=Br.unstable_scheduleCallback,vw=Br.unstable_cancelCallback,yM=Br.unstable_shouldYield,vM=Br.unstable_requestPaint,St=Br.unstable_now,xM=Br.unstable_getCurrentPriorityLevel,U0=Br.unstable_ImmediatePriority,bA=Br.unstable_UserBlockingPriority,Yd=Br.unstable_NormalPriority,bM=Br.unstable_LowPriority,wA=Br.unstable_IdlePriority,Fh=null,$n=null;function wM(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:NM,_M=Math.log,SM=Math.LN2;function NM(t){return t>>>=0,t===0?32:31-(_M(t)/SM|0)|0}var Ku=64,Ju=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Dl(s):(a&=o,a!==0&&(n=Dl(a)))}else o=r&~i,o!==0?n=Dl(o):a!==0&&(n=Dl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_n(e),i=1<<r,n|=t[r],e&=~i;return n}function kM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-_n(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=kM(s,e)):c<=e&&(t.expiredLanes|=s),a&=~s}}function Jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _A(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function Sm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=r}function TM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-_n(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function F0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_n(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function SA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NA,B0,kA,EA,TA,Yg=!1,Yu=[],Vi=null,Gi=null,Hi=null,hc=new Map,pc=new Map,Ri=[],AM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(e.pointerId)}}function gl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=_u(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CM(t,e,r,n,i){switch(e){case"focusin":return Vi=gl(Vi,t,e,r,n,i),!0;case"dragenter":return Gi=gl(Gi,t,e,r,n,i),!0;case"mouseover":return Hi=gl(Hi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return hc.set(a,gl(hc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,pc.set(a,gl(pc.get(a)||null,t,e,r,n,i)),!0}return!1}function AA(t){var e=ka(t.target);if(e!==null){var r=Za(e);if(r!==null){if(e=r.tag,e===13){if(e=gA(r),e!==null){t.blockedOn=e,TA(t.priority,function(){kA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return e=_u(r),e!==null&&B0(e),t.blockedOn=r,!1;e.shift()}return!0}function bw(t,e,r){Rd(t)&&r.delete(e)}function jM(){Yg=!1,Vi!==null&&Rd(Vi)&&(Vi=null),Gi!==null&&Rd(Gi)&&(Gi=null),Hi!==null&&Rd(Hi)&&(Hi=null),hc.forEach(bw),pc.forEach(bw)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Yg||(Yg=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,jM)))}function mc(t){function e(i){return yl(i,t)}if(0<Yu.length){yl(Yu[0],t);for(var r=1;r<Yu.length;r++){var n=Yu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vi!==null&&yl(Vi,t),Gi!==null&&yl(Gi,t),Hi!==null&&yl(Hi,t),hc.forEach(e),pc.forEach(e),r=0;r<Ri.length;r++)n=Ri[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ri.length&&(r=Ri[0],r.blockedOn===null);)AA(r),r.blockedOn===null&&Ri.shift()}var Yo=bi.ReactCurrentBatchConfig,Qd=!0;function PM(t,e,r,n){var i=Je,a=Yo.transition;Yo.transition=null;try{Je=1,q0(t,e,r,n)}finally{Je=i,Yo.transition=a}}function IM(t,e,r,n){var i=Je,a=Yo.transition;Yo.transition=null;try{Je=4,q0(t,e,r,n)}finally{Je=i,Yo.transition=a}}function q0(t,e,r,n){if(Qd){var i=Xg(t,e,r,n);if(i===null)Om(t,e,n,Zd,r),xw(t,n);else if(CM(i,t,e,r,n))n.stopPropagation();else if(xw(t,n),e&4&&-1<AM.indexOf(t)){for(;i!==null;){var a=_u(i);if(a!==null&&NA(a),a=Xg(t,e,r,n),a===null&&Om(t,e,n,Zd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Om(t,e,n,null,r)}}var Zd=null;function Xg(t,e,r,n){if(Zd=null,t=L0(n),t=ka(t),t!==null)if(e=Za(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zd=t,null}function CA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xM()){case U0:return 1;case bA:return 4;case Yd:case bM:return 16;case wA:return 536870912;default:return 16}default:return 16}}var Li=null,V0=null,Md=null;function jA(){if(Md)return Md;var t,e=V0,r=e.length,n,i="value"in Li?Li.value:Li.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Md=i.slice(t,1<n?1-n:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function ww(){return!1}function Vr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xu:ww,this.isPropagationStopped=ww,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=Vr(Gs),wu=yt({},Gs,{view:0,detail:0}),OM=Vr(wu),Nm,km,vl,Bh=yt({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(Nm=t.screenX-vl.screenX,km=t.screenY-vl.screenY):km=Nm=0,vl=t),Nm)},movementY:function(t){return"movementY"in t?t.movementY:km}}),_w=Vr(Bh),RM=yt({},Bh,{dataTransfer:0}),MM=Vr(RM),$M=yt({},wu,{relatedTarget:0}),Em=Vr($M),DM=yt({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),LM=Vr(DM),UM=yt({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FM=Vr(UM),BM=yt({},Gs,{data:0}),Sw=Vr(BM),qM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GM[t])?!!e[t]:!1}function H0(){return HM}var zM=yt({},wu,{key:function(t){if(t.key){var e=qM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H0,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WM=Vr(zM),KM=yt({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=Vr(KM),JM=yt({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H0}),YM=Vr(JM),XM=yt({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),QM=Vr(XM),ZM=yt({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e$=Vr(ZM),t$=[9,13,27,32],z0=ui&&"CompositionEvent"in window,Gl=null;ui&&"documentMode"in document&&(Gl=document.documentMode);var r$=ui&&"TextEvent"in window&&!Gl,PA=ui&&(!z0||Gl&&8<Gl&&11>=Gl),kw=" ",Ew=!1;function IA(t,e){switch(t){case"keyup":return t$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function n$(t,e){switch(t){case"compositionend":return OA(e);case"keypress":return e.which!==32?null:(Ew=!0,kw);case"textInput":return t=e.data,t===kw&&Ew?null:t;default:return null}}function i$(t,e){if(Co)return t==="compositionend"||!z0&&IA(t,e)?(t=jA(),Md=V0=Li=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PA&&e.locale!=="ko"?null:e.data;default:return null}}var a$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a$[t.type]:e==="textarea"}function RA(t,e,r,n){dA(n),e=ef(e,"onChange"),0<e.length&&(r=new G0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hl=null,gc=null;function o$(t){HA(t,0)}function qh(t){var e=Io(t);if(iA(e))return t}function s$(t,e){if(t==="change")return e}var MA=!1;if(ui){var Tm;if(ui){var Am="oninput"in document;if(!Am){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Am=typeof Aw.oninput=="function"}Tm=Am}else Tm=!1;MA=Tm&&(!document.documentMode||9<document.documentMode)}function Cw(){Hl&&(Hl.detachEvent("onpropertychange",$A),gc=Hl=null)}function $A(t){if(t.propertyName==="value"&&qh(gc)){var e=[];RA(e,gc,t,L0(t)),mA(o$,e)}}function l$(t,e,r){t==="focusin"?(Cw(),Hl=e,gc=r,Hl.attachEvent("onpropertychange",$A)):t==="focusout"&&Cw()}function c$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qh(gc)}function u$(t,e){if(t==="click")return qh(e)}function d$(t,e){if(t==="input"||t==="change")return qh(e)}function f$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:f$;function yc(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Og.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function jw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var r=jw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jw(r)}}function DA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LA(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wd(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h$(t){var e=LA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&DA(r.ownerDocument.documentElement,r)){if(n!==null&&W0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Pw(r,a);var o=Pw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p$=ui&&"documentMode"in document&&11>=document.documentMode,jo=null,Qg=null,zl=null,Zg=!1;function Iw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zg||jo==null||jo!==Wd(n)||(n=jo,"selectionStart"in n&&W0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&yc(zl,n)||(zl=n,n=ef(Qg,"onSelect"),0<n.length&&(e=new G0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jo)))}function Qu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Po={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Cm={},UA={};ui&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Vh(t){if(Cm[t])return Cm[t];if(!Po[t])return t;var e=Po[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in UA)return Cm[t]=e[r];return t}var FA=Vh("animationend"),BA=Vh("animationiteration"),qA=Vh("animationstart"),VA=Vh("transitionend"),GA=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(t,e){GA.set(t,e),Qa(e,[t])}for(var jm=0;jm<Ow.length;jm++){var Pm=Ow[jm],m$=Pm.toLowerCase(),g$=Pm[0].toUpperCase()+Pm.slice(1);ra(m$,"on"+g$)}ra(FA,"onAnimationEnd");ra(BA,"onAnimationIteration");ra(qA,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(VA,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function Rw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mM(n,e,void 0,t),t.currentTarget=null}function HA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;Rw(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;Rw(i,s,u),a=c}}}if(Jd)throw t=Kg,Jd=!1,Kg=null,t}function at(t,e){var r=e[iy];r===void 0&&(r=e[iy]=new Set);var n=t+"__bubble";r.has(n)||(zA(e,t,2,!1),r.add(n))}function Im(t,e,r){var n=0;e&&(n|=4),zA(r,t,n,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function vc(t){if(!t[Zu]){t[Zu]=!0,ZT.forEach(function(r){r!=="selectionchange"&&(y$.has(r)||Im(r,!1,t),Im(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Im("selectionchange",!1,e))}}function zA(t,e,r,n){switch(CA(e)){case 1:var i=PM;break;case 4:i=IM;break;default:i=q0}r=i.bind(null,e,r,t),i=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Om(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ka(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}mA(function(){var u=a,d=L0(r),f=[];e:{var h=GA.get(t);if(h!==void 0){var g=G0,x=t;switch(t){case"keypress":if($d(r)===0)break e;case"keydown":case"keyup":g=WM;break;case"focusin":x="focus",g=Em;break;case"focusout":x="blur",g=Em;break;case"beforeblur":case"afterblur":g=Em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YM;break;case FA:case BA:case qA:g=LM;break;case VA:g=QM;break;case"scroll":g=OM;break;case"wheel":g=e$;break;case"copy":case"cut":case"paste":g=FM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Nw}var v=(e&4)!==0,y=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,w;_!==null;){w=_;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,b!==null&&(k=fc(_,b),k!=null&&v.push(xc(_,k,w)))),y)break;_=_.return}0<v.length&&(h=new g(h,x,null,r,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==Hg&&(x=r.relatedTarget||r.fromElement)&&(ka(x)||x[di]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?ka(x):null,x!==null&&(y=Za(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=_w,k="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=Nw,k="onPointerLeave",b="onPointerEnter",_="pointer"),y=g==null?h:Io(g),w=x==null?h:Io(x),h=new v(k,_+"leave",g,r,d),h.target=y,h.relatedTarget=w,k=null,ka(d)===u&&(v=new v(b,_+"enter",x,r,d),v.target=w,v.relatedTarget=y,k=v),y=k,g&&x)t:{for(v=g,b=x,_=0,w=v;w;w=fo(w))_++;for(w=0,k=b;k;k=fo(k))w++;for(;0<_-w;)v=fo(v),_--;for(;0<w-_;)b=fo(b),w--;for(;_--;){if(v===b||b!==null&&v===b.alternate)break t;v=fo(v),b=fo(b)}v=null}else v=null;g!==null&&Mw(f,h,g,v,!1),x!==null&&y!==null&&Mw(f,y,x,v,!0)}}e:{if(h=u?Io(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=s$;else if(Tw(h))if(MA)S=d$;else{S=c$;var N=l$}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=u$);if(S&&(S=S(t,u))){RA(f,S,r,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Fg(h,"number",h.value)}switch(N=u?Io(u):window,t){case"focusin":(Tw(N)||N.contentEditable==="true")&&(jo=N,Qg=u,zl=null);break;case"focusout":zl=Qg=jo=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,Iw(f,r,d);break;case"selectionchange":if(p$)break;case"keydown":case"keyup":Iw(f,r,d)}var E;if(z0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Co?IA(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(PA&&r.locale!=="ko"&&(Co||C!=="onCompositionStart"?C==="onCompositionEnd"&&Co&&(E=jA()):(Li=d,V0="value"in Li?Li.value:Li.textContent,Co=!0)),N=ef(u,C),0<N.length&&(C=new Sw(C,t,null,r,d),f.push({event:C,listeners:N}),E?C.data=E:(E=OA(r),E!==null&&(C.data=E)))),(E=r$?n$(t,r):i$(t,r))&&(u=ef(u,"onBeforeInput"),0<u.length&&(d=new Sw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}HA(f,e)})}function xc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ef(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fc(t,r),a!=null&&n.unshift(xc(t,a,i)),a=fc(t,e),a!=null&&n.push(xc(t,a,i))),t=t.return}return n}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mw(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=fc(r,a),c!=null&&o.unshift(xc(r,c,s))):i||(c=fc(r,a),c!=null&&o.push(xc(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var v$=/\r\n?/g,x$=/\u0000|\uFFFD/g;function $w(t){return(typeof t=="string"?t:""+t).replace(v$,`
`).replace(x$,"")}function ed(t,e,r){if(e=$w(e),$w(t)!==e&&r)throw Error(ce(425))}function tf(){}var ey=null,ty=null;function ry(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,b$=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,w$=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(t){return Dw.resolve(null).then(t).catch(_$)}:ny;function _$(t){setTimeout(function(){throw t})}function Rm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),mc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);mc(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),On="__reactFiber$"+Hs,bc="__reactProps$"+Hs,di="__reactContainer$"+Hs,iy="__reactEvents$"+Hs,S$="__reactListeners$"+Hs,N$="__reactHandles$"+Hs;function ka(t){var e=t[On];if(e)return e;for(var r=t.parentNode;r;){if(e=r[di]||r[On]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Lw(t);t!==null;){if(r=t[On])return r;t=Lw(t)}return e}t=r,r=t.parentNode}return null}function _u(t){return t=t[On]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Gh(t){return t[bc]||null}var ay=[],Oo=-1;function na(t){return{current:t}}function lt(t){0>Oo||(t.current=ay[Oo],ay[Oo]=null,Oo--)}function nt(t,e){Oo++,ay[Oo]=t.current,t.current=e}var ea={},cr=na(ea),Sr=na(!1),Ua=ea;function os(t,e){var r=t.type.contextTypes;if(!r)return ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function rf(){lt(Sr),lt(cr)}function Uw(t,e,r){if(cr.current!==ea)throw Error(ce(168));nt(cr,e),nt(Sr,r)}function WA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,lM(t)||"Unknown",i));return yt({},r,n)}function nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Ua=cr.current,nt(cr,t),nt(Sr,Sr.current),!0}function Fw(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=WA(t,e,Ua),n.__reactInternalMemoizedMergedChildContext=t,lt(Sr),lt(cr),nt(cr,t)):lt(Sr),nt(Sr,r)}var Zn=null,Hh=!1,Mm=!1;function KA(t){Zn===null?Zn=[t]:Zn.push(t)}function k$(t){Hh=!0,KA(t)}function ia(){if(!Mm&&Zn!==null){Mm=!0;var t=0,e=Je;try{var r=Zn;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zn=null,Hh=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(t+1)),xA(U0,ia),i}finally{Je=e,Mm=!1}}return null}var Ro=[],Mo=0,af=null,of=0,Kr=[],Jr=0,Fa=null,ei=1,ti="";function ma(t,e){Ro[Mo++]=of,Ro[Mo++]=af,af=t,of=e}function JA(t,e,r){Kr[Jr++]=ei,Kr[Jr++]=ti,Kr[Jr++]=Fa,Fa=t;var n=ei;t=ti;var i=32-_n(n)-1;n&=~(1<<i),r+=1;var a=32-_n(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ei=1<<32-_n(e)+i|r<<i|n,ti=a+t}else ei=1<<a|r<<i|n,ti=t}function K0(t){t.return!==null&&(ma(t,1),JA(t,1,0))}function J0(t){for(;t===af;)af=Ro[--Mo],Ro[Mo]=null,of=Ro[--Mo],Ro[Mo]=null;for(;t===Fa;)Fa=Kr[--Jr],Kr[Jr]=null,ti=Kr[--Jr],Kr[Jr]=null,ei=Kr[--Jr],Kr[Jr]=null}var Lr=null,Dr=null,ut=!1,bn=null;function YA(t,e){var r=Qr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Bw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Dr=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fa!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Lr=t,Dr=null,!0):!1;default:return!1}}function oy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sy(t){if(ut){var e=Dr;if(e){var r=e;if(!Bw(t,e)){if(oy(t))throw Error(ce(418));e=zi(r.nextSibling);var n=Lr;e&&Bw(t,e)?YA(n,r):(t.flags=t.flags&-4097|2,ut=!1,Lr=t)}}else{if(oy(t))throw Error(ce(418));t.flags=t.flags&-4097|2,ut=!1,Lr=t}}}function qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function td(t){if(t!==Lr)return!1;if(!ut)return qw(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ry(t.type,t.memoizedProps)),e&&(e=Dr)){if(oy(t))throw XA(),Error(ce(418));for(;e;)YA(t,e),e=zi(e.nextSibling)}if(qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dr=zi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Lr?zi(t.stateNode.nextSibling):null;return!0}function XA(){for(var t=Dr;t;)t=zi(t.nextSibling)}function ss(){Dr=Lr=null,ut=!1}function Y0(t){bn===null?bn=[t]:bn.push(t)}var E$=bi.ReactCurrentBatchConfig;function xl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function rd(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vw(t){var e=t._init;return e(t._payload)}function QA(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function r(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function n(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Yi(b,_),b.index=0,b.sibling=null,b}function a(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,_,w,k){return _===null||_.tag!==6?(_=qm(w,b.mode,k),_.return=b,_):(_=i(_,w),_.return=b,_)}function c(b,_,w,k){var S=w.type;return S===Ao?d(b,_,w.props.children,k,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ji&&Vw(S)===_.type)?(k=i(_,w.props),k.ref=xl(b,_,w),k.return=b,k):(k=Vd(w.type,w.key,w.props,null,b.mode,k),k.ref=xl(b,_,w),k.return=b,k)}function u(b,_,w,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Vm(w,b.mode,k),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function d(b,_,w,k,S){return _===null||_.tag!==7?(_=Ma(w,b.mode,k,S),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qm(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hu:return w=Vd(_.type,_.key,_.props,null,b.mode,w),w.ref=xl(b,null,_),w.return=b,w;case To:return _=Vm(_,b.mode,w),_.return=b,_;case ji:var k=_._init;return f(b,k(_._payload),w)}if($l(_)||pl(_))return _=Ma(_,b.mode,w,null),_.return=b,_;rd(b,_)}return null}function h(b,_,w,k){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(b,_,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hu:return w.key===S?c(b,_,w,k):null;case To:return w.key===S?u(b,_,w,k):null;case ji:return S=w._init,h(b,_,S(w._payload),k)}if($l(w)||pl(w))return S!==null?null:d(b,_,w,k,null);rd(b,w)}return null}function g(b,_,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(w)||null,s(_,b,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hu:return b=b.get(k.key===null?w:k.key)||null,c(_,b,k,S);case To:return b=b.get(k.key===null?w:k.key)||null,u(_,b,k,S);case ji:var N=k._init;return g(b,_,w,N(k._payload),S)}if($l(k)||pl(k))return b=b.get(w)||null,d(_,b,k,S,null);rd(_,k)}return null}function x(b,_,w,k){for(var S=null,N=null,E=_,C=_=0,A=null;E!==null&&C<w.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var I=h(b,E,w[C],k);if(I===null){E===null&&(E=A);break}t&&E&&I.alternate===null&&e(b,E),_=a(I,_,C),N===null?S=I:N.sibling=I,N=I,E=A}if(C===w.length)return r(b,E),ut&&ma(b,C),S;if(E===null){for(;C<w.length;C++)E=f(b,w[C],k),E!==null&&(_=a(E,_,C),N===null?S=E:N.sibling=E,N=E);return ut&&ma(b,C),S}for(E=n(b,E);C<w.length;C++)A=g(E,b,C,w[C],k),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),_=a(A,_,C),N===null?S=A:N.sibling=A,N=A);return t&&E.forEach(function($){return e(b,$)}),ut&&ma(b,C),S}function v(b,_,w,k){var S=pl(w);if(typeof S!="function")throw Error(ce(150));if(w=S.call(w),w==null)throw Error(ce(151));for(var N=S=null,E=_,C=_=0,A=null,I=w.next();E!==null&&!I.done;C++,I=w.next()){E.index>C?(A=E,E=null):A=E.sibling;var $=h(b,E,I.value,k);if($===null){E===null&&(E=A);break}t&&E&&$.alternate===null&&e(b,E),_=a($,_,C),N===null?S=$:N.sibling=$,N=$,E=A}if(I.done)return r(b,E),ut&&ma(b,C),S;if(E===null){for(;!I.done;C++,I=w.next())I=f(b,I.value,k),I!==null&&(_=a(I,_,C),N===null?S=I:N.sibling=I,N=I);return ut&&ma(b,C),S}for(E=n(b,E);!I.done;C++,I=w.next())I=g(E,b,C,I.value,k),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?C:I.key),_=a(I,_,C),N===null?S=I:N.sibling=I,N=I);return t&&E.forEach(function(U){return e(b,U)}),ut&&ma(b,C),S}function y(b,_,w,k){if(typeof w=="object"&&w!==null&&w.type===Ao&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hu:e:{for(var S=w.key,N=_;N!==null;){if(N.key===S){if(S=w.type,S===Ao){if(N.tag===7){r(b,N.sibling),_=i(N,w.props.children),_.return=b,b=_;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ji&&Vw(S)===N.type){r(b,N.sibling),_=i(N,w.props),_.ref=xl(b,N,w),_.return=b,b=_;break e}r(b,N);break}else e(b,N);N=N.sibling}w.type===Ao?(_=Ma(w.props.children,b.mode,k,w.key),_.return=b,b=_):(k=Vd(w.type,w.key,w.props,null,b.mode,k),k.ref=xl(b,_,w),k.return=b,b=k)}return o(b);case To:e:{for(N=w.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{r(b,_);break}else e(b,_);_=_.sibling}_=Vm(w,b.mode,k),_.return=b,b=_}return o(b);case ji:return N=w._init,y(b,_,N(w._payload),k)}if($l(w))return x(b,_,w,k);if(pl(w))return v(b,_,w,k);rd(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(b,_.sibling),_=i(_,w),_.return=b,b=_):(r(b,_),_=qm(w,b.mode,k),_.return=b,b=_),o(b)):r(b,_)}return y}var ls=QA(!0),ZA=QA(!1),sf=na(null),lf=null,$o=null,X0=null;function Q0(){X0=$o=lf=null}function Z0(t){var e=sf.current;lt(sf),t._currentValue=e}function ly(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xo(t,e){lf=t,X0=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(br=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(X0!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(lf===null)throw Error(ce(308));$o=t,lf.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Ea=null;function ex(t){Ea===null?Ea=[t]:Ea.push(t)}function eC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ex(e)):(r.next=i.next,i.next=r),e.interleaved=r,fi(t,n)}function fi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pi=!1;function tx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fi(t,r)}return i=n.interleaved,i===null?(e.next=e,ex(n)):(e.next=i.next,i.next=e),n.interleaved=e,fi(t,r)}function Dd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F0(t,r)}}function Gw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cf(t,e,r,n){var i=t.updateQueue;Pi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane,g=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=t,v=s;switch(h=e,g=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(g,f,h):x,h==null)break e;f=yt({},f,h);break e;case 2:Pi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);qa|=o,t.lanes=o,t.memoizedState=f}}function Hw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Su={},Dn=na(Su),wc=na(Su),_c=na(Su);function Ta(t){if(t===Su)throw Error(ce(174));return t}function rx(t,e){switch(nt(_c,e),nt(wc,t),nt(Dn,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qg(e,t)}lt(Dn),nt(Dn,e)}function cs(){lt(Dn),lt(wc),lt(_c)}function rC(t){Ta(_c.current);var e=Ta(Dn.current),r=qg(e,t.type);e!==r&&(nt(wc,t),nt(Dn,r))}function nx(t){wc.current===t&&(lt(Dn),lt(wc))}var pt=na(0);function uf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function ix(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var Ld=bi.ReactCurrentDispatcher,Dm=bi.ReactCurrentBatchConfig,Ba=0,mt=null,Mt=null,qt=null,df=!1,Wl=!1,Sc=0,T$=0;function tr(){throw Error(ce(321))}function ax(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Tn(t[r],e[r]))return!1;return!0}function ox(t,e,r,n,i,a){if(Ba=a,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?P$:I$,t=r(n,i),Wl){a=0;do{if(Wl=!1,Sc=0,25<=a)throw Error(ce(301));a+=1,qt=Mt=null,e.updateQueue=null,Ld.current=O$,t=r(n,i)}while(Wl)}if(Ld.current=ff,e=Mt!==null&&Mt.next!==null,Ba=0,qt=Mt=mt=null,df=!1,e)throw Error(ce(300));return t}function sx(){var t=Sc!==0;return Sc=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?mt.memoizedState=qt=t:qt=qt.next=t,qt}function nn(){if(Mt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=qt===null?mt.memoizedState:qt.next;if(e!==null)qt=e,Mt=t;else{if(t===null)throw Error(ce(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},qt===null?mt.memoizedState=qt=t:qt=qt.next=t}return qt}function Nc(t,e){return typeof e=="function"?e(t):e}function Lm(t){var e=nn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var d=u.lane;if((Ba&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,o=n):c=c.next=f,mt.lanes|=d,qa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,Tn(n,e.memoizedState)||(br=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,mt.lanes|=a,qa|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Um(t){var e=nn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Tn(a,e.memoizedState)||(br=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function nC(){}function iC(t,e){var r=mt,n=nn(),i=e(),a=!Tn(n.memoizedState,i);if(a&&(n.memoizedState=i,br=!0),n=n.queue,lx(sC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,kc(9,oC.bind(null,r,n,i,e),void 0,null),Gt===null)throw Error(ce(349));Ba&30||aC(r,e,i)}return i}function aC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function oC(t,e,r,n){e.value=r,e.getSnapshot=n,lC(e)&&cC(t)}function sC(t,e,r){return r(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Tn(t,r)}catch{return!0}}function cC(t){var e=fi(t,1);e!==null&&Sn(e,t,1,-1)}function zw(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=j$.bind(null,mt,t),[e.memoizedState,t]}function kc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function uC(){return nn().memoizedState}function Ud(t,e,r,n){var i=In();mt.flags|=t,i.memoizedState=kc(1|e,r,void 0,n===void 0?null:n)}function zh(t,e,r,n){var i=nn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&ax(n,o.deps)){i.memoizedState=kc(e,r,a,n);return}}mt.flags|=t,i.memoizedState=kc(1|e,r,a,n)}function Ww(t,e){return Ud(8390656,8,t,e)}function lx(t,e){return zh(2048,8,t,e)}function dC(t,e){return zh(4,2,t,e)}function fC(t,e){return zh(4,4,t,e)}function hC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,r){return r=r!=null?r.concat([t]):null,zh(4,4,hC.bind(null,e,t),r)}function cx(){}function mC(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ax(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function gC(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ax(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yC(t,e,r){return Ba&21?(Tn(r,e)||(r=_A(),mt.lanes|=r,qa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,br=!0),t.memoizedState=r)}function A$(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Dm.transition;Dm.transition={};try{t(!1),e()}finally{Je=r,Dm.transition=n}}function vC(){return nn().memoizedState}function C$(t,e,r){var n=Ji(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xC(t))bC(e,r);else if(r=eC(t,e,r,n),r!==null){var i=mr();Sn(r,t,n,i),wC(r,e,n)}}function j$(t,e,r){var n=Ji(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xC(t))bC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Tn(s,o)){var c=e.interleaved;c===null?(i.next=i,ex(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=eC(t,e,i,n),r!==null&&(i=mr(),Sn(r,t,n,i),wC(r,e,n))}}function xC(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function bC(t,e){Wl=df=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function wC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F0(t,r)}}var ff={readContext:rn,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},P$={readContext:rn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Ww,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ud(4194308,4,hC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ud(4,2,t,e)},useMemo:function(t,e){var r=In();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=In();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=C$.bind(null,mt,t),[n.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:zw,useDebugValue:cx,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=zw(!1),e=t[0];return t=A$.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mt,i=In();if(ut){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),Gt===null)throw Error(ce(349));Ba&30||aC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Ww(sC.bind(null,n,a,t),[t]),n.flags|=2048,kc(9,oC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=In(),e=Gt.identifierPrefix;if(ut){var r=ti,n=ei;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Sc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=T$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I$={readContext:rn,useCallback:mC,useContext:rn,useEffect:lx,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Lm,useRef:uC,useState:function(){return Lm(Nc)},useDebugValue:cx,useDeferredValue:function(t){var e=nn();return yC(e,Mt.memoizedState,t)},useTransition:function(){var t=Lm(Nc)[0],e=nn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1},O$={readContext:rn,useCallback:mC,useContext:rn,useEffect:lx,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Um,useRef:uC,useState:function(){return Um(Nc)},useDebugValue:cx,useDeferredValue:function(t){var e=nn();return Mt===null?e.memoizedState=t:yC(e,Mt.memoizedState,t)},useTransition:function(){var t=Um(Nc)[0],e=nn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wh={isMounted:function(t){return(t=t._reactInternals)?Za(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mr(),i=Ji(t),a=ai(n,i);a.payload=e,r!=null&&(a.callback=r),e=Wi(t,a,i),e!==null&&(Sn(e,t,i,n),Dd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mr(),i=Ji(t),a=ai(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Wi(t,a,i),e!==null&&(Sn(e,t,i,n),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mr(),n=Ji(t),i=ai(r,n);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,n),e!==null&&(Sn(e,t,n,r),Dd(e,t,n))}};function Kw(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!yc(r,n)||!yc(i,a):!0}function _C(t,e,r){var n=!1,i=ea,a=e.contextType;return typeof a=="object"&&a!==null?a=rn(a):(i=Nr(e)?Ua:cr.current,n=e.contextTypes,a=(n=n!=null)?os(t,i):ea),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Jw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function uy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},tx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=rn(a):(a=Nr(e)?Ua:cr.current,i.context=os(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(cy(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wh.enqueueReplaceState(i,i.state,null),cf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function us(t,e){try{var r="",n=e;do r+=sM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Fm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var R$=typeof WeakMap=="function"?WeakMap:Map;function SC(t,e,r){r=ai(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){pf||(pf=!0,wy=n),dy(t,e)},r}function NC(t,e,r){r=ai(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){dy(t,e),typeof n!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Yw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new R$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=K$.bind(null,t,e,r),e.then(t,t))}function Xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ai(-1,1),e.tag=2,Wi(r,e,1))),r.lanes|=1),t)}var M$=bi.ReactCurrentOwner,br=!1;function dr(t,e,r,n){e.child=t===null?ZA(e,null,r,n):ls(e,t.child,r,n)}function Zw(t,e,r,n,i){r=r.render;var a=e.ref;return Xo(e,i),n=ox(t,e,r,n,a,i),r=sx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(ut&&r&&K0(e),e.flags|=1,dr(t,e,n,i),e.child)}function e_(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!yx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,kC(t,e,a,n,i)):(t=Vd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:yc,r(o,n)&&t.ref===e.ref)return hi(t,e,i)}return e.flags|=1,t=Yi(a,n),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(yc(a,n)&&t.ref===e.ref)if(br=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(br=!0);else return e.lanes=t.lanes,hi(t,e,i)}return fy(t,e,r,n,i)}function EC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Lo,Pr),Pr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Lo,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,nt(Lo,Pr),Pr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nt(Lo,Pr),Pr|=n;return dr(t,e,i,r),e.child}function TC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fy(t,e,r,n,i){var a=Nr(r)?Ua:cr.current;return a=os(e,a),Xo(e,i),r=ox(t,e,r,n,a,i),n=sx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(ut&&n&&K0(e),e.flags|=1,dr(t,e,r,i),e.child)}function t_(t,e,r,n,i){if(Nr(r)){var a=!0;nf(e)}else a=!1;if(Xo(e,i),e.stateNode===null)Fd(t,e),_C(e,r,n),uy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Nr(r)?Ua:cr.current,u=os(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&Jw(e,o,n,u),Pi=!1;var h=e.memoizedState;o.state=h,cf(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Sr.current||Pi?(typeof d=="function"&&(cy(e,r,d,n),c=e.memoizedState),(s=Pi||Kw(e,r,s,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,tC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:pn(e.type,s),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Nr(r)?Ua:cr.current,c=os(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&Jw(e,o,n,c),Pi=!1,h=e.memoizedState,o.state=h,cf(e,n,o,i);var x=e.memoizedState;s!==f||h!==x||Sr.current||Pi?(typeof g=="function"&&(cy(e,r,g,n),x=e.memoizedState),(u=Pi||Kw(e,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return hy(t,e,r,n,a,i)}function hy(t,e,r,n,i,a){TC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Fw(e,r,!1),hi(t,e,a);n=e.stateNode,M$.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ls(e,t.child,null,a),e.child=ls(e,null,s,a)):dr(t,e,s,a),e.memoizedState=n.state,i&&Fw(e,r,!0),e.child}function AC(t){var e=t.stateNode;e.pendingContext?Uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uw(t,e.context,!1),rx(t,e.containerInfo)}function r_(t,e,r,n,i){return ss(),Y0(i),e.flags|=256,dr(t,e,r,n),e.child}var py={dehydrated:null,treeContext:null,retryLane:0};function my(t){return{baseLanes:t,cachePool:null,transitions:null}}function CC(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(pt,i&1),t===null)return sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Yh(o,n,0,null),t=Ma(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=my(r),e.memoizedState=py,t):ux(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return $$(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Yi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Yi(s,a):(a=Ma(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?my(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=py,n}return a=t.child,t=a.sibling,n=Yi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ux(t,e){return e=Yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,r,n){return n!==null&&Y0(n),ls(e,t.child,null,r),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $$(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Fm(Error(ce(422))),nd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Yh({mode:"visible",children:n.children},i,0,null),a=Ma(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ls(e,t.child,null,o),e.child.memoizedState=my(o),e.memoizedState=py,a);if(!(e.mode&1))return nd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ce(419)),n=Fm(a,n,void 0),nd(t,e,o,n)}if(s=(o&t.childLanes)!==0,br||s){if(n=Gt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fi(t,i),Sn(n,t,i,-1))}return gx(),n=Fm(Error(ce(421))),nd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J$.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Dr=zi(i.nextSibling),Lr=e,ut=!0,bn=null,t!==null&&(Kr[Jr++]=ei,Kr[Jr++]=ti,Kr[Jr++]=Fa,ei=t.id,ti=t.overflow,Fa=e),e=ux(e,n.children),e.flags|=4096,e)}function n_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ly(t.return,e,r)}function Bm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function jC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(dr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,r,e);else if(t.tag===19)n_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&uf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Bm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Bm(e,!0,r,null,a);break;case"together":Bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=Yi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function D$(t,e,r){switch(e.tag){case 3:AC(e),ss();break;case 5:rC(e);break;case 1:Nr(e.type)&&nf(e);break;case 4:rx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt(sf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?CC(t,e,r):(nt(pt,pt.current&1),t=hi(t,e,r),t!==null?t.sibling:null);nt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,EC(t,e,r)}return hi(t,e,r)}var PC,gy,IC,OC;PC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gy=function(){};IC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ta(Dn.current);var a=null;switch(r){case"input":i=Lg(t,i),n=Lg(t,n),a=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":i=Bg(t,i),n=Bg(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tf)}Vg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",t),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};OC=function(t,e,r,n){r!==n&&(e.flags|=4)};function bl(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function L$(t,e,r){var n=e.pendingProps;switch(J0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return Nr(e.type)&&rf(),rr(e),null;case 3:return n=e.stateNode,cs(),lt(Sr),lt(cr),ix(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Ny(bn),bn=null))),gy(t,e),rr(e),null;case 5:nx(e);var i=Ta(_c.current);if(r=e.type,t!==null&&e.stateNode!=null)IC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return rr(e),null}if(t=Ta(Dn.current),td(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[On]=e,n[bc]=a,t=(e.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(i=0;i<Ll.length;i++)at(Ll[i],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":fw(n,a),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},at("invalid",n);break;case"textarea":pw(n,a),at("invalid",n)}Vg(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ed(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ed(n.textContent,s,t),i=["children",""+s]):uc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&at("scroll",n)}switch(r){case"input":zu(n),hw(n,a,!0);break;case"textarea":zu(n),mw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=tf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[On]=e,t[bc]=n,PC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gg(r,n),r){case"dialog":at("cancel",t),at("close",t),i=n;break;case"iframe":case"object":case"embed":at("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ll.length;i++)at(Ll[i],t);i=n;break;case"source":at("error",t),i=n;break;case"img":case"image":case"link":at("error",t),at("load",t),i=n;break;case"details":at("toggle",t),i=n;break;case"input":fw(t,n),i=Lg(t,n),at("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),at("invalid",t);break;case"textarea":pw(t,n),i=Bg(t,n),at("invalid",t);break;default:i=n}Vg(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?uA(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lA(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dc(t,c):typeof c=="number"&&dc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&at("scroll",t):c!=null&&R0(t,a,c,o))}switch(r){case"input":zu(t),hw(t,n,!1);break;case"textarea":zu(t),mw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Wo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Wo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)OC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Ta(_c.current),Ta(Dn.current),td(e)){if(n=e.stateNode,r=e.memoizedProps,n[On]=e,(a=n.nodeValue!==r)&&(t=Lr,t!==null))switch(t.tag){case 3:ed(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ed(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[On]=e,e.stateNode=n}return rr(e),null;case 13:if(lt(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Dr!==null&&e.mode&1&&!(e.flags&128))XA(),ss(),e.flags|=98560,a=!1;else if(a=td(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[On]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),a=!1}else bn!==null&&(Ny(bn),bn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Lt===0&&(Lt=3):gx())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return cs(),gy(t,e),t===null&&vc(e.stateNode.containerInfo),rr(e),null;case 10:return Z0(e.type._context),rr(e),null;case 17:return Nr(e.type)&&rf(),rr(e),null;case 19:if(lt(pt),a=e.memoizedState,a===null)return rr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)bl(a,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=uf(t),o!==null){for(e.flags|=128,bl(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>ds&&(e.flags|=128,n=!0,bl(a,!1),e.lanes=4194304)}else{if(!n)if(t=uf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return rr(e),null}else 2*St()-a.renderingStartTime>ds&&r!==1073741824&&(e.flags|=128,n=!0,bl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,r=pt.current,nt(pt,n?r&1|2:r&1),e):(rr(e),null);case 22:case 23:return mx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pr&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function U$(t,e){switch(J0(e),e.tag){case 1:return Nr(e.type)&&rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cs(),lt(Sr),lt(cr),ix(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nx(e),null;case 13:if(lt(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(pt),null;case 4:return cs(),null;case 10:return Z0(e.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var id=!1,ar=!1,F$=typeof WeakSet=="function"?WeakSet:Set,be=null;function Do(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function yy(t,e,r){try{r()}catch(n){bt(t,e,n)}}var i_=!1;function B$(t,e){if(ey=Qd,t=LA(),W0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ty={focusedElem:t,selectionRange:r},Qd=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:pn(e.type,v),y);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(k){bt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return x=i_,i_=!1,x}function Kl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&yy(e,r,a)}i=i.next}while(i!==n)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function RC(t){var e=t.alternate;e!==null&&(t.alternate=null,RC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[bc],delete e[iy],delete e[S$],delete e[N$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MC(t){return t.tag===5||t.tag===3||t.tag===4}function a_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tf));else if(n!==4&&(t=t.child,t!==null))for(xy(t,e,r),t=t.sibling;t!==null;)xy(t,e,r),t=t.sibling}function by(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(by(t,e,r),t=t.sibling;t!==null;)by(t,e,r),t=t.sibling}var Xt=null,gn=!1;function Ci(t,e,r){for(r=r.child;r!==null;)$C(t,e,r),r=r.sibling}function $C(t,e,r){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Fh,r)}catch{}switch(r.tag){case 5:ar||Do(r,e);case 6:var n=Xt,i=gn;Xt=null,Ci(t,e,r),Xt=n,gn=i,Xt!==null&&(gn?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(gn?(t=Xt,r=r.stateNode,t.nodeType===8?Rm(t.parentNode,r):t.nodeType===1&&Rm(t,r),mc(t)):Rm(Xt,r.stateNode));break;case 4:n=Xt,i=gn,Xt=r.stateNode.containerInfo,gn=!0,Ci(t,e,r),Xt=n,gn=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yy(r,e,o),i=i.next}while(i!==n)}Ci(t,e,r);break;case 1:if(!ar&&(Do(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){bt(r,e,s)}Ci(t,e,r);break;case 21:Ci(t,e,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Ci(t,e,r),ar=n):Ci(t,e,r);break;default:Ci(t,e,r)}}function o_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new F$),e.forEach(function(n){var i=Y$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function un(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Xt=s.stateNode,gn=!1;break e;case 3:Xt=s.stateNode.containerInfo,gn=!0;break e;case 4:Xt=s.stateNode.containerInfo,gn=!0;break e}s=s.return}if(Xt===null)throw Error(ce(160));$C(a,o,i),Xt=null,gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DC(e,t),e=e.sibling}function DC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),Pn(t),n&4){try{Kl(3,t,t.return),Kh(3,t)}catch(v){bt(t,t.return,v)}try{Kl(5,t,t.return)}catch(v){bt(t,t.return,v)}}break;case 1:un(e,t),Pn(t),n&512&&r!==null&&Do(r,r.return);break;case 5:if(un(e,t),Pn(t),n&512&&r!==null&&Do(r,r.return),t.flags&32){var i=t.stateNode;try{dc(i,"")}catch(v){bt(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&aA(i,a),Gg(s,o);var u=Gg(s,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?uA(i,f):d==="dangerouslySetInnerHTML"?lA(i,f):d==="children"?dc(i,f):R0(i,d,f,u)}switch(s){case"input":Ug(i,a);break;case"textarea":oA(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Wo(i,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Wo(i,!!a.multiple,a.defaultValue,!0):Wo(i,!!a.multiple,a.multiple?[]:"",!1))}i[bc]=a}catch(v){bt(t,t.return,v)}}break;case 6:if(un(e,t),Pn(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){bt(t,t.return,v)}}break;case 3:if(un(e,t),Pn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mc(e.containerInfo)}catch(v){bt(t,t.return,v)}break;case 4:un(e,t),Pn(t);break;case 13:un(e,t),Pn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hx=St())),n&4&&o_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ar=(u=ar)||d,un(e,t),ar=u):un(e,t),Pn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,g=h.child,h.tag){case 0:case 11:case 14:case 15:Kl(4,h,h.return);break;case 1:Do(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){bt(n,r,v)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){l_(f);continue}}g!==null?(g.return=h,be=g):l_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=cA("display",o))}catch(v){bt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){bt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),Pn(t),n&4&&o_(t);break;case 21:break;default:un(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(MC(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(dc(i,""),n.flags&=-33);var a=a_(t);by(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=a_(t);xy(t,s,o);break;default:throw Error(ce(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q$(t,e,r){be=t,LC(t)}function LC(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var i=be,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||id;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||ar;s=id;var u=ar;if(id=o,(ar=c)&&!u)for(be=i;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?c_(i):c!==null?(c.return=o,be=c):c_(i);for(;a!==null;)be=a,LC(a),a=a.sibling;be=i,id=s,ar=u}s_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,be=a):s_(t)}}function s_(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||Kh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Hw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hw(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}ar||e.flags&512&&vy(e)}catch(h){bt(e,e.return,h)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function l_(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function c_(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kh(4,e)}catch(c){bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){bt(e,i,c)}}var a=e.return;try{vy(e)}catch(c){bt(e,a,c)}break;case 5:var o=e.return;try{vy(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){be=null;break}var s=e.sibling;if(s!==null){s.return=e.return,be=s;break}be=e.return}}var V$=Math.ceil,hf=bi.ReactCurrentDispatcher,dx=bi.ReactCurrentOwner,en=bi.ReactCurrentBatchConfig,Ge=0,Gt=null,Tt=null,Qt=0,Pr=0,Lo=na(0),Lt=0,Ec=null,qa=0,Jh=0,fx=0,Jl=null,xr=null,hx=0,ds=1/0,Yn=null,pf=!1,wy=null,Ki=null,ad=!1,Ui=null,mf=0,Yl=0,_y=null,Bd=-1,qd=0;function mr(){return Ge&6?St():Bd!==-1?Bd:Bd=St()}function Ji(t){return t.mode&1?Ge&2&&Qt!==0?Qt&-Qt:E$.transition!==null?(qd===0&&(qd=_A()),qd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:CA(t.type)),t):1}function Sn(t,e,r,n){if(50<Yl)throw Yl=0,_y=null,Error(ce(185));bu(t,r,n),(!(Ge&2)||t!==Gt)&&(t===Gt&&(!(Ge&2)&&(Jh|=r),Lt===4&&Mi(t,Qt)),kr(t,n),r===1&&Ge===0&&!(e.mode&1)&&(ds=St()+500,Hh&&ia()))}function kr(t,e){var r=t.callbackNode;EM(t,e);var n=Xd(t,t===Gt?Qt:0);if(n===0)r!==null&&vw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vw(r),e===1)t.tag===0?k$(u_.bind(null,t)):KA(u_.bind(null,t)),w$(function(){!(Ge&6)&&ia()}),r=null;else{switch(SA(n)){case 1:r=U0;break;case 4:r=bA;break;case 16:r=Yd;break;case 536870912:r=wA;break;default:r=Yd}r=zC(r,UC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function UC(t,e){if(Bd=-1,qd=0,Ge&6)throw Error(ce(327));var r=t.callbackNode;if(Qo()&&t.callbackNode!==r)return null;var n=Xd(t,t===Gt?Qt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=gf(t,n);else{e=n;var i=Ge;Ge|=2;var a=BC();(Gt!==t||Qt!==e)&&(Yn=null,ds=St()+500,Ra(t,e));do try{z$();break}catch(s){FC(t,s)}while(!0);Q0(),hf.current=a,Ge=i,Tt!==null?e=0:(Gt=null,Qt=0,e=Lt)}if(e!==0){if(e===2&&(i=Jg(t),i!==0&&(n=i,e=Sy(t,i))),e===1)throw r=Ec,Ra(t,0),Mi(t,n),kr(t,St()),r;if(e===6)Mi(t,n);else{if(i=t.current.alternate,!(n&30)&&!G$(i)&&(e=gf(t,n),e===2&&(a=Jg(t),a!==0&&(n=a,e=Sy(t,a))),e===1))throw r=Ec,Ra(t,0),Mi(t,n),kr(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:ga(t,xr,Yn);break;case 3:if(Mi(t,n),(n&130023424)===n&&(e=hx+500-St(),10<e)){if(Xd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ny(ga.bind(null,t,xr,Yn),e);break}ga(t,xr,Yn);break;case 4:if(Mi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-_n(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V$(n/1960))-n,10<n){t.timeoutHandle=ny(ga.bind(null,t,xr,Yn),n);break}ga(t,xr,Yn);break;case 5:ga(t,xr,Yn);break;default:throw Error(ce(329))}}}return kr(t,St()),t.callbackNode===r?UC.bind(null,t):null}function Sy(t,e){var r=Jl;return t.current.memoizedState.isDehydrated&&(Ra(t,e).flags|=256),t=gf(t,e),t!==2&&(e=xr,xr=r,e!==null&&Ny(e)),t}function Ny(t){xr===null?xr=t:xr.push.apply(xr,t)}function G$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Tn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~fx,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_n(e),n=1<<r;t[r]=-1,e&=~n}}function u_(t){if(Ge&6)throw Error(ce(327));Qo();var e=Xd(t,0);if(!(e&1))return kr(t,St()),null;var r=gf(t,e);if(t.tag!==0&&r===2){var n=Jg(t);n!==0&&(e=n,r=Sy(t,n))}if(r===1)throw r=Ec,Ra(t,0),Mi(t,e),kr(t,St()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ga(t,xr,Yn),kr(t,St()),null}function px(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(ds=St()+500,Hh&&ia())}}function Va(t){Ui!==null&&Ui.tag===0&&!(Ge&6)&&Qo();var e=Ge;Ge|=1;var r=en.transition,n=Je;try{if(en.transition=null,Je=1,t)return t()}finally{Je=n,en.transition=r,Ge=e,!(Ge&6)&&ia()}}function mx(){Pr=Lo.current,lt(Lo)}function Ra(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,b$(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(J0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rf();break;case 3:cs(),lt(Sr),lt(cr),ix();break;case 5:nx(n);break;case 4:cs();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Z0(n.type._context);break;case 22:case 23:mx()}r=r.return}if(Gt=t,Tt=t=Yi(t.current,null),Qt=Pr=e,Lt=0,Ec=null,fx=Jh=qa=0,xr=Jl=null,Ea!==null){for(e=0;e<Ea.length;e++)if(r=Ea[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ea=null}return t}function FC(t,e){do{var r=Tt;try{if(Q0(),Ld.current=ff,df){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}df=!1}if(Ba=0,qt=Mt=mt=null,Wl=!1,Sc=0,dx.current=null,r===null||r.return===null){Lt=1,Ec=e,Tt=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=Qt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Xw(o);if(g!==null){g.flags&=-257,Qw(g,o,s,a,e),g.mode&1&&Yw(a,u,e),e=g,c=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(c),e.updateQueue=v}else x.add(c);break e}else{if(!(e&1)){Yw(a,u,e),gx();break e}c=Error(ce(426))}}else if(ut&&s.mode&1){var y=Xw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Qw(y,o,s,a,e),Y0(us(c,s));break e}}a=c=us(c,s),Lt!==4&&(Lt=2),Jl===null?Jl=[a]:Jl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=SC(a,c,e);Gw(a,b);break e;case 1:s=c;var _=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ki===null||!Ki.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=NC(a,s,e);Gw(a,k);break e}}a=a.return}while(a!==null)}VC(r)}catch(S){e=S,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(!0)}function BC(){var t=hf.current;return hf.current=ff,t===null?ff:t}function gx(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Gt===null||!(qa&268435455)&&!(Jh&268435455)||Mi(Gt,Qt)}function gf(t,e){var r=Ge;Ge|=2;var n=BC();(Gt!==t||Qt!==e)&&(Yn=null,Ra(t,e));do try{H$();break}catch(i){FC(t,i)}while(!0);if(Q0(),Ge=r,hf.current=n,Tt!==null)throw Error(ce(261));return Gt=null,Qt=0,Lt}function H$(){for(;Tt!==null;)qC(Tt)}function z$(){for(;Tt!==null&&!yM();)qC(Tt)}function qC(t){var e=HC(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?VC(t):Tt=e,dx.current=null}function VC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=U$(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Tt=null;return}}else if(r=L$(r,e,Pr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Lt===0&&(Lt=5)}function ga(t,e,r){var n=Je,i=en.transition;try{en.transition=null,Je=1,W$(t,e,r,n)}finally{en.transition=i,Je=n}return null}function W$(t,e,r,n){do Qo();while(Ui!==null);if(Ge&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(TM(t,a),t===Gt&&(Tt=Gt=null,Qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,zC(Yd,function(){return Qo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=en.transition,en.transition=null;var o=Je;Je=1;var s=Ge;Ge|=4,dx.current=null,B$(t,r),DC(r,t),h$(ty),Qd=!!ey,ty=ey=null,t.current=r,q$(r),vM(),Ge=s,Je=o,en.transition=a}else t.current=r;if(ad&&(ad=!1,Ui=t,mf=i),a=t.pendingLanes,a===0&&(Ki=null),wM(r.stateNode),kr(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pf)throw pf=!1,t=wy,wy=null,t;return mf&1&&t.tag!==0&&Qo(),a=t.pendingLanes,a&1?t===_y?Yl++:(Yl=0,_y=t):Yl=0,ia(),null}function Qo(){if(Ui!==null){var t=SA(mf),e=en.transition,r=Je;try{if(en.transition=null,Je=16>t?16:t,Ui===null)var n=!1;else{if(t=Ui,Ui=null,mf=0,Ge&6)throw Error(ce(331));var i=Ge;for(Ge|=4,be=t.current;be!==null;){var a=be,o=a.child;if(be.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:Kl(8,d,a)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,g=d.return;if(RC(d),d===u){be=null;break}if(h!==null){h.return=g,be=h;break}be=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}be=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,be=o;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Kl(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,be=b;break e}be=a.return}}var _=t.current;for(be=_;be!==null;){o=be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,be=w;else e:for(o=_;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Kh(9,s)}}catch(S){bt(s,s.return,S)}if(s===o){be=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,be=k;break e}be=s.return}}if(Ge=i,ia(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Fh,t)}catch{}n=!0}return n}finally{Je=r,en.transition=e}}return!1}function d_(t,e,r){e=us(r,e),e=SC(t,e,1),t=Wi(t,e,1),e=mr(),t!==null&&(bu(t,1,e),kr(t,e))}function bt(t,e,r){if(t.tag===3)d_(t,t,r);else for(;e!==null;){if(e.tag===3){d_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ki===null||!Ki.has(n))){t=us(r,t),t=NC(e,t,1),e=Wi(e,t,1),t=mr(),e!==null&&(bu(e,1,t),kr(e,t));break}}e=e.return}}function K$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&r,Gt===t&&(Qt&r)===r&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>St()-hx?Ra(t,0):fx|=r),kr(t,e)}function GC(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var r=mr();t=fi(t,e),t!==null&&(bu(t,e,r),kr(t,r))}function J$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),GC(t,r)}function Y$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),GC(t,r)}var HC;HC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sr.current)br=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return br=!1,D$(t,e,r);br=!!(t.flags&131072)}else br=!1,ut&&e.flags&1048576&&JA(e,of,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Fd(t,e),t=e.pendingProps;var i=os(e,cr.current);Xo(e,r),i=ox(null,e,n,t,i,r);var a=sx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(n)?(a=!0,nf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tx(e),i.updater=Wh,e.stateNode=i,i._reactInternals=e,uy(e,n,t,r),e=hy(null,e,n,!0,a,r)):(e.tag=0,ut&&a&&K0(e),dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Q$(n),t=pn(n,t),i){case 0:e=fy(null,e,n,t,r);break e;case 1:e=t_(null,e,n,t,r);break e;case 11:e=Zw(null,e,n,t,r);break e;case 14:e=e_(null,e,n,pn(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pn(n,i),fy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pn(n,i),t_(t,e,n,i,r);case 3:e:{if(AC(e),t===null)throw Error(ce(387));n=e.pendingProps,a=e.memoizedState,i=a.element,tC(t,e),cf(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=us(Error(ce(423)),e),e=r_(t,e,n,r,i);break e}else if(n!==i){i=us(Error(ce(424)),e),e=r_(t,e,n,r,i);break e}else for(Dr=zi(e.stateNode.containerInfo.firstChild),Lr=e,ut=!0,bn=null,r=ZA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),n===i){e=hi(t,e,r);break e}dr(t,e,n,r)}e=e.child}return e;case 5:return rC(e),t===null&&sy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ry(n,i)?o=null:a!==null&&ry(n,a)&&(e.flags|=32),TC(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&sy(e),null;case 13:return CC(t,e,r);case 4:return rx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ls(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pn(n,i),Zw(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,nt(sf,n._currentValue),n._currentValue=o,a!==null)if(Tn(a.value,o)){if(a.children===i.children&&!Sr.current){e=hi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ai(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ly(a.return,r,e),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ce(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),ly(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xo(e,r),i=rn(i),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return n=e.type,i=pn(n,e.pendingProps),i=pn(n.type,i),e_(t,e,n,i,r);case 15:return kC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pn(n,i),Fd(t,e),e.tag=1,Nr(n)?(t=!0,nf(e)):t=!1,Xo(e,r),_C(e,n,i),uy(e,n,i,r),hy(null,e,n,!0,t,r);case 19:return jC(t,e,r);case 22:return EC(t,e,r)}throw Error(ce(156,e.tag))};function zC(t,e){return xA(t,e)}function X$(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(t,e,r,n){return new X$(t,e,r,n)}function yx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q$(t){if(typeof t=="function")return yx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$0)return 11;if(t===D0)return 14}return 2}function Yi(t,e){var r=t.alternate;return r===null?(r=Qr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")yx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Ma(r.children,i,a,e);case M0:o=8,i|=8;break;case Rg:return t=Qr(12,r,e,i|2),t.elementType=Rg,t.lanes=a,t;case Mg:return t=Qr(13,r,e,i),t.elementType=Mg,t.lanes=a,t;case $g:return t=Qr(19,r,e,i),t.elementType=$g,t.lanes=a,t;case rA:return Yh(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eA:o=10;break e;case tA:o=9;break e;case $0:o=11;break e;case D0:o=14;break e;case ji:o=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Qr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ma(t,e,r,n){return t=Qr(7,t,n,e),t.lanes=r,t}function Yh(t,e,r,n){return t=Qr(22,t,n,e),t.elementType=rA,t.lanes=r,t.stateNode={isHidden:!1},t}function qm(t,e,r){return t=Qr(6,t,null,e),t.lanes=r,t}function Vm(t,e,r){return e=Qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z$(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vx(t,e,r,n,i,a,o,s,c){return t=new Z$(t,e,r,s,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Qr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(a),t}function eD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function WC(t){if(!t)return ea;t=t._reactInternals;e:{if(Za(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(Nr(r))return WA(t,r,e)}return e}function KC(t,e,r,n,i,a,o,s,c){return t=vx(r,n,!0,t,i,a,o,s,c),t.context=WC(null),r=t.current,n=mr(),i=Ji(r),a=ai(n,i),a.callback=e??null,Wi(r,a,i),t.current.lanes=i,bu(t,i,n),kr(t,n),t}function Xh(t,e,r,n){var i=e.current,a=mr(),o=Ji(i);return r=WC(r),e.context===null?e.context=r:e.pendingContext=r,e=ai(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wi(i,e,o),t!==null&&(Sn(t,i,o,a),Dd(t,i,o)),o}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xx(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function tD(){return null}var JC=typeof reportError=="function"?reportError:function(t){console.error(t)};function bx(t){this._internalRoot=t}Qh.prototype.render=bx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Xh(t,e,null,null)};Qh.prototype.unmount=bx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Va(function(){Xh(null,t,null,null)}),e[di]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=EA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ri.length&&e!==0&&e<Ri[r].priority;r++);Ri.splice(r,0,t),r===0&&AA(t)}};function wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h_(){}function rD(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=yf(o);a.call(u)}}var o=KC(e,n,t,0,null,!1,!1,"",h_);return t._reactRootContainer=o,t[di]=o.current,vc(t.nodeType===8?t.parentNode:t),Va(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=yf(c);s.call(u)}}var c=vx(t,0,!1,null,null,!1,!1,"",h_);return t._reactRootContainer=c,t[di]=c.current,vc(t.nodeType===8?t.parentNode:t),Va(function(){Xh(e,c,r,n)}),c}function ep(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=yf(o);s.call(c)}}Xh(e,o,t,i)}else o=rD(r,e,t,i,n);return yf(o)}NA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dl(e.pendingLanes);r!==0&&(F0(e,r|1),kr(e,St()),!(Ge&6)&&(ds=St()+500,ia()))}break;case 13:Va(function(){var n=fi(t,1);if(n!==null){var i=mr();Sn(n,t,1,i)}}),xx(t,1)}};B0=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var r=mr();Sn(e,t,134217728,r)}xx(t,134217728)}};kA=function(t){if(t.tag===13){var e=Ji(t),r=fi(t,e);if(r!==null){var n=mr();Sn(r,t,e,n)}xx(t,e)}};EA=function(){return Je};TA=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};zg=function(t,e,r){switch(e){case"input":if(Ug(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Gh(n);if(!i)throw Error(ce(90));iA(n),Ug(n,i)}}}break;case"textarea":oA(t,r);break;case"select":e=r.value,e!=null&&Wo(t,!!r.multiple,e,!1)}};hA=px;pA=Va;var nD={usingClientEntryPoint:!1,Events:[_u,Io,Gh,dA,fA,px]},wl={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iD={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yA(t),t===null?null:t.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||tD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Fh=od.inject(iD),$n=od}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nD;qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(e))throw Error(ce(200));return eD(t,e,null,r)};qr.createRoot=function(t,e){if(!wx(t))throw Error(ce(299));var r=!1,n="",i=JC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vx(t,1,!1,null,null,r,!1,n,i),t[di]=e.current,vc(t.nodeType===8?t.parentNode:t),new bx(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=yA(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return Va(t)};qr.hydrate=function(t,e,r){if(!Zh(e))throw Error(ce(200));return ep(null,t,e,!0,r)};qr.hydrateRoot=function(t,e,r){if(!wx(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=JC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=KC(e,null,t,1,r??null,i,!1,a,o),t[di]=e.current,vc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qh(e)};qr.render=function(t,e,r){if(!Zh(e))throw Error(ce(200));return ep(null,t,e,!1,r)};qr.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(ce(40));return t._reactRootContainer?(Va(function(){ep(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};qr.unstable_batchedUpdates=px;qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zh(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return ep(t,e,r,!1,n)};qr.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(t){console.error(t)}}YC(),YT.exports=qr;var aD=YT.exports,p_=aD;Ig.createRoot=p_.createRoot,Ig.hydrateRoot=p_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const m_="popstate";function oD(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:c=""}=eo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ky("",{pathname:o,search:s,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");s=u===-1?c:c.slice(0,u)}return s+"#"+(typeof a=="string"?a:XC(a))}function n(i,a){tp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return lD(e,r,n,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sD(){return Math.random().toString(36).substr(2,8)}function g_(t,e){return{usr:t.state,key:t.key,idx:e}}function ky(t,e,r,n){return r===void 0&&(r=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eo(e):e,{state:r,key:e&&e.key||n||sD()})}function XC(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function eo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function lD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Fi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Tc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Fi.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:s,location:v.location,delta:b})}function h(y,b){s=Fi.Push;let _=ky(v.location,y,b);r&&r(_,y),u=d()+1;let w=g_(_,u),k=v.createHref(_);try{o.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}a&&c&&c({action:s,location:v.location,delta:1})}function g(y,b){s=Fi.Replace;let _=ky(v.location,y,b);r&&r(_,y),u=d();let w=g_(_,u),k=v.createHref(_);o.replaceState(w,"",k),a&&c&&c({action:s,location:v.location,delta:0})}function x(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:XC(y);return _=_.replace(/ $/,"%20"),At(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let v={get action(){return s},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(m_,f),c=y,()=>{i.removeEventListener(m_,f),c=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(y){return o.go(y)}};return v}var y_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y_||(y_={}));function cD(t,e,r){return r===void 0&&(r="/"),uD(t,e,r)}function uD(t,e,r,n){let i=typeof e=="string"?eo(e):e,a=ej(i.pathname||"/",r);if(a==null)return null;let o=QC(t);dD(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=SD(a);s=bD(o[c],u)}return s}function QC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(At(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=$a([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:vD(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of ZC(a.path))i(a,o,c)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=ZC(n.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function dD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xD(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fD=/^:[\w-]+$/,hD=3,pD=2,mD=1,gD=10,yD=-2,v_=t=>t==="*";function vD(t,e){let r=t.split("/"),n=r.length;return r.some(v_)&&(n+=yD),e&&(n+=pD),r.filter(i=>!v_(i)).reduce((i,a)=>i+(fD.test(a)?hD:a===""?mD:gD),n)}function xD(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bD(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=wD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:$a([a,f.pathname]),pathnameBase:AD($a([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=$a([a,f.pathnameBase]))}return o}function wD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=_D(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let v=s[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=s[f];return g&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function _D(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function SD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ej(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const ND=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kD=t=>ND.test(t);function ED(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?eo(t):t,a;if(r)if(kD(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=x_(r.substring(1),"/"):a=x_(r,e)}else a=e;return{pathname:a,search:CD(n),hash:jD(i)}}function x_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TD(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tj(t,e){let r=TD(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rj(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=eo(t):(i=Tc({},t),At(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let c=ED(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $a=t=>t.join("/").replace(/\/\/+/g,"/"),AD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nj=["post","put","patch","delete"];new Set(nj);const ID=["get",...nj];new Set(ID);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ac.apply(this,arguments)}const _x=T.createContext(null),OD=T.createContext(null),Nu=T.createContext(null),rp=T.createContext(null),to=T.createContext({outlet:null,matches:[],isDataRoute:!1}),ij=T.createContext(null);function ku(){return T.useContext(rp)!=null}function np(){return ku()||At(!1),T.useContext(rp).location}function aj(t){T.useContext(Nu).static||T.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=T.useContext(to);return t?zD():RD()}function RD(){ku()||At(!1);let t=T.useContext(_x),{basename:e,future:r,navigator:n}=T.useContext(Nu),{matches:i}=T.useContext(to),{pathname:a}=np(),o=JSON.stringify(tj(i,r.v7_relativeSplatPath)),s=T.useRef(!1);return aj(()=>{s.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=rj(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$a([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}function MD(t,e){return $D(t,e)}function $D(t,e,r,n){ku()||At(!1);let{navigator:i}=T.useContext(Nu),{matches:a}=T.useContext(to),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=np(),d;if(e){var f;let y=typeof e=="string"?eo(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||At(!1),d=y}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=cD(t,{pathname:g}),v=BD(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:$a([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:$a([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return e&&v?T.createElement(rp.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fi.Pop}},v):v}function DD(){let t=HD(),e=PD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const LD=T.createElement(DD,null);class UD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(to.Provider,{value:this.props.routeContext},T.createElement(ij.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FD(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(_x);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(to.Provider,{value:e},n)}function BD(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||At(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,x=!1,v=null,y=null;r&&(g=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||LD,c&&(u<0&&h===0?(WD("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),_=()=>{let w;return g?w=v:x?w=y:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(FD,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(UD,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var oj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oj||{}),sj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sj||{});function qD(t){let e=T.useContext(_x);return e||At(!1),e}function VD(t){let e=T.useContext(OD);return e||At(!1),e}function GD(t){let e=T.useContext(to);return e||At(!1),e}function lj(t){let e=GD(),r=e.matches[e.matches.length-1];return r.route.id||At(!1),r.route.id}function HD(){var t;let e=T.useContext(ij),r=VD(),n=lj();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function zD(){let{router:t}=qD(oj.UseNavigateStable),e=lj(sj.UseNavigateStable),r=T.useRef(!1);return aj(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ac({fromRouteId:e},a)))},[t,e])}const b_={};function WD(t,e,r){b_[t]||(b_[t]=!0)}function KD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _t(t){let{to:e,replace:r,state:n,relative:i}=t;ku()||At(!1);let{future:a,static:o}=T.useContext(Nu),{matches:s}=T.useContext(to),{pathname:c}=np(),u=zs(),d=rj(e,tj(s,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function vt(t){At(!1)}function JD(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fi.Pop,navigator:a,static:o=!1,future:s}=t;ku()&&At(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:a,static:o,future:Ac({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof n=="string"&&(n=eo(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:x="default"}=n,v=T.useMemo(()=>{let y=ej(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:x},navigationType:i}},[c,d,f,h,g,x,i]);return v==null?null:T.createElement(Nu.Provider,{value:u},T.createElement(rp.Provider,{children:r,value:v}))}function YD(t){let{children:e,location:r}=t;return MD(Ey(e),r)}new Promise(()=>{});function Ey(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){r.push.apply(r,Ey(n.props.children,a));return}n.type!==vt&&At(!1),!n.props.index||!n.props.children||At(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ey(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const XD="6";try{window.__reactRouterVersion=XD}catch{}const QD="startTransition",w_=KR[QD];function ZD(t){let{basename:e,children:r,future:n,window:i}=t,a=T.useRef();a.current==null&&(a.current=oD({window:i,v5Compat:!0}));let o=a.current,[s,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=T.useCallback(f=>{u&&w_?w_(()=>c(f)):c(f)},[c,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.useEffect(()=>KD(n),[n]),T.createElement(JD,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var __;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(__||(__={}));var S_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S_||(S_={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:c,...u},d)=>T.createElement("svg",{ref:d,...eL,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${tL(t)}`,s].join(" "),...u},[...e.map(([f,h])=>T.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=le("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=le("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=le("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=le("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=le("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=le("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=le("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=le("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=le("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=le("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=le("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=le("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=le("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=le("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=le("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=le("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=le("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=le("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=le("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=le("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=le("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=le("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=le("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=le("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=le("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=le("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GL="2.5.0",Hm=[{id:"dashboard",title:"",icon:sL,path:"/"},{id:"reports-group",title:"",icon:yL,path:"#",submenu:[{id:"shiftreport",title:" ",icon:Ty,path:"/shift-report"},{id:"reports",title:"",icon:vj,path:"/reports"}]},{id:"inbox",title:" ",icon:_f,path:"/inbox"},{id:"messages",title:"",icon:yj,path:"/messages"},{id:"notes",title:" ",icon:wj,path:"/notes"},{id:"workorders",title:" ",icon:_j,path:"/work-orders"},{id:"projects",title:"",icon:vf,path:"/projects"},{id:"performance",title:" ",icon:Sx,path:"/performance"},{id:"partrequest",title:" ",icon:Zl,path:"/part-requests"},{id:"inspections",title:" ",icon:fj,path:"/inspections"},{id:"documents",title:" ",icon:Xl,path:"/documents"},{id:"meetings",title:"",icon:bf,path:"/meetings"},{id:"suggestions",title:" ",icon:Sf,path:"/suggestions"},{id:"purchases",title:" ",icon:Ef,path:"/purchases"},{id:"system-settings",title:"  ",icon:kf,path:"#",role:"ADMIN",submenu:[{id:"admin",title:"  ",icon:Js,path:"/admin"},{id:"workflow",title:" ",icon:mj,path:"/workflow-designer"}]},{id:"settings",title:"",icon:kf,path:"/settings"}],HL=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],zL=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}];var wr=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(wr||{});const ec=()=>Math.random().toString(36).substring(2,9),Sj=(t,e,r)=>{let n=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+r+(e<7?(e-1)*31:(e-7)*30+186);n+=400*Math.floor(i/146097),i%=146097,i>36524&&(n+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),n+=4*Math.floor(i/1461),i%=1461,i>365&&(n+=Math.floor((i-1)/365),i=(i-1)%365);let a=i+1;const o=[0,31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const c=o[s];if(a<=c)break;a-=c}return{gy:n,gm:s,gd:a}},lp=(t,e,r)=>{const n=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const a=e>2?t+1:t;let o=365*t+Math.floor((a+3)/4)-Math.floor((a+99)/100)+Math.floor((a+399)/400)-80+r+n[e-1];i+=33*Math.floor(o/12053),o%=12053,i+=4*Math.floor(o/1461),o%=1461,o>365&&(i+=Math.floor((o-1)/365),o=(o-1)%365);const s=o<186?1+Math.floor(o/31):7+Math.floor((o-186)/30),c=1+(o<186?o%31:(o-186)%30);return{jy:i,jm:s,jd:c}},ct=()=>{const t=new Date,e=lp(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},ms=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Nj=t=>{const e=new Date,r=lp(e.getFullYear(),e.getMonth()+1,e.getDate()),n=String(r.jy).substring(2),i=String(r.jm).padStart(2,"0");if(t==="T"){const o=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${n}${i}${o}`}const a=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${n}${i}${a}`},gs=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:r,gm:n,gd:i}=Sj(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(r,n-1,i)}catch{return null}},WL=(t,e,r,n)=>{const i=gs(t),a=gs(r);if(!i||!a)return 0;const[o,s]=e.split(":").map(Number),[c,u]=n.split(":").map(Number);return i.setHours(o||0,s||0,0,0),a.setHours(c||0,u||0,0,0),i.getTime()<a.getTime()?-1:i.getTime()>a.getTime()?1:0},KL=(t,e,r,n)=>{const i=gs(t),a=gs(r);if(!i||!a)return 0;const[o,s]=e.split(":").map(Number),[c,u]=n.split(":").map(Number);i.setHours(o||0,s||0,0,0),a.setHours(c||0,u||0,0,0);const d=a.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},Tf=t=>{const e=gs(t);if(!e)return!1;const r=new Date;return r.setHours(0,0,0,0),e.getTime()>r.getTime()},T_=async()=>{try{const t=await fetch("https://api.ipify.org?format=json");if(!t.ok)throw new Error("Network response was not ok");return(await t.json()).ip}catch(t){return console.warn("Could not fetch public IP:",t),"Unknown / Offline"}};function cp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function JL(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})}const YL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ex extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class XL extends Ex{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A_ extends Ex{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class C_ extends Ex{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cy||(Cy={}));class QL{constructor(e,{headers:r={},customFetch:n,region:i=Cy.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=YL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return JL(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let y=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:y}).catch(S=>{throw new XL(S)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new A_(b);if(!b.ok)throw new C_(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield b.json():w==="application/octet-stream"||w==="application/pdf"?k=yield b.blob():w==="text/event-stream"?k=b:w==="multipart/form-data"?k=yield b.formData():k=yield b.text(),{data:k,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof C_||s instanceof A_?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var ZL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},e4=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var g;const b=await a.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=b:s=JSON.parse(b))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,c=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var x;const v=await a.text();try{o=JSON.parse(v),Array.isArray(o)&&a.status===404&&(s=[],o=null,u=200,d="OK")}catch{a.status===404&&v===""?(u=204,d="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new ZL(o)}return{error:o,data:s,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",v=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";s=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,v&&(s+=` (${v})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var g;s=(g=a==null?void 0:a.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},t4=class extends e4{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const s=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const j_=new RegExp("[,()]");var So=class extends t4{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&j_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&j_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},r4=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new So({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,s)=>o.concat(Object.keys(s)),[]);if(a.length>0){const o=[...new Set(a)].map(s=>`"${s}"`);this.url.searchParams.set("columns",o.join(","))}}return new So({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(s.length>0){const c=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new So({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new So({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new So({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},n4=class kj{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new r4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(s="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new So({method:s,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class i4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const a4="2.89.0",o4=`realtime-js/${a4}`,Ej="1.0.0",s4="2.0.0",P_=Ej,jy=1e4,l4=1e3,c4=100;var Ii;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ii||(Ii={}));var Rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rt||(Rt={}));var yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yn||(yn={}));var Py;(function(t){t.websocket="websocket"})(Py||(Py={}));var _a;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_a||(_a={}));class u4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(g),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,c.length),x.setUint8(v++,s.length),x.setUint8(v++,o.length),x.setUint8(v++,u.length),x.setUint8(v++,f.length),x.setUint8(v++,r),Array.from(c,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>x.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(g.byteLength+n.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(n),g.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,c]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+i));c=c+i;const d=n.decode(e.slice(c,c+a));c=c+a;const f=n.decode(e.slice(c,c+o));c=c+o;const h=e.slice(c,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Tj{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const I_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=d4(o,t,e,i),a),{}):{}},d4=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?Aj(a,o):Iy(o)},Aj=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return m4(e,r)}switch(t){case et.bool:return f4(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return h4(e);case et.json:case et.jsonb:return p4(e);case et.timestamp:return g4(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Iy(e);default:return Iy(e)}},Iy=t=>t,f4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},m4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>Aj(e,s))}return t},g4=t=>typeof t=="string"?t.replace(" ","T"):t,Cj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zm{constructor(e,r,n={},i=jy){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var O_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(O_||(O_={}));class tc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=tc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tc.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(s[u]=x),v.length>0&&(c[u]=v)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(c),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=e[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,c),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var R_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(R_||(R_={}));var rc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rc||(rc={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class Uo{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,yn.join,this.params,this.timeout),this.rejoinTimer=new Tj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new tc(this),this.broadcastEndpointURL=Cj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[rc.PRESENCE]&&this.bindings[rc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Xn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,b=[];for(let _=0;_<y;_++){const w=v[_],{filter:{event:k,schema:S,table:N,filter:E}}=w,C=g&&g[_];if(C&&C.event===k&&Uo.isFilterValueEqual(C.schema,S)&&Uo.isFilterValueEqual(C.table,N)&&Uo.isFilterValueEqual(C.filter,E))b.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Rt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Xn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Rt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Rt.joined&&e===rc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new zm(this,yn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zm(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>c4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=yn;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,b,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(_=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:y,commit_timestamp:b,type:_,errors:w}=x;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(x))}g.callback(h,n)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Uo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=I_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=I_(e.columns,e.old_record)),r}}const Wm=()=>{},ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y4=[1e3,2e3,5e3,1e4],v4=1e4,x4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b4{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jy,this.transport=null,this.heartbeatIntervalMs=ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.reconnectTimer=null,this.vsn=P_,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new u4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Py.websocket}`,this.httpEndpoint=Cj(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ii.connecting:return _a.Connecting;case Ii.open:return _a.Open;case Ii.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Uo(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(l4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ii.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ii.open||this.conn.readyState===Ii.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([x4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:o4};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Tj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,c,u,d,f,h,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:jy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ld.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Wm,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:P_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>y4[x-1]||v4,this.vsn){case Ej:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,v)=>v(JSON.stringify(x)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(x,v)=>v(JSON.parse(x));break;case s4:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var jc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function w4(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function _4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function S4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=w4(t.baseUrl,n,i),c=await _4(t.auth),u=await e(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,x=g==null?void 0:g.error;throw new jc((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function cd(t){return t.join("")}var N4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:cd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cd(t.namespace)}`}),!0}catch(e){if(e instanceof jc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof jc&&r.status===409)return;throw r}}};function ho(t){return t.join("")}var k4=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof jc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof jc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},E4=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=S4({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new N4(this.client,e),this.tableOps=new k4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},up=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ht(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var T4=class extends up{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oy=class extends up{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Tx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A4=()=>Response,Ry=t=>{if(Array.isArray(t))return t.map(r=>Ry(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ry(n)}),e},C4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},j4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function P4(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I4(t){var e=P4(t,"string");return Pc(e)=="symbol"?e:e+""}function O4(t,e,r){return(e=I4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(r),!0).forEach(function(n){O4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Km=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},R4=async(t,e,r)=>{t instanceof await A4()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,a=(n==null?void 0:n.statusCode)||i+"";e(new T4(Km(n),i,a))}).catch(n=>{e(new Oy(Km(n),n))}):e(new Oy(Km(t),t))},M4=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(C4(n)?(i.headers=Pe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Pe(Pe({},i),r))};async function Tu(t,e,r,n,i,a){return new Promise((o,s)=>{t(r,M4(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>R4(c,s,n))})}async function Ic(t,e,r,n){return Tu(t,"GET",e,r,n)}async function mn(t,e,r,n,i){return Tu(t,"POST",e,n,i,r)}async function My(t,e,r,n,i){return Tu(t,"PUT",e,n,i,r)}async function $4(t,e,r,n){return Tu(t,"HEAD",e,Pe(Pe({},r),{},{noResolveJson:!0}),n)}async function Ax(t,e,r,n,i){return Tu(t,"DELETE",e,n,i,r)}var D4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}}};let jj;jj=Symbol.toStringTag;var L4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[jj]="BlobDownloadBuilder",this.promise=null}asStream(){return new D4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ht(e))return{data:null,error:e};throw e}}};const U4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Tx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let a;const o=Pe(Pe({},$_),n);let s=Pe(Pe({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(s=Pe(Pe({},s),n.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?My:mn)(i.fetch,`${i.url}/object/${d}`,a,Pe({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let c;const u=Pe({upsert:$_.upsert},n),d=Pe(Pe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await My(i.fetch,s.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(ht(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Pe({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await mn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),s=o.searchParams.get("token");if(!s)throw new up("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await mn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await mn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),a=await mn(n.fetch,`${n.url}/object/sign/${i}`,Pe({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await mn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Pe(Pe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),o=()=>Ic(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new L4(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Ry(await Ic(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await $4(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ht(n)&&n instanceof Oy){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${s}`)}}}async remove(t){var e=this;try{return{data:await Ax(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Pe(Pe(Pe({},U4),e),{},{prefix:t||""});return{data:await mn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Pe({},t);return{data:await mn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Pj="2.89.0",Ij={"X-Client-Info":`storage-js/${Pj}`};var B4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Pe(Pe({},Ij),e),this.fetch=Tx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ic(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ic(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await mn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await My(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ax(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},q4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Ij),e),this.fetch=Tx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ic(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ax(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!j4(t))throw new up("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new E4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Cx={"X-Client-Info":`storage-js/${Pj}`,"Content-Type":"application/json"};var Oj=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Jm=class extends Oj{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},V4=class extends Oj{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const jx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H4=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";e(new Jm(D_(a),n,o))}).catch(()=>{const a=n+"";e(new Jm(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new Jm(i.statusText||`HTTP ${n} error`,n,a))}}else e(new V4(D_(t),t))},z4=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(G4(n)?(i.headers=Pe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Pe(Pe({},i),r)):i};async function W4(t,e,r,n,i,a){return new Promise((o,s)=>{t(r,z4(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>H4(c,s,n))})}async function Mr(t,e,r,n,i){return W4(t,"POST",e,n,i,r)}var K4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Cx),e),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Mr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Mr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}}},J4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Cx),e),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Mr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}},Y4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pe(Pe({},Cx),e),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}},X4=class extends Y4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Q4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Q4=class extends K4{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Z4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Z4=class extends J4{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Pe(Pe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},e5=class extends B4{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new F4(this.url,this.headers,t,this.fetch)}get vectors(){return new X4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new q4(this.url+"/iceberg",this.headers,this.fetch)}};const Rj="2.89.0",No=30*1e3,$y=3,Ym=$y*No,t5="http://localhost:9999",r5="supabase.auth.token",n5={"X-Client-Info":`gotrue-js/${Rj}`},Dy="X-Supabase-Api-Version",Mj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a5=10*60*1e3;class Oc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class o5 extends Oc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s5(t){return ke(t)&&t.name==="AuthApiError"}class Sa extends Oc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wi extends Oc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ar extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l5(t){return ke(t)&&t.name==="AuthSessionMissingError"}class po extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends wi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dd extends wi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c5(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class L_ extends wi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class u5 extends wi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ly extends wi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xm(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class U_ extends wi{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uy extends wi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F_=` 	
\r=`.split(""),d5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<F_.length;e+=1)t[F_[e].charCodeAt(0)]=-2;for(let e=0;e<Af.length;e+=1)t[Af[e].charCodeAt(0)]=e;return t})();function B_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Af[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Af[n]),e.queuedBits-=6}}function $j(t,e,r){const n=d5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function q_(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{p5(o,n,r)};for(let o=0;o<t.length;o+=1)$j(t.charCodeAt(o),i,a);return e.join("")}function f5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function h5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}f5(n,e)}}function p5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)$j(t.charCodeAt(i),r,n);return new Uint8Array(e)}function m5(t){const e=[];return h5(t,r=>e.push(r)),new Uint8Array(e)}function Aa(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>B_(i,r,n)),B_(null,r,n),e.join("")}function g5(t){return Math.round(Date.now()/1e3)+t}function y5(){return Symbol("auth-callback")}const Jt=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},Dj=()=>{if(!Jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function v5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Lj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ko=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},da=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(t,e)=>{await t.removeItem(e)};class dp{constructor(){this.promise=new dp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dp.promiseConstructor=Promise;function Qm(t){const e=t.split(".");if(e.length!==3)throw new Uy("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!i5.test(e[n]))throw new Uy("JWT not in base64url format");return{header:JSON.parse(q_(e[0])),payload:JSON.parse(q_(e[1])),signature:Zo(e[2]),raw:{header:e[0],payload:e[1]}}}async function b5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w5(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function _5(t){return("0"+t.toString(16)).substr(-2)}function S5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,_5).join("")}async function N5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function k5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await N5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(t,e,r=!1){const n=S5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ko(t,`${e}-code-verifier`,i);const a=await k5(n);return[a,n===a?"plain":"s256"]}const E5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T5(t){const e=t.headers.get(Dy);if(!e||!e.match(E5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function A5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function C5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(t){if(!j5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P5(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function V_(t){return JSON.parse(JSON.stringify(t))}const ya=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I5=[502,503,504];async function G_(t){var e;if(!x5(t))throw new Ly(ya(t),0);if(I5.includes(t.status))throw new Ly(ya(t),t.status);let r;try{r=await t.json()}catch(a){throw new Sa(ya(a),a)}let n;const i=T5(t);if(i&&i.getTime()>=Mj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new U_(ya(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ar}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new U_(ya(r),t.status,r.weak_password.reasons);throw new o5(ya(r),t.status||500,n)}const O5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function je(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Dy]||(a[Dy]=Mj["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await R5(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function R5(t,e,r,n,i,a){const o=O5(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Ly(ya(c),0)}if(s.ok||await G_(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await G_(c)}}function hn(t){var e;let r=null;D5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=g5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function H_(t){const e=hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function M5(t){return{data:t,error:null}}function $5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=cp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function z_(t){return t}function D5(t){return t.access_token&&t.refresh_token&&t.expires_in}const eg=["global","local","others"];class L5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Lj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=eg[0]){if(eg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eg.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$i})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=cp(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:z_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){go(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){go(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$i})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){go(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$i})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){go(e.userId);try{const{data:r,error:n}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(e){go(e.userId),go(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:z_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function W_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const yo={debug:!!(globalThis&&Dj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U5 extends Uj{}async function F5(t,e,r){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function B5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function q5(t){return parseInt(t,16)}function V5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function G5(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Fj(t.address),x=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${g}

${v}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}b+=_}return`${y}
${b}`}class Et extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Cf extends Et{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function H5({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Bj(o)){if(a.rp.id!==o)return new Et({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Bj(n)){if(r.rpId!==n)return new Et({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class W5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const K5=new W5;function J5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=cp(t,["challenge","user","excludeCredentials"]),a=Zo(e).buffer,o=Object.assign(Object.assign({},r),{id:Zo(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Zo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Y5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=cp(t,["challenge","allowCredentials"]),i=Zo(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Zo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function X5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Aa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Aa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Aa(new Uint8Array(i.authenticatorData)),clientDataJSON:Aa(new Uint8Array(i.clientDataJSON)),signature:Aa(new Uint8Array(i.signature)),userHandle:i.userHandle?Aa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function K_(){var t,e;return!!(Jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Z5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cf("Browser returned unexpected credential type",e)}:{data:null,error:new Cf("Empty credential response",e)}}catch(e){return{data:null,error:H5({error:e,options:t})}}}async function e3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cf("Browser returned unexpected credential type",e)}:{data:null,error:new Cf("Empty credential response",e)}}catch(e){return{data:null,error:z5({error:e,options:t})}}}const t3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=jf(s,o):n[a]=jf(o)}else n[a]=o}return n}function n3(t,e){return jf(t3,t,e||{})}function i3(t,e){return jf(r3,t,e||{})}class a3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const c=i??K5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=n3(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Z5({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=i3(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await e3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Oc("rpId is required for WebAuthn authentication")};try{if(!K_())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Oc("rpId is required for WebAuthn registration")};try{if(!K_())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in register",o)}}}}B5();const o3={url:t5,storageKey:r5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:n5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function J_(t,e,r){return await r()}const vo={};class Rc{get jwks(){var e,r;return(r=(e=vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},o3),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Rc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Rc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Jt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new L5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Lj(a.fetch),this.lock=a.lock||J_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Jt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=F5:this.lock=J_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Dj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=W_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=W_(this.memoryStorage)),Jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rj}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Jt()&&(r=v5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),c5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new Sa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:hn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await mo(this.storage,this.storageKey)),a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:x},xform:hn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hn})}else throw new ud("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await Kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:H_})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:H_})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new po;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,c,u,d,f,h;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:v,wallet:y,statement:b,options:_}=e;let w;if(Jt())if(typeof y=="object")w=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const k=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Fj(S[0]);let E=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await w.request({method:"eth_chainId"});E=q5(A)}const C={domain:k.host,address:N,statement:b,uri:k.href,version:"1",chainId:E,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=G5(C),x=await w.request({method:"personal_sign",params:[V5(g),N]})}try{const{data:v,error:y}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:hn});if(y)throw y;if(!v||!v.session||!v.user){const b=new po;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(ke(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,a,o,s,c,u,d,f,h,g;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:_,options:w}=e;let k;if(Jt())if(typeof b=="object")k=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),_?{statement:_}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:y,error:b}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Aa(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:hn});if(b)throw b;if(!y||!y.session||!y.user){const _=new po;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ke(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new u5;const{data:a,error:o}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:hn});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hn}),{data:c,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new po;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await mo(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:c}=e,{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ud("You must provide either an email or phone number.")}catch(s){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:hn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await mo(this.storage,this.storageKey));const u=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:M5});return!((a=u.data)===null||a===void 0)&&a.url&&Jt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ar;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await da(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Zm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=P5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$i})})}catch(r){if(ke(r))return l5(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ar;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&e.email!=null&&([s,c]=await mo(this.storage,this.storageKey));const{data:u,error:d}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:$i});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ar;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Qm(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ar;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Jt())throw new dd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new L_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L_("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=e;if(!a||!s||!o||!u)throw new dd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(s5(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=y5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await mo(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,u,d;const{data:f,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Jt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:u,nonce:d}=e,f=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new po}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await w5(async i=>(i>0&&await b5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Xm(a)&&Date.now()+o-n<No})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Jt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await da(this.storage,this.storageKey);if(i&&this.userStorage){let o=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ko(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Zm()}else if(i&&!i.user&&!i.user){const o=await da(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Kt(this.storage,this.storageKey+"-user"),await ko(this.storage,this.storageKey,i)):i.user=Zm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ym;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ym}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Xm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dp;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ar;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ke(a)){const o={data:null,error:a};return Xm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Kt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ko(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=V_(i);await ko(this.storage,this.storageKey,a)}else{const i=V_(r);await ko(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${No}ms, refresh threshold is ${$y} ticks`),i<=$y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await mo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?X5(e.webauthn.credential_response):Q5(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:c}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:J5(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Y5(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Qm(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const o=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const o=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Jt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(e){if(ke(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ar})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+a5>i)return n;const{data:a,error:o}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return this._returnResult({data:null,error:x});n=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=Qm(n);r!=null&&r.allowExpired||A5(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=C5(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,m5(`${s}.${c}`)))throw new Uy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}Rc.nextInstanceID={};const s3=Rc,l3="2.89.0";let Ul="";typeof Deno<"u"?Ul="deno":typeof document<"u"?Ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ul="react-native":Ul="node";const c3={"X-Client-Info":`supabase-js-${Ul}/${l3}`},u3={headers:c3},d3={schema:"public"},f3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h3={};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function p3(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m3(t){var e=p3(t,"string");return Mc(e)=="symbol"?e:e+""}function g3(t,e,r){return(e=m3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(r),!0).forEach(function(n){g3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const y3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),v3=()=>Headers,x3=(t,e,r)=>{const n=y3(r),i=v3();return async(a,o)=>{var s;const c=(s=await e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,xt(xt({},o),{},{headers:u}))}};function b3(t){return t.endsWith("/")?t:t+"/"}function w3(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:xt(xt({},c),i),auth:xt(xt({},u),a),realtime:xt(xt({},d),o),storage:{},global:xt(xt(xt({},f),s),{},{headers:xt(xt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function _3(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var S3=class extends s3{constructor(t){super(t)}},N3=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=_3(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:d3,realtime:h3,auth:xt(xt({},f3),{},{storageKey:o}),global:u3},c=w3(r??{},s);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=x3(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new n4(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new e5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new QL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S3({url:this.authUrl.href,headers:xt(xt({},h),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new b4(this.realtimeUrl.href,xt(xt({},t),{},{params:xt(xt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const k3=(t,e,r)=>new N3(t,e,r);function E3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}E3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const X_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},T3="https://krgznynrljnvxwhvsdxj.supabase.co",A3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function qj(t){try{if(typeof import.meta<"u"&&import.meta&&X_)return X_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const C3=qj("VITE_SUPABASE_URL"),j3=qj("VITE_SUPABASE_ANON_KEY"),Vj=C3||T3,P3=j3||A3;Vj.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const De=k3(Vj,P3),Au=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},Gj=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Cu=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},Hj=t=>{localStorage.setItem("cartable",JSON.stringify(t))},zj=async(t,e)=>{try{const{data:r,error:n}=await De.from("messages").select("*").order("created_at",{ascending:!1});if(n)throw n;const a=(r||[]).map(c=>({id:c.id,senderId:c.sender_id,senderName:c.sender_name,receiverId:c.receiver_id,receiverType:c.receiver_type,subject:c.subject,body:c.body,createdAt:c.created_at,readBy:c.read_by||[],attachments:c.attachments||[]})),o=a.filter(c=>c.receiverType==="USER"&&c.receiverId===t||c.receiverType==="ALL"||c.receiverType==="GROUP"&&c.receiverId===e),s=a.filter(c=>c.senderId===t);return{inbox:o,sent:s}}catch(r){return console.error("Error fetching messages:",r),{inbox:[],sent:[]}}},I3=async(t,e)=>{try{const{inbox:r}=await zj(t,e);return r.filter(n=>!n.readBy.includes(t)).length}catch{return 0}},O3=async(t,e,r,n,i,a=[])=>{const o=`${ct()} ${ms()}`,s=[];if(r==="USER"&&Array.isArray(e))e.forEach(u=>{s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:u,receiver_type:"USER",subject:n,body:i,created_at:o,read_by:[],attachments:a})});else{const u=Array.isArray(e)?e[0]:e;s.push({sender_id:t.id,sender_name:t.fullName,receiver_id:u,receiver_type:r,subject:n,body:i,created_at:o,read_by:[],attachments:a})}const{error:c}=await De.from("messages").insert(s);if(c)throw c},R3=async(t,e)=>{if(!t.readBy.includes(e)){const r=[...t.readBy,e];await De.from("messages").update({read_by:r}).eq("id",t.id)}},qe=async t=>{try{const{data:e,error:r}=await De.from(t).select("*");if(!r&&e&&!(t==="measurement_units"&&e.length===0))return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},M3=async()=>{try{const{data:t,error:e}=await De.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching shift reports:",t),[]}},$3=async t=>{try{const e={tracking_code:t.code,shift_date:t.shiftInfo.date,shift_name:t.shiftInfo.name,shift_type:t.shiftInfo.type,shift_duration:t.shiftInfo.shiftDuration,supervisor_id:t.shiftInfo.supervisor,supervisor_name:t.shiftInfo.supervisorName,total_production_a:t.totalA,total_production_b:t.totalB,full_data:t},{error:r}=await De.from("shift_reports").insert([e]);if(r)throw r;return!0}catch(e){throw console.error("Error saving shift report:",e),e}},ro=async t=>{try{const{data:e,error:r}=await De.rpc("get_next_tracking_code",{prefix_input:t});return r?(console.error("RPC Error:",r),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},D3=()=>{let t=Au();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:wr.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:wr.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:wr.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),Gj(t)}};D3();const $c=()=>Au(),L3=t=>{const e=Au(),r=e.findIndex(n=>n.id===t.id);r>=0?e[r]=t:e.push(t),Gj(e)},ta=(t,e,r,n,i)=>{let o=Au().find(d=>d.module===t&&d.isActive);o||(o={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=o.steps[0],c={id:ec(),workflowId:o.id,trackingCode:n,module:t,title:i,description:`   ${r.fullName}`,currentStepId:s.id,initiatorId:r.id,assigneeRole:s.assigneeRole==="INITIATOR"?r.role:s.assigneeRole,status:"PENDING",createdAt:ct(),updatedAt:ct(),data:{...e,status:"REQUEST"}},u=Cu();return u.push(c),Hj(u),c},U3=(t,e,r,n)=>{const i=Cu(),a=i.findIndex(f=>f.id===t);if(a===-1)return;const o=i[a],c=Au().find(f=>f.id===o.workflowId);if(!c)return;const u=c.steps.find(f=>f.id===o.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")o.status="DONE",o.assigneeRole=wr.ADMIN,o.description=`   ${r.fullName}`,o.data&&(o.data.status="FINISHED");else{const f=c.steps.find(h=>h.id===d.nextStepId);if(f){o.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?o.assigneeRole="INITIATOR":o.assigneeRole=h,o.updatedAt=ct(),o.description=`   ${f.assigneeRole}  ${r.fullName}`,o.module==="WORK_ORDER"&&(f.title===""?o.data.status="REQUEST":f.title==="  "?o.data.status="IN_PROGRESS":f.title===""?o.data.status="VERIFICATION":f.title===""&&(o.data.status="FINISHED"))}}i[a]=o,Hj(i)}},Q_=t=>Cu().filter(r=>r.status==="PENDING"&&(r.assigneeRole===t.role||r.assigneeRole==="INITIATOR"&&r.initiatorId===t.id||r.assigneeId===t.id)),F3=()=>Cu().filter(e=>e.module==="WORK_ORDER"),fp=t=>Cu().filter(r=>r.module===t),B3=({children:t,user:e,onLogout:r,darkMode:n,toggleDarkMode:i})=>{var C;const[a,o]=T.useState(!1),[s,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState(0),[g,x]=T.useState(null),v=zs(),y=np(),b=y.pathname==="/login";T.useEffect(()=>{Hm.forEach(A=>{A.submenu&&A.submenu.some($=>$.path===y.pathname)&&!u.includes(A.id)&&d($=>[...$,A.id])})},[y.pathname]),T.useEffect(()=>{if(!e)return;const A=async()=>{const U=await I3(e.id,e.role);h(U),I()},I=async()=>{try{const{data:U}=await De.from("personal_notes").select("*").eq("user_id",e.id).eq("is_completed",!1).not("reminder_date","is",null).not("reminder_time","is",null);if(U&&U.length>0){const O=new Date,M=ct(),P=ms(),D=U.find(B=>{if(B.reminderSeen)return!1;const F=B.reminderDate<M,W=B.reminderDate===M,K=B.reminderTime<=P;return F||W&&K});D&&(x(D),new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{}))}}catch(U){console.error("Reminder check failed",U)}};A();const $=setInterval(A,3e4);return()=>clearInterval($)},[e]);const _=async()=>{g&&x(null)},w=async()=>{if(g)try{await De.from("personal_notes").update({is_completed:!0}).eq("id",g.id),x(null),alert("  .")}catch(A){console.error(A)}};if(b)return l.jsx(l.Fragment,{children:t});const k=()=>{v(-1)},S=y.pathname==="/",N=A=>{s?(c(!1),d([A])):d(I=>I.includes(A)?I.filter($=>$!==A):[...I,A])},E=A=>{A.submenu?N(A.id):(v(A.path),o(!1))};return l.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${n?"dark":""}`,children:[g&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all scale-100 border-t-4 border-red-500",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[l.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 p-3 rounded-full animate-bounce",children:l.jsx(lL,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""})]}),l.jsx("h4",{className:"font-bold text-lg mb-2",children:g.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-4",children:g.content||"      ."}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsx(Ks,{className:"w-3 h-3"}),l.jsxs("span",{children:[g.reminderTime," - ",g.reminderDate]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 flex gap-3",children:[l.jsx("button",{onClick:_,className:"flex-1 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition",children:"  "}),l.jsxs("button",{onClick:w,className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2",children:[l.jsx(Ws,{className:"w-4 h-4"}),"  "]})]})]})}),a&&l.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>o(!1)}),l.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${a?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${s?"md:w-20":"md:w-64"}
      `,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${s?"justify-center":"justify-between"}`,children:[!s&&l.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""}),l.jsx("button",{onClick:()=>o(!1),className:"md:hidden",children:l.jsx(gt,{className:"w-6 h-6"})}),l.jsx("button",{onClick:()=>c(!s),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:s?"  ":" ",children:s?l.jsx(CL,{className:"w-5 h-5"}):l.jsx(AL,{className:"w-5 h-5"})})]}),l.jsxs("div",{onClick:()=>{v("/settings"),o(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${s?"justify-center":""}
            `,title:s?e==null?void 0:e.fullName:" ",children:[l.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all shadow-sm",children:e!=null&&e.avatar?l.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):l.jsx(ps,{className:"w-5 h-5"})}),!s&&l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.role})]})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:Hm.map(A=>{var P,D;if(A.id==="settings"||A.role&&(e==null?void 0:e.role)!==A.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const I=!!A.submenu,$=u.includes(A.id),U=I&&((P=A.submenu)==null?void 0:P.some(B=>B.path===y.pathname)),O=!I&&y.pathname===A.path,M=A.id==="messages"&&f>0;return l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>E(A),title:s?A.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${s?"justify-center px-2":"px-6 text-right justify-between"}
                      ${O||U?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[l.jsxs("div",{className:"flex items-center gap-3 relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx(A.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${M?"animate-pulse":""} ${(O||U)&&!s?"scale-110":""}`}),M&&s&&l.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!s&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm truncate ${O||U?"font-bold":"font-medium"}`,children:A.title}),M&&l.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:f})]})]}),!s&&I&&l.jsx(ip,{className:`w-4 h-4 transition-transform duration-200 ${$?"rotate-180":""}`}),s&&l.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[A.title,M&&l.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:f})]})]}),!s&&I&&$&&l.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:(D=A.submenu)==null?void 0:D.map(B=>{const F=y.pathname===B.path;return l.jsxs("button",{onClick:()=>{v(B.path),o(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${F?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[l.jsx(B.icon,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:B.title})]},B.id)})})]},A.id)})}),l.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[l.jsxs("button",{onClick:i,title:s?n?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[n?l.jsx(UL,{className:"w-5 h-5"}):l.jsx(TL,{className:"w-5 h-5"}),!s&&l.jsx("span",{className:"text-sm",children:n?" ":" "})]}),l.jsxs("button",{onClick:r,title:s?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${s?"justify-center px-2":"px-4"}`,children:[l.jsx(kL,{className:"w-5 h-5"}),!s&&l.jsx("span",{className:"text-sm",children:""})]})]})]})}),l.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[l.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>o(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:l.jsx(EL,{className:"w-6 h-6"})}),!S&&l.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(Eu,{className:"w-6 h-6 text-gray-500"})}),l.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((C=Hm.flatMap(A=>A.submenu?A.submenu:A).find(A=>A.path===y.pathname))==null?void 0:C.title)||(y.pathname==="/settings"?"":"")})]}),l.jsx("div",{className:"flex items-center gap-2"})]}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:t})]})]})},q3={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Px=({className:t})=>{const e=()=>{try{return`${q3&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return l.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:r=>{console.warn("Logo load failed"),r.currentTarget.style.display="none"}})},Z_=`--      SQL Editor  Supabase  

-- 1.  
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text,
  unit text,
  mobile text,
  email text,
  profile_picture text,
  created_at timestamptz default now()
);

create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  password text,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

--   
create table if not exists system_logs (
  id uuid default gen_random_uuid() primary key,
  user_id text,
  user_name text,
  personnel_code text,
  action text,
  ip_address text,
  details text,
  created_at timestamptz default now()
);

--   
create table if not exists messages (
  id uuid default gen_random_uuid() primary key,
  sender_id text,
  sender_name text,
  receiver_id text,
  receiver_type text,
  subject text,
  body text,
  read_by jsonb default '[]'::jsonb,
  created_at text,
  attachments jsonb default '[]'::jsonb
);

-- 2.   
create table if not exists locations ( id uuid default gen_random_uuid() primary key, code text unique, name text not null, parent_id uuid references locations(id), created_at timestamptz default now() );
create table if not exists measurement_units ( id uuid default gen_random_uuid() primary key, title text not null, created_at timestamptz default now() );
create table if not exists equipment_classes ( id uuid default gen_random_uuid() primary key, name text not null, created_at timestamptz default now() );
create table if not exists equipment_groups ( id uuid default gen_random_uuid() primary key, name text not null, class_id uuid references equipment_classes(id), created_at timestamptz default now() );

--   
create table if not exists part_categories ( 
  id uuid default gen_random_uuid() primary key, 
  code text unique not null, 
  name text unique not null, 
  parent_id uuid references part_categories(id), 
  level_type text not null, 
  created_at timestamptz default now() 
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

-- 3.     (Cartable)
create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 4.   
create table if not exists projects (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  title text not null,
  manager_id uuid references personnel(id),
  manager_name text,
  budget numeric default 0,
  start_date text,
  end_date text,
  status text default 'PLANNED',
  progress integer default 0,
  description text,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

create table if not exists project_objectives (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  objective_text text not null,
  created_at timestamptz default now()
);

create table if not exists project_milestones (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  title text not null,
  weight_percent integer not null,
  progress_percent integer default 0,
  created_at timestamptz default now()
);

create table if not exists project_attachments (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  file_name text not null,
  file_path text,
  file_size integer,
  file_type text,
  uploaded_at timestamptz default now()
);

--   
create table if not exists shift_reports (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  shift_date text,
  shift_name text,
  shift_type text,
  shift_duration text,
  supervisor_id uuid,
  supervisor_name text,
  total_production_a numeric default 0,
  total_production_b numeric default 0,
  full_data jsonb,
  created_at timestamptz default now()
);

-- 5.   
create table if not exists performance_evaluations (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  personnel_id uuid references personnel(id),
  personnel_name text,
  unit text,
  period text,
  total_score numeric,
  criteria_data jsonb,
  evaluator_id uuid references app_users(id),
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

--   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

--   (    )
create table if not exists parts ( 
  id uuid default gen_random_uuid() primary key, 
  code text, 
  name text not null, 
  category_id uuid references part_categories(id), 
  stock_unit_id uuid references measurement_units(id), 
  consumption_unit_id uuid references measurement_units(id), 
  created_at timestamptz default now() 
);

-- 6.    (  )
create table if not exists part_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  requester_id uuid references app_users(id),
  requester_name text,
  work_order_id uuid references cartable_items(id), --    
  work_order_code text,
  request_date text,
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

create table if not exists part_request_items (
  id uuid default gen_random_uuid() primary key,
  request_id uuid references part_requests(id) on delete cascade,
  part_id uuid references parts(id),
  part_name text,
  qty numeric,
  unit text,
  note text,
  created_at timestamptz default now()
);

-- 7.   
create table if not exists technical_documents (
  id uuid default gen_random_uuid() primary key,
  code text not null,
  title text not null,
  type text,
  file_name text,
  created_at timestamptz default now()
);

-- 8.  
create table if not exists meeting_minutes (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  subject text not null,
  location text,
  meeting_date text,
  start_time text,
  end_time text,
  attendees jsonb default '[]'::jsonb,
  decisions jsonb default '[]'::jsonb,
  attached_files jsonb default '[]'::jsonb,
  creator_id uuid references app_users(id),
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 9.   
create table if not exists technical_suggestions (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  user_id uuid references app_users(id),
  user_name text,
  description text not null,
  attached_files jsonb default '[]'::jsonb,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 10.    ()
create table if not exists purchase_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  request_number text not null,
  requester_id uuid references app_users(id),
  requester_name text,
  request_date text,
  description text not null,
  qty numeric default 1,
  unit text,
  location text,
  priority text,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 11.    ()
create table if not exists personal_notes (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references app_users(id),
  title text not null,
  content text,
  tags jsonb default '[]'::jsonb,
  reminder_date text,
  reminder_time text,
  is_completed boolean default false,
  attachments jsonb default '[]'::jsonb,
  created_at timestamptz default now()
);

--   
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS password text;
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS personnel_id uuid REFERENCES personnel(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES org_chart(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS manager_id uuid REFERENCES personnel(id);
ALTER TABLE personnel ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);
ALTER TABLE locations ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES locations(id);
ALTER TABLE equipment_classes ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE equipment_groups ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE evaluation_criteria ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);

-- Constraints
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_code_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_code_key UNIQUE (code);
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_name_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_name_key UNIQUE (name);
ALTER TABLE equipment_groups DROP CONSTRAINT IF EXISTS equipment_groups_code_key;
ALTER TABLE equipment_groups ADD CONSTRAINT equipment_groups_code_key UNIQUE (code);
ALTER TABLE equipment ALTER COLUMN code SET NOT NULL;

-- RLS Policies (Simplified for development - allow all)
alter table personnel enable row level security; drop policy if exists "Allow all personnel" on personnel; create policy "Allow all personnel" on personnel for all using (true) with check (true);
alter table app_users enable row level security; drop policy if exists "Allow all users" on app_users; create policy "Allow all users" on app_users for all using (true) with check (true);
alter table shift_reports enable row level security; drop policy if exists "Allow all reports" on shift_reports; create policy "Allow all reports" on shift_reports for all using (true) with check (true);
alter table locations enable row level security; drop policy if exists "Allow all loc" on locations; create policy "Allow all loc" on locations for all using (true) with check (true);
alter table cartable_items enable row level security; drop policy if exists "Allow all cartable" on cartable_items; create policy "Allow all cartable" on cartable_items for all using (true) with check (true);
alter table messages enable row level security; drop policy if exists "Allow all messages" on messages; create policy "Allow all messages" on messages for all using (true) with check (true);
alter table projects enable row level security; drop policy if exists "Allow all projects" on projects; create policy "Allow all projects" on projects for all using (true) with check (true);
alter table project_objectives enable row level security; drop policy if exists "Allow all project_obj" on project_objectives; create policy "Allow all project_obj" on project_objectives for all using (true) with check (true);
alter table project_milestones enable row level security; drop policy if exists "Allow all project_mil" on project_milestones; create policy "Allow all project_mil" on project_milestones for all using (true) with check (true);
alter table project_attachments enable row level security; drop policy if exists "Allow all project_att" on project_attachments; create policy "Allow all project_att" on project_attachments for all using (true) with check (true);
alter table performance_evaluations enable row level security; drop policy if exists "Allow all evaluations" on performance_evaluations; create policy "Allow all evaluations" on performance_evaluations for all using (true) with check (true);
alter table parts enable row level security; drop policy if exists "Allow all parts" on parts; create policy "Allow all parts" on parts for all using (true) with check (true);
alter table part_categories enable row level security; drop policy if exists "Allow all part_cats" on part_categories; create policy "Allow all part_cats" on part_categories for all using (true) with check (true);
alter table part_requests enable row level security; drop policy if exists "Allow all part_req" on part_requests; create policy "Allow all part_req" on part_requests for all using (true) with check (true);
alter table part_request_items enable row level security; drop policy if exists "Allow all part_req_items" on part_request_items; create policy "Allow all part_req_items" on part_request_items for all using (true) with check (true);
alter table technical_documents enable row level security; drop policy if exists "Allow all docs" on technical_documents; create policy "Allow all docs" on technical_documents for all using (true) with check (true);
alter table meeting_minutes enable row level security; drop policy if exists "Allow all meetings" on meeting_minutes; create policy "Allow all meetings" on meeting_minutes for all using (true) with check (true);
alter table technical_suggestions enable row level security; drop policy if exists "Allow all suggestions" on technical_suggestions; create policy "Allow all suggestions" on technical_suggestions for all using (true) with check (true);
alter table purchase_requests enable row level security; drop policy if exists "Allow all purchase requests" on purchase_requests; create policy "Allow all purchase requests" on purchase_requests for all using (true) with check (true);
alter table personal_notes enable row level security; drop policy if exists "Allow user notes" on personal_notes; create policy "Allow user notes" on personal_notes for all using (true) with check (true);
alter table system_logs enable row level security; drop policy if exists "Allow logs" on system_logs; create policy "Allow logs" on system_logs for all using (true) with check (true);

--        
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  last_code text;
  next_num integer;
  new_code text;
begin
  select tracking_code into last_code
  from cartable_items
  where tracking_code like prefix_input || '%'
  order by tracking_code desc
  limit 1;

  if last_code is null then
    next_num := 1;
  else
    begin
        next_num := to_number(right(last_code, 4), '9999') + 1;
    exception when others then
        next_num := 1;
    end;
  end if;

  new_code := prefix_input || lpad(next_num::text, 4, '0');
  
  return new_code;
end;
$$;
`,V3=({onLogin:t})=>{const[e,r]=T.useState(""),[n,i]=T.useState(""),[a,o]=T.useState(""),[s,c]=T.useState(!1),[u,d]=T.useState(!1),[f,h]=T.useState(!1),[g,x]=T.useState(null),[v,y]=T.useState(""),[b,_]=T.useState(""),[w,k]=T.useState(""),[S,N]=T.useState(!1),[E,C]=T.useState("checking"),[A,I]=T.useState(""),[$,U]=T.useState(!1),[O,M]=T.useState(!1);T.useEffect(()=>{P()},[]);const P=async()=>{C("checking");try{const{data:ee,error:Y}=await De.from("app_users").select("count",{count:"exact",head:!0});if(Y)throw Y;C("connected"),I("    ")}catch(ee){console.error("Supabase Connection Error:",ee),C("error");let Y="   ";typeof ee=="string"?Y=ee:(ee==null?void 0:ee.code)==="42P01"?Y="   ":ee!=null&&ee.message&&(Y=ee.message),I(Y)}},D=()=>{navigator.clipboard.writeText(Z_),M(!0),setTimeout(()=>M(!1),2e3)},B={id:"1",username:"admin",fullName:" ",role:wr.ADMIN,passwordHash:"12381",isDefaultPassword:!1},F=async ee=>{var Y,ge,R;if(ee.preventDefault(),o(""),c(!0),e.toLowerCase()==="admin"&&n==="12381"){if(B.isDefaultPassword){h(!0),x(B),c(!1);return}t(B),c(!1);return}try{const{data:Q,error:ue}=await De.from("app_users").select(`
                *,
                personnel (
                    full_name,
                    personnel_code,
                    profile_picture,
                    unit
                )
            `).eq("username",e).single();if(ue||!Q)throw ue&&ue.code!=="PGRST116"&&console.error("Auth DB Error:",ue),new Error("      ");if(Q.password!==n)throw new Error("      ");const ye={id:Q.id,username:Q.username,fullName:((Y=Q.personnel)==null?void 0:Y.full_name)||Q.username,role:Q.role,passwordHash:"***",isDefaultPassword:Q.is_default_password,personnelCode:(ge=Q.personnel)==null?void 0:ge.personnel_code,avatar:Q.avatar||((R=Q.personnel)==null?void 0:R.profile_picture)};if(ye.isDefaultPassword){h(!0),x(ye),c(!1);return}t(ye)}catch(Q){console.warn("Login Failed:",Q.message),o("      ")}finally{c(!1)}},W=async ee=>{if(ee.preventDefault(),b!==w){o("    ");return}if(v!==n){o("    ");return}if(b===n){o("       () ");return}if(c(!0),o(""),(g==null?void 0:g.username)==="admin")N(!0),setTimeout(()=>{h(!1),N(!1),y(""),_(""),k(""),i("")},2e3),c(!1);else if(g)try{const{error:Y}=await De.from("app_users").update({password:b,is_default_password:!1}).eq("id",g.id);if(Y)throw Y;N(!0),setTimeout(()=>{h(!1),N(!1),y(""),_(""),k(""),i("")},2e3)}catch(Y){o("    : "+Y.message)}finally{c(!1)}},K=b&&w&&b===w;return l.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),l.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),l.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-6",children:[l.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[l.jsx("h1",{className:"text-lg md:text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4 whitespace-nowrap",children:"     "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-bold tracking-wide",children:"    "})]}),l.jsx("div",{className:"flex justify-center mb-6 relative z-20 animate-fadeIn delay-100",children:l.jsx("div",{className:"w-36 h-36 flex items-center justify-center transform hover:scale-105 transition duration-700",children:l.jsx(Px,{className:"w-full h-full drop-shadow-2xl"})})}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50 pt-10 relative",children:[l.jsxs("div",{className:"absolute top-4 right-4",children:[E==="checking"&&l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse",title:"   "}),E==="connected"&&l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"  "}),E==="error"&&l.jsx("button",{onClick:()=>U(!0),className:"text-red-500 hover:text-red-700 transition",title:"   -  ",children:l.jsx(bL,{className:"w-5 h-5"})})]}),f?l.jsx("form",{onSubmit:W,className:"space-y-5",children:S?l.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4 animate-fadeIn",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2",children:l.jsx(Ws,{className:"w-10 h-10 text-green-600"})}),l.jsx("h3",{className:"text-xl font-bold text-green-700",children:"   "}),l.jsx("p",{className:"text-sm text-gray-500",children:"     ..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 text-[#800020] rounded-full flex items-center justify-center mb-3",children:l.jsx(ML,{className:"w-7 h-7"})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"   "}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 px-4 leading-relaxed",children:"          ."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),l.jsxs("div",{className:"relative",children:[l.jsx(sd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" ...",value:v,onChange:ee=>y(ee.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),l.jsxs("div",{className:"relative",children:[l.jsx(sd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"password",placeholder:" ...",value:b,onChange:ee=>_(ee.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"   "}),l.jsxs("div",{className:"relative",children:[l.jsx(sd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"password",placeholder:"  ...",value:w,onChange:ee=>k(ee.target.value),className:`w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all ${w&&!K?"border-red-500":"border-gray-200 dark:border-gray-600"}`,required:!0}),w&&l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:K?l.jsx(hs,{className:"w-4 h-4 text-green-500"}):l.jsx(gt,{className:"w-4 h-4 text-red-500"})})]}),w&&!K&&l.jsx("p",{className:"text-[10px] text-red-500 mr-1 animate-pulse",children:"    "})]})]}),a&&l.jsxs("div",{className:"text-red-500 text-xs text-center bg-red-50 dark:bg-red-900/10 p-2 rounded-lg border border-red-100 flex items-center justify-center gap-1",children:[l.jsx(uj,{className:"w-3 h-3"})," ",a]}),l.jsx("button",{type:"submit",disabled:s||!K||!b,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-12 rounded-xl font-bold text-sm transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):"  "})]})}):l.jsxs("form",{onSubmit:F,className:"space-y-5",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"   "}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"         "})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),l.jsxs("div",{className:"relative group",children:[l.jsx(ps,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),l.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:ee=>r(ee.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),l.jsxs("div",{className:"relative group",children:[l.jsx(sd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),l.jsx("input",{type:u?"text":"password",placeholder:"",value:n,onChange:ee=>i(ee.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:u?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),l.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:u?l.jsx(pL,{className:"w-5 h-5"}):l.jsx(Nx,{className:"w-5 h-5"})})]})]})]}),a&&l.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),a]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-wait",children:s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"  "}),l.jsx(NL,{className:"w-5 h-5"})]})})]})]}),l.jsxs("div",{className:"text-center space-y-2 pb-6",children:[l.jsx("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-400 dark:text-gray-500 font-light opacity-80",children:l.jsxs("span",{children:[" ",GL]})}),l.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-medium tracking-widest uppercase opacity-80",children:"DESIGNED & DEVELOPED BY H.PARSA"})]}),$&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[l.jsx(fL,{className:"w-5 h-5 text-blue-600"}),"  "]}),l.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",l.jsx("b",{children:"Supabase"}),"  ",l.jsx("b",{children:"SQL Editor"}),"        ."]}),l.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[l.jsx("pre",{children:Z_}),l.jsxs("button",{onClick:D,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[O?l.jsx(hs,{className:"w-4 h-4"}):l.jsx(dL,{className:"w-4 h-4"}),O?" ":" "]})]})]})})]})]})};function Wj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Wj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Wj(t))&&(n&&(n+=" "),n+=e);return n}var G3=Array.isArray,Er=G3,H3=typeof Vu=="object"&&Vu&&Vu.Object===Object&&Vu,Kj=H3,z3=Kj,W3=typeof self=="object"&&self&&self.Object===Object&&self,K3=z3||W3||Function("return this")(),Gn=K3,J3=Gn,Y3=J3.Symbol,ju=Y3,e1=ju,Jj=Object.prototype,X3=Jj.hasOwnProperty,Q3=Jj.toString,_l=e1?e1.toStringTag:void 0;function Z3(t){var e=X3.call(t,_l),r=t[_l];try{t[_l]=void 0;var n=!0}catch{}var i=Q3.call(t);return n&&(e?t[_l]=r:delete t[_l]),i}var eU=Z3,tU=Object.prototype,rU=tU.toString;function nU(t){return rU.call(t)}var iU=nU,t1=ju,aU=eU,oU=iU,sU="[object Null]",lU="[object Undefined]",r1=t1?t1.toStringTag:void 0;function cU(t){return t==null?t===void 0?lU:sU:r1&&r1 in Object(t)?aU(t):oU(t)}var _i=cU;function uU(t){return t!=null&&typeof t=="object"}var Si=uU,dU=_i,fU=Si,hU="[object Symbol]";function pU(t){return typeof t=="symbol"||fU(t)&&dU(t)==hU}var Ys=pU,mU=Er,gU=Ys,yU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vU=/^\w*$/;function xU(t,e){if(mU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||gU(t)?!0:vU.test(t)||!yU.test(t)||e!=null&&t in Object(e)}var Ix=xU;function bU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var aa=bU;const Xs=Ye(aa);var wU=_i,_U=aa,SU="[object AsyncFunction]",NU="[object Function]",kU="[object GeneratorFunction]",EU="[object Proxy]";function TU(t){if(!_U(t))return!1;var e=wU(t);return e==NU||e==kU||e==SU||e==EU}var Ox=TU;const Re=Ye(Ox);var AU=Gn,CU=AU["__core-js_shared__"],jU=CU,tg=jU,n1=function(){var t=/[^.]+$/.exec(tg&&tg.keys&&tg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PU(t){return!!n1&&n1 in t}var IU=PU,OU=Function.prototype,RU=OU.toString;function MU(t){if(t!=null){try{return RU.call(t)}catch{}try{return t+""}catch{}}return""}var Yj=MU,$U=Ox,DU=IU,LU=aa,UU=Yj,FU=/[\\^$.*+?()[\]{}|]/g,BU=/^\[object .+?Constructor\]$/,qU=Function.prototype,VU=Object.prototype,GU=qU.toString,HU=VU.hasOwnProperty,zU=RegExp("^"+GU.call(HU).replace(FU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WU(t){if(!LU(t)||DU(t))return!1;var e=$U(t)?zU:BU;return e.test(UU(t))}var KU=WU;function JU(t,e){return t==null?void 0:t[e]}var YU=JU,XU=KU,QU=YU;function ZU(t,e){var r=QU(t,e);return XU(r)?r:void 0}var no=ZU,eF=no,tF=eF(Object,"create"),hp=tF,i1=hp;function rF(){this.__data__=i1?i1(null):{},this.size=0}var nF=rF;function iF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aF=iF,oF=hp,sF="__lodash_hash_undefined__",lF=Object.prototype,cF=lF.hasOwnProperty;function uF(t){var e=this.__data__;if(oF){var r=e[t];return r===sF?void 0:r}return cF.call(e,t)?e[t]:void 0}var dF=uF,fF=hp,hF=Object.prototype,pF=hF.hasOwnProperty;function mF(t){var e=this.__data__;return fF?e[t]!==void 0:pF.call(e,t)}var gF=mF,yF=hp,vF="__lodash_hash_undefined__";function xF(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yF&&e===void 0?vF:e,this}var bF=xF,wF=nF,_F=aF,SF=dF,NF=gF,kF=bF;function Qs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qs.prototype.clear=wF;Qs.prototype.delete=_F;Qs.prototype.get=SF;Qs.prototype.has=NF;Qs.prototype.set=kF;var EF=Qs;function TF(){this.__data__=[],this.size=0}var AF=TF;function CF(t,e){return t===e||t!==t&&e!==e}var Rx=CF,jF=Rx;function PF(t,e){for(var r=t.length;r--;)if(jF(t[r][0],e))return r;return-1}var pp=PF,IF=pp,OF=Array.prototype,RF=OF.splice;function MF(t){var e=this.__data__,r=IF(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():RF.call(e,r,1),--this.size,!0}var $F=MF,DF=pp;function LF(t){var e=this.__data__,r=DF(e,t);return r<0?void 0:e[r][1]}var UF=LF,FF=pp;function BF(t){return FF(this.__data__,t)>-1}var qF=BF,VF=pp;function GF(t,e){var r=this.__data__,n=VF(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var HF=GF,zF=AF,WF=$F,KF=UF,JF=qF,YF=HF;function Zs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zs.prototype.clear=zF;Zs.prototype.delete=WF;Zs.prototype.get=KF;Zs.prototype.has=JF;Zs.prototype.set=YF;var mp=Zs,XF=no,QF=Gn,ZF=XF(QF,"Map"),Mx=ZF,a1=EF,eB=mp,tB=Mx;function rB(){this.size=0,this.__data__={hash:new a1,map:new(tB||eB),string:new a1}}var nB=rB;function iB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var aB=iB,oB=aB;function sB(t,e){var r=t.__data__;return oB(e)?r[typeof e=="string"?"string":"hash"]:r.map}var gp=sB,lB=gp;function cB(t){var e=lB(this,t).delete(t);return this.size-=e?1:0,e}var uB=cB,dB=gp;function fB(t){return dB(this,t).get(t)}var hB=fB,pB=gp;function mB(t){return pB(this,t).has(t)}var gB=mB,yB=gp;function vB(t,e){var r=yB(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var xB=vB,bB=nB,wB=uB,_B=hB,SB=gB,NB=xB;function el(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}el.prototype.clear=bB;el.prototype.delete=wB;el.prototype.get=_B;el.prototype.has=SB;el.prototype.set=NB;var $x=el,Xj=$x,kB="Expected a function";function Dx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kB);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Dx.Cache||Xj),r}Dx.Cache=Xj;var Qj=Dx;const EB=Ye(Qj);var TB=Qj,AB=500;function CB(t){var e=TB(t,function(n){return r.size===AB&&r.clear(),n}),r=e.cache;return e}var jB=CB,PB=jB,IB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OB=/\\(\\)?/g,RB=PB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IB,function(r,n,i,a){e.push(i?a.replace(OB,"$1"):n||r)}),e}),MB=RB;function $B(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Lx=$B,o1=ju,DB=Lx,LB=Er,UB=Ys,s1=o1?o1.prototype:void 0,l1=s1?s1.toString:void 0;function Zj(t){if(typeof t=="string")return t;if(LB(t))return DB(t,Zj)+"";if(UB(t))return l1?l1.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var FB=Zj,BB=FB;function qB(t){return t==null?"":BB(t)}var e2=qB,VB=Er,GB=Ix,HB=MB,zB=e2;function WB(t,e){return VB(t)?t:GB(t,e)?[t]:HB(zB(t))}var t2=WB,KB=Ys;function JB(t){if(typeof t=="string"||KB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var yp=JB,YB=t2,XB=yp;function QB(t,e){e=YB(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[XB(e[r++])];return r&&r==n?t:void 0}var Ux=QB,ZB=Ux;function e6(t,e,r){var n=t==null?void 0:ZB(t,e);return n===void 0?r:n}var r2=e6;const Ur=Ye(r2);function t6(t){return t==null}var r6=t6;const Le=Ye(r6);var n6=_i,i6=Er,a6=Si,o6="[object String]";function s6(t){return typeof t=="string"||!i6(t)&&a6(t)&&n6(t)==o6}var l6=s6;const Ha=Ye(l6);var n2={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=Symbol.for("react.element"),Bx=Symbol.for("react.portal"),vp=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),c6=Symbol.for("react.server_context"),Sp=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),kp=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),u6=Symbol.for("react.offscreen"),i2;i2=Symbol.for("react.module.reference");function sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fx:switch(t=t.type,t){case vp:case bp:case xp:case Np:case kp:return t;default:switch(t=t&&t.$$typeof,t){case c6:case _p:case Sp:case Tp:case Ep:case wp:return t;default:return e}}case Bx:return e}}}Xe.ContextConsumer=_p;Xe.ContextProvider=wp;Xe.Element=Fx;Xe.ForwardRef=Sp;Xe.Fragment=vp;Xe.Lazy=Tp;Xe.Memo=Ep;Xe.Portal=Bx;Xe.Profiler=bp;Xe.StrictMode=xp;Xe.Suspense=Np;Xe.SuspenseList=kp;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return sn(t)===_p};Xe.isContextProvider=function(t){return sn(t)===wp};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fx};Xe.isForwardRef=function(t){return sn(t)===Sp};Xe.isFragment=function(t){return sn(t)===vp};Xe.isLazy=function(t){return sn(t)===Tp};Xe.isMemo=function(t){return sn(t)===Ep};Xe.isPortal=function(t){return sn(t)===Bx};Xe.isProfiler=function(t){return sn(t)===bp};Xe.isStrictMode=function(t){return sn(t)===xp};Xe.isSuspense=function(t){return sn(t)===Np};Xe.isSuspenseList=function(t){return sn(t)===kp};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vp||t===bp||t===xp||t===Np||t===kp||t===u6||typeof t=="object"&&t!==null&&(t.$$typeof===Tp||t.$$typeof===Ep||t.$$typeof===wp||t.$$typeof===_p||t.$$typeof===Sp||t.$$typeof===i2||t.getModuleId!==void 0)};Xe.typeOf=sn;n2.exports=Xe;var d6=n2.exports,f6=_i,h6=Si,p6="[object Number]";function m6(t){return typeof t=="number"||h6(t)&&f6(t)==p6}var a2=m6;const g6=Ye(a2);var y6=a2;function v6(t){return y6(t)&&t!=+t}var x6=v6;const Pu=Ye(x6);var fr=function(e){return e===0?0:e>0?1:-1},Ca=function(e){return Ha(e)&&e.indexOf("%")===e.length-1},de=function(e){return g6(e)&&!Pu(e)},b6=function(e){return Le(e)},Ut=function(e){return de(e)||Ha(e)},w6=0,tl=function(e){var r=++w6;return"".concat(e||"").concat(r)},hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Ha(e))return n;var a;if(Ca(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Pu(a)&&(a=n),i&&a>r&&(a=r),a},Di=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_6=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Or=function(e,r){return de(e)&&de(r)?function(n){return e+n*(r-e)}:function(){return r}};function Pf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ur(n,e))===r})}var S6=function(e,r){return de(e)&&de(r)?e-r:Ha(e)&&Ha(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function es(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var N6=["viewBox","children"],k6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c1=["points","pathLength"],rg={svg:N6,polygon:c1,polyline:c1},qx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],If=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!Xs(n))return null;var i={};return Object.keys(n).forEach(function(a){qx.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},E6=function(e,r,n){return function(i){return e(r,n,i),null}},za=function(e,r,n){if(!Xs(e)||Fy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];qx.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=E6(o,r,n))}),i},T6=["children"],A6=["children"];function u1(t,e){if(t==null)return{};var r=C6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var d1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},f1=null,ng=null,Vx=function t(e){if(e===f1&&Array.isArray(ng))return ng;var r=[];return T.Children.forEach(e,function(n){Le(n)||(d6.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ng=r,f1=e,r};function Fr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return si(i)}):n=[si(e)],Vx(t).forEach(function(i){var a=Ur(i,"type.displayName")||Ur(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ir(t,e){var r=Fr(t,e);return r&&r[0]}var h1=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!de(n)||n<=0||!de(i)||i<=0)},j6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],P6=function(e){return e&&e.type&&Ha(e.type)&&j6.indexOf(e.type)>=0},I6=function(e){return e&&By(e)==="object"&&"clipDot"in e},O6=function(e,r,n,i){var a,o=(a=rg==null?void 0:rg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Re(e)&&(i&&o.includes(r)||k6.includes(r))||n&&qx.includes(r)},Ae=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!Xs(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;O6((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},qy=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return p1(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!p1(a,o))return!1}return!0},p1=function(e,r){if(Le(e)&&Le(r))return!0;if(!Le(e)&&!Le(r)){var n=e.props||{},i=n.children,a=u1(n,T6),o=r.props||{},s=o.children,c=u1(o,A6);return i&&s?es(a,c)&&qy(i,s):!i&&!s?es(a,c):!1}return!1},m1=function(e,r){var n=[],i={};return Vx(e).forEach(function(a,o){if(P6(a))n.push(a);else if(a){var s=si(a.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},R6=function(e){var r=e&&e.type;return r&&d1[r]?d1[r]:null},M6=function(e,r){return Vx(r).indexOf(e)},$6=["children","width","height","viewBox","className","style","title","desc"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function D6(t,e){if(t==null)return{};var r=L6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,c=t.desc,u=D6(t,$6),d=i||{width:r,height:n,x:0,y:0},f=Ue("recharts-surface",a);return L.createElement("svg",Vy({},Ae(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,s),L.createElement("desc",null,c),e)}var U6=["children","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function F6(t,e){if(t==null)return{};var r=B6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var He=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=F6(t,U6),a=Ue("recharts-layer",n);return L.createElement("g",Hy({className:a},Ae(i,!0),{ref:e}),r)}),Nn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function q6(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var V6=q6,G6=V6;function H6(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:G6(t,e,r)}var z6=H6,W6="\\ud800-\\udfff",K6="\\u0300-\\u036f",J6="\\ufe20-\\ufe2f",Y6="\\u20d0-\\u20ff",X6=K6+J6+Y6,Q6="\\ufe0e\\ufe0f",Z6="\\u200d",e8=RegExp("["+Z6+W6+X6+Q6+"]");function t8(t){return e8.test(t)}var o2=t8;function r8(t){return t.split("")}var n8=r8,s2="\\ud800-\\udfff",i8="\\u0300-\\u036f",a8="\\ufe20-\\ufe2f",o8="\\u20d0-\\u20ff",s8=i8+a8+o8,l8="\\ufe0e\\ufe0f",c8="["+s2+"]",zy="["+s8+"]",Wy="\\ud83c[\\udffb-\\udfff]",u8="(?:"+zy+"|"+Wy+")",l2="[^"+s2+"]",c2="(?:\\ud83c[\\udde6-\\uddff]){2}",u2="[\\ud800-\\udbff][\\udc00-\\udfff]",d8="\\u200d",d2=u8+"?",f2="["+l8+"]?",f8="(?:"+d8+"(?:"+[l2,c2,u2].join("|")+")"+f2+d2+")*",h8=f2+d2+f8,p8="(?:"+[l2+zy+"?",zy,c2,u2,c8].join("|")+")",m8=RegExp(Wy+"(?="+Wy+")|"+p8+h8,"g");function g8(t){return t.match(m8)||[]}var y8=g8,v8=n8,x8=o2,b8=y8;function w8(t){return x8(t)?b8(t):v8(t)}var _8=w8,S8=z6,N8=o2,k8=_8,E8=e2;function T8(t){return function(e){e=E8(e);var r=N8(e)?k8(e):void 0,n=r?r[0]:e.charAt(0),i=r?S8(r,1).join(""):e.slice(1);return n[t]()+i}}var A8=T8,C8=A8,j8=C8("toUpperCase"),P8=j8;const Ap=Ye(P8);function rt(t){return function(){return t}}const h2=Math.cos,Of=Math.sin,Cn=Math.sqrt,Rf=Math.PI,Cp=2*Rf,Ky=Math.PI,Jy=2*Ky,va=1e-6,I8=Jy-va;function p2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function O8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p2;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class R8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p2:O8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,u=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>va)if(!(Math.abs(f*c-u*d)>va)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,x=i-s,v=c*c+u*u,y=g*g+x*x,b=Math.sqrt(v),_=Math.sqrt(h),w=a*Math.tan((Ky-Math.acos((v+h-y)/(2*b*_)))/2),k=w/_,S=w/b;Math.abs(k-1)>va&&this._append`L${e+k*d},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=e+s,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>va||Math.abs(this._y1-d)>va)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Jy+Jy),h>I8?this._append`A${n},${n},0,1,${f},${e-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>va&&this._append`A${n},${n},0,${+(h>=Ky)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Gx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new R8(e)}function Hx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m2(t){this._context=t}m2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jp(t){return new m2(t)}function g2(t){return t[0]}function y2(t){return t[1]}function v2(t,e){var r=rt(!0),n=null,i=jp,a=null,o=Gx(s);t=typeof t=="function"?t:t===void 0?g2:rt(t),e=typeof e=="function"?e:e===void 0?y2:rt(e);function s(c){var u,d=(c=Hx(c)).length,f,h=!1,g;for(n==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(g)return a=null,g+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:rt(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:rt(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:rt(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function fd(t,e,r){var n=null,i=rt(!0),a=null,o=jp,s=null,c=Gx(u);t=typeof t=="function"?t:t===void 0?g2:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?y2:rt(+r);function u(f){var h,g,x,v=(f=Hx(f)).length,y,b=!1,_,w=new Array(v),k=new Array(v);for(a==null&&(s=o(_=c())),h=0;h<=v;++h){if(!(h<v&&i(y=f[h],h,f))===b)if(b=!b)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=h-1;x>=g;--x)s.point(w[x],k[x]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+t(y,h,f),k[h]=+e(y,h,f),s.point(n?+n(y,h,f):w[h],r?+r(y,h,f):k[h]))}if(_)return s=null,_+""||null}function d(){return v2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class x2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function M8(t){return new x2(t,!0)}function $8(t){return new x2(t,!1)}const zx={draw(t,e){const r=Cn(e/Rf);t.moveTo(r,0),t.arc(0,0,r,0,Cp)}},D8={draw(t,e){const r=Cn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},b2=Cn(1/3),L8=b2*2,U8={draw(t,e){const r=Cn(e/L8),n=r*b2;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},F8={draw(t,e){const r=Cn(e),n=-r/2;t.rect(n,n,r,r)}},B8=.8908130915292852,w2=Of(Rf/10)/Of(7*Rf/10),q8=Of(Cp/10)*w2,V8=-h2(Cp/10)*w2,G8={draw(t,e){const r=Cn(e*B8),n=q8*r,i=V8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Cp*a/5,s=h2(o),c=Of(o);t.lineTo(c*r,-s*r),t.lineTo(s*n-c*i,c*n+s*i)}t.closePath()}},ig=Cn(3),H8={draw(t,e){const r=-Cn(e/(ig*3));t.moveTo(0,r*2),t.lineTo(-ig*r,-r),t.lineTo(ig*r,-r),t.closePath()}},Gr=-.5,Hr=Cn(3)/2,Yy=1/Cn(12),z8=(Yy/2+1)*3,W8={draw(t,e){const r=Cn(e/z8),n=r/2,i=r*Yy,a=n,o=r*Yy+r,s=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(Gr*n-Hr*i,Hr*n+Gr*i),t.lineTo(Gr*a-Hr*o,Hr*a+Gr*o),t.lineTo(Gr*s-Hr*c,Hr*s+Gr*c),t.lineTo(Gr*n+Hr*i,Gr*i-Hr*n),t.lineTo(Gr*a+Hr*o,Gr*o-Hr*a),t.lineTo(Gr*s+Hr*c,Gr*c-Hr*s),t.closePath()}};function K8(t,e){let r=null,n=Gx(i);t=typeof t=="function"?t:rt(t||zx),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mf(){}function $f(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function _2(t){this._context=t}_2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$f(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J8(t){return new _2(t)}function S2(t){this._context=t}S2.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y8(t){return new S2(t)}function N2(t){this._context=t}N2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$f(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X8(t){return new N2(t)}function k2(t){this._context=t}k2.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Q8(t){return new k2(t)}function g1(t){return t<0?-1:1}function y1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(g1(a)+g1(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function v1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ag(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Df(t){this._context=t}Df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ag(this,this._t0,v1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ag(this,v1(this,r=y1(this,t,e)),r);break;default:ag(this,this._t0,r=y1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function E2(t){this._context=new T2(t)}(E2.prototype=Object.create(Df.prototype)).point=function(t,e){Df.prototype.point.call(this,e,t)};function T2(t){this._context=t}T2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Z8(t){return new Df(t)}function eq(t){return new E2(t)}function A2(t){this._context=t}A2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=x1(t),i=x1(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function x1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function tq(t){return new A2(t)}function Pp(t,e){this._context=t,this._t=e}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function rq(t){return new Pp(t,.5)}function nq(t){return new Pp(t,0)}function iq(t){return new Pp(t,1)}function ys(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function aq(t,e){return t[e]}function oq(t){const e=[];return e.key=t,e}function sq(){var t=rt([]),e=Xy,r=ys,n=aq;function i(a){var o=Array.from(t.apply(this,arguments),oq),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=Hx(e(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Xy:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ys,i):r},i}function lq(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ys(t,e)}}function cq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ys(t,e)}}function uq(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,x=0;x<s;++x){var v=t[e[x]],y=v[n][1]||0,b=v[n-1][1]||0;g+=y-b}c+=f,u+=g*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ys(t,e)}}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}var dq=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function b1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(r),!0).forEach(function(n){fq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fq(t,e,r){return e=hq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hq(t){var e=pq(t,"string");return Dc(e)=="symbol"?e:e+""}function pq(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mq(t,e){if(t==null)return{};var r=gq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var C2={symbolCircle:zx,symbolCross:D8,symbolDiamond:U8,symbolSquare:F8,symbolStar:G8,symbolTriangle:H8,symbolWye:W8},yq=Math.PI/180,vq=function(e){var r="symbol".concat(Ap(e));return C2[r]||zx},xq=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bq=function(e,r){C2["symbol".concat(Ap(e))]=r},Wx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,c=mq(e,dq),u=w1(w1({},c),{},{type:n,size:a,sizeType:s}),d=function(){var y=vq(n),b=K8().type(y).size(xq(a,s,n));return b()},f=u.className,h=u.cx,g=u.cy,x=Ae(u,!0);return h===+h&&g===+g&&a===+a?L.createElement("path",Qy({},x,{className:Ue("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Wx.registerSymbol=bq;function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function _1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(r),!0).forEach(function(n){Lc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P2(n.key),n)}}function Nq(t,e,r){return e&&Sq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kq(t,e,r){return e=Lf(e),Eq(t,j2()?Reflect.construct(e,r||[],Lf(t).constructor):e.apply(t,r))}function Eq(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tq(t)}function Tq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j2=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(t)}function Aq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ev(t,e)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ev(t,e)}function Lc(t,e,r){return e=P2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2(t){var e=Cq(t,"string");return vs(e)=="symbol"?e:e+""}function Cq(t,e){if(vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zr=32,Kx=function(t){function e(){return _q(this,e),kq(this,e,arguments)}return Aq(e,t),Nq(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=zr/2,o=zr/6,s=zr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:zr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(zr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=wq({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(Wx,{fill:c,cx:a,cy:a,size:zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:zr,height:zr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Ue(Lc(Lc({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var b=Re(g.value)?null:g.value;Nn(!Re(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?u:g.color;return L.createElement("li",Zy({className:y,style:f,key:"legend-item-".concat(x)},za(n.props,g,x)),L.createElement(Gy,{width:o,height:o,viewBox:d,style:h},n.renderIcon(g)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(b,g,x):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(T.PureComponent);Lc(Kx,"displayName","Legend");Lc(Kx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jq=mp;function Pq(){this.__data__=new jq,this.size=0}var Iq=Pq;function Oq(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Rq=Oq;function Mq(t){return this.__data__.get(t)}var $q=Mq;function Dq(t){return this.__data__.has(t)}var Lq=Dq,Uq=mp,Fq=Mx,Bq=$x,qq=200;function Vq(t,e){var r=this.__data__;if(r instanceof Uq){var n=r.__data__;if(!Fq||n.length<qq-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bq(n)}return r.set(t,e),this.size=r.size,this}var Gq=Vq,Hq=mp,zq=Iq,Wq=Rq,Kq=$q,Jq=Lq,Yq=Gq;function rl(t){var e=this.__data__=new Hq(t);this.size=e.size}rl.prototype.clear=zq;rl.prototype.delete=Wq;rl.prototype.get=Kq;rl.prototype.has=Jq;rl.prototype.set=Yq;var I2=rl,Xq="__lodash_hash_undefined__";function Qq(t){return this.__data__.set(t,Xq),this}var Zq=Qq;function e7(t){return this.__data__.has(t)}var t7=e7,r7=$x,n7=Zq,i7=t7;function Uf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new r7;++e<r;)this.add(t[e])}Uf.prototype.add=Uf.prototype.push=n7;Uf.prototype.has=i7;var O2=Uf;function a7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var R2=a7;function o7(t,e){return t.has(e)}var M2=o7,s7=O2,l7=R2,c7=M2,u7=1,d7=2;function f7(t,e,r,n,i,a){var o=r&u7,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=r&d7?new s7:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var x=t[f],v=e[f];if(n)var y=o?n(v,x,f,e,t,a):n(x,v,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!l7(e,function(b,_){if(!c7(g,_)&&(x===b||i(x,b,r,n,a)))return g.push(_)})){h=!1;break}}else if(!(x===v||i(x,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var $2=f7,h7=Gn,p7=h7.Uint8Array,m7=p7;function g7(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var y7=g7;function v7(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Jx=v7,S1=ju,N1=m7,x7=Rx,b7=$2,w7=y7,_7=Jx,S7=1,N7=2,k7="[object Boolean]",E7="[object Date]",T7="[object Error]",A7="[object Map]",C7="[object Number]",j7="[object RegExp]",P7="[object Set]",I7="[object String]",O7="[object Symbol]",R7="[object ArrayBuffer]",M7="[object DataView]",k1=S1?S1.prototype:void 0,og=k1?k1.valueOf:void 0;function $7(t,e,r,n,i,a,o){switch(r){case M7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R7:return!(t.byteLength!=e.byteLength||!a(new N1(t),new N1(e)));case k7:case E7:case C7:return x7(+t,+e);case T7:return t.name==e.name&&t.message==e.message;case j7:case I7:return t==e+"";case A7:var s=w7;case P7:var c=n&S7;if(s||(s=_7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=N7,o.set(t,e);var d=b7(s(t),s(e),n,i,a,o);return o.delete(t),d;case O7:if(og)return og.call(t)==og.call(e)}return!1}var D7=$7;function L7(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var D2=L7,U7=D2,F7=Er;function B7(t,e,r){var n=e(t);return F7(t)?n:U7(n,r(t))}var q7=B7;function V7(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var G7=V7;function H7(){return[]}var z7=H7,W7=G7,K7=z7,J7=Object.prototype,Y7=J7.propertyIsEnumerable,E1=Object.getOwnPropertySymbols,X7=E1?function(t){return t==null?[]:(t=Object(t),W7(E1(t),function(e){return Y7.call(t,e)}))}:K7,Q7=X7;function Z7(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var eV=Z7,tV=_i,rV=Si,nV="[object Arguments]";function iV(t){return rV(t)&&tV(t)==nV}var aV=iV,T1=aV,oV=Si,L2=Object.prototype,sV=L2.hasOwnProperty,lV=L2.propertyIsEnumerable,cV=T1(function(){return arguments}())?T1:function(t){return oV(t)&&sV.call(t,"callee")&&!lV.call(t,"callee")},Yx=cV,Ff={exports:{}};function uV(){return!1}var dV=uV;Ff.exports;(function(t,e){var r=Gn,n=dV,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;t.exports=u})(Ff,Ff.exports);var U2=Ff.exports,fV=9007199254740991,hV=/^(?:0|[1-9]\d*)$/;function pV(t,e){var r=typeof t;return e=e??fV,!!e&&(r=="number"||r!="symbol"&&hV.test(t))&&t>-1&&t%1==0&&t<e}var Xx=pV,mV=9007199254740991;function gV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mV}var Qx=gV,yV=_i,vV=Qx,xV=Si,bV="[object Arguments]",wV="[object Array]",_V="[object Boolean]",SV="[object Date]",NV="[object Error]",kV="[object Function]",EV="[object Map]",TV="[object Number]",AV="[object Object]",CV="[object RegExp]",jV="[object Set]",PV="[object String]",IV="[object WeakMap]",OV="[object ArrayBuffer]",RV="[object DataView]",MV="[object Float32Array]",$V="[object Float64Array]",DV="[object Int8Array]",LV="[object Int16Array]",UV="[object Int32Array]",FV="[object Uint8Array]",BV="[object Uint8ClampedArray]",qV="[object Uint16Array]",VV="[object Uint32Array]",ot={};ot[MV]=ot[$V]=ot[DV]=ot[LV]=ot[UV]=ot[FV]=ot[BV]=ot[qV]=ot[VV]=!0;ot[bV]=ot[wV]=ot[OV]=ot[_V]=ot[RV]=ot[SV]=ot[NV]=ot[kV]=ot[EV]=ot[TV]=ot[AV]=ot[CV]=ot[jV]=ot[PV]=ot[IV]=!1;function GV(t){return xV(t)&&vV(t.length)&&!!ot[yV(t)]}var HV=GV;function zV(t){return function(e){return t(e)}}var F2=zV,Bf={exports:{}};Bf.exports;(function(t,e){var r=Kj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Bf,Bf.exports);var WV=Bf.exports,KV=HV,JV=F2,A1=WV,C1=A1&&A1.isTypedArray,YV=C1?JV(C1):KV,B2=YV,XV=eV,QV=Yx,ZV=Er,eG=U2,tG=Xx,rG=B2,nG=Object.prototype,iG=nG.hasOwnProperty;function aG(t,e){var r=ZV(t),n=!r&&QV(t),i=!r&&!n&&eG(t),a=!r&&!n&&!i&&rG(t),o=r||n||i||a,s=o?XV(t.length,String):[],c=s.length;for(var u in t)(e||iG.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tG(u,c)))&&s.push(u);return s}var oG=aG,sG=Object.prototype;function lG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||sG;return t===r}var cG=lG;function uG(t,e){return function(r){return t(e(r))}}var q2=uG,dG=q2,fG=dG(Object.keys,Object),hG=fG,pG=cG,mG=hG,gG=Object.prototype,yG=gG.hasOwnProperty;function vG(t){if(!pG(t))return mG(t);var e=[];for(var r in Object(t))yG.call(t,r)&&r!="constructor"&&e.push(r);return e}var xG=vG,bG=Ox,wG=Qx;function _G(t){return t!=null&&wG(t.length)&&!bG(t)}var Iu=_G,SG=oG,NG=xG,kG=Iu;function EG(t){return kG(t)?SG(t):NG(t)}var Ip=EG,TG=q7,AG=Q7,CG=Ip;function jG(t){return TG(t,CG,AG)}var PG=jG,j1=PG,IG=1,OG=Object.prototype,RG=OG.hasOwnProperty;function MG(t,e,r,n,i,a){var o=r&IG,s=j1(t),c=s.length,u=j1(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:RG.call(e,h)))return!1}var g=a.get(t),x=a.get(e);if(g&&x)return g==e&&x==t;var v=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<c;){h=s[f];var b=t[h],_=e[h];if(n)var w=o?n(_,b,h,e,t,a):n(b,_,h,t,e,a);if(!(w===void 0?b===_||i(b,_,r,n,a):w)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var $G=MG,DG=no,LG=Gn,UG=DG(LG,"DataView"),FG=UG,BG=no,qG=Gn,VG=BG(qG,"Promise"),GG=VG,HG=no,zG=Gn,WG=HG(zG,"Set"),V2=WG,KG=no,JG=Gn,YG=KG(JG,"WeakMap"),XG=YG,tv=FG,rv=Mx,nv=GG,iv=V2,av=XG,G2=_i,nl=Yj,P1="[object Map]",QG="[object Object]",I1="[object Promise]",O1="[object Set]",R1="[object WeakMap]",M1="[object DataView]",ZG=nl(tv),eH=nl(rv),tH=nl(nv),rH=nl(iv),nH=nl(av),xa=G2;(tv&&xa(new tv(new ArrayBuffer(1)))!=M1||rv&&xa(new rv)!=P1||nv&&xa(nv.resolve())!=I1||iv&&xa(new iv)!=O1||av&&xa(new av)!=R1)&&(xa=function(t){var e=G2(t),r=e==QG?t.constructor:void 0,n=r?nl(r):"";if(n)switch(n){case ZG:return M1;case eH:return P1;case tH:return I1;case rH:return O1;case nH:return R1}return e});var iH=xa,sg=I2,aH=$2,oH=D7,sH=$G,$1=iH,D1=Er,L1=U2,lH=B2,cH=1,U1="[object Arguments]",F1="[object Array]",hd="[object Object]",uH=Object.prototype,B1=uH.hasOwnProperty;function dH(t,e,r,n,i,a){var o=D1(t),s=D1(e),c=o?F1:$1(t),u=s?F1:$1(e);c=c==U1?hd:c,u=u==U1?hd:u;var d=c==hd,f=u==hd,h=c==u;if(h&&L1(t)){if(!L1(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new sg),o||lH(t)?aH(t,e,r,n,i,a):oH(t,e,c,r,n,i,a);if(!(r&cH)){var g=d&&B1.call(t,"__wrapped__"),x=f&&B1.call(e,"__wrapped__");if(g||x){var v=g?t.value():t,y=x?e.value():e;return a||(a=new sg),i(v,y,r,n,a)}}return h?(a||(a=new sg),sH(t,e,r,n,i,a)):!1}var fH=dH,hH=fH,q1=Si;function H2(t,e,r,n,i){return t===e?!0:t==null||e==null||!q1(t)&&!q1(e)?t!==t&&e!==e:hH(t,e,r,n,H2,i)}var Zx=H2,pH=I2,mH=Zx,gH=1,yH=2;function vH(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],u=t[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in t))return!1}else{var f=new pH;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?mH(d,u,gH|yH,n,f):h))return!1}}return!0}var xH=vH,bH=aa;function wH(t){return t===t&&!bH(t)}var z2=wH,_H=z2,SH=Ip;function NH(t){for(var e=SH(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,_H(i)]}return e}var kH=NH;function EH(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var W2=EH,TH=xH,AH=kH,CH=W2;function jH(t){var e=AH(t);return e.length==1&&e[0][2]?CH(e[0][0],e[0][1]):function(r){return r===t||TH(r,t,e)}}var PH=jH;function IH(t,e){return t!=null&&e in Object(t)}var OH=IH,RH=t2,MH=Yx,$H=Er,DH=Xx,LH=Qx,UH=yp;function FH(t,e,r){e=RH(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=UH(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&LH(i)&&DH(o,i)&&($H(t)||MH(t)))}var BH=FH,qH=OH,VH=BH;function GH(t,e){return t!=null&&VH(t,e,qH)}var HH=GH,zH=Zx,WH=r2,KH=HH,JH=Ix,YH=z2,XH=W2,QH=yp,ZH=1,ez=2;function tz(t,e){return JH(t)&&YH(e)?XH(QH(t),e):function(r){var n=WH(r,t);return n===void 0&&n===e?KH(r,t):zH(e,n,ZH|ez)}}var rz=tz;function nz(t){return t}var il=nz;function iz(t){return function(e){return e==null?void 0:e[t]}}var az=iz,oz=Ux;function sz(t){return function(e){return oz(e,t)}}var lz=sz,cz=az,uz=lz,dz=Ix,fz=yp;function hz(t){return dz(t)?cz(fz(t)):uz(t)}var pz=hz,mz=PH,gz=rz,yz=il,vz=Er,xz=pz;function bz(t){return typeof t=="function"?t:t==null?yz:typeof t=="object"?vz(t)?gz(t[0],t[1]):mz(t):xz(t)}var Hn=bz;function wz(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var K2=wz;function _z(t){return t!==t}var Sz=_z;function Nz(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var kz=Nz,Ez=K2,Tz=Sz,Az=kz;function Cz(t,e,r){return e===e?Az(t,e,r):Ez(t,Tz,r)}var jz=Cz,Pz=jz;function Iz(t,e){var r=t==null?0:t.length;return!!r&&Pz(t,e,0)>-1}var Oz=Iz;function Rz(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Mz=Rz;function $z(){}var Dz=$z,lg=V2,Lz=Dz,Uz=Jx,Fz=1/0,Bz=lg&&1/Uz(new lg([,-0]))[1]==Fz?function(t){return new lg(t)}:Lz,qz=Bz,Vz=O2,Gz=Oz,Hz=Mz,zz=M2,Wz=qz,Kz=Jx,Jz=200;function Yz(t,e,r){var n=-1,i=Gz,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Hz;else if(a>=Jz){var u=e?null:Wz(t);if(u)return Kz(u);o=!1,i=zz,c=new Vz}else c=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(d)}else i(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var Xz=Yz,Qz=Hn,Zz=Xz;function eW(t,e){return t&&t.length?Zz(t,Qz(e)):[]}var tW=eW;const V1=Ye(tW);function J2(t,e,r){return e===!0?V1(t,r):Re(e)?V1(t,e):t}function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}var rW=["ref"];function G1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(r),!0).forEach(function(n){Op(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X2(n.key),n)}}function iW(t,e,r){return e&&H1(t.prototype,e),r&&H1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aW(t,e,r){return e=qf(e),oW(t,Y2()?Reflect.construct(e,r||[],qf(t).constructor):e.apply(t,r))}function oW(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sW(t)}function sW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(t)}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ov(t,e)}function Op(t,e,r){return e=X2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2(t){var e=cW(t,"string");return xs(e)=="symbol"?e:e+""}function cW(t,e){if(xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uW(t,e){if(t==null)return{};var r=dW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fW(t){return t.value}function hW(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=uW(e,rW);return L.createElement(Kx,r)}var z1=1,Xi=function(t){function e(){var r;nW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aW(this,e,[].concat(i)),Op(r,"lastBoundingBox",{width:-1,height:-1}),r}return lW(e,t),iW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>z1||Math.abs(i.height-this.lastBoundingBox.height)>z1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Jn(Jn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Jn(Jn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},hW(a,Jn(Jn({},this.props),{},{payload:J2(d,u,fW)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Jn(Jn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&de(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);Op(Xi,"displayName","Legend");Op(Xi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var W1=ju,pW=Yx,mW=Er,K1=W1?W1.isConcatSpreadable:void 0;function gW(t){return mW(t)||pW(t)||!!(K1&&t&&t[K1])}var yW=gW,vW=D2,xW=yW;function Q2(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=xW),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?Q2(s,e-1,r,n,i):vW(i,s):n||(i[i.length]=s)}return i}var Z2=Q2;function bW(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var c=o[t?s:++i];if(r(a[c],c,a)===!1)break}return e}}var wW=bW,_W=wW,SW=_W(),NW=SW,kW=NW,EW=Ip;function TW(t,e){return t&&kW(t,e,EW)}var eP=TW,AW=Iu;function CW(t,e){return function(r,n){if(r==null)return r;if(!AW(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var jW=CW,PW=eP,IW=jW,OW=IW(PW),eb=OW,RW=eb,MW=Iu;function $W(t,e){var r=-1,n=MW(t)?Array(t.length):[];return RW(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var tP=$W;function DW(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var LW=DW,J1=Ys;function UW(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=J1(t),o=e!==void 0,s=e===null,c=e===e,u=J1(e);if(!s&&!u&&!a&&t>e||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var FW=UW,BW=FW;function qW(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var c=BW(i[n],a[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var VW=qW,cg=Lx,GW=Ux,HW=Hn,zW=tP,WW=LW,KW=F2,JW=VW,YW=il,XW=Er;function QW(t,e,r){e.length?e=cg(e,function(a){return XW(a)?function(o){return GW(o,a.length===1?a[0]:a)}:a}):e=[YW];var n=-1;e=cg(e,KW(HW));var i=zW(t,function(a,o,s){var c=cg(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return WW(i,function(a,o){return JW(a,o,r)})}var ZW=QW;function e9(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var t9=e9,r9=t9,Y1=Math.max;function n9(t,e,r){return e=Y1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Y1(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),r9(t,this,s)}}var i9=n9;function a9(t){return function(){return t}}var o9=a9,s9=no,l9=function(){try{var t=s9(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rP=l9,c9=o9,X1=rP,u9=il,d9=X1?function(t,e){return X1(t,"toString",{configurable:!0,enumerable:!1,value:c9(e),writable:!0})}:u9,f9=d9,h9=800,p9=16,m9=Date.now;function g9(t){var e=0,r=0;return function(){var n=m9(),i=p9-(n-r);if(r=n,i>0){if(++e>=h9)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var y9=g9,v9=f9,x9=y9,b9=x9(v9),w9=b9,_9=il,S9=i9,N9=w9;function k9(t,e){return N9(S9(t,e,_9),t+"")}var E9=k9,T9=Rx,A9=Iu,C9=Xx,j9=aa;function P9(t,e,r){if(!j9(r))return!1;var n=typeof e;return(n=="number"?A9(r)&&C9(e,r.length):n=="string"&&e in r)?T9(r[e],t):!1}var Rp=P9,I9=Z2,O9=ZW,R9=E9,Q1=Rp,M9=R9(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Q1(t,e[0],e[1])?e=[]:r>2&&Q1(e[0],e[1],e[2])&&(e=[e[0]]),O9(t,I9(e,1),[])}),$9=M9;const tb=Ye($9);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sv.apply(this,arguments)}function D9(t,e){return B9(t)||F9(t,e)||U9(t,e)||L9()}function L9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9(t,e){if(t){if(typeof t=="string")return Z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function B9(t){if(Array.isArray(t))return t}function eS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(r),!0).forEach(function(n){q9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q9(t,e,r){return e=V9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V9(t){var e=G9(t,"string");return Uc(e)=="symbol"?e:e+""}function G9(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H9(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var z9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,v=e.label,y=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(d&&d.length){var U={padding:0,margin:0},O=(h?tb(d,h):d).map(function(M,P){if(M.type==="none")return null;var D=ug({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),B=M.formatter||f||H9,F=M.value,W=M.name,K=F,ee=W;if(B&&K!=null&&ee!=null){var Y=B(F,W,M,P,d);if(Array.isArray(Y)){var ge=D9(Y,2);K=ge[0],ee=ge[1]}else K=Y}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:D},Ut(ee)?L.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Ut(ee)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},K),L.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:U},O)}return null},k=ug({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ug({margin:0},u),N=!Le(v),E=N?v:"",C=Ue("recharts-default-tooltip",g),A=Ue("recharts-tooltip-label",x);N&&y&&d!==void 0&&d!==null&&(E=y(v,d));var I=_?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",sv({className:C,style:k},I),L.createElement("p",{className:A,style:S},L.isValidElement(E)?E:"".concat(E)),w())};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pd(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=K9(t,"string");return Fc(e)=="symbol"?e:e+""}function K9(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sl="recharts-tooltip-wrapper",J9={visibility:"hidden"};function Y9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ue(Sl,pd(pd(pd(pd({},"".concat(Sl,"-right"),de(r)&&e&&de(e.x)&&r>=e.x),"".concat(Sl,"-left"),de(r)&&e&&de(e.x)&&r<e.x),"".concat(Sl,"-bottom"),de(n)&&e&&de(e.y)&&n>=e.y),"".concat(Sl,"-top"),de(n)&&e&&de(e.y)&&n<e.y))}function tS(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&de(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+s,v=c[n]+u;return x>v?Math.max(d,c[n]):Math.max(f,c[n])}function X9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Q9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=tS({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=tS({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=X9({translateX:d,translateY:f,useTranslate3d:s})):u=J9,{cssProperties:u,cssClasses:Y9({translateX:d,translateY:f,coordinate:r})}}function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){cv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iP(n.key),n)}}function tK(t,e,r){return e&&eK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rK(t,e,r){return e=Vf(e),nK(t,nP()?Reflect.construct(e,r||[],Vf(t).constructor):e.apply(t,r))}function nK(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iK(t)}function iK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(t)}function aK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(t,e)}function cv(t,e,r){return e=iP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iP(t){var e=oK(t,"string");return bs(e)=="symbol"?e:e+""}function oK(t,e){if(bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iS=1,sK=function(t){function e(){var r;Z9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rK(this,e,[].concat(i)),cv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return aK(e,t),tK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iS||Math.abs(n.height-this.state.lastBoundingBox.height)>iS)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=Q9({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),k=w.cssClasses,S=w.cssProperties,N=nS(nS({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return L.createElement("div",{tabIndex:-1,className:k,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(T.PureComponent),lK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},io={isSsr:lK()};function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){rb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oP(n.key),n)}}function dK(t,e,r){return e&&uK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fK(t,e,r){return e=Gf(e),hK(t,aP()?Reflect.construct(e,r||[],Gf(t).constructor):e.apply(t,r))}function hK(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pK(t)}function pK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(t)}function mK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uv(t,e)}function rb(t,e,r){return e=oP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oP(t){var e=gK(t,"string");return ws(e)=="symbol"?e:e+""}function gK(t,e){if(ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yK(t){return t.dataKey}function vK(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(z9,e)}var ir=function(t){function e(){return cK(this,e),fK(this,e,arguments)}return mK(e,t),dK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,b=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,S=x??[];f&&S.length&&(S=J2(x.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),v,yK));var N=S.length>0;return L.createElement(sK,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:g,position:y,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:k},vK(u,oS(oS({},this.props),{},{payload:S})))}}])}(T.PureComponent);rb(ir,"displayName","Tooltip");rb(ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xK=Gn,bK=function(){return xK.Date.now()},wK=bK,_K=/\s/;function SK(t){for(var e=t.length;e--&&_K.test(t.charAt(e)););return e}var NK=SK,kK=NK,EK=/^\s+/;function TK(t){return t&&t.slice(0,kK(t)+1).replace(EK,"")}var AK=TK,CK=AK,sS=aa,jK=Ys,lS=NaN,PK=/^[-+]0x[0-9a-f]+$/i,IK=/^0b[01]+$/i,OK=/^0o[0-7]+$/i,RK=parseInt;function MK(t){if(typeof t=="number")return t;if(jK(t))return lS;if(sS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CK(t);var r=IK.test(t);return r||OK.test(t)?RK(t.slice(2),r?2:8):PK.test(t)?lS:+t}var sP=MK,$K=aa,dg=wK,cS=sP,DK="Expected a function",LK=Math.max,UK=Math.min;function FK(t,e,r){var n,i,a,o,s,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(DK);e=cS(e)||0,$K(r)&&(d=!!r.leading,f="maxWait"in r,a=f?LK(cS(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function g(N){var E=n,C=i;return n=i=void 0,u=N,o=t.apply(C,E),o}function x(N){return u=N,s=setTimeout(b,e),d?g(N):o}function v(N){var E=N-c,C=N-u,A=e-E;return f?UK(A,a-C):A}function y(N){var E=N-c,C=N-u;return c===void 0||E>=e||E<0||f&&C>=a}function b(){var N=dg();if(y(N))return _(N);s=setTimeout(b,v(N))}function _(N){return s=void 0,h&&n?g(N):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=c=i=s=void 0}function k(){return s===void 0?o:_(dg())}function S(){var N=dg(),E=y(N);if(n=arguments,i=this,c=N,E){if(s===void 0)return x(c);if(f)return clearTimeout(s),s=setTimeout(b,e),g(c)}return s===void 0&&(s=setTimeout(b,e)),o}return S.cancel=w,S.flush=k,S}var BK=FK,qK=BK,VK=aa,GK="Expected a function";function HK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(GK);return VK(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),qK(t,e,{leading:n,maxWait:e,trailing:i})}var zK=HK;const lP=Ye(zK);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function md(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){WK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WK(t,e,r){return e=KK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KK(t){var e=JK(t,"string");return Bc(e)=="symbol"?e:e+""}function JK(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YK(t,e){return eJ(t)||ZK(t,e)||QK(t,e)||XK()}function XK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(t,e){if(t){if(typeof t=="string")return dS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(t,e)}}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eJ(t){if(Array.isArray(t))return t}var ja=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,c=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,x=t.debounce,v=x===void 0?0:x,y=t.id,b=t.className,_=t.onResize,w=t.style,k=w===void 0?{}:w,S=T.useRef(null),N=T.useRef();N.current=_,T.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=T.useState({containerWidth:i.width,containerHeight:i.height}),C=YK(E,2),A=C[0],I=C[1],$=T.useCallback(function(O,M){I(function(P){var D=Math.round(O),B=Math.round(M);return P.containerWidth===D&&P.containerHeight===B?P:{containerWidth:D,containerHeight:B}})},[]);T.useEffect(function(){var O=function(W){var K,ee=W[0].contentRect,Y=ee.width,ge=ee.height;$(Y,ge),(K=N.current)===null||K===void 0||K.call(N,Y,ge)};v>0&&(O=lP(O,v,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),P=S.current.getBoundingClientRect(),D=P.width,B=P.height;return $(D,B),M.observe(S.current),function(){M.disconnect()}},[$,v]);var U=T.useMemo(function(){var O=A.containerWidth,M=A.containerHeight;if(O<0||M<0)return null;Nn(Ca(o)||Ca(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Nn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Ca(o)?O:o,D=Ca(c)?M:c;r&&r>0&&(P?D=P/r:D&&(P=D*r),h&&D>h&&(D=h)),Nn(P>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,o,c,d,f,r);var B=!Array.isArray(g)&&si(g.type).endsWith("Chart");return L.Children.map(g,function(F){return L.isValidElement(F)?T.cloneElement(F,md({width:P,height:D},B?{style:md({height:"100%",width:"100%",maxHeight:D,maxWidth:P},F.props.style)}:{})):F})},[r,g,c,h,f,d,A,o]);return L.createElement("div",{id:y?"".concat(y):void 0,className:Ue("recharts-responsive-container",b),style:md(md({},k),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},U)}),qc=function(e){return null};qc.displayName="Cell";function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){tJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tJ(t,e,r){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rJ(t){var e=nJ(t,"string");return Vc(e)=="symbol"?e:e+""}function nJ(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xo={widthCache:{},cacheCount:0},iJ=2e3,aJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hS="recharts_measurement_span";function oJ(t){var e=dv({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var nc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||io.isSsr)return{width:0,height:0};var n=oJ(r),i=JSON.stringify({text:e,copyStyle:n});if(xo.widthCache[i])return xo.widthCache[i];try{var a=document.getElementById(hS);a||(a=document.createElement("span"),a.setAttribute("id",hS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=dv(dv({},aJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return xo.widthCache[i]=c,++xo.cacheCount>iJ&&(xo.cacheCount=0,xo.widthCache={}),c}catch{return{width:0,height:0}}},sJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Hf(t,e){return dJ(t)||uJ(t,e)||cJ(t,e)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return pS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(t,e)}}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dJ(t){if(Array.isArray(t))return t}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pJ(n.key),n)}}function hJ(t,e,r){return e&&mS(t.prototype,e),r&&mS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pJ(t){var e=mJ(t,"string");return Gc(e)=="symbol"?e:e+""}function mJ(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vJ=Object.keys(cP),Fo="NaN";function xJ(t,e){return t*cP[e]}var gd=function(){function t(e,r){fJ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!gJ.test(r)&&(this.num=NaN,this.unit=""),vJ.includes(r)&&(this.num=xJ(e,r),this.unit="px")}return hJ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=yJ.exec(r))!==null&&n!==void 0?n:[],a=Hf(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function uP(t){if(t.includes(Fo))return Fo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=gS.exec(e))!==null&&r!==void 0?r:[],i=Hf(n,4),a=i[1],o=i[2],s=i[3],c=gd.parse(a??""),u=gd.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Fo;e=e.replace(gS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=yS.exec(e))!==null&&f!==void 0?f:[],g=Hf(h,4),x=g[1],v=g[2],y=g[3],b=gd.parse(x??""),_=gd.parse(y??""),w=v==="+"?b.add(_):b.subtract(_);if(w.isNaN())return Fo;e=e.replace(yS,w.toString())}return e}var vS=/\(([^()]*)\)/;function bJ(t){for(var e=t;e.includes("(");){var r=vS.exec(e),n=Hf(r,2),i=n[1];e=e.replace(vS,uP(i))}return e}function wJ(t){var e=t.replace(/\s+/g,"");return e=bJ(e),e=uP(e),e}function _J(t){try{return wJ(t)}catch{return Fo}}function fg(t){var e=_J(t.slice(5,-1));return e===Fo?"":e}var SJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NJ=["dx","dy","angle","className","breakAll"];function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}function xS(t,e){if(t==null)return{};var r=kJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bS(t,e){return CJ(t)||AJ(t,e)||TJ(t,e)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TJ(t,e){if(t){if(typeof t=="string")return wS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function CJ(t){if(Array.isArray(t))return t}var dP=/[ \f\n\r\t\v\u2028\u2029]+/,fP=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Le(r)||(n?a=r.toString().split(""):a=r.toString().split(dP));var o=a.map(function(c){return{word:c,width:nc(c,i).width}}),s=n?0:nc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},jJ=function(e,r,n,i,a){var o=e.maxLines,s=e.children,c=e.style,u=e.breakAll,d=de(o),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(D,B){var F=B.word,W=B.width,K=D[D.length-1];if(K&&(i==null||a||K.width+W+n<Number(i)))K.words.push(F),K.width+=W+n;else{var ee={words:[F],width:W};D.push(ee)}return D},[])},g=h(r),x=function(P){return P.reduce(function(D,B){return D.width>B.width?D:B})};if(!d)return g;for(var v="",y=function(P){var D=f.slice(0,P),B=fP({breakAll:u,style:c,children:D+v}).wordsWithComputedWidth,F=h(B),W=F.length>o||x(F).width>Number(i);return[W,F]},b=0,_=f.length-1,w=0,k;b<=_&&w<=f.length-1;){var S=Math.floor((b+_)/2),N=S-1,E=y(N),C=bS(E,2),A=C[0],I=C[1],$=y(S),U=bS($,1),O=U[0];if(!A&&!O&&(b=S+1),A&&O&&(_=S-1),!A&&O){k=I;break}w++}return k||g},_S=function(e){var r=Le(e)?[]:e.toString().split(dP);return[{words:r}]},PJ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!io.isSsr){var c,u,d=fP({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return _S(i);return jJ({breakAll:o,children:i,maxLines:s,style:a},c,u,r,n)}return _S(i)},SS="#808080",Wa=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,x=e.verticalAnchor,v=x===void 0?"end":x,y=e.fill,b=y===void 0?SS:y,_=xS(e,SJ),w=T.useMemo(function(){return PJ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),k=_.dx,S=_.dy,N=_.angle,E=_.className,C=_.breakAll,A=xS(_,NJ);if(!Ut(n)||!Ut(a))return null;var I=n+(de(k)?k:0),$=a+(de(S)?S:0),U;switch(v){case"start":U=fg("calc(".concat(u,")"));break;case"middle":U=fg("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:U=fg("calc(".concat(w.length-1," * -").concat(s,")"));break}var O=[];if(f){var M=w[0].width,P=_.width;O.push("scale(".concat((de(P)?P/M:1)/M,")"))}return N&&O.push("rotate(".concat(N,", ").concat(I,", ").concat($,")")),O.length&&(A.transform=O.join(" ")),L.createElement("text",fv({},Ae(A,!0),{x:I,y:$,className:Ue("recharts-text",E),textAnchor:g,fill:b.includes("url")?SS:b}),w.map(function(D,B){var F=D.words.join(C?"":" ");return L.createElement("tspan",{x:I,dy:B===0?U:s,key:"".concat(F,"-").concat(B)},F)}))};function Qi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nb(t){let e,r,n;t.length!==2?(e=Qi,r=(s,c)=>Qi(t(s),c),n=(s,c)=>t(s)-c):(e=t===Qi||t===IJ?t:OJ,r=t,n=t);function i(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function OJ(){return 0}function hP(t){return t===null?NaN:+t}function*RJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const MJ=nb(Qi),Ou=MJ.right;nb(hP).center;class NS extends Map{constructor(e,r=LJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(kS(this,e))}has(e){return super.has(kS(this,e))}set(e,r){return super.set($J(this,e),r)}delete(e){return super.delete(DJ(this,e))}}function kS({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function $J({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function DJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function LJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UJ(t=Qi){if(t===Qi)return pP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function pP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FJ=Math.sqrt(50),BJ=Math.sqrt(10),qJ=Math.sqrt(2);function zf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=FJ?10:a>=BJ?5:a>=qJ?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=r&&r<2?zf(t,e,r*2):[s,c,u]}function hv(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?zf(e,t,r):zf(t,e,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function pv(t,e,r){return e=+e,t=+t,r=+r,zf(t,e,r)[2]}function mv(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?pv(e,t,r):pv(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ES(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TS(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mP(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?pP:UJ(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*f/c+h)),x=Math.min(n,Math.floor(e+(c-u)*f/c+h));mP(t,e,g,x,i)}const a=t[e];let o=r,s=n;for(Nl(t,r,e),i(t[n],a)>0&&Nl(t,r,n);o<s;){for(Nl(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Nl(t,r,s):(++s,Nl(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Nl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function VJ(t,e,r){if(t=Float64Array.from(RJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return TS(t);if(e>=1)return ES(t);var n,i=(n-1)*e,a=Math.floor(i),o=ES(mP(t,a).subarray(0,a+1)),s=TS(t.subarray(a+1));return o+(s-o)*(i-a)}}function GJ(t,e,r=hP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function HJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ln(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ni(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gv=Symbol("implicit");function ib(){var t=new NS,e=[],r=[],n=gv;function i(a){let o=t.get(a);if(o===void 0){if(n!==gv)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new NS;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ib(e,r).unknown(n)},ln.apply(i,arguments),i}function Hc(){var t=ib().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<n,x=g?i:n,v=g?n:i;a=(v-x)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),x+=(v-x-a*(h-c))*d,o=a*(1-c),s&&(x=Math.round(x),o=Math.round(o));var y=HJ(h).map(function(b){return x+a*b});return r(g?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Hc(e(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},ln.apply(f(),arguments)}function gP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gP(e())},t}function ic(){return gP(Hc.apply(null,arguments).paddingInner(1))}function ab(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function yP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ru(){}var zc=.7,Wf=1/zc,ts="\\s*([+-]?\\d+)\\s*",Wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zJ=/^#([0-9a-f]{3,8})$/,WJ=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),KJ=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),JJ=new RegExp(`^rgba\\(${ts},${ts},${ts},${Wc}\\)$`),YJ=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Wc}\\)$`),XJ=new RegExp(`^hsl\\(${Wc},${Ln},${Ln}\\)$`),QJ=new RegExp(`^hsla\\(${Wc},${Ln},${Ln},${Wc}\\)$`),AS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ab(Ru,Kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CS,formatHex:CS,formatHex8:ZJ,formatHsl:eY,formatRgb:jS,toString:jS});function CS(){return this.rgb().formatHex()}function ZJ(){return this.rgb().formatHex8()}function eY(){return vP(this).formatHsl()}function jS(){return this.rgb().formatRgb()}function Kc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=zJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PS(e):r===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WJ.exec(t))?new _r(e[1],e[2],e[3],1):(e=KJ.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JJ.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=YJ.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XJ.exec(t))?RS(e[1],e[2]/100,e[3]/100,1):(e=QJ.exec(t))?RS(e[1],e[2]/100,e[3]/100,e[4]):AS.hasOwnProperty(t)?PS(AS[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function PS(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,r,n){return n<=0&&(t=e=r=NaN),new _r(t,e,r,n)}function tY(t){return t instanceof Ru||(t=Kc(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function yv(t,e,r,n){return arguments.length===1?tY(t):new _r(t,e,r,n??1)}function _r(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ab(_r,yv,yP(Ru,{brighter(t){return t=t==null?Wf:Math.pow(Wf,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(Da(this.r),Da(this.g),Da(this.b),Kf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IS,formatHex:IS,formatHex8:rY,formatRgb:OS,toString:OS}));function IS(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}`}function rY(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}${Pa((isNaN(this.opacity)?1:this.opacity)*255)}`}function OS(){const t=Kf(this.opacity);return`${t===1?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${t===1?")":`, ${t})`}`}function Kf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Da(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pa(t){return t=Da(t),(t<16?"0":"")+t.toString(16)}function RS(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new wn(t,e,r,n)}function vP(t){if(t instanceof wn)return new wn(t.h,t.s,t.l,t.opacity);if(t instanceof Ru||(t=Kc(t)),!t)return new wn;if(t instanceof wn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new wn(o,s,c,t.opacity)}function nY(t,e,r,n){return arguments.length===1?vP(t):new wn(t,e,r,n??1)}function wn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ab(wn,nY,yP(Ru,{brighter(t){return t=t==null?Wf:Math.pow(Wf,t),new wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new _r(hg(t>=240?t-240:t+120,i,n),hg(t,i,n),hg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new wn(MS(this.h),vd(this.s),vd(this.l),Kf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kf(this.opacity);return`${t===1?"hsl(":"hsla("}${MS(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MS(t){return t=(t||0)%360,t<0?t+360:t}function vd(t){return Math.max(0,Math.min(1,t||0))}function hg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ob=t=>()=>t;function iY(t,e){return function(r){return t+r*e}}function aY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function oY(t){return(t=+t)==1?xP:function(e,r){return r-e?aY(e,r,t):ob(isNaN(e)?r:e)}}function xP(t,e){var r=e-t;return r?iY(t,r):ob(isNaN(t)?e:t)}const $S=function t(e){var r=oY(e);function n(i,a){var o=r((i=yv(i)).r,(a=yv(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=xP(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function sY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function lY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=al(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function uY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function dY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=al(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pg=new RegExp(vv.source,"g");function fY(t){return function(){return t}}function hY(t){return function(e){return t(e)+""}}function pY(t,e){var r=vv.lastIndex=pg.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(n=vv.exec(t))&&(i=pg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Jf(n,i)})),r=pg.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?hY(c[0].x):fY(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function al(t,e){var r=typeof e,n;return e==null||r==="boolean"?ob(e):(r==="number"?Jf:r==="string"?(n=Kc(e))?(e=n,$S):pY:e instanceof Kc?$S:e instanceof Date?uY:lY(e)?sY:Array.isArray(e)?cY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dY:Jf)(t,e)}function sb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mY(t,e){e===void 0&&(e=t,t=al);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function gY(t){return function(){return t}}function Yf(t){return+t}var DS=[0,1];function pr(t){return t}function xv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:gY(isNaN(e)?NaN:.5)}function yY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vY(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=xv(i,n),a=r(o,a)):(n=xv(n,i),a=r(a,o)),function(s){return a(n(s))}}function xY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=xv(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var c=Ou(t,s,1,n)-1;return a[c](i[c](s))}}function Mu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mp(){var t=DS,e=DS,r=al,n,i,a,o=pr,s,c,u;function d(){var h=Math.min(t.length,e.length);return o!==pr&&(o=yY(t[0],t[h-1])),s=h>2?xY:vY,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),Jf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Yf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=sb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:pr,d()):o!==pr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return n=h,i=g,d()}}function lb(){return Mp()(pr,pr)}function bY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _s(t){return t=Xf(Math.abs(t)),t?t[1]:NaN}function wY(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function _Y(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var SY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jc(t){if(!(e=SY.exec(t)))throw new Error("invalid format: "+t);var e;return new cb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jc.prototype=cb.prototype;function cb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var bP;function kY(t,e){var r=Xf(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(bP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Xf(t,Math.max(0,e+a-1))[0]}function LS(t,e){var r=Xf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const US={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LS(t*100,e),r:LS,s:kY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function FS(t){return t}var BS=Array.prototype.map,qS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EY(t){var e=t.grouping===void 0||t.thousands===void 0?FS:wY(BS.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?FS:_Y(BS.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Jc(f);var h=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,b=f.width,_=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(_=!0,S="g"):US[S]||(w===void 0&&(w=12),k=!0,S="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var N=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?n:/[%p]/.test(S)?o:"",C=US[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I($){var U=N,O=E,M,P,D;if(S==="c")O=C($)+O,$="";else{$=+$;var B=$<0||1/$<0;if($=isNaN($)?c:C(Math.abs($),w),k&&($=NY($)),B&&+$==0&&x!=="+"&&(B=!1),U=(B?x==="("?x:s:x==="-"||x==="("?"":x)+U,O=(S==="s"?qS[8+bP/3]:"")+O+(B&&x==="("?")":""),A){for(M=-1,P=$.length;++M<P;)if(D=$.charCodeAt(M),48>D||D>57){O=(D===46?i+$.slice(M+1):$.slice(M))+O,$=$.slice(0,M);break}}}_&&!y&&($=e($,1/0));var F=U.length+$.length+O.length,W=F<b?new Array(b-F+1).join(h):"";switch(_&&y&&($=e(W+$,W.length?b-O.length:1/0),W=""),g){case"<":$=U+$+O+W;break;case"=":$=U+W+$+O;break;case"^":$=W.slice(0,F=W.length>>1)+U+$+O+W.slice(F);break;default:$=W+U+$+O;break}return a($)}return I.toString=function(){return f+""},I}function d(f,h){var g=u((f=Jc(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(_s(h)/3)))*3,v=Math.pow(10,-x),y=qS[8+x/3];return function(b){return g(v*b)+y}}return{format:u,formatPrefix:d}}var xd,ub,wP;TY({thousands:",",grouping:[3],currency:["$",""]});function TY(t){return xd=EY(t),ub=xd.format,wP=xd.formatPrefix,xd}function AY(t){return Math.max(0,-_s(Math.abs(t)))}function CY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(e)/3)))*3-_s(Math.abs(t)))}function jY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_s(e)-_s(t))+1}function _P(t,e,r,n){var i=mv(t,e,r),a;switch(n=Jc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=CY(i,o))&&(n.precision=a),wP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=jY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=AY(i))&&(n.precision=a-(n.type==="%")*2);break}}return ub(n)}function oa(t){var e=t.domain;return t.ticks=function(r){var n=e();return hv(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return _P(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=pv(o,s,r),u===c)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Qf(){var t=lb();return t.copy=function(){return Mu(t,Qf())},ln.apply(t,arguments),oa(t)}function SP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Yf),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return SP(t).unknown(e)},t=arguments.length?Array.from(t,Yf):[0,1],oa(r)}function NP(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function VS(t){return Math.log(t)}function GS(t){return Math.exp(t)}function PY(t){return-Math.log(-t)}function IY(t){return-Math.exp(-t)}function OY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function RY(t){return t===10?OY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function MY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HS(t){return(e,r)=>-t(-e,r)}function db(t){const e=t(VS,GS),r=e.domain;let n=10,i,a;function o(){return i=MY(n),a=RY(n),r()[0]<0?(i=HS(i),a=HS(a),t(PY,IY)):t(VS,GS),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),x,v;const y=s==null?10:+s;let b=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(x=1;x<n;++x)if(v=h<0?x/a(-h):x*a(h),!(v<u)){if(v>d)break;b.push(v)}}else for(;h<=g;++h)for(x=n-1;x>=1;--x)if(v=h>0?x/a(-h):x*a(h),!(v<u)){if(v>d)break;b.push(v)}b.length*2<y&&(b=hv(u,d,y))}else b=hv(h,g,Math.min(g-h,y)).map(a);return f?b.reverse():b},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Jc(c)).precision==null&&(c.trim=!0),c=ub(c)),s===1/0)return c;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(NP(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function kP(){const t=db(Mp()).domain([1,10]);return t.copy=()=>Mu(t,kP()).base(t.base()),ln.apply(t,arguments),t}function zS(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fb(t){var e=1,r=t(zS(e),WS(e));return r.constant=function(n){return arguments.length?t(zS(e=+n),WS(e)):e},oa(r)}function EP(){var t=fb(Mp());return t.copy=function(){return Mu(t,EP()).constant(t.constant())},ln.apply(t,arguments)}function KS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $Y(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function DY(t){return t<0?-t*t:t*t}function hb(t){var e=t(pr,pr),r=1;function n(){return r===1?t(pr,pr):r===.5?t($Y,DY):t(KS(r),KS(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},oa(e)}function pb(){var t=hb(Mp());return t.copy=function(){return Mu(t,pb()).exponent(t.exponent())},ln.apply(t,arguments),t}function LY(){return pb.apply(null,arguments).exponent(.5)}function JS(t){return Math.sign(t)*t*t}function UY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TP(){var t=lb(),e=[0,1],r=!1,n;function i(a){var o=UY(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(JS(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Yf)).map(JS)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return TP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ln.apply(i,arguments),oa(i)}function AP(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=GJ(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Ou(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Qi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return AP().domain(t).range(e).unknown(n)},ln.apply(a,arguments)}function CP(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Ou(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return CP().domain([t,e]).range(i).unknown(a)},ln.apply(oa(o),arguments)}function jP(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ou(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jP().domain(t).range(e).unknown(r)},ln.apply(i,arguments)}const mg=new Date,gg=new Date;function Ft(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return c},i.filter=a=>Ft(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(mg.setTime(+a),gg.setTime(+o),t(mg),t(gg),Math.floor(r(mg,gg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Zf=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zf);Zf.range;const ri=1e3,Zr=ri*60,ni=Zr*60,pi=ni*24,mb=pi*7,YS=pi*30,yg=pi*365,Ia=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCSeconds());Ia.range;const gb=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ri)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getMinutes());gb.range;const yb=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCMinutes());yb.range;const vb=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ri-t.getMinutes()*Zr)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getHours());vb.range;const xb=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCHours());xb.range;const $u=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/pi,t=>t.getDate()-1);$u.range;const $p=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pi,t=>t.getUTCDate()-1);$p.range;const PP=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pi,t=>Math.floor(t/pi));PP.range;function ao(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/mb)}const Dp=ao(0),eh=ao(1),FY=ao(2),BY=ao(3),Ss=ao(4),qY=ao(5),VY=ao(6);Dp.range;eh.range;FY.range;BY.range;Ss.range;qY.range;VY.range;function oo(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/mb)}const Lp=oo(0),th=oo(1),GY=oo(2),HY=oo(3),Ns=oo(4),zY=oo(5),WY=oo(6);Lp.range;th.range;GY.range;HY.range;Ns.range;zY.range;WY.range;const bb=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bb.range;const wb=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wb.range;const mi=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});mi.range;const gi=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});gi.range;function IP(t,e,r,n,i,a){const o=[[Ia,1,ri],[Ia,5,5*ri],[Ia,15,15*ri],[Ia,30,30*ri],[a,1,Zr],[a,5,5*Zr],[a,15,15*Zr],[a,30,30*Zr],[i,1,ni],[i,3,3*ni],[i,6,6*ni],[i,12,12*ni],[n,1,pi],[n,2,2*pi],[r,1,mb],[e,1,YS],[e,3,3*YS],[t,1,yg]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,g=nb(([,,y])=>y).right(o,h);if(g===o.length)return t.every(mv(u/yg,d/yg,f));if(g===0)return Zf.every(Math.max(mv(u,d,f),1));const[x,v]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return x.every(v)}return[s,c]}const[KY,JY]=IP(gi,wb,Lp,PP,xb,yb),[YY,XY]=IP(mi,bb,Dp,$u,vb,gb);function vg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function QY(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=El(i),d=Tl(i),f=El(a),h=Tl(a),g=El(o),x=Tl(o),v=El(s),y=Tl(s),b=El(c),_=Tl(c),w={a:B,A:F,b:W,B:K,c:null,d:rN,e:rN,f:wX,g:PX,G:OX,H:vX,I:xX,j:bX,L:OP,m:_X,M:SX,p:ee,q:Y,Q:aN,s:oN,S:NX,u:kX,U:EX,V:TX,w:AX,W:CX,x:null,X:null,y:jX,Y:IX,Z:RX,"%":iN},k={a:ge,A:R,b:Q,B:ue,c:null,d:nN,e:nN,f:LX,g:KX,G:YX,H:MX,I:$X,j:DX,L:MP,m:UX,M:FX,p:ye,q:Oe,Q:aN,s:oN,S:BX,u:qX,U:VX,V:GX,w:HX,W:zX,x:null,X:null,y:WX,Y:JX,Z:XX,"%":iN},S={a:I,A:$,b:U,B:O,c:M,d:eN,e:eN,f:pX,g:ZS,G:QS,H:tN,I:tN,j:uX,L:hX,m:cX,M:dX,p:A,q:lX,Q:gX,s:yX,S:fX,u:nX,U:iX,V:aX,w:rX,W:oX,x:P,X:D,y:ZS,Y:QS,Z:sX,"%":mX};w.x=N(r,w),w.X=N(n,w),w.c=N(e,w),k.x=N(r,k),k.X=N(n,k),k.c=N(e,k);function N(se,Ne){return function(J){var X=[],Ie=-1,Se=0,Z=se.length,he,ie,Me;for(J instanceof Date||(J=new Date(+J));++Ie<Z;)se.charCodeAt(Ie)===37&&(X.push(se.slice(Se,Ie)),(ie=XS[he=se.charAt(++Ie)])!=null?he=se.charAt(++Ie):ie=he==="e"?" ":"0",(Me=Ne[he])&&(he=Me(J,ie)),X.push(he),Se=Ie+1);return X.push(se.slice(Se,Ie)),X.join("")}}function E(se,Ne){return function(J){var X=kl(1900,void 0,1),Ie=C(X,se,J+="",0),Se,Z;if(Ie!=J.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Ne&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Se=xg(kl(X.y,0,1)),Z=Se.getUTCDay(),Se=Z>4||Z===0?th.ceil(Se):th(Se),Se=$p.offset(Se,(X.V-1)*7),X.y=Se.getUTCFullYear(),X.m=Se.getUTCMonth(),X.d=Se.getUTCDate()+(X.w+6)%7):(Se=vg(kl(X.y,0,1)),Z=Se.getDay(),Se=Z>4||Z===0?eh.ceil(Se):eh(Se),Se=$u.offset(Se,(X.V-1)*7),X.y=Se.getFullYear(),X.m=Se.getMonth(),X.d=Se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Z="Z"in X?xg(kl(X.y,0,1)).getUTCDay():vg(kl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Z+5)%7:X.w+X.U*7-(Z+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,xg(X)):vg(X)}}function C(se,Ne,J,X){for(var Ie=0,Se=Ne.length,Z=J.length,he,ie;Ie<Se;){if(X>=Z)return-1;if(he=Ne.charCodeAt(Ie++),he===37){if(he=Ne.charAt(Ie++),ie=S[he in XS?Ne.charAt(Ie++):he],!ie||(X=ie(se,J,X))<0)return-1}else if(he!=J.charCodeAt(X++))return-1}return X}function A(se,Ne,J){var X=u.exec(Ne.slice(J));return X?(se.p=d.get(X[0].toLowerCase()),J+X[0].length):-1}function I(se,Ne,J){var X=g.exec(Ne.slice(J));return X?(se.w=x.get(X[0].toLowerCase()),J+X[0].length):-1}function $(se,Ne,J){var X=f.exec(Ne.slice(J));return X?(se.w=h.get(X[0].toLowerCase()),J+X[0].length):-1}function U(se,Ne,J){var X=b.exec(Ne.slice(J));return X?(se.m=_.get(X[0].toLowerCase()),J+X[0].length):-1}function O(se,Ne,J){var X=v.exec(Ne.slice(J));return X?(se.m=y.get(X[0].toLowerCase()),J+X[0].length):-1}function M(se,Ne,J){return C(se,e,Ne,J)}function P(se,Ne,J){return C(se,r,Ne,J)}function D(se,Ne,J){return C(se,n,Ne,J)}function B(se){return o[se.getDay()]}function F(se){return a[se.getDay()]}function W(se){return c[se.getMonth()]}function K(se){return s[se.getMonth()]}function ee(se){return i[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function ge(se){return o[se.getUTCDay()]}function R(se){return a[se.getUTCDay()]}function Q(se){return c[se.getUTCMonth()]}function ue(se){return s[se.getUTCMonth()]}function ye(se){return i[+(se.getUTCHours()>=12)]}function Oe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ne=N(se+="",w);return Ne.toString=function(){return se},Ne},parse:function(se){var Ne=E(se+="",!1);return Ne.toString=function(){return se},Ne},utcFormat:function(se){var Ne=N(se+="",k);return Ne.toString=function(){return se},Ne},utcParse:function(se){var Ne=E(se+="",!0);return Ne.toString=function(){return se},Ne}}}var XS={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,ZY=/^%/,eX=/[\\^$*+?|[\]().{}]/g;function ze(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function tX(t){return t.replace(eX,"\\$&")}function El(t){return new RegExp("^(?:"+t.map(tX).join("|")+")","i")}function Tl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function rX(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nX(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function iX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function aX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function oX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function QS(t,e,r){var n=Ht.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ZS(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lX(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function cX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function eN(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uX(t,e,r){var n=Ht.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function tN(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function dX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fX(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hX(t,e,r){var n=Ht.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function pX(t,e,r){var n=Ht.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mX(t,e,r){var n=ZY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function gX(t,e,r){var n=Ht.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function yX(t,e,r){var n=Ht.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function rN(t,e){return ze(t.getDate(),e,2)}function vX(t,e){return ze(t.getHours(),e,2)}function xX(t,e){return ze(t.getHours()%12||12,e,2)}function bX(t,e){return ze(1+$u.count(mi(t),t),e,3)}function OP(t,e){return ze(t.getMilliseconds(),e,3)}function wX(t,e){return OP(t,e)+"000"}function _X(t,e){return ze(t.getMonth()+1,e,2)}function SX(t,e){return ze(t.getMinutes(),e,2)}function NX(t,e){return ze(t.getSeconds(),e,2)}function kX(t){var e=t.getDay();return e===0?7:e}function EX(t,e){return ze(Dp.count(mi(t)-1,t),e,2)}function RP(t){var e=t.getDay();return e>=4||e===0?Ss(t):Ss.ceil(t)}function TX(t,e){return t=RP(t),ze(Ss.count(mi(t),t)+(mi(t).getDay()===4),e,2)}function AX(t){return t.getDay()}function CX(t,e){return ze(eh.count(mi(t)-1,t),e,2)}function jX(t,e){return ze(t.getFullYear()%100,e,2)}function PX(t,e){return t=RP(t),ze(t.getFullYear()%100,e,2)}function IX(t,e){return ze(t.getFullYear()%1e4,e,4)}function OX(t,e){var r=t.getDay();return t=r>=4||r===0?Ss(t):Ss.ceil(t),ze(t.getFullYear()%1e4,e,4)}function RX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function nN(t,e){return ze(t.getUTCDate(),e,2)}function MX(t,e){return ze(t.getUTCHours(),e,2)}function $X(t,e){return ze(t.getUTCHours()%12||12,e,2)}function DX(t,e){return ze(1+$p.count(gi(t),t),e,3)}function MP(t,e){return ze(t.getUTCMilliseconds(),e,3)}function LX(t,e){return MP(t,e)+"000"}function UX(t,e){return ze(t.getUTCMonth()+1,e,2)}function FX(t,e){return ze(t.getUTCMinutes(),e,2)}function BX(t,e){return ze(t.getUTCSeconds(),e,2)}function qX(t){var e=t.getUTCDay();return e===0?7:e}function VX(t,e){return ze(Lp.count(gi(t)-1,t),e,2)}function $P(t){var e=t.getUTCDay();return e>=4||e===0?Ns(t):Ns.ceil(t)}function GX(t,e){return t=$P(t),ze(Ns.count(gi(t),t)+(gi(t).getUTCDay()===4),e,2)}function HX(t){return t.getUTCDay()}function zX(t,e){return ze(th.count(gi(t)-1,t),e,2)}function WX(t,e){return ze(t.getUTCFullYear()%100,e,2)}function KX(t,e){return t=$P(t),ze(t.getUTCFullYear()%100,e,2)}function JX(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function YX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ns(t):Ns.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function XX(){return"+0000"}function iN(){return"%"}function aN(t){return+t}function oN(t){return Math.floor(+t/1e3)}var bo,DP,LP;QX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QX(t){return bo=QY(t),DP=bo.format,bo.parse,LP=bo.utcFormat,bo.utcParse,bo}function ZX(t){return new Date(t)}function eQ(t){return t instanceof Date?+t:+new Date(+t)}function _b(t,e,r,n,i,a,o,s,c,u){var d=lb(),f=d.invert,h=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),k=u("%Y");function S(N){return(c(N)<N?g:s(N)<N?x:o(N)<N?v:a(N)<N?y:n(N)<N?i(N)<N?b:_:r(N)<N?w:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,eQ)):h().map(ZX)},d.ticks=function(N){var E=h();return t(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?S:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?h(NP(E,N)):d},d.copy=function(){return Mu(d,_b(t,e,r,n,i,a,o,s,c,u))},d}function tQ(){return ln.apply(_b(YY,XY,mi,bb,Dp,$u,vb,gb,Ia,DP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rQ(){return ln.apply(_b(KY,JY,gi,wb,Lp,$p,xb,yb,Ia,LP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Up(){var t=0,e=1,r,n,i,a,o=pr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var g,x;return arguments.length?([g,x]=h,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(al),u.rangeRound=d(sb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UP(){var t=oa(Up()(pr));return t.copy=function(){return sa(t,UP())},Ni.apply(t,arguments)}function FP(){var t=db(Up()).domain([1,10]);return t.copy=function(){return sa(t,FP()).base(t.base())},Ni.apply(t,arguments)}function BP(){var t=fb(Up());return t.copy=function(){return sa(t,BP()).constant(t.constant())},Ni.apply(t,arguments)}function Sb(){var t=hb(Up());return t.copy=function(){return sa(t,Sb()).exponent(t.exponent())},Ni.apply(t,arguments)}function nQ(){return Sb.apply(null,arguments).exponent(.5)}function qP(){var t=[],e=pr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ou(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>VJ(t,a/n))},r.copy=function(){return qP(e).domain(t)},Ni.apply(r,arguments)}function Fp(){var t=0,e=.5,r=1,n=1,i,a,o,s,c,u=pr,d,f=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(n*v<n*a?s:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var b,_,w;return arguments.length?([b,_,w]=y,u=mY(v,[b,_,w]),g):[u(0),u(.5),u(1)]}}return g.range=x(al),g.rangeRound=x(sb),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return d=v,i=v(t),a=v(e),o=v(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g}}function VP(){var t=oa(Fp()(pr));return t.copy=function(){return sa(t,VP())},Ni.apply(t,arguments)}function GP(){var t=db(Fp()).domain([.1,1,10]);return t.copy=function(){return sa(t,GP()).base(t.base())},Ni.apply(t,arguments)}function HP(){var t=fb(Fp());return t.copy=function(){return sa(t,HP()).constant(t.constant())},Ni.apply(t,arguments)}function Nb(){var t=hb(Fp());return t.copy=function(){return sa(t,Nb()).exponent(t.exponent())},Ni.apply(t,arguments)}function iQ(){return Nb.apply(null,arguments).exponent(.5)}const sN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hc,scaleDiverging:VP,scaleDivergingLog:GP,scaleDivergingPow:Nb,scaleDivergingSqrt:iQ,scaleDivergingSymlog:HP,scaleIdentity:SP,scaleImplicit:gv,scaleLinear:Qf,scaleLog:kP,scaleOrdinal:ib,scalePoint:ic,scalePow:pb,scaleQuantile:AP,scaleQuantize:CP,scaleRadial:TP,scaleSequential:UP,scaleSequentialLog:FP,scaleSequentialPow:Sb,scaleSequentialQuantile:qP,scaleSequentialSqrt:nQ,scaleSequentialSymlog:BP,scaleSqrt:LY,scaleSymlog:EP,scaleThreshold:jP,scaleTime:tQ,scaleUtc:rQ,tickFormat:_P},Symbol.toStringTag,{value:"Module"}));var aQ=Ys;function oQ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!aQ(o):r(o,s)))var s=o,c=a}return c}var Bp=oQ;function sQ(t,e){return t>e}var zP=sQ,lQ=Bp,cQ=zP,uQ=il;function dQ(t){return t&&t.length?lQ(t,uQ,cQ):void 0}var fQ=dQ;const qp=Ye(fQ);function hQ(t,e){return t<e}var WP=hQ,pQ=Bp,mQ=WP,gQ=il;function yQ(t){return t&&t.length?pQ(t,gQ,mQ):void 0}var vQ=yQ;const Vp=Ye(vQ);var xQ=Lx,bQ=Hn,wQ=tP,_Q=Er;function SQ(t,e){var r=_Q(t)?xQ:wQ;return r(t,bQ(e))}var NQ=SQ,kQ=Z2,EQ=NQ;function TQ(t,e){return kQ(EQ(t,e),1)}var AQ=TQ;const CQ=Ye(AQ);var jQ=Zx;function PQ(t,e){return jQ(t,e)}var IQ=PQ;const Du=Ye(IQ);var ol=1e9,OQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Eb,dt=!0,an="[DecimalError] ",La=an+"Invalid argument: ",kb=an+"Exponent out of range: ",sl=Math.floor,ba=Math.pow,RQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,Bt=1e7,st=7,KP=9007199254740991,rh=sl(KP/st),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*st;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(t){return li(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,r=e.constructor;return Ze(li(e,new r(t),0,1),r.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return jt(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($r))throw Error(an+"NaN");if(r.s<1)throw Error(an+(r.s?"NaN":"-Infinity"));return r.eq($r)?new n(0):(dt=!1,e=li(Yc(r,a),Yc(t,a),a),dt=!0,Ze(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XP(e,t):JP(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(an+"NaN");return r.s?(dt=!1,e=li(r,t,0,1).times(t),dt=!0,r.minus(e)):Ze(new n(r),i)};we.naturalExponential=we.exp=function(){return YP(this)};we.naturalLogarithm=we.ln=function(){return Yc(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JP(e,t):XP(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(La+t);if(e=jt(i)+1,n=i.d.length-1,r=n*st+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};we.squareRoot=we.sqrt=function(){var t,e,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(an+"NaN")}for(t=jt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Rn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(li(s,a,o+2)).times(.5),Rn(a.d).slice(0,o)===(e=Rn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ze(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return dt=!0,Ze(n,r)};we.times=we.mul=function(t){var e,r,n,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=g.length,c<u&&(a=h,h=g,g=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)s=a[i]+g[n]*h[i-n-1]+e,a[i--]=s%Bt|0,e=s/Bt|0;a[i]=(a[i]+e)%Bt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,dt?Ze(t,f.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Fn(t,0,ol),e===void 0?e=n.rounding:Fn(e,0,8),Ze(r,t+jt(r)+1,e))};we.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ka(n,!0):(Fn(t,0,ol),e===void 0?e=i.rounding:Fn(e,0,8),n=Ze(new i(n),t+1,e),r=Ka(n,!0,t+1)),r};we.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ka(i):(Fn(t,0,ol),e===void 0?e=a.rounding:Fn(e,0,8),n=Ze(new a(i),t+jt(i)+1,e),r=Ka(n.abs(),!1,t+jt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),jt(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,r,n,i,a,o,s=this,c=s.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c($r);if(s=new c(s),!s.s){if(t.s<1)throw Error(an+"Infinity");return s}if(s.eq($r))return s;if(n=c.precision,t.eq($r))return Ze(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=KP){for(i=new c($r),e=Math.ceil(n/st+4),dt=!1;r%2&&(i=i.times(s),cN(i.d,e)),r=sl(r/2),r!==0;)s=s.times(s),cN(s.d,e);return dt=!0,t.s<0?new c($r).div(i):Ze(i,n)}}else if(a<0)throw Error(an+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,dt=!1,i=t.times(Yc(s,n+u)),dt=!0,i=YP(i),i.s=a,i};we.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=jt(i),n=Ka(i,r<=a.toExpNeg||r>=a.toExpPos)):(Fn(t,1,ol),e===void 0?e=a.rounding:Fn(e,0,8),i=Ze(new a(i),t,e),r=jt(i),n=Ka(i,t<=r||r<=a.toExpNeg,t)),n};we.toSignificantDigits=we.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Fn(t,1,ol),e===void 0?e=n.rounding:Fn(e,0,8)),Ze(new n(r),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jt(t),r=t.constructor;return Ka(t,e<=r.toExpNeg||e>=r.toExpPos)};function JP(t,e){var r,n,i,a,o,s,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),dt?Ze(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(f/st),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Bt|0,c[a]%=Bt;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,dt?Ze(e,f):e}function Fn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(La+t)}function Rn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=st-n.length,r&&(a+=Oi(r)),a+=n;o=t[e],n=o+"",r=st-n.length,r&&(a+=Oi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var li=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Bt|0,o=a/Bt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Bt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,d,f,h,g,x,v,y,b,_,w,k,S,N,E,C,A=n.constructor,I=n.s==i.s?1:-1,$=n.d,U=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(an+"Division by zero");for(c=n.e-i.e,E=U.length,S=$.length,g=new A(I),x=g.d=[],u=0;U[u]==($[u]||0);)++u;if(U[u]>($[u]||0)&&--c,a==null?_=a=A.precision:o?_=a+(jt(n)-jt(i))+1:_=a,_<0)return new A(0);if(_=_/st+2|0,u=0,E==1)for(d=0,U=U[0],_++;(u<S||d)&&_--;u++)w=d*Bt+($[u]||0),x[u]=w/U|0,d=w%U|0;else{for(d=Bt/(U[0]+1)|0,d>1&&(U=t(U,d),$=t($,d),E=U.length,S=$.length),k=E,v=$.slice(0,E),y=v.length;y<E;)v[y++]=0;C=U.slice(),C.unshift(0),N=U[0],U[1]>=Bt/2&&++N;do d=0,s=e(U,v,E,y),s<0?(b=v[0],E!=y&&(b=b*Bt+(v[1]||0)),d=b/N|0,d>1?(d>=Bt&&(d=Bt-1),f=t(U,d),h=f.length,y=v.length,s=e(f,v,h,y),s==1&&(d--,r(f,E<h?C:U,h))):(d==0&&(s=d=1),f=U.slice()),h=f.length,h<y&&f.unshift(0),r(v,f,y),s==-1&&(y=v.length,s=e(U,v,E,y),s<1&&(d++,r(v,E<y?C:U,y))),y=v.length):s===0&&(d++,v=[0]),x[u++]=d,s&&v[0]?v[y++]=$[k]||0:(v=[$[k]],y=1);while((k++<S||v[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=c,Ze(g,o?a+jt(g)+1:a)}}();function YP(t,e){var r,n,i,a,o,s,c=0,u=0,d=t.constructor,f=d.precision;if(jt(t)>16)throw Error(kb+jt(t));if(!t.s)return new d($r);for(dt=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(ba(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d($r),d.precision=s;;){if(i=Ze(i.times(t),s),r=r.times(++c),o=a.plus(li(i,r,s)),Rn(o.d).slice(0,s)===Rn(a.d).slice(0,s)){for(;u--;)a=Ze(a.times(a),s);return d.precision=f,e==null?(dt=!0,Ze(a,f)):a}a=o}}function jt(t){for(var e=t.e*st,r=t.d[0];r>=10;r/=10)e++;return e}function bg(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(an+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function Yc(t,e){var r,n,i,a,o,s,c,u,d,f=1,h=10,g=t,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(an+(g.s?"NaN":"-Infinity"));if(g.eq($r))return new v(0);if(e==null?(dt=!1,u=y):u=e,g.eq(10))return e==null&&(dt=!0),bg(v,u);if(u+=h,v.precision=u,r=Rn(x),n=r.charAt(0),a=jt(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Rn(g.d),n=r.charAt(0),f++;a=jt(g),n>1?(g=new v("0."+r),a++):g=new v(n+"."+r.slice(1))}else return c=bg(v,u+2,y).times(a+""),g=Yc(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=y,e==null?(dt=!0,Ze(g,y)):g;for(s=o=g=li(g.minus($r),g.plus($r),u),d=Ze(g.times(g),u),i=3;;){if(o=Ze(o.times(d),u),c=s.plus(li(o,new v(i),u)),Rn(c.d).slice(0,u)===Rn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(bg(v,u+2,y).times(a+""))),s=li(s,new v(f),u),v.precision=y,e==null?(dt=!0,Ze(s,y)):s;s=c,i+=2}}function lN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=sl(r/st),t.d=[],n=(r+1)%st,r<0&&(n+=st),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=st;n<i;)t.d.push(+e.slice(n,n+=st));e=e.slice(n),n=st-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>rh||t.e<-rh))throw Error(kb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,r){var n,i,a,o,s,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=st,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/st),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=st,i=n-st+o}if(r!==void 0&&(a=ba(10,o-i-1),s=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/ba(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=jt(t),f.length=1,e=e-a-1,f[0]=ba(10,(st-e%st)%st),t.e=sl(-e/st)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ba(10,st-n),f[d]=i>0?(u/ba(10,o-i)%ba(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Bt&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Bt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(dt&&(t.e>rh||t.e<-rh))throw Error(kb+jt(t));return t}function XP(t,e){var r,n,i,a,o,s,c,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),dt?Ze(e,g):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),i=Math.max(Math.ceil(g/st),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Bt-1;--c[a],c[i]+=Bt}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,dt?Ze(e,g):e):new h(0)}function Ka(t,e,r){var n,i=jt(t),a=Rn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Oi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oi(-i-1)+a,r&&(n=r-o)>0&&(a+=Oi(n))):i>=o?(a+=Oi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Oi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Oi(n))),t.s<0?"-"+a:a}function cN(t,e){if(t.length>e)return t.length=e,!0}function QP(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(La+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return lN(o,a.toString())}else if(typeof a!="string")throw Error(La+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,RQ.test(a))lN(o,a);else throw Error(La+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QP,i.config=i.set=MQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function MQ(t){if(!t||typeof t!="object")throw Error(an+"Object expected");var e,r,n,i=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(sl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(La+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(La+r+": "+n);return this}var Eb=QP(OQ);$r=new Eb(1);const Qe=Eb;function $Q(t){return FQ(t)||UQ(t)||LQ(t)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(t,e)}}function UQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FQ(t){if(Array.isArray(t))return bv(t)}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BQ=function(e){return e},ZP={},eI=function(e){return e===ZP},uN=function(e){return function r(){return arguments.length===0||arguments.length===1&&eI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},qQ=function t(e,r){return e===1?r:uN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==ZP}).length;return o>=e?r.apply(void 0,i):t(e-o,uN(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=i.map(function(f){return eI(f)?c.shift():f});return r.apply(void 0,$Q(d).concat(c))}))})},Gp=function(e){return qQ(e.length,e)},wv=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},VQ=Gp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),GQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return BQ;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},_v=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,c){return s===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function HQ(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function zQ(t,e,r){for(var n=new Qe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var WQ=Gp(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),KQ=Gp(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),JQ=Gp(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Hp={rangeStep:zQ,getDigitCount:HQ,interpolateNumber:WQ,uninterpolateNumber:KQ,uninterpolateTruncation:JQ};function Sv(t){return QQ(t)||XQ(t)||rI(t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function QQ(t){if(Array.isArray(t))return Nv(t)}function Xc(t,e){return tZ(t)||eZ(t,e)||rI(t,e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rI(t,e){if(t){if(typeof t=="string")return Nv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nv(t,e)}}function Nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eZ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function tZ(t){if(Array.isArray(t))return t}function nI(t){var e=Xc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function iI(t,e,r){if(t.lte(0))return new Qe(0);var n=Hp.getDigitCount(t.toNumber()),i=new Qe(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Qe(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return e?c:new Qe(Math.ceil(c))}function rZ(t,e,r){var n=1,i=new Qe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Qe(10).pow(Hp.getDigitCount(t)-1),i=new Qe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):r||(i=new Qe(Math.floor(t)));var o=Math.floor((e-1)/2),s=GQ(VQ(function(c){return i.add(new Qe(c-o).mul(n)).toNumber()}),wv);return s(0,e)}function aI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var a=iI(new Qe(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Qe(0):(o=new Qe(t).add(e).div(2),o=o.sub(new Qe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Qe(e).sub(o).div(a).toNumber()),u=s+c+1;return u>r?aI(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Qe(s).mul(a)),tickMax:o.add(new Qe(c).mul(a))})}function nZ(t){var e=Xc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=nI([r,n]),c=Xc(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Sv(wv(0,i-1).map(function(){return 1/0}))):[].concat(Sv(wv(0,i-1).map(function(){return-1/0})),[d]);return r>n?_v(f):f}if(u===d)return rZ(u,i,a);var h=aI(u,d,o,a),g=h.step,x=h.tickMin,v=h.tickMax,y=Hp.rangeStep(x,v.add(new Qe(.1).mul(g)),g);return r>n?_v(y):y}function iZ(t,e){var r=Xc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nI([n,i]),s=Xc(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=iI(new Qe(u).sub(c).div(d-1),a,0),h=[].concat(Sv(Hp.rangeStep(new Qe(c),new Qe(u).sub(new Qe(.99).mul(f)),f)),[u]);return n>i?_v(h):h}var aZ=tI(nZ),oZ=tI(iZ),sZ="Invariant failed";function Ja(t,e){throw new Error(sZ)}var lZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}function cZ(t,e){return hZ(t)||fZ(t,e)||dZ(t,e)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return dN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hZ(t){if(Array.isArray(t))return t}function pZ(t,e){if(t==null)return{};var r=mZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lI(n.key),n)}}function vZ(t,e,r){return e&&yZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xZ(t,e,r){return e=ih(e),bZ(t,oI()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function bZ(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(t)}function wZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oI=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}function _Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kv(t,e)}function sI(t,e,r){return e=lI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lI(t){var e=SZ(t,"string");return ks(e)=="symbol"?e:e+""}function SZ(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lu=function(t){function e(){return gZ(this,e),xZ(this,e,arguments)}return _Z(e,t),vZ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=pZ(n,lZ),g=Ae(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ja();var x=c.map(function(v){var y=u(v,s),b=y.x,_=y.y,w=y.value,k=y.errorVal;if(!k)return null;var S=[],N,E;if(Array.isArray(k)){var C=cZ(k,2);N=C[0],E=C[1]}else N=E=k;if(a==="vertical"){var A=d.scale,I=_+i,$=I+o,U=I-o,O=A(w-N),M=A(w+E);S.push({x1:M,y1:$,x2:M,y2:U}),S.push({x1:O,y1:I,x2:M,y2:I}),S.push({x1:O,y1:$,x2:O,y2:U})}else if(a==="horizontal"){var P=f.scale,D=b+i,B=D-o,F=D+o,W=P(w-N),K=P(w+E);S.push({x1:B,y1:K,x2:F,y2:K}),S.push({x1:D,y1:W,x2:D,y2:K}),S.push({x1:B,y1:W,x2:F,y2:W})}return L.createElement(He,nh({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},g),S.map(function(ee){return L.createElement("line",nh({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return L.createElement(He,{className:"recharts-errorBars"},x)}}])}(L.Component);sI(Lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sI(Lu,"displayName","ErrorBar");function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function fN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(r),!0).forEach(function(n){NZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NZ(t,e,r){return e=kZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kZ(t){var e=EZ(t,"string");return Qc(e)=="symbol"?e:e+""}function EZ(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ir(r,Xi);if(!o)return null;var s=Xi.defaultProps,c=s!==void 0?fa(fa({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?fa(fa({},h),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,b=g.hide;return{inactive:b,dataKey:x,type:c.iconType||y||"square",color:Tb(f),value:v||x,payload:g}}),fa(fa(fa({},c),Xi.getWithHeight(o,i)),{},{payload:u,item:o})};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function hN(t){return jZ(t)||CZ(t)||AZ(t)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(t,e){if(t){if(typeof t=="string")return Ev(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ev(t,e)}}function CZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jZ(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(r),!0).forEach(function(n){rs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rs(t,e,r){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PZ(t){var e=IZ(t,"string");return Zc(e)=="symbol"?e:e+""}function IZ(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,r){return Le(t)||Le(e)?r:Ut(e)?Ur(t,e,r):Re(e)?e(t):r}function ac(t,e,r,n){var i=CQ(t,function(s){return Dt(s,e)});if(r==="number"){var a=i.filter(function(s){return de(s)||parseFloat(s)});return a.length?[Vp(a),qp(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Le(s)}):i;return o.map(function(s){return Ut(s)||s instanceof Date?s:""})}var OZ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(fr(f-d)!==fr(h-f)){var x=[];if(fr(h-f)===fr(c[1]-c[0])){g=h;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=h+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=i[u].index;break}}else{var _=Math.min(d,h),w=Math.max(d,h);if(e>(_+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},Tb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},RZ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var d=a[s[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var x=d[f[h]],v=x.items,y=x.cateAxisId,b=v.filter(function(E){return si(E.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?wt(wt({},_),b[0].props):b[0].props,k=w.barSize,S=w[y];o[S]||(o[S]=[]);var N=Le(k)?r:k;o[S].push({item:b[0],stackList:b.slice(1),barSize:Le(N)?void 0:hr(N,n,0)})}}return o},MZ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,c=o.length;if(c<1)return null;var u=hr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/c,x=o.reduce(function(k,S){return k+S.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(h=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(k,S){var N={item:S.item,position:{offset:y.offset+y.size+u,size:h?g:S.barSize}},E=[].concat(hN(k),[N]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:y})}),E},f)}else{var b=hr(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var _=(i-2*b-(c-1)*u)/c;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;d=o.reduce(function(k,S,N){var E=[].concat(hN(k),[{item:S.item,position:{offset:b+(_+u)*N+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return d},$Z=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=cI({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&de(e[g]))return wt(wt({},e),{},rs({},g,e[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&de(e[x]))return wt(wt({},e),{},rs({},x,e[x]+(h||0)))}return e},DZ=function(e,r,n){return Le(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uI=function(e,r,n,i,a){var o=r.props.children,s=Fr(o,Lu).filter(function(u){return DZ(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Dt(d,n);if(Le(f))return u;var h=Array.isArray(f)?[Vp(f),qp(f)]:[f,f],g=c.reduce(function(x,v){var y=Dt(d,v,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},LZ=function(e,r,n,i,a){var o=r.map(function(s){return uI(e,s,n,a,i)}).filter(function(s){return!Le(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},dI=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&uI(e,c,u,i)||ac(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},fI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},hI=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,s=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||s.push(r),o||s.push(n),s},ii=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?fr(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Pu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},wg=new WeakMap,bd=function(e,r){if(typeof r!="function")return e;wg.has(e)||wg.set(e,new WeakMap);var n=wg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pI=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Hc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Qf(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ic(),realScaleType:"point"}:a==="category"?{scale:Hc(),realScaleType:"band"}:{scale:Qf(),realScaleType:"linear"};if(Ha(i)){var c="scale".concat(Ap(i));return{scale:(sN[c]||ic)(),realScaleType:sN[c]?c:"point"}}return Re(i)?{scale:i}:{scale:ic(),realScaleType:"point"}},mN=1e-4,mI=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-mN,o=Math.max(i[0],i[1])+mN,s=e(r[0]),c=e(r[n-1]);(s<a||s>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},UZ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},FZ=function(e,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<n)&&(a[0]=n),(!de(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},BZ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var c=Pu(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+c,o=e[s][n][1])}},qZ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Pu(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},VZ={sign:BZ,expand:lq,none:ys,silhouette:cq,wiggle:uq,positive:qZ},GZ=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=VZ[n],o=sq().keys(i).value(function(s,c){return+Dt(s,c,0)}).order(Xy).offset(a);return o(e)},HZ=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,h){var g,x=(g=h.type)!==null&&g!==void 0&&g.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,v=x.stackId,y=x.hide;if(y)return f;var b=x[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(Ut(v)){var w=_.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[v]=w}else _.stackGroups[tl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wt(wt({},f),{},rs({},b,_))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var b=g.stackGroups[y];return wt(wt({},v),{},rs({},y,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:GZ(e,b.items,a)}))},x)}return wt(wt({},f),{},rs({},h,g))},d)},gI=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=aZ(u,a,s);return e.domain([Vp(d),qp(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=oZ(f,a,s);return{niceTicks:h}}return null};function gN(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Le(i[e.dataKey])){var s=Pf(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Dt(i,Le(o)?e.dataKey:o);return Le(c)?null:e.scale(c)}var yN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var c=Dt(o,r.dataKey,r.domain[s]);return Le(c)?null:r.scale(c)-a/2+i},zZ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},WZ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ut(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},KZ=function(e){return e.reduce(function(r,n){return[Vp(n.concat([r[0]]).filter(de)),qp(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},yI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,c=s.reduce(function(u,d){var f=KZ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tv=function(e,r,n){if(Re(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(de(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(vN.test(e[0])){var a=+vN.exec(e[0])[1];i[0]=r[0]-a}else Re(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(de(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(xN.test(e[1])){var o=+xN.exec(e[1])[1];i[1]=r[1]+o}else Re(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ah=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=tb(r,function(f){return f.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},bN=function(e,r,n){return!e||!e.length||Du(e,Ur(n,"type.defaultProps.domain"))?r:e},vI=function(e,r){var n=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return wt(wt({},Ae(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Tb(e),value:Dt(r,i),type:c,payload:r,chartType:u,hide:d})};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){xI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xI(t,e,r){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JZ(t){var e=YZ(t,"string");return eu(e)=="symbol"?e:e+""}function YZ(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XZ(t,e){return tee(t)||eee(t,e)||ZZ(t,e)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(t,e){if(t){if(typeof t=="string")return _N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _N(t,e)}}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tee(t){if(Array.isArray(t))return t}var oh=Math.PI/180,ree=function(e){return e*180/Math.PI},it=function(e,r,n,i){return{x:e+Math.cos(-oh*i)*n,y:r+Math.sin(-oh*i)*n}},bI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nee=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.startAngle,u=e.endAngle,d=hr(e.cx,o,o/2),f=hr(e.cy,s,s/2),h=bI(o,s,n),g=hr(e.innerRadius,h,0),x=hr(e.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(y,b){var _=r[b],w=_.domain,k=_.reversed,S;if(Le(_.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[g,x]),k&&(S=[S[1],S[0]]);else{S=_.range;var N=S,E=XZ(N,2);c=E[0],u=E[1]}var C=pI(_,a),A=C.realScaleType,I=C.scale;I.domain(w).range(S),mI(I);var $=gI(I,Qn(Qn({},_),{},{realScaleType:A})),U=Qn(Qn(Qn({},_),$),{},{range:S,radius:x,realScaleType:A,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Qn(Qn({},y),{},xI({},b,U))},{})},iee=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},aee=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=iee({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(n-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:ree(u),angleInRadian:u}},oee=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},see=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},SN=function(e,r){var n=e.x,i=e.y,a=aee({x:n,y:i},r),o=a.radius,s=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=oee(r),f=d.startAngle,h=d.endAngle,g=s,x;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=f}return x?Qn(Qn({},r),{},{radius:o,angle:see(g,r)}):null},wI=function(e){return!T.isValidElement(e)&&!Re(e)&&typeof e!="boolean"?e.className:""};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var lee=["offset"];function cee(t){return hee(t)||fee(t)||dee(t)||uee()}function uee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t,e){if(t){if(typeof t=="string")return Av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Av(t,e)}}function fee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hee(t){if(Array.isArray(t))return Av(t)}function Av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pee(t,e){if(t==null)return{};var r=mee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(r),!0).forEach(function(n){gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gee(t,e,r){return e=yee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yee(t){var e=vee(t,"string");return tu(e)=="symbol"?e:e+""}function vee(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ru.apply(this,arguments)}var xee=function(e){var r=e.value,n=e.formatter,i=Le(e.children)?r:e.children;return Re(n)?n(i):i},bee=function(e,r){var n=fr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},wee=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+h)/2,b=bee(g,x),_=b>=0?1:-1,w,k;i==="insideStart"?(w=g+_*o,k=v):i==="insideEnd"?(w=x-_*o,k=!v):i==="end"&&(w=x+_*o,k=v),k=b<=0?k:!k;var S=it(u,d,y,w),N=it(u,d,y,w+(k?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Le(e.id)?tl("recharts-radial-line-"):e.id;return L.createElement("text",ru({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:C,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(C)},r))},_ee=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var g=it(o,s,u+n,h),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=it(o,s,y,h),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},See=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,b=v>0?"end":"start",_=v>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Ot(Ot({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var k={x:s+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Ot(Ot({},k),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:s-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ot(Ot({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var N={x:s+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Ot(Ot({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?Ot({x:s+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Ot({x:s+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?Ot({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},E):a==="insideBottom"?Ot({x:s+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},E):a==="insideTopLeft"?Ot({x:s+y,y:c+h,textAnchor:_,verticalAnchor:x},E):a==="insideTopRight"?Ot({x:s+u-y,y:c+h,textAnchor:b,verticalAnchor:x},E):a==="insideBottomLeft"?Ot({x:s+y,y:c+d-h,textAnchor:_,verticalAnchor:g},E):a==="insideBottomRight"?Ot({x:s+u-y,y:c+d-h,textAnchor:b,verticalAnchor:g},E):Xs(a)&&(de(a.x)||Ca(a.x))&&(de(a.y)||Ca(a.y))?Ot({x:s+hr(a.x,u),y:c+hr(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):Ot({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Nee=function(e){return"cx"in e&&de(e.cx)};function Vt(t){var e=t.offset,r=e===void 0?5:e,n=pee(t,lee),i=Ot({offset:r},n),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Le(s)&&Le(c)&&!T.isValidElement(u)&&!Re(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var g;if(Re(u)){if(g=T.createElement(u,i),T.isValidElement(g))return g}else g=xee(i);var x=Nee(a),v=Ae(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wee(i,g,v);var y=x?_ee(i):See(i);return L.createElement(Wa,ru({className:Ue("recharts-label",f)},v,y,{breakAll:h}),g)}Vt.displayName="Label";var _I=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,x=e.left,v=e.width,y=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(de(v)&&de(y)){if(de(f)&&de(h))return{x:f,y:h,width:v,height:y};if(de(g)&&de(x))return{x:g,y:x,width:v,height:y}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},kee=function(e,r){return e?e===!0?L.createElement(Vt,{key:"label-implicit",viewBox:r}):Ut(e)?L.createElement(Vt,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Vt?T.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Vt,{key:"label-implicit",content:e,viewBox:r}):Re(e)?L.createElement(Vt,{key:"label-implicit",content:e,viewBox:r}):Xs(e)?L.createElement(Vt,ru({viewBox:r},e,{key:"label-implicit"})):null:null},Eee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=_I(e),o=Fr(i,Vt).map(function(c,u){return T.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=kee(e.label,r||a);return[s].concat(cee(o))};Vt.parseViewBox=_I;Vt.renderCallByParent=Eee;function Tee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Aee=Tee;const Cee=Ye(Aee);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var jee=["valueAccessor"],Pee=["data","dataKey","clockWise","id","textBreakAll"];function Iee(t){return $ee(t)||Mee(t)||Ree(t)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(t,e){if(t){if(typeof t=="string")return Cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(t,e)}}function Mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ee(t){if(Array.isArray(t))return Cv(t)}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sh.apply(this,arguments)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){Dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dee(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=Uee(t,"string");return nu(e)=="symbol"?e:e+""}function Uee(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TN(t,e){if(t==null)return{};var r=Fee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bee=function(e){return Array.isArray(e.value)?Cee(e.value):e.value};function ci(t){var e=t.valueAccessor,r=e===void 0?Bee:e,n=TN(t,jee),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=TN(n,Pee);return!i||!i.length?null:L.createElement(He,{className:"recharts-label-list"},i.map(function(d,f){var h=Le(a)?r(d,f):Dt(d&&d.payload,a),g=Le(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(Vt,sh({},Ae(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Vt.parseViewBox(Le(o)?d:EN(EN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ci.displayName="LabelList";function qee(t,e){return t?t===!0?L.createElement(ci,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Re(t)?L.createElement(ci,{key:"labelList-implicit",data:e,content:t}):Xs(t)?L.createElement(ci,sh({data:e},t,{key:"labelList-implicit"})):null:null}function Vee(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Fr(n,ci).map(function(o,s){return T.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=qee(t.label,e);return[a].concat(Iee(i))}ci.renderCallByParent=Vee;function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jv.apply(this,arguments)}function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){Gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gee(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=zee(t,"string");return iu(e)=="symbol"?e:e+""}function zee(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wee=function(e,r){var n=fr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},wd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(s?1:-1)+i,f=Math.asin(c/d)/oh,h=u?a:a+o*f,g=it(r,n,d,h),x=it(r,n,i,h),v=u?a-o*f:a,y=it(r,n,d*Math.cos(f*oh),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},SI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,c=Wee(o,s),u=o+c,d=it(r,n,a,o),f=it(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=it(r,n,i,o),x=it(r,n,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Kee=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=fr(d-u),h=wd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=h.circleTangency,x=h.lineTangency,v=h.theta,y=wd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,_=y.lineTangency,w=y.theta,k=c?Math.abs(u-d):Math.abs(u-d)-v-w;if(k<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):SI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var N=wd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,C=N.lineTangency,A=N.theta,I=wd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=I.circleTangency,U=I.lineTangency,O=I.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-O;if(M<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Jee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NI=function(e){var r=CN(CN({},Jee),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var g=Ue("recharts-sector",h),x=o-a,v=hr(s,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=Kee({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=SI({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",jv({},Ae(r,!0),{className:g,d:y,role:"img"}))};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pv.apply(this,arguments)}function jN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(r),!0).forEach(function(n){Yee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yee(t,e,r){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xee(t){var e=Qee(t,"string");return au(e)=="symbol"?e:e+""}function Qee(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN={curveBasisClosed:Y8,curveBasisOpen:X8,curveBasis:J8,curveBumpX:M8,curveBumpY:$8,curveLinearClosed:Q8,curveLinear:jp,curveMonotoneX:Z8,curveMonotoneY:eq,curveNatural:tq,curveStep:rq,curveStepAfter:iq,curveStepBefore:nq},_d=function(e){return e.x===+e.x&&e.y===+e.y},Al=function(e){return e.x},Cl=function(e){return e.y},Zee=function(e,r){if(Re(e))return e;var n="curve".concat(Ap(e));return(n==="curveMonotone"||n==="curveBump")&&r?IN["".concat(n).concat(r==="vertical"?"Y":"X")]:IN[n]||jp},ete=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Zee(n,s),f=u?a.filter(function(v){return _d(v)}):a,h;if(Array.isArray(o)){var g=u?o.filter(function(v){return _d(v)}):o,x=f.map(function(v,y){return PN(PN({},v),{},{base:g[y]})});return s==="vertical"?h=fd().y(Cl).x1(Al).x0(function(v){return v.base.x}):h=fd().x(Al).y1(Cl).y0(function(v){return v.base.y}),h.defined(_d).curve(d),h(x)}return s==="vertical"&&de(o)?h=fd().y(Cl).x1(Al).x0(o):de(o)?h=fd().x(Al).y1(Cl).y0(o):h=v2().x(Al).y(Cl),h.defined(_d).curve(d),h(f)},lh=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?ete(e):i;return T.createElement("path",Pv({},Ae(e,!1),If(e),{className:Ue("recharts-curve",r),d:o,ref:a}))},kI={exports:{}},tte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rte=tte,nte=rte;function EI(){}function TI(){}TI.resetWarningCache=EI;var ite=function(){function t(n,i,a,o,s,c){if(c!==nte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TI,resetWarningCache:EI};return r.PropTypes=r,r};kI.exports=ite();var ate=kI.exports;const Ke=Ye(ate),{getOwnPropertyNames:ote,getOwnPropertySymbols:ste}=Object,{hasOwnProperty:lte}=Object.prototype;function _g(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Sd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function cte(t){return t!=null?t[Symbol.toStringTag]:void 0}function ON(t){return ote(t).concat(ste(t))}const ute=Object.hasOwn||((t,e)=>lte.call(t,e));function so(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const dte="__v",fte="__o",hte="_owner",{getOwnPropertyDescriptor:RN,keys:MN}=Object;function pte(t,e){return t.byteLength===e.byteLength&&ch(new Uint8Array(t),new Uint8Array(e))}function mte(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function gte(t,e){return t.byteLength===e.byteLength&&ch(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function yte(t,e){return so(t.getTime(),e.getTime())}function vte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xte(t,e){return t===e}function $N(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,s,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=o.value,g=s.value;if(r.equals(h[0],g[0],c,f,t,e,r)&&r.equals(h[1],g[1],h[0],g[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const bte=so;function wte(t,e,r){const n=MN(t);let i=n.length;if(MN(e).length!==i)return!1;for(;i-- >0;)if(!AI(t,e,r,n[i]))return!1;return!0}function jl(t,e,r){const n=ON(t);let i=n.length;if(ON(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=n[i],!AI(t,e,r,a)||(o=RN(t,a),s=RN(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function _te(t,e){return so(t.valueOf(),e.valueOf())}function Ste(t,e){return t.source===e.source&&t.flags===e.flags}function DN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(s=c.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function ch(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Nte(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AI(t,e,r,n){return(n===hte||n===fte||n===dte)&&(t.$$typeof||e.$$typeof)?!0:ute(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const kte="[object ArrayBuffer]",Ete="[object Arguments]",Tte="[object Boolean]",Ate="[object DataView]",Cte="[object Date]",jte="[object Error]",Pte="[object Map]",Ite="[object Number]",Ote="[object Object]",Rte="[object RegExp]",Mte="[object Set]",$te="[object String]",Dte={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Lte="[object URL]",Ute=Object.prototype.toString;function Fte({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:x}){return function(y,b,_){if(y===b)return!0;if(y==null||b==null)return!1;const w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(y,b,_):w==="function"?a(y,b,_):!1;const k=y.constructor;if(k!==b.constructor)return!1;if(k===Object)return c(y,b,_);if(Array.isArray(y))return e(y,b,_);if(k===Date)return n(y,b,_);if(k===RegExp)return d(y,b,_);if(k===Map)return o(y,b,_);if(k===Set)return f(y,b,_);const S=Ute.call(y);if(S===Cte)return n(y,b,_);if(S===Rte)return d(y,b,_);if(S===Pte)return o(y,b,_);if(S===Mte)return f(y,b,_);if(S===Ote)return typeof y.then!="function"&&typeof b.then!="function"&&c(y,b,_);if(S===Lte)return g(y,b,_);if(S===jte)return i(y,b,_);if(S===Ete)return c(y,b,_);if(Dte[S])return h(y,b,_);if(S===kte)return t(y,b,_);if(S===Ate)return r(y,b,_);if(S===Tte||S===Ite||S===$te)return u(y,b,_);if(x){let N=x[S];if(!N){const E=cte(y);E&&(N=x[E])}if(N)return N(y,b,_)}return!1}}function Bte({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:pte,areArraysEqual:r?jl:mte,areDataViewsEqual:gte,areDatesEqual:yte,areErrorsEqual:vte,areFunctionsEqual:xte,areMapsEqual:r?_g($N,jl):$N,areNumbersEqual:bte,areObjectsEqual:r?jl:wte,arePrimitiveWrappersEqual:_te,areRegExpsEqual:Ste,areSetsEqual:r?_g(DN,jl):DN,areTypedArraysEqual:r?_g(ch,jl):ch,areUrlsEqual:Nte,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Sd(n.areArraysEqual),a=Sd(n.areMapsEqual),o=Sd(n.areObjectsEqual),s=Sd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return n}function qte(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Vte({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(s,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(s,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(s,c){return e(s,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(s,c){return e(s,c,a)}}const Gte=la();la({strict:!0});la({circular:!0});la({circular:!0,strict:!0});la({createInternalComparator:()=>so});la({strict:!0,createInternalComparator:()=>so});la({circular:!0,createInternalComparator:()=>so});la({circular:!0,createInternalComparator:()=>so,strict:!0});function la(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Bte(t),o=Fte(a),s=r?r(o):qte(o);return Vte({circular:e,comparator:o,createState:n,equals:s,strict:i})}function Hte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function LN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Hte(i)};requestAnimationFrame(n)}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function zte(t){return Yte(t)||Jte(t)||Kte(t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return UN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(t,e)}}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yte(t){if(Array.isArray(t))return t}function Xte(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=zte(o),c=s[0],u=s.slice(1);if(typeof c=="number"){LN(i.bind(null,u),c);return}i(c),LN(i.bind(null,u));return}Iv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){CI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CI(t,e,r){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qte(t){var e=Zte(t,"string");return ou(e)==="symbol"?e:String(e)}function Zte(t,e){if(ou(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ere=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},tre=function(e){return e},rre=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},oc=function(e,r){return Object.keys(r).reduce(function(n,i){return BN(BN({},n),{},CI({},i,e(i,r[i])))},{})},qN=function(e,r,n){return e.map(function(i){return"".concat(rre(i)," ").concat(r,"ms ").concat(n)}).join(",")};function nre(t,e){return ore(t)||are(t,e)||jI(t,e)||ire()}function ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ore(t){if(Array.isArray(t))return t}function sre(t){return ure(t)||cre(t)||jI(t)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jI(t,e){if(t){if(typeof t=="string")return Ov(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ov(t,e)}}function cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ure(t){if(Array.isArray(t))return Ov(t)}function Ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uh=1e-4,PI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},II=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},VN=function(e,r){return function(n){var i=PI(e,r);return II(i,n)}},dre=function(e,r){return function(n){var i=PI(e,r),a=[].concat(sre(i.map(function(o,s){return o*s}).slice(1)),[0]);return II(a,n)}},GN=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=nre(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=VN(i,o),h=VN(a,s),g=dre(i,o),x=function(b){return b>1?1:b<0?0:b},v=function(b){for(var _=b>1?1:b,w=_,k=0;k<8;++k){var S=f(w)-_,N=g(w);if(Math.abs(S-_)<uh||N<uh)return h(w);w=x(w-S/N)}return h(w)};return v.isStepper=!1,v},fre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,c=function(d,f,h){var g=-(d-f)*n,x=h*a,v=h+(g-x)*s/1e3,y=h*s/1e3+d;return Math.abs(y-f)<uh&&Math.abs(v)<uh?[f,0]:[y,v]};return c.isStepper=!0,c.dt=s,c},hre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GN(i);case"spring":return fre();default:if(i.split("(")[0]==="cubic-bezier")return GN(i)}return typeof i=="function"?i:null};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function HN(t){return gre(t)||mre(t)||OI(t)||pre()}function pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gre(t){if(Array.isArray(t))return Mv(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){Rv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rv(t,e,r){return e=yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=vre(t,"string");return su(e)==="symbol"?e:String(e)}function vre(t,e){if(su(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xre(t,e){return _re(t)||wre(t,e)||OI(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OI(t,e){if(t){if(typeof t=="string")return Mv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mv(t,e)}}function Mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _re(t){if(Array.isArray(t))return t}var dh=function(e,r,n){return e+(r-e)*n},$v=function(e){var r=e.from,n=e.to;return r!==n},Sre=function t(e,r,n){var i=oc(function(a,o){if($v(o)){var s=e(o.from,o.to,o.velocity),c=xre(s,2),u=c[0],d=c[1];return Yt(Yt({},o),{},{from:u,velocity:d})}return o},r);return n<1?oc(function(a,o){return $v(o)?Yt(Yt({},o),{},{velocity:dh(o.velocity,i[a].velocity,n),from:dh(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Nre=function(t,e,r,n,i){var a=ere(t,e),o=a.reduce(function(y,b){return Yt(Yt({},y),{},Rv({},b,[t[b],e[b]]))},{}),s=a.reduce(function(y,b){return Yt(Yt({},y),{},Rv({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return oc(function(b,_){return _.from},s)},g=function(){return!Object.values(s).filter($v).length},x=function(b){u||(u=b);var _=b-u,w=_/r.dt;s=Sre(r,s,w),i(Yt(Yt(Yt({},t),e),h())),u=b,g()||(c=requestAnimationFrame(f))},v=function(b){d||(d=b);var _=(b-d)/n,w=oc(function(S,N){return dh.apply(void 0,HN(N).concat([r(_)]))},o);if(i(Yt(Yt(Yt({},t),e),w)),_<1)c=requestAnimationFrame(f);else{var k=oc(function(S,N){return dh.apply(void 0,HN(N).concat([r(1)]))},o);i(Yt(Yt(Yt({},t),e),k))}};return f=r.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}var kre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ere(t,e){if(t==null)return{};var r=Tre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tre(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Sg(t){return Pre(t)||jre(t)||Cre(t)||Are()}function Are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return Dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dv(t,e)}}function jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pre(t){if(Array.isArray(t))return Dv(t)}function Dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){Fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fl(t,e,r){return e=RI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ore(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RI(n.key),n)}}function Rre(t,e,r){return e&&Ore(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RI(t){var e=Mre(t,"string");return Es(e)==="symbol"?e:String(e)}function Mre(t,e){if(Es(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lv(t,e)}function Dre(t){var e=Lre();return function(){var n=fh(t),i;if(e){var a=fh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Uv(this,i)}}function Uv(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fv(t)}function Fv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(t)}var Bn=function(t){$re(r,t);var e=Dre(r);function r(n,i){var a;Ire(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Fv(a)),a.changeStyle=a.changeStyle.bind(Fv(a)),!s||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Uv(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Uv(a);a.state={style:c?Fl({},c,u):u}}else a.state={style:{}};return a}return Rre(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var g={style:c?Fl({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(Gte(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&h){var y={style:c?Fl({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(y)}this.runAnimation(dn(dn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=Nre(o,s,hre(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(v,y,b){if(b===0)return v;var _=y.duration,w=y.easing,k=w===void 0?"ease":w,S=y.style,N=y.properties,E=y.onAnimationEnd,C=b>0?o[b-1]:y,A=N||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(Sg(v),[a.runJSAnimation.bind(a,{from:C.style,to:S,duration:_,easing:k}),_]);var I=qN(A,_,k),$=dn(dn(dn({},C.style),S),{},{transition:I});return[].concat(Sg(v),[$,_,E]).filter(tre)};return this.manager.start([c].concat(Sg(o.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xte());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?Fl({},s,c):c,y=qN(Object.keys(v),o,u);x.start([d,a,dn(dn({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Ere(i,kre),u=T.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,b=x.className,_=T.cloneElement(g,dn(dn({},c),{},{style:dn(dn({},y),d),className:b}));return _};return u===1?f(T.Children.only(a)):L.createElement("div",null,T.Children.map(a,function(h){return f(h)}))}}]),r}(T.PureComponent);Bn.displayName="Animate";Bn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bn.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hh.apply(this,arguments)}function Ure(t,e){return Vre(t)||qre(t,e)||Bre(t,e)||Fre()}function Fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vre(t){if(Array.isArray(t))return t}function JN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(r),!0).forEach(function(n){Gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gre(t,e,r){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hre(t){var e=zre(t,"string");return lu(e)=="symbol"?e:e+""}function zre(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XN=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(e,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*x,`
            L `).concat(e+n,",").concat(r+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+i,`
            L `).concat(e+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*x," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Wre=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Kre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ab=function(e){var r=YN(YN({},Kre),e),n=T.useRef(),i=T.useState(-1),a=Ure(i,2),o=a[0],s=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,x=r.animationEasing,v=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ue("recharts-rectangle",g);return _?L.createElement(Bn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:_},function(k){var S=k.width,N=k.height,E=k.x,C=k.y;return L.createElement(Bn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:b,easing:x},L.createElement("path",hh({},Ae(r,!0),{className:w,d:XN(E,C,S,N,h),ref:n})))}):L.createElement("path",hh({},Ae(r,!0),{className:w,d:XN(c,u,d,f,h)}))},Jre=["points","className","baseLinePoints","connectNulls"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(this,arguments)}function Yre(t,e){if(t==null)return{};var r=Xre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QN(t){return tne(t)||ene(t)||Zre(t)||Qre()}function Qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){if(t){if(typeof t=="string")return Bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bv(t,e)}}function ene(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tne(t){if(Array.isArray(t))return Bv(t)}function Bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZN=function(e){return e&&e.x===+e.x&&e.y===+e.y},rne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){ZN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),ZN(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sc=function(e,r){var n=rne(e);r&&(n=[n.reduce(function(a,o){return[].concat(QN(a),QN(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},nne=function(e,r,n){var i=sc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sc(r.reverse(),n).slice(1))},ine=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Yre(e,Jre);if(!r||!r.length)return null;var s=Ue("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=nne(r,i,a);return L.createElement("g",{className:s},L.createElement("path",Bo({},Ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Bo({},Ae(o,!0),{fill:"none",d:sc(r,a)})):null,c?L.createElement("path",Bo({},Ae(o,!0),{fill:"none",d:sc(i,a)})):null)}var d=sc(r,a);return L.createElement("path",Bo({},Ae(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}var zp=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ue("recharts-dot",a);return r===+r&&n===+n&&i===+i?T.createElement("circle",qv({},Ae(e,!1),If(e),{className:o,cx:r,cy:n,r:i})):null};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var ane=["x","y","top","left","width","height","className"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function one(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){sne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sne(t,e,r){return e=lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lne(t){var e=cne(t,"string");return cu(e)=="symbol"?e:e+""}function cne(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function une(t,e){if(t==null)return{};var r=dne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fne=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},hne=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,x=e.className,v=une(e,ane),y=one({x:n,y:a,top:s,left:u,width:f,height:g},v);return!de(n)||!de(a)||!de(f)||!de(g)||!de(s)||!de(u)?null:L.createElement("path",Vv({},Ae(y,!0),{className:Ue("recharts-cross",x),d:fne(n,a,f,g,s,u)}))},pne=Bp,mne=zP,gne=Hn;function yne(t,e){return t&&t.length?pne(t,gne(e),mne):void 0}var vne=yne;const xne=Ye(vne);var bne=Bp,wne=Hn,_ne=WP;function Sne(t,e){return t&&t.length?bne(t,wne(e),_ne):void 0}var Nne=Sne;const kne=Ye(Nne);var Ene=["cx","cy","angle","ticks","axisLine"],Tne=["ticks","tick","angle","tickFormatter","stroke"];function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){Wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rk(t,e){if(t==null)return{};var r=Ane(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ane(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$I(n.key),n)}}function jne(t,e,r){return e&&nk(t.prototype,e),r&&nk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,r){return e=ph(e),Ine(t,MI()?Reflect.construct(e,r||[],ph(t).constructor):e.apply(t,r))}function Ine(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return One(t)}function One(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(t)}function Rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gv(t,e)}function Wp(t,e,r){return e=$I(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $I(t){var e=Mne(t,"string");return Ts(e)=="symbol"?e:e+""}function Mne(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kp=function(t){function e(){return Cne(this,e),Pne(this,e,arguments)}return Rne(e,t),jne(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return it(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=xne(s,function(d){return d.coordinate||0}),u=kne(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=rk(n,Ene),d=s.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=it(i,a,d[0],o),h=it(i,a,d[1],o),g=ha(ha(ha({},Ae(u,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",lc({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,u=i.stroke,d=rk(i,Tne),f=this.getTickTextAnchor(),h=Ae(d,!1),g=Ae(o,!1),x=a.map(function(v,y){var b=n.getTickValueCoord(v),_=ha(ha(ha(ha({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:y},b),{},{payload:v});return L.createElement(He,lc({className:Ue("recharts-polar-radius-axis-tick",wI(o)),key:"tick-".concat(v.coordinate)},za(n.props,v,y)),e.renderTickItem(o,_,c?c(v.value,y):v.value))});return L.createElement(He,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(He,{className:Ue("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Vt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Wa,lc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(T.PureComponent);Wp(Kp,"displayName","PolarRadiusAxis");Wp(Kp,"axisType","radiusAxis");Wp(Kp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Na.apply(this,arguments)}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){Jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LI(n.key),n)}}function Dne(t,e,r){return e&&ak(t.prototype,e),r&&ak(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lne(t,e,r){return e=mh(e),Une(t,DI()?Reflect.construct(e,r||[],mh(t).constructor):e.apply(t,r))}function Une(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fne(t)}function Fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DI=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(t)}function Bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function Jp(t,e,r){return e=LI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LI(t){var e=qne(t,"string");return As(e)=="symbol"?e:e+""}function qne(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vne=Math.PI/180,ok=1e-5,Yp=function(t){function e(){return $ne(this,e),Lne(this,e,arguments)}return Bne(e,t),Dne(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=it(a,o,s,n.coordinate),h=it(a,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Vne),o;return a>ok?o=i==="outer"?"start":"end":a<-ok?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=pa(pa({},Ae(this.props,!1)),{},{fill:"none"},Ae(s,!1));if(c==="circle")return L.createElement(zp,Na({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return it(i,a,o,h.coordinate)});return L.createElement(ine,Na({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ae(this.props,!1),f=Ae(o,!1),h=pa(pa({},d),{},{fill:"none"},Ae(s,!1)),g=a.map(function(x,v){var y=n.getTickLineCoord(x),b=n.getTickTextAnchor(x),_=pa(pa(pa({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return L.createElement(He,Na({className:Ue("recharts-polar-angle-axis-tick",wI(o)),key:"tick-".concat(x.coordinate)},za(n.props,x,v)),s&&L.createElement("line",Na({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,_,c?c(x.value,v):x.value))});return L.createElement(He,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(He,{className:Ue("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Wa,Na({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(T.PureComponent);Jp(Yp,"displayName","PolarAngleAxis");Jp(Yp,"axisType","angleAxis");Jp(Yp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gne=q2,Hne=Gne(Object.getPrototypeOf,Object),zne=Hne,Wne=_i,Kne=zne,Jne=Si,Yne="[object Object]",Xne=Function.prototype,Qne=Object.prototype,UI=Xne.toString,Zne=Qne.hasOwnProperty,eie=UI.call(Object);function tie(t){if(!Jne(t)||Wne(t)!=Yne)return!1;var e=Kne(t);if(e===null)return!0;var r=Zne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&UI.call(r)==eie}var rie=tie;const nie=Ye(rie);var iie=_i,aie=Si,oie="[object Boolean]";function sie(t){return t===!0||t===!1||aie(t)&&iie(t)==oie}var lie=sie;const cie=Ye(lie);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gh.apply(this,arguments)}function uie(t,e){return pie(t)||hie(t,e)||fie(t,e)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pie(t){if(Array.isArray(t))return t}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ck(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){mie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mie(t,e,r){return e=gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gie(t){var e=yie(t,"string");return uu(e)=="symbol"?e:e+""}function yie(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uk=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},vie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xie=function(e){var r=ck(ck({},vie),e),n=T.useRef(),i=T.useState(-1),a=uie(i,2),o=a[0],s=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,x=r.animationEasing,v=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Ue("recharts-trapezoid",g);return b?L.createElement(Bn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:v,animationEasing:x,isActive:b},function(w){var k=w.upperWidth,S=w.lowerWidth,N=w.height,E=w.x,C=w.y;return L.createElement(Bn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},L.createElement("path",gh({},Ae(r,!0),{className:_,d:uk(E,C,k,S,N),ref:n})))}):L.createElement("g",null,L.createElement("path",gh({},Ae(r,!0),{className:_,d:uk(c,u,d,f,h)})))},bie=["option","shapeType","propTransformer","activeClassName","isActive"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function wie(t,e){if(t==null)return{};var r=_ie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){Sie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sie(t,e,r){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nie(t){var e=kie(t,"string");return du(e)=="symbol"?e:e+""}function kie(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eie(t,e){return yh(yh({},e),t)}function Tie(t,e){return t==="symbols"}function fk(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(Ab,r);case"trapezoid":return L.createElement(xie,r);case"sector":return L.createElement(NI,r);case"symbols":if(Tie(e))return L.createElement(Wx,r);break;default:return null}}function Aie(t){return T.isValidElement(t)?t.props:t}function FI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Eie:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,c=wie(t,bie),u;if(T.isValidElement(e))u=T.cloneElement(e,yh(yh({},c),Aie(e)));else if(Re(e))u=e(c);else if(nie(e)&&!cie(e)){var d=i(e,c);u=L.createElement(fk,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(fk,{shapeType:r,elementProps:f})}return s?L.createElement(He,{className:o},u):u}function Xp(t,e){return e!=null&&"trapezoids"in t.props}function Qp(t,e){return e!=null&&"sectors"in t.props}function fu(t,e){return e!=null&&"points"in t.props}function Cie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function jie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Pie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Iie(t,e){var r;return Xp(t,e)?r=Cie:Qp(t,e)?r=jie:fu(t,e)&&(r=Pie),r}function Oie(t,e){var r;return Xp(t,e)?r="trapezoids":Qp(t,e)?r="sectors":fu(t,e)&&(r="points"),r}function Rie(t,e){if(Xp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fu(t,e)?e.payload:{}}function Mie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Oie(r,e),a=Rie(r,e),o=n.filter(function(c,u){var d=Du(a,c),f=r.props[i].filter(function(x){var v=Iie(r,e);return v(x,e)}),h=r.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),s=n.indexOf(o[o.length-1]);return s}var Gd;function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(this,arguments)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){Xr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qI(n.key),n)}}function Die(t,e,r){return e&&pk(t.prototype,e),r&&pk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lie(t,e,r){return e=vh(e),Uie(t,BI()?Reflect.construct(e,r||[],vh(t).constructor):e.apply(t,r))}function Uie(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fie(t)}function Fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BI=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(t)}function Bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zv(t,e)}function Xr(t,e,r){return e=qI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qI(t){var e=qie(t,"string");return Cs(e)=="symbol"?e:e+""}function qie(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qn=function(t){function e(r){var n;return $ie(this,e),n=Lie(this,e,[r]),Xr(n,"pieRef",null),Xr(n,"sectorRefs",[]),Xr(n,"id",tl("recharts-pie-")),Xr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Re(i)&&i()}),Xr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Re(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Bie(e,t),Die(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ae(this.props,!1),f=Ae(o,!1),h=Ae(s,!1),g=o&&o.offsetRadius||20,x=n.map(function(v,y){var b=(v.startAngle+v.endAngle)/2,_=it(v.cx,v.cy,v.outerRadius+g,b),w=tt(tt(tt(tt({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(_.x,v.cx)},_),k=tt(tt(tt(tt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:y,points:[it(v.cx,v.cy,v.outerRadius,b),_]}),S=c;return Le(c)&&Le(u)?S="value":Le(c)&&(S=u),L.createElement(He,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,k,"line"),e.renderLabelItem(o,w,Dt(v,S)))});return L.createElement(He,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,g=f?o:h,x=tt(tt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return L.createElement(He,qo({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},za(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(FI,qo({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return L.createElement(Bn,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],b=a&&a[0],_=b.startAngle;return a.forEach(function(w,k){var S=h&&h[k],N=k>0?Ur(w,"paddingAngle",0):0;if(S){var E=Or(S.endAngle-S.startAngle,w.endAngle-w.startAngle),C=tt(tt({},w),{},{startAngle:_+N,endAngle:_+E(v)+N});y.push(C),_=C.endAngle}else{var A=w.endAngle,I=w.startAngle,$=Or(0,A-I),U=$(v),O=tt(tt({},w),{},{startAngle:_+N,endAngle:_+U+N});y.push(O),_=O.endAngle}}),L.createElement(He,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Du(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!de(u)||!de(d)||!de(f)||!de(h))return null;var v=Ue("recharts-pie",s);return L.createElement(He,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Vt.renderCallByParent(this.props,null,!1),(!g||x)&&ci.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(Re(n))return n(i);var o=Ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(lh,qo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(Re(n)&&(o=n(i),L.isValidElement(o)))return o;var s=Ue("recharts-pie-label-text",typeof n!="boolean"&&!Re(n)?n.className:"");return L.createElement(Wa,qo({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(T.PureComponent);Gd=qn;Xr(qn,"displayName","Pie");Xr(qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!io.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xr(qn,"parseDeltaAngle",function(t,e){var r=fr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Xr(qn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ae(t,!1),i=Fr(r,qc);return e&&e.length?e.map(function(a,o){return tt(tt(tt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return tt(tt({},n),a.props)}):[]});Xr(qn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=bI(i,a),s=n+hr(t.cx,i,i/2),c=r+hr(t.cy,a,a/2),u=hr(t.innerRadius,o,0),d=hr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Xr(qn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=Gd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),x=Gd.parseCoordinateOfPie(n,r),v=Gd.parseDeltaAngle(o,s),y=Math.abs(v),b=u;Le(u)&&Le(f)?(Nn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Le(u)&&(Nn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var _=i.filter(function(C){return Dt(C,b,0)!==0}).length,w=(y>=360?_:_-1)*c,k=y-_*g-w,S=i.reduce(function(C,A){var I=Dt(A,b,0);return C+(de(I)?I:0)},0),N;if(S>0){var E;N=i.map(function(C,A){var I=Dt(C,b,0),$=Dt(C,d,A),U=(de(I)?I:0)/S,O;A?O=E.endAngle+fr(v)*c*(I!==0?1:0):O=o;var M=O+fr(v)*((I!==0?g:0)+U*k),P=(O+M)/2,D=(x.innerRadius+x.outerRadius)/2,B=[{name:$,value:I,payload:C,dataKey:b,type:h}],F=it(x.cx,x.cy,D,P);return E=tt(tt(tt({percent:U,cornerRadius:a,name:$,tooltipPayload:B,midAngle:P,middleRadius:D,tooltipPosition:F},C),x),{},{value:Dt(C,b),startAngle:O,endAngle:M,payload:C,paddingAngle:fr(v)*c}),E})}return tt(tt({},x),{},{sectors:N,data:i})});var Vie=Math.ceil,Gie=Math.max;function Hie(t,e,r,n){for(var i=-1,a=Gie(Vie((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var zie=Hie,Wie=sP,mk=1/0,Kie=17976931348623157e292;function Jie(t){if(!t)return t===0?t:0;if(t=Wie(t),t===mk||t===-mk){var e=t<0?-1:1;return e*Kie}return t===t?t:0}var VI=Jie,Yie=zie,Xie=Rp,Ng=VI;function Qie(t){return function(e,r,n){return n&&typeof n!="number"&&Xie(e,r,n)&&(r=n=void 0),e=Ng(e),r===void 0?(r=e,e=0):r=Ng(r),n=n===void 0?e<r?1:-1:Ng(n),Yie(e,r,n,t)}}var Zie=Qie,eae=Zie,tae=eae(),rae=tae;const xh=Ye(rae);function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){GI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GI(t,e,r){return e=nae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nae(t){var e=iae(t,"string");return hu(e)=="symbol"?e:e+""}function iae(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aae=["Webkit","Moz","O","ms"],oae=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=aae.reduce(function(a,o){return yk(yk({},a),{},GI({},o+n,r))},{});return i[e]=r,i};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bh.apply(this,arguments)}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zI(n.key),n)}}function lae(t,e,r){return e&&xk(t.prototype,e),r&&xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cae(t,e,r){return e=wh(e),uae(t,HI()?Reflect.construct(e,r||[],wh(t).constructor):e.apply(t,r))}function uae(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(t)}function dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(t)}function fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wv(t,e)}function jr(t,e,r){return e=zI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zI(t){var e=hae(t,"string");return js(e)=="symbol"?e:e+""}function hae(t,e){if(js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ic().domain(xh(0,c)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},bk=function(e){return e.changedTouches&&!!e.changedTouches.length},Ps=function(t){function e(r){var n;return sae(this,e),n=cae(this,e,[r]),jr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),jr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(i){var a=bk(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fae(e,t),lae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),g=e.getIndexInRange(o,f),x=e.getIndexInRange(o,h);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=Dt(a[n],s,n);return Re(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,x=c.onChange,v=n.pageX-a;v>0?v=Math.min(v,u+d-f-s,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-s));var y=this.getIndex({startX:o+v,endX:s+v});(y.startIndex!==h||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=bk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},_=n.pageX-a;_>0?_=Math.min(_,f+h-g-u):_<0&&(_=Math.max(_,f-u)),b[o]=u+_;var w=this.getIndex(b),k=w.startIndex,S=w.endIndex,N=function(){var C=y.length-1;return o==="startX"&&(s>c?k%v===0:S%v===0)||s<c&&S===C||o==="endX"&&(s>c?S%v===0:k%v===0)||s>c&&S===C};this.setState(jr(jr({},o,u+_),"brushMoveStartX",n.pageX),function(){x&&N()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(jr({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=T.Children.only(u);return f?L.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),_=kg(kg({},Ae(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return L.createElement(He,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,x={pointerEvents:"none",fill:u};return L.createElement(He,{className:"recharts-brush-texts"},L.createElement(Wa,bh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:o+s/2},x),this.getTextOfTick(i)),L.createElement(Wa,bh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:o+s/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,x=h.endX,v=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!de(s)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var w=Ue("recharts-brush",a),k=L.Children.count(o)===1,S=oae("userSelect","none");return L.createElement(He,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(a+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Re(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return kg({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?pae({data:a,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>i?s=c:o=c}return i>=n[s]?s:o}}])}(T.PureComponent);jr(Ps,"displayName","Brush");jr(Ps,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mae=eb;function gae(t,e){var r;return mae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var yae=gae,vae=R2,xae=Hn,bae=yae,wae=Er,_ae=Rp;function Sae(t,e,r){var n=wae(t)?vae:bae;return r&&_ae(t,e,r)&&(e=void 0),n(t,xae(e))}var Nae=Sae;const kae=Ye(Nae);var Un=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},wk=rP;function Eae(t,e,r){e=="__proto__"&&wk?wk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Tae=Eae,Aae=Tae,Cae=eP,jae=Hn;function Pae(t,e){var r={};return e=jae(e),Cae(t,function(n,i,a){Aae(r,i,e(n,i,a))}),r}var Iae=Pae;const Oae=Ye(Iae);function Rae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Mae=Rae,$ae=eb;function Dae(t,e){var r=!0;return $ae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Lae=Dae,Uae=Mae,Fae=Lae,Bae=Hn,qae=Er,Vae=Rp;function Gae(t,e,r){var n=qae(t)?Uae:Fae;return r&&Vae(t,e,r)&&(e=void 0),n(t,Bae(e))}var Hae=Gae;const WI=Ye(Hae);var zae=["x","y"];function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(this,arguments)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){Wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wae(t,e,r){return e=Kae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kae(t){var e=Jae(t,"string");return pu(e)=="symbol"?e:e+""}function Jae(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e){if(t==null)return{};var r=Xae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qae(t,e){var r=t.x,n=t.y,i=Yae(t,zae),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Pl(Pl(Pl(Pl(Pl({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function Sk(t){return L.createElement(FI,Kv({shapeType:"rectangle",propTransformer:Qae,activeClassName:"recharts-active-bar"},t))}var Zae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=de(n)||b6(n);return a?e(n,i):(a||Ja(),r)}},eoe=["value","background"],KI;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function toe(t,e){if(t==null)return{};var r=roe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function roe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){Bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YI(n.key),n)}}function ioe(t,e,r){return e&&kk(t.prototype,e),r&&kk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aoe(t,e,r){return e=Sh(e),ooe(t,JI()?Reflect.construct(e,r||[],Sh(t).constructor):e.apply(t,r))}function ooe(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(t)}function soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!t})()}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(t)}function loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jv(t,e)}function Bi(t,e,r){return e=YI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YI(t){var e=coe(t,"string");return Is(e)=="symbol"?e:e+""}function coe(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vn=function(t){function e(){var r;noe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aoe(this,e,[].concat(i)),Bi(r,"state",{isAnimationFinished:!1}),Bi(r,"id",tl("recharts-bar-")),Bi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Bi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return loe(e,t),ioe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ae(this.props,!1);return n&&n.map(function(f,h){var g=h===c,x=g?u:o,v=kt(kt(kt({},d),f),{},{isActive:g,option:x,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(He,_h({className:"recharts-bar-rectangle"},za(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(Sk,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(Bn,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,b){var _=h&&h[b];if(_){var w=Or(_.x,y.x),k=Or(_.y,y.y),S=Or(_.width,y.width),N=Or(_.height,y.height);return kt(kt({},y),{},{x:w(x),y:k(x),width:S(x),height:N(x)})}if(o==="horizontal"){var E=Or(0,y.height),C=E(x);return kt(kt({},y),{},{y:y.y+y.height-C,height:C})}var A=Or(0,y.width),I=A(x);return kt(kt({},y),{},{width:I})});return L.createElement(He,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Du(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=toe(u,eoe);if(!f)return null;var g=kt(kt(kt(kt(kt({},h),{},{fill:"#eee"},f),c),za(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(Sk,_h({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,Lu);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,b){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Dt(y,b)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(He,x,f.map(function(v){return L.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,x=n.background,v=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=Ue("recharts-bar",o),_=s&&s.allowDataOverflow,w=c&&c.allowDataOverflow,k=_||w,S=Le(v)?this.id:v;return L.createElement(He,{className:b},_||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:_?u:u-f/2,y:w?d:d-h/2,width:_?f:f*2,height:w?h:h*2}))):null,L.createElement(He,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!g||y)&&ci.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);KI=Vn;Bi(Vn,"displayName","Bar");Bi(Vn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bi(Vn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=UZ(n,r);if(!g)return null;var x=e.layout,v=r.type.defaultProps,y=v!==void 0?kt(kt({},v),r.props):r.props,b=y.dataKey,_=y.children,w=y.minPointSize,k=x==="horizontal"?o:a,S=u?k.scale.domain():null,N=zZ({numericAxis:k}),E=Fr(_,qc),C=f.map(function(A,I){var $,U,O,M,P,D;u?$=FZ(u[d+I],S):($=Dt(A,b),Array.isArray($)||($=[N,$]));var B=Zae(w,KI.defaultProps.minPointSize)($[1],I);if(x==="horizontal"){var F,W=[o.scale($[0]),o.scale($[1])],K=W[0],ee=W[1];U=yN({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:A,index:I}),O=(F=ee??K)!==null&&F!==void 0?F:void 0,M=g.size;var Y=K-ee;if(P=Number.isNaN(Y)?0:Y,D={x:U,y:o.y,width:M,height:o.height},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var ge=fr(P||B)*(Math.abs(B)-Math.abs(P));O-=ge,P+=ge}}else{var R=[a.scale($[0]),a.scale($[1])],Q=R[0],ue=R[1];if(U=Q,O=yN({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:A,index:I}),M=ue-Q,P=g.size,D={x:a.x,y:O,width:a.width,height:P},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var ye=fr(M||B)*(Math.abs(B)-Math.abs(M));M+=ye}}return kt(kt(kt({},A),{},{x:U,y:O,width:M,height:P,value:u?$:$[1],payload:A,background:D},E&&E[I]&&E[I].props),{},{tooltipPayload:[vI(r,A)],tooltipPosition:{x:U+M/2,y:O+P/2}})});return kt({data:C,layout:x},h)});function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XI(n.key),n)}}function doe(t,e,r){return e&&Ek(t.prototype,e),r&&Ek(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){Zp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zp(t,e,r){return e=XI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XI(t){var e=foe(t,"string");return mu(e)=="symbol"?e:e+""}function foe(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QI=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Ir(u,Vn);return d.reduce(function(g,x){var v=r[x],y=v.orientation,b=v.domain,_=v.padding,w=_===void 0?{}:_,k=v.mirror,S=v.reversed,N="".concat(y).concat(k?"Mirror":""),E,C,A,I,$;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var U=b[1]-b[0],O=1/0,M=v.categoricalDomain.sort(S6);if(M.forEach(function(R,Q){Q>0&&(O=Math.min((R||0)-(M[Q-1]||0),O))}),Number.isFinite(O)){var P=O/U,D=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(E=P*D/2),v.padding==="no-gap"){var B=hr(e.barCategoryGap,P*D),F=P*D/2;E=F-B-(F-B)/D*B}}}i==="xAxis"?C=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:C=v.range,S&&(C=[C[1],C[0]]);var W=pI(v,a,h),K=W.scale,ee=W.realScaleType;K.domain(b).range(C),mI(K);var Y=gI(K,vn(vn({},v),{},{realScaleType:ee}));i==="xAxis"?($=y==="top"&&!k||y==="bottom"&&k,A=n.left,I=f[N]-$*v.height):i==="yAxis"&&($=y==="left"&&!k||y==="right"&&k,A=f[N]-$*v.width,I=n.top);var ge=vn(vn(vn({},v),Y),{},{realScaleType:ee,x:A,y:I,scale:K,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return ge.bandSize=ah(ge,Y),!v.hide&&i==="xAxis"?f[N]+=($?-1:1)*ge.height:v.hide||(f[N]+=($?-1:1)*ge.width),vn(vn({},g),{},Zp({},x,ge))},{})},ZI=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},hoe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return ZI({x:r,y:n},{x:i,y:a})},eO=function(){function t(e){uoe(this,t),this.scale=e}return doe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Zp(eO,"EPS",1e-4);var Cb=function(e){var r=Object.keys(e).reduce(function(n,i){return vn(vn({},n),{},Zp({},i,eO.create(e[i])))},{});return vn(vn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Oae(i,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return WI(i,function(a,o){return r[o].isInRange(a)})}})};function poe(t){return(t%180+180)%180}var moe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=poe(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},goe=Hn,yoe=Iu,voe=Ip;function xoe(t){return function(e,r,n){var i=Object(e);if(!yoe(e)){var a=goe(r);e=voe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var boe=xoe,woe=VI;function _oe(t){var e=woe(t),r=e%1;return e===e?r?e-r:e:0}var Soe=_oe,Noe=K2,koe=Hn,Eoe=Soe,Toe=Math.max;function Aoe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Eoe(r);return i<0&&(i=Toe(n+i,0)),Noe(t,koe(e),i)}var Coe=Aoe,joe=boe,Poe=Coe,Ioe=joe(Poe),Ooe=Ioe;const Roe=Ye(Ooe);var Moe=EB(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jb=T.createContext(void 0),Pb=T.createContext(void 0),tO=T.createContext(void 0),rO=T.createContext({}),nO=T.createContext(void 0),iO=T.createContext(0),aO=T.createContext(0),Ak=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,c=e.width,u=e.height,d=Moe(a);return L.createElement(jb.Provider,{value:n},L.createElement(Pb.Provider,{value:i},L.createElement(rO.Provider,{value:a},L.createElement(tO.Provider,{value:d},L.createElement(nO.Provider,{value:o},L.createElement(iO.Provider,{value:u},L.createElement(aO.Provider,{value:c},s)))))))},$oe=function(){return T.useContext(nO)},oO=function(e){var r=T.useContext(jb);r==null&&Ja();var n=r[e];return n==null&&Ja(),n},Doe=function(){var e=T.useContext(jb);return Di(e)},Loe=function(){var e=T.useContext(Pb),r=Roe(e,function(n){return WI(n.domain,Number.isFinite)});return r||Di(e)},sO=function(e){var r=T.useContext(Pb);r==null&&Ja();var n=r[e];return n==null&&Ja(),n},Uoe=function(){var e=T.useContext(tO);return e},Foe=function(){return T.useContext(rO)},Ib=function(){return T.useContext(aO)},Ob=function(){return T.useContext(iO)};function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cO(n.key),n)}}function Voe(t,e,r){return e&&qoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,e,r){return e=Nh(e),Hoe(t,lO()?Reflect.construct(e,r||[],Nh(t).constructor):e.apply(t,r))}function Hoe(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(t)}function zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yv(t,e)}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){Rb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rb(t,e,r){return e=cO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cO(t){var e=Koe(t,"string");return Os(e)=="symbol"?e:e+""}function Koe(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Joe(t,e){return Zoe(t)||Qoe(t,e)||Xoe(t,e)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return Pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(t,e)}}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Zoe(t){if(Array.isArray(t))return t}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}var ese=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):Re(e)?n=e(r):n=L.createElement("line",Xv({},r,{className:"recharts-reference-line-line"})),n},tse=function(e,r,n,i,a,o,s,c,u){var d=a.x,f=a.y,h=a.width,g=a.height;if(n){var x=u.y,v=e.y.apply(x,{position:o});if(Un(u,"discard")&&!e.y.isInRange(v))return null;var y=[{x:d+h,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(r){var b=u.x,_=e.x.apply(b,{position:o});if(Un(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+g},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var k=u.segment,S=k.map(function(N){return e.apply(N,{position:o})});return Un(u,"discard")&&kae(S,function(N){return!e.isInRange(N)})?null:S}return null};function rse(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,u=$oe(),d=oO(i),f=sO(a),h=Uoe();if(!u||!h)return null;Nn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Cb({x:d.scale,y:f.scale}),x=Ut(e),v=Ut(r),y=n&&n.length===2,b=tse(g,x,v,y,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var _=Joe(b,2),w=_[0],k=w.x,S=w.y,N=_[1],E=N.x,C=N.y,A=Un(t,"hidden")?"url(#".concat(u,")"):void 0,I=jk(jk({clipPath:A},Ae(t,!0)),{},{x1:k,y1:S,x2:E,y2:C});return L.createElement(He,{className:Ue("recharts-reference-line",s)},ese(o,I),Vt.renderCallByParent(t,hoe({x1:k,y1:S,x2:E,y2:C})))}var Mb=function(t){function e(){return Boe(this,e),Goe(this,e,arguments)}return Woe(e,t),Voe(e,[{key:"render",value:function(){return L.createElement(rse,this.props)}}])}(L.Component);Rb(Mb,"displayName","ReferenceLine");Rb(Mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qv.apply(this,arguments)}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ok(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){em(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ise(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dO(n.key),n)}}function ase(t,e,r){return e&&ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ose(t,e,r){return e=kh(e),sse(t,uO()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function sse(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(t)}function lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function em(t,e,r){return e=dO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dO(t){var e=use(t,"string");return Rs(e)=="symbol"?e:e+""}function use(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dse=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Cb({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Un(e,"discard")&&!o.isInRange(s)?null:s},tm=function(t){function e(){return nse(this,e),ose(this,e,arguments)}return cse(e,t),ase(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=Ut(i),d=Ut(a);if(Nn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=dse(this.props);if(!f)return null;var h=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,b=Un(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Ok(Ok({clipPath:b},Ae(this.props,!0)),{},{cx:h,cy:g});return L.createElement(He,{className:Ue("recharts-reference-dot",y)},e.renderDot(v,_),Vt.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(L.Component);em(tm,"displayName","ReferenceDot");em(tm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});em(tm,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Re(t)?r=t(e):r=L.createElement(zp,Qv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){rm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hO(n.key),n)}}function pse(t,e,r){return e&&hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mse(t,e,r){return e=Eh(e),gse(t,fO()?Reflect.construct(e,r||[],Eh(t).constructor):e.apply(t,r))}function gse(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yse(t)}function yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t0(t,e)}function rm(t,e,r){return e=hO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hO(t){var e=xse(t,"string");return Ms(e)=="symbol"?e:e+""}function xse(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bse=function(e,r,n,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Cb({x:d.scale,y:f.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Un(a,"discard")&&(!h.isInRange(g)||!h.isInRange(x))?null:ZI(g,x)},nm=function(t){function e(){return fse(this,e),mse(this,e,arguments)}return vse(e,t),pse(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Nn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ut(i),h=Ut(a),g=Ut(o),x=Ut(s),v=this.props.shape;if(!f&&!h&&!g&&!x&&!v)return null;var y=bse(f,h,g,x,this.props);if(!y&&!v)return null;var b=Un(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(He,{className:Ue("recharts-reference-area",c)},e.renderRect(v,Mk(Mk({clipPath:b},Ae(this.props,!0)),y)),Vt.renderCallByParent(this.props,y))}}])}(L.Component);rm(nm,"displayName","ReferenceArea");rm(nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rm(nm,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Re(t)?r=t(e):r=L.createElement(Ab,e0({},e,{className:"recharts-reference-area-rect"})),r});function pO(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function wse(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return moe(n,r)}function _se(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Th(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Sse(t,e){return pO(t,e+1)}function Nse(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:pO(n,u)};var v=c,y,b=function(){return y===void 0&&(y=r(x,v)),y},_=x.coordinate,w=c===0||Th(t,_,b,d,s);w||(c=0,d=o,u+=1),w&&(d=_+t*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){kse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kse(t,e,r){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ese(t){var e=Tse(t,"string");return gu(e)=="symbol"?e:e+""}function Tse(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ase(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,c=e.end,u=function(h){var g=a[h],x,v=function(){return x===void 0&&(x=r(g,h)),x};if(h===o-1){var y=t*(g.coordinate+t*v()/2-c);a[h]=g=nr(nr({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else a[h]=g=nr(nr({},g),{},{tickCoord:g.coordinate});var b=Th(t,g.tickCoord,v,s,c);b&&(c=g.tickCoord-t*(v()/2+i),a[h]=nr(nr({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Cse(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,c=e.start,u=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=nr(nr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=Th(t,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-t*(f/2+i),o[s-1]=nr(nr({},d),{},{isShow:!0}))}for(var x=a?s-1:s,v=function(_){var w=o[_],k,S=function(){return k===void 0&&(k=r(w,_)),k};if(_===0){var N=t*(w.coordinate-t*S()/2-c);o[_]=w=nr(nr({},w),{},{tickCoord:N<0?w.coordinate-N*t:w.coordinate})}else o[_]=w=nr(nr({},w),{},{tickCoord:w.coordinate});var E=Th(t,w.tickCoord,S,c,u);E&&(c=w.tickCoord+t*(S()/2+i),o[_]=nr(nr({},w),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function $b(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(de(c)||io.isSsr)return Sse(i,typeof c=="number"&&de(c)?c:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",x=d&&g==="width"?nc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(w,k){var S=Re(u)?u(w.value,k):w.value;return g==="width"?wse(nc(S,{fontSize:e,letterSpacing:r}),x,f):nc(S,{fontSize:e,letterSpacing:r})[g]},y=i.length>=2?fr(i[1].coordinate-i[0].coordinate):1,b=_se(a,y,g);return c==="equidistantPreserveStart"?Nse(y,b,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Cse(y,b,v,i,o,c==="preserveStartEnd"):h=Ase(y,b,v,i,o),h.filter(function(_){return _.isShow}))}var jse=["viewBox"],Pse=["viewBox"],Ise=["ticks"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vo.apply(this,arguments)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){Db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eg(t,e){if(t==null)return{};var r=Ose(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ose(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gO(n.key),n)}}function Mse(t,e,r){return e&&Lk(t.prototype,e),r&&Lk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $se(t,e,r){return e=Ah(e),Dse(t,mO()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function Dse(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lse(t)}function Lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function Use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r0(t,e)}function r0(t,e){return r0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r0(t,e)}function Db(t,e,r){return e=gO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gO(t){var e=Fse(t,"string");return $s(e)=="symbol"?e:e+""}function Fse(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ll=function(t){function e(r){var n;return Rse(this,e),n=$se(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Use(e,t),Mse(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Eg(n,jse),s=this.props,c=s.viewBox,u=Eg(s,Pse);return!es(a,c)||!es(o,u)||!es(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,x,v,y,b,_,w=f?-1:1,k=n.tickSize||d,S=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=x=n.coordinate,y=o+ +!f*c,v=y-w*k,_=v-w*h,b=S;break;case"left":v=y=n.coordinate,x=a+ +!f*s,g=x-w*k,b=g-w*h,_=S;break;case"right":v=y=n.coordinate,x=a+ +f*s,g=x+w*k,b=g+w*h,_=S;break;default:g=x=n.coordinate,y=o+ +f*c,v=y+w*k,_=v+w*h,b=S;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=It(It(It({},Ae(this.props,!1)),Ae(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=It(It({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=It(It({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+s})}return L.createElement("line",Vo({},f,{className:Ue("recharts-cartesian-axis-line",Ur(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=$b(It(It({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=Ae(this.props,!1),b=Ae(d,!1),_=It(It({},y),{},{fill:"none"},Ae(c,!1)),w=g.map(function(k,S){var N=o.getTickLineCoord(k),E=N.line,C=N.tick,A=It(It(It(It({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},b),C),{},{index:S,payload:k,visibleTicksCount:g.length,tickFormatter:f});return L.createElement(He,Vo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},za(o.props,k,S)),c&&L.createElement("line",Vo({},_,E,{className:Ue("recharts-cartesian-axis-tick-line",Ur(c,"className"))})),d&&e.renderTickItem(d,A,"".concat(Re(f)?f(k.value,S):k.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=Eg(f,Ise),x=h;return Re(c)&&(x=h&&h.length>0?c(this.props):c(g)),o<=0||s<=0||!x||!x.length?null:L.createElement(He,{className:Ue("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Ue(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,It(It({},i),{},{className:s})):Re(n)?o=n(It(It({},i),{},{className:s})):o=L.createElement(Wa,Vo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(T.Component);Db(ll,"displayName","CartesianAxis");Db(ll,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Bse=["x1","y1","x2","y2","key"],qse=["offset"];function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){Vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Hse(t,"string");return Ya(e)=="symbol"?e:e+""}function Hse(t,e){if(Ya(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oa.apply(this,arguments)}function Fk(t,e){if(t==null)return{};var r=zse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wse=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,c=e.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yO(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(Re(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,c=Fk(e,Bse),u=Ae(c,!1);u.offset;var d=Fk(u,qse);r=L.createElement("line",Oa({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Kse(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=or(or({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(c),index:c});return yO(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Jse(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=or(or({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(c),index:c});return yO(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Yse(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var x=!d[g+1],v=x?i+o-h:d[g+1]-h;if(v<=0)return null;var y=g%e.length;return L.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:v,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Xse(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var x=!d[g+1],v=x?a+s-h:d[g+1]-h;if(v<=0)return null;var y=g%n.length;return L.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:v,height:c,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Qse=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return hI($b(or(or(or({},ll.defaultProps),n),{},{ticks:ii(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Zse=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return hI($b(or(or(or({},ll.defaultProps),n),{},{ticks:ii(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},wo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ds(t){var e,r,n,i,a,o,s=Ib(),c=Ob(),u=Foe(),d=or(or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:wo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:wo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:wo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:wo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:wo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:wo.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,_=Doe(),w=Loe();if(!de(g)||g<=0||!de(x)||x<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||Qse,S=d.horizontalCoordinatesGenerator||Zse,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&Re(S)){var C=y&&y.length,A=S({yAxis:w?or(or({},w),{},{ticks:C?y:w.ticks}):void 0,width:s,height:c,offset:u},C?!0:v);Nn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ya(A),"]")),Array.isArray(A)&&(N=A)}if((!E||!E.length)&&Re(k)){var I=b&&b.length,$=k({xAxis:_?or(or({},_),{},{ticks:I?b:_.ticks}):void 0,width:s,height:c,offset:u},I?!0:v);Nn(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ya($),"]")),Array.isArray($)&&(E=$)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Wse,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Kse,Oa({},d,{offset:u,horizontalPoints:N,xAxis:_,yAxis:w})),L.createElement(Jse,Oa({},d,{offset:u,verticalPoints:E,xAxis:_,yAxis:w})),L.createElement(Yse,Oa({},d,{horizontalPoints:N})),L.createElement(Xse,Oa({},d,{verticalPoints:E})))}Ds.displayName="CartesianGrid";var ele=["type","layout","connectNulls","ref"],tle=["key"];function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Bk(t,e){if(t==null)return{};var r=rle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cc.apply(this,arguments)}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _o(t){return ole(t)||ale(t)||ile(t)||nle()}function nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){if(t){if(typeof t=="string")return n0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n0(t,e)}}function ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ole(t){if(Array.isArray(t))return n0(t)}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xO(n.key),n)}}function lle(t,e,r){return e&&Vk(t.prototype,e),r&&Vk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,r){return e=Ch(e),ule(t,vO()?Reflect.construct(e,r||[],Ch(t).constructor):e.apply(t,r))}function ule(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(t)}function fle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i0(t,e)}function i0(t,e){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i0(t,e)}function xn(t,e,r){return e=xO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xO(t){var e=hle(t,"string");return Ls(e)=="symbol"?e:e+""}function hle(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xa=function(t){function e(){var r;sle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cle(this,e,[].concat(i)),xn(r,"state",{isAnimationFinished:!0,totalLength:0}),xn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),xn(r,"getStrokeDasharray",function(o,s,c){var u=c.reduce(function(b,_){return b+_});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(_o(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,h]:[h];return[].concat(_o(e.repeat(c,d)),_o(g),y).map(function(b){return"".concat(b,"px")}).join(", ")}),xn(r,"id",tl("recharts-line-")),xn(r,"pathRef",function(o){r.mainCurve=o}),xn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),xn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fle(e,t),lle(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,Lu);if(!f)return null;var h=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:Dt(v.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(He,g,f.map(function(x){return L.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=Ae(this.props,!1),h=Ae(c,!0),g=u.map(function(v,y){var b=Cr(Cr(Cr({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(He,cc({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,c=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=Bk(s,ele),h=Cr(Cr(Cr({},Ae(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(lh,cc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,b=this.state,_=b.prevPoints,w=b.totalLength;return L.createElement(Bn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(_){var N=_.length/s.length,E=s.map(function(U,O){var M=Math.floor(O*N);if(_[M]){var P=_[M],D=Or(P.x,U.x),B=Or(P.y,U.y);return Cr(Cr({},U),{},{x:D(S),y:B(S)})}if(x){var F=Or(v*2,U.x),W=Or(y/2,U.y);return Cr(Cr({},U),{},{x:F(S),y:W(S)})}return Cr(Cr({},U),{},{x:U.x,y:U.y})});return a.renderCurveStatically(E,n,i)}var C=Or(0,w),A=C(S),I;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});I=a.getStrokeDasharray(A,w,$)}else I=a.generateSimpleStrokeDasharray(w,A);return a.renderCurveStatically(s,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return s&&o&&o.length&&(!u&&d>0||!Du(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=s.length===1,w=Ue("recharts-line",c),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=k||S,E=Le(y)?this.id:y,C=(n=Ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,I=A===void 0?3:A,$=C.strokeWidth,U=$===void 0?2:$,O=I6(o)?o:{},M=O.clipDot,P=M===void 0?!0:M,D=I*2+U;return L.createElement(He,{className:w},k||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:k?h:h-g/2,y:S?f:f-x/2,width:k?g:g*2,height:S?x:x*2})),!P&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-D/2,y:f-D/2,width:g+D,height:x+D}))):null,!_&&this.renderCurve(N,E),this.renderErrorBar(N,E),(_||o)&&this.renderDots(N,P,E),(!v||b)&&ci.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(_o(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(_o(o),_o(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(Re(n))a=n(i);else{var o=i.key,s=Bk(i,tle),c=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(zp,cc({key:o},s,{className:c}))}return a}}])}(T.PureComponent);xn(Xa,"displayName","Line");xn(Xa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!io.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xn(Xa,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,g){var x=Dt(h,o);return d==="horizontal"?{x:gN({axis:r,ticks:i,bandSize:s,entry:h,index:g}),y:Le(x)?null:n.scale(x),value:x,payload:h}:{x:Le(x)?null:r.scale(x),y:gN({axis:n,ticks:a,bandSize:s,entry:h,index:g}),value:x,payload:h}});return Cr({points:f,layout:d},u)});function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_O(n.key),n)}}function gle(t,e,r){return e&&mle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yle(t,e,r){return e=jh(e),vle(t,bO()?Reflect.construct(e,r||[],jh(t).constructor):e.apply(t,r))}function vle(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xle(t)}function xle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(t)}function ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a0(t,e)}function a0(t,e){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a0(t,e)}function wO(t,e,r){return e=_O(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _O(t){var e=wle(t,"string");return Us(e)=="symbol"?e:e+""}function wle(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(this,arguments)}function _le(t){var e=t.xAxisId,r=Ib(),n=Ob(),i=oO(e);return i==null?null:T.createElement(ll,o0({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ii(o,!0)}}))}var yi=function(t){function e(){return ple(this,e),yle(this,e,arguments)}return ble(e,t),gle(e,[{key:"render",value:function(){return T.createElement(_le,this.props)}}])}(T.Component);wO(yi,"displayName","XAxis");wO(yi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kO(n.key),n)}}function kle(t,e,r){return e&&Nle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,r){return e=Ph(e),Tle(t,SO()?Reflect.construct(e,r||[],Ph(t).constructor):e.apply(t,r))}function Tle(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ale(t)}function Ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s0(t,e)}function NO(t,e,r){return e=kO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kO(t){var e=jle(t,"string");return Fs(e)=="symbol"?e:e+""}function jle(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l0.apply(this,arguments)}var Ple=function(e){var r=e.yAxisId,n=Ib(),i=Ob(),a=sO(r);return a==null?null:T.createElement(ll,l0({},a,{className:Ue("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ii(s,!0)}}))},vi=function(t){function e(){return Sle(this,e),Ele(this,e,arguments)}return Cle(e,t),kle(e,[{key:"render",value:function(){return T.createElement(Ple,this.props)}}])}(T.Component);NO(vi,"displayName","YAxis");NO(vi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Gk(t){return Mle(t)||Rle(t)||Ole(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ole(t,e){if(t){if(typeof t=="string")return c0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c0(t,e)}}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mle(t){if(Array.isArray(t))return c0(t)}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u0=function(e,r,n,i,a){var o=Fr(e,Mb),s=Fr(e,tm),c=[].concat(Gk(o),Gk(s)),u=Fr(e,nm),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(v,y){if(y.props[d]===n&&Un(y.props,"extendDomain")&&de(y.props[f])){var b=y.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(v,y){if(y.props[d]===n&&Un(y.props,"extendDomain")&&de(y.props[g])&&de(y.props[x])){var b=y.props[g],_=y.props[x];return[Math.min(v[0],b,_),Math.max(v[1],b,_)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,y){return de(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},EO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,x=new Array(g);h<g;h++)x[h]=f[h].fn;return x},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,g,x){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,g),!0;case 6:return y.fn.call(y.context,d,f,h,g,x),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var k=y.length,S;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!_)for(S=1,_=new Array(b-1);S<b;S++)_[S-1]=arguments[S];y[w].fn.apply(y[w].context,_)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],b=x.length;v<b;v++)(x[v].fn!==d||h&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(EO);var $le=EO.exports;const Dle=Ye($le);var Tg=new Dle,Ag="recharts.syncMouseEvents";function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TO(n.key),n)}}function Fle(t,e,r){return e&&Ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cg(t,e,r){return e=TO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TO(t){var e=Ble(t,"string");return yu(e)=="symbol"?e:e+""}function Ble(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qle=function(){function t(){Lle(this,t),Cg(this,"activeIndex",0),Cg(this,"coordinateList",[]),Cg(this,"layout","horizontal")}return Fle(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Vle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&de(n)&&de(i))return!0}return!1}function Gle(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function AO(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=it(e,r,n,i),s=it(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Hle(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=it(s,c,u,f),g=it(s,c,d,f);n=h.x,i=h.y,a=g.x,o=g.y}else return AO(e);return[{x:n,y:i},{x:a,y:o}]}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){zle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zle(t,e,r){return e=Wle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wle(t){var e=Kle(t,"string");return vu(e)=="symbol"?e:e+""}function Kle(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jle(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var x,v=lh;if(h==="ScatterChart")x=o,v=hne;else if(h==="BarChart")x=Gle(f,o,c,d),v=Ab;else if(f==="radial"){var y=AO(o),b=y.cx,_=y.cy,w=y.radius,k=y.startAngle,S=y.endAngle;x={cx:b,cy:_,startAngle:k,endAngle:S,innerRadius:w,outerRadius:w},v=NI}else x={points:Hle(f,o,c)},v=lh;var N=Nd(Nd(Nd(Nd({stroke:"#ccc",pointerEvents:"none"},c),x),Ae(g,!1)),{},{payload:s,payloadIndex:u,className:Ue("recharts-tooltip-cursor",g.className)});return T.isValidElement(g)?T.cloneElement(g,N):T.createElement(v,N)}var Yle=["item"],Xle=["children","className","width","height","style","compact","title","desc"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(this,arguments)}function zk(t,e){return ece(t)||Zle(t,e)||jO(t,e)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ece(t){if(Array.isArray(t))return t}function Wk(t,e){if(t==null)return{};var r=tce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PO(n.key),n)}}function ice(t,e,r){return e&&nce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ace(t,e,r){return e=Ih(e),oce(t,CO()?Reflect.construct(e,r||[],Ih(t).constructor):e.apply(t,r))}function oce(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sce(t)}function sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!t})()}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ih(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d0(t,e)}function qs(t){return dce(t)||uce(t)||jO(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dce(t){if(Array.isArray(t))return f0(t)}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(n){Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ce(t,e,r){return e=PO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PO(t){var e=fce(t,"string");return Bs(e)=="symbol"?e:e+""}function fce(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hce={xAxis:["bottom","top"],yAxis:["left","right"]},pce={width:"100%",height:"100%"},IO={x:0,y:0};function kd(t){return t}var mce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},gce=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return ne(ne(ne({},i),it(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return ne(ne(ne({},i),it(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return IO},im=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(qs(s),qs(u)):s},[]);return o.length>0?o:e&&e.length&&de(i)&&de(a)?e.slice(i,a+1):[]};function OO(t){return t==="number"?[0,"auto"]:void 0}var h0=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=im(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?s:f;h=Pf(g,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(qs(c),[vI(u,h)]):c},[])},Jk=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=mce(a,n),s=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=OZ(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=h0(e,r,d,f),g=gce(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},yce=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=fI(d,a);return n.reduce(function(x,v){var y,b=v.type.defaultProps!==void 0?ne(ne({},v.type.defaultProps),v.props):v.props,_=b.type,w=b.dataKey,k=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,E=b.ticks,C=b.includeHidden,A=b[o];if(x[A])return x;var I=im(e.data,{graphicalItems:i.filter(function(Y){var ge,R=o in Y.props?Y.props[o]:(ge=Y.type.defaultProps)===null||ge===void 0?void 0:ge[o];return R===A}),dataStartIndex:c,dataEndIndex:u}),$=I.length,U,O,M;Vle(b.domain,k,_)&&(U=Tv(b.domain,null,k),g&&(_==="number"||N!=="auto")&&(M=ac(I,w,"category")));var P=OO(_);if(!U||U.length===0){var D,B=(D=b.domain)!==null&&D!==void 0?D:P;if(w){if(U=ac(I,w,_),_==="category"&&g){var F=_6(U);S&&F?(O=U,U=xh(0,$)):S||(U=bN(B,U,v).reduce(function(Y,ge){return Y.indexOf(ge)>=0?Y:[].concat(qs(Y),[ge])},[]))}else if(_==="category")S?U=U.filter(function(Y){return Y!==""&&!Le(Y)}):U=bN(B,U,v).reduce(function(Y,ge){return Y.indexOf(ge)>=0||ge===""||Le(ge)?Y:[].concat(qs(Y),[ge])},[]);else if(_==="number"){var W=LZ(I,i.filter(function(Y){var ge,R,Q=o in Y.props?Y.props[o]:(ge=Y.type.defaultProps)===null||ge===void 0?void 0:ge[o],ue="hide"in Y.props?Y.props.hide:(R=Y.type.defaultProps)===null||R===void 0?void 0:R.hide;return Q===A&&(C||!ue)}),w,a,d);W&&(U=W)}g&&(_==="number"||N!=="auto")&&(M=ac(I,w,"category"))}else g?U=xh(0,$):s&&s[A]&&s[A].hasStack&&_==="number"?U=h==="expand"?[0,1]:yI(s[A].stackGroups,c,u):U=dI(I,i.filter(function(Y){var ge=o in Y.props?Y.props[o]:Y.type.defaultProps[o],R="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ge===A&&(C||!R)}),_,d,!0);if(_==="number")U=u0(f,U,A,a,E),B&&(U=Tv(B,U,k));else if(_==="category"&&B){var K=B,ee=U.every(function(Y){return K.indexOf(Y)>=0});ee&&(U=K)}}return ne(ne({},x),{},Ce({},A,ne(ne({},b),{},{axisType:a,domain:U,categoricalDomain:M,duplicateDomain:O,originalDomain:(y=b.domain)!==null&&y!==void 0?y:P,isCategorical:g,layout:d})))},{})},vce=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=im(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,x=fI(d,a),v=-1;return n.reduce(function(y,b){var _=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=_[o],k=OO("number");if(!y[w]){v++;var S;return x?S=xh(0,g):s&&s[w]&&s[w].hasStack?(S=yI(s[w].stackGroups,c,u),S=u0(f,S,w,a)):(S=Tv(k,dI(h,n.filter(function(N){var E,C,A=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),S=u0(f,S,w,a)),ne(ne({},y),{},Ce({},w,ne(ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ur(hce,"".concat(a,".").concat(v%2),null),domain:S,originalDomain:k,isCategorical:x,layout:d})))}return y},{})},xce=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Fr(d,a),g={};return h&&h.length?g=yce(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=vce(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),g},bce=function(e){var r=Di(e),n=ii(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ah(r,n)}},Yk=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ir(r,Ps),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},wce=function(e){return!e||!e.length?!1:e.some(function(r){var n=si(r&&r.type);return n&&n.indexOf("Bar")>=0})},Xk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_ce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=Ir(f,Ps),x=Ir(f,Xi),v=Object.keys(c).reduce(function(S,N){var E=c[N],C=E.orientation;return!E.mirror&&!E.hide?ne(ne({},S),{},Ce({},C,S[C]+E.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(S,N){var E=o[N],C=E.orientation;return!E.mirror&&!E.hide?ne(ne({},S),{},Ce({},C,Ur(S,"".concat(C))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},y),v),_=b.bottom;g&&(b.bottom+=g.props.height||Ps.defaultProps.height),x&&r&&(b=$Z(b,i,n,r));var w=u-b.left-b.right,k=d-b.top-b.bottom;return ne(ne({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(k,0)})},Sce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Lb=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,_){var w=_.graphicalItems,k=_.stackGroups,S=_.offset,N=_.updateId,E=_.dataStartIndex,C=_.dataEndIndex,A=b.barSize,I=b.layout,$=b.barGap,U=b.barCategoryGap,O=b.maxBarSize,M=Xk(I),P=M.numericAxisName,D=M.cateAxisName,B=wce(w),F=[];return w.forEach(function(W,K){var ee=im(b.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:C}),Y=W.type.defaultProps!==void 0?ne(ne({},W.type.defaultProps),W.props):W.props,ge=Y.dataKey,R=Y.maxBarSize,Q=Y["".concat(P,"Id")],ue=Y["".concat(D,"Id")],ye={},Oe=c.reduce(function(_e,V){var G=_["".concat(V.axisType,"Map")],fe=Y["".concat(V.axisType,"Id")];G&&G[fe]||V.axisType==="zAxis"||Ja();var z=G[fe];return ne(ne({},_e),{},Ce(Ce({},V.axisType,z),"".concat(V.axisType,"Ticks"),ii(z)))},ye),se=Oe[D],Ne=Oe["".concat(D,"Ticks")],J=k&&k[Q]&&k[Q].hasStack&&WZ(W,k[Q].stackGroups),X=si(W.type).indexOf("Bar")>=0,Ie=ah(se,Ne),Se=[],Z=B&&RZ({barSize:A,stackGroups:k,totalSize:Sce(Oe,D)});if(X){var he,ie,Me=Le(R)?O:R,Ve=(he=(ie=ah(se,Ne,!0))!==null&&ie!==void 0?ie:Me)!==null&&he!==void 0?he:0;Se=MZ({barGap:$,barCategoryGap:U,bandSize:Ve!==Ie?Ve:Ie,sizeList:Z[ue],maxBarSize:Me}),Ve!==Ie&&(Se=Se.map(function(_e){return ne(ne({},_e),{},{position:ne(ne({},_e.position),{},{offset:_e.position.offset-Ve/2})})}))}var oe=W&&W.type&&W.type.getComposedData;oe&&F.push({props:ne(ne({},oe(ne(ne({},Oe),{},{displayedData:ee,props:b,dataKey:ge,item:W,bandSize:Ie,barPosition:Se,offset:S,stackedData:J,layout:I,dataStartIndex:E,dataEndIndex:C}))),{},Ce(Ce(Ce({key:W.key||"item-".concat(K)},P,Oe[P]),D,Oe[D]),"animationId",N)),childIndex:M6(W,b.children),item:W})}),F},g=function(b,_){var w=b.props,k=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!h1({props:w}))return null;var E=w.children,C=w.layout,A=w.stackOffset,I=w.data,$=w.reverseStackOrder,U=Xk(C),O=U.numericAxisName,M=U.cateAxisName,P=Fr(E,n),D=HZ(I,P,"".concat(O,"Id"),"".concat(M,"Id"),A,$),B=c.reduce(function(Y,ge){var R="".concat(ge.axisType,"Map");return ne(ne({},Y),{},Ce({},R,xce(w,ne(ne({},ge),{},{graphicalItems:P,stackGroups:ge.axisType===O&&D,dataStartIndex:k,dataEndIndex:S}))))},{}),F=_ce(ne(ne({},B),{},{props:w,graphicalItems:P}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(Y){B[Y]=d(w,B[Y],F,Y.replace("Map",""),r)});var W=B["".concat(M,"Map")],K=bce(W),ee=h(w,ne(ne({},B),{},{dataStartIndex:k,dataEndIndex:S,updateId:N,graphicalItems:P,stackGroups:D,offset:F}));return ne(ne({formattedGraphicalItems:ee,graphicalItems:P,offset:F,stackGroups:D},K),B)},x=function(y){function b(_){var w,k,S;return rce(this,b),S=ace(this,b,[_]),Ce(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(S,"accessibilityManager",new qle),Ce(S,"handleLegendBBoxUpdate",function(N){if(N){var E=S.state,C=E.dataStartIndex,A=E.dataEndIndex,I=E.updateId;S.setState(ne({legendBBox:N},g({props:S.props,dataStartIndex:C,dataEndIndex:A,updateId:I},ne(ne({},S.state),{},{legendBBox:N}))))}}),Ce(S,"handleReceiveSyncEvent",function(N,E,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Ce(S,"handleBrushChange",function(N){var E=N.startIndex,C=N.endIndex;if(E!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return ne({dataStartIndex:E,dataEndIndex:C},g({props:S.props,dataStartIndex:E,dataEndIndex:C,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),Ce(S,"handleMouseEnter",function(N){var E=S.getMouseInfo(N);if(E){var C=ne(ne({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseEnter;Re(A)&&A(C,N)}}),Ce(S,"triggeredAfterMouseMove",function(N){var E=S.getMouseInfo(N),C=E?ne(ne({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseMove;Re(A)&&A(C,N)}),Ce(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ce(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ce(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Ce(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseLeave;Re(C)&&C(E,N)}),Ce(S,"handleOuterEvent",function(N){var E=R6(N),C=Ur(S.props,"".concat(E));if(E&&Re(C)){var A,I;/.*touch.*/i.test(E)?I=S.getMouseInfo(N.changedTouches[0]):I=S.getMouseInfo(N),C((A=I)!==null&&A!==void 0?A:{},N)}}),Ce(S,"handleClick",function(N){var E=S.getMouseInfo(N);if(E){var C=ne(ne({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onClick;Re(A)&&A(C,N)}}),Ce(S,"handleMouseDown",function(N){var E=S.props.onMouseDown;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),Ce(S,"handleMouseUp",function(N){var E=S.props.onMouseUp;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),Ce(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ce(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Ce(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Ce(S,"handleDoubleClick",function(N){var E=S.props.onDoubleClick;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),Ce(S,"handleContextMenu",function(N){var E=S.props.onContextMenu;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),Ce(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&Tg.emit(Ag,S.props.syncId,N,S.eventEmitterSymbol)}),Ce(S,"applySyncEvent",function(N){var E=S.props,C=E.layout,A=E.syncMethod,I=S.state.updateId,$=N.dataStartIndex,U=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ne({dataStartIndex:$,dataEndIndex:U},g({props:S.props,dataStartIndex:$,dataEndIndex:U,updateId:I},S.state)));else if(N.activeTooltipIndex!==void 0){var O=N.chartX,M=N.chartY,P=N.activeTooltipIndex,D=S.state,B=D.offset,F=D.tooltipTicks;if(!B)return;if(typeof A=="function")P=A(F,N);else if(A==="value"){P=-1;for(var W=0;W<F.length;W++)if(F[W].value===N.activeLabel){P=W;break}}var K=ne(ne({},B),{},{x:B.left,y:B.top}),ee=Math.min(O,K.x+K.width),Y=Math.min(M,K.y+K.height),ge=F[P]&&F[P].value,R=h0(S.state,S.props.data,P),Q=F[P]?{x:C==="horizontal"?F[P].coordinate:ee,y:C==="horizontal"?Y:F[P].coordinate}:IO;S.setState(ne(ne({},N),{},{activeLabel:ge,activeCoordinate:Q,activePayload:R,activeTooltipIndex:P}))}else S.setState(N)}),Ce(S,"renderCursor",function(N){var E,C=S.state,A=C.isTooltipActive,I=C.activeCoordinate,$=C.activePayload,U=C.offset,O=C.activeTooltipIndex,M=C.tooltipAxisBandSize,P=S.getTooltipEventType(),D=(E=N.props.active)!==null&&E!==void 0?E:A,B=S.props.layout,F=N.key||"_recharts-cursor";return L.createElement(Jle,{key:F,activeCoordinate:I,activePayload:$,activeTooltipIndex:O,chartName:r,element:N,isActive:D,layout:B,offset:U,tooltipAxisBandSize:M,tooltipEventType:P})}),Ce(S,"renderPolarAxis",function(N,E,C){var A=Ur(N,"type.axisType"),I=Ur(S.state,"".concat(A,"Map")),$=N.type.defaultProps,U=$!==void 0?ne(ne({},$),N.props):N.props,O=I&&I[U["".concat(A,"Id")]];return T.cloneElement(N,ne(ne({},O),{},{className:Ue(A,O.className),key:N.key||"".concat(E,"-").concat(C),ticks:ii(O,!0)}))}),Ce(S,"renderPolarGrid",function(N){var E=N.props,C=E.radialLines,A=E.polarAngles,I=E.polarRadius,$=S.state,U=$.radiusAxisMap,O=$.angleAxisMap,M=Di(U),P=Di(O),D=P.cx,B=P.cy,F=P.innerRadius,W=P.outerRadius;return T.cloneElement(N,{polarAngles:Array.isArray(A)?A:ii(P,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(I)?I:ii(M,!0).map(function(K){return K.coordinate}),cx:D,cy:B,innerRadius:F,outerRadius:W,key:N.key||"polar-grid",radialLines:C})}),Ce(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,E=S.props,C=E.children,A=E.width,I=E.height,$=S.props.margin||{},U=A-($.left||0)-($.right||0),O=cI({children:C,formattedGraphicalItems:N,legendWidth:U,legendContent:u});if(!O)return null;var M=O.item,P=Wk(O,Yle);return T.cloneElement(M,ne(ne({},P),{},{chartWidth:A,chartHeight:I,margin:$,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ce(S,"renderTooltip",function(){var N,E=S.props,C=E.children,A=E.accessibilityLayer,I=Ir(C,ir);if(!I)return null;var $=S.state,U=$.isTooltipActive,O=$.activeCoordinate,M=$.activePayload,P=$.activeLabel,D=$.offset,B=(N=I.props.active)!==null&&N!==void 0?N:U;return T.cloneElement(I,{viewBox:ne(ne({},D),{},{x:D.left,y:D.top}),active:B,label:P,payload:B?M:[],coordinate:O,accessibilityLayer:A})}),Ce(S,"renderBrush",function(N){var E=S.props,C=E.margin,A=E.data,I=S.state,$=I.offset,U=I.dataStartIndex,O=I.dataEndIndex,M=I.updateId;return T.cloneElement(N,{key:N.key||"_recharts-brush",onChange:bd(S.handleBrushChange,N.props.onChange),data:A,x:de(N.props.x)?N.props.x:$.left,y:de(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(C.bottom||0),width:de(N.props.width)?N.props.width:$.width,startIndex:U,endIndex:O,updateId:"brush-".concat(M)})}),Ce(S,"renderReferenceElement",function(N,E,C){if(!N)return null;var A=S,I=A.clipPathId,$=S.state,U=$.xAxisMap,O=$.yAxisMap,M=$.offset,P=N.type.defaultProps||{},D=N.props,B=D.xAxisId,F=B===void 0?P.xAxisId:B,W=D.yAxisId,K=W===void 0?P.yAxisId:W;return T.cloneElement(N,{key:N.key||"".concat(E,"-").concat(C),xAxis:U[F],yAxis:O[K],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:I})}),Ce(S,"renderActivePoints",function(N){var E=N.item,C=N.activePoint,A=N.basePoint,I=N.childIndex,$=N.isRange,U=[],O=E.props.key,M=E.item.type.defaultProps!==void 0?ne(ne({},E.item.type.defaultProps),E.item.props):E.item.props,P=M.activeDot,D=M.dataKey,B=ne(ne({index:I,dataKey:D,cx:C.x,cy:C.y,r:4,fill:Tb(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ae(P,!1)),If(P));return U.push(b.renderActiveDot(P,B,"".concat(O,"-activePoint-").concat(I))),A?U.push(b.renderActiveDot(P,ne(ne({},B),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(I))):$&&U.push(null),U}),Ce(S,"renderGraphicChild",function(N,E,C){var A=S.filterFormatItem(N,E,C);if(!A)return null;var I=S.getTooltipEventType(),$=S.state,U=$.isTooltipActive,O=$.tooltipAxis,M=$.activeTooltipIndex,P=$.activeLabel,D=S.props.children,B=Ir(D,ir),F=A.props,W=F.points,K=F.isRange,ee=F.baseLine,Y=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,ge=Y.activeDot,R=Y.hide,Q=Y.activeBar,ue=Y.activeShape,ye=!!(!R&&U&&B&&(ge||Q||ue)),Oe={};I!=="axis"&&B&&B.props.trigger==="click"?Oe={onClick:bd(S.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(Oe={onMouseLeave:bd(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:bd(S.handleItemMouseEnter,N.props.onMouseEnter)});var se=T.cloneElement(N,ne(ne({},A.props),Oe));function Ne(V){return typeof O.dataKey=="function"?O.dataKey(V.payload):null}if(ye)if(M>=0){var J,X;if(O.dataKey&&!O.allowDuplicatedCategory){var Ie=typeof O.dataKey=="function"?Ne:"payload.".concat(O.dataKey.toString());J=Pf(W,Ie,P),X=K&&ee&&Pf(ee,Ie,P)}else J=W==null?void 0:W[M],X=K&&ee&&ee[M];if(ue||Q){var Se=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[T.cloneElement(N,ne(ne(ne({},A.props),Oe),{},{activeIndex:Se})),null,null]}if(!Le(J))return[se].concat(qs(S.renderActivePoints({item:A,activePoint:J,basePoint:X,childIndex:M,isRange:K})))}else{var Z,he=(Z=S.getItemByXY(S.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:se},ie=he.graphicalItem,Me=ie.item,Ve=Me===void 0?N:Me,oe=ie.childIndex,_e=ne(ne(ne({},A.props),Oe),{},{activeIndex:oe});return[T.cloneElement(Ve,_e),null,null]}return K?[se,null,null]:[se,null]}),Ce(S,"renderCustomized",function(N,E,C){return T.cloneElement(N,ne(ne({key:"recharts-customized-".concat(C)},S.props),S.state))}),Ce(S,"renderMap",{CartesianGrid:{handler:kd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:kd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:kd},YAxis:{handler:kd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:tl("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=lP(S.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),S.state={},S}return lce(b,y),ice(b,[{key:"componentDidMount",value:function(){var w,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,k=w.children,S=w.data,N=w.height,E=w.layout,C=Ir(k,ir);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,$=h0(this.state,S,A,I),U=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+N)/2,M=E==="horizontal",P=M?{x:U,y:O}:{y:U,x:O},D=this.state.formattedGraphicalItems.find(function(F){var W=F.item;return W.type.name==="Scatter"});D&&(P=ne(ne({},P),D.props.points[A].tooltipPosition),$=D.props.points[A].tooltipPayload);var B={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:$,activeCoordinate:P};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){qy([Ir(w.children,ir)],[Ir(this.props.children,ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ir(this.props.children,ir);if(w&&typeof w.props.shared=="boolean"){var k=w.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var k=this.container,S=k.getBoundingClientRect(),N=sJ(S),E={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},C=S.width/k.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,C);if(!A)return null;var I=this.state,$=I.xAxisMap,U=I.yAxisMap,O=this.getTooltipEventType(),M=Jk(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&$&&U){var P=Di($).scale,D=Di(U).scale,B=P&&P.invert?P.invert(E.chartX):null,F=D&&D.invert?D.invert(E.chartY):null;return ne(ne({},E),{},{xValue:B,yValue:F},M)}return M?ne(ne({},E),M):null}},{key:"inRange",value:function(w,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=w/S,C=k/S;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,I=E>=A.left&&E<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return I?{x:E,y:C}:null}var $=this.state,U=$.angleAxisMap,O=$.radiusAxisMap;if(U&&O){var M=Di(U);return SN({x:E,y:C},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,k=this.getTooltipEventType(),S=Ir(w,ir),N={};S&&k==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=If(this.props,this.handleOuterEvent);return ne(ne({},E),N)}},{key:"addListener",value:function(){Tg.on(Ag,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Tg.removeListener(Ag,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,k,S){for(var N=this.state.formattedGraphicalItems,E=0,C=N.length;E<C;E++){var A=N[E];if(A.item===w||A.props.key===w.key||k===si(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,k=this.state.offset,S=k.left,N=k.top,E=k.height,C=k.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:S,y:N,height:E,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(k,S){var N=zk(S,2),E=N[0],C=N[1];return ne(ne({},k),{},Ce({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(k,S){var N=zk(S,2),E=N[0],C=N[1];return ne(ne({},k),{},Ce({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(w){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(w){var k=this.state,S=k.formattedGraphicalItems,N=k.activeItem;if(S&&S.length)for(var E=0,C=S.length;E<C;E++){var A=S[E],I=A.props,$=A.item,U=$.type.defaultProps!==void 0?ne(ne({},$.type.defaultProps),$.props):$.props,O=si($.type);if(O==="Bar"){var M=(I.data||[]).find(function(F){return Wre(w,F)});if(M)return{graphicalItem:A,payload:M}}else if(O==="RadialBar"){var P=(I.data||[]).find(function(F){return SN(w,F)});if(P)return{graphicalItem:A,payload:P}}else if(Xp(A,N)||Qp(A,N)||fu(A,N)){var D=Mie({graphicalItem:A,activeTooltipItem:N,itemData:U.data}),B=U.activeIndex===void 0?D:U.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:B}),payload:fu(A,N)?U.data[D]:A.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!h1(this))return null;var k=this.props,S=k.children,N=k.className,E=k.width,C=k.height,A=k.style,I=k.compact,$=k.title,U=k.desc,O=Wk(k,Xle),M=Ae(O,!1);if(I)return L.createElement(Ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Gy,Go({},M,{width:E,height:C,title:$,desc:U}),this.renderClipPath(),m1(S,this.renderMap)));if(this.props.accessibilityLayer){var P,D;M.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,M.role=(D=this.props.role)!==null&&D!==void 0?D:"application",M.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return L.createElement(Ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Go({className:Ue("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:E,height:C},A)},B,{ref:function(W){w.container=W}}),L.createElement(Gy,Go({},M,{width:E,height:C,title:$,desc:U,style:pce}),this.renderClipPath(),m1(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);Ce(x,"displayName",r),Ce(x,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ce(x,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,w=y.data,k=y.children,S=y.width,N=y.height,E=y.layout,C=y.stackOffset,A=y.margin,I=b.dataStartIndex,$=b.dataEndIndex;if(b.updateId===void 0){var U=Yk(y);return ne(ne(ne({},U),{},{updateId:0},g(ne(ne({props:y},U),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:C,prevMargin:A,prevChildren:k})}if(_!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||E!==b.prevLayout||C!==b.prevStackOffset||!es(A,b.prevMargin)){var O=Yk(y),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},P=ne(ne({},Jk(b,w,E)),{},{updateId:b.updateId+1}),D=ne(ne(ne({},O),M),P);return ne(ne(ne({},D),g(ne({props:y},D),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:C,prevMargin:A,prevChildren:k})}if(!qy(k,b.prevChildren)){var B,F,W,K,ee=Ir(k,Ps),Y=ee&&(B=(F=ee.props)===null||F===void 0?void 0:F.startIndex)!==null&&B!==void 0?B:I,ge=ee&&(W=(K=ee.props)===null||K===void 0?void 0:K.endIndex)!==null&&W!==void 0?W:$,R=Y!==I||ge!==$,Q=!Le(w),ue=Q&&!R?b.updateId:b.updateId+1;return ne(ne({updateId:ue},g(ne(ne({props:y},b),{},{updateId:ue,dataStartIndex:Y,dataEndIndex:ge}),b)),{},{prevChildren:k,dataStartIndex:Y,dataEndIndex:ge})}return null}),Ce(x,"renderActiveDot",function(y,b,_){var w;return T.isValidElement(y)?w=T.cloneElement(y,b):Re(y)?w=y(b):w=L.createElement(zp,b),L.createElement(He,{className:"recharts-active-dot",key:_},w)});var v=T.forwardRef(function(b,_){return L.createElement(x,Go({},b,{ref:_}))});return v.displayName=x.displayName,v},RO=Lb({chartName:"LineChart",GraphicalChild:Xa,axisComponents:[{axisType:"xAxis",AxisComp:yi},{axisType:"yAxis",AxisComp:vi}],formatAxisMap:QI}),Ub=Lb({chartName:"BarChart",GraphicalChild:Vn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yi},{axisType:"yAxis",AxisComp:vi}],formatAxisMap:QI}),Qk=Lb({chartName:"PieChart",GraphicalChild:qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yp},{axisType:"radiusAxis",AxisComp:Kp}],formatAxisMap:nee,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Nce=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>l.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[l.jsx("p",{className:"text-sm opacity-80",children:t.label}),l.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),l.jsx("div",{className:"h-64",children:l.jsx(ja,{width:"100%",height:"100%",children:l.jsxs(Ub,{data:HL,children:[l.jsx(Ds,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(yi,{dataKey:"name",stroke:"#9ca3af"}),l.jsx(vi,{stroke:"#9ca3af"}),l.jsx(ir,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),l.jsx(Vn,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),l.jsx("div",{className:"h-64",children:l.jsx(ja,{width:"100%",height:"100%",children:l.jsxs(RO,{data:zL,children:[l.jsx(Ds,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(yi,{dataKey:"name",stroke:"#9ca3af"}),l.jsx(vi,{stroke:"#9ca3af"}),l.jsx(ir,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),l.jsx(Xa,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function ki({data:t,columns:e,title:r,icon:n,onAdd:i,onEdit:a,onDelete:o,onViewDetails:s,customRowActions:c,extraActions:u,selectedIds:d,onSelect:f}){const[h,g]=T.useState(t),[x,v]=T.useState(""),[y,b]=T.useState(1),[_,w]=T.useState(10),[k,S]=T.useState([]),N=d||k,E=f||S,[C,A]=T.useState(null);T.useEffect(()=>{let B=[...t];if(x){const F=x.toLowerCase();B=B.filter(W=>Object.values(W).join(" ").toLowerCase().includes(F))}C&&B.sort((F,W)=>{const K=F[C.key],ee=W[C.key];if(K===ee)return 0;if(K==null)return 1;if(ee==null)return-1;const Y=K<ee?-1:1;return C.direction==="asc"?Y:-Y}),g(B),x&&y!==1&&b(1)},[t,x,C]);const I=B=>{let F="asc";C&&C.key===B&&C.direction==="asc"&&(F="desc"),A({key:B,direction:F})},$=(y-1)*_,U=$+_,O=h.slice($,U),M=B=>{B.target.checked?E(h.map(F=>F.id)):E([])},P=B=>{N.includes(B)?E(N.filter(F=>F!==B)):E([...N,B])},D=s||a||o||c;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:l.jsx(n,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",r]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[N.length>0&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[N.length,"  "]}),u,i&&l.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium text-sm",children:[l.jsx(lr,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ga,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"  ...",value:x,onChange:B=>v(B.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),l.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-500",children:l.jsx(op,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:l.jsxs("table",{className:"w-full text-right text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10",children:l.jsx("input",{type:"checkbox",onChange:M,checked:h.length>0&&N.length===h.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((B,F)=>l.jsx("th",{className:`p-4 whitespace-nowrap ${B.sortKey?"cursor-pointer hover:text-primary transition-colors select-none":""}`,onClick:()=>B.sortKey&&I(B.sortKey),children:l.jsxs("div",{className:"flex items-center gap-1",children:[B.header,B.sortKey&&l.jsx("span",{className:"text-gray-400",children:(C==null?void 0:C.key)===B.sortKey?C.direction==="asc"?l.jsx(oL,{className:"w-3 h-3"}):l.jsx(iL,{className:"w-3 h-3"}):l.jsx(aL,{className:"w-3 h-3 opacity-50"})})]})},F)),D&&l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:O.length>0?O.map((B,F)=>l.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${N.includes(B.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[l.jsx("td",{className:"p-4",children:l.jsx("input",{type:"checkbox",checked:N.includes(B.id),onChange:()=>P(B.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((W,K)=>l.jsx("td",{className:"p-4",children:W.accessor(B)},K)),D&&l.jsxs("td",{className:"p-4 flex gap-1.5 items-center",children:[c&&c(B),s&&l.jsx("button",{onClick:()=>s(B),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:l.jsx(Nx,{width:18,height:18})}),a&&l.jsx("button",{onClick:()=>a(B),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:l.jsx(sp,{width:18,height:18})}),o&&l.jsx("button",{onClick:()=>o(B),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"",children:l.jsx($t,{width:18,height:18})})]})]},B.id||F)):l.jsx("tr",{children:l.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("select",{value:_,onChange:B=>{w(Number(B.target.value)),b(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"}),l.jsx("option",{value:200,children:"200"})]}),l.jsxs("span",{children:[": ",h.length]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{disabled:y===1,onClick:()=>b(B=>B-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:l.jsx(Eu,{className:"w-4 h-4"})}),l.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",y]}),l.jsx("button",{disabled:U>=h.length,onClick:()=>b(B=>B+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:l.jsx(ap,{className:"w-4 h-4"})})]})]})]})]})}const kce=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories_main","part_categories_sub","part_categories_sub_sub","parts","activity_cards","checklist_items","maintenance_plans"],Zk={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories_main:"  ",part_categories_sub:"  ",part_categories_sub_sub:"   ",parts:"",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Ece=()=>{const[t,e]=T.useState("user_groups"),[r,n]=T.useState([]),[i,a]=T.useState(!1),[o,s]=T.useState(!1),[c,u]=T.useState(null),[d,f]=T.useState([]),[h,g]=T.useState(null),[x,v]=T.useState(!1),[y,b]=T.useState([]),[_,w]=T.useState([]),[k,S]=T.useState([]),[N,E]=T.useState([]),[C,A]=T.useState([]),[I,$]=T.useState([]),[U,O]=T.useState([]),[M,P]=T.useState([]),D=T.useRef(null),B=T.useRef(null),F={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"avatar",header:""},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:""},{key:"group_id",header:""},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"org_unit_id",header:" "},{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories_main:[{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub:[{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub_sub:[{key:"grand_parent_name",header:" "},{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"   "}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"full_category_path",header:" "},{key:"stock_unit_name",header:" "},{key:"consumption_unit_name",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},W=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description"],K=V=>{try{return JSON.parse(localStorage.getItem(`admin_data_${V}`)||"[]")}catch{return[]}},ee=(V,G)=>{localStorage.setItem(`admin_data_${V}`,JSON.stringify(G))},Y=async()=>{a(!0),g(null);let V=t;t.startsWith("part_categories_")&&(V="part_categories");try{const{data:G,error:fe}=await De.from(V).select("*").order("created_at",{ascending:!1});if(fe)throw fe;let z=G||[];if(t.startsWith("part_categories_")&&(P(G||[]),t==="part_categories_main"?z=z.filter(pe=>pe.level_type==="MAIN"):t==="part_categories_sub"?z=z.filter(pe=>pe.level_type==="SUB").map(pe=>{var me;return{...pe,parent_name:((me=G==null?void 0:G.find(Ee=>Ee.id===pe.parent_id))==null?void 0:me.name)||"-"}}):t==="part_categories_sub_sub"&&(z=z.filter(pe=>pe.level_type==="SUB_SUB").map(pe=>{const me=G==null?void 0:G.find(Fe=>Fe.id===pe.parent_id),Ee=me?G==null?void 0:G.find(Fe=>Fe.id===me.parent_id):null;return{...pe,parent_name:(me==null?void 0:me.name)||"-",grand_parent_name:(Ee==null?void 0:Ee.name)||"-"}}))),t==="parts"){const pe=M.length>0?M:await qe("part_categories"),me=U.length>0?U:await qe("measurement_units");P(pe),O(me),z=z.map(Ee=>{var er,Tr;const Fe=pe.find(Pt=>Pt.id===Ee.category_id);let Wt="-";if(Fe){const Pt=pe.find(zn=>zn.id===Fe.parent_id),Ai=Pt?pe.find(zn=>zn.id===Pt.parent_id):null;Wt=`${(Ai==null?void 0:Ai.name)||"?"} > ${(Pt==null?void 0:Pt.name)||"?"} > ${Fe.name}`}return{...Ee,full_category_path:Wt,stock_unit_name:((er=me.find(Pt=>Pt.id===Ee.stock_unit_id))==null?void 0:er.title)||"-",consumption_unit_name:((Tr=me.find(Pt=>Pt.id===Ee.consumption_unit_id))==null?void 0:Tr.title)||"-"}})}if(t==="app_users"){const pe=y.length>0?y:await qe("personnel");b(pe),z=z.map(me=>{const Ee=pe.find(Fe=>Fe.id===me.personnel_id);return{...me,full_name:Ee?Ee.full_name:"---",unit:Ee?Ee.unit:"---",avatar:me.avatar||(Ee?Ee.profile_picture:null),personnel_code:Ee?Ee.personnel_code:null}})}if(t==="org_chart"){if(y.length===0){const pe=await qe("personnel");b(pe)}z=z.map(pe=>{var me,Ee;return{...pe,parent_name:((me=z.find(Fe=>Fe.id===pe.parent_id))==null?void 0:me.name)||"-",manager_name:((Ee=y.find(Fe=>Fe.id===pe.manager_id))==null?void 0:Ee.full_name)||pe.manager_name||"-"}})}if(t==="locations"&&(z=z.map(pe=>{var me;return{...pe,parent_name:((me=z.find(Ee=>Ee.id===pe.parent_id))==null?void 0:me.name)||"-"}})),t==="personnel"){const pe=await qe("org_chart");S(pe),z=z.map(me=>{const Ee=pe.find(Fe=>Fe.id===me.org_unit_id);return{...me,unit:Ee?Ee.name:me.unit||"-"}})}if(t==="evaluation_criteria"){const pe=await qe("org_chart");S(pe),z=z.map(me=>{const Ee=pe.find(Fe=>Fe.id===me.org_unit_id);return{...me,org_unit_name:Ee?Ee.name:"-"}})}if(t==="equipment_groups"){const pe=await qe("equipment_classes");E(pe),z=z.map(me=>{var Ee;return{...me,class_name:((Ee=pe.find(Fe=>Fe.id===me.class_id))==null?void 0:Ee.name)||"-"}})}if(t==="equipment"||t==="equipment_local_names"){const pe=await qe("equipment_classes"),me=await qe("equipment_groups");E(pe),A(me),z=z.map(Ee=>{var Fe,Wt;return{...Ee,class_name:((Fe=pe.find(er=>er.id===Ee.class_id))==null?void 0:Fe.name)||"-",group_name:((Wt=me.find(er=>er.id===Ee.group_id))==null?void 0:Wt.name)||"-"}})}if(t==="equipment_tree"){const pe=await qe("equipment");$(pe),z=z.map(me=>{var Ee,Fe;return{...me,equipment_name:((Ee=pe.find(Wt=>Wt.id===me.equipment_id))==null?void 0:Ee.name)||"-",parent_name:((Fe=z.find(Wt=>Wt.id===me.parent_id))==null?void 0:Fe.name)||"-"}})}v(!1),n(z),ee(t,z)}catch(G){console.warn("Supabase fetch failed, switching to local data:",G),v(!0);const fe=K(t);n(fe)}finally{a(!1)}};T.useEffect(()=>{Y(),f([]),(t==="app_users"||t==="org_chart"||t==="evaluation_criteria")&&(qe("personnel").then(b),qe("org_chart").then(S)),t==="app_users"&&qe("user_groups").then(w),t==="personnel"&&qe("org_chart").then(S),(t==="equipment_groups"||t==="equipment"||t==="equipment_local_names")&&qe("equipment_classes").then(E),(t==="equipment"||t==="equipment_local_names")&&qe("equipment_groups").then(A),t==="equipment_tree"&&qe("equipment").then($),t==="parts"&&qe("measurement_units").then(O)},[t]);const ge=()=>{u({}),s(!0)},R=V=>{if(t==="app_users"&&V.personnel_id){const G=y.find(fe=>fe.id===V.personnel_id);u({...V,full_name:G==null?void 0:G.full_name,unit:G==null?void 0:G.unit,personnel_profile:G==null?void 0:G.profile_picture})}else if(t==="part_categories_sub"||t==="part_categories_sub_sub")u({...V});else if(t==="parts"){const G=M.find(pe=>pe.id===V.category_id),fe=M.find(pe=>pe.id===(G==null?void 0:G.parent_id)),z=M.find(pe=>pe.id===(fe==null?void 0:fe.parent_id));u({...V,temp_main_cat_id:(z==null?void 0:z.id)||"",temp_sub_cat_id:(fe==null?void 0:fe.id)||""})}else u(V);s(!0)},Q=async V=>{if(!V.personnel_code){alert(":       .");return}if(window.confirm(`        "${V.username}"     (${V.personnel_code})  `)){a(!0);try{const{error:G}=await De.from("app_users").update({password:V.personnel_code,is_default_password:!0}).eq("id",V.id);if(G)throw G;alert("     .")}catch(G){console.error("Reset Password Error:",G),alert("    : "+G.message)}finally{a(!1)}}},ue=async V=>{if(!window.confirm("      "))return;[...r],n(fe=>fe.filter(z=>z.id!==V.id)),f(fe=>fe.filter(z=>z!==V.id));let G=t;t.startsWith("part_categories_")&&(G="part_categories");try{const{error:fe}=await De.from(G).delete().eq("id",V.id);if(fe)throw fe;await Y()}catch{console.warn("Delete failed, performing offline delete");const pe=K(t).filter(me=>me.id!==V.id);ee(t,pe),v(!0)}},ye=async()=>{if(d.length===0||!window.confirm(`   ${d.length}   `))return;n(G=>G.filter(fe=>!d.includes(fe.id)));let V=t;t.startsWith("part_categories_")&&(V="part_categories");try{const{error:G}=await De.from(V).delete().in("id",d);if(G)throw G;f([]),await Y()}catch{console.warn("Bulk delete failed, performing offline delete");const z=K(t).filter(pe=>!d.includes(pe.id));ee(t,z),f([]),v(!0)}},Oe=V=>{const G=y.find(fe=>fe.id===V);G&&u({...c,personnel_id:G.id,full_name:G.full_name,unit:G.unit,personnel_profile:G.profile_picture,password:G.personnel_code,is_default_password:!0})},se=()=>{if(!c)return!1;switch(t){case"user_groups":return!!(c.code&&c.name);case"personnel":return!!(c.personnel_code&&c.full_name);case"org_chart":return!!c.name;case"app_users":return!!(c.username&&c.personnel_id&&c.role);case"locations":return!!c.name;case"equipment_classes":return!!(c.code&&c.name);case"equipment_groups":return!!(c.code&&c.name&&c.class_id);case"equipment":return!!(c.code&&c.name&&c.class_id&&c.group_id);case"equipment_local_names":return!!(c.local_name&&c.class_id&&c.group_id);case"evaluation_periods":return!!(c.code&&c.title);case"evaluation_criteria":return!!(c.title&&c.max_score&&c.org_unit_id);case"measurement_units":return!!c.title;case"equipment_tree":return!!(c.code&&c.name&&c.equipment_id);case"part_categories_main":return!!(c.code&&c.name);case"part_categories_sub":return!!(c.code&&c.name&&c.parent_id);case"part_categories_sub_sub":return!!(c.code&&c.name&&c.parent_id);case"parts":return!!(c.name&&c.category_id);case"activity_cards":return!!(c.code&&c.name);case"checklist_items":return!!(c.description&&c.activity_card_id);case"maintenance_plans":return!!(c.name&&c.equipment_id);default:return!1}},Ne=async V=>{V.preventDefault(),a(!0),g(null);let G={...c},fe=t;if(!se()){a(!1),alert("    ()   .");return}if(t.startsWith("part_categories_")){fe="part_categories";const z=r.some(me=>me.code===G.code&&me.id!==G.id),pe=r.some(me=>me.name===G.name&&me.id!==G.id);if(z){a(!1),alert("  .");return}if(pe){a(!1),alert("  .");return}t==="part_categories_main"&&(G.level_type="MAIN"),t==="part_categories_sub"&&(G.level_type="SUB"),t==="part_categories_sub_sub"&&(G.level_type="SUB_SUB"),delete G.parent_name,delete G.grand_parent_name,delete G.temp_main_cat_id}if(t==="parts"&&(delete G.full_category_path,delete G.temp_main_cat_id,delete G.temp_sub_cat_id,delete G.stock_unit_name,delete G.consumption_unit_name),t==="equipment_classes"){const z=r.some(me=>me.code===G.code&&me.id!==G.id),pe=r.some(me=>me.name===G.name&&me.id!==G.id);if(z){a(!1),alert("   .");return}if(pe){a(!1),alert("   .");return}}if(t==="equipment_groups"){const z=r.some(me=>me.code===G.code&&me.id!==G.id),pe=r.some(me=>me.name===G.name&&me.id!==G.id);if(z){a(!1),alert("   .");return}if(pe){a(!1),alert("   .");return}}if(t==="personnel"&&G.org_unit_id){const z=k.find(pe=>pe.id===G.org_unit_id);z&&(G.unit=z.name)}t==="app_users"&&(delete G.full_name,delete G.unit,delete G.personnel_profile,delete G.avatar,delete G.personnel_code),(t==="org_chart"||t==="locations")&&(delete G.parent_name,t==="org_chart"&&delete G.manager_name),t==="equipment_groups"&&delete G.class_name,(t==="equipment"||t==="equipment_local_names")&&(delete G.class_name,delete G.group_name),t==="equipment_tree"&&(delete G.equipment_name,delete G.parent_name),t==="evaluation_criteria"&&delete G.org_unit_name;try{if(G.id){const{error:z}=await De.from(fe).update(G).eq("id",G.id);if(z)throw z}else{const{error:z}=await De.from(fe).insert([G]);if(z)throw z}await Y(),s(!1)}catch(z){if(z.code==="23505")alert(" :     (  )    .");else{console.warn("Save failed, performing offline save:",z);let me=[...K(t)];if(G.id){const Ee=me.findIndex(Fe=>Fe.id===G.id);Ee>=0?me[Ee]={...me[Ee],...G}:me.push(G)}else G.id=ec(),G.created_at=new Date().toISOString(),me.unshift(G);ee(t,me),alert("     .         ."),await Y(),s(!1)}}finally{a(!1)}},J=()=>{const G=F[t].map(Fe=>Fe.key),fe=r.length>0?r:[];let z="\uFEFF"+G.join(",")+`
`;fe.forEach(Fe=>{const Wt=G.map(er=>{let Tr=Fe[er]||"";return String(Tr).includes(",")&&(Tr=`"${Tr}"`),Tr});z+=Wt.join(",")+`
`});const pe=new Blob([z],{type:"text/csv;charset=utf-8;"}),me=document.createElement("a"),Ee=URL.createObjectURL(pe);me.setAttribute("href",Ee),me.setAttribute("download",`${t}_export.csv`),document.body.appendChild(me),me.click(),document.body.removeChild(me)},X=V=>{var z;const G=(z=V.target.files)==null?void 0:z[0];if(!G)return;const fe=new FileReader;fe.onload=async pe=>{var zn;let me=((zn=pe.target)==null?void 0:zn.result)||"";me=me.replace(/^\uFEFF/,"");const Ee=me.split(/\r?\n/).filter(Nt=>Nt.trim()!=="");if(Ee.length<2){alert("       ."),D.current&&(D.current.value="");return}const Fe=Ee[0],Wt=Fe.includes(";")?";":",",er=Fe.split(Wt).map(Nt=>Nt.trim().replace(/^"|"$/g,"")),Tr=F[t].map(Nt=>Nt.key);if(t==="personnel"&&!er.includes("personnel_code")){alert(':  "personnel_code"  .');return}if(t==="app_users"&&(!er.includes("username")||!er.includes("personnel_code"))){alert('   :     "username"  "personnel_code" .');return}const Pt=[],Ai=[];for(let Nt=1;Nt<Ee.length;Nt++){const fm=Ee[Nt].split(Wt).map(Wn=>Wn.trim().replace(/^"|"$/g,"")),cn={};er.forEach((Wn,Uu)=>{let Kn=fm[Uu];if(Kn&&Kn!=="")if(t==="app_users")if(Wn==="personnel_code"){const co=y.find(hl=>hl.personnel_code===Kn);co?(cn.personnel_id=co.id,cn.password=Kn,cn.is_default_password=!0):Ai.push(` ${Nt+1}:   ${Kn}    .`)}else Tr.includes(Wn)&&(cn[Wn]=Kn);else Tr.includes(Wn)&&(cn[Wn]=Kn)}),!(t==="personnel"&&!cn.personnel_code)&&(t==="app_users"&&!cn.personnel_id||Object.keys(cn).length>0&&Pt.push(cn))}if(Pt.length===0){alert(`    .
`+Ai.join(`
`));return}a(!0);try{const{data:Nt,error:fl}=await De.from(t).insert(Pt).select();if(fl)throw fl;alert(` ${(Nt==null?void 0:Nt.length)||Pt.length}     .`),await Y()}catch(Nt){console.error("Upload Error:",Nt),Nt.code==="23505"?alert("  :     ."):alert(` : ${Nt.message}`)}finally{a(!1),D.current&&(D.current.value="")}},fe.readAsText(G)},Ie=V=>{var fe;const G=(fe=V.target.files)==null?void 0:fe[0];if(G){const z=new FileReader;z.onloadend=()=>{u({...c,profile_picture:z.result})},z.readAsDataURL(G)}},Se=(F[t]||[]).map(V=>({header:V.header,accessor:G=>{if(V.key==="avatar"||V.key==="profile_picture")return l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden flex items-center justify-center",children:G[V.key]?l.jsx("img",{src:G[V.key],alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(ps,{className:"w-5 h-5 text-gray-400"})});if(typeof G[V.key]=="boolean")return G[V.key]?l.jsx("span",{className:"text-green-600",children:""}):l.jsx("span",{className:"text-gray-400",children:""});if(t==="equipment_groups"&&V.key==="class_id")return G.class_name||"-";if(t==="equipment"||t==="equipment_local_names"){if(V.key==="class_id")return G.class_name||"-";if(V.key==="group_id")return G.group_name||"-"}return t==="evaluation_criteria"&&V.key==="org_unit_id"?G.org_unit_name||"-":t==="equipment_tree"&&V.key==="equipment_id"?G.equipment_name||"-":t==="equipment_tree"&&V.key==="parent_id"?G.parent_name||"-":G[V.key]},sortKey:V.key})),Z=l.jsxs(l.Fragment,{children:[d.length>0&&l.jsxs("button",{onClick:ye,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[l.jsx($t,{className:"w-4 h-4"}),"  ",d.length," "]}),l.jsxs("button",{onClick:J,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[l.jsx(hj,{className:"w-4 h-4"}),"  / "]}),l.jsx("input",{type:"file",ref:D,accept:".csv",onChange:X,className:"hidden"}),l.jsxs("button",{onClick:()=>{var V;return(V=D.current)==null?void 0:V.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[l.jsx(Cc,{className:"w-4 h-4"}),"    (CSV)"]})]}),he=()=>{const V=M.filter(G=>G.level_type==="MAIN");return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.parent_id||"",onChange:G=>u({...c,parent_id:G.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[l.jsx("option",{value:"",children:" ..."}),V.map(G=>l.jsxs("option",{value:G.id,children:[G.name," (",G.code,")"]},G.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.code||"",onChange:G=>u({...c,code:G.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.name||"",onChange:G=>u({...c,name:G.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},ie=()=>{const V=M.filter(fe=>fe.level_type==="MAIN"),G=M.filter(fe=>fe.level_type==="SUB"&&(!c.temp_main_cat_id||fe.parent_id===c.temp_main_cat_id));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),l.jsxs("select",{value:c.temp_main_cat_id||"",onChange:fe=>u({...c,temp_main_cat_id:fe.target.value,parent_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[l.jsx("option",{value:"",children:" ..."}),V.map(fe=>l.jsxs("option",{value:fe.id,children:[fe.name," (",fe.code,")"]},fe.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.parent_id||"",onChange:fe=>u({...c,parent_id:fe.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",disabled:!c.temp_main_cat_id,children:[l.jsx("option",{value:"",children:" ..."}),G.map(fe=>l.jsxs("option",{value:fe.id,children:[fe.name," (",fe.code,")"]},fe.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.code||"",onChange:fe=>u({...c,code:fe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.name||"",onChange:fe=>u({...c,name:fe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},Me=()=>{const V=M.filter(z=>z.level_type==="MAIN"),G=M.filter(z=>z.level_type==="SUB"&&(!c.temp_main_cat_id||z.parent_id===c.temp_main_cat_id)),fe=M.filter(z=>z.level_type==="SUB_SUB"&&(!c.temp_sub_cat_id||z.parent_id===c.temp_sub_cat_id));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:" "}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{value:c.temp_main_cat_id||"",onChange:z=>u({...c,temp_main_cat_id:z.target.value,temp_sub_cat_id:"",category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",children:[l.jsx("option",{value:"",children:".  ..."}),V.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:c.temp_sub_cat_id||"",onChange:z=>u({...c,temp_sub_cat_id:z.target.value,category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",disabled:!c.temp_main_cat_id,children:[l.jsx("option",{value:"",children:".  ..."}),G.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:c.category_id||"",onChange:z=>u({...c,category_id:z.target.value}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800 border-primary",disabled:!c.temp_sub_cat_id,children:[l.jsx("option",{value:"",children:".    ()..."}),fe.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),l.jsx("input",{type:"text",value:c.code||"",onChange:z=>u({...c,code:z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.name||"",onChange:z=>u({...c,name:z.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),l.jsxs("select",{value:c.stock_unit_id||"",onChange:z=>u({...c,stock_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[l.jsx("option",{value:"",children:"..."}),U.map(z=>l.jsx("option",{value:z.id,children:z.title},z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),l.jsxs("select",{value:c.consumption_unit_id||"",onChange:z=>u({...c,consumption_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[l.jsx("option",{value:"",children:"..."}),U.map(z=>l.jsx("option",{value:z.id,children:z.title},z.id))]})]})]})]})},Ve=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 border-4 border-white dark:border-gray-600 shadow-lg overflow-hidden flex items-center justify-center",children:c.personnel_profile?l.jsx("img",{src:c.personnel_profile,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx(ps,{className:"w-10 h-10 text-gray-400"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-bold text-lg",children:c.full_name||" "}),l.jsx("p",{className:"text-sm text-gray-500",children:c.unit||"  "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.personnel_id||"",onChange:V=>Oe(V.target.value),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:"  ..."}),y.map(V=>l.jsxs("option",{value:V.id,children:[V.full_name," (",V.personnel_code,")"]},V.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",dir:"ltr",value:c.username||"",onChange:V=>u({...c,username:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:"user123"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.role||"",onChange:V=>u({...c,role:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:"  ..."}),_.map(V=>l.jsx("option",{value:V.name,children:V.name},V.id))]})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"         ."]})]})]}),oe=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"text",value:c.code||"",onChange:V=>u({...c,code:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.name||"",onChange:V=>u({...c,name:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),l.jsxs("select",{value:c.parent_id||"",onChange:V=>u({...c,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:"  ()"}),r.filter(V=>V.id!==c.id).map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:c.manager_id||"",onChange:V=>u({...c,manager_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:" ..."}),y.map(V=>l.jsxs("option",{value:V.id,children:[V.full_name," (",V.unit,")"]},V.id))]})]})]}),_e=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),l.jsx("input",{type:"text",value:c.code||"",onChange:V=>u({...c,code:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.name||"",onChange:V=>u({...c,name:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),l.jsxs("select",{value:c.parent_id||"",onChange:V=>u({...c,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:"  ()"}),r.filter(V=>V.id!==c.id).map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(Js,{className:"text-primary"}),"   "]}),x&&l.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[l.jsx(VL,{className:"w-4 h-4"}),"  "]})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:Y,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:l.jsx(Ay,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&l.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 pb-3 mb-2",children:kce.map(V=>l.jsx("button",{onClick:()=>e(V),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===V?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:Zk[V]},V))}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:l.jsx(ki,{title:Zk[t],data:r,columns:Se,onAdd:ge,onEdit:R,onDelete:ue,extraActions:Z,selectedIds:d,onSelect:f,customRowActions:V=>t==="app_users"?l.jsx("button",{onClick:()=>Q(V),className:"p-1.5 text-slate-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"  ",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round","aria-hidden":"true",children:[l.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),l.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}):null})}),o&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[l.jsx("h3",{className:"font-bold",children:c!=null&&c.id?" ":"  "}),l.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Ne,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t==="app_users"?Ve():t==="org_chart"?oe():t==="locations"?_e():t==="part_categories_sub"?he():t==="part_categories_sub_sub"?ie():t==="parts"?Me():l.jsxs(l.Fragment,{children:[F[t].map(V=>{const G=W.includes(V.key);if(V.key==="parent_name"||t==="evaluation_criteria"&&V.key==="org_unit_name"||t==="part_categories_main"&&V.key==="level_type")return null;const fe=G&&!(t==="equipment"&&V.key==="description");if(t==="personnel"&&V.key==="unit")return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.org_unit_id||"",onChange:z=>u({...c,org_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:" ..."}),k.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(V.key));if(t==="evaluation_criteria"&&V.key==="org_unit_id")return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.org_unit_id||"",onChange:z=>u({...c,org_unit_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:" ..."}),k.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(V.key));if(t==="equipment_groups"&&V.key==="class_id")return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.class_id||"",onChange:z=>u({...c,class_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:" ..."}),N.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(V.key));if(t==="equipment"||t==="equipment_local_names"){if(V.key==="class_id")return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.class_id||"",onChange:z=>u({...c,class_id:z.target.value,group_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:" ..."}),N.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]},String(V.key));if(V.key==="group_id"){const z=C.filter(pe=>pe.class_id===c.class_id);return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.group_id||"",onChange:pe=>u({...c,group_id:pe.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",disabled:!c.class_id,children:[l.jsx("option",{value:"",children:" ..."}),z.map(pe=>l.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]},String(V.key))}}return t==="equipment_tree"&&V.key==="equipment_id"?l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",G&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:c.equipment_id||"",onChange:z=>u({...c,equipment_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:" ..."}),I.map(z=>l.jsxs("option",{value:z.id,children:[z.name," (",z.code,")"]},z.id))]})]},String(V.key)):t==="equipment_tree"&&V.key==="parent_id"?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:c.parent_id||"",onChange:z=>u({...c,parent_id:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[l.jsx("option",{value:"",children:"  ()"}),r.filter(z=>z.id!==c.id&&z.equipment_id===c.equipment_id).map(z=>l.jsxs("option",{value:z.id,children:[z.name," (",z.code,")"]},z.id))]})]},String(V.key)):l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[V.header," ",fe&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:V.key==="email"?"email":"text",value:c[V.key]||"",onChange:z=>u({...c,[V.key]:z.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:V.key==="mobile"?": 09123456789":""})]},String(V.key))}),t==="personnel"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[l.jsxs("div",{onClick:()=>{var V;return(V=B.current)==null?void 0:V.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[c.profile_picture?l.jsx("img",{src:c.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx(xf,{className:"w-8 h-8"})}),l.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:l.jsx(Cc,{className:"w-6 h-6 text-white"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"file",ref:B,accept:"image/*",className:"hidden",onChange:Ie}),l.jsxs("button",{type:"button",onClick:()=>{var V;return(V=B.current)==null?void 0:V.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[l.jsx(xf,{className:"w-4 h-4"}),"  "]}),l.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]})]}),l.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t dark:border-gray-700 mt-2",children:[l.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),l.jsxs("button",{type:"submit",disabled:i||!se(),className:`flex-1 py-2.5 rounded-lg flex justify-center gap-2 items-center transition shadow-lg ${i||!se()?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-70":"bg-primary text-white hover:bg-red-800"}`,children:[i?l.jsx(Ay,{className:"w-4 h-4 animate-spin"}):l.jsx(An,{className:"w-4 h-4"})," "]})]})]})]})})]})},Mn=({value:t,onChange:e,label:r,error:n,disableFuture:i=!0})=>{const[a,o]=T.useState(!1),[s,c]=T.useState(1403),[u,d]=T.useState(1),f=T.useRef(null);T.useEffect(()=>{if(t){const N=t.split("/").map(Number);N.length===3&&(c(N[0]),d(N[1]))}else{const N=ct().split("/").map(Number);c(N[0]),d(N[1])}},[t,a]),T.useEffect(()=>{const N=E=>{f.current&&!f.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],x=(N,E)=>E<=6?31:E<=11||N%33===1||N%33===5||N%33===9||N%33===13||N%33===17||N%33===22||N%33===26||N%33===30?30:29,v=(N,E)=>{const{gy:C,gm:A,gd:I}=Sj(N,E,1);return new Date(C,A-1,I).getDay()},y=()=>{u===1?(d(12),c(N=>N-1)):d(N=>N-1)},b=()=>{u===12?(d(1),c(N=>N+1)):d(N=>N+1)},_=N=>{const E=`${s}/${String(u).padStart(2,"0")}/${String(N).padStart(2,"0")}`;i&&Tf(E)||(e(E),o(!1))},w=()=>{const N=ct();e(N),o(!1)},k=(v(s,u)+1)%7,S=x(s,u);return l.jsxs("div",{className:"relative",ref:f,children:[r&&l.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),l.jsxs("button",{type:"button",onClick:()=>o(!a),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${a?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[l.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),l.jsx(uL,{className:"w-4 h-4 text-gray-400"})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("button",{onClick:y,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:l.jsx(Eu,{className:"w-4 h-4"})}),l.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",s]}),l.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:l.jsx(ap,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((N,E)=>l.jsx("span",{className:E===6?"text-red-500 font-bold":"",children:N},E))}),l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:k}).map((N,E)=>l.jsx("div",{},`empty-${E}`)),Array.from({length:S}).map((N,E)=>{const C=E+1,A=`${s}/${String(u).padStart(2,"0")}/${String(C).padStart(2,"0")}`,I=t===A,$=i&&Tf(A),U=(k+E)%7===6;return l.jsx("button",{type:"button",disabled:$,onClick:()=>_(C),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${I?"bg-primary text-white shadow-md font-bold":$?"text-gray-200 dark:text-gray-600 cursor-not-allowed":U?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:C},C)})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:l.jsx("button",{type:"button",onClick:w,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},Wr=({value:t,onChange:e,label:r})=>{const[n,i]=T.useState(!1),[a,o]=T.useState("HOURS"),s=T.useRef(null),[c,u]=T.useState("00"),[d,f]=T.useState("00");T.useEffect(()=>{if(t&&t.includes(":")){const[_,w]=t.split(":");u(_),f(w)}},[t,n]),T.useEffect(()=>{const _=w=>{s.current&&!s.current.contains(w.target)&&i(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const h=_=>{u(_),o("MINUTES")},g=_=>{f(_),e(`${c}:${_}`),i(!1),o("HOURS")},x=(_,w,k)=>{const S=_*(360/w)-90,N=k*Math.cos(S*Math.PI/180),E=k*Math.sin(S*Math.PI/180);return{transform:`translate(${N}px, ${E}px)`}},v=[12,13,14,15,16,17,18,19,20,21,22,23],y=[12,1,2,3,4,5,6,7,8,9,10,11],b=[0,5,10,15,20,25,30,35,40,45,50,55];return l.jsxs("div",{className:"relative",ref:s,children:[r&&l.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),l.jsxs("button",{type:"button",onClick:()=>i(!n),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[l.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),l.jsx(Ks,{className:"w-5 h-5 text-gray-400"})]}),n&&l.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[l.jsx("button",{type:"button",onClick:()=>o("HOURS"),className:`p-1 rounded ${a==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:c}),l.jsx("span",{className:"text-gray-300 pb-2",children:":"}),l.jsx("button",{type:"button",onClick:()=>o("MINUTES"),className:`p-1 rounded ${a==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),l.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[l.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),a==="HOURS"&&l.jsxs(l.Fragment,{children:[v.map((_,w)=>{const k=_===12?"00":_,S=String(k).padStart(2,"0"),N=c===S;return l.jsx("button",{type:"button",onClick:()=>h(S),style:x(w,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${N?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`out-${_}`)}),y.map((_,w)=>{const k=String(_).padStart(2,"0"),S=c===k;return l.jsx("button",{type:"button",onClick:()=>h(k),style:x(w,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:_===12?"12":_},`in-${_}`)})]}),a==="MINUTES"&&l.jsxs(l.Fragment,{children:[b.map((_,w)=>{const k=String(_).padStart(2,"0"),S=d===k;return l.jsx("button",{type:"button",onClick:()=>g(k),style:x(w,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`m-${_}`)}),l.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),l.jsx("div",{className:"text-xs text-gray-400 text-center",children:a==="HOURS"?"   ":"   "})]})]})},Fb=({initialData:t,onProcessComplete:e})=>{const r=zs(),n=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,a=i?"   ()":"  ",[o,s]=T.useState("GENERAL"),[c,u]=T.useState(null),[d,f]=T.useState(null),[h,g]=T.useState(!1),[x,v]=T.useState(null),[y,b]=T.useState(!1),[_,w]=T.useState([]),[k,S]=T.useState([]),[N,E]=T.useState([]),[C,A]=T.useState([]),[I,$]=T.useState([]),[U,O]=T.useState([]),M=T.useRef(null),[P,D]=T.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:n.fullName||" ",reportDate:ct(),reportTime:ms(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:ct(),startTime:"",endDate:ct(),endTime:"",downtime:"",repairTime:""}),[B,F]=T.useState([]),[W,K]=T.useState([]),[ee,Y]=T.useState([]);T.useEffect(()=>{(async()=>{const he=await qe("equipment"),ie=await qe("equipment_local_names"),Me=await qe("locations");S(he),E(ie),$(he),O(ie),A(Me),w(await qe("measurement_units"))})(),t&&(D(he=>({...he,...t})),t.labor&&F(t.labor),t.parts&&K(t.parts),t.docs&&Y(t.docs))},[t]);const ge=Z=>{const he=Z.target.value,ie=k.find(Me=>Me.code===he);if(!ie){D(Me=>({...Me,equipCode:"",equipName:"",locationId:""})),O(N);return}if(D(Me=>({...Me,equipCode:he,equipName:ie.name,locationId:ie.location_id||""})),ie.class_id&&ie.group_id){const Me=N.filter(Ve=>Ve.class_id===ie.class_id&&Ve.group_id===ie.group_id);O(Me)}else O(N)},R=Z=>{const he=Z.target.value,ie=N.find(Me=>Me.local_name===he);if(D(Me=>({...Me,equipLocalName:he})),ie&&ie.class_id&&ie.group_id){const Me=k.filter(Ve=>Ve.class_id===ie.class_id&&Ve.group_id===ie.group_id);$(Me)}else $(k)},Q=Z=>{const he=window.SpeechRecognition||window.webkitSpeechRecognition;if(!he){alert("         .");return}if(x===Z){v(null);return}const ie=new he;ie.lang="fa-IR",ie.continuous=!1,ie.interimResults=!1,ie.onstart=()=>v(Z),ie.onend=()=>v(null),ie.onresult=Me=>{const Ve=Me.results[0][0].transcript;D(oe=>({...oe,[Z]:oe[Z]?`${oe[Z]} ${Ve}`:Ve}))},ie.start()},ue=()=>{F([...B,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},ye=(Z,he,ie)=>{F(Me=>Me.map(Ve=>{if(Ve.id!==Z)return Ve;const oe={...Ve,[he]:ie};return["startDate","startTime","endDate","endTime"].includes(he)&&(oe.durationMinutes=KL(oe.startDate,oe.startTime,oe.endDate,oe.endTime)),oe}))},Oe=()=>{var Z;K([...W,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((Z=_[0])==null?void 0:Z.title)||""}])},se=(Z,he,ie)=>{K(Me=>Me.map(Ve=>Ve.id===Z?{...Ve,[he]:ie}:Ve))},Ne=Z=>{if(Z.target.files&&Z.target.files.length>0){const he=Array.from(Z.target.files).map(ie=>({id:Math.random().toString(),name:ie.name}));Y(ie=>[...ie,...he]),Z.target.value=""}},J=(Z,he)=>{Z(ie=>ie.filter(Me=>Me.id!==he))},X=()=>{if(!P.equipCode)return"     .";if(!P.equipLocalName)return"      .";if(!P.productionLine)return"     .";if(!P.locationId)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(Tf(P.startDate)||Tf(P.endDate))return"         .";if(WL(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},Ie=()=>!(!P.equipCode||!P.equipLocalName||!P.productionLine||!P.locationId||!P.workCategory||!P.priority||!P.workType||!P.failureDesc||i&&(!P.actionDesc||!P.downtime||!P.repairTime)),Se=async Z=>{Z.preventDefault(),f(null);const he=X();if(he){f(he),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const ie={...P,labor:B,parts:W,docs:ee};if(i&&e)e(ie);else{b(!0);try{const Me=new Date,Ve=lp(Me.getFullYear(),Me.getMonth()+1,Me.getDate()),oe=String(Ve.jy).substring(2),_e=String(Ve.jm).padStart(2,"0"),V=`W${oe}${_e}`,G=await ro(V);ta("WORK_ORDER",ie,n,G,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),u(G)):f("   .    .")}catch(Me){console.error(Me),f("        .")}finally{b(!1)}}};return c?l.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[l.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[l.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:l.jsx(Ws,{className:"w-10 h-10 text-white"})}),l.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),l.jsx("p",{className:"opacity-90 font-mono text-lg",children:c})]}),l.jsxs("div",{className:"p-6 space-y-3",children:[l.jsxs("button",{onClick:()=>r("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[l.jsx(_L,{className:"w-5 h-5"}),"     "]}),l.jsx("button",{onClick:()=>r("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:a}),i&&l.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[l.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),l.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),l.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),l.jsxs("form",{onSubmit:Se,className:"p-6",children:[d&&l.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[l.jsx(rL,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:d})]}),o==="GENERAL"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),l.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),l.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),l.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),l.jsxs("select",{value:P.shift,onChange:Z=>D({...P,shift:Z.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[l.jsx("option",{value:"DayWork",children:""}),l.jsx("option",{value:"A",children:" A"}),l.jsx("option",{value:"B",children:" B"}),l.jsx("option",{value:"C",children:" C"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[l.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),i?l.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):l.jsxs("select",{value:P.equipCode,onChange:ge,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[l.jsx("option",{value:"",children:" ..."}),I.map(Z=>l.jsxs("option",{value:Z.code,children:[Z.code," - ",Z.name]},Z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),l.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"     "})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:R,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"",children:"  ..."}),U.length>0?U.map(Z=>l.jsx("option",{value:Z.local_name,children:Z.local_name},Z.id)):l.jsx("option",{disabled:!0,children:"  "})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:Z=>D({...P,productionLine:Z.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"",children:" "}),l.jsx("option",{value:"Line A",children:"Line A"}),l.jsx("option",{value:"Line B",children:"Line B"}),l.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{disabled:i,value:P.locationId,onChange:Z=>D({...P,locationId:Z.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"",children:" ..."}),C.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:Z=>D({...P,workType:Z.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"REPAIR",children:"  (EM)"}),l.jsx("option",{value:"PM",children:"  (PM)"}),l.jsx("option",{value:"PROJECT",children:" / "}),l.jsx("option",{value:"INSPECTION",children:" "}),l.jsx("option",{value:"SERVICE",children:" "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:Z=>D({...P,workCategory:Z.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"MECHANICAL",children:""}),l.jsx("option",{value:"ELECTRICAL",children:""}),l.jsx("option",{value:"INSTRUMENTATION",children:" "}),l.jsx("option",{value:"FACILITIES",children:" "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:Z=>D({...P,priority:Z.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[l.jsx("option",{value:"NORMAL",children:""}),l.jsx("option",{value:"URGENT",children:""}),l.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:Z=>D({...P,failureDesc:Z.target.value})}),!i&&l.jsx("button",{type:"button",onClick:()=>Q("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${x==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:x==="failureDesc"?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Yr,{className:"w-5 h-5"})})]})]}),i&&l.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[l.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[l.jsx(cj,{className:"w-5 h-5"}),"    (  )"]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:Z=>D({...P,actionDesc:Z.target.value})}),l.jsx("button",{type:"button",onClick:()=>Q("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${x==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:x==="actionDesc"?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Yr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Mn,{label:" ",value:P.startDate,onChange:Z=>D({...P,startDate:Z})}),l.jsx(Wr,{label:" ",value:P.startTime,onChange:Z=>D({...P,startTime:Z})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Mn,{label:" ",value:P.endDate,onChange:Z=>D({...P,endDate:Z})}),l.jsx(Wr,{label:" ",value:P.endTime,onChange:Z=>D({...P,endTime:Z})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:Z=>D({...P,downtime:Z.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:Z=>D({...P,repairTime:Z.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),o==="LABOR"&&l.jsxs("div",{className:"space-y-4",children:[B.map(Z=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 ml-2",children:[l.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:Z.name,onChange:he=>ye(Z.id,"name",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[l.jsx("option",{value:"",children:"..."}),l.jsx("option",{value:" ",children:"  ()"}),l.jsx("option",{value:" ",children:"  ()"})]})]}),l.jsx("button",{type:"button",onClick:()=>J(F,Z.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:l.jsx($t,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Mn,{label:" ",value:Z.startDate,onChange:he=>ye(Z.id,"startDate",he)}),l.jsx(Wr,{label:" ",value:Z.startTime,onChange:he=>ye(Z.id,"startTime",he)}),l.jsx(Mn,{label:" ",value:Z.endDate,onChange:he=>ye(Z.id,"endDate",he)}),l.jsx(Wr,{label:" ",value:Z.endTime,onChange:he=>ye(Z.id,"endTime",he)})]})]},Z.id)),l.jsxs("button",{type:"button",onClick:ue,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[l.jsx(lr,{className:"w-4 h-4"}),"   "]})]}),o==="PARTS"&&l.jsxs("div",{className:"space-y-4",children:[W.map(Z=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[l.jsx("button",{type:"button",onClick:()=>J(K,Z.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:l.jsx($t,{className:"w-4 h-4"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:Z.code,onChange:he=>se(Z.id,"code",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:Z.name,onChange:he=>se(Z.id,"name",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:Z.qty,onChange:he=>se(Z.id,"qty",Number(he.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{value:Z.unit,onChange:he=>se(Z.id,"unit",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:_.length>0?_.map(he=>l.jsx("option",{value:he.title,children:he.title},he.id)):l.jsx("option",{value:"",children:""})})]})]})]},Z.id)),l.jsxs("button",{type:"button",onClick:Oe,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[l.jsx(lr,{className:"w-4 h-4"}),"   "]})]}),o==="DOCS"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("input",{type:"file",ref:M,multiple:!0,className:"hidden",onChange:Ne}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var Z;return(Z=M.current)==null?void 0:Z.click()},children:[l.jsx(oi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),ee.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),ee.map(Z=>l.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[l.jsx("span",{className:"text-sm truncate max-w-[200px]",children:Z.name}),l.jsx("button",{type:"button",onClick:()=>J(Y,Z.id),className:"text-red-500",children:l.jsx($t,{className:"w-4 h-4"})})]},Z.id))]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:l.jsxs("button",{disabled:!Ie()||y,type:"submit",className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 ${!Ie()||y?"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400 shadow-none":""}`,children:[y?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(An,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},Tce=()=>{const t=zs(),[e,r]=T.useState([]),[n,i]=T.useState([]),[a,o]=T.useState([]),[s,c]=T.useState(null),[u,d]=T.useState(!1),[f,h]=T.useState([]),[g,x]=T.useState(""),[v,y]=T.useState("ALL"),[b,_]=T.useState(""),[w,k]=T.useState(""),[S,N]=T.useState(1),[E,C]=T.useState(10);T.useEffect(()=>{const M=F3();r(M.sort((P,D)=>D.createdAt.localeCompare(P.createdAt)))},[]),T.useEffect(()=>{let M=e;g&&(M=M.filter(P=>{var D;return P.title.includes(g)||P.trackingCode.includes(g)||((D=P.data)==null?void 0:D.equipName)&&P.data.equipName.includes(g)})),v!=="ALL"&&(M=M.filter(P=>A(P).includes(v))),b&&(M=M.filter(P=>P.createdAt>=b)),w&&(M=M.filter(P=>P.createdAt<=w)),i(M),N(1),h([])},[e,g,v,b,w]),T.useEffect(()=>{const M=(S-1)*E,P=M+E;o(n.slice(M,P))},[n,S,E]);const A=M=>{if(M.status==="DONE")return" ";const D=$c().find(F=>F.id===M.workflowId),B=D==null?void 0:D.steps.find(F=>F.id===M.currentStepId);return(B==null?void 0:B.title)||""},I=M=>{const P=A(M);let D="bg-gray-100 text-gray-600";return P.includes("")?D="bg-blue-100 text-blue-700":P.includes("")?D="bg-orange-100 text-orange-700":P.includes("")?D="bg-purple-100 text-purple-700":(P.includes("")||M.status==="DONE")&&(D="bg-green-100 text-green-700"),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${D}`,children:P})},$=M=>{M.target.checked?h(a.map(P=>P.id)):h([])},U=M=>{f.includes(M)?h(f.filter(P=>P!==M)):h([...f,M])},O=()=>{const M=f.length>0?e.filter(K=>f.includes(K.id)):n;if(M.length===0){alert("    .");return}const P=[" ","",""," ","",""],D=M.map(K=>{var ee,Y;return[K.trackingCode,((ee=K.data)==null?void 0:ee.equipName)||"-",K.title,((Y=K.data)==null?void 0:Y.requester)||"-",K.createdAt,A(K)]}),B="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+D.map(K=>K.join(",")).join(`
`),F=encodeURI(B),W=document.createElement("a");W.setAttribute("href",F),W.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)};return l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:l.jsx(_j,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),l.jsxs("button",{onClick:O,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[l.jsx(pj,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden md:inline",children:" "})]}),l.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[l.jsx(lr,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[l.jsxs("div",{className:"relative flex-1 w-full",children:[l.jsx(Ga,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:M=>x(M.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),l.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[l.jsx(op,{className:"w-5 h-5"}),l.jsx("span",{children:""}),u?l.jsx(dj,{className:"w-4 h-4"}):l.jsx(ip,{className:"w-4 h-4"})]})]}),u&&l.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsxs("select",{value:v,onChange:M=>y(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[l.jsx("option",{value:"ALL",children:" "}),l.jsx("option",{value:"",children:" "}),l.jsx("option",{value:"",children:"  "}),l.jsx("option",{value:"",children:" "}),l.jsx("option",{value:"",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"1403/01/01",value:b,onChange:M=>_(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"1403/12/29",value:w,onChange:M=>k(M.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{onClick:()=>{y("ALL"),_(""),k(""),x("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:l.jsxs("table",{className:"w-full text-right text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10",children:l.jsx("input",{type:"checkbox",onChange:$,checked:a.length>0&&f.length===a.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:"  / "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:a.length>0?a.map(M=>{var P,D,B;return l.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(M.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[l.jsx("td",{className:"p-4",children:l.jsx("input",{type:"checkbox",checked:f.includes(M.id),onChange:()=>U(M.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),l.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:M.trackingCode}),l.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=M.data)==null?void 0:P.equipName)||"-"}),l.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((D=M.data)==null?void 0:D.failureDesc)||M.title}),l.jsx("td",{className:"p-4",children:((B=M.data)==null?void 0:B.requester)||""}),l.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:M.createdAt}),l.jsx("td",{className:"p-4",children:I(M)}),l.jsx("td",{className:"p-4",children:l.jsxs("button",{onClick:()=>c(M),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[l.jsx(Nx,{className:"w-4 h-4"})," "]})})]},M.id)}):l.jsx("tr",{children:l.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[l.jsx(Ga,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("span",{children:"     ."})]})})})]})}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("select",{value:E,onChange:M=>{C(Number(M.target.value)),N(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"}),l.jsx("option",{value:200,children:"200"})]}),l.jsx("span",{children:"   "}),l.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",n.length," "]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{disabled:S===1,onClick:()=>N(M=>Math.max(1,M-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Eu,{className:"w-4 h-4"})}),l.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(n.length/E)||1]}),l.jsx("button",{disabled:S>=Math.ceil(n.length/E),onClick:()=>N(M=>M+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ap,{className:"w-4 h-4"})})]})]})]}),s&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-bold text-lg",children:s.title}),l.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),l.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:l.jsx("div",{className:"pointer-events-none opacity-90",children:l.jsx(Fb,{initialData:s.data})})}),l.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:l.jsx("button",{onClick:()=>c(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},Ace=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Cce=({user:t})=>{const e=zs(),[r,n]=T.useState("SELECT"),[i,a]=T.useState(Ace),[o,s]=T.useState(""),c=(h,g)=>{a(x=>x.map(v=>v.id===h?{...v,status:g}:v))},u=()=>{n("SENDING"),setTimeout(()=>{s(Nj("J")),n("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(r==="SELECT")return l.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[l.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>n("CHECKLIST"),children:l.jsx(IL,{className:"w-20 h-20 text-primary"})}),l.jsx("p",{className:"text-lg font-medium",children:" QR   "}),l.jsx("button",{onClick:()=>n("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(r==="SENDING")return l.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),l.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:l.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(r==="RESULT"){const h=i.filter(g=>g.status==="NOK");return l.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("div",{className:"text-4xl animate-bounce",children:""}),l.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",o]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[l.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsx("span",{className:"text-gray-500",children:":"}),l.jsx("span",{children:"  101"}),l.jsx("span",{className:"text-gray-500",children:":"}),l.jsx("span",{children:ct()}),l.jsx("span",{className:"text-gray-500",children:":"}),l.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),l.jsx("span",{className:"text-gray-500",children:":"}),l.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[l.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),l.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>l.jsx("li",{children:g.desc},g.id))})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[l.jsx(kx,{className:"w-5 h-5"}),"  "]}),l.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[l.jsx(gj,{className:"w-5 h-5"})," "]})]})]})}return l.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),l.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),l.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),l.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>l.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[l.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>c(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[l.jsx(hs,{className:"w-5 h-5"})," "]}),l.jsxs("button",{onClick:()=>c(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[l.jsx(gt,{className:"w-5 h-5"})," "]})]}):l.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[l.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),l.jsx(Yr,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[l.jsx(xf,{className:"w-4 h-4"}),"  "]}),l.jsx("button",{onClick:()=>c(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:l.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})},jce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1),[s,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,x]=T.useState([]),[v,y]=T.useState([]),[b,_]=T.useState({mainCatId:"",subCatId:"",subSubCatId:"",search:""}),[w,k]=T.useState([]),[S,N]=T.useState({requestDate:ct(),requestTime:ms(),workOrderId:"",description:""}),[E,C]=T.useState([]),[A,I]=T.useState({id:"",partId:"",partName:"",partCode:"",qty:1,unit:"",note:""}),[$,U]=T.useState(!1);T.useEffect(()=>{M(),O()},[]);const O=async()=>{const R=fp("PART_REQUEST");i(R.map(Q=>({...Q,...Q.data})))},M=async()=>{o(!0);const[R,Q,ue,ye]=await Promise.all([qe("part_categories"),qe("parts"),qe("measurement_units"),De.from("cartable_items").select("*").eq("module","WORK_ORDER").neq("status","DONE")]);d(R||[]),h(Q||[]),x(ue||[]),y(ye.data||[]),ue&&ue.length>0&&I(Oe=>({...Oe,unit:ue[0].title})),o(!1)};T.useEffect(()=>{let R=f;if(b.subSubCatId)R=R.filter(Q=>Q.category_id===b.subSubCatId);else if(b.subCatId){const Q=u.filter(ue=>ue.parent_id===b.subCatId).map(ue=>ue.id);R=R.filter(ue=>Q.includes(ue.category_id))}else if(b.mainCatId){const Q=u.filter(ye=>ye.parent_id===b.mainCatId).map(ye=>ye.id),ue=u.filter(ye=>Q.includes(ye.parent_id)).map(ye=>ye.id);R=R.filter(ye=>ue.includes(ye.category_id))}if(b.search){const Q=b.search.toLowerCase();R=R.filter(ue=>ue.name&&ue.name.toLowerCase().includes(Q)||ue.code&&ue.code.toLowerCase().includes(Q))}k(R)},[b,f,u]);const P=R=>{var ye,Oe;const Q=f.find(se=>se.id===R);if(!Q)return;const ue=((ye=g.find(se=>se.id===Q.consumption_unit_id))==null?void 0:ye.title)||((Oe=g[0])==null?void 0:Oe.title)||"";I(se=>({...se,partId:Q.id,partName:Q.name,partCode:Q.code,unit:ue}))},D=()=>{if(!A.partId&&!A.partName){alert("          .");return}if(A.qty<=0){alert("     .");return}const R={...A,id:Math.random().toString()};C(Q=>[...Q,R]),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:A.unit,note:""})},B=R=>{I(R),U(!0),C(Q=>Q.filter(ue=>ue.id!==R.id))},F=()=>{var R;!A.partName||A.qty<=0||(C(Q=>[...Q,A]),U(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((R=g[0])==null?void 0:R.title)||"",note:""}))},W=R=>{window.confirm("      ")&&C(Q=>Q.filter(ue=>ue.id!==R))},K=async R=>{if(R.preventDefault(),E.length===0){alert("   .      .");return}if(!S.workOrderId&&!S.description.trim()){alert("       ( )  .");return}c(!0);try{const Q=new Date,ue=ct().split("/"),ye=await ro("P"),Oe=v.find(Z=>Z.id===S.workOrderId),se=Oe?Oe.tracking_code:null,Ne={tracking_code:ye,requester_id:t.id,requester_name:t.fullName,work_order_id:S.workOrderId||null,work_order_code:se,request_date:S.requestDate,description:S.description||(Oe?`   ${Oe.title}`:""),status:"PENDING"},{data:J,error:X}=await De.from("part_requests").insert([Ne]).select().single();if(X)throw X;const Ie=E.map(Z=>({request_id:J.id,part_id:Z.partId||null,part_name:Z.partName,qty:Z.qty,unit:Z.unit,note:Z.note})),{error:Se}=await De.from("part_request_items").insert(Ie);if(Se)throw Se;ta("PART_REQUEST",{...Ne,items:E},t,ye,` : ${E.length} `),alert(`    ${ye}    .`),r("LIST"),O(),C([]),N({requestDate:ct(),requestTime:ms(),workOrderId:"",description:""})}catch(Q){console.error(Q),alert("   : "+Q.message)}finally{c(!1)}},ee=u.filter(R=>R.level_type==="MAIN"),Y=u.filter(R=>R.level_type==="SUB"&&(!b.mainCatId||R.parent_id===b.mainCatId)),ge=u.filter(R=>R.level_type==="SUB_SUB"&&(!b.subCatId||R.parent_id===b.subCatId));return e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:"   ",icon:Zl,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:R=>l.jsx("span",{className:"font-mono font-bold",children:R.trackingCode})},{header:" ",accessor:R=>R.createdAt},{header:"  ",accessor:R=>{var Q;return((Q=R.data)==null?void 0:Q.work_order_code)||"-"}},{header:" ",accessor:R=>{var Q,ue;return l.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded font-bold",children:((ue=(Q=R.data)==null?void 0:Q.items)==null?void 0:ue.length)||0})}},{header:" ",accessor:R=>{var Q;return((Q=R.data)==null?void 0:Q.requester_name)||t.fullName}},{header:"",accessor:R=>l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${R.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:R.status==="PENDING"?"  ":" "})}]})}):l.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:l.jsx(Zl,{className:"w-8 h-8 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"   / "}),l.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),l.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),l.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm",children:t.fullName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-mono text-center",children:S.requestDate})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  "}),l.jsxs("select",{value:S.workOrderId,onChange:R=>N({...S,workOrderId:R.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-600 text-sm outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:"  ()"}),v.map(R=>l.jsxs("option",{value:R.id,children:[R.tracking_code," - ",R.title]},R.id))]})]}),!S.workOrderId&&l.jsxs("div",{className:"md:col-span-3 animate-fadeIn",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:S.description,onChange:R=>N({...S,description:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:"    ..."})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4 flex items-center gap-2",children:[l.jsx(lr,{className:"w-5 h-5 text-green-600"}),$?"  ":"  "]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-blue-700 mb-2",children:[l.jsx(op,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2",children:[l.jsxs("select",{value:b.mainCatId,onChange:R=>_({...b,mainCatId:R.target.value,subCatId:"",subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",children:[l.jsx("option",{value:"",children:"  "}),ee.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]}),l.jsxs("select",{value:b.subCatId,onChange:R=>_({...b,subCatId:R.target.value,subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",disabled:!b.mainCatId,children:[l.jsx("option",{value:"",children:"  "}),Y.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]}),l.jsxs("select",{value:b.subSubCatId,onChange:R=>_({...b,subSubCatId:R.target.value}),className:"p-2 rounded border outline-none text-xs",disabled:!b.subCatId,children:[l.jsx("option",{value:"",children:" "}),ge.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ga,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" /...",value:b.search,onChange:R=>_({...b,search:R.target.value}),className:"w-full p-2 pl-8 rounded border outline-none text-xs"})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:A.partId,onChange:R=>P(R.target.value),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:"--     --"}),w.map(R=>l.jsxs("option",{value:R.id,children:[R.name," ",R.code?`(${R.code})`:""]},R.id))]}),l.jsx("div",{className:"mt-1 text-xs text-gray-400",children:w.length===0?"   .":`${w.length}   .`})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (   )"}),l.jsx("input",{type:"text",value:A.partName,onChange:R=>I({...A,partName:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",min:"0.01",step:"0.01",value:A.qty,onChange:R=>I({...A,qty:Number(R.target.value)}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-center font-bold"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{value:A.unit,onChange:R=>I({...A,unit:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",children:g.map(R=>l.jsx("option",{value:R.title,children:R.title},R.id))})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx("input",{type:"text",value:A.note,onChange:R=>I({...A,note:R.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-sm",placeholder:"     ()..."})}),l.jsx("div",{className:"mt-4 flex justify-end",children:$?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{var R;U(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((R=g[0])==null?void 0:R.title)||"",note:""})},className:"px-4 py-2 border rounded-lg text-gray-500 hover:bg-gray-100",children:""}),l.jsx("button",{onClick:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg",children:""})]}):l.jsxs("button",{onClick:D,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg flex items-center justify-center gap-2 font-bold transition transform active:scale-95",children:[l.jsx(lr,{className:"w-5 h-5"}),"   "]})})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(SL,{className:"w-5 h-5"}),"   "]}),l.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full",children:E.length})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[500px]",children:E.length===0?l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[l.jsx(Zl,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"    ."]}):E.map((R,Q)=>l.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border border-gray-100 dark:border-gray-600 shadow-sm hover:shadow-md transition relative group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:R.partName}),l.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-600 px-1.5 py-0.5 rounded font-mono text-gray-500",children:R.partCode||"---"})]}),l.jsxs("div",{className:"text-sm text-blue-600 font-bold mb-1",children:[R.qty," ",R.unit]}),R.note&&l.jsx("div",{className:"text-xs text-gray-500 italic border-t pt-1 mt-1",children:R.note}),l.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-gray-800/80 rounded p-0.5 backdrop-blur-sm",children:[l.jsx("button",{onClick:()=>B(R),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",children:l.jsx(sp,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>W(R.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:l.jsx($t,{className:"w-4 h-4"})})]})]},R.id))}),l.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:l.jsxs("button",{onClick:K,disabled:E.length===0||s||!S.workOrderId&&!S.description,className:"w-full bg-primary text-white py-3 rounded-xl shadow-xl hover:bg-red-800 transition font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(An,{className:"w-5 h-5"}),"  "]})})]})})]})]})},Pce=()=>{const[t,e]=T.useState("LIST"),[r,n]=T.useState([]),[i,a]=T.useState(!1),[o,s]=T.useState(!1),c=T.useRef(null),[u,d]=T.useState(null),[f,h]=T.useState({code:"",name:"",type:""});T.useEffect(()=>{g()},[t]);const g=async()=>{a(!0);try{const{data:w,error:k}=await De.from("technical_documents").select("*").order("created_at",{ascending:!1});if(k)throw k;n(w||[])}catch(w){console.error("Error fetching documents:",w)}finally{a(!1)}},x=()=>{var w;(w=c.current)==null||w.click()},v=w=>{w.target.files&&w.target.files[0]&&d(w.target.files[0])},y=()=>f.code.trim()!==""&&f.name.trim()!==""&&f.type!=="",b=async w=>{if(w.preventDefault(),!!y()){s(!0);try{const k={code:f.code,title:f.name,type:f.type,file_name:u?u.name:" "},{error:S}=await De.from("technical_documents").insert([k]);if(S)throw S;alert("    ."),h({code:"",name:"",type:""}),d(null),c.current&&(c.current.value=""),e("LIST"),g()}catch(k){alert("   : "+k.message)}finally{s(!1)}}},_=async w=>{if(window.confirm("      "))try{const{error:k}=await De.from("technical_documents").delete().eq("id",w.id);if(k)throw k;n(S=>S.filter(N=>N.id!==w.id))}catch(k){alert("  : "+k.message)}};return t==="LIST"?l.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx("button",{onClick:g,className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:l.jsx(Ay,{className:`w-5 h-5 ${i?"animate-spin":""}`})})}),l.jsx(ki,{title:"  ",icon:Xl,data:r,onAdd:()=>e("NEW"),onDelete:_,columns:[{header:" ",accessor:w=>l.jsx("span",{className:"font-mono font-bold",children:w.code})},{header:" ",accessor:w=>w.title},{header:" ",accessor:w=>w.type},{header:" ",accessor:w=>w.file_name||"-"},{header:" ",accessor:w=>new Date(w.created_at).toLocaleDateString("fa-IR")}]})]}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),l.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit border border-gray-200 dark:border-gray-700",children:l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{value:f.code,onChange:w=>h({...f,code:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:": MAP-101"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{value:f.name,onChange:w=>h({...f,name:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:"   ..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:f.type,onChange:w=>h({...f,type:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all cursor-pointer",required:!0,children:[l.jsx("option",{value:"",children:" ..."}),l.jsx("option",{value:"MAP",children:" "}),l.jsx("option",{value:"CATALOG",children:"  "}),l.jsx("option",{value:"MANUAL",children:" "}),l.jsx("option",{value:"OTHER",children:" "})]})]}),l.jsx("input",{type:"file",ref:c,onChange:v,className:"hidden"}),l.jsxs("div",{onClick:x,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all mt-6
                ${u?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[l.jsx(Cc,{className:`w-10 h-10 mx-auto mb-4 ${u?"text-green-600":"text-gray-400"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:u?u.name:"    "}),l.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),l.jsxs("div",{className:"flex gap-3 pt-6 border-t dark:border-gray-700 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),l.jsxs("button",{type:"submit",disabled:!y()||o,className:`flex-[2] py-3 rounded-xl shadow-lg font-bold transition-all flex items-center justify-center gap-2
                        ${y()&&!o?"bg-primary text-white hover:bg-red-800 cursor-pointer transform active:scale-95":"bg-gray-300 text-gray-500 dark:bg-gray-700 dark:text-gray-400 cursor-not-allowed opacity-70"}
                    `,children:[o?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Xl,{className:"w-5 h-5"}),"  "]})]})]})})]})},eE=({value:t,onChange:e,label:r,error:n})=>{const[i,a]=T.useState(!1),o=T.useRef(null),s=Array.from({length:24},(g,x)=>String(x).padStart(2,"0")),c=Array.from({length:12},(g,x)=>String(x*5).padStart(2,"0"));T.useEffect(()=>{const g=x=>{o.current&&!o.current.contains(x.target)&&a(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),a(!1)};return l.jsxs("div",{className:"relative",ref:o,children:[r&&l.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),l.jsxs("button",{type:"button",onClick:()=>a(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[l.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),l.jsx(Ks,{className:"w-4 h-4 text-gray-400"})]}),i&&l.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[l.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),c.map(g=>l.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),l.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),l.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[l.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>l.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},Ice=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1),[s,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,x]=T.useState(null);T.useEffect(()=>{v(),qe("personnel").then(d),qe("org_chart").then(h),y()},[e]);const v=async()=>{o(!0);const{data:J}=await De.from("meeting_minutes").select("*").order("created_at",{ascending:!1});J&&i(J),o(!1)},y=async()=>{const{data:J}=await De.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();J&&x(J.avatar)},[b,_]=T.useState({subject:"",location:"",meetingDate:ct(),startTime:"",endTime:""}),[w,k]=T.useState([]),[S,N]=T.useState(""),[E,C]=T.useState(null),[A,I]=T.useState([]),[$,U]=T.useState({name:"",role:""});T.useRef(null);const[O,M]=T.useState([]),[P,D]=T.useState(null),B=()=>{if(!$.name||!$.role){alert("      ");return}I([...A,$]),U({name:"",role:""})},F=J=>{I(A.filter((X,Ie)=>Ie!==J))},W=()=>{S.trim()&&(E?(k(w.map(J=>J.id===E?{...J,text:S}:J)),C(null)):k([...w,{id:Math.random().toString(),text:S}]),N(""))},K=J=>{N(J.text),C(J.id)},ee=J=>{k(w.filter(X=>X.id!==J))},Y=J=>{const X=["","","","","","","","","",""];return J.toString().replace(/\d/g,Ie=>X[parseInt(Ie)])},ge=()=>{if(!b.startTime||!b.endTime)return!1;const[J,X]=b.startTime.split(":").map(Number),[Ie,Se]=b.endTime.split(":").map(Number);return Ie>J||Ie===J&&Se>X},R=()=>b.subject&&ge()&&A.length>0&&w.length>0,Q=()=>{b.subject||A.length>0?window.confirm("        ")&&(ue(),r("LIST")):(ue(),r("LIST"))},ue=()=>{_({subject:"",location:"",meetingDate:ct(),startTime:"",endTime:""}),I([]),k([]),M([]),D(null)},ye=async J=>{if(J.preventDefault(),!R())return;c(!0);let X=null,Ie="";try{Ie=await ro("G");const Z=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id)?t.id:null;X={tracking_code:Ie,subject:b.subject,location:b.location,meeting_date:b.meetingDate,start_time:b.startTime,end_time:b.endTime,attendees:A,decisions:w,attached_files:O.map(ie=>({name:ie.name||"unknown",size:ie.size||0,type:ie.type||"application/octet-stream"})),creator_id:Z,status:"PENDING"};const{error:he}=await De.from("meeting_minutes").insert([X]);if(he)throw he;ta("MEETING",X,t,Ie,`: ${b.subject}`),alert("    ."),D(X),r("VIEW")}catch(Se){console.error("Submission Error:",Se);const Z=(Se==null?void 0:Se.message)||(Se==null?void 0:Se.error_description)||(typeof Se=="object"?JSON.stringify(Se):String(Se))||" ";if(alert(`   : 
${Z}

            .`),X){try{ta("MEETING",X,t,Ie||"OFFLINE",` (): ${b.subject}`)}catch(he){console.warn("Local save warning:",he)}D(X),r("VIEW")}}finally{c(!1)}},Oe=()=>{window.print()},se=async()=>{if(navigator.share)try{await navigator.share({title:` ${P.subject}`,text:`  ${P.tracking_code}  ${P.meeting_date}`,url:window.location.href})}catch(J){console.error("Error sharing:",J)}else Oe()},Ne=J=>{D(J),M(J.attached_files||[]),r("VIEW")};return e==="VIEW"&&P?l.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[l.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 210mm !important; min-height: 297mm !important; padding: 20mm !important; margin: 0 !important; box-shadow: none !important; }
                      aside, header, footer { display: none !important; }
                  }
              `}),l.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-sm space-y-6 font-sans box-border w-[210mm] min-h-[297mm] p-[20mm]",children:[l.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-6 relative min-h-[100px]",children:[l.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 flex items-center justify-center shadow-sm",children:g?l.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):l.jsx(Px,{className:"w-full h-full object-contain"})}),l.jsxs("div",{className:"flex flex-col items-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[l.jsx("h1",{className:"text-xl font-black text-[#800020] whitespace-nowrap",children:"     "}),l.jsx("span",{className:"text-sm font-bold text-gray-700 mt-2 bg-gray-100 px-4 py-1 rounded-full border border-gray-200",children:" "})]}),l.jsxs("div",{className:"w-48 text-xs flex flex-col gap-2 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-500 font-bold",children:":"}),l.jsx("span",{className:"font-mono font-bold text-sm text-[#800020]",children:P.tracking_code})]}),l.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-500 font-bold",children:":"}),l.jsx("span",{className:"font-mono font-bold",children:P.meeting_date})]}),l.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-500 font-bold",children:":"}),l.jsx("span",{className:"font-bold",children:O.length>0?"":""})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:" :"})," ",l.jsx("span",{className:"font-bold",children:P.subject})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:" :"})," ",l.jsx("span",{className:"font-bold",children:P.location||"-"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:" :"})," ",l.jsx("span",{className:"font-bold font-mono",children:P.start_time})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:" :"})," ",l.jsx("span",{className:"font-bold font-mono",children:P.end_time})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:"  "}),l.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 p-2 w-10",children:""}),l.jsx("th",{className:"border border-gray-300 p-2",children:"   "}),l.jsx("th",{className:"border border-gray-300 p-2",children:" / "}),l.jsx("th",{className:"border border-gray-300 p-2",children:""})]})}),l.jsx("tbody",{children:P.attendees.map((J,X)=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-2",children:Y(X+1)}),l.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:J.name}),l.jsx("td",{className:"border border-gray-300 p-2",children:J.role}),l.jsx("td",{className:"border border-gray-300 p-2"})]},X))})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:" "}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4 min-h-[200px]",children:P.decisions.map((J,X)=>l.jsxs("div",{className:"flex gap-2 text-justify leading-relaxed border-b border-dashed border-gray-200 pb-2 last:border-0",children:[l.jsxs("span",{className:"font-bold text-[#800020]",children:[Y(X+1),"."]}),l.jsx("span",{children:J.text})]},X))})]}),l.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[l.jsxs("button",{onClick:()=>r("LIST"),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[l.jsx(gj,{className:"w-5 h-5"})," "]}),l.jsxs("button",{onClick:Oe,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold",children:[l.jsx(xj,{className:"w-5 h-5"}),"  (PDF)"]}),l.jsxs("button",{onClick:se,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold",children:[l.jsx(kx,{className:"w-5 h-5"}),"  "]})]})]})]}):e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:" ",icon:bf,data:n,onAdd:()=>{ue(),r("NEW")},columns:[{header:" ",accessor:J=>l.jsx("span",{className:"font-mono font-bold",children:J.tracking_code})},{header:" ",accessor:J=>l.jsx("span",{className:"font-bold",children:J.subject})},{header:" ",accessor:J=>J.meeting_date},{header:"",accessor:J=>`${J.start_time} - ${J.end_time}`},{header:"",accessor:J=>J.location},{header:"",accessor:J=>{var X;return l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded font-bold",children:[((X=J.decisions)==null?void 0:X.length)||0," "]})}}],onViewDetails:Ne})}):l.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:l.jsx(bf,{className:"w-8 h-8 text-primary"})}),l.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),l.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:ye,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:b.subject,onChange:J=>_({...b,subject:J.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"  ..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),l.jsx("input",{type:"text",value:b.location,onChange:J=>_({...b,location:J.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),l.jsx("div",{children:l.jsx(Mn,{label:" ",value:b.meetingDate,onChange:J=>_({...b,meetingDate:J})})}),l.jsx("div",{children:l.jsx(eE,{label:" ",value:b.startTime,onChange:J=>_({...b,startTime:J})})}),l.jsx("div",{children:l.jsx(eE,{label:" ",value:b.endTime,onChange:J=>_({...b,endTime:J}),error:b.endTime&&!ge()?"      ":void 0})})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[l.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[l.jsx(Js,{className:"w-4 h-4"}),"    ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex gap-2 mb-3 items-end",children:[l.jsxs("div",{className:"flex-[1] min-w-0",children:[l.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),l.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:$.name,onChange:J=>U({...$,name:J.target.value}),children:[l.jsx("option",{value:"",children:"..."}),u.map(J=>l.jsx("option",{value:J.full_name,children:J.full_name},J.id))]})]}),l.jsxs("div",{className:"flex-[2] min-w-0",children:[l.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" / "}),l.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:$.role,onChange:J=>U({...$,role:J.target.value}),children:[l.jsx("option",{value:"",children:"..."}),f.map(J=>l.jsx("option",{value:J.name,children:J.name},J.id))]})]}),l.jsx("button",{type:"button",onClick:B,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 h-[38px] w-[38px] flex items-center justify-center",children:l.jsx(lr,{className:"w-5 h-5"})})]}),A.length>0?l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:A.map((J,X)=>l.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"font-bold",children:J.name}),l.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:J.role})]}),l.jsx("button",{type:"button",onClick:()=>F(X),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx($t,{className:"w-4 h-4"})})]},X))}):l.jsx("p",{className:"text-xs text-gray-500 text-center py-2 bg-white/50 rounded border border-dashed",children:"    ."})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[l.jsx(fs,{className:"w-4 h-4"}),"   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"text",value:S,onChange:J=>N(J.target.value),placeholder:" ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),W())}),l.jsx("button",{type:"button",onClick:W,className:`bg-green-600 text-white px-4 rounded-lg hover:bg-green-700 transition ${S.trim()?"":"opacity-50 cursor-not-allowed"}`,children:E?l.jsx(An,{className:"w-5 h-5"}):l.jsx(lr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[w.length===0&&l.jsx("p",{className:"text-sm text-gray-400 text-center py-2 italic",children:"   ."}),w.map((J,X)=>l.jsxs("div",{className:"flex justify-between items-start bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 group",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 mt-0.5",children:Y(X+1)}),l.jsx("span",{className:"text-sm text-justify leading-relaxed",children:J.text})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{type:"button",onClick:()=>K(J),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:l.jsx(sp,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>ee(J.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:l.jsx($t,{className:"w-4 h-4"})})]})]},J.id))]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:Q,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",children:""}),l.jsxs("button",{type:"submit",disabled:!R()||s,className:`flex-[2] text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition
                    ${R()&&!s?"bg-primary":"bg-gray-400 cursor-not-allowed"}
                `,children:[s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(An,{className:"w-5 h-5"}),"   "]})]})]})]})},Oce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1);T.useEffect(()=>{const y=fp("SUGGESTION");i(y.map(b=>({...b,...b.data})))},[e]);const[s,c]=T.useState(""),u=T.useRef(null),[d,f]=T.useState([]),h=async y=>{if(y.preventDefault(),!!s.trim()){o(!0);try{const b=await ro("H"),_={tracking_code:b,user_id:t.id,user_name:t.fullName,description:s,attached_files:d.map(k=>({name:k.name,size:k.size})),status:"PENDING"},{error:w}=await De.from("technical_suggestions").insert([_]);if(w)throw w;ta("SUGGESTION",{text:s,..._},t,b,`: ${s.substring(0,20)}...`),alert(`     ${b}  .`),r("LIST"),c(""),f([])}catch(b){console.error(b),alert("   : "+b.message)}finally{o(!1)}}},g=()=>{var y;(y=u.current)==null||y.click()},x=y=>{y.target.files&&y.target.files.length>0&&f([...d,...Array.from(y.target.files)])},v=y=>{f(d.filter((b,_)=>_!==y))};return e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:" ",icon:Sf,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:y=>l.jsx("span",{className:"font-mono font-bold",children:y.trackingCode})},{header:" ",accessor:y=>y.description?y.description.substring(0,50)+"...":y.title},{header:" ",accessor:y=>y.createdAt},{header:" ",accessor:y=>y.user_name||t.fullName},{header:"",accessor:y=>l.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:y.status==="PENDING"?"  ":"  "})}]})}):l.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sf,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),l.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",value:ct(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:s,onChange:y=>c(y.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),l.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:l.jsx(Yr,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:u,multiple:!0,className:"hidden",onChange:x}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx(oi,{className:"w-4 h-4"}),"  "]}),l.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),d.length>0&&l.jsx("div",{className:"mt-4 space-y-2",children:d.map((y,b)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[l.jsx("span",{className:"truncate max-w-[200px]",children:y.name}),l.jsx("button",{type:"button",onClick:()=>v(b),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx($t,{className:"w-4 h-4"})})]},b))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),l.jsxs("button",{type:"submit",disabled:!s.trim()||a,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition
                    ${!s.trim()||a?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                `,children:[a?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Nf,{className:"w-5 h-5"})," "]})]})]})]})},Rce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState([]),[s,c]=T.useState(!1);T.useEffect(()=>{const y=fp("PURCHASE");i(y.map(b=>({...b,...b.data}))),qe("measurement_units").then(o)},[e]);const[u,d]=T.useState({requestNumber:"",requestDate:ct(),location:" ()",priority:"",desc:"",qty:1,unit:""}),[f,h]=T.useState(null);T.useEffect(()=>{a.length>0&&!u.unit&&d(y=>({...y,unit:a[0].title}))},[a]);const g=()=>/^\d{2}\/\d{4}$/.test(u.requestNumber)&&u.desc.trim().length>0&&u.qty>0&&u.unit.length>0,x=y=>{d({...u,requestNumber:y}),y&&!/^\d{2}\/\d{4}$/.test(y)?h("   (: 03/1234)"):h(null)},v=async y=>{var b;if(y.preventDefault(),!!g()){c(!0);try{const _=await ro("K"),w={tracking_code:_,request_number:u.requestNumber,requester_id:t.id,requester_name:t.fullName,request_date:u.requestDate,description:u.desc,qty:u.qty,unit:u.unit,location:u.location,priority:u.priority,status:"PENDING"},{error:k}=await De.from("purchase_requests").insert([w]);if(k)throw k;ta("PURCHASE",w,t,_,`: ${u.desc.substring(0,20)}...`),alert(`     ${_}  .`),r("LIST"),d({requestNumber:"",requestDate:ct(),location:" ()",priority:"",desc:"",qty:1,unit:((b=a[0])==null?void 0:b.title)||""})}catch(_){console.error(_),alert("   : "+_.message)}finally{c(!1)}}};return e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:" ",icon:Ef,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:y=>l.jsx("span",{className:"font-mono font-bold",children:y.trackingCode})},{header:" ",accessor:y=>l.jsx("span",{className:"font-mono",children:y.requestNumber||y.request_number})},{header:" ",accessor:y=>y.desc||y.description},{header:"",accessor:y=>`${y.qty} ${y.unit||""}`},{header:"",accessor:y=>y.requestDate||y.request_date},{header:"",accessor:y=>l.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded text-xs font-bold",children:y.status==="PENDING"?" ":" "})}]})}):l.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ef,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),l.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label-text",children:" "}),l.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label-text",children:["  (: 03/1234) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:u.requestNumber,onChange:y=>x(y.target.value),className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/1234",required:!0,maxLength:7}),f&&l.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[l.jsx(uj,{className:"w-3 h-3"}),l.jsx("span",{children:f})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label-text",children:" "}),l.jsx(Mn,{value:u.requestDate,onChange:y=>d({...u,requestDate:y})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label-text",children:" "}),l.jsxs("select",{className:"input-field",value:u.location,onChange:y=>d({...u,location:y.target.value}),children:[l.jsx("option",{children:" ( )"}),l.jsx("option",{children:" ()"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label-text",children:""}),l.jsxs("select",{className:"input-field",value:u.priority,onChange:y=>d({...u,priority:y.target.value}),children:[l.jsx("option",{children:""}),l.jsx("option",{children:""}),l.jsx("option",{children:" ( )"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label-text",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:u.desc,onChange:y=>d({...u,desc:y.target.value}),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),l.jsx(Yr,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsxs("label",{className:"label-text",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:u.qty,onChange:y=>d({...u,qty:Number(y.target.value)}),className:"input-field text-center font-bold",required:!0,min:"0.01"})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsxs("label",{className:"label-text",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{value:u.unit,onChange:y=>d({...u,unit:y.target.value}),className:"input-field",children:a.length>0?a.map(y=>l.jsx("option",{value:y.title,children:y.title},y.id)):l.jsx("option",{value:"",children:""})})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"label-text",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),l.jsx(Yr,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),l.jsxs("button",{type:"submit",disabled:!g()||s,className:`flex-[2] text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 transition
                        ${!g()||s?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                    `,children:[s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(An,{className:"w-5 h-5"}),"    "]})]})]}),l.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; outline: none; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { border-color: #800020; box-shadow: 0 0 0 2px rgba(128, 0, 32, 0.1); }
      `})]})},Mce=({user:t,onUpdateUser:e,snowMode:r,setSnowMode:n})=>{const i=T.useRef(null),a=o=>{var c;const s=(c=o.target.files)==null?void 0:c[0];if(s){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(s)}};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:" "}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?l.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),l.jsx("button",{onClick:()=>{var o;return(o=i.current)==null?void 0:o.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:l.jsx(xf,{className:"w-4 h-4"})}),l.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:a})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.role})]})]}),l.jsxs("form",{className:"space-y-6",onSubmit:o=>o.preventDefault(),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:l.jsx($L,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium block",children:"  "}),l.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:o=>n(o.target.checked)}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-bold border-b pb-2",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"  "}),l.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"  "}),l.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"   "}),l.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),l.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},$ce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState([]),[s,c]=T.useState(!1),[u,d]=T.useState(!1);T.useEffect(()=>{const R=fp("PROJECT");i(R.map(Q=>({...Q,...Q.data}))),qe("personnel").then(o)},[e]);const[f,h]=T.useState({title:"",manager:"",managerId:"",budget:"",startDate:ct(),endDate:"",description:""}),[g,x]=T.useState([]),[v,y]=T.useState(""),[b,_]=T.useState(null),[w,k]=T.useState([]),[S,N]=T.useState({title:"",weight:10}),E=T.useRef(null),[C,A]=T.useState([]),I=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R){alert("         .");return}if(u){d(!1);return}const Q=new R;Q.lang="fa-IR",Q.continuous=!1,Q.interimResults=!1,Q.onstart=()=>d(!0),Q.onend=()=>d(!1),Q.onresult=ue=>{const ye=ue.results[0][0].transcript;h(Oe=>({...Oe,description:Oe.description?`${Oe.description} ${ye}`:ye}))},Q.start()},$=()=>{v.trim()&&(b?(x(g.map(R=>R.id===b?{...R,text:v}:R)),_(null)):x([...g,{id:Math.random().toString(),text:v}]),y(""))},U=R=>{y(R.text),_(R.id)},O=R=>{x(g.filter(Q=>Q.id!==R))},M=()=>{if(!S.title)return;if(S.weight<0){alert("      .");return}const R=w.reduce((Q,ue)=>Q+ue.weight,0);if(R+S.weight>100){alert(`      .  : ${100-R}`);return}k([...w,{id:Math.random().toString(),title:S.title,weight:S.weight,progress:0}]),N({title:"",weight:10})},P=R=>{k(w.filter(Q=>Q.id!==R))},D=()=>{const R=w.reduce((ue,ye)=>ue+ye.weight,0);if(R===0)return 0;const Q=w.reduce((ue,ye)=>ue+ye.progress*ye.weight,0);return Math.round(Q/R)},B=R=>{if(R.target.files&&R.target.files.length>0){const Q=Array.from(R.target.files),ue=Q.filter(ye=>ye.size<=10*1024*1024);ue.length!==Q.length&&alert("          ."),A(ye=>[...ye,...ue])}E.current&&(E.current.value="")},F=R=>{A(Q=>Q.filter((ue,ye)=>ye!==R))},W=R=>{const Q=R.target.value,ue=a.find(ye=>ye.id===Q);h(ue?{...f,managerId:ue.id,manager:ue.full_name}:{...f,managerId:"",manager:""})},K=()=>{const R=w.reduce((Q,ue)=>Q+ue.weight,0);return f.title&&f.managerId&&g.length>0&&(w.length===0||R===100)},ee=async R=>{if(R.preventDefault(),!!K()){c(!0);try{const Q=new Date,ue=lp(Q.getFullYear(),Q.getMonth()+1,Q.getDate()),ye=`P${String(ue.jy).substring(2)}${String(ue.jm).padStart(2,"0")}`,Oe=await ro(ye),se={...f,budget:f.budget===""?0:Number(f.budget),objectives:g,milestones:w,fileNames:C.map(Ne=>Ne.name),progress:D()};ta("PROJECT",se,t,Oe,`: ${f.title}`),alert(`    ${Oe}        .`),Y()}catch(Q){console.error(Q),alert("   .    .")}finally{c(!1)}}},Y=()=>{r("LIST"),h({title:"",manager:"",managerId:"",budget:"",startDate:ct(),endDate:"",description:""}),x([]),k([]),A([]),y(""),_(null)},ge=()=>{f.title||g.length>0?window.confirm("       ")&&Y():Y()};return e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:"   ",icon:vf,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:R=>l.jsx("span",{className:"font-mono font-bold",children:R.trackingCode})},{header:" ",accessor:R=>l.jsx("span",{className:"font-bold",children:R.title})},{header:" ",accessor:R=>R.manager},{header:" ",accessor:R=>R.startDate},{header:" ()",accessor:R=>R.budget?Number(R.budget).toLocaleString():"---"},{header:"",accessor:R=>l.jsxs("div",{className:"w-24",children:[l.jsx("div",{className:"flex justify-between text-xs mb-1",children:l.jsxs("span",{children:[R.progress||0,"%"]})}),l.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${R.progress||0}%`}})})]})},{header:"",accessor:R=>l.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:R.status==="PENDING"?"  ":" "})}]})}):l.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(vf,{className:"w-8 h-8 text-primary"}),l.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),l.jsxs("form",{onSubmit:ee,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{value:f.title,onChange:R=>h({...f,title:R.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:f.managerId,onChange:W,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:" ..."}),a.map(R=>l.jsxs("option",{value:R.id,children:[R.full_name," (",R.unit,")"]},R.id))]})]}),l.jsx("div",{children:l.jsx(Mn,{label:" ",value:f.startDate||"",onChange:R=>h({...f,startDate:R}),disableFuture:!1})}),l.jsx("div",{children:l.jsx(Mn,{label:"  ()",value:f.endDate||"",onChange:R=>h({...f,endDate:R}),disableFuture:!1})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),l.jsx("input",{type:"number",min:"0",value:f.budget,onChange:R=>h({...f,budget:R.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:f.description,onChange:R=>h({...f,description:R.target.value}),className:"w-full p-3 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary min-h-[100px]",placeholder:" ..."}),l.jsx("button",{type:"button",onClick:I,className:`absolute left-2 bottom-2 p-2 rounded-full transition ${u?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Yr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-2 flex items-center gap-2",children:[l.jsx(fs,{className:"w-5 h-5"}),"     ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"text",value:v,onChange:R=>y(R.target.value),placeholder:"      ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),$())}),l.jsx("button",{type:"button",onClick:$,className:`bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700 transition ${v.trim()?"":"opacity-50 cursor-not-allowed"}`,children:b?l.jsx(An,{className:"w-5 h-5"}):l.jsx(lr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[g.length===0&&l.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"   ."}),g.map((R,Q)=>l.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",children:Q+1}),l.jsx("span",{className:"text-sm",children:R.text})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>U(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:l.jsx(sp,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>O(R.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:l.jsx($t,{className:"w-4 h-4"})})]})]},R.id))]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx(BL,{className:"w-5 h-5"}),"   (WBS)"]}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700 outline-none",value:S.title,onChange:R=>N({...S,title:R.target.value})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:" ",className:"w-full p-2 border rounded-lg dark:bg-gray-700 text-center outline-none",value:S.weight,onChange:R=>N({...S,weight:Number(R.target.value)})}),l.jsx("span",{className:"absolute left-2 top-2 text-xs text-gray-400",children:"%"})]}),l.jsx("button",{type:"button",onClick:M,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:l.jsx(lr,{className:"w-5 h-5"})})]}),w.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[l.jsx("span",{className:"col-span-8",children:" "}),l.jsx("span",{className:"col-span-2 text-center",children:" "}),l.jsx("span",{className:"col-span-2 text-center",children:""})]}),w.map(R=>l.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[l.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[l.jsx(fs,{className:"w-4 h-4 text-green-500"})," ",R.title]}),l.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1 text-sm font-bold",children:[R.weight,"%"]}),l.jsx("div",{className:"col-span-2 flex justify-center",children:l.jsx("button",{type:"button",onClick:()=>P(R.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx($t,{className:"w-4 h-4"})})})]},R.id)),l.jsxs("div",{className:"mt-2 text-left text-sm font-bold flex justify-end gap-2 items-center",children:[l.jsx("span",{children:" :"}),l.jsxs("span",{className:`px-2 py-1 rounded ${w.reduce((R,Q)=>R+Q.weight,0)===100?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[w.reduce((R,Q)=>R+Q.weight,0),"%"]})]})]}):l.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:E,multiple:!0,className:"hidden",onChange:B}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("label",{className:"font-bold text-sm flex items-center gap-2",children:[l.jsx(oi,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{type:"button",onClick:()=>{var R;return(R=E.current)==null?void 0:R.click()},className:"text-blue-600 text-xs flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition border border-blue-200",children:[l.jsx(Cc,{className:"w-3 h-3"}),"  "]})]}),C.length===0&&l.jsx("p",{className:"text-xs text-gray-400 italic",children:"     ()"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:C.map((R,Q)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx(wf,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),l.jsx("span",{className:"text-xs truncate",children:R.name}),l.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",(R.size/1024/1024).toFixed(2)," MB)"]})]}),l.jsx("button",{type:"button",onClick:()=>F(Q),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(gt,{className:"w-3 h-3"})})]},Q))})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[l.jsxs("button",{type:"button",onClick:ge,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2 transition",children:[l.jsx(gt,{className:"w-5 h-5"})," "]}),l.jsxs("button",{type:"submit",disabled:!K()||s,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition font-bold
                    ${K()&&!s?"bg-primary hover:bg-red-800":"bg-gray-400 cursor-not-allowed opacity-70"}
                `,children:[s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(An,{className:"w-5 h-5"}),"     "]})]})]})]})},Dce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState(!1),[a,o]=T.useState([]),[s,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,x]=T.useState([]);T.useEffect(()=>{v(),qe("evaluation_periods").then(d),qe("evaluation_criteria").then(h),qe("personnel").then(x)},[e]);const v=async()=>{c(!0);try{const{data:E,error:C}=await De.from("performance_evaluations").select("*").order("created_at",{ascending:!1});!C&&E&&o(E.map(A=>({...A,personnelName:A.personnel_name,totalScore:A.total_score,criteria:A.criteria_data})))}catch(E){console.error("Fetch Error:",E)}finally{c(!1)}},[y,b]=T.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});T.useEffect(()=>{u.length>0&&!y.period&&b(E=>({...E,period:u[0].title}))},[u]);const _=y.criteria.reduce((E,C)=>E+C.score,0),w=y.criteria.reduce((E,C)=>E+C.max,0),k=async E=>{var C;if(E.preventDefault(),!y.personnelId){alert("      .");return}if(y.criteria.length===0){alert("          .");return}c(!0);try{const A=await ro("G"),I={tracking_code:A,personnel_id:y.personnelId,personnel_name:y.personnelName,unit:y.unit,period:y.period,total_score:_,criteria_data:y.criteria,evaluator_id:t.id,description:`  ${t.fullName}`,status:"PENDING"},{error:$}=await De.from("performance_evaluations").insert([I]);if($)throw $;ta("PERFORMANCE",{...y,totalScore:_},t,A,` : ${y.personnelName} - ${y.period}`),alert(`     .
 : ${A}`),r("LIST"),b({personnelId:"",personnelName:"",unit:"",org_unit_id:"",period:((C=u[0])==null?void 0:C.title)||"",criteria:[]})}catch(A){console.error("Save Error:",A),alert("   : "+A.message)}finally{c(!1)}},S=(E,C)=>{const A=y.criteria[E].max;if(C>A){alert(`       (${A})  .`);return}const I=[...y.criteria];I[E].score=Math.max(0,C),b({...y,criteria:I})},N=E=>{const C=f.filter(I=>I.org_unit_id===E.org_unit_id),A=C.map(I=>({label:I.title,score:0,max:I.max_score}));b({...y,personnelId:E.id,personnelName:E.full_name,unit:E.unit,org_unit_id:E.org_unit_id,criteria:A}),i(!1),C.length===0&&alert(":        ()   .      .")};return e==="LIST"?l.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[s&&l.jsx("div",{className:"text-center py-4",children:l.jsx(Ct,{className:"w-6 h-6 animate-spin mx-auto text-primary"})}),l.jsx(ki,{title:"  ",icon:Sx,data:a,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:E=>l.jsx("span",{className:"font-mono font-bold",children:E.tracking_code||E.trackingCode})},{header:" ",accessor:E=>l.jsx("span",{className:"font-bold",children:E.personnelName})},{header:"",accessor:E=>E.unit},{header:" ",accessor:E=>E.period},{header:" ",accessor:E=>{const C=E.criteria?E.criteria.reduce((A,I)=>A+I.max,0):100;return l.jsxs("span",{className:`font-bold ${E.totalScore>=C*.8?"text-green-600":"text-orange-500"}`,children:[E.totalScore," / ",C]})}},{header:" ",accessor:E=>new Date(E.created_at).toLocaleDateString("fa-IR")}]})]}):l.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),l.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),y.personnelName?l.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:y.personnelName}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",y.unit]})]}),l.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):l.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[l.jsx(Js,{className:"w-5 h-5"}),"   "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{value:y.period,onChange:E=>b({...y,period:E.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:u.length>0?u.map(E=>l.jsx("option",{value:E.title,children:E.title},E.id)):l.jsx("option",{children:"   "})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[l.jsxs("h3",{className:"font-bold",children:["  ",y.unit?`( ${y.unit})`:""]}),y.unit&&l.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[l.jsx(wf,{className:"w-3 h-3"}),"   "]})]}),y.personnelId?y.criteria.length>0?y.criteria.map((E,C)=>l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition animate-fadeIn",children:[l.jsxs("div",{className:"mb-2 md:mb-0",children:[l.jsxs("span",{className:"font-medium block",children:[C+1,". ",E.label]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",E.max]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:E.max,value:E.score,onChange:A=>S(C,Number(A.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),l.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",E.max]})]})]},C)):l.jsx("div",{className:"text-center p-6 bg-yellow-50 text-yellow-700 rounded-xl border border-yellow-200",children:l.jsxs("p",{children:['      "',y.unit,'"   .']})}):l.jsx("p",{className:"text-center text-gray-400 py-4 border-2 border-dashed rounded-xl",children:"          ."})]}),l.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[l.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"text-4xl font-black text-primary",children:_}),l.jsxs("span",{className:"text-gray-500",children:["/ ",w||100]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),l.jsx("button",{type:"submit",disabled:y.criteria.length===0||s,className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):"   "})]})]})]}),n&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[l.jsx("h3",{className:"font-bold text-lg",children:" "}),l.jsx("button",{onClick:()=>i(!1),children:l.jsx(gt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ga,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),l.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:l.jsxs("table",{className:"w-full text-right text-sm",children:[l.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:"   "}),l.jsx("th",{className:"p-3",children:" "}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:g.length>0?g.map(E=>l.jsxs("tr",{onClick:()=>N(E),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[l.jsx("td",{className:"p-3 font-bold",children:E.full_name}),l.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:E.unit}),l.jsx("td",{className:"p-3",children:l.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:l.jsx(hs,{className:"w-4 h-4"})})})]},E.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Lce=({user:t})=>{var x;const[e,r]=T.useState("WORK_ORDER"),[n,i]=T.useState([]),[a,o]=T.useState(null);T.useEffect(()=>{const v=Q_(t);i(v)},[t,e]);const s=(v,y)=>{a&&(U3(a.id,v,t),o(null),i(Q_(t)))},c=v=>{const b=u(a).find(_=>_.style==="primary"||_.style==="success");b&&a?(a.data=v,s(b.id)):alert("      .")},u=v=>{const b=$c().find(w=>w.id===v.workflowId);if(!b)return[];const _=b.steps.find(w=>w.id===v.currentStepId);return _?_.actions:[]},d=v=>{const b=$c().find(w=>w.id===v.workflowId),_=b==null?void 0:b.steps.find(w=>w.id===v.currentStepId);return(_==null?void 0:_.title)||""},f=v=>n.filter(y=>y.module===v).length,h=[{id:"WORK_ORDER",label:" ",icon:wf},{id:"PROJECT",label:"",icon:vf},{id:"PERFORMANCE",label:" ",icon:Sx},{id:"PART_REQUEST",label:" ",icon:Zl},{id:"INSPECTION",label:" ",icon:fj},{id:"DOCUMENT",label:" ",icon:Xl},{id:"MEETING",label:"",icon:bf},{id:"SUGGESTION",label:"",icon:Sf},{id:"PURCHASE",label:" ",icon:Ef}],g=({item:v})=>{const y=u(v),[b,_]=T.useState("");return v.module==="WORK_ORDER"?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[l.jsx(wf,{className:"w-5 h-5 text-primary"}),v.title]}),l.jsx("span",{className:"text-xs text-gray-500",children:v.trackingCode})]}),l.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:l.jsx(N_,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx(Fb,{initialData:v.data,onProcessComplete:c})})]}):l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:v.module}),l.jsx("span",{className:"text-gray-400 text-xs",children:v.trackingCode})]}),l.jsx("h2",{className:"text-xl font-bold",children:v.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description})]}),l.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(N_,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(v.data).map(([w,k])=>typeof k=="object"||Array.isArray(k)||w==="id"?null:l.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[l.jsxs("span",{className:"text-gray-500",children:[w,":"]}),l.jsx("span",{className:"font-medium",children:String(k)})]},w))})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),l.jsx("textarea",{value:b,onChange:w=>_(w.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),l.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:y.map(w=>{const k=w.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":w.style==="success"?"bg-green-600 hover:bg-green-700 text-white":w.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return l.jsx("button",{onClick:()=>s(w.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${k}`,children:w.label},w.id)})})]})};return a?l.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:l.jsx(g,{item:a})}):l.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[l.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:l.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(_f,{className:"w-5 h-5"}),"  "]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(v=>l.jsxs("button",{onClick:()=>{r(v.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===v.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v.icon,{className:"w-4 h-4"}),l.jsx("span",{children:v.label})]}),f(v.id)>0&&l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===v.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(v.id)})]},v.id))})]}),l.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:l.jsxs("h3",{className:"font-bold",children:[" : ",(x=h.find(v=>v.id===e))==null?void 0:x.label]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.filter(v=>v.module===e).length===0?l.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[l.jsx(Ws,{className:"w-12 h-12 mb-3 opacity-20"}),l.jsx("p",{children:"     ."})]}):n.filter(v=>v.module===e).map(v=>l.jsx("div",{onClick:()=>o(v),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:v.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(v)}),l.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[l.jsx(Ks,{className:"w-3 h-3"})," ",v.updatedAt]})]})]})},v.id))})]})})]})},Uce=({user:t})=>{const[e,r]=T.useState("INBOX"),[n,i]=T.useState([]),[a,o]=T.useState([]),[s,c]=T.useState(null),[u,d]=T.useState(!1),[f,h]=T.useState([]),[g,x]=T.useState([]),[v,y]=T.useState(!1),b=T.useRef(null),[_,w]=T.useState("USER"),[k,S]=T.useState(""),[N,E]=T.useState(""),[C,A]=T.useState(""),[I,$]=T.useState(!1),[U,O]=T.useState([]),[M,P]=T.useState(""),D=T.useRef(null),[B,F]=T.useState(""),[W,K]=T.useState("newest"),[ee,Y]=T.useState(1),[ge,R]=T.useState(10);T.useEffect(()=>{Q()},[t,e]),T.useEffect(()=>{Y(1),F("")},[e]),T.useEffect(()=>{(async()=>{try{const _e=await qe("app_users"),V=await qe("personnel"),G=_e.map(fe=>{const z=V.find(pe=>pe.id===fe.personnel_id);return{id:fe.id,name:z?z.full_name:fe.username}});h(G)}catch(_e){console.error("Error loading users for messages:",_e)}})()},[]),T.useEffect(()=>{const oe=_e=>{b.current&&!b.current.contains(_e.target)&&y(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const Q=async()=>{d(!0);try{const{inbox:oe,sent:_e}=await zj(t.id,t.role);i(oe),o(_e)}catch(oe){console.error("Failed to load messages",oe)}finally{d(!1)}},ue=async oe=>{c(oe),e==="INBOX"&&!oe.readBy.includes(t.id)&&(i(_e=>_e.map(V=>V.id===oe.id?{...V,readBy:[...V.readBy,t.id]}:V)),await R3(oe,t.id))},ye=oe=>{x(_e=>_e.includes(oe)?_e.filter(V=>V!==oe):[..._e,oe])},Oe=oe=>new Promise((_e,V)=>{const G=new FileReader;G.readAsDataURL(oe),G.onload=()=>{_e(G.result)},G.onerror=fe=>{V(fe)}}),se=oe=>{if(oe.target.files&&oe.target.files.length>0){const _e=Array.from(oe.target.files),V=5*1024*1024,G=_e.filter(fe=>fe.size>V?(alert(` ${fe.name}        .`),!1):!0);O(fe=>[...fe,...G])}D.current&&(D.current.value="")},Ne=oe=>{O(_e=>_e.filter((V,G)=>G!==oe))},J=async oe=>{oe.preventDefault();let _e="";if(_==="USER"){if(g.length===0){alert("      ");return}_e=g}else if(_==="ALL")_e="ALL";else{if(!k){alert("    ");return}_e=k}$(!0),P("");try{const V=[];for(const G of U){const fe=await Oe(G);V.push({name:G.name,size:G.size,type:G.type,data:fe})}await O3(t,_e,_,N,C,V),P("    "),E(""),A(""),S(""),x([]),O([]),Q(),setTimeout(()=>{P(""),r("SENT")},3e3)}catch(V){alert("   : "+(V.message||" ")),console.error(V)}finally{$(!1)}},X=oe=>oe.readBy&&oe.readBy.length>0?l.jsx("span",{title:" ",className:"flex text-blue-500",children:l.jsx(k_,{className:"w-4 h-4"})}):l.jsx("span",{title:" ",className:"flex text-gray-400",children:l.jsx(hs,{className:"w-4 h-4"})}),Ie=oe=>{if(oe.receiverType==="ALL")return" ";if(oe.receiverType==="GROUP")return` ${oe.receiverId}`;const _e=f.find(V=>V.id===oe.receiverId);return _e?_e.name:""},Z=(()=>{let oe=e==="INBOX"?n:a;if(B){const _e=B.toLowerCase();oe=oe.filter(V=>V.subject.toLowerCase().includes(_e)||V.body.toLowerCase().includes(_e)||V.senderName.toLowerCase().includes(_e)||e==="SENT"&&Ie(V).toLowerCase().includes(_e))}return oe.sort((_e,V)=>W==="newest"?V.createdAt.localeCompare(_e.createdAt):_e.createdAt.localeCompare(V.createdAt)),oe})(),he=Z.length,ie=Math.ceil(he/ge),Me=(ee-1)*ge,Ve=Z.slice(Me,Me+ge);return l.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[l.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:l.jsxs("button",{onClick:()=>{r("COMPOSE"),c(null),P("")},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[l.jsx(Nf,{className:"w-4 h-4"}),"   "]})}),l.jsxs("div",{className:"p-2 space-y-1",children:[l.jsxs("button",{onClick:()=>{r("INBOX"),c(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_f,{className:"w-4 h-4"}),"  "]}),n.filter(oe=>!oe.readBy.includes(t.id)).length>0&&l.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:n.filter(oe=>!oe.readBy.includes(t.id)).length})]}),l.jsx("button",{onClick:()=>{r("SENT"),c(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cc,{className:"w-4 h-4"}),"  "]})})]})]}),l.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&l.jsxs("div",{className:"p-6 overflow-y-auto",children:[l.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(yj,{className:"w-6 h-6 text-primary"}),"   "]}),M&&l.jsxs("div",{className:"mb-4 bg-green-100 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-center gap-2 animate-fadeIn",children:[l.jsx(Ws,{className:"w-5 h-5"}),M]}),l.jsxs("form",{onSubmit:J,className:"space-y-4 max-w-2xl",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>w("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[l.jsx(ps,{className:"w-4 h-4"})," "]}),l.jsxs("button",{type:"button",onClick:()=>w("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[l.jsx(Js,{className:"w-4 h-4"})," "]}),l.jsxs("button",{type:"button",onClick:()=>w("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[l.jsx(vL,{className:"w-4 h-4"})," "]})]})]}),_==="USER"&&l.jsxs("div",{className:"relative",ref:b,children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsxs("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none cursor-pointer flex items-center justify-between",onClick:()=>y(!v),children:[l.jsx("span",{className:"text-sm truncate",children:g.length>0?`${g.length}   `:" ..."}),l.jsx(ip,{className:"w-4 h-4 text-gray-500"})]}),v&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto p-1",children:f.map(oe=>l.jsxs("div",{onClick:()=>ye(oe.id),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:g.includes(oe.id),readOnly:!0,className:"w-4 h-4 rounded text-primary focus:ring-primary pointer-events-none"}),l.jsx("span",{className:"text-sm",children:oe.name})]},oe.id))}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.map(oe=>{const _e=f.find(V=>V.id===oe);return _e?l.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[_e.name,l.jsx("button",{type:"button",onClick:()=>ye(oe),className:"hover:text-red-600",children:l.jsx(gt,{className:"w-3 h-3"})})]},oe):null})})]}),_==="GROUP"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),l.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:k,onChange:oe=>S(oe.target.value),required:!0,children:[l.jsx("option",{value:"",children:" ..."}),l.jsx("option",{value:wr.ADMIN,children:" "}),l.jsx("option",{value:wr.MANAGER,children:" "}),l.jsx("option",{value:wr.USER,children:" "}),l.jsx("option",{value:wr.STOREKEEPER,children:""})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:N,onChange:oe=>E(oe.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{value:C,onChange:oe=>A(oe.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:()=>{var oe;return(oe=D.current)==null?void 0:oe.click()},className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx(oi,{className:"w-4 h-4"}),"  "]}),l.jsx("span",{className:"text-xs text-gray-400",children:"   :  "}),l.jsx("input",{type:"file",ref:D,multiple:!0,className:"hidden",onChange:se})]}),U.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:U.map((oe,_e)=>l.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full text-xs border border-gray-200 dark:border-gray-600",children:[l.jsx("span",{className:"truncate max-w-[150px]",children:oe.name}),l.jsxs("span",{className:"text-gray-400",children:["(",(oe.size/1024/1024).toFixed(2)," MB)"]}),l.jsx("button",{type:"button",onClick:()=>Ne(_e),className:"text-red-500 hover:bg-red-100 rounded-full p-0.5",children:l.jsx(gt,{className:"w-3 h-3"})})]},_e))})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsxs("button",{disabled:I,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 disabled:opacity-50",children:[I?l.jsx(Ct,{className:"w-5 h-5 animate-spin"}):l.jsx(Nf,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&l.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[l.jsxs("div",{className:`${s?"hidden md:flex md:w-1/3 border-l dark:border-gray-700":"w-full flex"} flex-col h-full bg-white dark:bg-gray-800`,children:[l.jsxs("div",{className:"p-3 border-b dark:border-gray-700 space-y-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ga,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"...",value:B,onChange:oe=>{F(oe.target.value),Y(1)},className:"w-full pr-9 pl-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-1 focus:ring-primary"})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs",children:[l.jsxs("button",{onClick:()=>K(oe=>oe==="newest"?"oldest":"newest"),className:"flex items-center gap-1 text-gray-500 hover:text-primary transition",children:[l.jsx(nL,{className:"w-3 h-3"}),W==="newest"?"":""]}),l.jsxs("span",{className:"text-gray-400",children:[he," "]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u&&l.jsxs("div",{className:"p-10 text-center text-gray-400",children:[l.jsx(Ct,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),l.jsx("span",{children:"  ..."})]}),!u&&Ve.length===0&&l.jsxs("div",{className:"text-center p-10 text-gray-400",children:[l.jsx(_f,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{children:"  "})]}),Ve.map(oe=>{const _e=e==="INBOX"&&!oe.readBy.includes(t.id);return l.jsxs("div",{onClick:()=>ue(oe),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition relative
                                            ${(s==null?void 0:s.id)===oe.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                            ${_e?"bg-white":"bg-gray-50/30 dark:bg-gray-800/50"}
                                        `,children:[_e&&l.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500"}),l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:`text-sm ${_e?"font-black text-black dark:text-white":"font-medium text-gray-600 dark:text-gray-400"}`,children:e==="INBOX"?oe.senderName:Ie(oe)}),l.jsx("span",{className:"text-[10px] text-gray-400",dir:"ltr",children:oe.createdAt})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:`text-sm truncate pr-2 ${_e?"font-black text-gray-900 dark:text-white":"font-normal text-gray-600 dark:text-gray-400"}`,children:oe.subject}),e==="SENT"&&X(oe)]}),l.jsx("p",{className:`text-xs mt-1 truncate ${_e?"text-gray-800 dark:text-gray-300":"text-gray-400"}`,children:oe.body}),oe.attachments&&oe.attachments.length>0&&l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[l.jsx(oi,{className:"w-3 h-3"}),l.jsxs("span",{children:[oe.attachments.length," "]})]})]},oe.id)})]}),he>0&&l.jsxs("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:ge,onChange:oe=>{R(Number(oe.target.value)),Y(1)},className:"bg-white dark:bg-gray-800 border dark:border-gray-600 rounded p-1 outline-none",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"}),l.jsx("option",{value:200,children:"200"})]}),l.jsx("span",{className:"text-gray-500",children:""})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{disabled:ee===1,onClick:()=>Y(oe=>oe-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:l.jsx(Eu,{className:"w-4 h-4"})}),l.jsxs("span",{className:"font-mono",children:[ee," / ",ie||1]}),l.jsx("button",{disabled:ee>=ie,onClick:()=>Y(oe=>oe+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:l.jsx(ap,{className:"w-4 h-4"})})]})]})]}),s?l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[l.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:s.subject}),l.jsx("button",{onClick:()=>c(null),className:"md:hidden text-sm text-blue-600",children:""})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:e==="INBOX"?s.senderName[0]:l.jsx(ps,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{children:l.jsx("span",{className:"font-bold",children:e==="INBOX"?s.senderName:""})}),l.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&l.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",Ie(s),s.readBy.length>0&&l.jsxs("span",{className:"mr-2 text-blue-600 flex items-center gap-1 inline-flex",children:[l.jsx(k_,{className:"w-3 h-3"}),"  "]})]})]}),l.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body}),s.attachments&&s.attachments.length>0&&l.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-4",children:[l.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[l.jsx(oi,{className:"w-4 h-4"}),"   "]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.attachments.map((oe,_e)=>l.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition",children:[l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg text-gray-500",children:l.jsx(gL,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1 px-3 overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:oe.name,children:oe.name}),l.jsxs("p",{className:"text-xs text-gray-400",children:[(oe.size/1024).toFixed(1)," KB"]})]}),l.jsx("a",{href:oe.data,download:oe.name,className:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-full transition",title:"",children:l.jsx(hj,{className:"w-4 h-4"})})]},_e))})]})]})]}):l.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},Fce=({user:t})=>{var U;const[e,r]=T.useState([]),[n,i]=T.useState(!1),[a,o]=T.useState(!1),[s,c]=T.useState(""),[u,d]=T.useState("ALL"),[f,h]=T.useState({}),[g,x]=T.useState(""),[v,y]=T.useState([]),b=T.useRef(null);T.useEffect(()=>{_()},[]);const _=async()=>{i(!0);try{const{data:O,error:M}=await De.from("personal_notes").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(M)throw M;const P=(O||[]).map(D=>({id:D.id,userId:D.user_id,title:D.title,content:D.content,tags:D.tags||[],reminderDate:D.reminder_date,reminderTime:D.reminder_time,isCompleted:D.is_completed,attachments:D.attachments||[],createdAt:D.created_at,reminderSeen:!1}));r(P)}catch(O){console.error(O)}finally{i(!1)}},w=()=>{h({title:"",content:"",tags:[],isCompleted:!1,reminderDate:ct()}),y([]),o(!0)},k=O=>{h(O),y([]),o(!0)},S=async O=>{if(O.preventDefault(),!!f.title){i(!0);try{const M=[];for(const B of v){const F=new FileReader,W=await new Promise(K=>{F.onload=()=>K(F.result),F.readAsDataURL(B)});M.push({name:B.name,size:B.size,type:B.type,data:W})}const P=[...f.attachments||[],...M],D={user_id:t.id,title:f.title,content:f.content,tags:f.tags,reminder_date:f.reminderDate,reminder_time:f.reminderTime,is_completed:f.isCompleted,attachments:P};f.id?await De.from("personal_notes").update(D).eq("id",f.id):await De.from("personal_notes").insert([D]),o(!1),_()}catch{alert("   ")}finally{i(!1)}}},N=async O=>{if(confirm("      ")){r(M=>M.filter(P=>P.id!==O));try{await De.from("personal_notes").delete().eq("id",O)}catch{alert("   "),_()}}},E=async O=>{const M=!O.isCompleted;r(P=>P.map(D=>D.id===O.id?{...D,isCompleted:M}:D));try{await De.from("personal_notes").update({is_completed:M}).eq("id",O.id)}catch(P){console.error(P)}},C=O=>{var M;O.key==="Enter"&&g.trim()&&(O.preventDefault(),(M=f.tags)!=null&&M.includes(g.trim())||h(P=>({...P,tags:[...P.tags||[],g.trim()]})),x(""))},A=O=>{h(M=>{var P;return{...M,tags:(P=M.tags)==null?void 0:P.filter(D=>D!==O)}})},I=O=>{O.target.files&&y(M=>[...M,...Array.from(O.target.files)])},$=e.filter(O=>{const M=O.title.includes(s)||O.content.includes(s)||O.tags.some(P=>P.includes(s));return u==="TODO"?M&&!O.isCompleted:u==="DONE"?M&&O.isCompleted:M});return l.jsxs("div",{className:"max-w-7xl mx-auto pb-20 p-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:l.jsx(wj,{className:"w-6 h-6 text-primary"})}),l.jsx("h1",{className:"text-2xl font-bold",children:" "})]}),l.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95",children:[l.jsx(lr,{className:"w-5 h-5"}),"  "]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6 flex flex-col md:flex-row gap-4 justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(Ga,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"  ...",value:s,onChange:O=>c(O.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-2 focus:ring-primary"})]}),l.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:["ALL","TODO","DONE"].map(O=>l.jsx("button",{onClick:()=>d(O),className:`px-4 py-1.5 rounded-md text-sm font-medium transition ${u===O?"bg-white dark:bg-gray-600 shadow text-primary":"text-gray-500 dark:text-gray-300"}`,children:O==="ALL"?"":O==="TODO"?" ":" "},O))})]}),n?l.jsx("div",{className:"text-center py-20",children:l.jsx(Ct,{className:"w-10 h-10 animate-spin mx-auto text-primary"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map((O,M)=>{var P;return l.jsxs("div",{className:`
                        relative group rounded-2xl p-5 border shadow-sm transition hover:shadow-md flex flex-col
                        ${O.isCompleted?"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-70 grayscale-[0.5]":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}
                    `,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:`font-bold text-lg line-clamp-1 ${O.isCompleted?"line-through text-gray-500":""}`,children:O.title}),l.jsxs("div",{className:"flex gap-1 pl-1",children:[l.jsx("button",{onClick:D=>{D.stopPropagation(),k(O)},className:"p-1.5 text-gray-400 hover:text-blue-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"",children:l.jsx(jL,{className:"w-4 h-4"})}),l.jsx("button",{onClick:D=>{D.stopPropagation(),N(O.id)},className:"p-1.5 text-gray-400 hover:text-red-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"",children:l.jsx($t,{className:"w-4 h-4"})})]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3 mb-4 flex-1 whitespace-pre-line leading-relaxed",children:O.content}),l.jsxs("div",{className:"space-y-3 mt-auto",children:[l.jsx("div",{className:"flex flex-wrap gap-1",children:(P=O.tags)==null?void 0:P.map(D=>l.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-full text-gray-600 dark:text-gray-400",children:["#",D]},D))}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t dark:border-gray-700",children:[O.reminderDate?l.jsxs("div",{className:`flex items-center gap-1 text-xs ${O.isCompleted?"text-gray-400":"text-red-500 bg-red-50 dark:bg-red-900/10 px-2 py-1 rounded"}`,children:[l.jsx(Ks,{className:"w-3 h-3"}),l.jsxs("span",{children:[O.reminderDate," ",O.reminderTime?`- ${O.reminderTime}`:""]})]}):l.jsx("span",{}),l.jsx("button",{onClick:()=>E(O),className:`p-2 rounded-full transition ${O.isCompleted?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-400 hover:text-green-500"}`,title:O.isCompleted?"  ":" ",children:l.jsx(Ws,{className:"w-5 h-5"})})]})]}),O.attachments&&O.attachments.length>0&&l.jsx("div",{className:"absolute top-2 left-2 text-gray-400 transform -rotate-45 pointer-events-none",children:l.jsx(oi,{className:"w-4 h-4"})})]},O.id)})}),a&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[l.jsx("h3",{className:"font-bold text-lg",children:f.id?" ":" "}),l.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),l.jsx("input",{value:f.title,onChange:O=>h({...f,title:O.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:":   ...",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("textarea",{value:f.content,onChange:O=>h({...f,content:O.target.value}),className:"w-full p-3 h-32 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"   ..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[l.jsx("div",{children:l.jsx(Mn,{label:" ",value:f.reminderDate||"",onChange:O=>h({...f,reminderDate:O}),disableFuture:!1})}),l.jsx("div",{children:l.jsx(Wr,{label:" ",value:f.reminderTime||"",onChange:O=>h({...f,reminderTime:O})})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[l.jsx(FL,{className:"w-4 h-4"})," "]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 p-2 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[46px]",children:[(U=f.tags)==null?void 0:U.map(O=>l.jsxs("span",{className:"bg-white dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1 shadow-sm",children:[O,l.jsx("button",{type:"button",onClick:()=>A(O),className:"hover:text-red-500",children:l.jsx(gt,{className:"w-3 h-3"})})]},O)),l.jsx("input",{value:g,onChange:O=>x(O.target.value),onKeyDown:C,className:"bg-transparent outline-none flex-1 text-sm min-w-[100px]",placeholder:"  Enter ..."})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[l.jsx(oi,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var O;return(O=b.current)==null?void 0:O.click()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:" "}),l.jsxs("span",{className:"text-xs text-gray-400",children:[v.length,"  "]})]}),l.jsx("input",{type:"file",ref:b,onChange:I,multiple:!0,className:"hidden"}),f.attachments&&f.attachments.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:f.attachments.map((O,M)=>l.jsxs("div",{className:"text-xs flex items-center gap-2 text-gray-500",children:[l.jsx(oi,{className:"w-3 h-3"})," ",O.name]},M))})]})]}),l.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-2 border rounded-xl hover:bg-gray-200 transition",children:""}),l.jsxs("button",{type:"submit",className:"px-6 py-2 bg-primary text-white rounded-xl shadow hover:bg-red-800 transition flex items-center gap-2",children:[n?l.jsx(Ct,{className:"w-4 h-4 animate-spin"}):l.jsx(An,{className:"w-4 h-4"})," "]})]})]})})]})},Bce=()=>{const[t,e]=T.useState([]),[r,n]=T.useState(null);T.useEffect(()=>{e($c())},[]);const i=()=>{const c={id:ec(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};n(c)},a=()=>{r&&(L3(r),e($c()),alert("    ."))},o=()=>{if(!r)return;const c={id:ec(),title:" ",assigneeRole:wr.ADMIN,actions:[]};n({...r,steps:[...r.steps,c]})},s=c=>{if(!r)return;const u={id:ec(),label:"  ",nextStepId:"FINISH",style:"primary"};n({...r,steps:r.steps.map(d=>d.id!==c?d:{...d,actions:[...d.actions,u]})})};return r?l.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n(null),className:"text-gray-500 hover:text-gray-800",children:""}),l.jsx("div",{className:"h-8 w-px bg-gray-300"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),l.jsx("input",{value:r.title,onChange:c=>n({...r,title:c.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),l.jsxs("select",{value:r.module,onChange:c=>n({...r,module:c.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[l.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),l.jsx("option",{value:"PROJECT",children:" (Project)"}),l.jsx("option",{value:"PART_REQUEST",children:" "}),l.jsx("option",{value:"PURCHASE",children:" "}),l.jsx("option",{value:"PERFORMANCE",children:" "}),l.jsx("option",{value:"MEETING",children:""}),l.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:r.isActive,onChange:c=>n({...r,isActive:c.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),l.jsxs("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[l.jsx(An,{className:"w-4 h-4"}),"  "]})]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:l.jsxs("div",{className:"flex gap-8 min-w-max",children:[l.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[l.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:l.jsx(PL,{className:"w-6 h-6 ml-1"})}),l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsx(Ql,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),r.steps.map((c,u)=>l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("input",{value:c.title,onChange:d=>{const f=[...r.steps];f[u].title=d.target.value,n({...r,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"text-xs text-gray-500",children:" :"}),l.jsxs("select",{value:c.assigneeRole,onChange:d=>{const f=[...r.steps];f[u].assigneeRole=d.target.value,n({...r,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(wr).map(d=>l.jsx("option",{value:d,children:d},d)),l.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),l.jsx("button",{onClick:()=>{const d=r.steps.filter(f=>f.id!==c.id);n({...r,steps:d})},className:"text-red-400 hover:text-red-600",children:l.jsx($t,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),c.actions.map((d,f)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:d.label,onChange:h=>{const g=[...r.steps];g[u].actions[f].label=h.target.value,n({...r,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),l.jsxs("select",{value:d.style,onChange:h=>{const g=[...r.steps];g[u].actions[f].style=h.target.value,n({...r,steps:g})},className:"text-xs bg-gray-100 rounded",children:[l.jsx("option",{value:"primary",children:""}),l.jsx("option",{value:"success",children:""}),l.jsx("option",{value:"danger",children:""}),l.jsx("option",{value:"neutral",children:""})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(Ql,{className:"w-3 h-3"}),l.jsx("span",{children:" :"}),l.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...r.steps];g[u].actions[f].nextStepId=h.target.value,n({...r,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[l.jsx("option",{value:"FINISH",children:" "}),r.steps.map(h=>l.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),l.jsx("button",{onClick:()=>s(c.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),l.jsx(Ql,{className:"w-8 h-8 text-gray-300"})]},c.id)),l.jsxs("button",{onClick:o,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[l.jsx(lr,{className:"w-8 h-8 mb-2"}),l.jsx("span",{children:" "})]})]})})]}):l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(mj,{className:"text-primary"}),"   "]}),l.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx(lr,{className:"w-4 h-4"}),"  "]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(c=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:l.jsx(kf,{className:"w-6 h-6"})}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${c.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:c.isActive?"":""})]}),l.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",c.module]}),l.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[c.steps.length,"   "]}),l.jsx("button",{onClick:()=>n(c),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},c.id))})]})},qce=()=>{const[t,e]=T.useState("LOGINS"),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,s]=T.useState([]),[c,u]=T.useState(!1),[d,f]=T.useState(""),[h,g]=T.useState(!0),x={LOGINS:[{id:"user_name",label:" ",visible:!0},{id:"personnel_code",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"created_at",label:"  ",visible:!0},{id:"ip_address",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"tracking_code",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"created_at",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equip_name",label:"",visible:!0},{id:"failure_desc",label:" ",visible:!1}],PARTS:[{id:"tracking_code",label:" ",visible:!0},{id:"requester_name",label:" ",visible:!0},{id:"request_date",label:" ",visible:!0},{id:"description",label:"/",visible:!0},{id:"work_order_code",label:" ",visible:!0},{id:"status",label:"",visible:!0}]};T.useEffect(()=>{v(),s(x[t])},[t]),T.useEffect(()=>{if(d){const w=d.toLowerCase();a(r.filter(k=>Object.values(k).some(S=>String(S).toLowerCase().includes(w))))}else a(r)},[d,r]);const v=async()=>{u(!0);let w=[];try{switch(t){case"LOGINS":const{data:k}=await De.from("system_logs").select("user_name, personnel_code, action, created_at, ip_address, details").order("created_at",{ascending:!1});w=(k||[]).map(E=>({...E,created_at:new Date(E.created_at).toLocaleString("fa-IR")}));break;case"WORK_ORDERS":const{data:S}=await De.from("cartable_items").select("tracking_code, title, created_at, status, data").eq("module","WORK_ORDER").order("created_at",{ascending:!1});w=(S||[]).map(E=>{const C=E.data||{};return{tracking_code:E.tracking_code,title:E.title,requester:C.requester||"-",created_at:new Date(E.created_at).toLocaleDateString("fa-IR"),status:E.status==="DONE"?" ":"  ",equip_name:C.equipName||C.equipLocalName||"-",failure_desc:C.failureDesc||"-"}});break;case"PARTS":const{data:N}=await De.from("part_requests").select("tracking_code, requester_name, request_date, description, work_order_code, status").order("created_at",{ascending:!1});w=(N||[]).map(E=>({...E,status:E.status==="PENDING"?"  ":" "}));break}}catch(k){console.error("Error fetching report data:",k)}finally{u(!1)}n(w),a(w)},y=w=>{s(k=>k.map(S=>S.id===w?{...S,visible:!S.visible}:S))},b=()=>{if(i.length===0)return alert("    ");const w=o.filter(C=>C.visible),k=w.map(C=>C.label),S=i.map(C=>w.map(A=>C[A.id]||"-")),N="data:text/csv;charset=utf-8,\uFEFF"+k.join(",")+`
`+S.map(C=>C.join(",")).join(`
`),E=document.createElement("a");E.setAttribute("href",encodeURI(N)),E.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(E),E.click(),document.body.removeChild(E)},_=()=>{if(i.length===0)return[];let w="";t==="LOGINS"?w="created_at":(t==="WORK_ORDERS"||t==="PARTS")&&(w="status");const k={};return i.forEach(S=>{let N=S[w]||"";(w==="created_at"||w==="request_date")&&(N=String(N).split(" ")[0]),k[N]=(k[N]||0)+1}),Object.keys(k).map(S=>({name:S,count:k[S]})).slice(0,10)};return l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:l.jsx(vj,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        "})]})]}),l.jsxs("button",{onClick:b,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[l.jsx(pj,{className:"w-5 h-5"}),"  "]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[l.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[l.jsx(kf,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),l.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[l.jsx("option",{value:"LOGINS",children:"   "}),l.jsx("option",{value:"WORK_ORDERS",children:" "}),l.jsx("option",{value:"PARTS",children:" "})]})]}),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>g(!h),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",h?l.jsx(dj,{className:"w-3 h-3"}):l.jsx(ip,{className:"w-3 h-3"})]}),h&&l.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:o.map(w=>l.jsxs("div",{onClick:()=>y(w.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[w.visible?l.jsx(fs,{className:"w-4 h-4 text-primary"}):l.jsx(bj,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm",children:w.label})]},w.id))})]}),l.jsxs("button",{onClick:v,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[l.jsx(RL,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"  "]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[l.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),l.jsx(ja,{width:"100%",height:"90%",children:l.jsxs(Ub,{data:_(),children:[l.jsx(Ds,{strokeDasharray:"3 3",vertical:!1}),l.jsx(yi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),l.jsx(vi,{fontSize:10}),l.jsx(ir,{}),l.jsx(Vn,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),l.jsx("div",{className:"lg:col-span-3",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[l.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),l.jsxs("div",{className:"relative w-64",children:[l.jsx(op,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:w=>f(w.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("table",{className:"w-full text-right text-sm",children:[l.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:l.jsx("tr",{children:o.filter(w=>w.visible).map(w=>l.jsx("th",{className:"p-4 whitespace-nowrap",children:w.label},w.id))})}),l.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((w,k)=>l.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:o.filter(S=>S.visible).map(S=>l.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:w[S.id]||"-"},S.id))},k)):l.jsx("tr",{children:l.jsx("td",{colSpan:o.filter(w=>w.visible).length,className:"p-10 text-center text-gray-400",children:c?"   ...":"  "})})})]})})]})})]})]})},tE=({title:t,selectedCloths:e,onChange:r})=>{const[n,i]=T.useState(!1),a=T.useRef(null);T.useEffect(()=>{const c=u=>{a.current&&!a.current.contains(u.target)&&i(!1)};return n&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[n]);const o=(c,u)=>{const d=`D${c}-C${u}`;e.includes(d)?r(e.filter(f=>f!==d)):r([...e,d])},s=c=>{const u=Array.from({length:20}).map((f,h)=>`D${c}-C${h+1}`);if(u.every(f=>e.includes(f)))r(e.filter(f=>!u.includes(f)));else{const f=[...new Set([...e,...u])];r(f)}};return l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[l.jsx(xL,{className:"w-4 h-4 text-primary"})," : ",t]}),l.jsx("button",{type:"button",onClick:()=>i(!n),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:n?" ":"  "})]}),l.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:l.jsxs("span",{children:["  : ",l.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),n&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{ref:a,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[l.jsxs("h3",{className:"font-bold text-lg",children:["   - ",t]}),l.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:l.jsx(gt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((c,u)=>{const d=u+1,h=Array.from({length:20}).map((g,x)=>`D${d}-C${x+1}`).every(g=>e.includes(g));return l.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[l.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d]}),l.jsx("button",{type:"button",onClick:()=>s(d),className:`p-1 rounded transition ${h?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:h?l.jsx(fs,{className:"w-6 h-6"}):l.jsx(bj,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((g,x)=>{const v=x+1,y=`D${d}-C${v}`,b=e.includes(y);return l.jsx("div",{onClick:()=>o(d,v),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${b?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${d} -  ${v}`,children:v},y)})})]},d)})}),l.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:l.jsx("button",{onClick:()=>i(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},fn=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Vce=["08:00","11:00","02:00","05:00"],rE=["","","","",""],Gce=[25,30,40,50,60,70,80,90,100],Ed=["#22c55e","#ef4444"],nE={Day1:"  ",Day2:"  ",Night1:"  ",Night2:"  "},Il=[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],iE=t=>t.toString().replace(/\d/g,e=>""[parseInt(e)]),Hce=({user:t})=>{var rw,nw;zs();const[e,r]=T.useState("LIST"),[n,i]=T.useState(1),[a,o]=T.useState(!1),[s,c]=T.useState(null),[u,d]=T.useState([]),[f,h]=T.useState(!1),[g,x]=T.useState(!1),[v,y]=T.useState(null),[b,_]=T.useState([]),[w,k]=T.useState(null),[S,N]=T.useState([]),[E,C]=T.useState({name:"A",type:"Day1",date:ct(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),[A,I]=T.useState({}),[$,U]=T.useState({}),[O,M]=T.useState({lineA:{},lineB:{}}),[P,D]=T.useState({lineA:{},lineB:{}}),[B,F]=T.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[W,K]=T.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}}}),[ee,Y]=T.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[ge,R]=T.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[Q,ue]=T.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}]}),[ye,Oe]=T.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[se,Ne]=T.useState({process:[],cleanWater:[]}),[J,X]=T.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[Ie,Se]=T.useState({nextShiftActions:[""]});T.useEffect(()=>{qe("personnel").then(j=>{N(j),I({})}),he(),Z()},[]);const Z=async()=>{const{data:j}=await De.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();j&&k(j.avatar)},he=async()=>{const q=(await M3()).map(H=>({...H,total_production_a:Number(H.total_production_a),total_production_b:Number(H.total_production_b)}));_(q)},ie=e==="VIEW"&&!g,Me=()=>{C({name:"A",type:"Day1",date:ct(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),I({}),U({}),M({lineA:{},lineB:{}}),D({lineA:{},lineB:{}}),F({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),K({lineA:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}}}),Y({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),R({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),ue({lineA:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}]}),Oe({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),Ne({process:[],cleanWater:[]}),X({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),Se({nextShiftActions:[""]}),i(1)},Ve=()=>{Me(),x(!1),r("FORM")},oe=j=>{C(j.shiftInfo),I(j.attendance.map);const q={};j.attendance.leave.forEach(H=>q[H.id]=H.type),U(q),M(j.production),D(j.feedInfo),F(j.ballMills),K(j.hydrocyclones),Y(j.drumMagnets),R(j.concentrateFilters),ue(j.thickeners),Oe(j.recoveryFilters),Ne(j.pumps),X(j.downtime),Se(j.footer||{nextShiftActions:[""]})},_e=j=>{j.full_data&&(oe(j.full_data),y(j.full_data),x(!0),r("VIEW"))},V=j=>{j.full_data&&(oe(j.full_data),y(j.full_data),x(!1),r("VIEW"),i(1))},G=j=>{if(!j||j==="00:00")return 0;const[q,H]=j.split(":").map(Number);return q*60+H},fe=(j,q)=>{const H=G(E.shiftDuration),re=G(j)+G(q);return re>H?(alert(`     (${z(re)})     (${E.shiftDuration})  .`),!1):!0},z=j=>{const q=Math.floor(j/60),H=j%60;return`${String(q).padStart(2,"0")}:${String(H).padStart(2,"0")}`},pe=()=>!(!E.date||!E.name||!E.type||!E.shiftDuration||!J.lineA.workTime||!J.lineB.workTime),me=(j,q,H)=>{if(ie)return;const re=Number(H);if(re<0)return;const te=fn.indexOf(q);M(ae=>{const ve={...ae[j]};if(te!==-1)for(let Te=te;Te<fn.length;Te++)ve[fn[Te]]=re;return{...ae,[j]:ve}})},Ee=(j,q,H)=>{D(re=>{const te={...re[j]};for(let ae=q;ae<fn.length;ae++)te[fn[ae]]=[...H];return{...re,[j]:te}})},Fe=(j,q,H,re)=>{if(ie)return;const te=fn[q],ve=[...P[j][te]||Il];re===""?ve[H]={...ve[H],type:"",isCustom:!0}:ve[H]={...ve[H],type:re,isCustom:!1};for(let Te=H+1;Te<3;Te++)ve[Te]={type:"",percent:0};Ee(j,q,ve)},Wt=(j,q,H,re)=>{if(ie)return;const te=fn[q],ve=[...P[j][te]||Il];ve[H]={...ve[H],type:re,isCustom:!0},Ee(j,q,ve)},er=(j,q,H)=>{if(ie)return;const re=fn[q],ae=[...P[j][re]||Il];ae[H]={...ae[H],type:"",isCustom:!1,percent:0},Ee(j,q,ae)},Tr=(j,q,H,re)=>{if(ie)return;const te=fn[q],ve=[...P[j][te]||Il];let Te=Number(re);Te<0&&(Te=0);const qu=ve[H===0?1:0].percent||0;if(Te+qu>100){alert("          .");return}ve[H]={...ve[H],percent:Te},Ee(j,q,ve)},Pt=j=>Object.values(O[j]).reduce((q,H)=>q+H,0),Ai=j=>{const q=gs(j);return q?["","","","","","",""][q.getDay()]:""},zn=(j,q,H)=>{if(ie)return;const re=q==="workTime"?"stopTime":"workTime",te=J[j][re];fe(q==="workTime"?H:te,q==="stopTime"?H:te)&&X(ae=>({...ae,[j]:{...ae[j],[q]:H}}))},Nt=async()=>{h(!1),o(!0);const j=Nj("T"),q=Object.keys(A).filter(ae=>A[ae]==="PRESENT"),H=Object.keys(A).filter(ae=>A[ae]==="ABSENT"),re=Object.keys(A).filter(ae=>A[ae]==="LEAVE"),te={code:j,shiftInfo:E,attendance:{present:q,absent:H,leave:re.map(ae=>({id:ae,type:$[ae]})),map:A},production:O,feedInfo:P,ballMills:B,concentrateFilters:ge,hydrocyclones:W,thickeners:Q,drumMagnets:ee,recoveryFilters:ye,pumps:se,downtime:J,footer:Ie,totalA:Pt("lineA"),totalB:Pt("lineB")};try{await $3(te),y(te),x(!0),r("VIEW"),i(1),he(),alert("    .")}catch(ae){alert("   .    ."),console.error(ae)}finally{o(!1)}},fl=j=>{j.preventDefault(),pe()&&h(!0)},fm=()=>window.print(),cn=()=>{navigator.share?navigator.share({title:`  ${v.shiftInfo.date}`,text:`     -  ${v.shiftInfo.date}`,url:window.location.href}).catch(console.error):alert("   .    .")},Wn=()=>fn.map(j=>({name:j,LineA:O.lineA[j]||0,LineB:O.lineB[j]||0})),Uu=j=>{const q=G(J[j].workTime),H=G(J[j].stopTime);return[{name:"",value:q},{name:"",value:H}]},Kn=[{id:1,label:" ",icon:Js},{id:2,label:"  ",icon:mL},{id:3,label:"",icon:cj},{id:4,label:"",icon:E_},{id:5,label:"",icon:E_},{id:6,label:" ",icon:wL},{id:7,label:"",icon:hL},{id:8,label:" ",icon:OL},{id:9,label:"  ",icon:LL}],co=(j,q)=>{j&&(I(H=>({...H,[j]:q})),q==="LEAVE"&&U(H=>({...H,[j]:"DAILY"})))},hl=j=>{I(q=>{const H={...q};return delete H[j],H}),U(q=>{const H={...q};return delete H[j],H})},hm=()=>S.filter(j=>!A[j.id]),Fu=j=>S.filter(q=>A[q.id]===j),uo=({active:j,onClick:q})=>l.jsx("button",{type:"button",onClick:q,disabled:ie,className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 ease-in-out flex items-center ${j?"bg-green-500 justify-end":"bg-gray-300 justify-start"}`,children:l.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-md"})}),Xb=({value:j,onChange:q})=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold mb-1 text-gray-500",children:""}),l.jsxs("select",{className:"w-full p-2 border rounded text-sm bg-white dark:bg-gray-700",value:j,onChange:H=>q(H.target.value),disabled:ie,children:[l.jsx("option",{value:"",children:"..."}),Fu("PRESENT").map(H=>l.jsx("option",{value:H.id,children:H.full_name},H.id))]})]}),AR=(j,q)=>{const H=B[j][q];!H.ballSize||!H.barrelCount||F(re=>({...re,[j]:{...re[j],[q]:{...re[j][q],charges:[...re[j][q].charges,{size:Number(H.ballSize),count:Number(H.barrelCount)}],ballSize:"",barrelCount:""}}}))},CR=(j,q,H)=>{F(re=>({...re,[j]:{...re[j],[q]:{...re[j][q],charges:re[j][q].charges.filter((te,ae)=>ae!==H)}}}))},Bu=(j,q,H,re)=>{ue(te=>{const ae=[...te[j]];return ae[q]={...ae[q],[H]:re},{...te,[j]:ae}})},pm=(j,q,H,re,te)=>{ue(ae=>{const ve=[...ae[j]],Te=ve[q].data[H]||{pressure:"",jack:"",mudLine:""};return ve[q].data={...ve[q].data,[H]:{...Te,[re]:te}},{...ae,[j]:ve}})},Qb=(j,q,H)=>{Bu(j,q,"description",H)},mm=(j,q)=>{const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H){alert("  ");return}const re=new H;re.lang="fa-IR",re.onresult=te=>{const ae=te.results[0][0].transcript;j(q?`${q} ${ae}`:ae)},re.start()},jR=(j,q)=>{mm(j,q)},Zb=(j,q)=>{const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H)return;const re=new H;re.lang="fa-IR",re.onresult=te=>{const ae=te.results[0][0].transcript;gm(j,q,ae,!0)},re.start()},ew=j=>{j==="downtime"?X(q=>({...q,generalDescription:[...q.generalDescription,""]})):Se(q=>({...q,nextShiftActions:[...q.nextShiftActions,""]}))},tw=(j,q)=>{j==="downtime"?X(H=>({...H,generalDescription:H.generalDescription.filter((re,te)=>te!==q)})):Se(H=>({...H,nextShiftActions:H.nextShiftActions.filter((re,te)=>te!==q)}))},gm=(j,q,H,re=!1)=>{j==="downtime"?X(te=>{const ae=[...te.generalDescription];return ae[q]=re&&ae[q]?`${ae[q]} ${H}`:H,{...te,generalDescription:ae}}):Se(te=>{const ae=[...te.nextShiftActions];return ae[q]=re&&ae[q]?`${ae[q]} ${H}`:H,{...te,nextShiftActions:ae}})},PR=l.jsx("div",{className:"flex gap-2"});if(g&&v){const j=te=>{var ae;return((ae=S.find(ve=>ve.id===te))==null?void 0:ae.full_name)||""},q=Wn(),H=Uu("lineA"),re=Uu("lineB");return l.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[l.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 210mm; min-height: 297mm; padding: 10mm; margin: 0; box-shadow: none; overflow: visible; }
                      .page-break { page-break-after: always; }
                      aside, header, footer { display: none !important; }
                  }
                  .print-table th, .print-table td { border: 1px solid #ccc; padding: 4px; font-size: 9px; text-align: center; }
                  .print-header { background-color: #f3f4f6; font-weight: bold; }
                  .chart-container { width: 100%; height: 150px; }
              `}),l.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-sm font-sans box-border w-[210mm] mx-auto",children:[l.jsxs("div",{className:"page-break flex flex-col h-[297mm] p-[10mm]",children:[l.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-4",children:[l.jsx("div",{className:"w-1/4 flex justify-start",children:l.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-[#800020] flex items-center justify-center bg-gray-50",children:w?l.jsx("img",{src:w,className:"w-full h-full object-cover",alt:"Admin"}):l.jsx(Px,{className:"w-16 h-16"})})}),l.jsxs("div",{className:"text-center w-1/2",children:[l.jsx("h1",{className:"text-xl font-black text-[#800020]",children:"     "}),l.jsx("h2",{className:"text-sm font-bold mt-1 text-gray-700",children:"     "})]}),l.jsxs("div",{className:"text-xs text-right w-1/4 flex flex-col gap-1 items-end",children:[l.jsxs("div",{className:"flex w-full justify-between items-center border-b border-gray-300 border-dashed pb-1",children:[l.jsx("span",{children:" :"}),l.jsx("span",{className:"font-mono font-bold text-sm",children:v.code})]}),l.jsxs("div",{className:"flex w-full justify-between items-center border-b border-gray-300 border-dashed pb-1",children:[l.jsx("span",{children:":"}),l.jsx("span",{className:"font-bold",children:v.shiftInfo.date})]}),l.jsxs("div",{className:"flex w-full justify-between items-center",children:[l.jsx("span",{children:":"}),l.jsxs("span",{className:"font-bold",children:[v.shiftInfo.name," - ",nE[v.shiftInfo.type]]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-600",children:"   A"}),l.jsxs("div",{className:"text-lg font-black text-blue-700",children:[v.totalA," ",l.jsx("span",{className:"text-xs font-normal",children:""})]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-2 text-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-600",children:"   B"}),l.jsxs("div",{className:"text-lg font-black text-red-700",children:[v.totalB," ",l.jsx("span",{className:"text-xs font-normal",children:""})]})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-2 text-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-600",children:"  "}),l.jsx("div",{className:"text-lg font-black text-gray-700",children:v.shiftInfo.shiftDuration})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2 text-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-600 mb-1",children:" "}),l.jsxs("div",{className:"text-[10px] font-bold flex justify-around",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-green-600 mb-0.5",children:""}),l.jsx("span",{children:v.attendance.present.length})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-yellow-600 mb-0.5",children:""}),l.jsx("span",{children:v.attendance.leave.length})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-red-600 mb-0.5",children:""}),l.jsx("span",{children:v.attendance.absent.length})]})]})]})]}),l.jsxs("div",{className:"mb-4 flex gap-4 h-64",children:[l.jsxs("div",{className:"w-1/3 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex-1 border rounded p-1 text-center relative bg-blue-50/50 flex flex-col justify-center",children:[l.jsxs("div",{className:"text-center mb-1",children:[l.jsx("h4",{className:"text-[9px] font-bold text-blue-700",children:"     A"}),l.jsxs("div",{className:"flex justify-center gap-3 text-[10px] font-bold",children:[l.jsxs("span",{className:"text-green-600",children:[": ",v.downtime.lineA.workTime]}),l.jsxs("span",{className:"text-red-600",children:[": ",v.downtime.lineA.stopTime]})]})]}),l.jsx("div",{className:"flex-1",children:l.jsx(ja,{width:"100%",height:"100%",children:l.jsxs(Qk,{children:[l.jsx(qn,{data:H,cx:"50%",cy:"50%",innerRadius:25,outerRadius:40,dataKey:"value",stroke:"none",children:H.map((te,ae)=>l.jsx(qc,{fill:Ed[ae%Ed.length]},`cell-${ae}`))}),l.jsx(ir,{})]})})})]}),l.jsxs("div",{className:"flex-1 border rounded p-1 text-center relative bg-red-50/50 flex flex-col justify-center",children:[l.jsxs("div",{className:"text-center mb-1",children:[l.jsx("h4",{className:"text-[9px] font-bold text-red-700",children:"     B"}),l.jsxs("div",{className:"flex justify-center gap-3 text-[10px] font-bold",children:[l.jsxs("span",{className:"text-green-600",children:[": ",v.downtime.lineB.workTime]}),l.jsxs("span",{className:"text-red-600",children:[": ",v.downtime.lineB.stopTime]})]})]}),l.jsx("div",{className:"flex-1",children:l.jsx(ja,{width:"100%",height:"100%",children:l.jsxs(Qk,{children:[l.jsx(qn,{data:re,cx:"50%",cy:"50%",innerRadius:25,outerRadius:40,dataKey:"value",stroke:"none",children:re.map((te,ae)=>l.jsx(qc,{fill:Ed[ae%Ed.length]},`cell-${ae}`))}),l.jsx(ir,{})]})})})]})]}),l.jsxs("div",{className:"w-2/3 border rounded p-2",children:[l.jsx("h3",{className:"font-bold text-xs bg-gray-100 p-1 mb-2 text-center",children:"  "}),l.jsx(ja,{width:"100%",height:"85%",children:l.jsxs(Ub,{data:q,margin:{top:20,right:30,left:20,bottom:20},children:[l.jsx(Ds,{strokeDasharray:"3 3",vertical:!1}),l.jsx(yi,{dataKey:"name",fontSize:9,angle:-45,textAnchor:"end",height:60,interval:0,dy:10}),l.jsx(vi,{fontSize:9,width:40,dx:-10}),l.jsx(ir,{}),l.jsx(Xi,{wrapperStyle:{fontSize:"10px"}}),l.jsx(Vn,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0],isAnimationActive:!1}),l.jsx(Vn,{dataKey:"LineB",name:" B",fill:"#ef4444",radius:[2,2,0,0],isAnimationActive:!1})]})})]})]}),l.jsxs("div",{className:"mb-4 h-48 border rounded p-2",children:[l.jsx("h3",{className:"font-bold text-xs bg-gray-100 p-1 mb-2 text-center",children:"   "}),l.jsx(ja,{width:"100%",height:"85%",children:l.jsxs(RO,{data:q,children:[l.jsx(Ds,{strokeDasharray:"3 3"}),l.jsx(yi,{dataKey:"name",fontSize:9}),l.jsx(vi,{fontSize:9}),l.jsx(ir,{}),l.jsx(Xi,{wrapperStyle:{fontSize:"10px"}}),l.jsx(Xa,{type:"monotone",dataKey:"LineA",name:"  A",stroke:"#3b82f6",strokeWidth:2,dot:{r:2},isAnimationActive:!1}),l.jsx(Xa,{type:"monotone",dataKey:"LineB",name:"  B",stroke:"#ef4444",strokeWidth:2,dot:{r:2},isAnimationActive:!1})]})})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:["lineA","lineB"].map(te=>l.jsxs("div",{className:"border rounded p-2",children:[l.jsxs("h3",{className:`font-bold text-xs text-center border-b mb-2 ${te==="lineA"?"text-blue-700":"text-red-700"}`,children:["   ",te==="lineA"?"A":"B"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[9px]",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold block",children:" P1:"}),"A: ",v.ballMills[te].primary.amp08," / D: ",v.ballMills[te].primary.dens08]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold block",children:" P2:"}),"A: ",v.ballMills[te].secondary.amp08," / D: ",v.ballMills[te].secondary.dens08]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold block",children:" P1:"}),"P: ",v.hydrocyclones[te].primary.pressure08," / Ang: ",v.hydrocyclones[te].primary.angle08]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold block",children:" P2:"}),"P: ",v.hydrocyclones[te].secondary.pressure08," / Ang: ",v.hydrocyclones[te].secondary.angle08]})]})]},te))})]}),l.jsxs("div",{className:"flex flex-col h-[297mm] p-[10mm]",children:[l.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"border rounded p-2 bg-blue-50/20",children:[l.jsx("span",{className:"font-bold text-xs text-blue-700 block border-b mb-1",children:"   A:"}),l.jsx("p",{className:"text-[10px] text-justify",children:v.downtime.lineA.reason||"   "})]}),l.jsxs("div",{className:"border rounded p-2 bg-red-50/20",children:[l.jsx("span",{className:"font-bold text-xs text-red-700 block border-b mb-1",children:"   B:"}),l.jsx("p",{className:"text-[10px] text-justify",children:v.downtime.lineB.reason||"   "})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-bold text-xs bg-gray-100 p-1 mb-1",children:"   "}),l.jsxs("table",{className:"w-full print-table border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"print-header",children:[l.jsx("th",{children:""}),l.jsx("th",{children:""}),l.jsx("th",{children:" ()"}),l.jsx("th",{children:" / "})]})}),l.jsx("tbody",{children:["lineA","lineB"].map(te=>l.jsxs(L.Fragment,{children:[l.jsxs("tr",{children:[l.jsxs("td",{children:[" ",te==="lineA"?"A":"B"]}),l.jsx("td",{children:v.thickeners[te][0].active?"":""}),l.jsx("td",{children:v.thickeners[te][0].hoursWorked||"-"}),l.jsx("td",{className:"text-[9px] text-justify",children:v.thickeners[te][0].description})]}),l.jsxs("tr",{children:[l.jsxs("td",{children:["  ",te==="lineA"?"A":"B"]}),l.jsx("td",{children:v.concentrateFilters[te].active?"":""}),l.jsx("td",{children:v.concentrateFilters[te].hours||"-"}),l.jsx("td",{children:j(v.concentrateFilters[te].operator)})]})]},te))})]})]}),l.jsxs("div",{className:"mb-4 border rounded p-2 flex-1",children:[l.jsx("h4",{className:"font-bold text-xs bg-gray-50 p-1 mb-1 border-b",children:"  :"}),l.jsx("ul",{className:"list-decimal list-inside text-xs space-y-1 mb-4",children:(rw=v.downtime.generalDescription)==null?void 0:rw.map((te,ae)=>l.jsx("li",{children:te},ae))}),l.jsx("h4",{className:"font-bold text-xs bg-gray-50 p-1 mb-1 border-b",children:"  :"}),l.jsx("ul",{className:"list-decimal list-inside text-xs space-y-1",children:(nw=v.footer.nextShiftActions)==null?void 0:nw.map((te,ae)=>l.jsx("li",{children:te},ae))})]}),l.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-8 text-center text-xs pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold mb-6",children:" "}),l.jsx("p",{className:"font-bold",children:v.shiftInfo.supervisorName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold mb-6",children:" "}),l.jsx("p",{children:"_________________"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold mb-6",children:" "}),l.jsx("p",{children:"_________________"})]})]})]}),l.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[l.jsxs("button",{onClick:()=>{x(!1),r("LIST")},className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[l.jsx(Ql,{className:"w-5 h-5"})," "]}),l.jsxs("button",{onClick:cn,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold",children:[l.jsx(kx,{className:"w-5 h-5"}),"  "]}),l.jsxs("button",{onClick:fm,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold",children:[l.jsx(xj,{className:"w-5 h-5"}),"  (PDF)"]})]})]})]})}return e==="LIST"?l.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:l.jsx(ki,{title:" ",icon:Ty,data:b,onAdd:Ve,columns:[{header:" ",accessor:j=>l.jsx("span",{className:"font-mono font-bold",children:j.tracking_code})},{header:"",accessor:j=>j.shift_date},{header:"",accessor:j=>j.shift_name},{header:" ",accessor:j=>nE[j.shift_type]||j.shift_type},{header:"",accessor:j=>j.supervisor_name||"---"},{header:"  A",accessor:j=>l.jsx("span",{className:"text-blue-600 font-bold bg-blue-50 px-2 py-1 rounded",children:j.total_production_a})},{header:"  B",accessor:j=>l.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:j.total_production_b})}],onViewDetails:_e,onEdit:V,extraActions:PR,selectedIds:u,onSelect:d})}):l.jsxs("div",{className:"max-w-7xl mx-auto pb-24",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 dark:bg-gray-900 z-20 py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ty,{className:"w-8 h-8 text-primary"}),l.jsx("div",{children:l.jsx("h1",{className:"text-2xl font-bold",children:ie?`  ${E.date}`:"   "})})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:l.jsx(gt,{className:"w-6 h-6"})})})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 sticky top-16 z-10 border border-gray-200 dark:border-gray-700 overflow-x-auto",children:l.jsx("div",{className:"flex min-w-max",children:Kn.map(j=>l.jsxs("button",{onClick:()=>i(j.id),className:`flex-1 py-4 px-6 flex items-center justify-center gap-2 text-sm font-bold transition-all border-b-4 
                        ${n===j.id?"border-primary text-primary bg-primary/5":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(j.icon,{className:"w-5 h-5"})," ",j.label]},j.id))})}),l.jsxs("form",{onSubmit:fl,className:"space-y-6",children:[n===1&&l.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold mb-1",children:""}),l.jsx("select",{value:E.name,onChange:j=>C({...E,name:j.target.value}),disabled:ie,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm",children:["A","B","C"].map(j=>l.jsxs("option",{value:j,children:[" ",j]},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),l.jsxs("select",{value:E.type,onChange:j=>C({...E,type:j.target.value}),disabled:ie,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm",children:[l.jsx("option",{value:"Day1",children:"  "}),l.jsx("option",{value:"Day2",children:"  "}),l.jsx("option",{value:"Night1",children:"  "}),l.jsx("option",{value:"Night2",children:"  "})]})]}),l.jsx("div",{children:l.jsx("div",{className:"w-full",children:l.jsx(Wr,{label:" ",value:E.shiftDuration,onChange:j=>C({...E,shiftDuration:j})})})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),l.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 text-center text-sm",children:Ai(E.date)})]}),l.jsx("div",{children:l.jsx("div",{className:"w-full",children:l.jsx(Mn,{label:"",value:E.date,onChange:j=>!ie&&C({...E,date:j})})})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),l.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 truncate text-sm",children:E.supervisorName})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-4 rounded-xl border border-green-100 dark:border-green-800",children:[l.jsxs("h4",{className:"font-bold text-green-700 mb-3 flex items-center gap-2",children:[l.jsx(fs,{className:"w-4 h-4"})," "]}),!ie&&l.jsxs("select",{className:"w-full p-2 mb-2 text-sm border rounded outline-none",onChange:j=>{co(j.target.value,"PRESENT"),j.target.value=""},children:[l.jsx("option",{value:"",children:"+ ..."}),hm().map(j=>l.jsx("option",{value:j.id,children:j.full_name},j.id))]}),l.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:Fu("PRESENT").map(j=>l.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm text-sm",children:[l.jsx("span",{children:j.full_name}),!ie&&l.jsx("button",{onClick:()=>hl(j.id),className:"text-red-500 hover:bg-red-50 rounded p-1",children:l.jsx($t,{className:"w-4 h-4"})})]},j.id))})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-4 rounded-xl border border-yellow-100 dark:border-yellow-800",children:[l.jsxs("h4",{className:"font-bold text-yellow-700 mb-3 flex items-center gap-2",children:[l.jsx(Ks,{className:"w-4 h-4"})," "]}),!ie&&l.jsxs("select",{className:"w-full p-2 mb-2 text-sm border rounded outline-none",onChange:j=>{co(j.target.value,"LEAVE"),j.target.value=""},children:[l.jsx("option",{value:"",children:"+ ..."}),hm().map(j=>l.jsx("option",{value:j.id,children:j.full_name},j.id))]}),l.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:Fu("LEAVE").map(j=>l.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm text-sm",children:[l.jsx("span",{className:"truncate w-24",children:j.full_name}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("select",{value:$[j.id],onChange:q=>U({...$,[j.id]:q.target.value}),disabled:ie,className:"text-xs p-1 border rounded",children:[l.jsx("option",{value:"DAILY",children:""}),l.jsx("option",{value:"HOURLY",children:""})]}),!ie&&l.jsx("button",{onClick:()=>hl(j.id),className:"text-red-500 hover:bg-red-50 rounded p-1",children:l.jsx($t,{className:"w-4 h-4"})})]})]},j.id))})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-800",children:[l.jsxs("h4",{className:"font-bold text-red-700 mb-3 flex items-center gap-2",children:[l.jsx(qL,{className:"w-4 h-4"})," "]}),!ie&&l.jsxs("select",{className:"w-full p-2 mb-2 text-sm border rounded outline-none",onChange:j=>{co(j.target.value,"ABSENT"),j.target.value=""},children:[l.jsx("option",{value:"",children:"+ ..."}),hm().map(j=>l.jsx("option",{value:j.id,children:j.full_name},j.id))]}),l.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto",children:Fu("ABSENT").map(j=>l.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm text-sm",children:[l.jsx("span",{children:j.full_name}),!ie&&l.jsx("button",{onClick:()=>hl(j.id),className:"text-red-500 hover:bg-red-50 rounded p-1",children:l.jsx($t,{className:"w-4 h-4"})})]},j.id))})]})]})]}),n===2&&l.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:["lineA","lineB"].map(j=>l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:`font-bold mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:[" ",j==="lineA"?"A":"B"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-center text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[l.jsx("th",{className:"p-2",children:""}),l.jsx("th",{className:"p-2",children:" "}),l.jsx("th",{className:"p-2",children:"  1"}),l.jsx("th",{className:"p-2",children:""}),l.jsx("th",{className:"p-2",children:"  2"}),l.jsx("th",{className:"p-2",children:""})]})}),l.jsx("tbody",{children:fn.map((q,H)=>{var Te,ym,qu,iw,aw;const re=P[j][q]||Il,te=(((Te=re[0])==null?void 0:Te.percent)||0)+(((ym=re[1])==null?void 0:ym.percent)||0),ae=te===100||te===0,ve=((qu=re[0])==null?void 0:qu.percent)===100;return l.jsxs("tr",{className:`border-b dark:border-gray-700 ${ae?"":"bg-red-50 dark:bg-red-900/10"}`,children:[l.jsx("td",{className:"p-2 font-bold",children:q}),l.jsx("td",{className:"p-1",children:l.jsx("input",{type:"number",className:"w-24 p-1 text-center border rounded font-bold",value:O[j][q]||"",onChange:ft=>me(j,q,ft.target.value),disabled:ie})}),l.jsx("td",{className:"p-1",children:(iw=re[0])!=null&&iw.isCustom?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{type:"text",className:"w-24 p-1 border rounded text-xs",value:re[0].type,onChange:ft=>Wt(j,H,0,ft.target.value),disabled:ie,placeholder:" ...",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>er(j,H,0),className:"text-red-500 hover:text-red-700",children:l.jsx(gt,{className:"w-3 h-3"})})]}):l.jsxs("select",{className:"w-24 p-1 border rounded",value:re[0].type,onChange:ft=>Fe(j,H,0,ft.target.value),disabled:ie,children:[l.jsx("option",{value:"",children:"-"}),rE.map(ft=>l.jsx("option",{value:ft,children:ft},ft))]})}),l.jsx("td",{className:"p-1",children:l.jsx("input",{type:"number",className:"w-12 p-1 text-center border rounded",value:re[0].percent||"",onChange:ft=>Tr(j,H,0,ft.target.value),disabled:ie})}),l.jsx("td",{className:"p-1",children:(aw=re[1])!=null&&aw.isCustom?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{type:"text",className:"w-24 p-1 border rounded text-xs",value:re[1].type,onChange:ft=>Wt(j,H,1,ft.target.value),disabled:ie||ve,placeholder:" ...",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>er(j,H,1),className:"text-red-500 hover:text-red-700",children:l.jsx(gt,{className:"w-3 h-3"})})]}):l.jsxs("select",{className:"w-24 p-1 border rounded disabled:bg-gray-100",value:re[1].type,onChange:ft=>Fe(j,H,1,ft.target.value),disabled:ie||!re[0].type||ve,children:[l.jsx("option",{value:"",children:"-"}),rE.filter(ft=>ft!==re[0].type).map(ft=>l.jsx("option",{value:ft,children:ft},ft))]})}),l.jsxs("td",{className:"p-1 relative",children:[l.jsx("input",{type:"number",className:"w-12 p-1 text-center border rounded disabled:bg-gray-100",value:re[1].percent||"",onChange:ft=>Tr(j,H,1,ft.target.value),disabled:ie||!re[0].type||ve}),!ae&&(re[0].percent||re[1].percent)&&l.jsx("span",{className:"absolute right-full mr-1 top-2 text-red-500 text-[10px] w-max font-bold animate-pulse",children:"!= 100%"})]})]},q)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:`font-bold bg-gray-50 dark:bg-gray-700/50 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:[l.jsx("td",{className:"p-2",children:""}),l.jsxs("td",{className:"p-2 text-center text-sm",children:[Object.values(O[j]).reduce((q,H)=>q+(Number(H)||0),0)," "]}),l.jsx("td",{colSpan:4})]})})]})})]},j))}),n===3&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:`font-bold text-center ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),["primary","secondary"].map(q=>{const H=B[j][q],re=q==="primary"?"  1":"  2",te=Gce.filter(ae=>!H.charges.some(ve=>ve.size===ae));return l.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"flex justify-between mb-3",children:[l.jsx("h4",{className:"font-bold text-sm",children:re}),l.jsx(uo,{active:H.active,onClick:()=>F(ae=>({...ae,[j]:{...ae[j],[q]:{...ae[j][q],active:!H.active}}}))})]}),H.active&&l.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[l.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[l.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 08:00"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:`w-full p-2 pr-8 border rounded ${Number(H.amp08)>970?"text-red-600 font-bold":""}`,value:H.amp08,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],amp08:ve}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-sans",children:"A"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 pr-8 border rounded",value:H.dens08,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],dens08:ve}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2.5 text-[9px] text-gray-400 font-sans",children:"Gr/Lit"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[l.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 02:00"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:`w-full p-2 pr-8 border rounded ${Number(H.amp02)>970?"text-red-600 font-bold":""}`,value:H.amp02,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],amp02:ve}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-sans",children:"A"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 pr-8 border rounded",value:H.dens02,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],dens02:ve}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2.5 text-[9px] text-gray-400 font-sans",children:"Gr/Lit"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs mt-2",children:[l.jsx("label",{className:"block mb-1 font-bold text-gray-500",children:" "}),l.jsxs("div",{className:"flex gap-1 mb-2",children:[l.jsxs("select",{className:"flex-1 p-1 border rounded",value:H.ballSize,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],ballSize:ve}}}))},disabled:ie,children:[l.jsx("option",{value:"",children:""}),te.map(ae=>l.jsx("option",{value:ae,children:ae},ae))]}),l.jsx("input",{type:"number",min:"1",className:"w-16 p-1 border rounded text-center",placeholder:"",value:H.barrelCount,onChange:ae=>{const ve=ae.target.value;F(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],barrelCount:ve}}}))},disabled:ie}),l.jsx("button",{type:"button",onClick:()=>AR(j,q),className:"bg-green-500 text-white p-1 rounded",disabled:ie,children:l.jsx(lr,{className:"w-4 h-4"})})]}),H.charges.map((ae,ve)=>l.jsxs("div",{className:"flex justify-between bg-white px-2 py-1 rounded mb-1 border border-gray-100 shadow-sm",children:[l.jsxs("span",{children:[" ",ae.size,": ",ae.count," "]}),!ie&&l.jsx("button",{onClick:()=>CR(j,q,ve),className:"text-red-500 hover:bg-red-50 rounded",children:l.jsx($t,{className:"w-3 h-3"})})]},ve))]})]})]},q)})]},j))}),n===4&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),["primary","secondary"].map(q=>{const H=W[j][q],re=q==="primary"?"  1":"  2";return l.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"flex justify-between mb-3",children:[l.jsx("h4",{className:"font-bold text-sm",children:re}),l.jsx(uo,{active:H.active,onClick:()=>K(te=>({...te,[j]:{...te[j],[q]:{...te[j][q],active:!H.active}}}))})]}),H.active&&l.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[l.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 08:00"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 pr-8 border rounded text-center",value:H.pressure08,onChange:te=>{const ae=te.target.value;K(ve=>({...ve,[j]:{...ve[j],[q]:{...ve[j][q],pressure08:ae}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2 text-[9px] text-gray-400 font-sans",children:"Bar"})]}),l.jsx("input",{type:"number",placeholder:" ",className:"w-full p-2 border rounded text-center",value:H.angle08,onChange:te=>{const ae=te.target.value;K(ve=>({...ve,[j]:{...ve[j],[q]:{...ve[j][q],angle08:ae}}}))},disabled:ie})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[l.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 02:00"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 pr-8 border rounded text-center",value:H.pressure02,onChange:te=>{const ae=te.target.value;K(ve=>({...ve,[j]:{...ve[j],[q]:{...ve[j][q],pressure02:ae}}}))},disabled:ie}),l.jsx("span",{className:"absolute left-2 top-2 text-[9px] text-gray-400 font-sans",children:"Bar"})]}),l.jsx("input",{type:"number",placeholder:" ",className:"w-full p-2 border rounded text-center",value:H.angle02,onChange:te=>{const ae=te.target.value;K(ve=>({...ve,[j]:{...ve[j],[q]:{...ve[j][q],angle02:ae}}}))},disabled:ie})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:" "}),l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-1 justify-items-center",children:Array.from({length:12},(te,ae)=>ae+1).map(te=>l.jsx("button",{type:"button",disabled:ie,onClick:()=>{const ve=H.activeCyclones.includes(te)?H.activeCyclones.filter(Te=>Te!==te):[...H.activeCyclones,te];K(Te=>({...Te,[j]:{...Te[j],[q]:{...Te[j][q],activeCyclones:ve}}}))},className:`w-7 h-7 rounded-full border text-[10px] font-bold transition-all ${H.activeCyclones.includes(te)?"bg-cyan-500 text-white shadow-md transform scale-110 border-cyan-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:te},te))})]})]})]},q)})]},j))}),n===5&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>{const q=ee[j],H={single:" ",upper:"  ",middle:"  ",lower:"  "};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between mb-4",children:[l.jsxs("h3",{className:`font-bold text-center ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["    ",j==="lineA"?"A":"B"]}),l.jsx(uo,{active:q.active,onClick:()=>Y(re=>({...re,[j]:{...re[j],active:!q.active}}))})]}),q.active&&l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:["single","upper","middle","lower"].map(re=>l.jsx("button",{type:"button",disabled:ie,onClick:()=>Y(te=>({...te,[j]:{...te[j],[re]:!te[j][re]}})),className:`p-3 rounded-lg border text-sm font-bold transition-all ${ee[j][re]?"bg-cyan-500 text-white border-cyan-600 shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:H[re]},re))}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"...",rows:3,value:ee[j].description,onChange:re=>{const te=re.target.value;Y(ae=>({...ae,[j]:{...ae[j],description:te}}))},disabled:ie}),!ie&&l.jsx(Yr,{className:"absolute bottom-3 left-3 w-5 h-5 text-gray-400 cursor-pointer hover:text-primary",onClick:()=>mm(re=>Y(te=>({...te,[j]:{...te[j],description:re}})),ee[j].description)})]})]})]},j)})}),n===6&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["lineA","lineB","reserve"].map(j=>{const q=ge[j],H=j==="lineA"?"   A":j==="lineB"?"   B":"  ";return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h4",{className:"font-bold text-sm",children:H}),l.jsx(uo,{active:q.active,onClick:()=>R(re=>({...re,[j]:{...re[j],active:!q.active}}))})]}),q.active&&l.jsxs("div",{className:"animate-fadeIn space-y-3",children:[l.jsx(Xb,{value:q.operator,onChange:re=>R(te=>({...te,[j]:{...te[j],operator:re}}))}),l.jsx("div",{children:l.jsx(Wr,{label:"  (HH:MM)",value:q.hours,onChange:re=>{if(G(re)>G(E.shiftDuration)){alert("        .");return}R(te=>({...te,[j]:{...te[j],hours:re}}))}})}),l.jsx("div",{className:"mt-2",children:l.jsx(tE,{title:H,selectedCloths:q.cloths,onChange:re=>R(te=>({...te,[j]:{...te[j],cloths:re}}))})})]})]},j)})}),n===7&&l.jsx("div",{className:"space-y-6",children:["lineA","lineB"].map(j=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[l.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(q=>{const H=Q[j][q];return l.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h4",{className:"font-bold text-sm",children:["  ",q+1]}),l.jsx(uo,{active:H.active,onClick:()=>Bu(j,q,"active",!H.active)})]}),H.active&&l.jsxs("div",{className:"animate-fadeIn space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Wr,{label:" ",value:H.hoursWorked,onChange:re=>{if(G(re)>G(E.shiftDuration)){alert("        .");return}Bu(j,q,"hoursWorked",re)}}),l.jsx(Wr,{label:"  ",value:H.channelOutput,onChange:re=>{if(G(re)>G(E.shiftDuration)){alert("        .");return}Bu(j,q,"channelOutput",re)}})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-1 mb-2 text-center text-[10px] text-gray-500 font-bold",children:[l.jsx("div",{children:""}),l.jsx("div",{children:" (Bar)"}),l.jsx("div",{children:"  (cm)"}),l.jsx("div",{children:"  (cm)"})]}),Vce.map(re=>{var te,ae,ve;return l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2 items-center",children:[l.jsx("span",{className:"font-bold bg-white dark:bg-gray-600 p-1.5 rounded text-center text-xs shadow-sm",children:re}),l.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((te=H.data[re])==null?void 0:te.pressure)||"",onChange:Te=>pm(j,q,re,"pressure",Te.target.value),disabled:ie}),l.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((ae=H.data[re])==null?void 0:ae.jack)||"",onChange:Te=>pm(j,q,re,"jack",Te.target.value),disabled:ie}),l.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((ve=H.data[re])==null?void 0:ve.mudLine)||"",onChange:Te=>pm(j,q,re,"mudLine",Te.target.value),disabled:ie})]},re)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{className:"w-full p-2 border rounded-lg text-xs min-h-[60px]",placeholder:"...",value:H.description,onChange:re=>Qb(j,q,re.target.value)}),!ie&&l.jsx(Yr,{className:"absolute bottom-2 left-2 w-4 h-4 text-gray-400 cursor-pointer hover:text-primary",onClick:()=>mm(re=>Qb(j,q,re),H.description)})]})]})]},q)})})]},j))}),n===8&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[l.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["   ",j==="lineA"?"A":"B"]}),[0,1].map(q=>{const H=ye[j][q],re=`   ${q+1}`;return l.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-xl p-4 mb-4 last:mb-0 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h4",{className:"font-bold text-sm",children:re}),l.jsx(uo,{active:H.active,onClick:()=>{const te=[...ye[j]];te[q].active=!H.active,Oe(ae=>({...ae,[j]:te}))}})]}),H.active&&l.jsxs("div",{className:"animate-fadeIn space-y-3",children:[l.jsx(Xb,{value:H.operator,onChange:te=>{const ae=[...ye[j]];ae[q].operator=te,Oe(ve=>({...ve,[j]:ae}))}}),l.jsx("div",{children:l.jsx(Wr,{label:"  (HH:MM)",value:H.hours,onChange:te=>{if(G(te)>G(E.shiftDuration)){alert("        .");return}const ae=[...ye[j]];ae[q].hours=te,Oe(ve=>({...ve,[j]:ae}))}})}),l.jsx("div",{className:"mt-2",children:l.jsx(tE,{title:`${re}  ${j==="lineA"?"A":"B"}`,selectedCloths:H.cloths,onChange:te=>{const ae=[...ye[j]];ae[q].cloths=te,Oe(ve=>({...ve,[j]:ae}))}})})]})]},q)})]},j))}),n===9&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>{const q=J[j].stopTime,H=G(q)>0;return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[l.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  /   ",j==="lineA"?"A":"B"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsx("div",{children:l.jsx(Wr,{label:" ",value:J[j].workTime,onChange:re=>zn(j,"workTime",re)})}),l.jsx("div",{children:l.jsx(Wr,{label:" ",value:J[j].stopTime,onChange:re=>zn(j,"stopTime",re)})})]}),H&&l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("label",{className:"block text-sm font-bold mb-1 text-gray-500",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 min-h-[80px]",placeholder:"...",value:J[j].reason,onChange:re=>X(te=>({...te,[j]:{...te[j],reason:re.target.value}})),disabled:ie}),!ie&&l.jsx(Yr,{className:"absolute bottom-3 left-3 w-5 h-5 text-gray-400 cursor-pointer hover:text-primary",onClick:()=>jR(re=>X(te=>({...te,[j]:{...te[j],reason:re}})),J[j].reason)})]})]})]},j)})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[l.jsx("h3",{className:"font-bold mb-6 text-center text-lg",children:"  "}),l.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:" "}),l.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(j=>l.jsx("button",{type:"button",disabled:ie,onClick:()=>{const q=se.process.includes(j);Ne(H=>({...H,process:q?H.process.filter(re=>re!==j):[...H.process,j]}))},className:`w-12 h-12 rounded-xl border font-bold text-lg transition-all transform hover:scale-105 ${se.process.includes(j)?"bg-cyan-600 text-white border-cyan-700 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:j},j))})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:"  "}),l.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(j=>l.jsx("button",{type:"button",disabled:ie,onClick:()=>{const q=se.cleanWater.includes(j);Ne(H=>({...H,cleanWater:q?H.cleanWater.filter(re=>re!==j):[...H.cleanWater,j]}))},className:`w-12 h-12 rounded-xl border font-bold text-lg transition-all transform hover:scale-105 ${se.cleanWater.includes(j)?"bg-cyan-400 text-white border-cyan-500 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:j},j))})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-lg",children:" "}),!ie&&l.jsx("button",{onClick:()=>ew("downtime"),className:"bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-blue-700 transition",children:l.jsx(lr,{className:"w-5 h-5"})})]}),J.generalDescription.map((j,q)=>l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[iE(q+1),"."]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("textarea",{value:j,onChange:H=>gm("downtime",q,H.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:ie}),!ie&&l.jsx(Yr,{className:"absolute bottom-3 left-3 w-4 h-4 text-gray-400 cursor-pointer hover:text-primary",onClick:()=>Zb("downtime",q)})]}),!ie&&l.jsx("button",{onClick:()=>tw("downtime",q),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:l.jsx($t,{className:"w-5 h-5"})})]},q)),J.generalDescription.length===0&&l.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"   ."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-lg",children:"   "}),!ie&&l.jsx("button",{onClick:()=>ew("footer"),className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-green-700 transition",children:l.jsx(lr,{className:"w-5 h-5"})})]}),Ie.nextShiftActions.map((j,q)=>l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[iE(q+1),"."]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("textarea",{value:j,onChange:H=>gm("footer",q,H.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:ie}),!ie&&l.jsx(Yr,{className:"absolute bottom-3 left-3 w-4 h-4 text-gray-400 cursor-pointer hover:text-primary",onClick:()=>Zb("footer",q)})]}),!ie&&l.jsx("button",{onClick:()=>tw("footer",q),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:l.jsx($t,{className:"w-5 h-5"})})]},q)),Ie.nextShiftActions.length===0&&l.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"   ."})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-6 border-t dark:border-gray-700 pb-20",children:[l.jsx("button",{type:"button",onClick:()=>i(j=>Math.max(1,j-1)),disabled:n===1,className:"px-6 py-3 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 transition",children:" "}),n===9?!ie&&l.jsxs("button",{type:"submit",disabled:a||!pe(),className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 transform active:scale-95 font-bold text-lg ${!pe()||a?"opacity-50 cursor-not-allowed bg-gray-400":""}`,children:[a?l.jsx(Ct,{className:"w-6 h-6 animate-spin"}):l.jsx(An,{className:"w-6 h-6"}),"  "]}):l.jsxs("button",{type:"button",onClick:()=>i(j=>Math.min(9,j+1)),className:"bg-blue-600 text-white px-8 py-3 rounded-xl shadow hover:bg-blue-700 transition flex items-center gap-2 font-bold",children:["  ",l.jsx(Ql,{className:"w-5 h-5 rotate-180"})]})]})]}),f&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform scale-100 transition-all",children:l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:l.jsx(hs,{className:"w-10 h-10 text-green-600"})}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:["       ",l.jsx("br",{}),"         ."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-3 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition font-bold text-gray-700 dark:text-gray-300",children:"  "}),l.jsx("button",{onClick:Nt,className:"flex-1 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg transition font-bold",children:"  "})]})]})})})]})},zce=({enabled:t})=>{const[e,r]=T.useState([]);return T.useEffect(()=>{if(t){const n=Array.from({length:40}).map((i,a)=>({id:a,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));r(n)}else r([])},[t]),t?l.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[l.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(n=>l.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:n.left,top:"-10px",width:n.size,height:n.size,opacity:n.opacity,animation:`snowfall ${n.animationDuration} linear infinite`,animationDelay:n.animationDelay}},n.id))]}):null};var Wce={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kce,Jce;function Yce(){return{geminiUrl:Kce,vertexUrl:Jce}}function Xce(t,e,r,n){var i,a;if(!(t!=null&&t.baseUrl)){const o=Yce();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:r:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ei{}function xe(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,r){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(r))t[s]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const c=t[s];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];m(d,e.slice(a+1),r[u])}else for(const u of c)m(u,e.slice(a+1),r)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const c=t[s];m(c[0],e.slice(a+1),r);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function p(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(s=>p(s,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function Qce(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),a=n.split("."),o=new Set;let s=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){s=c;break}if(s!==-1&&a.length>s)for(let c=s;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}p0(t,i,a,0,o)}}function p0(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const a=e[n];if(a.endsWith("[]")){const o=a.slice(0,-2),s=t;if(o in s&&Array.isArray(s[o]))for(const c of s[o])p0(c,e,r,n+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,s=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of s)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of r.slice(n))h==="*"?f.push(u):f.push(h);m(o,f,d)}for(const u of s)delete o[u]}}else{const o=t;a in o&&p0(o[a],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zce(t){const e={},r=p(t,["operationName"]);r!=null&&m(e,["operationName"],r);const n=p(t,["resourceName"]);return n!=null&&m(e,["_url","resourceName"],n),e}function eue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],rue(o)),e}function tue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],nue(o)),e}function rue(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>iue(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nue(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>aue(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function iue(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],due(r)),e}function aue(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],fue(r)),e}function oue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function sue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function lue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],cue(o)),e}function cue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function MO(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],uue(o)),e}function uue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function due(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],Bb(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function fue(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],Bb(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aE||(aE={}));var oE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(oE||(oE={}));var sE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sE||(sE={}));var qi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(qi||(qi={}));var lE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lE||(lE={}));var cE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cE||(cE={}));var uE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(uE||(uE={}));var dE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dE||(dE={}));var fE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fE||(fE={}));var hE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(hE||(hE={}));var pE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pE||(pE={}));var mE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(mE||(mE={}));var gE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gE||(gE={}));var yE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(yE||(yE={}));var vE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vE||(vE={}));var xE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xE||(xE={}));var bE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bE||(bE={}));var wE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(wE||(wE={}));var _E;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_E||(_E={}));var Oh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Oh||(Oh={}));var SE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(SE||(SE={}));var NE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(NE||(NE={}));var kE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kE||(kE={}));var m0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(m0||(m0={}));var EE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(EE||(EE={}));var TE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(TE||(TE={}));var AE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(AE||(AE={}));var CE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(CE||(CE={}));var jE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jE||(jE={}));var PE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PE||(PE={}));var IE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(IE||(IE={}));var OE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(OE||(OE={}));var RE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(RE||(RE={}));var ME;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ME||(ME={}));var $E;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($E||($E={}));var DE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DE||(DE={}));var LE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LE||(LE={}));var UE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UE||(UE={}));var FE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(FE||(FE={}));var BE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(BE||(BE={}));var qE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qE||(qE={}));var VE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(VE||(VE={}));var GE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(GE||(GE={}));var HE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(HE||(HE={}));var zE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(zE||(zE={}));var WE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(WE||(WE={}));var KE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(KE||(KE={}));var JE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JE||(JE={}));var YE;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(YE||(YE={}));var XE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(XE||(XE={}));var QE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(QE||(QE={}));var ZE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ZE||(ZE={}));var eT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eT||(eT={}));var tT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tT||(tT={}));var rT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(rT||(rT={}));var Ho;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ho||(Ho={}));class g0{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ol{get text(){var e,r,n,i,a,o,s,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&c!==void 0?c:[]){for(const[g,x]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(x!==null||x!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,r,n,i,a,o,s,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,r,n,i,a,o,s,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,r,n,i,a,o,s,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,r,n,i,a,o,s,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class nT{}class iT{}class hue{}class pue{}class mue{}class gue{}class aT{}class oT{}class sT{}class yue{}class Rh{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Rh;let i;const a=e;return r?i=tue(a):i=eue(a),Object.assign(n,i),n}}class lT{}class cT{}class uT{}class dT{}class vue{}class xue{}class bue{}class qb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new qb,a=lue(e);return Object.assign(n,a),n}}class wue{}class _ue{}class Sue{}class fT{}class Nue{get text(){var e,r,n;let i="",a=!1;const o=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(s))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[s,c]of Object.entries(o))s!=="inlineData"&&c!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class kue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Vb,a=MO(e);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $O(t,e){const r=We(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function DO(t){return Array.isArray(t)?t.map(e=>Mh(e)):[Mh(t)]}function Mh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LO(t){const e=Mh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function UO(t){const e=Mh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function FO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>hT(e)):[hT(t)]}function y0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function pT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function mT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function sr(t){if(t==null)throw new Error("ContentUnion is required");return y0(t)?t:{role:"user",parts:FO(t)}}function Gb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=sr(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=sr(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>sr(r)):[sr(e)]}function tn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(pT(t)||mT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sr(t)]}const e=[],r=[],n=y0(t[0]);for(const i of t){const a=y0(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(pT(i)||mT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:FO(r)}),e}function Eue(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(qi).includes(r[0].toUpperCase())?r[0].toUpperCase():qi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(qi).includes(n.toUpperCase())?n.toUpperCase():qi.TYPE_UNSPECIFIED})}}function ns(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Eue(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(qi).includes(s.toUpperCase())?s.toUpperCase():qi.TYPE_UNSPECIFIED}else if(r.includes(o))e[o]=ns(s);else if(n.includes(o)){const c=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}c.push(ns(u))}e[o]=c}else if(i.includes(o)){const c={};for(const[u,d]of Object.entries(s))c[u]=ns(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=s}return e}function Hb(t){return ns(t)}function zb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Wb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ns(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ns(e.response));return t}function ul(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function Tue(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return Tue(t,e,"cachedContents")}function BO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ca(t){return Bb(t)}function Aue(t){return t!=null&&typeof t=="object"&&"name"in t}function Cue(t){return t!=null&&typeof t=="object"&&"video"in t}function jue(t){return t!=null&&typeof t=="object"&&"uri"in t}function qO(t){var e;let r;if(Aue(t)&&(r=t.name),!(jue(t)&&(r=t.uri,r===void 0))&&!(Cue(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function VO(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function GO(t){for(const e of["models","tunedModels","publisherModels"])if(Pue(t,e))return t[e];return[]}function Pue(t,e){return t!==null&&typeof t=="object"&&e in t}function Iue(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Oue(t,e={}){const r=[],n=new Set;for(const i of t){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const o=Iue(i,e);o.functionDeclarations&&r.push(...o.functionDeclarations)}return{functionDeclarations:r}}function HO(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Rue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zO(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function dl(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function WO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mue(t){const e={},r=p(t,["responsesFile"]);r!=null&&m(e,["fileName"],r);const n=p(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>mde(o))),m(e,["inlinedResponses"],a)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["inlinedEmbedContentResponses"],a)}return e}function $ue(t){const e={},r=p(t,["predictionsFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsDestination","outputUriPrefix"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Due(t){const e={},r=p(t,["format"]);r!=null&&m(e,["predictionsFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsDestination","outputUriPrefix"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Hd(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata","displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],WO(i));const a=p(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const o=p(t,["metadata","endTime"]);o!=null&&m(e,["endTime"],o);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const c=p(t,["metadata","model"]);c!=null&&m(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],Mue(zO(u))),e}function v0(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["state"]);i!=null&&m(e,["state"],WO(i));const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const c=p(t,["endTime"]);c!=null&&m(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],Lue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],$ue(zO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Lue(t){const e={},r=p(t,["instancesFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsSource","uris"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Uue(t,e){const r={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=p(e,["fileName"]);n!=null&&m(r,["fileName"],n);const i=p(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>pde(t,o))),m(r,["requests","requests"],a)}return r}function Fue(t){const e={},r=p(t,["format"]);r!=null&&m(e,["instancesFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsSource","uris"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bue(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function que(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function Vue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function Gue(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Hue(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["avgLogprobs"]);o!=null&&m(e,["avgLogprobs"],o);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Hue(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function KO(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>_de(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function zue(t,e){const r={},n=p(t,["displayName"]);if(e!==void 0&&n!=null&&m(e,["batch","displayName"],n),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Wue(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Due(Rue(i))),r}function gT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],Uue(t,HO(t,i)));const a=p(e,["config"]);return a!=null&&zue(a,r),r}function Kue(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],We(t,n));const i=p(e,["src"]);i!=null&&m(r,["inputConfig"],Fue(HO(t,i)));const a=p(e,["config"]);return a!=null&&Wue(a,r),r}function Jue(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["batch","displayName"],n),r}function Yue(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],nde(t,i));const a=p(e,["config"]);return a!=null&&Jue(a,r),r}function Xue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function Que(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function Zue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function ede(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function tde(t,e){const r={},n=p(e,["contents"]);if(n!=null){let a=Gb(t,n);Array.isArray(a)&&(a=a.map(o=>o)),m(r,["requests[]","request","content"],a)}const i=p(e,["config"]);return i!=null&&(m(r,["_self"],rde(i,r)),Qce(r,{"requests[].*":"requests[].request.*"})),r}function rde(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function nde(t,e){const r={},n=p(e,["fileName"]);n!=null&&m(r,["file_name"],n);const i=p(e,["inlinedRequests"]);return i!=null&&m(r,["requests"],tde(t,i)),r}function ide(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function ade(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ode(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sde(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],KO(sr(i)));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const x=p(e,["frequencyPenalty"]);x!=null&&m(n,["frequencyPenalty"],x);const v=p(e,["seed"]);v!=null&&m(n,["seed"],v);const y=p(e,["responseMimeType"]);y!=null&&m(n,["responseMimeType"],y);const b=p(e,["responseSchema"]);b!=null&&m(n,["responseSchema"],Hb(b));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(M=>Sde(M))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=ul(k);Array.isArray(O)&&(O=O.map(M=>kde(cl(M)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],Nde(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);r!==void 0&&N!=null&&m(r,["cachedContent"],Ti(t,N));const E=p(e,["responseModalities"]);E!=null&&m(n,["responseModalities"],E);const C=p(e,["mediaResolution"]);C!=null&&m(n,["mediaResolution"],C);const A=p(e,["speechConfig"]);if(A!=null&&m(n,["speechConfig"],zb(A)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const $=p(e,["imageConfig"]);$!=null&&m(n,["imageConfig"],hde($));const U=p(e,["enableEnhancedCivicAnswers"]);return U!=null&&m(n,["enableEnhancedCivicAnswers"],U),n}function lde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Gue(u))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=p(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function cde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function ude(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],dl(t,n)),r}function dde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function fde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function hde(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["request","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let s=tn(i);Array.isArray(s)&&(s=s.map(c=>KO(c))),m(r,["request","contents"],s)}const a=p(e,["metadata"]);a!=null&&m(r,["metadata"],a);const o=p(e,["config"]);return o!=null&&m(r,["request","generationConfig"],sde(t,o,p(r,["request"],{}))),r}function mde(t){const e={},r=p(t,["response"]);r!=null&&m(e,["response"],lde(r));const n=p(t,["error"]);return n!=null&&m(e,["error"],n),e}function gde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function yde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function vde(t){const e={},r=p(t,["config"]);return r!=null&&gde(r,e),e}function xde(t){const e={},r=p(t,["config"]);return r!=null&&yde(r,e),e}function bde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Hd(o))),m(e,["batchJobs"],a)}return e}function wde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>v0(o))),m(e,["batchJobs"],a)}return e}function _de(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],ide(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],ade(o));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Bue(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Sde(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function Nde(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],ode(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function kde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],dde(s));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],fde(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(xi||(xi={}));class lo{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!n||Object.keys(n).length===0?o={config:{}}:typeof n=="object"?o=Object.assign({},n):o=n,o.config&&(o.config.pageToken=r.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ede extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new lo(xi.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=gT(this.apiClient,e),n=r._url,i=xe("{model}:batchGenerateContent",n),s=r.batch.inputConfig.requests,c=s.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(o)n.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Kue(this.apiClient,e);return s=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>v0(d))}else{const u=gT(this.apiClient,e);return s=xe("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>Hd(d))}}async createEmbeddingsInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yue(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Hd(c))}}async get(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=ude(this.apiClient,e);return s=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>v0(d))}else{const u=cde(this.apiClient,e);return s=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>Hd(d))}}async cancel(e){var r,n,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const c=Vue(this.apiClient,e);o=xe("batchPredictionJobs/{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=que(this.apiClient,e);o=xe("batches/{name}:cancel",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=xde(e);return s=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=wde(d),h=new fT;return Object.assign(h,f),h})}else{const u=vde(e);return s=xe("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=bde(d),h=new fT;return Object.assign(h,f),h})}}async delete(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Que(this.apiClient,e);return s=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>ede(d))}else{const u=Xue(this.apiClient,e);return s=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Zue(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tde(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function yT(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Yde(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Ade(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=tn(o);Array.isArray(d)&&(d=d.map(f=>yT(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],yT(sr(s)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Qde(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Xde(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Cde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=tn(o);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],sr(s));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Zde(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),r}function jde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],$O(t,n));const i=p(e,["config"]);return i!=null&&Ade(i,r),r}function Pde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],$O(t,n));const i=p(e,["config"]);return i!=null&&Cde(i,r),r}function Ide(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ti(t,n)),r}function Ode(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ti(t,n)),r}function Rde(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function Mde(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function $de(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Dde(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lde(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ude(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Fde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ti(t,n)),r}function Bde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],Ti(t,n)),r}function qde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Vde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Gde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Hde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function zde(t){const e={},r=p(t,["config"]);return r!=null&&Gde(r,e),e}function Wde(t){const e={},r=p(t,["config"]);return r!=null&&Hde(r,e),e}function Kde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["cachedContents"],a)}return e}function Jde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["cachedContents"],a)}return e}function Yde(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],$de(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],Dde(o));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Tde(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Xde(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],Lde(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function Qde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],qde(s));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Vde(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Zde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ude(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function efe(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function tfe(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function rfe(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],Ti(t,n));const i=p(e,["config"]);return i!=null&&efe(i,r),r}function nfe(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],Ti(t,n));const i=p(e,["config"]);return i!=null&&tfe(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ife extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new lo(xi.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Pde(this.apiClient,e);return s=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=jde(this.apiClient,e);return s=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Bde(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Fde(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Ode(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Mde(d),h=new uT;return Object.assign(h,f),h})}else{const u=Ide(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Rde(d),h=new uT;return Object.assign(h,f),h})}}async update(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=nfe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=rfe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Wde(e);return s=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jde(d),h=new dT;return Object.assign(h,f),h})}else{const u=zde(e);return s=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Kde(d),h=new dT;return Object.assign(h,f),h})}}}function $h(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function vT(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(t){return this instanceof $e?(this.v=t,this):new $e(t)}function kn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(x){return Promise.resolve(x).then(g,f)}}function s(g,x){n[g]&&(i[g]=function(v){return new Promise(function(y,b){a.push([g,v,y,b])>1||c(g,v)})},x&&(i[g]=x(i[g])))}function c(g,x){try{u(n[g](x))}catch(v){h(a[0][3],v)}}function u(g){g.value instanceof $e?Promise.resolve(g.value.v).then(d,f):h(a[0][2],g)}function d(g){c("next",g)}function f(g){c("throw",g)}function h(g,x){g(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function En(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof vT=="function"?vT(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function afe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:JO(r)}function JO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ofe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xT(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!JO(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class sfe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new lfe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class lfe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),ofe(a)}async sendMessage(e){var r;await this.sendPromise;const n=sr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,o,s;const c=await i,u=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(n,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=sr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?xT(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return kn(this,arguments,function*(){var i,a,o,s,c,u;const d=[];try{for(var f=!0,h=En(e),g;g=yield $e(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const x=s;if(afe(x)){const v=(u=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;v!==void 0&&d.push(v)}yield yield $e(x)}}catch(x){a={error:x}}finally{try{!f&&!i&&(o=h.return)&&(yield $e(o.call(h)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...xT(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class am extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,am.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cfe(t){const e={},r=p(t,["file"]);return r!=null&&m(e,["file"],r),e}function ufe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function dfe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],qO(r)),e}function ffe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function hfe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],qO(r)),e}function pfe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function mfe(t){const e={},r=p(t,["config"]);return r!=null&&pfe(r,e),e}function gfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yfe extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new lo(xi.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mfe(e);return a=xe("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=gfe(c),d=new wue;return Object.assign(d,u),d})}}async createInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cfe(e);return a=xe("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=ufe(c),d=new _ue;return Object.assign(d,u),d})}}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hfe(e);return a=xe("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dfe(e);return a=xe("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=ffe(c),d=new Sue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zd(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function vfe(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Rfe(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function xfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function bfe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function _fe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const o=p(t,["enableAffectiveDialog"]);o!=null&&m(e,["enableAffectiveDialog"],o);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const c=p(t,["logprobs"]);c!=null&&m(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const x=p(t,["responseModalities"]);x!=null&&m(e,["responseModalities"],x);const v=p(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const y=p(t,["routingConfig"]);y!=null&&m(e,["routingConfig"],y);const b=p(t,["seed"]);b!=null&&m(e,["seed"],b);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const N=p(t,["topK"]);N!=null&&m(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&m(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Nfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function kfe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Wb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&m(e,["setup","systemInstruction"],vfe(sr(x)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let N=ul(v);Array.isArray(N)&&(N=N.map(E=>$fe(cl(E)))),m(e,["setup","tools"],N)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&m(e,["setup","sessionResumption"],Mfe(y));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Efe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],_fe(n));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Wb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&m(e,["setup","systemInstruction"],sr(x));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let E=ul(v);Array.isArray(E)&&(E=E.map(C=>Dfe(cl(C)))),m(e,["setup","tools"],E)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&m(e,["setup","sessionResumption"],y);const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const N=p(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&m(e,["setup","explicitVadSignal"],N),r}function Tfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],We(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],kfe(i,r)),r}function Afe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],We(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],Efe(i,r)),r}function Cfe(t){const e={},r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],r),e}function jfe(t){const e={},r=p(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["weightedPrompts"],n)}return e}function Pfe(t){const e={},r=p(t,["media"]);if(r!=null){let u=DO(r);Array.isArray(u)&&(u=u.map(d=>zd(d))),m(e,["mediaChunks"],u)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],zd(UO(n)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&m(e,["video"],zd(LO(a)));const o=p(t,["text"]);o!=null&&m(e,["text"],o);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const c=p(t,["activityEnd"]);return c!=null&&m(e,["activityEnd"],c),e}function Ife(t){const e={},r=p(t,["media"]);if(r!=null){let u=DO(r);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],UO(n));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&m(e,["video"],LO(a));const o=p(t,["text"]);o!=null&&m(e,["text"],o);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const c=p(t,["activityEnd"]);return c!=null&&m(e,["activityEnd"],c),e}function Ofe(t){const e={},r=p(t,["setupComplete"]);r!=null&&m(e,["setupComplete"],r);const n=p(t,["serverContent"]);n!=null&&m(e,["serverContent"],n);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const a=p(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const o=p(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],Lfe(o));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const c=p(t,["sessionResumptionUpdate"]);c!=null&&m(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function Rfe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],xfe(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],bfe(o));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],zd(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Mfe(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $fe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Sfe(s));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Nfe(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Dfe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>wfe(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Lfe(t){const e={},r=p(t,["promptTokenCount"]);r!=null&&m(e,["promptTokenCount"],r);const n=p(t,["cachedContentTokenCount"]);n!=null&&m(e,["cachedContentTokenCount"],n);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const c=p(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ufe(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Ffe(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Bfe(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["avgLogprobs"]);o!=null&&m(e,["avgLogprobs"],o);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Bfe(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function qfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let a=tn(i);Array.isArray(a)&&(a=a.map(o=>o)),m(r,["contents"],a)}return r}function Vfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["tokensInfo"],i)}return e}function Gfe(t){const e={},r=p(t,["values"]);r!=null&&m(e,["values"],r);const n=p(t,["statistics"]);return n!=null&&m(e,["statistics"],Hfe(n)),e}function Hfe(t){const e={},r=p(t,["truncated"]);r!=null&&m(e,["truncated"],r);const n=p(t,["token_count"]);return n!=null&&m(e,["tokenCount"],n),e}function om(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>epe(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function zfe(t){const e={},r=p(t,["controlType"]);r!=null&&m(e,["controlType"],r);const n=p(t,["enableControlImageComputation"]);return n!=null&&m(e,["computeControl"],n),e}function Wfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Kfe(t,e){const r={},n=p(t,["systemInstruction"]);e!==void 0&&n!=null&&m(e,["systemInstruction"],sr(n));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ZO(s))),m(e,["tools"],o)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],Uhe(a)),r}function Jfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let o=tn(i);Array.isArray(o)&&(o=o.map(s=>om(s))),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&Wfe(a),r}function Yfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let o=tn(i);Array.isArray(o)&&(o=o.map(s=>s)),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&Kfe(a,r),r}function Xfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Qfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function Zfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],We(t,n)),r}function ehe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],We(t,n)),r}function the(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function rhe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function nhe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const x=p(t,["outputMimeType"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","mimeType"],x);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&m(e,["parameters","addWatermark"],y);const b=p(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const _=p(t,["editMode"]);e!==void 0&&_!=null&&m(e,["parameters","editMode"],_);const w=p(t,["baseSteps"]);return e!==void 0&&w!=null&&m(e,["parameters","editConfig","baseSteps"],w),r}function ihe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>ope(c))),m(r,["instances[0]","referenceImages"],s)}const o=p(e,["config"]);return o!=null&&nhe(o,r),r}function ahe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>sm(a))),m(e,["generatedImages"],i)}return e}function ohe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function she(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["instances[]","task_type"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["instances[]","mimeType"],o);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),r}function lhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let s=Gb(t,i);Array.isArray(s)&&(s=s.map(c=>c)),m(r,["requests[]","content"],s)}const a=p(e,["config"]);a!=null&&ohe(a,r);const o=p(e,["model"]);return o!==void 0&&m(r,["requests[]","model"],We(t,o)),r}function che(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let o=Gb(t,i);Array.isArray(o)&&(o=o.map(s=>s)),m(r,["instances[]","content"],o)}const a=p(e,["config"]);return a!=null&&she(a,r),r}function uhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function dhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Gfe(o))),m(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function fhe(t){const e={},r=p(t,["endpoint"]);r!=null&&m(e,["name"],r);const n=p(t,["deployedModelId"]);return n!=null&&m(e,["deployedModelId"],n),e}function hhe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function phe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mhe(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ghe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function yhe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],om(sr(i)));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const x=p(e,["frequencyPenalty"]);x!=null&&m(n,["frequencyPenalty"],x);const v=p(e,["seed"]);v!=null&&m(n,["seed"],v);const y=p(e,["responseMimeType"]);y!=null&&m(n,["responseMimeType"],y);const b=p(e,["responseSchema"]);b!=null&&m(n,["responseSchema"],Hb(b));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(M=>spe(M))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=ul(k);Array.isArray(O)&&(O=O.map(M=>ppe(cl(M)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],hpe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);r!==void 0&&N!=null&&m(r,["cachedContent"],Ti(t,N));const E=p(e,["responseModalities"]);E!=null&&m(n,["responseModalities"],E);const C=p(e,["mediaResolution"]);C!=null&&m(n,["mediaResolution"],C);const A=p(e,["speechConfig"]);if(A!=null&&m(n,["speechConfig"],zb(A)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const $=p(e,["imageConfig"]);$!=null&&m(n,["imageConfig"],Ghe($));const U=p(e,["enableEnhancedCivicAnswers"]);return U!=null&&m(n,["enableEnhancedCivicAnswers"],U),n}function vhe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],sr(i));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const s=p(e,["topK"]);s!=null&&m(n,["topK"],s);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const x=p(e,["frequencyPenalty"]);x!=null&&m(n,["frequencyPenalty"],x);const v=p(e,["seed"]);v!=null&&m(n,["seed"],v);const y=p(e,["responseMimeType"]);y!=null&&m(n,["responseMimeType"],y);const b=p(e,["responseSchema"]);b!=null&&m(n,["responseSchema"],Hb(b));const _=p(e,["responseJsonSchema"]);_!=null&&m(n,["responseJsonSchema"],_);const w=p(e,["routingConfig"]);w!=null&&m(n,["routingConfig"],w);const k=p(e,["modelSelectionConfig"]);k!=null&&m(n,["modelConfig"],k);const S=p(e,["safetySettings"]);if(r!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(B=>B)),m(r,["safetySettings"],D)}const N=p(e,["tools"]);if(r!==void 0&&N!=null){let D=ul(N);Array.isArray(D)&&(D=D.map(B=>ZO(cl(B)))),m(r,["tools"],D)}const E=p(e,["toolConfig"]);r!==void 0&&E!=null&&m(r,["toolConfig"],E);const C=p(e,["labels"]);r!==void 0&&C!=null&&m(r,["labels"],C);const A=p(e,["cachedContent"]);r!==void 0&&A!=null&&m(r,["cachedContent"],Ti(t,A));const I=p(e,["responseModalities"]);I!=null&&m(n,["responseModalities"],I);const $=p(e,["mediaResolution"]);$!=null&&m(n,["mediaResolution"],$);const U=p(e,["speechConfig"]);U!=null&&m(n,["speechConfig"],zb(U));const O=p(e,["audioTimestamp"]);O!=null&&m(n,["audioTimestamp"],O);const M=p(e,["thinkingConfig"]);M!=null&&m(n,["thinkingConfig"],M);const P=p(e,["imageConfig"]);if(P!=null&&m(n,["imageConfig"],Hhe(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function bT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let o=tn(i);Array.isArray(o)&&(o=o.map(s=>om(s))),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(r,["generationConfig"],yhe(t,a,r)),r}function wT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["contents"]);if(i!=null){let o=tn(i);Array.isArray(o)&&(o=o.map(s=>s)),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(r,["generationConfig"],vhe(t,a,r)),r}function _T(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Ffe(u))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=p(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function ST(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const a=p(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function xhe(t,e){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function bhe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const x=p(t,["outputMimeType"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","mimeType"],x);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&m(e,["parameters","addWatermark"],y);const b=p(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&m(e,["parameters","sampleImageSize"],_);const w=p(t,["enhancePrompt"]);return e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w),r}function whe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&xhe(a,r),r}function _he(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&bhe(a,r),r}function She(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Mhe(o))),m(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],XO(i)),e}function Nhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>sm(o))),m(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],QO(i)),e}function khe(t,e){const r={},n=p(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const o=p(t,["resolution"]);e!==void 0&&o!=null&&m(e,["parameters","resolution"],o);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],lm(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Tpe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Ehe(t,e){const r={},n=p(t,["numberOfVideos"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=p(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const x=p(t,["generateAudio"]);e!==void 0&&x!=null&&m(e,["parameters","generateAudio"],x);const v=p(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],jn(v));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(k=>Ape(k))),m(e,["instances[0]","referenceImages"],w)}const b=p(t,["mask"]);e!==void 0&&b!=null&&m(e,["instances[0]","mask"],Epe(b));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&m(e,["parameters","compressionQuality"],_),r}function The(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],Phe(o)),e}function Ahe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],Ihe(o)),e}function Che(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&m(r,["instances[0]","image"],lm(a));const o=p(e,["video"]);o!=null&&m(r,["instances[0]","video"],eR(o));const s=p(e,["source"]);s!=null&&Ohe(s,r);const c=p(e,["config"]);return c!=null&&khe(c,r),r}function jhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&m(r,["instances[0]","image"],jn(a));const o=p(e,["video"]);o!=null&&m(r,["instances[0]","video"],tR(o));const s=p(e,["source"]);s!=null&&Rhe(s,r);const c=p(e,["config"]);return c!=null&&Ehe(c,r),r}function Phe(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Dhe(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ihe(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Lhe(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ohe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],lm(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],eR(a)),r}function Rhe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],jn(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],tR(a)),r}function Mhe(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],zhe(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],XO(i)),e}function sm(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],YO(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],QO(i));const a=p(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function $he(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["mask"],YO(r));const n=p(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["labels"],i)}return e}function Dhe(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],Npe(r)),e}function Lhe(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],kpe(r)),e}function Uhe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const o=p(t,["enableAffectiveDialog"]);o!=null&&m(e,["enableAffectiveDialog"],o);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const c=p(t,["logprobs"]);c!=null&&m(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const x=p(t,["responseModalities"]);x!=null&&m(e,["responseModalities"],x);const v=p(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const y=p(t,["routingConfig"]);y!=null&&m(e,["routingConfig"],y);const b=p(t,["seed"]);b!=null&&m(e,["seed"],b);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const N=p(t,["topK"]);N!=null&&m(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&m(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Fhe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],We(t,n)),r}function Bhe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],We(t,n)),r}function qhe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Vhe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Ghe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hhe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);n!=null&&m(e,["imageSize"],n);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const a=p(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function zhe(t){const e={},r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],ca(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function YO(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ca(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function lm(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ca(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function jn(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ca(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Whe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&m(r,["_query","pageToken"],a);const o=p(e,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const s=p(e,["queryBase"]);return r!==void 0&&s!=null&&m(r,["_url","models_url"],VO(t,s)),n}function Khe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&m(r,["_query","pageToken"],a);const o=p(e,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const s=p(e,["queryBase"]);return r!==void 0&&s!=null&&m(r,["_url","models_url"],VO(t,s)),n}function Jhe(t,e){const r={},n=p(e,["config"]);return n!=null&&Whe(t,n,r),r}function Yhe(t,e){const r={},n=p(e,["config"]);return n!=null&&Khe(t,n,r),r}function Xhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=GO(i);Array.isArray(a)&&(a=a.map(o=>x0(o))),m(e,["models"],a)}return e}function Qhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=GO(i);Array.isArray(a)&&(a=a.map(o=>b0(o))),m(e,["models"],a)}return e}function Zhe(t){const e={},r=p(t,["maskMode"]);r!=null&&m(e,["maskMode"],r);const n=p(t,["segmentationClasses"]);n!=null&&m(e,["maskClasses"],n);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function x0(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const a=p(t,["version"]);a!=null&&m(e,["version"],a);const o=p(t,["_self"]);o!=null&&m(e,["tunedModelInfo"],mpe(o));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const c=p(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const x=p(t,["thinking"]);return x!=null&&m(e,["thinking"],x),e}function b0(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const a=p(t,["versionId"]);a!=null&&m(e,["version"],a);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>fhe(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const c=p(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],gpe(c));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function epe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],hhe(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],phe(o));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Ufe(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function tpe(t){const e={},r=p(t,["productImage"]);return r!=null&&m(e,["image"],jn(r)),e}function rpe(t,e){const r={},n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const o=p(t,["seed"]);e!==void 0&&o!=null&&m(e,["parameters","seed"],o);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),r}function npe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["source"]);i!=null&&ape(i,r);const a=p(e,["config"]);return a!=null&&rpe(a,r),r}function ipe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>sm(i))),m(e,["generatedImages"],n)}return e}function ape(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],jn(i));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>tpe(s))),m(e,["instances[0]","productImages"],o)}return r}function ope(t){const e={},r=p(t,["referenceImage"]);r!=null&&m(e,["referenceImage"],jn(r));const n=p(t,["referenceId"]);n!=null&&m(e,["referenceId"],n);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const a=p(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],Zhe(a));const o=p(t,["controlImageConfig"]);o!=null&&m(e,["controlImageConfig"],zfe(o));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const c=p(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],c),e}function XO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function QO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function spe(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function lpe(t){const e={},r=p(t,["image"]);return r!=null&&m(e,["image"],jn(r)),e}function cpe(t,e){const r={},n=p(t,["mode"]);e!==void 0&&n!=null&&m(e,["parameters","mode"],n);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&m(e,["parameters","maskDilation"],o);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const c=p(t,["labels"]);return e!==void 0&&c!=null&&m(e,["labels"],c),r}function upe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["source"]);i!=null&&fpe(i,r);const a=p(e,["config"]);return a!=null&&cpe(a,r),r}function dpe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>$he(i))),m(e,["generatedMasks"],n)}return e}function fpe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],jn(i));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],lpe(a)),r}function hpe(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],mhe(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function ppe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],qhe(s));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Vhe(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function ZO(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>ghe(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function mpe(t){const e={},r=p(t,["baseModel"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function gpe(t){const e={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function ype(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),r}function vpe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),r}function xpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","name"],We(t,n));const i=p(e,["config"]);return i!=null&&ype(i,r),r}function bpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["config"]);return i!=null&&vpe(i,r),r}function wpe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&m(e,["parameters","includeRaiReason"],o);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),r}function _pe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],We(t,n));const i=p(e,["image"]);i!=null&&m(r,["instances[0]","image"],jn(i));const a=p(e,["upscaleFactor"]);a!=null&&m(r,["parameters","upscaleConfig","upscaleFactor"],a);const o=p(e,["config"]);return o!=null&&wpe(o,r),r}function Spe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>sm(a))),m(e,["generatedImages"],i)}return e}function Npe(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],ca(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function kpe(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],ca(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Epe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["_self"],jn(r));const n=p(t,["maskMode"]);return n!=null&&m(e,["maskMode"],n),e}function Tpe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],lm(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function Ape(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],jn(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function eR(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["encodedVideo"],ca(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function tR(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ca(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cpe(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["displayName"],n),r}function jpe(t){const e={},r=p(t,["config"]);return r!=null&&Cpe(r,e),e}function Ppe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function Ipe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Ppe(n,e),e}function Ope(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function Rpe(t,e){const r={},n=p(t,["customMetadata"]);if(e!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["customMetadata"],a)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),r}function Mpe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],Dpe(o)),e}function $pe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["fileName"]);n!=null&&m(e,["fileName"],n);const i=p(t,["config"]);return i!=null&&Rpe(i,e),e}function Dpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Lpe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Upe(t){const e={},r=p(t,["config"]);return r!=null&&Lpe(r,e),e}function Fpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["fileSearchStores"],a)}return e}function rR(t,e){const r={},n=p(t,["mimeType"]);e!==void 0&&n!=null&&m(e,["mimeType"],n);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),m(e,["customMetadata"],s)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),r}function Bpe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["config"]);return n!=null&&rR(n,e),e}function qpe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vpe="Content-Type",Gpe="X-Server-Timeout",Hpe="User-Agent",w0="x-goog-api-client",zpe="1.34.0",Wpe=`google-genai-sdk/${zpe}`,Kpe="v1beta1",Jpe="v1beta";class Ype{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Kpe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Jpe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const a=new AbortController,o=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const s=setTimeout(()=>a.abort(),r.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return r&&r.extraBody!==null&&Xpe(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await NT(i),new g0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await NT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kn(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const s="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield $e(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(d,{stream:!0});try{const x=JSON.parse(f);if("error"in x){const v=JSON.parse(JSON.stringify(x.error)),y=v.status,b=v.code,_=`got status: ${y}. ${JSON.stringify(x)}`;if(b>=400&&b<600)throw new am({message:_,status:b})}}catch(x){if(x.name==="ApiError")throw x}o+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const y of c){const b=o.indexOf(y);b!==-1&&(h===-1||b<h)&&(h=b,g=y.length)}if(h===-1)break;const x=o.substring(0,h);o=o.substring(h+g);const v=x.trim();if(v.startsWith(s)){const y=v.substring(s.length).trim();try{const b=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new g0(b))}catch(b){throw new Error(`exception parsing stream chunk ${y}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=Wpe+" "+this.clientOptions.userAgentExtra;return e[Hpe]=r,e[w0]=r,e[Vpe]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))n.append(i,a);e.timeout&&e.timeout>0&&n.append(Gpe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const c={file:i},u=this.getFileName(e),d=xe("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r==null?void 0:r.httpOptions);return a.upload(e,f,this)}async uploadFileToFileSearchStore(e,r,n){var i;const a=this.clientOptions.uploader,o=await a.stat(r),s=String(o.size),c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(r),f={};n!=null&&rR(n,f);const h=await this.fetchUploadUrl(u,s,c,d,f,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(r,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,a,o){var s;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function NT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new am({message:i,status:r}):new Error(i)}}function Xpe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,o){const s=Object.assign({},a);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=s[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[c]=u)}return s}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qpe="mcp_used/unknown";let Zpe=!1;function nR(t){for(const e of t)if(eme(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Zpe}function iR(t){var e;const r=(e=t[w0])!==null&&e!==void 0?e:"";t[w0]=(r+` ${Qpe}`).trimStart()}function eme(t){return t!==null&&typeof t=="object"&&t instanceof Kb}function tme(t){return kn(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const o=yield $e(r.listTools({cursor:i}));for(const s of o.tools)yield yield $e(s),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class Kb{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Kb(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const d of this.mcpClients)try{for(var s=!0,c=(r=void 0,En(tme(d))),u;u=await c.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=d}}catch(f){r={error:f}}finally{try{!s&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Oue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rme(t,e,r){const n=new kue;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class nme{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=ome(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(w=>{u=w}),f=e.callbacks,h=function(){u({})},g=this.apiClient,x={onopen:h,onmessage:w=>{rme(g,f.onmessage,w)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(w){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(w){}},v=this.webSocketFactory.create(c,ame(o),x);v.connect(),await d;const _={setup:{model:We(this.apiClient,e.model)}};return v.send(JSON.stringify(_)),new ime(v,this.apiClient)}}class ime{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=jfe(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Cfe(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Ho.PLAY)}pause(){this.sendPlaybackControl(Ho.PAUSE)}stop(){this.sendPlaybackControl(Ho.STOP)}resetContext(){this.sendPlaybackControl(Ho.RESET_CONTEXT)}close(){this.conn.close()}}function ame(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function ome(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lme(t,e,r){const n=new Nue;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=Ofe(a);Object.assign(n,o)}else Object.assign(n,a);e(n)}class cme{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new nme(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&nR(e.config.tools)&&iR(f);const h=hme(f);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const A=this.apiClient.getApiKey();let I="BidiGenerateContent",$="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",$="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${$}=${A}`}let g=()=>{};const x=new Promise(A=>{g=A}),v=e.callbacks,y=function(){var A;(A=v==null?void 0:v.onopen)===null||A===void 0||A.call(v),g({})},b=this.apiClient,_={onopen:y,onmessage:A=>{lme(b,v.onmessage,A)},onerror:(r=v==null?void 0:v.onerror)!==null&&r!==void 0?r:function(A){},onclose:(n=v==null?void 0:v.onclose)!==null&&n!==void 0?n:function(A){}},w=this.webSocketFactory.create(d,fme(h),_);w.connect(),await x;let k=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const A=this.apiClient.getProject(),I=this.apiClient.getLocation();k=`projects/${A}/locations/${I}/`+k}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Oh.AUDIO]}:e.config.responseModalities=[Oh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const A of N)if(this.isCallableTool(A)){const I=A;E.push(await I.tool())}else E.push(A);E.length>0&&(e.config.tools=E);const C={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Afe(this.apiClient,C):S=Tfe(this.apiClient,C),delete S.config,w.send(JSON.stringify(S)),new dme(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ume={turnComplete:!0};class dme{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=tn(r.turns),e.isVertexAI()||(n=n.map(i=>om(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(sme)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ume),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Ife(e)}:r={realtimeInput:Pfe(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function fme(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function hme(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT=10;function ET(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(is(o)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function is(t){return"callTool"in t&&typeof t.callTool=="function"}function pme(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>is(i)))!==null&&n!==void 0?n:!1}function TT(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(is(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function AT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mme extends Ei{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,o,s;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!pme(r)||ET(r.config))return await this.generateContentInternal(c);const u=TT(r);if(u.length>0){const v=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let d,f;const h=tn(c.contents),g=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:kT;let x=0;for(;x<g&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const v=d.candidates[0].content,y=[];for(const b of(s=(o=r.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(is(b)){const w=await b.callTool(d.functionCalls);y.push(...w)}x++,f={role:"user",parts:y},c.contents=tn(c.contents),c.contents.push(v),c.contents.push(f),AT(c.config)&&(h.push(v),h.push(f))}return AT(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async r=>{var n,i,a,o,s;if(this.maybeMoveToResponseJsonSchem(r),ET(r.config)){const f=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(f)}const c=TT(r);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(s=(o=r==null?void 0:r.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const o=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:n.sdkHttpResponse},s}),this.list=async r=>{var n;const o={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((n=o.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new lo(xi.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,o,s,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((o=(a=r.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((c=(s=r.source)===null||s===void 0?void 0:s.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>is(c)?await c.tool():c)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&nR(e.config.tools)){const c=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),iR(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const o of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(is(o)){const s=o,c=await s.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:kT;let o=!1,s=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return kn(this,arguments,function*(){for(var h,g,x,v,y,b;s<a;){o&&(s++,o=!1);const S=yield $e(u.processParamsMaybeAddMcpUsage(f)),N=yield $e(u.generateContentStreamInternal(S)),E=[],C=[];try{for(var _=!0,w=(g=void 0,En(N)),k;k=yield $e(w.next()),h=k.done,!h;_=!0){v=k.value,_=!1;const A=v;if(yield yield $e(A),A.candidates&&(!((y=A.candidates[0])===null||y===void 0)&&y.content)){C.push(A.candidates[0].content);for(const I of(b=A.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<a&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(I.functionCall.name)){const $=yield $e(d.get(I.functionCall.name).callTool([I.functionCall]));E.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!_&&!h&&(x=w.return)&&(yield $e(x.call(w)))}finally{if(g)throw g.error}}if(E.length>0){o=!0;const A=new Ol;A.candidates=[{content:{role:"user",parts:E}}],yield yield $e(A);const I=[];I.push(...C),I.push({role:"user",parts:E});const $=tn(f.contents).concat(I);f.contents=$}else break}})}(this,c,e)}async generateContentInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=wT(this.apiClient,e);return s=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ST(d),h=new Ol;return Object.assign(h,f),h})}else{const u=bT(this.apiClient,e);return s=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_T(d),h=new Ol;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=wT(this.apiClient,e);return s=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),o.then(function(f){return kn(this,arguments,function*(){var h,g,x,v;try{for(var y=!0,b=En(f),_;_=yield $e(b.next()),h=_.done,!h;y=!0){v=_.value,y=!1;const w=v,k=ST(yield $e(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new Ol;Object.assign(S,k),yield yield $e(S)}}catch(w){g={error:w}}finally{try{!y&&!h&&(x=b.return)&&(yield $e(x.call(b)))}finally{if(g)throw g.error}}})})}else{const u=bT(this.apiClient,e);return s=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return kn(this,arguments,function*(){var h,g,x,v;try{for(var y=!0,b=En(f),_;_=yield $e(b.next()),h=_.done,!h;y=!0){v=_.value,y=!1;const w=v,k=_T(yield $e(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new Ol;Object.assign(S,k),yield yield $e(S)}}catch(w){g={error:w}}finally{try{!y&&!h&&(x=b.return)&&(yield $e(x.call(b)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=che(this.apiClient,e);return s=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=dhe(d),h=new nT;return Object.assign(h,f),h})}else{const u=lhe(this.apiClient,e);return s=xe("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=uhe(d),h=new nT;return Object.assign(h,f),h})}}async generateImagesInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=_he(this.apiClient,e);return s=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Nhe(d),h=new iT;return Object.assign(h,f),h})}else{const u=whe(this.apiClient,e);return s=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=She(d),h=new iT;return Object.assign(h,f),h})}}async editImageInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=ihe(this.apiClient,e);return a=xe("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=ahe(c),d=new hue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=_pe(this.apiClient,e);return a=xe("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Spe(c),d=new pue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=npe(this.apiClient,e);return a=xe("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=ipe(c),d=new mue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=upe(this.apiClient,e);return a=xe("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=dpe(c),d=new gue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Bhe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>b0(d))}else{const u=Fhe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>x0(d))}}async listInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Yhe(this.apiClient,e);return s=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Qhe(d),h=new aT;return Object.assign(h,f),h})}else{const u=Jhe(this.apiClient,e);return s=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Xhe(d),h=new aT;return Object.assign(h,f),h})}}async update(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=bpe(this.apiClient,e);return s=xe("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>b0(d))}else{const u=xpe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>x0(d))}}async delete(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=ehe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=rhe(d),h=new oT;return Object.assign(h,f),h})}else{const u=Zfe(this.apiClient,e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=the(d),h=new oT;return Object.assign(h,f),h})}}async countTokens(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Yfe(this.apiClient,e);return s=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Qfe(d),h=new sT;return Object.assign(h,f),h})}else{const u=Jfe(this.apiClient,e);return s=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Xfe(d),h=new sT;return Object.assign(h,f),h})}}async computeTokens(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=qfe(this.apiClient,e);return a=xe("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Vfe(c),d=new yue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=jhe(this.apiClient,e);return s=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>{const f=Ahe(d),h=new Rh;return Object.assign(h,f),h})}else{const u=Che(this.apiClient,e);return s=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>{const f=The(d),h=new Rh;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gme extends Ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=sue(e);return s=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o}else{const u=oue(e);return s=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Zce(e);return a=xe("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yme(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function vme(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Tme(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function xme(t,e,r){const n={},i=p(e,["expireTime"]);r!==void 0&&i!=null&&m(r,["expireTime"],i);const a=p(e,["newSessionExpireTime"]);r!==void 0&&a!=null&&m(r,["newSessionExpireTime"],a);const o=p(e,["uses"]);r!==void 0&&o!=null&&m(r,["uses"],o);const s=p(e,["liveConnectConstraints"]);r!==void 0&&s!=null&&m(r,["bidiGenerateContentSetup"],Eme(t,s));const c=p(e,["lockAdditionalFields"]);return r!==void 0&&c!=null&&m(r,["fieldMask"],c),n}function bme(t,e){const r={},n=p(e,["config"]);return n!=null&&m(r,["config"],xme(t,n,r)),r}function wme(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function _me(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sme(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Nme(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function kme(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Wb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&m(e,["setup","systemInstruction"],vme(sr(x)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let N=ul(v);Array.isArray(N)&&(N=N.map(E=>Cme(cl(E)))),m(e,["setup","tools"],N)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&m(e,["setup","sessionResumption"],Ame(y));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Eme(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],We(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],kme(i,r)),r}function Tme(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],wme(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],_me(o));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],yme(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Ame(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Cme(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Sme(s));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Nme(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jme(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);e.push(...i)}else e.push(r)}return e.join(",")}function Pme(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,r=a):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const a=jme(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),s.length>0&&c.push(...s),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Ime extends Ei{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=bme(this.apiClient,e);a=xe("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const c=Pme(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ome(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function Rme(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Ome(n,e),e}function Mme(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function $me(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Dme(t){const e={},r=p(t,["parent"]);r!=null&&m(e,["_url","parent"],r);const n=p(t,["config"]);return n!=null&&$me(n,e),e}function Lme(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ume extends Ei{constructor(e){super(),this.apiClient=e,this.list=async r=>new lo(xi.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mme(e);return a=xe("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rme(e);i=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dme(e);return a=xe("{parent}/documents",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Lme(c),d=new vue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fme extends Ei{constructor(e,r=new Ume(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new lo(xi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jpe(e);return a=xe("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ope(e);return a=xe("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ipe(e);i=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Upe(e);return a=xe("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Fpe(c),d=new xue;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bpe(e);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=qpe(c),d=new bue;return Object.assign(d,u),d})}}async importFile(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$pe(e);return a=xe("{file_search_store_name}:importFile",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Mpe(c),d=new qb;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aR=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return aR=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Bme=()=>aR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const S0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class on extends Error{}class gr extends on{constructor(e,r,n,i){super(`${gr.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new cm({message:n,cause:S0(r)});const a=r;return e===400?new sR(e,a,n,i):e===401?new lR(e,a,n,i):e===403?new cR(e,a,n,i):e===404?new uR(e,a,n,i):e===409?new dR(e,a,n,i):e===422?new fR(e,a,n,i):e===429?new hR(e,a,n,i):e>=500?new pR(e,a,n,i):new gr(e,a,n,i)}}class N0 extends gr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class cm extends gr{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class oR extends cm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sR extends gr{}class lR extends gr{}class cR extends gr{}class uR extends gr{}class dR extends gr{}class fR extends gr{}class hR extends gr{}class pR extends gr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qme=/^[a-z][a-z0-9+.-]*:/i,Vme=t=>qme.test(t);let k0=t=>(k0=Array.isArray,k0(t));const Gme=k0;let Hme=Gme;const CT=Hme;function zme(t){if(!t)return!0;for(const e in t)return!1;return!0}function Wme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Kme=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new on(`${t} must be an integer`);if(e<0)throw new on(`${t} must be a positive integer`);return e},Jme=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yme=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Qme=()=>{var t,e,r,n,i;const a=Xme();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":PT(Deno.build.os),"X-Stainless-Arch":jT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":PT((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":jT((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Zme();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Zme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,o=n[3]||0;return{browser:e,version:`${i}.${a}.${o}`}}}return null}const jT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",PT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Td;const ege=()=>Td??(Td=Qme());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mR(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function rge(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return mR({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function gR(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nge(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ige=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jg(t,e,r){return yR(),new File(t,e??"unknown_file",r)}function age(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const oge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",sge=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vR(t),lge=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cge(t,e,r){if(yR(),t=await t,sge(t))return t instanceof File?t:jg([await t.arrayBuffer()],t.name);if(lge(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jg(await E0(i),e,r)}const n=await E0(t);if(e||(e=age(t)),!(r!=null&&r.type)){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return jg(n,e,r)}async function E0(t){var e,r,n,i,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(vR(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(oge(t))try{for(var s=!0,c=En(t),u;u=await c.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;o.push(...await E0(d))}}catch(d){r={error:d}}finally{try{!s&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${uge(t)}`)}return o}function uge(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xR{constructor(e){this._client=e}}xR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const IT=Object.freeze(Object.create(null)),dge=(t=bR)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],o=r.reduce((d,f,h)=>{var g,x,v;/[?#]/.test(f)&&(i=!0);const y=n[h];let b=(i?encodeURIComponent:t)(""+y);return h!==n.length&&(y==null||typeof y=="object"&&y.toString===((v=Object.getPrototypeOf((x=Object.getPrototypeOf((g=y.hasOwnProperty)!==null&&g!==void 0?g:IT))!==null&&x!==void 0?x:IT))===null||v===void 0?void 0:v.toString))&&(b=y+"",a.push({start:d.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),d+f+(h===n.length?"":b)},""),s=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(s))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,f)=>d.start-f.start),a.length>0){let d=0;const f=a.reduce((h,g)=>{const x=" ".repeat(g.start-d),v="^".repeat(g.length);return d=g.start+g.length,h+x+v},"");throw new on(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},Ad=dge(bR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wR extends xR{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,a=$h(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new on("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new on("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ad`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Ad`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Ad`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const a=r??{},{api_version:o=this._client.apiVersion}=a,s=$h(a,["api_version"]);return this._client.get(Ad`/${o}/interactions/${e}`,Object.assign(Object.assign({query:s},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}wR._key=Object.freeze(["interactions"]);class _R extends wR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fge(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Cd;function Jb(t){let e;return(Cd??(e=new globalThis.TextEncoder,Cd=e.encode.bind(e)))(t)}let jd;function OT(t){let e;return(jd??(e=new globalThis.TextDecoder,jd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class um{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Jb(e):e;this.buffer=fge([this.buffer,r]);const n=[];let i;for(;(i=hge(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(OT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=OT(this.buffer.subarray(0,a));n.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}um.NEWLINE_CHARS=new Set([`
`,"\r"]);um.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hge(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function pge(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dh={off:0,error:200,warn:300,info:400,debug:500},RT=(t,e,r)=>{if(t){if(Wme(Dh,t))return t;ur(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Dh))}`)}};function Bl(){}function Pd(t,e,r){return!e||Dh[t]>Dh[r]?Bl:e[t].bind(e)}const mge={error:Bl,warn:Bl,info:Bl,debug:Bl};let MT=new WeakMap;function ur(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return mge;const i=MT.get(r);if(i&&i[0]===n)return i[1];const a={error:Pd("error",r,n),warn:Pd("warn",r,n),info:Pd("info",r,n),debug:Pd("debug",r,n)};return MT.set(r,[n,a]),a}const wa=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zo{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const a=n?ur(n):console;function o(){return kn(this,arguments,function*(){var c,u,d,f;if(i)throw new on("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,x=En(gge(e,r)),v;v=yield $e(x.next()),c=v.done,!c;g=!0){f=v.value,g=!1;const y=f;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield $e(JSON.parse(y.data))}catch(b){throw a.error("Could not parse message into JSON:",y.data),a.error("From chunk:",y.raw),b}}}catch(y){u={error:y}}finally{try{!g&&!c&&(d=x.return)&&(yield $e(d.call(x)))}finally{if(u)throw u.error}}h=!0}catch(y){if(_0(y))return yield $e(void 0);throw y}finally{h||r.abort()}})}return new zo(o,r,n)}static fromReadableStream(e,r,n){let i=!1;function a(){return kn(this,arguments,function*(){var c,u,d,f;const h=new um,g=gR(e);try{for(var x=!0,v=En(g),y;y=yield $e(v.next()),c=y.done,!c;x=!0){f=y.value,x=!1;const b=f;for(const _ of h.decode(b))yield yield $e(_)}}catch(b){u={error:b}}finally{try{!x&&!c&&(d=v.return)&&(yield $e(d.call(v)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield $e(b)})}function o(){return kn(this,arguments,function*(){var c,u,d,f;if(i)throw new on("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,x=En(a()),v;v=yield $e(x.next()),c=v.done,!c;g=!0){f=v.value,g=!1;const y=f;h||y&&(yield yield $e(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!g&&!c&&(d=x.return)&&(yield $e(d.call(x)))}finally{if(u)throw u.error}}h=!0}catch(y){if(_0(y))return yield $e(void 0);throw y}finally{h||r.abort()}})}return new zo(o,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=n.next();e.push(o),r.push(o)}return a.shift()}});return[new zo(()=>i(e),this.controller,this.client),new zo(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return mR({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const o=Jb(JSON.stringify(i)+`
`);n.enqueue(o)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function gge(t,e){return kn(this,arguments,function*(){var n,i,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new on("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new on("Attempted to iterate over a response with no body");const s=new vge,c=new um,u=gR(t.body);try{for(var d=!0,f=En(yge(u)),h;h=yield $e(f.next()),n=h.done,!n;d=!0){o=h.value,d=!1;const g=o;for(const x of c.decode(g)){const v=s.decode(x);v&&(yield yield $e(v))}}}catch(g){i={error:g}}finally{try{!d&&!n&&(a=f.return)&&(yield $e(a.call(f)))}finally{if(i)throw i.error}}for(const g of c.flush()){const x=s.decode(g);x&&(yield yield $e(x))}})}function yge(t){return kn(this,arguments,function*(){var r,n,i,a;let o=new Uint8Array;try{for(var s=!0,c=En(t),u;u=yield $e(c.next()),r=u.done,!r;s=!0){a=u.value,s=!1;const d=a;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Jb(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let g;for(;(g=pge(o))!==-1;)yield yield $e(o.slice(0,g)),o=o.slice(g)}}catch(d){n={error:d}}finally{try{!s&&!r&&(i=c.return)&&(yield $e(i.call(c)))}finally{if(n)throw n.error}}o.length>0&&(yield yield $e(o))})}class vge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=xge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function xge(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bge(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=e,o=await(async()=>{var s;if(e.options.stream)return ur(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):zo.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(s=c==null?void 0:c.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await r.json():await r.text()})();return ur(t).debug(`[${n}] response parsed`,wa({retryOfRequestLogID:i,url:r.url,status:r.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yb extends Promise{constructor(e,r,n=bge){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Yb(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SR=Symbol("brand.privateNullableHeaders");function*wge(t){if(!t)return;if(SR in t){const{values:n,nulls:i}=t;yield*n.entries();for(const a of i)yield[a,null];return}let e=!1,r;t instanceof Headers?r=t.entries():CT(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=CT(n[1])?n[1]:[n[1]];let o=!1;for(const s of a)s!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,s])}}const Rl=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[a,o]of wge(n)){const s=a.toLowerCase();i.has(s)||(e.delete(a),i.add(s)),o===null?(e.delete(a),r.add(s)):(e.append(a,o),r.delete(s))}}return{[SR]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=t=>{var e,r,n,i,a,o;if(typeof globalThis.process<"u")return(n=(r=(e=Wce)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NR;class dm{constructor(e){var r,n,i,a,o,s,c,{baseURL:u=Pg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=Pg("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=e,h=$h(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(n=g.timeout)!==null&&n!==void 0?n:dm.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(o=(a=RT(g.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:RT(Pg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:x,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(c=g.fetch)!==null&&c!==void 0?c:tge(),this.encoder=ige,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=Rl([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Rl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Rl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new on(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Bme()}`}makeStatusError(e,r,n,i){return gr.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Vme(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return zme(o)||(r=Object.assign(Object.assign({},o),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new Yb(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,a,o;const s=await e,c=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=await this.buildRequest(s,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=n===void 0?"":`, retryOf: ${n}`,x=Date.now();if(ur(this).debug(`[${h}] sending request`,wa({retryOfRequestLogID:n,method:s.method,url:d,options:s,headers:u.headers})),!((a=s.signal)===null||a===void 0)&&a.aborted)throw new N0;const v=new AbortController,y=await this.fetchWithTimeout(d,u,f,v).catch(S0),b=Date.now();if(y instanceof globalThis.Error){const w=`retrying, ${r} attempts remaining`;if(!((o=s.signal)===null||o===void 0)&&o.aborted)throw new N0;const k=_0(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(r)return ur(this).info(`[${h}] connection ${k?"timed out":"failed"} - ${w}`),ur(this).debug(`[${h}] connection ${k?"timed out":"failed"} (${w})`,wa({retryOfRequestLogID:n,url:d,durationMs:b-x,message:y.message})),this.retryRequest(s,r,n??h);throw ur(this).info(`[${h}] connection ${k?"timed out":"failed"} - error; no more retries left`),ur(this).debug(`[${h}] connection ${k?"timed out":"failed"} (error; no more retries left)`,wa({retryOfRequestLogID:n,url:d,durationMs:b-x,message:y.message})),k?new oR:new cm({cause:y})}const _=`[${h}${g}] ${u.method} ${d} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${b-x}ms`;if(!y.ok){const w=await this.shouldRetry(y);if(r&&w){const A=`retrying, ${r} attempts remaining`;return await nge(y.body),ur(this).info(`${_} - ${A}`),ur(this).debug(`[${h}] response error (${A})`,wa({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,durationMs:b-x})),this.retryRequest(s,r,n??h,y.headers)}const k=w?"error; no more retries left":"error; not retryable";ur(this).info(`${_} - ${k}`);const S=await y.text().catch(A=>S0(A).message),N=Jme(S),E=N?void 0:S;throw ur(this).debug(`[${h}] response error (${k})`,wa({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,message:E,durationMs:Date.now()-x})),this.makeStatusError(y.status,N,E,y.headers)}return ur(this).info(_),ur(this).debug(`[${h}] response start`,wa({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,durationMs:b-x})),{response:y,options:s,controller:v,requestLogID:h,retryOfRequestLogID:n,startTime:x}}async fetchWithTimeout(e,r,n,i){const a=r||{},{signal:o,method:s}=a,c=$h(a,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),n),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var a;let o;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(o=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,u)}return await Yme(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,o=Math.min(.5*Math.pow(2,a),8),s=1-Math.random()*.25;return o*s*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,a;const o=Object.assign({},e),{method:s,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&Kme("timeout",o.timeout),o.timeout=(n=o.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:o}),x=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:x},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let s=Rl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),ege()),this._options.defaultHeaders,n,e.headers,o]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=Rl([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:rge(e)}:this.encoder({body:e,headers:n})}}dm.DEFAULT_TIMEOUT=6e4;class zt extends dm{constructor(){super(...arguments),this.interactions=new _R(this)}}NR=zt;zt.GeminiNextGenAPIClient=NR;zt.GeminiNextGenAPIClientError=on;zt.APIError=gr;zt.APIConnectionError=cm;zt.APIConnectionTimeoutError=oR;zt.APIUserAbortError=N0;zt.NotFoundError=uR;zt.ConflictError=dR;zt.RateLimitError=hR;zt.BadRequestError=sR;zt.AuthenticationError=lR;zt.InternalServerError=pR;zt.PermissionDeniedError=cR;zt.UnprocessableEntityError=fR;zt.toFile=cge;zt.Interactions=_R;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Sge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Nge(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function kge(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function Ege(t,e,r){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&m(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function Tge(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],$T(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],$T(g))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);let s=p(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=p(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),n}function Age(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&Uge(a);const o=p(t,["config"]);return o!=null&&Ege(o,r),r}function Cge(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&Fge(a,r,e);const o=p(t,["config"]);return o!=null&&Tge(o,r,e),r}function jge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Pge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Ige(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Oge(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Rge(t,e){const r={},n=p(t,["config"]);return n!=null&&Ige(n,r),r}function Mge(t,e){const r={},n=p(t,["config"]);return n!=null&&Oge(n,r),r}function $ge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const a=p(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>kR(s))),m(r,["tuningJobs"],o)}return r}function Dge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const a=p(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>T0(s))),m(r,["tuningJobs"],o)}return r}function Lge(t,e){const r={},n=p(t,["name"]);n!=null&&m(r,["model"],n);const i=p(t,["name"]);return i!=null&&m(r,["endpoint"],i),r}function Uge(t,e){const r={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(r,["examples","examples"],i)}return r}function Fge(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=p(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function kR(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["state"]);a!=null&&m(r,["state"],BO(a));const o=p(t,["createTime"]);o!=null&&m(r,["createTime"],o);const s=p(t,["tuningTask","startTime"]);s!=null&&m(r,["startTime"],s);const c=p(t,["tuningTask","completeTime"]);c!=null&&m(r,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(r,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(r,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(r,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(r,["tunedModel"],Lge(h)),r}function T0(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["state"]);a!=null&&m(r,["state"],BO(a));const o=p(t,["createTime"]);o!=null&&m(r,["createTime"],o);const s=p(t,["startTime"]);s!=null&&m(r,["startTime"],s);const c=p(t,["endTime"]);c!=null&&m(r,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(r,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(r,["error"],d);const f=p(t,["description"]);f!=null&&m(r,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(r,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(r,["tunedModel"],g);const x=p(t,["preTunedModel"]);x!=null&&m(r,["preTunedModel"],x);const v=p(t,["supervisedTuningSpec"]);v!=null&&m(r,["supervisedTuningSpec"],v);const y=p(t,["preferenceOptimizationSpec"]);y!=null&&m(r,["preferenceOptimizationSpec"],y);const b=p(t,["tuningDataStats"]);b!=null&&m(r,["tuningDataStats"],b);const _=p(t,["encryptionSpec"]);_!=null&&m(r,["encryptionSpec"],_);const w=p(t,["partnerModelTuningSpec"]);w!=null&&m(r,["partnerModelTuningSpec"],w);const k=p(t,["customBaseModel"]);k!=null&&m(r,["customBaseModel"],k);const S=p(t,["experiment"]);S!=null&&m(r,["experiment"],S);const N=p(t,["labels"]);N!=null&&m(r,["labels"],N);const E=p(t,["outputUri"]);E!=null&&m(r,["outputUri"],E);const C=p(t,["pipelineJob"]);C!=null&&m(r,["pipelineJob"],C);const A=p(t,["serviceAccount"]);A!=null&&m(r,["serviceAccount"],A);const I=p(t,["tunedModelDisplayName"]);I!=null&&m(r,["tunedModelDisplayName"],I);const $=p(t,["veoTuningSpec"]);return $!=null&&m(r,["veoTuningSpec"],$),r}function Bge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["metadata"]);a!=null&&m(r,["metadata"],a);const o=p(t,["done"]);o!=null&&m(r,["done"],o);const s=p(t,["error"]);return s!=null&&m(r,["error"],s),r}function $T(t,e){const r={},n=p(t,["gcsUri"]);n!=null&&m(r,["validationDatasetUri"],n);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qge extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new lo(xi.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:m0.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Pge(e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>T0(d))}else{const u=jge(e);return s=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>kR(d))}}async listInternal(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Mge(e);return s=xe("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Dge(d),h=new lT;return Object.assign(h,f),h})}else{const u=Rge(e);return s=xe("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=$ge(d),h=new lT;return Object.assign(h,f),h})}}async cancel(e){var r,n,i,a;let o,s="",c={};if(this.apiClient.isVertexAI()){const u=Sge(e);return s=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=kge(d),h=new cT;return Object.assign(h,f),h})}else{const u=_ge(e);return s=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Nge(d),h=new cT;return Object.assign(h,f),h})}}async tuneInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Cge(e,e);return a=xe("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>T0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Age(e);return a=xe("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Bge(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vge{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Gge=1024*1024*8,Hge=3,zge=1e3,Wge=2,Lh="x-goog-upload-status";async function Kge(t,e,r){var n;const i=await ER(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Lh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Jge(t,e,r){var n;const i=await ER(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Lh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=MO(a),s=new Vb;return Object.assign(s,o),s}async function ER(t,e,r){var n,i;let a=0,o=0,s=new g0(new Response),c="upload";for(a=t.size;o<a;){const u=Math.min(Gge,a-o),d=t.slice(o,o+u);o+u>=a&&(c+=", finalize");let f=0,h=zge;for(;f<Hge&&(s=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((n=s==null?void 0:s.headers)===null||n===void 0)&&n[Lh]));)f++,await Xge(h),h=h*Wge;if(o+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Lh])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Yge(t){return{size:t.size,type:t.type}}function Xge(t){return new Promise(e=>setTimeout(e,t))}class Qge{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kge(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jge(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yge(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zge{create(e,r,n){return new eye(e,r,n)}}class eye{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DT="x-goog-api-key";class tye{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(DT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(DT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rye="gl-node/";class nye{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=Xce(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new tye(this.apiKey);this.apiClient=new Ype({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:rye+"web",uploader:new Qge,downloader:new Vge}),this.models=new mme(this.apiClient),this.live=new cme(this.apiClient,i,new Zge),this.batches=new Ede(this.apiClient),this.chats=new sfe(this.models,this.apiClient),this.caches=new ife(this.apiClient),this.files=new yfe(this.apiClient),this.operations=new gme(this.apiClient),this.authTokens=new Ime(this.apiClient),this.tunings=new qge(this.apiClient),this.fileSearchStores=new Fme(this.apiClient)}}const iye=({user:t})=>{const[e,r]=T.useState(!1),[n,i]=T.useState(""),[a,o]=T.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,c]=T.useState(!1),u=T.useRef(null);T.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[a]);const d=async()=>{try{const{data:h}=await De.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(b=>{const _=b.data||{};return{code:b.tracking_code,title:b.title,status:_.status||b.status,equipment:_.equipName||"",failure:_.failureDesc,date:b.created_at,requester:_.requester}}),{data:x}=await De.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),v=(x||[]).map(b=>{const _=b.data||{};return{part:_.partName,qty:_.qty,requester:b.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:v})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!n.trim())return;const g={id:Date.now().toString(),role:"user",text:n};o(x=>[...x,g]),i(""),c(!0);try{const x=new nye({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),v=await d(),b=(await x.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:v+`

User Question: `+n}]}],config:{temperature:.3}})).text||"    .";o(_=>[..._,{id:(Date.now()+1).toString(),role:"model",text:b}])}catch(x){console.error("AI Error:",x);let v=`: ${x.message||"      ."}`;x.message&&x.message.toLowerCase().includes("failed to fetch")?v=`        .

         (VPN)        .`:x.message&&(x.message.includes("403")||x.message.includes("400"))&&(v="  API        ."),o(y=>[...y,{id:(Date.now()+1).toString(),role:"model",text:v}])}finally{c(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?l.jsx(gt,{className:"w-6 h-6"}):l.jsx(cL,{className:"w-7 h-7"})}),e&&l.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[l.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:l.jsx(DL,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:" "}),l.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[a.map(h=>l.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:l.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&l.jsx("div",{className:"flex justify-end",children:l.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[l.jsx(Ct,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),l.jsx("div",{ref:u})]}),l.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[l.jsx("input",{type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsx("button",{type:"submit",disabled:s||!n.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:l.jsx(Nf,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},aye=()=>{const[t,e]=T.useState(0),[r,n]=T.useState(!1);return T.useEffect(()=>{setTimeout(()=>n(!0),2500);const i=4e3,a=30,s=100/(i/a),c=setInterval(()=>{e(u=>u>=100?(clearInterval(c),100):Math.min(u+s,100))},a);return()=>{clearInterval(c)}},[]),l.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),l.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[l.jsx("div",{className:"w-48 h-48 mb-6 relative",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:"w-full h-full drop-shadow-xl",children:[l.jsx("defs",{children:l.jsxs("filter",{id:"softGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[l.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),l.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),l.jsx("path",{d:"M100 25 L175 165 H25 L100 25 Z",stroke:"#7f1d1d",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"logo-part-triangle"}),l.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",children:[l.jsx("path",{d:"M100 180 L150 155 L100 130 L50 155 Z",fill:"#7f1d1d",stroke:"#7f1d1d",strokeWidth:"4",className:"logo-part-rhombus-bottom"}),l.jsx("path",{d:"M100 145 L140 120 L100 95 L60 120 Z",fill:"#991b1b",stroke:"#991b1b",strokeWidth:"4",className:"logo-part-rhombus-middle"}),l.jsx("path",{d:"M100 110 L130 90 L100 70 L70 90 Z",fill:"#b91c1c",stroke:"#b91c1c",strokeWidth:"4",className:"logo-part-rhombus-top"})]}),l.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#7f1d1d",className:"logo-part-dot"})]})}),l.jsxs("div",{className:`text-center transition-all duration-1000 transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[l.jsx("h1",{className:"text-3xl font-black text-[#800020] dark:text-red-400 mb-2 tracking-wide",children:"  "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-10",children:"    "})]}),l.jsx("div",{className:"w-48 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-500 rounded-full transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(128,0,32,0.5)]",style:{width:`${t}%`}})})]}),l.jsx("style",{children:`
        /* 1. Triangle Drawing Animation */
        .logo-part-triangle {
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            opacity: 0.3;
            animation: drawTriangle 2.5s ease-out forwards;
        }
        @keyframes drawTriangle {
            0% { stroke-dashoffset: 600; opacity: 0; }
            100% { stroke-dashoffset: 0; opacity: 0.3; }
        }

        /* 2. Rhombus Assembly Animations */
        /* Staggered to complete by approx 3.8s */
        .logo-part-rhombus-bottom {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 0.8s;
        }
        .logo-part-rhombus-middle {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 1.6s;
        }
        .logo-part-rhombus-top {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 2.4s;
        }

        @keyframes assemblePart {
            0% { opacity: 0; transform: translateY(25px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* 3. Dot Pop In (Last piece) */
        .logo-part-dot {
            opacity: 0;
            transform-origin: center;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            animation-delay: 3.2s;
        }
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }
      `})]})},LT=300*1e3,oye=()=>{const[t,e]=T.useState(!0),[r,n]=T.useState(()=>{try{const g=localStorage.getItem("lastActivityTime");if(g&&Date.now()-parseInt(g,10)>LT)return localStorage.removeItem("currentUser"),null;const x=localStorage.getItem("currentUser");return x?JSON.parse(x):null}catch(g){return console.error("Failed to parse user from local storage",g),localStorage.removeItem("currentUser"),null}}),[i,a]=T.useState(()=>localStorage.getItem("theme")==="dark"),[o,s]=T.useState(()=>localStorage.getItem("snowMode")==="true"),c=T.useRef(null);T.useEffect(()=>{const g=setTimeout(()=>{e(!1)},6e3);return()=>clearTimeout(g)},[]);const u=T.useCallback(async(g=!1)=>{if(r){const x=await T_();try{await De.from("system_logs").insert([{user_id:r.id,user_name:r.fullName,personnel_code:r.personnelCode||"---",action:g?"  ( )":"  ",ip_address:x,details:`Logout Time: ${ct()} ${ms()}`}])}catch(b){console.error("Logout logging failed:",b)}const v=localStorage.getItem("theme"),y=localStorage.getItem("snowMode");localStorage.clear(),v&&localStorage.setItem("theme",v),y&&localStorage.setItem("snowMode",y)}n(null),g&&alert("               .")},[r]),d=T.useCallback(()=>{r&&(localStorage.setItem("lastActivityTime",Date.now().toString()),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{u(!0)},LT))},[r,u]);T.useEffect(()=>{if(!r)return;const g=["mousedown","mousemove","keydown","scroll","touchstart"],x=()=>d();return g.forEach(v=>document.addEventListener(v,x)),d(),()=>{g.forEach(v=>document.removeEventListener(v,x)),c.current&&clearTimeout(c.current)}},[r,d]),T.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),T.useEffect(()=>{localStorage.setItem("snowMode",String(o))},[o]);const f=async g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g)),localStorage.setItem("lastActivityTime",Date.now().toString());try{const x=await T_();await De.from("system_logs").insert([{user_id:g.id,user_name:g.fullName,personnel_code:g.personnelCode||(g.username==="admin"?"9999":"0000"),action:"  ",ip_address:x,details:`Role: ${g.role}`}])}catch(x){console.error("Login logging failed:",x)}},h=g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g))};return t?l.jsx(aye,{}):l.jsxs(ZD,{children:[l.jsx(zce,{enabled:o}),r&&l.jsx(iye,{user:r}),l.jsx(B3,{user:r,onLogout:()=>u(!1),darkMode:i,toggleDarkMode:()=>a(!i),children:l.jsxs(YD,{children:[l.jsx(vt,{path:"/login",element:r?l.jsx(_t,{to:"/"}):l.jsx(V3,{onLogin:f})}),l.jsx(vt,{path:"/",element:r?l.jsx(Nce,{}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/inbox",element:r?l.jsx(Lce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/messages",element:r?l.jsx(Uce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/notes",element:r?l.jsx(Fce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/reports",element:r?l.jsx(qce,{}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/shift-report",element:r?l.jsx(Hce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/work-orders",element:r?l.jsx(Tce,{}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/work-orders/new",element:r?l.jsx(Fb,{}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/projects",element:r?l.jsx($ce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/performance",element:r?l.jsx(Dce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/part-requests",element:r?l.jsx(jce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/inspections",element:r?l.jsx(Cce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/documents",element:r?l.jsx(Pce,{}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/meetings",element:r?l.jsx(Ice,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/suggestions",element:r?l.jsx(Oce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/purchases",element:r?l.jsx(Rce,{user:r}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"/workflow-designer",element:(r==null?void 0:r.role)===wr.ADMIN?l.jsx(Bce,{}):l.jsx(_t,{to:"/"})}),l.jsx(vt,{path:"/admin",element:(r==null?void 0:r.role)===wr.ADMIN?l.jsx(Ece,{}):l.jsx(_t,{to:"/"})}),l.jsx(vt,{path:"/settings",element:r?l.jsx(Mce,{user:r,onUpdateUser:h,snowMode:o,setSnowMode:s}):l.jsx(_t,{to:"/login"})}),l.jsx(vt,{path:"*",element:l.jsx(_t,{to:"/"})})]})})]})};class sye extends L.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){var e;return this.state.hasError?l.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),l.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),l.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),l.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const TR=document.getElementById("root");if(!TR)throw new Error("Failed to find the root element");const lye=Ig.createRoot(TR);lye.render(l.jsx(L.StrictMode,{children:l.jsx(sye,{children:l.jsx(oye,{})})}));
