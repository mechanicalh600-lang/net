function HO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QA={exports:{}},lh={},ZA={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=Symbol.for("react.element"),zO=Symbol.for("react.portal"),WO=Symbol.for("react.fragment"),KO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),YO=Symbol.for("react.provider"),XO=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),ZO=Symbol.for("react.suspense"),eR=Symbol.for("react.memo"),tR=Symbol.for("react.lazy"),gb=Symbol.iterator;function nR(t){return t===null||typeof t!="object"?null:(t=gb&&t[gb]||t["@@iterator"],typeof t=="function"?t:null)}var ek={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tk=Object.assign,nk={};function ws(t,e,n){this.props=t,this.context=e,this.refs=nk,this.updater=n||ek}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rk(){}rk.prototype=ws.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=nk,this.updater=n||ek}var Gv=Vv.prototype=new rk;Gv.constructor=Vv;tk(Gv,ws.prototype);Gv.isPureReactComponent=!0;var yb=Array.isArray,ik=Object.prototype.hasOwnProperty,Hv={current:null},ok={key:!0,ref:!0,__self:!0,__source:!0};function ak(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)ik.call(e,r)&&!ok.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Gu,type:t,key:o,ref:a,props:i,_owner:Hv.current}}function rR(t,e){return{$$typeof:Gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gu}function iR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vb=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iR(""+t.key):e.toString(36)}function Xc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Gu:case zO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Mp(a,0):r,yb(i)?(n="",t!=null&&(n=t.replace(vb,"$&/")+"/"),Xc(i,e,n,"",function(u){return u})):i!=null&&(zv(i)&&(i=rR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",yb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Mp(o,s);a+=Xc(o,e,n,l,i)}else if(l=nR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Mp(o,s++),a+=Xc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return Xc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function oR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Qc={transition:null},aR={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Qc,ReactCurrentOwner:Hv};function sk(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!zv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ws;Ee.Fragment=WO;Ee.Profiler=JO;Ee.PureComponent=Vv;Ee.StrictMode=KO;Ee.Suspense=ZO;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aR;Ee.act=sk;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Hv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ik.call(e,l)&&!ok.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Gu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:XO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YO,_context:t},t.Consumer=t};Ee.createElement=ak;Ee.createFactory=function(t){var e=ak.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:QO,render:t}};Ee.isValidElement=zv;Ee.lazy=function(t){return{$$typeof:tR,_payload:{_status:-1,_result:t},_init:oR}};Ee.memo=function(t,e){return{$$typeof:eR,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Qc.transition;Qc.transition={};try{t()}finally{Qc.transition=e}};Ee.unstable_act=sk;Ee.useCallback=function(t,e){return Jt.current.useCallback(t,e)};Ee.useContext=function(t){return Jt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Jt.current.useEffect(t,e)};Ee.useId=function(){return Jt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Jt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Jt.current.useRef(t)};Ee.useState=function(t){return Jt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Jt.current.useTransition()};Ee.version="18.3.1";ZA.exports=Ee;var k=ZA.exports;const M=$e(k),sR=HO({__proto__:null,default:M},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=k,uR=Symbol.for("react.element"),cR=Symbol.for("react.fragment"),dR=Object.prototype.hasOwnProperty,fR=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hR={key:!0,ref:!0,__self:!0,__source:!0};function lk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dR.call(e,r)&&!hR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uR,type:t,key:o,ref:a,props:i,_owner:fR.current}}lh.Fragment=cR;lh.jsx=lk;lh.jsxs=lk;QA.exports=lh;var c=QA.exports,Jm={},uk={exports:{}},En={},ck={exports:{}},dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var V=L.length;L.push(B);e:for(;0<V;){var X=V-1>>>1,G=L[X];if(0<i(G,B))L[X]=B,L[V]=G,V=X;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],V=L.pop();if(V!==B){L[0]=V;e:for(var X=0,G=L.length,ae=G>>>1;X<ae;){var we=2*(X+1)-1,Se=L[we],ke=we+1,Te=L[ke];if(0>i(Se,V))ke<G&&0>i(Te,Se)?(L[X]=Te,L[ke]=V,X=ke):(L[X]=Se,L[we]=V,X=we);else if(ke<G&&0>i(Te,V))L[X]=Te,L[ke]=V,X=ke;else break e}}return B}function i(L,B){var V=L.sortIndex-B.sortIndex;return V!==0?V:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(L){if(y=!1,_(L),!v)if(n(l)!==null)v=!0,R(S);else{var B=n(u);B!==null&&F(E,B.startTime-L)}}function S(L,B){v=!1,y&&(y=!1,x(N),N=-1),g=!0;var V=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!O());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var G=X(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var we=n(u);we!==null&&F(E,we.startTime-B),ae=!1}return ae}finally{f=null,h=V,g=!1}}var T=!1,A=null,N=-1,C=5,I=-1;function O(){return!(t.unstable_now()-I<C)}function $(){if(A!==null){var L=t.unstable_now();I=L;var B=!0;try{B=A(!0,L)}finally{B?U():(T=!1,A=null)}}else T=!1}var U;if(typeof w=="function")U=function(){w($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=$,U=function(){P.postMessage(null)}}else U=function(){b($,0)};function R(L){A=L,T||(T=!0,U())}function F(L,B){N=b(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,R(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return L()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=h;h=L;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(L,B,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,L={id:d++,callback:B,priorityLevel:L,startTime:V,expirationTime:G,sortIndex:-1},V>X?(L.sortIndex=V,e(u,L),n(l)===null&&L===n(u)&&(y?(x(N),N=-1):y=!0,F(E,V-X))):(L.sortIndex=G,e(l,L),v||g||(v=!0,R(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var B=h;return function(){var V=h;h=B;try{return L.apply(this,arguments)}finally{h=V}}}})(dk);ck.exports=dk;var pR=ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=k,Sn=pR;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fk=new Set,Rl={};function Ro(t,e){Ba(t,e),Ba(t+"Capture",e)}function Ba(t,e){for(Rl[t]=e,t=0;t<e.length;t++)fk.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=Object.prototype.hasOwnProperty,gR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xb={},bb={};function yR(t){return Ym.call(bb,t)?!0:Ym.call(xb,t)?!1:gR.test(t)?bb[t]=!0:(xb[t]=!0,!1)}function vR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xR(t,e,n,r){if(e===null||typeof e>"u"||vR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wv=/[\-:]([a-z])/g;function Kv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wv,Kv);Rt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wv,Kv);Rt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wv,Kv);Rt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jv(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xR(e,n,i,r)&&(n=null),r||i===null?yR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),la=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Zm=Symbol.for("react.suspense_list"),Qv=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),mk=Symbol.for("react.offscreen"),wb=Symbol.iterator;function qs(t){return t===null||typeof t!="object"?null:(t=wb&&t[wb]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,$p;function ll(t){if($p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$p=e&&e[1]||""}return`
`+$p+t}var Dp=!1;function Lp(t,e){if(!t||Dp)return"";Dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Dp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function bR(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ua:return"Fragment";case la:return"Portal";case Xm:return"Profiler";case Yv:return"StrictMode";case Qm:return"Suspense";case Zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pk:return(t.displayName||"Context")+".Consumer";case hk:return(t._context.displayName||"Context")+".Provider";case Xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qv:return e=t.displayName||null,e!==null?e:eg(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return eg(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eg(e);case 8:return e===Yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _R(t){var e=gk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=_R(t))}function yk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tg(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _b(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vk(t,e){e=e.checked,e!=null&&Jv(t,"checked",e,!1)}function ng(t,e){vk(t,e);var n=Ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&rg(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rg(t,e,n){(e!=="number"||fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function Na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ul(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ii(n)}}function xk(t,e){var n=Ii(e.value),r=Ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,wk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){SR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function _k(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function Sk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_k(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ER=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(ER[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=null;function Zv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ug=null,Ca=null,Pa=null;function Ab(t){if(t=Wu(t)){if(typeof ug!="function")throw Error(J(280));var e=t.stateNode;e&&(e=hh(e),ug(t.stateNode,t.type,e))}}function Ek(t){Ca?Pa?Pa.push(t):Pa=[t]:Ca=t}function Tk(){if(Ca){var t=Ca,e=Pa;if(Pa=Ca=null,Ab(t),e)for(t=0;t<e.length;t++)Ab(e[t])}}function Ak(t,e){return t(e)}function kk(){}var Up=!1;function Nk(t,e,n){if(Up)return t(e,n);Up=!0;try{return Ak(t,e,n)}finally{Up=!1,(Ca!==null||Pa!==null)&&(kk(),Tk())}}function $l(t,e){var n=t.stateNode;if(n===null)return null;var r=hh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var cg=!1;if(zr)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){cg=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{cg=!1}function TR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var gl=!1,hd=null,pd=!1,dg=null,AR={onError:function(t){gl=!0,hd=t}};function kR(t,e,n,r,i,o,a,s,l){gl=!1,hd=null,TR.apply(AR,arguments)}function NR(t,e,n,r,i,o,a,s,l){if(kR.apply(this,arguments),gl){if(gl){var u=hd;gl=!1,hd=null}else throw Error(J(198));pd||(pd=!0,dg=u)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ck(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kb(t){if(Mo(t)!==t)throw Error(J(188))}function CR(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return kb(i),t;if(o===r)return kb(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Pk(t){return t=CR(t),t!==null?Ik(t):null}function Ik(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ik(t);if(e!==null)return e;t=t.sibling}return null}var jk=Sn.unstable_scheduleCallback,Nb=Sn.unstable_cancelCallback,PR=Sn.unstable_shouldYield,IR=Sn.unstable_requestPaint,st=Sn.unstable_now,jR=Sn.unstable_getCurrentPriorityLevel,e0=Sn.unstable_ImmediatePriority,Ok=Sn.unstable_UserBlockingPriority,md=Sn.unstable_NormalPriority,OR=Sn.unstable_LowPriority,Rk=Sn.unstable_IdlePriority,uh=null,gr=null;function RR(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:DR,MR=Math.log,$R=Math.LN2;function DR(t){return t>>>=0,t===0?32:31-(MR(t)/$R|0)|0}var mc=64,gc=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=cl(s):(o&=a,o!==0&&(r=cl(o)))}else a=n&~i,a!==0?r=cl(a):o!==0&&(r=cl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),i=1<<n,r|=t[n],e&=~i;return r}function LR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-nr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mk(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function Fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function FR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function t0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function $k(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dk,n0,Lk,Uk,Fk,hg=!1,yc=[],_i=null,Si=null,Ei=null,Dl=new Map,Ll=new Map,hi=[],BR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cb(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(e.pointerId)}}function Gs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Wu(e),e!==null&&n0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qR(t,e,n,r,i){switch(e){case"focusin":return _i=Gs(_i,t,e,n,r,i),!0;case"dragenter":return Si=Gs(Si,t,e,n,r,i),!0;case"mouseover":return Ei=Gs(Ei,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dl.set(o,Gs(Dl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ll.set(o,Gs(Ll.get(o)||null,t,e,n,r,i)),!0}return!1}function Bk(t){var e=lo(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=Ck(n),e!==null){t.blockedOn=e,Fk(t.priority,function(){Lk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lg=r,n.target.dispatchEvent(r),lg=null}else return e=Wu(n),e!==null&&n0(e),t.blockedOn=n,!1;e.shift()}return!0}function Pb(t,e,n){Zc(t)&&n.delete(e)}function VR(){hg=!1,_i!==null&&Zc(_i)&&(_i=null),Si!==null&&Zc(Si)&&(Si=null),Ei!==null&&Zc(Ei)&&(Ei=null),Dl.forEach(Pb),Ll.forEach(Pb)}function Hs(t,e){t.blockedOn===e&&(t.blockedOn=null,hg||(hg=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,VR)))}function Ul(t){function e(i){return Hs(i,t)}if(0<yc.length){Hs(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&Hs(_i,t),Si!==null&&Hs(Si,t),Ei!==null&&Hs(Ei,t),Dl.forEach(e),Ll.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)Bk(n),n.blockedOn===null&&hi.shift()}var Ia=ei.ReactCurrentBatchConfig,yd=!0;function GR(t,e,n,r){var i=Me,o=Ia.transition;Ia.transition=null;try{Me=1,r0(t,e,n,r)}finally{Me=i,Ia.transition=o}}function HR(t,e,n,r){var i=Me,o=Ia.transition;Ia.transition=null;try{Me=4,r0(t,e,n,r)}finally{Me=i,Ia.transition=o}}function r0(t,e,n,r){if(yd){var i=pg(t,e,n,r);if(i===null)Yp(t,e,r,vd,n),Cb(t,r);else if(qR(i,t,e,n,r))r.stopPropagation();else if(Cb(t,r),e&4&&-1<BR.indexOf(t)){for(;i!==null;){var o=Wu(i);if(o!==null&&Dk(o),o=pg(t,e,n,r),o===null&&Yp(t,e,r,vd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yp(t,e,r,null,n)}}var vd=null;function pg(t,e,n,r){if(vd=null,t=Zv(r),t=lo(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ck(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function qk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jR()){case e0:return 1;case Ok:return 4;case md:case OR:return 16;case Rk:return 536870912;default:return 16}default:return 16}}var yi=null,i0=null,ed=null;function Vk(){if(ed)return ed;var t,e=i0,n=e.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ed=i.slice(t,1<r?1-r:void 0)}function td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function Ib(){return!1}function Tn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vc:Ib,this.isPropagationStopped=Ib,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=Tn(_s),zu=tt({},_s,{view:0,detail:0}),zR=Tn(zu),Bp,qp,zs,ch=tt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Bp=t.screenX-zs.screenX,qp=t.screenY-zs.screenY):qp=Bp=0,zs=t),Bp)},movementY:function(t){return"movementY"in t?t.movementY:qp}}),jb=Tn(ch),WR=tt({},ch,{dataTransfer:0}),KR=Tn(WR),JR=tt({},zu,{relatedTarget:0}),Vp=Tn(JR),YR=tt({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),XR=Tn(YR),QR=tt({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZR=Tn(QR),eM=tt({},_s,{data:0}),Ob=Tn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rM[t])?!!e[t]:!1}function a0(){return iM}var oM=tt({},zu,{key:function(t){if(t.key){var e=tM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(t){return t.type==="keypress"?td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aM=Tn(oM),sM=tt({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rb=Tn(sM),lM=tt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),uM=Tn(lM),cM=tt({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=Tn(cM),fM=tt({},ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Tn(fM),pM=[9,13,27,32],s0=zr&&"CompositionEvent"in window,yl=null;zr&&"documentMode"in document&&(yl=document.documentMode);var mM=zr&&"TextEvent"in window&&!yl,Gk=zr&&(!s0||yl&&8<yl&&11>=yl),Mb=" ",$b=!1;function Hk(t,e){switch(t){case"keyup":return pM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function gM(t,e){switch(t){case"compositionend":return zk(e);case"keypress":return e.which!==32?null:($b=!0,Mb);case"textInput":return t=e.data,t===Mb&&$b?null:t;default:return null}}function yM(t,e){if(ca)return t==="compositionend"||!s0&&Hk(t,e)?(t=Vk(),ed=i0=yi=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gk&&e.locale!=="ko"?null:e.data;default:return null}}var vM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Db(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vM[t.type]:e==="textarea"}function Wk(t,e,n,r){Ek(r),e=xd(e,"onChange"),0<e.length&&(n=new o0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,Fl=null;function xM(t){iN(t,0)}function dh(t){var e=ha(t);if(yk(e))return t}function bM(t,e){if(t==="change")return e}var Kk=!1;if(zr){var Gp;if(zr){var Hp="oninput"in document;if(!Hp){var Lb=document.createElement("div");Lb.setAttribute("oninput","return;"),Hp=typeof Lb.oninput=="function"}Gp=Hp}else Gp=!1;Kk=Gp&&(!document.documentMode||9<document.documentMode)}function Ub(){vl&&(vl.detachEvent("onpropertychange",Jk),Fl=vl=null)}function Jk(t){if(t.propertyName==="value"&&dh(Fl)){var e=[];Wk(e,Fl,t,Zv(t)),Nk(xM,e)}}function wM(t,e,n){t==="focusin"?(Ub(),vl=e,Fl=n,vl.attachEvent("onpropertychange",Jk)):t==="focusout"&&Ub()}function _M(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dh(Fl)}function SM(t,e){if(t==="click")return dh(e)}function EM(t,e){if(t==="input"||t==="change")return dh(e)}function TM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:TM;function Bl(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ym.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function Fb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bb(t,e){var n=Fb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fb(n)}}function Yk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xk(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fd(t.document)}return e}function l0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AM(t){var e=Xk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yk(n.ownerDocument.documentElement,n)){if(r!==null&&l0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Bb(n,o);var a=Bb(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kM=zr&&"documentMode"in document&&11>=document.documentMode,da=null,mg=null,xl=null,gg=!1;function qb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gg||da==null||da!==fd(r)||(r=da,"selectionStart"in r&&l0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&Bl(xl,r)||(xl=r,r=xd(mg,"onSelect"),0<r.length&&(e=new o0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=da)))}function xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fa={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},zp={},Qk={};zr&&(Qk=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function fh(t){if(zp[t])return zp[t];if(!fa[t])return t;var e=fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qk)return zp[t]=e[n];return t}var Zk=fh("animationend"),eN=fh("animationiteration"),tN=fh("animationstart"),nN=fh("transitionend"),rN=new Map,Vb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){rN.set(t,e),Ro(e,[t])}for(var Wp=0;Wp<Vb.length;Wp++){var Kp=Vb[Wp],NM=Kp.toLowerCase(),CM=Kp[0].toUpperCase()+Kp.slice(1);Mi(NM,"on"+CM)}Mi(Zk,"onAnimationEnd");Mi(eN,"onAnimationIteration");Mi(tN,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(nN,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PM=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function Gb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NR(r,e,void 0,t),t.currentTarget=null}function iN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Gb(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Gb(i,s,u),o=l}}}if(pd)throw t=dg,pd=!1,dg=null,t}function He(t,e){var n=e[wg];n===void 0&&(n=e[wg]=new Set);var r=t+"__bubble";n.has(r)||(oN(e,t,2,!1),n.add(r))}function Jp(t,e,n){var r=0;e&&(r|=4),oN(n,t,r,e)}var bc="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[bc]){t[bc]=!0,fk.forEach(function(n){n!=="selectionchange"&&(PM.has(n)||Jp(n,!1,t),Jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bc]||(e[bc]=!0,Jp("selectionchange",!1,e))}}function oN(t,e,n,r){switch(qk(e)){case 1:var i=GR;break;case 4:i=HR;break;default:i=r0}n=i.bind(null,e,n,t),i=void 0,!cg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=lo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Nk(function(){var u=o,d=Zv(n),f=[];e:{var h=rN.get(t);if(h!==void 0){var g=o0,v=t;switch(t){case"keypress":if(td(n)===0)break e;case"keydown":case"keyup":g=aM;break;case"focusin":v="focus",g=Vp;break;case"focusout":v="blur",g=Vp;break;case"beforeblur":case"afterblur":g=Vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uM;break;case Zk:case eN:case tN:g=XR;break;case nN:g=dM;break;case"scroll":g=zR;break;case"wheel":g=hM;break;case"copy":case"cut":case"paste":g=ZR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rb}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=$l(w,x),E!=null&&y.push(Vl(w,E,_)))),b)break;w=w.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==lg&&(v=n.relatedTarget||n.fromElement)&&(lo(v)||v[Wr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?lo(v):null,v!==null&&(b=Mo(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=jb,E="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Rb,E="onPointerLeave",x="onPointerEnter",w="pointer"),b=g==null?h:ha(g),_=v==null?h:ha(v),h=new y(E,w+"leave",g,n,d),h.target=b,h.relatedTarget=_,E=null,lo(d)===u&&(y=new y(x,w+"enter",v,n,d),y.target=_,y.relatedTarget=b,E=y),b=E,g&&v)t:{for(y=g,x=v,w=0,_=y;_;_=Wo(_))w++;for(_=0,E=x;E;E=Wo(E))_++;for(;0<w-_;)y=Wo(y),w--;for(;0<_-w;)x=Wo(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Wo(y),x=Wo(x)}y=null}else y=null;g!==null&&Hb(f,h,g,y,!1),v!==null&&b!==null&&Hb(f,b,v,y,!0)}}e:{if(h=u?ha(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=bM;else if(Db(h))if(Kk)S=EM;else{S=_M;var T=wM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=SM);if(S&&(S=S(t,u))){Wk(f,S,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&rg(h,"number",h.value)}switch(T=u?ha(u):window,t){case"focusin":(Db(T)||T.contentEditable==="true")&&(da=T,mg=u,xl=null);break;case"focusout":xl=mg=da=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,qb(f,n,d);break;case"selectionchange":if(kM)break;case"keydown":case"keyup":qb(f,n,d)}var A;if(s0)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ca?Hk(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Gk&&n.locale!=="ko"&&(ca||N!=="onCompositionStart"?N==="onCompositionEnd"&&ca&&(A=Vk()):(yi=d,i0="value"in yi?yi.value:yi.textContent,ca=!0)),T=xd(u,N),0<T.length&&(N=new Ob(N,t,null,n,d),f.push({event:N,listeners:T}),A?N.data=A:(A=zk(n),A!==null&&(N.data=A)))),(A=mM?gM(t,n):yM(t,n))&&(u=xd(u,"onBeforeInput"),0<u.length&&(d=new Ob("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}iN(f,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$l(t,n),o!=null&&r.unshift(Vl(t,o,i)),o=$l(t,e),o!=null&&r.push(Vl(t,o,i))),t=t.return}return r}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hb(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=$l(n,o),l!=null&&a.unshift(Vl(n,l,s))):i||(l=$l(n,o),l!=null&&a.push(Vl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var IM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function zb(t){return(typeof t=="string"?t:""+t).replace(IM,`
`).replace(jM,"")}function wc(t,e,n){if(e=zb(e),zb(t)!==e&&n)throw Error(J(425))}function bd(){}var yg=null,vg=null;function xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,RM=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(t){return Wb.resolve(null).then(t).catch(MM)}:bg;function MM(t){setTimeout(function(){throw t})}function Xp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ul(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ss,Gl="__reactProps$"+Ss,Wr="__reactContainer$"+Ss,wg="__reactEvents$"+Ss,$M="__reactListeners$"+Ss,DM="__reactHandles$"+Ss;function lo(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kb(t);t!==null;){if(n=t[hr])return n;t=Kb(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[hr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function hh(t){return t[Gl]||null}var _g=[],pa=-1;function $i(t){return{current:t}}function Ke(t){0>pa||(t.current=_g[pa],_g[pa]=null,pa--)}function Ve(t,e){pa++,_g[pa]=t.current,t.current=e}var ji={},Bt=$i(ji),rn=$i(!1),So=ji;function qa(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function wd(){Ke(rn),Ke(Bt)}function Jb(t,e,n){if(Bt.current!==ji)throw Error(J(168));Ve(Bt,e),Ve(rn,n)}function aN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,wR(t)||"Unknown",i));return tt({},n,r)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,So=Bt.current,Ve(Bt,t),Ve(rn,rn.current),!0}function Yb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=aN(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,Ke(rn),Ke(Bt),Ve(Bt,t)):Ke(rn),Ve(rn,n)}var Mr=null,ph=!1,Qp=!1;function sN(t){Mr===null?Mr=[t]:Mr.push(t)}function LM(t){ph=!0,sN(t)}function Di(){if(!Qp&&Mr!==null){Qp=!0;var t=0,e=Me;try{var n=Mr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,ph=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),jk(e0,Di),i}finally{Me=e,Qp=!1}}return null}var ma=[],ga=0,Sd=null,Ed=0,Cn=[],Pn=0,Eo=null,$r=1,Dr="";function Qi(t,e){ma[ga++]=Ed,ma[ga++]=Sd,Sd=t,Ed=e}function lN(t,e,n){Cn[Pn++]=$r,Cn[Pn++]=Dr,Cn[Pn++]=Eo,Eo=t;var r=$r;t=Dr;var i=32-nr(r)-1;r&=~(1<<i),n+=1;var o=32-nr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$r=1<<32-nr(e)+i|n<<i|r,Dr=o+t}else $r=1<<o|n<<i|r,Dr=t}function u0(t){t.return!==null&&(Qi(t,1),lN(t,1,0))}function c0(t){for(;t===Sd;)Sd=ma[--ga],ma[ga]=null,Ed=ma[--ga],ma[ga]=null;for(;t===Eo;)Eo=Cn[--Pn],Cn[Pn]=null,Dr=Cn[--Pn],Cn[Pn]=null,$r=Cn[--Pn],Cn[Pn]=null}var bn=null,xn=null,Ye=!1,Zn=null;function uN(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,xn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:$r,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,xn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eg(t){if(Ye){var e=xn;if(e){var n=e;if(!Xb(t,e)){if(Sg(t))throw Error(J(418));e=Ti(n.nextSibling);var r=bn;e&&Xb(t,e)?uN(r,n):(t.flags=t.flags&-4097|2,Ye=!1,bn=t)}}else{if(Sg(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,bn=t}}}function Qb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function _c(t){if(t!==bn)return!1;if(!Ye)return Qb(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xg(t.type,t.memoizedProps)),e&&(e=xn)){if(Sg(t))throw cN(),Error(J(418));for(;e;)uN(t,e),e=Ti(e.nextSibling)}if(Qb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=bn?Ti(t.stateNode.nextSibling):null;return!0}function cN(){for(var t=xn;t;)t=Ti(t.nextSibling)}function Va(){xn=bn=null,Ye=!1}function d0(t){Zn===null?Zn=[t]:Zn.push(t)}var UM=ei.ReactCurrentBatchConfig;function Ws(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zb(t){var e=t._init;return e(t._payload)}function dN(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ci(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,E){return w===null||w.tag!==6?(w=om(_,x.mode,E),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,E){var S=_.type;return S===ua?d(x,w,_.props.children,E,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&Zb(S)===w.type)?(E=i(w,_.props),E.ref=Ws(x,w,_),E.return=x,E):(E=ld(_.type,_.key,_.props,null,x.mode,E),E.ref=Ws(x,w,_),E.return=x,E)}function u(x,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=am(_,x.mode,E),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,E,S){return w===null||w.tag!==7?(w=vo(_,x.mode,E,S),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=om(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fc:return _=ld(w.type,w.key,w.props,null,x.mode,_),_.ref=Ws(x,null,w),_.return=x,_;case la:return w=am(w,x.mode,_),w.return=x,w;case ui:var E=w._init;return f(x,E(w._payload),_)}if(ul(w)||qs(w))return w=vo(w,x.mode,_,null),w.return=x,w;Sc(x,w)}return null}function h(x,w,_,E){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fc:return _.key===S?l(x,w,_,E):null;case la:return _.key===S?u(x,w,_,E):null;case ui:return S=_._init,h(x,w,S(_._payload),E)}if(ul(_)||qs(_))return S!==null?null:d(x,w,_,E,null);Sc(x,_)}return null}function g(x,w,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,s(w,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:return x=x.get(E.key===null?_:E.key)||null,l(w,x,E,S);case la:return x=x.get(E.key===null?_:E.key)||null,u(w,x,E,S);case ui:var T=E._init;return g(x,w,_,T(E._payload),S)}if(ul(E)||qs(E))return x=x.get(_)||null,d(w,x,E,S,null);Sc(w,E)}return null}function v(x,w,_,E){for(var S=null,T=null,A=w,N=w=0,C=null;A!==null&&N<_.length;N++){A.index>N?(C=A,A=null):C=A.sibling;var I=h(x,A,_[N],E);if(I===null){A===null&&(A=C);break}t&&A&&I.alternate===null&&e(x,A),w=o(I,w,N),T===null?S=I:T.sibling=I,T=I,A=C}if(N===_.length)return n(x,A),Ye&&Qi(x,N),S;if(A===null){for(;N<_.length;N++)A=f(x,_[N],E),A!==null&&(w=o(A,w,N),T===null?S=A:T.sibling=A,T=A);return Ye&&Qi(x,N),S}for(A=r(x,A);N<_.length;N++)C=g(A,x,N,_[N],E),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?N:C.key),w=o(C,w,N),T===null?S=C:T.sibling=C,T=C);return t&&A.forEach(function(O){return e(x,O)}),Ye&&Qi(x,N),S}function y(x,w,_,E){var S=qs(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var T=S=null,A=w,N=w=0,C=null,I=_.next();A!==null&&!I.done;N++,I=_.next()){A.index>N?(C=A,A=null):C=A.sibling;var O=h(x,A,I.value,E);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(x,A),w=o(O,w,N),T===null?S=O:T.sibling=O,T=O,A=C}if(I.done)return n(x,A),Ye&&Qi(x,N),S;if(A===null){for(;!I.done;N++,I=_.next())I=f(x,I.value,E),I!==null&&(w=o(I,w,N),T===null?S=I:T.sibling=I,T=I);return Ye&&Qi(x,N),S}for(A=r(x,A);!I.done;N++,I=_.next())I=g(A,x,N,I.value,E),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?N:I.key),w=o(I,w,N),T===null?S=I:T.sibling=I,T=I);return t&&A.forEach(function($){return e(x,$)}),Ye&&Qi(x,N),S}function b(x,w,_,E){if(typeof _=="object"&&_!==null&&_.type===ua&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case fc:e:{for(var S=_.key,T=w;T!==null;){if(T.key===S){if(S=_.type,S===ua){if(T.tag===7){n(x,T.sibling),w=i(T,_.props.children),w.return=x,x=w;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&Zb(S)===T.type){n(x,T.sibling),w=i(T,_.props),w.ref=Ws(x,T,_),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===ua?(w=vo(_.props.children,x.mode,E,_.key),w.return=x,x=w):(E=ld(_.type,_.key,_.props,null,x.mode,E),E.ref=Ws(x,w,_),E.return=x,x=E)}return a(x);case la:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=am(_,x.mode,E),w.return=x,x=w}return a(x);case ui:return T=_._init,b(x,w,T(_._payload),E)}if(ul(_))return v(x,w,_,E);if(qs(_))return y(x,w,_,E);Sc(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=om(_,x.mode,E),w.return=x,x=w),a(x)):n(x,w)}return b}var Ga=dN(!0),fN=dN(!1),Td=$i(null),Ad=null,ya=null,f0=null;function h0(){f0=ya=Ad=null}function p0(t){var e=Td.current;Ke(Td),t._currentValue=e}function Tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ja(t,e){Ad=t,f0=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(f0!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Ad===null)throw Error(J(308));ya=t,Ad.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var uo=null;function m0(t){uo===null?uo=[t]:uo.push(t)}function hN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,m0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function g0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,m0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t0(t,n)}}function ew(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kd(t,e,n,r){var i=t.updateQueue;ci=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=tt({},f,h);break e;case 2:ci=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ao|=a,t.lanes=a,t.memoizedState=f}}function tw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Ku={},yr=$i(Ku),Hl=$i(Ku),zl=$i(Ku);function co(t){if(t===Ku)throw Error(J(174));return t}function y0(t,e){switch(Ve(zl,e),Ve(Hl,t),Ve(yr,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}Ke(yr),Ve(yr,e)}function Ha(){Ke(yr),Ke(Hl),Ke(zl)}function mN(t){co(zl.current);var e=co(yr.current),n=og(e,t.type);e!==n&&(Ve(Hl,t),Ve(yr,n))}function v0(t){Hl.current===t&&(Ke(yr),Ke(Hl))}var Ze=$i(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zp=[];function x0(){for(var t=0;t<Zp.length;t++)Zp[t]._workInProgressVersionPrimary=null;Zp.length=0}var rd=ei.ReactCurrentDispatcher,em=ei.ReactCurrentBatchConfig,To=0,et=null,vt=null,Et=null,Cd=!1,bl=!1,Wl=0,FM=0;function Mt(){throw Error(J(321))}function b0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function w0(t,e,n,r,i,o){if(To=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rd.current=t===null||t.memoizedState===null?GM:HM,t=n(r,i),bl){o=0;do{if(bl=!1,Wl=0,25<=o)throw Error(J(301));o+=1,Et=vt=null,e.updateQueue=null,rd.current=zM,t=n(r,i)}while(bl)}if(rd.current=Pd,e=vt!==null&&vt.next!==null,To=0,Et=vt=et=null,Cd=!1,e)throw Error(J(300));return t}function _0(){var t=Wl!==0;return Wl=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=t:Et=Et.next=t,Et}function Ln(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?et.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(J(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?et.memoizedState=Et=t:Et=Et.next=t}return Et}function Kl(t,e){return typeof e=="function"?e(t):e}function tm(t){var e=Ln(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((To&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,et.lanes|=d,Ao|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,sr(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Ao|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nm(t){var e=Ln(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);sr(o,e.memoizedState)||(Zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function gN(){}function yN(t,e){var n=et,r=Ln(),i=e(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,S0(bN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Jl(9,xN.bind(null,n,r,i,e),void 0,null),At===null)throw Error(J(349));To&30||vN(n,e,i)}return i}function vN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xN(t,e,n,r){e.value=n,e.getSnapshot=r,wN(e)&&_N(t)}function bN(t,e,n){return n(function(){wN(e)&&_N(t)})}function wN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function _N(t){var e=Kr(t,1);e!==null&&rr(e,t,1,-1)}function nw(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=VM.bind(null,et,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SN(){return Ln().memoizedState}function id(t,e,n,r){var i=fr();et.flags|=t,i.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function mh(t,e,n,r){var i=Ln();r=r===void 0?null:r;var o=void 0;if(vt!==null){var a=vt.memoizedState;if(o=a.destroy,r!==null&&b0(r,a.deps)){i.memoizedState=Jl(e,n,o,r);return}}et.flags|=t,i.memoizedState=Jl(1|e,n,o,r)}function rw(t,e){return id(8390656,8,t,e)}function S0(t,e){return mh(2048,8,t,e)}function EN(t,e){return mh(4,2,t,e)}function TN(t,e){return mh(4,4,t,e)}function AN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kN(t,e,n){return n=n!=null?n.concat([t]):null,mh(4,4,AN.bind(null,e,t),n)}function E0(){}function NN(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CN(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PN(t,e,n){return To&21?(sr(n,e)||(n=Mk(),et.lanes|=n,Ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function BM(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=em.transition;em.transition={};try{t(!1),e()}finally{Me=n,em.transition=r}}function IN(){return Ln().memoizedState}function qM(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jN(t))ON(e,n);else if(n=hN(t,e,n,r),n!==null){var i=Wt();rr(n,t,r,i),RN(n,e,r)}}function VM(t,e,n){var r=Ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jN(t))ON(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;l===null?(i.next=i,m0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hN(t,e,i,r),n!==null&&(i=Wt(),rr(n,t,r,i),RN(n,e,r))}}function jN(t){var e=t.alternate;return t===et||e!==null&&e===et}function ON(t,e){bl=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t0(t,n)}}var Pd={readContext:Dn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},GM={readContext:Dn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,id(4194308,4,AN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return id(4194308,4,t,e)},useInsertionEffect:function(t,e){return id(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qM.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:nw,useDebugValue:E0,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=nw(!1),e=t[0];return t=BM.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=fr();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),At===null)throw Error(J(349));To&30||vN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rw(bN.bind(null,r,o,t),[t]),r.flags|=2048,Jl(9,xN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=fr(),e=At.identifierPrefix;if(Ye){var n=Dr,r=$r;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HM={readContext:Dn,useCallback:NN,useContext:Dn,useEffect:S0,useImperativeHandle:kN,useInsertionEffect:EN,useLayoutEffect:TN,useMemo:CN,useReducer:tm,useRef:SN,useState:function(){return tm(Kl)},useDebugValue:E0,useDeferredValue:function(t){var e=Ln();return PN(e,vt.memoizedState,t)},useTransition:function(){var t=tm(Kl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gN,useSyncExternalStore:yN,useId:IN,unstable_isNewReconciler:!1},zM={readContext:Dn,useCallback:NN,useContext:Dn,useEffect:S0,useImperativeHandle:kN,useInsertionEffect:EN,useLayoutEffect:TN,useMemo:CN,useReducer:nm,useRef:SN,useState:function(){return nm(Kl)},useDebugValue:E0,useDeferredValue:function(t){var e=Ln();return vt===null?e.memoizedState=t:PN(e,vt.memoizedState,t)},useTransition:function(){var t=nm(Kl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gN,useSyncExternalStore:yN,useId:IN,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gh={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ni(t),o=qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ai(t,o,i),e!==null&&(rr(e,t,i,r),nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ni(t),o=qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ai(t,o,i),e!==null&&(rr(e,t,i,r),nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Ni(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(rr(e,t,r,n),nd(e,t,r))}};function iw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,o):!0}function MN(t,e,n){var r=!1,i=ji,o=e.contextType;return typeof o=="object"&&o!==null?o=Dn(o):(i=on(e)?So:Bt.current,r=e.contextTypes,o=(r=r!=null)?qa(t,i):ji),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ow(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function kg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},g0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Dn(o):(o=on(e)?So:Bt.current,i.context=qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ag(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gh.enqueueReplaceState(i,i.state,null),kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",r=e;do n+=bR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WM=typeof WeakMap=="function"?WeakMap:Map;function $N(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jd||(jd=!0,Lg=r),Ng(t,e)},n}function DN(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ng(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ng(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function aw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s$.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var KM=ei.ReactCurrentOwner,Zt=!1;function Vt(t,e,n,r){e.child=t===null?fN(e,null,n,r):Ga(e,t.child,n,r)}function uw(t,e,n,r,i){n=n.render;var o=e.ref;return ja(e,i),r=w0(t,e,n,r,o,i),n=_0(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ye&&n&&u0(e),e.flags|=1,Vt(t,e,r,i),e.child)}function cw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!j0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,LN(t,e,o,r,i)):(t=ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(a,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Ci(o,r),t.ref=e.ref,t.return=e,e.child=t}function LN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bl(o,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Cg(t,e,n,r,i)}function UN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(xa,fn),fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(xa,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ve(xa,fn),fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ve(xa,fn),fn|=r;return Vt(t,e,i,n),e.child}function FN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cg(t,e,n,r,i){var o=on(n)?So:Bt.current;return o=qa(e,o),ja(e,i),n=w0(t,e,n,r,o,i),r=_0(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ye&&r&&u0(e),e.flags|=1,Vt(t,e,n,i),e.child)}function dw(t,e,n,r,i){if(on(n)){var o=!0;_d(e)}else o=!1;if(ja(e,i),e.stateNode===null)od(t,e),MN(e,n,r),kg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=on(n)?So:Bt.current,u=qa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&ow(e,a,r,u),ci=!1;var h=e.memoizedState;a.state=h,kd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||rn.current||ci?(typeof d=="function"&&(Ag(e,n,d,r),l=e.memoizedState),(s=ci||iw(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,pN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Wn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=on(n)?So:Bt.current,l=qa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&ow(e,a,r,l),ci=!1,h=e.memoizedState,a.state=h,kd(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||rn.current||ci?(typeof g=="function"&&(Ag(e,n,g,r),v=e.memoizedState),(u=ci||iw(e,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,o,i)}function Pg(t,e,n,r,i,o){FN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Yb(e,n,!1),Jr(t,e,o);r=e.stateNode,KM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ga(e,t.child,null,o),e.child=Ga(e,null,s,o)):Vt(t,e,s,o),e.memoizedState=r.state,i&&Yb(e,n,!0),e.child}function BN(t){var e=t.stateNode;e.pendingContext?Jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jb(t,e.context,!1),y0(t,e.containerInfo)}function fw(t,e,n,r,i){return Va(),d0(i),e.flags|=256,Vt(t,e,n,r),e.child}var Ig={dehydrated:null,treeContext:null,retryLane:0};function jg(t){return{baseLanes:t,cachePool:null,transitions:null}}function qN(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),t===null)return Eg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=xh(a,r,0,null),t=vo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jg(n),e.memoizedState=Ig,t):T0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return JM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ci(s,o):(o=vo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?jg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ig,r}return o=t.child,t=o.sibling,r=Ci(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T0(t,e){return e=xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&d0(r),Ga(e,t.child,null,n),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=rm(Error(J(422))),Ec(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xh({mode:"visible",children:r.children},i,0,null),o=vo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ga(e,t.child,null,a),e.child.memoizedState=jg(a),e.memoizedState=Ig,o);if(!(e.mode&1))return Ec(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=rm(o,r,void 0),Ec(t,e,a,r)}if(s=(a&t.childLanes)!==0,Zt||s){if(r=At,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kr(t,i),rr(r,t,i,-1))}return I0(),r=rm(Error(J(421))),Ec(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xn=Ti(i.nextSibling),bn=e,Ye=!0,Zn=null,t!==null&&(Cn[Pn++]=$r,Cn[Pn++]=Dr,Cn[Pn++]=Eo,$r=t.id,Dr=t.overflow,Eo=e),e=T0(e,r.children),e.flags|=4096,e)}function hw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tg(t.return,e,n)}function im(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function VN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Vt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hw(t,n,e);else if(t.tag===19)hw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),im(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}im(e,!0,n,null,o);break;case"together":im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YM(t,e,n){switch(e.tag){case 3:BN(e),Va();break;case 5:mN(e);break;case 1:on(e.type)&&_d(e);break;case 4:y0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?qN(t,e,n):(Ve(Ze,Ze.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,UN(t,e,n)}return Jr(t,e,n)}var GN,Og,HN,zN;GN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};HN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,co(yr.current);var o=null;switch(n){case"input":i=tg(t,i),r=tg(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=ig(t,i),r=ig(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bd)}ag(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};zN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ks(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XM(t,e,n){var r=e.pendingProps;switch(c0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return on(e.type)&&wd(),$t(e),null;case 3:return r=e.stateNode,Ha(),Ke(rn),Ke(Bt),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(Bg(Zn),Zn=null))),Og(t,e),$t(e),null;case 5:v0(e);var i=co(zl.current);if(n=e.type,t!==null&&e.stateNode!=null)HN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return $t(e),null}if(t=co(yr.current),_c(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[hr]=e,r[Gl]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<dl.length;i++)He(dl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":_b(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":Eb(r,o),He("invalid",r)}ag(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&wc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wc(r.textContent,s,t),i=["children",""+s]):Rl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":hc(r),Sb(r,o,!0);break;case"textarea":hc(r),Tb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hr]=e,t[Gl]=r,GN(t,e,!1,!1),e.stateNode=t;e:{switch(a=sg(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<dl.length;i++)He(dl[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":_b(t,r),i=tg(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":Eb(t,r),i=ig(t,r),He("invalid",t);break;default:i=r}ag(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Sk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ml(t,l):typeof l=="number"&&Ml(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&Jv(t,o,l,a))}switch(n){case"input":hc(t),Sb(t,r,!1);break;case"textarea":hc(t),Tb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ii(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Na(t,!!r.multiple,o,!1):r.defaultValue!=null&&Na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)zN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=co(zl.current),co(yr.current),_c(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(o=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return $t(e),null;case 13:if(Ke(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&xn!==null&&e.mode&1&&!(e.flags&128))cN(),Va(),e.flags|=98560,o=!1;else if(o=_c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[hr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else Zn!==null&&(Bg(Zn),Zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?bt===0&&(bt=3):I0())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Ha(),Og(t,e),t===null&&ql(e.stateNode.containerInfo),$t(e),null;case 10:return p0(e.type._context),$t(e),null;case 17:return on(e.type)&&wd(),$t(e),null;case 19:if(Ke(Ze),o=e.memoizedState,o===null)return $t(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ks(o,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nd(t),a!==null){for(e.flags|=128,Ks(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>Wa&&(e.flags|=128,r=!0,Ks(o,!1),e.lanes=4194304)}else{if(!r)if(t=Nd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ks(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ye)return $t(e),null}else 2*st()-o.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,Ks(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return P0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function QM(t,e){switch(c0(e),e.tag){case 1:return on(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(),Ke(rn),Ke(Bt),x0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v0(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return Ha(),null;case 10:return p0(e.type._context),null;case 22:case 23:return P0(),null;case 24:return null;default:return null}}var Tc=!1,Lt=!1,ZM=typeof WeakSet=="function"?WeakSet:Set,se=null;function va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Rg(t,e,n){try{n()}catch(r){rt(t,e,r)}}var pw=!1;function e$(t,e){if(yg=yd,t=Xk(),l0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vg={focusedElem:t,selectionRange:n},yd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wn(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(E){rt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=pw,pw=!1,v}function wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rg(e,n,o)}i=i.next}while(i!==r)}}function yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WN(t){var e=t.alternate;e!==null&&(t.alternate=null,WN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Gl],delete e[wg],delete e[$M],delete e[DM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KN(t){return t.tag===5||t.tag===3||t.tag===4}function mw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bd));else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}var jt=null,Jn=!1;function li(t,e,n){for(n=n.child;n!==null;)JN(t,e,n),n=n.sibling}function JN(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Lt||va(n,e);case 6:var r=jt,i=Jn;jt=null,li(t,e,n),jt=r,Jn=i,jt!==null&&(Jn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Jn?(t=jt,n=n.stateNode,t.nodeType===8?Xp(t.parentNode,n):t.nodeType===1&&Xp(t,n),Ul(t)):Xp(jt,n.stateNode));break;case 4:r=jt,i=Jn,jt=n.stateNode.containerInfo,Jn=!0,li(t,e,n),jt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rg(n,e,a),i=i.next}while(i!==r)}li(t,e,n);break;case 1:if(!Lt&&(va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){rt(n,e,s)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,li(t,e,n),Lt=r):li(t,e,n);break;default:li(t,e,n)}}function gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZM),e.forEach(function(r){var i=u$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:jt=s.stateNode,Jn=!1;break e;case 3:jt=s.stateNode.containerInfo,Jn=!0;break e;case 4:jt=s.stateNode.containerInfo,Jn=!0;break e}s=s.return}if(jt===null)throw Error(J(160));JN(o,a,i),jt=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YN(e,t),e=e.sibling}function YN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),dr(t),r&4){try{wl(3,t,t.return),yh(3,t)}catch(y){rt(t,t.return,y)}try{wl(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:Gn(e,t),dr(t),r&512&&n!==null&&va(n,n.return);break;case 5:if(Gn(e,t),dr(t),r&512&&n!==null&&va(n,n.return),t.flags&32){var i=t.stateNode;try{Ml(i,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&vk(i,o),sg(s,a);var u=sg(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Sk(i,f):d==="dangerouslySetInnerHTML"?wk(i,f):d==="children"?Ml(i,f):Jv(i,d,f,u)}switch(s){case"input":ng(i,o);break;case"textarea":xk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Na(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Na(i,!!o.multiple,o.defaultValue,!0):Na(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gl]=o}catch(y){rt(t,t.return,y)}}break;case 6:if(Gn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){rt(t,t.return,y)}}break;case 3:if(Gn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:Gn(e,t),dr(t);break;case 13:Gn(e,t),dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N0=st())),r&4&&gw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||d,Gn(e,t),Lt=u):Gn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,g=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:va(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:va(h,h.return);break;case 22:if(h.memoizedState!==null){vw(f);continue}}g!==null?(g.return=h,se=g):vw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=_k("display",a))}catch(y){rt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(e,t),dr(t),r&4&&gw(t);break;case 21:break;default:Gn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ml(i,""),r.flags&=-33);var o=mw(t);Dg(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=mw(t);$g(t,s,a);break;default:throw Error(J(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t$(t,e,n){se=t,XN(t)}function XN(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Tc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Lt;s=Tc;var u=Lt;if(Tc=a,(Lt=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?xw(i):l!==null?(l.return=a,se=l):xw(i);for(;o!==null;)se=o,XN(o),o=o.sibling;se=i,Tc=s,Lt=u}yw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):yw(t)}}function yw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Lt||e.flags&512&&Mg(e)}catch(h){rt(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function vw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function xw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var o=e.return;try{Mg(e)}catch(l){rt(e,o,l)}break;case 5:var a=e.return;try{Mg(e)}catch(l){rt(e,a,l)}}}catch(l){rt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var n$=Math.ceil,Id=ei.ReactCurrentDispatcher,A0=ei.ReactCurrentOwner,Mn=ei.ReactCurrentBatchConfig,Ne=0,At=null,ft=null,Ot=0,fn=0,xa=$i(0),bt=0,Yl=null,Ao=0,vh=0,k0=0,_l=null,Qt=null,N0=0,Wa=1/0,jr=null,jd=!1,Lg=null,ki=null,Ac=!1,vi=null,Od=0,Sl=0,Ug=null,ad=-1,sd=0;function Wt(){return Ne&6?st():ad!==-1?ad:ad=st()}function Ni(t){return t.mode&1?Ne&2&&Ot!==0?Ot&-Ot:UM.transition!==null?(sd===0&&(sd=Mk()),sd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:qk(t.type)),t):1}function rr(t,e,n,r){if(50<Sl)throw Sl=0,Ug=null,Error(J(185));Hu(t,n,r),(!(Ne&2)||t!==At)&&(t===At&&(!(Ne&2)&&(vh|=n),bt===4&&pi(t,Ot)),an(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Wa=st()+500,ph&&Di()))}function an(t,e){var n=t.callbackNode;UR(t,e);var r=gd(t,t===At?Ot:0);if(r===0)n!==null&&Nb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nb(n),e===1)t.tag===0?LM(bw.bind(null,t)):sN(bw.bind(null,t)),RM(function(){!(Ne&6)&&Di()}),n=null;else{switch($k(r)){case 1:n=e0;break;case 4:n=Ok;break;case 16:n=md;break;case 536870912:n=Rk;break;default:n=md}n=oC(n,QN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QN(t,e){if(ad=-1,sd=0,Ne&6)throw Error(J(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=gd(t,t===At?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var i=Ne;Ne|=2;var o=eC();(At!==t||Ot!==e)&&(jr=null,Wa=st()+500,yo(t,e));do try{o$();break}catch(s){ZN(t,s)}while(!0);h0(),Id.current=o,Ne=i,ft!==null?e=0:(At=null,Ot=0,e=bt)}if(e!==0){if(e===2&&(i=fg(t),i!==0&&(r=i,e=Fg(t,i))),e===1)throw n=Yl,yo(t,0),pi(t,r),an(t,st()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!r$(i)&&(e=Rd(t,r),e===2&&(o=fg(t),o!==0&&(r=o,e=Fg(t,o))),e===1))throw n=Yl,yo(t,0),pi(t,r),an(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Zi(t,Qt,jr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=N0+500-st(),10<e)){if(gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bg(Zi.bind(null,t,Qt,jr),e);break}Zi(t,Qt,jr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-nr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n$(r/1960))-r,10<r){t.timeoutHandle=bg(Zi.bind(null,t,Qt,jr),r);break}Zi(t,Qt,jr);break;case 5:Zi(t,Qt,jr);break;default:throw Error(J(329))}}}return an(t,st()),t.callbackNode===n?QN.bind(null,t):null}function Fg(t,e){var n=_l;return t.current.memoizedState.isDehydrated&&(yo(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Bg(e)),t}function Bg(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function r$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~k0,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function bw(t){if(Ne&6)throw Error(J(327));Oa();var e=gd(t,0);if(!(e&1))return an(t,st()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=fg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=Yl,yo(t,0),pi(t,e),an(t,st()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,Qt,jr),an(t,st()),null}function C0(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Wa=st()+500,ph&&Di())}}function ko(t){vi!==null&&vi.tag===0&&!(Ne&6)&&Oa();var e=Ne;Ne|=1;var n=Mn.transition,r=Me;try{if(Mn.transition=null,Me=1,t)return t()}finally{Me=r,Mn.transition=n,Ne=e,!(Ne&6)&&Di()}}function P0(){fn=xa.current,Ke(xa)}function yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OM(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(c0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:Ha(),Ke(rn),Ke(Bt),x0();break;case 5:v0(r);break;case 4:Ha();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:p0(r.type._context);break;case 22:case 23:P0()}n=n.return}if(At=t,ft=t=Ci(t.current,null),Ot=fn=e,bt=0,Yl=null,k0=vh=Ao=0,Qt=_l=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}uo=null}return t}function ZN(t,e){do{var n=ft;try{if(h0(),rd.current=Pd,Cd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(To=0,Et=vt=et=null,bl=!1,Wl=0,A0.current=null,n===null||n.return===null){bt=1,Yl=e,ft=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ot,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=sw(a);if(g!==null){g.flags&=-257,lw(g,a,s,o,e),g.mode&1&&aw(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){aw(o,u,e),I0();break e}l=Error(J(426))}}else if(Ye&&s.mode&1){var b=sw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lw(b,a,s,o,e),d0(za(l,s));break e}}o=l=za(l,s),bt!==4&&(bt=2),_l===null?_l=[o]:_l.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=$N(o,l,e);ew(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ki===null||!ki.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=DN(o,s,e);ew(o,E);break e}}o=o.return}while(o!==null)}nC(n)}catch(S){e=S,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function eC(){var t=Id.current;return Id.current=Pd,t===null?Pd:t}function I0(){(bt===0||bt===3||bt===2)&&(bt=4),At===null||!(Ao&268435455)&&!(vh&268435455)||pi(At,Ot)}function Rd(t,e){var n=Ne;Ne|=2;var r=eC();(At!==t||Ot!==e)&&(jr=null,yo(t,e));do try{i$();break}catch(i){ZN(t,i)}while(!0);if(h0(),Ne=n,Id.current=r,ft!==null)throw Error(J(261));return At=null,Ot=0,bt}function i$(){for(;ft!==null;)tC(ft)}function o$(){for(;ft!==null&&!PR();)tC(ft)}function tC(t){var e=iC(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?nC(t):ft=e,A0.current=null}function nC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QM(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,ft=null;return}}else if(n=XM(n,e,fn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);bt===0&&(bt=5)}function Zi(t,e,n){var r=Me,i=Mn.transition;try{Mn.transition=null,Me=1,a$(t,e,n,r)}finally{Mn.transition=i,Me=r}return null}function a$(t,e,n,r){do Oa();while(vi!==null);if(Ne&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FR(t,o),t===At&&(ft=At=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ac||(Ac=!0,oC(md,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Mn.transition,Mn.transition=null;var a=Me;Me=1;var s=Ne;Ne|=4,A0.current=null,e$(t,n),YN(n,t),AM(vg),yd=!!yg,vg=yg=null,t.current=n,t$(n),IR(),Ne=s,Me=a,Mn.transition=o}else t.current=n;if(Ac&&(Ac=!1,vi=t,Od=i),o=t.pendingLanes,o===0&&(ki=null),RR(n.stateNode),an(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jd)throw jd=!1,t=Lg,Lg=null,t;return Od&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===Ug?Sl++:(Sl=0,Ug=t):Sl=0,Di(),null}function Oa(){if(vi!==null){var t=$k(Od),e=Mn.transition,n=Me;try{if(Mn.transition=null,Me=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,Od=0,Ne&6)throw Error(J(331));var i=Ne;for(Ne|=4,se=t.current;se!==null;){var o=se,a=o.child;if(se.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:wl(8,d,o)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,g=d.return;if(WN(d),d===u){se=null;break}if(h!==null){h.return=g,se=h;break}se=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,se=a;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,se=x;break e}se=o.return}}var w=t.current;for(se=w;se!==null;){a=se;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,se=_;else e:for(a=w;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yh(9,s)}}catch(S){rt(s,s.return,S)}if(s===a){se=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,se=E;break e}se=s.return}}if(Ne=i,Di(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{Me=n,Mn.transition=e}}return!1}function ww(t,e,n){e=za(n,e),e=$N(t,e,1),t=Ai(t,e,1),e=Wt(),t!==null&&(Hu(t,1,e),an(t,e))}function rt(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=za(n,t),t=DN(e,t,1),e=Ai(e,t,1),t=Wt(),e!==null&&(Hu(e,1,t),an(e,t));break}}e=e.return}}function s$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Ot&n)===n&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>st()-N0?yo(t,0):k0|=n),an(t,e)}function rC(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=Wt();t=Kr(t,e),t!==null&&(Hu(t,e,n),an(t,n))}function l$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rC(t,n)}function u$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),rC(t,n)}var iC;iC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,YM(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Ye&&e.flags&1048576&&lN(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;od(t,e),t=e.pendingProps;var i=qa(e,Bt.current);ja(e,n),i=w0(null,e,r,t,i,n);var o=_0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(o=!0,_d(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g0(e),i.updater=gh,e.stateNode=i,i._reactInternals=e,kg(e,r,t,n),e=Pg(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&u0(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d$(r),t=Wn(r,t),i){case 0:e=Cg(null,e,r,t,n);break e;case 1:e=dw(null,e,r,t,n);break e;case 11:e=uw(null,e,r,t,n);break e;case 14:e=cw(null,e,r,Wn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Cg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),dw(t,e,r,i,n);case 3:e:{if(BN(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pN(t,e),kd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=za(Error(J(423)),e),e=fw(t,e,r,n,i);break e}else if(r!==i){i=za(Error(J(424)),e),e=fw(t,e,r,n,i);break e}else for(xn=Ti(e.stateNode.containerInfo.firstChild),bn=e,Ye=!0,Zn=null,n=fN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===i){e=Jr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return mN(e),t===null&&Eg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,xg(r,i)?a=null:o!==null&&xg(r,o)&&(e.flags|=32),FN(t,e),Vt(t,e,a,n),e.child;case 6:return t===null&&Eg(e),null;case 13:return qN(t,e,n);case 4:return y0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),uw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ve(Td,r._currentValue),r._currentValue=a,o!==null)if(sr(o.value,a)){if(o.children===i.children&&!rn.current){e=Jr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=qr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tg(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Tg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ja(e,n),i=Dn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),cw(t,e,r,i,n);case 15:return LN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),od(t,e),e.tag=1,on(r)?(t=!0,_d(e)):t=!1,ja(e,n),MN(e,r,i),kg(e,r,i,n),Pg(null,e,r,!0,t,n);case 19:return VN(t,e,n);case 22:return UN(t,e,n)}throw Error(J(156,e.tag))};function oC(t,e){return jk(t,e)}function c$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new c$(t,e,n,r)}function j0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d$(t){if(typeof t=="function")return j0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xv)return 11;if(t===Qv)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ld(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")j0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ua:return vo(n.children,i,o,e);case Yv:a=8,i|=8;break;case Xm:return t=jn(12,n,e,i|2),t.elementType=Xm,t.lanes=o,t;case Qm:return t=jn(13,n,e,i),t.elementType=Qm,t.lanes=o,t;case Zm:return t=jn(19,n,e,i),t.elementType=Zm,t.lanes=o,t;case mk:return xh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hk:a=10;break e;case pk:a=9;break e;case Xv:a=11;break e;case Qv:a=14;break e;case ui:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=jn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function vo(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function xh(t,e,n,r){return t=jn(22,t,r,e),t.elementType=mk,t.lanes=n,t.stateNode={isHidden:!1},t}function om(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function am(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fp(0),this.expirationTimes=Fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O0(t,e,n,r,i,o,a,s,l){return t=new f$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g0(o),t}function h$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aC(t){if(!t)return ji;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(on(n))return aN(t,n,e)}return e}function sC(t,e,n,r,i,o,a,s,l){return t=O0(n,r,!0,t,i,o,a,s,l),t.context=aC(null),n=t.current,r=Wt(),i=Ni(n),o=qr(r,i),o.callback=e??null,Ai(n,o,i),t.current.lanes=i,Hu(t,i,r),an(t,r),t}function bh(t,e,n,r){var i=e.current,o=Wt(),a=Ni(i);return n=aC(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,a),t!==null&&(rr(t,i,a,o),nd(t,i,a)),a}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R0(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function p$(){return null}var lC=typeof reportError=="function"?reportError:function(t){console.error(t)};function M0(t){this._internalRoot=t}wh.prototype.render=M0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));bh(t,e,null,null)};wh.prototype.unmount=M0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ko(function(){bh(null,t,null,null)}),e[Wr]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&Bk(t)}};function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function m$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Md(a);o.call(u)}}var a=sC(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=a,t[Wr]=a.current,ql(t.nodeType===8?t.parentNode:t),ko(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Md(l);s.call(u)}}var l=O0(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[Wr]=l.current,ql(t.nodeType===8?t.parentNode:t),ko(function(){bh(e,l,n,r)}),l}function Sh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Md(a);s.call(l)}}bh(e,a,t,i)}else a=m$(n,e,t,i,r);return Md(a)}Dk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(t0(e,n|1),an(e,st()),!(Ne&6)&&(Wa=st()+500,Di()))}break;case 13:ko(function(){var r=Kr(t,1);if(r!==null){var i=Wt();rr(r,t,1,i)}}),R0(t,1)}};n0=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Wt();rr(e,t,134217728,n)}R0(t,134217728)}};Lk=function(t){if(t.tag===13){var e=Ni(t),n=Kr(t,e);if(n!==null){var r=Wt();rr(n,t,e,r)}R0(t,e)}};Uk=function(){return Me};Fk=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};ug=function(t,e,n){switch(e){case"input":if(ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hh(r);if(!i)throw Error(J(90));yk(r),ng(r,i)}}}break;case"textarea":xk(t,n);break;case"select":e=n.value,e!=null&&Na(t,!!n.multiple,e,!1)}};Ak=C0;kk=ko;var g$={usingClientEntryPoint:!1,Events:[Wu,ha,hh,Ek,Tk,C0]},Js={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y$={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pk(t),t===null?null:t.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||p$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{uh=kc.inject(y$),gr=kc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g$;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(e))throw Error(J(200));return h$(t,e,null,n)};En.createRoot=function(t,e){if(!$0(t))throw Error(J(299));var n=!1,r="",i=lC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=O0(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,ql(t.nodeType===8?t.parentNode:t),new M0(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Pk(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ko(t)};En.hydrate=function(t,e,n){if(!_h(e))throw Error(J(200));return Sh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!$0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=lC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=sC(e,null,t,1,n??null,i,!1,o,a),t[Wr]=e.current,ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wh(e)};En.render=function(t,e,n){if(!_h(e))throw Error(J(200));return Sh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!_h(t))throw Error(J(40));return t._reactRootContainer?(ko(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};En.unstable_batchedUpdates=C0;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_h(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Sh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function uC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uC)}catch(t){console.error(t)}}uC(),uk.exports=En;var v$=uk.exports,Ew=v$;Jm.createRoot=Ew.createRoot,Jm.hydrateRoot=Ew.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const Tw="popstate";function x$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=$o(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),qg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:cC(o))}function r(i,o){Eh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return w$(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b$(){return Math.random().toString(36).substr(2,8)}function Aw(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$o(e):e,{state:n,key:e&&e.key||r||b$()})}function cC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=xi.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Xl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=xi.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:x})}function h(b,x){s=xi.Push;let w=qg(y.location,b,x);n&&n(w,b),u=d()+1;let _=Aw(w,u),E=y.createHref(w);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:s,location:y.location,delta:1})}function g(b,x){s=xi.Replace;let w=qg(y.location,b,x);n&&n(w,b),u=d();let _=Aw(w,u),E=y.createHref(w);a.replaceState(_,"",E),o&&l&&l({action:s,location:y.location,delta:0})}function v(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:cC(b);return w=w.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,f),l=b,()=>{i.removeEventListener(Tw,f),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(b){return a.go(b)}};return y}var kw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kw||(kw={}));function _$(t,e,n){return n===void 0&&(n="/"),S$(t,e,n)}function S$(t,e,n,r){let i=typeof e=="string"?$o(e):e,o=hC(i.pathname||"/",n);if(o==null)return null;let a=dC(t);E$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=$$(o);s=O$(a[l],u)}return s}function dC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dC(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:I$(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of fC(o.path))i(o,a,l)}),e}function fC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=fC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function E$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T$=/^:[\w-]+$/,A$=3,k$=2,N$=1,C$=10,P$=-2,Nw=t=>t==="*";function I$(t,e){let n=t.split("/"),r=n.length;return n.some(Nw)&&(r+=P$),e&&(r+=k$),n.filter(i=>!Nw(i)).reduce((i,o)=>i+(T$.test(o)?A$:o===""?N$:C$),r)}function j$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O$(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=R$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:xo([o,f.pathname]),pathnameBase:B$(xo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=xo([o,f.pathnameBase]))}return a}function R$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function M$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Eh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const D$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L$=t=>D$.test(t);function U$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$o(t):t,o;if(n)if(L$(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Eh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Cw(n.substring(1),"/"):o=Cw(n,e)}else o=e;return{pathname:o,search:q$(r),hash:V$(i)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pC(t,e){let n=F$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$o(t):(i=Xl({},t),ht(!i.pathname||!i.pathname.includes("?"),sm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),sm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),sm("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=U$(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),B$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gC=["post","put","patch","delete"];new Set(gC);const H$=["get",...gC];new Set(H$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}const D0=k.createContext(null),z$=k.createContext(null),Ju=k.createContext(null),Th=k.createContext(null),Do=k.createContext({outlet:null,matches:[],isDataRoute:!1}),yC=k.createContext(null);function Yu(){return k.useContext(Th)!=null}function Ah(){return Yu()||ht(!1),k.useContext(Th).location}function vC(t){k.useContext(Ju).static||k.useLayoutEffect(t)}function Es(){let{isDataRoute:t}=k.useContext(Do);return t?oD():W$()}function W$(){Yu()||ht(!1);let t=k.useContext(D0),{basename:e,future:n,navigator:r}=k.useContext(Ju),{matches:i}=k.useContext(Do),{pathname:o}=Ah(),a=JSON.stringify(pC(i,n.v7_relativeSplatPath)),s=k.useRef(!1);return vC(()=>{s.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=mC(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function K$(t,e){return J$(t,e)}function J$(t,e,n,r){Yu()||ht(!1);let{navigator:i}=k.useContext(Ju),{matches:o}=k.useContext(Do),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ah(),d;if(e){var f;let b=typeof e=="string"?$o(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||ht(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=_$(t,{pathname:g}),y=eD(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:xo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:xo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&y?k.createElement(Th.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xi.Pop}},y):y}function Y$(){let t=iD(),e=G$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const X$=k.createElement(Y$,null);class Q$ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Do.Provider,{value:this.props.routeContext},k.createElement(yC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z$(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(D0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Do.Provider,{value:e},r)}function eD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||ht(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,y=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||X$,l&&(u<0&&h===0?(aD("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return g?_=y:v?_=b:f.route.Component?_=k.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,k.createElement(Z$,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(Q$,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var xC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xC||{}),bC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bC||{});function tD(t){let e=k.useContext(D0);return e||ht(!1),e}function nD(t){let e=k.useContext(z$);return e||ht(!1),e}function rD(t){let e=k.useContext(Do);return e||ht(!1),e}function wC(t){let e=rD(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function iD(){var t;let e=k.useContext(yC),n=nD(),r=wC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oD(){let{router:t}=tD(xC.UseNavigateStable),e=wC(bC.UseNavigateStable),n=k.useRef(!1);return vC(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ql({fromRouteId:e},o)))},[t,e])}const Pw={};function aD(t,e,n){Pw[t]||(Pw[t]=!0)}function sD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ut(t){let{to:e,replace:n,state:r,relative:i}=t;Yu()||ht(!1);let{future:o,static:a}=k.useContext(Ju),{matches:s}=k.useContext(Do),{pathname:l}=Ah(),u=Es(),d=mC(e,pC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function at(t){ht(!1)}function lD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xi.Pop,navigator:o,static:a=!1,future:s}=t;Yu()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:o,static:a,future:Ql({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=$o(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,y=k.useMemo(()=>{let b=hC(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return y==null?null:k.createElement(Ju.Provider,{value:u},k.createElement(Th.Provider,{children:n,value:y}))}function uD(t){let{children:e,location:n}=t;return K$(Vg(e),n)}new Promise(()=>{});function Vg(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let o=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Vg(r.props.children,o));return}r.type!==at&&ht(!1),!r.props.index||!r.props.children||ht(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Vg(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cD="6";try{window.__reactRouterVersion=cD}catch{}const dD="startTransition",Iw=sR[dD];function fD(t){let{basename:e,children:n,future:r,window:i}=t,o=k.useRef();o.current==null&&(o.current=x$({window:i,v5Compat:!0}));let a=o.current,[s,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=k.useCallback(f=>{u&&Iw?Iw(()=>l(f)):l(f)},[l,u]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>sD(r),[r]),k.createElement(lD,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var jw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jw||(jw={}));var Ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ow||(Ow={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},d)=>k.createElement("svg",{ref:d,...hD,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${pD(t)}`,s].join(" "),...u},[...e.map(([f,h])=>k.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Z("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Z("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Z("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Z("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=Z("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Z("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Z("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Z("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=Z("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),XD="2.4.0",Uw=[{id:"dashboard",title:"",icon:gD,path:"/"},{id:"shiftreport",title:" ",icon:NC,path:"/shift-report"},{id:"reports",title:"",icon:OC,path:"/reports"},{id:"inbox",title:" ",icon:Bd,path:"/inbox"},{id:"messages",title:"",icon:IC,path:"/messages"},{id:"workorders",title:" ",icon:$C,path:"/work-orders"},{id:"projects",title:"",icon:Dd,path:"/projects"},{id:"performance",title:" ",icon:L0,path:"/performance"},{id:"partrequest",title:" ",icon:Vd,path:"/part-requests"},{id:"inspections",title:" ",icon:kC,path:"/inspections"},{id:"documents",title:" ",icon:$d,path:"/documents"},{id:"meetings",title:"",icon:Fd,path:"/meetings"},{id:"suggestions",title:" ",icon:qd,path:"/suggestions"},{id:"purchases",title:" ",icon:Wd,path:"/purchases"},{id:"workflow",title:" ",icon:CC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:Ka,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:q0,path:"/settings"}],QD=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],ZD=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],eL=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var h;const[o,a]=k.useState(!1),s=Es(),l=Ah();if(l.pathname==="/login")return c.jsx(c.Fragment,{children:t});const d=()=>{s(-1)},f=l.pathname==="/";return c.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),c.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:w-64 md:flex-shrink-0
      `,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400",children:""}),c.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:c.jsx(sn,{className:"w-6 h-6"})})]}),c.jsxs("div",{onClick:()=>{s("/settings"),a(!1)},className:"p-4 bg-gray-50 dark:bg-gray-700 flex items-center gap-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group relative",title:" ",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):c.jsx(V0,{})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:e==null?void 0:e.role})]}),c.jsx("div",{className:"absolute left-2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:Uw.map(g=>{if(g.id==="settings"||g.role&&(e==null?void 0:e.role)!==g.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const v=l.pathname===g.path;return c.jsxs("button",{onClick:()=>{s(g.path),a(!1)},className:`w-full flex items-center gap-3 px-6 py-3 text-right transition-colors
                    ${v?"bg-primary/10 text-primary dark:text-red-400 border-r-4 border-primary":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[c.jsx(g.icon,{className:"w-5 h-5"}),c.jsx("span",{children:g.title})]},g.id)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg mb-2",children:[r?c.jsx(HD,{className:"w-5 h-5"}):c.jsx(OD,{className:"w-5 h-5"}),c.jsx("span",{children:r?" ":" "})]}),c.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[c.jsx(PD,{className:"w-5 h-5"}),c.jsx("span",{children:""})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900",children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2",children:c.jsx(jD,{className:"w-6 h-6"})}),!f&&c.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(Nh,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-lg font-semibold",children:((h=Uw.find(g=>g.path===l.pathname))==null?void 0:h.title)||(l.pathname==="/settings"?"":"")})]}),c.jsx("div",{className:"flex items-center gap-2"})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6",children:t})]})]})};var tn=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(tn||{});const tL={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},nL=({className:t})=>{const e=()=>{try{return`${tL&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return c.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})};function Ih(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const iL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class G0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class oL extends G0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fw extends G0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bw extends G0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gg||(Gg={}));class aL{constructor(e,{headers:n={},customFetch:r,region:i=Gg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rL(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new oL(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new Fw(x);if(!x.ok)throw new Bw(x);let _=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield x.json():_==="application/octet-stream"||_==="application/pdf"?E=yield x.blob():_==="text/event-stream"?E=x:_==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof Bw||s instanceof Fw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var sL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},lL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new sL(a)}return{error:a,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,d,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},uL=class extends lL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const qw=new RegExp("[,()]");var ia=class extends uL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&qw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&qw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},cL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ia({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new ia({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ia({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ia({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ia({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},dL=class DC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new DC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new ia({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class fL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hL="2.89.0",pL=`realtime-js/${hL}`,LC="1.0.0",mL="2.0.0",Vw=LC,Hg=1e4,gL=1e3,yL=100;var di;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(di||(di={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yn||(Yn={}));var zg;(function(t){t.websocket="websocket"})(zg||(zg={}));var oo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(oo||(oo={}));class vL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class UC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const Gw=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=xL(a,t,e,i),o),{}):{}},xL=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?FC(o,a):Wg(a)},FC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return SL(e,n)}switch(t){case Fe.bool:return bL(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return wL(e);case Fe.json:case Fe.jsonb:return _L(e);case Fe.timestamp:return EL(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Wg(e);default:return Wg(e)}},Wg=t=>t,bL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_L=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},SL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>FC(e,s))}return t},EL=t=>typeof t=="string"?t.replace(" ","T"):t,BC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class um{constructor(e,n,r={},i=Hg){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hw||(Hw={}));class Tl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Tl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Tl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zw||(zw={}));var Al;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Al||(Al={}));var Or;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));class ba{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new um(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new UC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Tl(this),this.broadcastEndpointURL=BC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Al.PRESENCE]&&this.bindings[Al.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Or.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Or.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<b;w++){const _=y[w],{filter:{event:E,schema:S,table:T,filter:A}}=_,N=g&&g[w];if(N&&N.event===E&&ba.isFilterValueEqual(N.schema,S)&&ba.isFilterValueEqual(N.table,T)&&ba.isFilterValueEqual(N.filter,A))x.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Or.SUBSCRIBED);return}}).receive("error",g=>{this.state=yt.errored,e==null||e(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===yt.joined&&e===Al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new um(this,Yn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new um(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Yn;if(r&&[s,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,b,x,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:x,type:w,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ba.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yn.close,{},e)}_onError(e){this._on(Yn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gw(e.columns,e.old_record)),n}}const cm=()=>{},Nc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TL=[1e3,2e3,5e3,1e4],AL=1e4,kL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hg,this.transport=null,this.heartbeatIntervalMs=Nc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cm,this.ref=0,this.reconnectTimer=null,this.vsn=Vw,this.logger=cm,this.conn=null,this.sendBuffer=[],this.serializer=new vL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zg.websocket}`,this.httpEndpoint=BC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return oo.Connecting;case di.open:return oo.Open;case di.closing:return oo.Closing;default:return oo.Closed}}isConnected(){return this.connectionState()===oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ba(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===di.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===di.open||this.conn.readyState===di.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([kL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:pL};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new UC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,d,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Hg,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Nc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:cm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Vw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>TL[v-1]||AL,this.vsn){case LC:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case mL:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Zl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CL(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function PL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function IL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=CL(t.baseUrl,r,i),l=await PL(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new Zl((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Cc(t){return t.join("")}var jL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Cc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`}),!0}catch(e){if(e instanceof Zl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Zl&&n.status===409)return;throw n}}};function Ko(t){return t.join("")}var OL=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ko(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Zl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Zl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},RL=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=IL({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new jL(this.client,e),this.tableOps=new OL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},jh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ML=class extends jh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kg=class extends jh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const H0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$L=()=>Response,Jg=t=>{if(Array.isArray(t))return t.map(n=>Jg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Jg(r)}),e},DL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},LL=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function UL(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FL(t){var e=UL(t,"string");return eu(e)=="symbol"?e:e+""}function BL(t,e,n){return(e=FL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ww(Object(n),!0).forEach(function(r){BL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const dm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},qL=async(t,e,n)=>{t instanceof await $L()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new ML(dm(r),i,o))}).catch(r=>{e(new Kg(dm(r),r))}):e(new Kg(dm(t),t))},VL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(DL(r)?(i.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),me(me({},i),n))};async function Xu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,VL(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>qL(l,s,r))})}async function tu(t,e,n,r){return Xu(t,"GET",e,n,r)}async function Kn(t,e,n,r,i){return Xu(t,"POST",e,r,i,n)}async function Yg(t,e,n,r,i){return Xu(t,"PUT",e,r,i,n)}async function GL(t,e,n,r){return Xu(t,"HEAD",e,me(me({},n),{},{noResolveJson:!0}),r)}async function z0(t,e,n,r,i){return Xu(t,"DELETE",e,r,i,n)}var HL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let qC;qC=Symbol.toStringTag;var zL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[qC]="BlobDownloadBuilder",this.promise=null}asStream(){return new HL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const WL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var KL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=H0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=me(me({},Kw),r);let s=me(me({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=me(me({},s),r.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?Yg:Kn)(i.fetch,`${i.url}/object/${d}`,o,me({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=me({upsert:Kw.upsert},r),d=me(me({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await Yg(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=me({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Kn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new jh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Kn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Kn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Kn(r.fetch,`${r.url}/object/sign/${i}`,me({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Kn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>me(me({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>tu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new zL(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Jg(await tu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await GL(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof Kg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await z0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=me(me(me({},WL),e),{},{prefix:t||""});return{data:await Kn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=me({},t);return{data:await Kn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const VC="2.89.0",GC={"X-Client-Info":`storage-js/${VC}`};var JL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=me(me({},GC),e),this.fetch=H0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await tu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Kn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Yg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await z0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},YL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},GC),e),this.fetch=H0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await tu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await z0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!LL(t))throw new jh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new RL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const W0={"X-Client-Info":`storage-js/${VC}`,"Content-Type":"application/json"};var HC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var fm=class extends HC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},XL=class extends HC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const K0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ZL=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new fm(Jw(o),r,a))}).catch(()=>{const o=r+"";e(new fm(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new fm(i.statusText||`HTTP ${r} error`,r,o))}}else e(new XL(Jw(t),t))},eU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(QL(r)?(i.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,me(me({},i),n)):i};async function tU(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,eU(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>ZL(l,s,r))})}async function yn(t,e,n,r,i){return tU(t,"POST",e,r,i,n)}var nU=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},W0),e),this.fetch=K0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await yn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await yn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}},rU=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},W0),e),this.fetch=K0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await yn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},iU=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},W0),e),this.fetch=K0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await yn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},oU=class extends iU{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new aU(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},aU=class extends nU{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new sU(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},sU=class extends rU{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},lU=class extends JL{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new KL(this.url,this.headers,t,this.fetch)}get vectors(){return new oU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YL(this.url+"/iceberg",this.headers,this.fetch)}};const zC="2.89.0",oa=30*1e3,Xg=3,hm=Xg*oa,uU="http://localhost:9999",cU="supabase.auth.token",dU={"X-Client-Info":`gotrue-js/${zC}`},Qg="X-Supabase-Api-Version",WC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hU=10*60*1e3;class nu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pU extends nu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mU(t){return ce(t)&&t.name==="AuthApiError"}class ao extends nu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ti extends nu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class un extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gU(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Jo extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pc extends ti{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends ti{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yU(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yw extends ti{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vU extends ti{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zg extends ti{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pm(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class Xw extends ti{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ey extends ti{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qw=` 	
\r=`.split(""),xU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qw.length;e+=1)t[Qw[e].charCodeAt(0)]=-2;for(let e=0;e<Jd.length;e+=1)t[Jd[e].charCodeAt(0)]=e;return t})();function Zw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jd[r]),e.queuedBits-=6}}function KC(t,e,n){const r=xU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function e_(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{_U(a,r,n)};for(let a=0;a<t.length;a+=1)KC(t.charCodeAt(a),i,o);return e.join("")}function bU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}bU(r,e)}}function _U(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ra(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)KC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function SU(t){const e=[];return wU(t,n=>e.push(n)),new Uint8Array(e)}function fo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Zw(i,n,r)),Zw(null,n,r),e.join("")}function EU(t){return Math.round(Date.now()/1e3)+t}function TU(){return Symbol("auth-callback")}const Pt=()=>typeof window<"u"&&typeof document<"u",Wi={tested:!1,writable:!1},JC=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wi.tested)return Wi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wi.tested=!0,Wi.writable=!0}catch{Wi.tested=!0,Wi.writable=!1}return Wi.writable};function AU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const YC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",aa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ki=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(t,e)=>{await t.removeItem(e)};class Oh{constructor(){this.promise=new Oh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Oh.promiseConstructor=Promise;function mm(t){const e=t.split(".");if(e.length!==3)throw new ey("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!fU.test(e[r]))throw new ey("JWT not in base64url format");return{header:JSON.parse(e_(e[0])),payload:JSON.parse(e_(e[1])),signature:Ra(e[2]),raw:{header:e[0],payload:e[1]}}}async function NU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function CU(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function PU(t){return("0"+t.toString(16)).substr(-2)}function IU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,PU).join("")}async function jU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function OU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(t,e,n=!1){const r=IU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await aa(t,`${e}-code-verifier`,i);const o=await OU(r);return[o,r===o?"plain":"s256"]}const RU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MU(t){const e=t.headers.get(Qg);if(!e||!e.match(RU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $U(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(t){if(!LU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UU(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function t_(t){return JSON.parse(JSON.stringify(t))}const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FU=[502,503,504];async function n_(t){var e;if(!kU(t))throw new Zg(eo(t),0);if(FU.includes(t.status))throw new Zg(eo(t),t.status);let n;try{n=await t.json()}catch(o){throw new ao(eo(o),o)}let r;const i=MU(t);if(i&&i.getTime()>=WC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xw(eo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Xw(eo(n),t.status,n.weak_password.reasons);throw new pU(eo(n),t.status||500,r)}const BU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function pe(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Qg]||(o[Qg]=WC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await qU(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qU(t,e,n,r,i,o){const a=BU(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Zg(eo(l),0)}if(s.ok||await n_(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await n_(l)}}function zn(t){var e;let n=null;HU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=EU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function r_(t){const e=zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VU(t){return{data:t,error:null}}function GU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function i_(t){return t}function HU(t){return t.access_token&&t.refresh_token&&t.expires_in}const ym=["global","local","others"];class zU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=YC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ym[0]){if(ym.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ym.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mi})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ih(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:GU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mi})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:i_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Xo(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mi})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xo(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:mi})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Xo(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:mi})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Xo(e.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xo(e.userId),Xo(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:i_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function o_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Qo={debug:!!(globalThis&&JC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WU extends XC{}async function KU(t,e,n){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function JU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function QC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function YU(t){return parseInt(t,16)}function XU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function QU(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=QC(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}x+=w}return`${b}
${x}`}class dt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Yd extends dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ZU({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ZC(a)){if(o.rp.id!==a)return new dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function e4({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ZC(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class t4{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const n4=new t4;function r4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ih(t,["challenge","user","excludeCredentials"]),o=Ra(e).buffer,a=Object.assign(Object.assign({},n),{id:Ra(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ra(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function i4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ih(t,["challenge","allowCredentials"]),i=Ra(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ra(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function o4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:fo(new Uint8Array(t.response.attestationObject)),clientDataJSON:fo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fo(new Uint8Array(i.authenticatorData)),clientDataJSON:fo(new Uint8Array(i.clientDataJSON)),signature:fo(new Uint8Array(i.signature)),userHandle:i.userHandle?fo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ZC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function a_(){var t,e;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function s4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:ZU({error:e,options:t})}}}async function l4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:e4({error:e,options:t})}}}const u4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},c4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Xd(s,a):r[o]=Xd(a)}else r[o]=a}return r}function d4(t,e){return Xd(u4,t,e||{})}function f4(t,e){return Xd(c4,t,e||{})}class h4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??n4.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=d4(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await s4({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=f4(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await l4(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nu("rpId is required for WebAuthn authentication")};try{if(!a_())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nu("rpId is required for WebAuthn registration")};try{if(!a_())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in register",a)}}}}JU();const p4={url:uU,storageKey:cU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function s_(t,e,n){return await n()}const Zo={};class ru{get jwks(){var e,n;return(n=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},p4),e);if(this.storageKey=o.storageKey,this.instanceID=(n=ru.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ru.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Pt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zU({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=YC(o.fetch),this.lock=o.lock||s_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KU:this.lock=s_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:JC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=o_(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Pt()&&(n=AU(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Pt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yU(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new ao("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:zn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Yo(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:zn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zn})}else throw new Pc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:r_})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:r_})}else throw new Pc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Jo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,d,f,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let _;if(Pt())if(typeof b=="object")_=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=QC(S[0]);let A=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await _.request({method:"eth_chainId"});A=YU(C)}const N={domain:E.host,address:T,statement:x,uri:E.href,version:"1",chainId:A,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=QU(N),v=await _.request({method:"personal_sign",params:[XU(g),T]})}try{const{data:y,error:b}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zn});if(b)throw b;if(!y||!y.session||!y.user){const x=new Jo;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,d,f,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:x,statement:w,options:_}=e;let E;if(Pt())if(typeof x=="object")E=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let A;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")A=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)A=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:b,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fo(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:zn});if(x)throw x;if(!b||!b.session||!b.user){const w=new Jo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ce(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new vU;const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:zn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Jo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yo(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Pc("You must provide either an email or phone number.")}catch(s){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:zn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Yo(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:VU});return!((o=u.data)===null||o===void 0)&&o.url&&Pt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new un;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Pc("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ki(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=gm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=UU(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mi}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:mi})})}catch(n){if(ce(n))return gU(n)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new un;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Yo(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:mi});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new un;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=mm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new un;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Pt())throw new Ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yw("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=oa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(mU(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=TU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Yo(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Pt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:d}=e,f=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Jo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await CU(async i=>(i>0&&await NU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&pm(o)&&Date.now()+a-r<oa})}catch(r){if(this._debug(n,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Pt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ki(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await aa(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:gm()}else if(i&&!i.user&&!i.user){const a=await Ki(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ct(this.storage,this.storageKey+"-user"),await aa(this.storage,this.storageKey,i)):i.user=gm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${hm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),pm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Oh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new un;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ce(o)){const a={data:null,error:o};return pm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await aa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=t_(i);await aa(this.storage,this.storageKey,o)}else{const i=t_(n);await aa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/oa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${oa}ms, refresh threshold is ${Xg} ticks`),i<=Xg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof XC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Yo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?o4(e.webauthn.credential_response):a4(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:r4(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:i4(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mm(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new un})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new un});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new un});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+hU>i)return r;const{data:o,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=mm(r);n!=null&&n.allowExpired||$U(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=DU(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,SU(`${s}.${l}`)))throw new ey("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}ru.nextInstanceID={};const m4=ru,g4="2.89.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const y4={"X-Client-Info":`supabase-js-${fl}/${g4}`},v4={headers:y4},x4={schema:"public"},b4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w4={};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function _4(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4(t){var e=_4(t,"string");return iu(e)=="symbol"?e:e+""}function E4(t,e,n){return(e=S4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){E4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const T4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A4=()=>Headers,k4=(t,e,n)=>{const r=T4(n),i=A4();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,nt(nt({},a),{},{headers:u}))}};function N4(t){return t.endsWith("/")?t:t+"/"}function C4(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:nt(nt({},l),i),auth:nt(nt({},u),o),realtime:nt(nt({},d),a),storage:{},global:nt(nt(nt({},f),s),{},{headers:nt(nt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function P4(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var I4=class extends m4{constructor(t){super(t)}},j4=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=P4(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:x4,realtime:w4,auth:nt(nt({},b4),{},{storageKey:a}),global:v4},l=C4(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=k4(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new dL(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new lU(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new aL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I4({url:this.authUrl.href,headers:nt(nt({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new NL(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const O4=(t,e,n)=>new j4(t,e,n);function R4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}R4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},M4="https://krgznynrljnvxwhvsdxj.supabase.co",$4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function eP(t){try{if(typeof import.meta<"u"&&import.meta&&u_)return u_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const D4=eP("VITE_SUPABASE_URL"),L4=eP("VITE_SUPABASE_ANON_KEY"),tP=D4||M4,U4=L4||$4;tP.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const er=O4(tP,U4),c_=`--      SQL Editor  Supabase  

-- 1.   (  )
create table if not exists locations (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  parent_id uuid references locations(id),
  created_at timestamptz default now()
);

create table if not exists measurement_units (
  id uuid default gen_random_uuid() primary key,
  title text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_classes (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_groups (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  class_id uuid references equipment_classes(id),
  created_at timestamptz default now()
);

create table if not exists part_categories (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  parent_id uuid references part_categories(id),
  level_type text,
  created_at timestamptz default now()
);

create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  first_name text,
  last_name text,
  unit text,
  mobile text,
  email text, -- Added Email
  profile_picture text,
  created_at timestamptz default now()
);

-- 2.   (  )
create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

create table if not exists parts (
  id uuid default gen_random_uuid() primary key,
  code text,
  name text not null,
  category_id uuid references part_categories(id),
  stock_unit_id uuid references measurement_units(id),
  consumption_unit_id uuid references measurement_units(id),
  created_at timestamptz default now()
);

create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 3.   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

-- 4.  RLS  
alter table locations enable row level security; create policy "Allow all" on locations for all using (true) with check (true);
alter table measurement_units enable row level security; create policy "Allow all" on measurement_units for all using (true) with check (true);
alter table equipment_classes enable row level security; create policy "Allow all" on equipment_classes for all using (true) with check (true);
alter table equipment_groups enable row level security; create policy "Allow all" on equipment_groups for all using (true) with check (true);
alter table part_categories enable row level security; create policy "Allow all" on part_categories for all using (true) with check (true);
alter table personnel enable row level security; create policy "Allow all" on personnel for all using (true) with check (true);
alter table app_users enable row level security; create policy "Allow all" on app_users for all using (true) with check (true);
alter table equipment enable row level security; create policy "Allow all" on equipment for all using (true) with check (true);
alter table equipment_local_names enable row level security; create policy "Allow all" on equipment_local_names for all using (true) with check (true);
alter table parts enable row level security; create policy "Allow all" on parts for all using (true) with check (true);
alter table cartable_items enable row level security; create policy "Allow all" on cartable_items for all using (true) with check (true);
alter table user_groups enable row level security; create policy "Allow all" on user_groups for all using (true) with check (true);
alter table org_chart enable row level security; create policy "Allow all" on org_chart for all using (true) with check (true);
alter table evaluation_periods enable row level security; create policy "Allow all" on evaluation_periods for all using (true) with check (true);
alter table evaluation_criteria enable row level security; create policy "Allow all" on evaluation_criteria for all using (true) with check (true);
alter table equipment_tree enable row level security; create policy "Allow all" on equipment_tree for all using (true) with check (true);
alter table activity_cards enable row level security; create policy "Allow all" on activity_cards for all using (true) with check (true);
alter table checklist_items enable row level security; create policy "Allow all" on checklist_items for all using (true) with check (true);
alter table maintenance_plans enable row level security; create policy "Allow all" on maintenance_plans for all using (true) with check (true);

-- 5.    
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  new_code text;
  count_val integer;
begin
  select count(*) into count_val from cartable_items where tracking_code like prefix_input || '%';
  new_code := prefix_input || to_char(count_val + 1001, 'FM0000');
  return new_code;
end;
$$;

-- UPDATE:       (   )
alter table personnel add column if not exists email text;
`,F4=({onLogin:t})=>{const[e,n]=k.useState(""),[r,i]=k.useState(""),[o,a]=k.useState(""),[s,l]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState("checking"),[g,v]=k.useState(""),[y,b]=k.useState(!1),[x,w]=k.useState(!1);k.useEffect(()=>{_()},[]);const _=async()=>{h("checking");try{const{data:C,error:I}=await er.from("app_users").select("count",{count:"exact",head:!0});if(I)throw I;h("connected"),v("    ")}catch(C){console.error("Supabase Connection Error:",C),h("error");let I="   ";if(typeof C=="string")I=C;else if(C!=null&&C.code)C.code==="42P01"?I="   ":C.code==="PGRST301"?I="     (RLS)":I=` : ${C.code} - ${C.message||""}`;else try{const O=JSON.stringify(C);O==="{}"||O==='{"message":""}'?I="   ":C.message&&C.message.includes("fetch")?I="   (  VPN   )":C.message&&C.message.includes("jw")?I=" API  ":C.message?I=C.message:I="  (  )"}catch{I=" "}v(I)}},E=()=>{navigator.clipboard.writeText(c_),w(!0),setTimeout(()=>w(!1),2e3)},S={id:"1",username:"admin",fullName:" ",role:tn.ADMIN,passwordHash:"admin",isDefaultPassword:!0},T=C=>{if(C.preventDefault(),a(""),e.toLowerCase()==="admin"&&r==="admin"){if(u){const I={...S,isDefaultPassword:!1};t(I);return}{d(!0),a("         .");return}}else a("      ")},A=C=>{if(C.preventDefault(),r==="admin"){a("        ");return}t({...S,isDefaultPassword:!1})};return c.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),c.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),c.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-8",children:[c.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[c.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4 transform hover:scale-105 transition duration-500",children:c.jsx(nL,{className:"w-full h-full drop-shadow-2xl"})}),c.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"    "})]}),(f==="checking"||f==="error")&&c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsxs("div",{onClick:_,className:`cursor-pointer flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold justify-center transition-colors border max-w-full text-center
                    ${f==="checking"?"bg-gray-100 text-gray-500 border-gray-200":""}
                    ${f==="error"?"bg-red-50 text-red-700 border-red-200":""}
                `,children:[f==="checking"&&c.jsxs(c.Fragment,{children:[c.jsx(YD,{className:"w-3 h-3 animate-pulse"}),"    ..."]}),f==="error"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(FD,{className:"w-3 h-3 flex-shrink-0"})," ",c.jsx("span",{className:"truncate",children:g})," ",c.jsx(Gd,{className:"w-3 h-3"})]})]}),f==="error"&&c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1 text-[10px] bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-200 hover:bg-blue-100 transition",children:[c.jsx(xD,{className:"w-3 h-3"}),"    (SQL)"]})]}),c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50",children:u?c.jsxs("form",{onSubmit:A,className:"space-y-5",children:[c.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[c.jsx(SC,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:"            ."})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),c.jsxs("div",{className:"relative",children:[c.jsx(Lw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:C=>i(C.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx($w,{className:"w-5 h-5"}):c.jsx(Ud,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:"   "})]}):c.jsxs("form",{onSubmit:T,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(V0,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:C=>n(C.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(Lw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:C=>i(C.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx($w,{className:"w-5 h-5"}):c.jsx(Ud,{className:"w-5 h-5"})})]})]})]}),o&&c.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),c.jsxs("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{children:"  "}),c.jsx(CD,{className:"w-5 h-5"})]})]})}),c.jsxs("div",{className:"text-center space-y-1 pb-4",children:[c.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-bold tracking-widest uppercase",children:[" ",XD]}),c.jsxs("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.1em] uppercase font-mono opacity-50",children:["Hash: ","b7a9f2c"]}),c.jsx("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.3em] uppercase font-sans opacity-70 mt-2",children:"DESIGN BY H.PARSA"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[c.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[c.jsx(wD,{className:"w-5 h-5 text-blue-600"}),"  "]}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",c.jsx("b",{children:"Supabase"}),"  ",c.jsx("b",{children:"SQL Editor"}),"        ."]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[c.jsx("pre",{children:c_}),c.jsxs("button",{onClick:E,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[x?c.jsx(kh,{className:"w-4 h-4"}):c.jsx(bD,{className:"w-4 h-4"}),x?" ":" "]})]})]})})]})};function nP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nP(t))&&(r&&(r+=" "),r+=e);return r}var B4=Array.isArray,ln=B4,q4=typeof cc=="object"&&cc&&cc.Object===Object&&cc,rP=q4,V4=rP,G4=typeof self=="object"&&self&&self.Object===Object&&self,H4=V4||G4||Function("return this")(),Ar=H4,z4=Ar,W4=z4.Symbol,Qu=W4,d_=Qu,iP=Object.prototype,K4=iP.hasOwnProperty,J4=iP.toString,Ys=d_?d_.toStringTag:void 0;function Y4(t){var e=K4.call(t,Ys),n=t[Ys];try{t[Ys]=void 0;var r=!0}catch{}var i=J4.call(t);return r&&(e?t[Ys]=n:delete t[Ys]),i}var X4=Y4,Q4=Object.prototype,Z4=Q4.toString;function e3(t){return Z4.call(t)}var t3=e3,f_=Qu,n3=X4,r3=t3,i3="[object Null]",o3="[object Undefined]",h_=f_?f_.toStringTag:void 0;function a3(t){return t==null?t===void 0?o3:i3:h_&&h_ in Object(t)?n3(t):r3(t)}var ni=a3;function s3(t){return t!=null&&typeof t=="object"}var ri=s3,l3=ni,u3=ri,c3="[object Symbol]";function d3(t){return typeof t=="symbol"||u3(t)&&l3(t)==c3}var As=d3,f3=ln,h3=As,p3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m3=/^\w*$/;function g3(t,e){if(f3(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||h3(t)?!0:m3.test(t)||!p3.test(t)||e!=null&&t in Object(e)}var J0=g3;function y3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Li=y3;const ks=$e(Li);var v3=ni,x3=Li,b3="[object AsyncFunction]",w3="[object Function]",_3="[object GeneratorFunction]",S3="[object Proxy]";function E3(t){if(!x3(t))return!1;var e=v3(t);return e==w3||e==_3||e==b3||e==S3}var Y0=E3;const ye=$e(Y0);var T3=Ar,A3=T3["__core-js_shared__"],k3=A3,vm=k3,p_=function(){var t=/[^.]+$/.exec(vm&&vm.keys&&vm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function N3(t){return!!p_&&p_ in t}var C3=N3,P3=Function.prototype,I3=P3.toString;function j3(t){if(t!=null){try{return I3.call(t)}catch{}try{return t+""}catch{}}return""}var oP=j3,O3=Y0,R3=C3,M3=Li,$3=oP,D3=/[\\^$.*+?()[\]{}|]/g,L3=/^\[object .+?Constructor\]$/,U3=Function.prototype,F3=Object.prototype,B3=U3.toString,q3=F3.hasOwnProperty,V3=RegExp("^"+B3.call(q3).replace(D3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G3(t){if(!M3(t)||R3(t))return!1;var e=O3(t)?V3:L3;return e.test($3(t))}var H3=G3;function z3(t,e){return t==null?void 0:t[e]}var W3=z3,K3=H3,J3=W3;function Y3(t,e){var n=J3(t,e);return K3(n)?n:void 0}var Lo=Y3,X3=Lo,Q3=X3(Object,"create"),Rh=Q3,m_=Rh;function Z3(){this.__data__=m_?m_(null):{},this.size=0}var e5=Z3;function t5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var n5=t5,r5=Rh,i5="__lodash_hash_undefined__",o5=Object.prototype,a5=o5.hasOwnProperty;function s5(t){var e=this.__data__;if(r5){var n=e[t];return n===i5?void 0:n}return a5.call(e,t)?e[t]:void 0}var l5=s5,u5=Rh,c5=Object.prototype,d5=c5.hasOwnProperty;function f5(t){var e=this.__data__;return u5?e[t]!==void 0:d5.call(e,t)}var h5=f5,p5=Rh,m5="__lodash_hash_undefined__";function g5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=p5&&e===void 0?m5:e,this}var y5=g5,v5=e5,x5=n5,b5=l5,w5=h5,_5=y5;function Ns(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ns.prototype.clear=v5;Ns.prototype.delete=x5;Ns.prototype.get=b5;Ns.prototype.has=w5;Ns.prototype.set=_5;var S5=Ns;function E5(){this.__data__=[],this.size=0}var T5=E5;function A5(t,e){return t===e||t!==t&&e!==e}var X0=A5,k5=X0;function N5(t,e){for(var n=t.length;n--;)if(k5(t[n][0],e))return n;return-1}var Mh=N5,C5=Mh,P5=Array.prototype,I5=P5.splice;function j5(t){var e=this.__data__,n=C5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():I5.call(e,n,1),--this.size,!0}var O5=j5,R5=Mh;function M5(t){var e=this.__data__,n=R5(e,t);return n<0?void 0:e[n][1]}var $5=M5,D5=Mh;function L5(t){return D5(this.__data__,t)>-1}var U5=L5,F5=Mh;function B5(t,e){var n=this.__data__,r=F5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var q5=B5,V5=T5,G5=O5,H5=$5,z5=U5,W5=q5;function Cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cs.prototype.clear=V5;Cs.prototype.delete=G5;Cs.prototype.get=H5;Cs.prototype.has=z5;Cs.prototype.set=W5;var $h=Cs,K5=Lo,J5=Ar,Y5=K5(J5,"Map"),Q0=Y5,g_=S5,X5=$h,Q5=Q0;function Z5(){this.size=0,this.__data__={hash:new g_,map:new(Q5||X5),string:new g_}}var eF=Z5;function tF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nF=tF,rF=nF;function iF(t,e){var n=t.__data__;return rF(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Dh=iF,oF=Dh;function aF(t){var e=oF(this,t).delete(t);return this.size-=e?1:0,e}var sF=aF,lF=Dh;function uF(t){return lF(this,t).get(t)}var cF=uF,dF=Dh;function fF(t){return dF(this,t).has(t)}var hF=fF,pF=Dh;function mF(t,e){var n=pF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var gF=mF,yF=eF,vF=sF,xF=cF,bF=hF,wF=gF;function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=yF;Ps.prototype.delete=vF;Ps.prototype.get=xF;Ps.prototype.has=bF;Ps.prototype.set=wF;var Z0=Ps,aP=Z0,_F="Expected a function";function ex(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_F);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ex.Cache||aP),n}ex.Cache=aP;var sP=ex;const SF=$e(sP);var EF=sP,TF=500;function AF(t){var e=EF(t,function(r){return n.size===TF&&n.clear(),r}),n=e.cache;return e}var kF=AF,NF=kF,CF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PF=/\\(\\)?/g,IF=NF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(CF,function(n,r,i,o){e.push(i?o.replace(PF,"$1"):r||n)}),e}),jF=IF;function OF(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tx=OF,y_=Qu,RF=tx,MF=ln,$F=As,v_=y_?y_.prototype:void 0,x_=v_?v_.toString:void 0;function lP(t){if(typeof t=="string")return t;if(MF(t))return RF(t,lP)+"";if($F(t))return x_?x_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var DF=lP,LF=DF;function UF(t){return t==null?"":LF(t)}var uP=UF,FF=ln,BF=J0,qF=jF,VF=uP;function GF(t,e){return FF(t)?t:BF(t,e)?[t]:qF(VF(t))}var cP=GF,HF=As;function zF(t){if(typeof t=="string"||HF(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Lh=zF,WF=cP,KF=Lh;function JF(t,e){e=WF(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[KF(e[n++])];return n&&n==r?t:void 0}var nx=JF,YF=nx;function XF(t,e,n){var r=t==null?void 0:YF(t,e);return r===void 0?n:r}var dP=XF;const wn=$e(dP);function QF(t){return t==null}var ZF=QF;const be=$e(ZF);var eB=ni,tB=ln,nB=ri,rB="[object String]";function iB(t){return typeof t=="string"||!tB(t)&&nB(t)&&eB(t)==rB}var oB=iB;const No=$e(oB);var fP={exports:{}},De={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Symbol.for("react.element"),ix=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),aB=Symbol.for("react.server_context"),Gh=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),zh=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Kh=Symbol.for("react.lazy"),sB=Symbol.for("react.offscreen"),hP;hP=Symbol.for("react.module.reference");function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rx:switch(t=t.type,t){case Uh:case Bh:case Fh:case Hh:case zh:return t;default:switch(t=t&&t.$$typeof,t){case aB:case Vh:case Gh:case Kh:case Wh:case qh:return t;default:return e}}case ix:return e}}}De.ContextConsumer=Vh;De.ContextProvider=qh;De.Element=rx;De.ForwardRef=Gh;De.Fragment=Uh;De.Lazy=Kh;De.Memo=Wh;De.Portal=ix;De.Profiler=Bh;De.StrictMode=Fh;De.Suspense=Hh;De.SuspenseList=zh;De.isAsyncMode=function(){return!1};De.isConcurrentMode=function(){return!1};De.isContextConsumer=function(t){return Bn(t)===Vh};De.isContextProvider=function(t){return Bn(t)===qh};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rx};De.isForwardRef=function(t){return Bn(t)===Gh};De.isFragment=function(t){return Bn(t)===Uh};De.isLazy=function(t){return Bn(t)===Kh};De.isMemo=function(t){return Bn(t)===Wh};De.isPortal=function(t){return Bn(t)===ix};De.isProfiler=function(t){return Bn(t)===Bh};De.isStrictMode=function(t){return Bn(t)===Fh};De.isSuspense=function(t){return Bn(t)===Hh};De.isSuspenseList=function(t){return Bn(t)===zh};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Uh||t===Bh||t===Fh||t===Hh||t===zh||t===sB||typeof t=="object"&&t!==null&&(t.$$typeof===Kh||t.$$typeof===Wh||t.$$typeof===qh||t.$$typeof===Vh||t.$$typeof===Gh||t.$$typeof===hP||t.getModuleId!==void 0)};De.typeOf=Bn;fP.exports=De;var lB=fP.exports,uB=ni,cB=ri,dB="[object Number]";function fB(t){return typeof t=="number"||cB(t)&&uB(t)==dB}var pP=fB;const hB=$e(pP);var pB=pP;function mB(t){return pB(t)&&t!=+t}var gB=mB;const Zu=$e(gB);var Gt=function(e){return e===0?0:e>0?1:-1},ho=function(e){return No(e)&&e.indexOf("%")===e.length-1},Q=function(e){return hB(e)&&!Zu(e)},yB=function(e){return be(e)},wt=function(e){return Q(e)||No(e)},vB=0,Is=function(e){var n=++vB;return"".concat(e||"").concat(n)},Ht=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&!No(e))return r;var o;if(ho(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Zu(o)&&(o=r),i&&o>n&&(o=n),o},gi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},xB=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},mn=function(e,n){return Q(e)&&Q(n)?function(r){return e+r*(n-e)}:function(){return n}};function Qd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wn(r,e))===n})}var bB=function(e,n){return Q(e)&&Q(n)?e-n:No(e)&&No(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ma(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var wB=["viewBox","children"],_B=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b_=["points","pathLength"],xm={svg:wB,polygon:b_,polyline:b_},ox=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!ks(r))return null;var i={};return Object.keys(r).forEach(function(o){ox.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},SB=function(e,n,r){return function(i){return e(n,r,i),null}},Co=function(e,n,r){if(!ks(e)||ty(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];ox.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=SB(a,n,r))}),i},EB=["children"],TB=["children"];function w_(t,e){if(t==null)return{};var n=AB(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}var __={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},S_=null,bm=null,ax=function t(e){if(e===S_&&Array.isArray(bm))return bm;var n=[];return k.Children.forEach(e,function(r){be(r)||(lB.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),bm=n,S_=e,n};function _n(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vr(i)}):r=[Vr(e)],ax(t).forEach(function(i){var o=wn(i,"type.displayName")||wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function hn(t,e){var n=_n(t,e);return n&&n[0]}var E_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Q(r)||r<=0||!Q(i)||i<=0)},kB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NB=function(e){return e&&e.type&&No(e.type)&&kB.indexOf(e.type)>=0},CB=function(e){return e&&ny(e)==="object"&&"clipDot"in e},PB=function(e,n,r,i){var o,a=(o=xm==null?void 0:xm[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ye(e)&&(i&&a.includes(n)||_B.includes(n))||r&&ox.includes(n)},fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!ks(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;PB((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},ry=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return T_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!T_(o,a))return!1}return!0},T_=function(e,n){if(be(e)&&be(n))return!0;if(!be(e)&&!be(n)){var r=e.props||{},i=r.children,o=w_(r,EB),a=n.props||{},s=a.children,l=w_(a,TB);return i&&s?Ma(o,l)&&ry(i,s):!i&&!s?Ma(o,l):!1}return!1},A_=function(e,n){var r=[],i={};return ax(e).forEach(function(o,a){if(NB(o))r.push(o);else if(o){var s=Vr(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},IB=function(e){var n=e&&e.type;return n&&__[n]?__[n]:null},jB=function(e,n){return ax(n).indexOf(e)},OB=["children","width","height","viewBox","className","style","title","desc"];function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function RB(t,e){if(t==null)return{};var n=MB(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oy(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=RB(t,OB),d=i||{width:n,height:r,x:0,y:0},f=_e("recharts-surface",o);return M.createElement("svg",iy({},fe(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var $B=["children","className"];function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function DB(t,e){if(t==null)return{};var n=LB(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=DB(t,$B),o=_e("recharts-layer",r);return M.createElement("g",ay({className:o},fe(i,!0),{ref:e}),n)}),ir=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function UB(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var FB=UB,BB=FB;function qB(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:BB(t,e,n)}var VB=qB,GB="\\ud800-\\udfff",HB="\\u0300-\\u036f",zB="\\ufe20-\\ufe2f",WB="\\u20d0-\\u20ff",KB=HB+zB+WB,JB="\\ufe0e\\ufe0f",YB="\\u200d",XB=RegExp("["+YB+GB+KB+JB+"]");function QB(t){return XB.test(t)}var mP=QB;function ZB(t){return t.split("")}var e8=ZB,gP="\\ud800-\\udfff",t8="\\u0300-\\u036f",n8="\\ufe20-\\ufe2f",r8="\\u20d0-\\u20ff",i8=t8+n8+r8,o8="\\ufe0e\\ufe0f",a8="["+gP+"]",sy="["+i8+"]",ly="\\ud83c[\\udffb-\\udfff]",s8="(?:"+sy+"|"+ly+")",yP="[^"+gP+"]",vP="(?:\\ud83c[\\udde6-\\uddff]){2}",xP="[\\ud800-\\udbff][\\udc00-\\udfff]",l8="\\u200d",bP=s8+"?",wP="["+o8+"]?",u8="(?:"+l8+"(?:"+[yP,vP,xP].join("|")+")"+wP+bP+")*",c8=wP+bP+u8,d8="(?:"+[yP+sy+"?",sy,vP,xP,a8].join("|")+")",f8=RegExp(ly+"(?="+ly+")|"+d8+c8,"g");function h8(t){return t.match(f8)||[]}var p8=h8,m8=e8,g8=mP,y8=p8;function v8(t){return g8(t)?y8(t):m8(t)}var x8=v8,b8=VB,w8=mP,_8=x8,S8=uP;function E8(t){return function(e){e=S8(e);var n=w8(e)?_8(e):void 0,r=n?n[0]:e.charAt(0),i=n?b8(n,1).join(""):e.slice(1);return r[t]()+i}}var T8=E8,A8=T8,k8=A8("toUpperCase"),N8=k8;const Jh=$e(N8);function qe(t){return function(){return t}}const _P=Math.cos,ef=Math.sin,lr=Math.sqrt,tf=Math.PI,Yh=2*tf,uy=Math.PI,cy=2*uy,to=1e-6,C8=cy-to;function SP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function P8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class I8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SP:P8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>to)if(!(Math.abs(f*l-u*d)>to)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,b=g*g+v*v,x=Math.sqrt(y),w=Math.sqrt(h),_=o*Math.tan((uy-Math.acos((y+h-b)/(2*x*w)))/2),E=_/w,S=_/x;Math.abs(E-1)>to&&this._append`L${e+E*d},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>to||Math.abs(this._y1-d)>to)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%cy+cy),h>C8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>to&&this._append`A${r},${r},0,${+(h>=uy)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new I8(e)}function lx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function EP(t){this._context=t}EP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xh(t){return new EP(t)}function TP(t){return t[0]}function AP(t){return t[1]}function kP(t,e){var n=qe(!0),r=null,i=Xh,o=null,a=sx(s);t=typeof t=="function"?t:t===void 0?TP:qe(t),e=typeof e=="function"?e:e===void 0?AP:qe(e);function s(l){var u,d=(l=lx(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function jc(t,e,n){var r=null,i=qe(!0),o=null,a=Xh,s=null,l=sx(u);t=typeof t=="function"?t:t===void 0?TP:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?AP:qe(+n);function u(f){var h,g,v,y=(f=lx(f)).length,b,x=!1,w,_=new Array(y),E=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],E[v]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(b,h,f),E[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):E[h]))}if(w)return s=null,w+""||null}function d(){return kP().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class NP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function j8(t){return new NP(t,!0)}function O8(t){return new NP(t,!1)}const ux={draw(t,e){const n=lr(e/tf);t.moveTo(n,0),t.arc(0,0,n,0,Yh)}},R8={draw(t,e){const n=lr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},CP=lr(1/3),M8=CP*2,$8={draw(t,e){const n=lr(e/M8),r=n*CP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},D8={draw(t,e){const n=lr(e),r=-n/2;t.rect(r,r,n,n)}},L8=.8908130915292852,PP=ef(tf/10)/ef(7*tf/10),U8=ef(Yh/10)*PP,F8=-_P(Yh/10)*PP,B8={draw(t,e){const n=lr(e*L8),r=U8*n,i=F8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Yh*o/5,s=_P(a),l=ef(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},wm=lr(3),q8={draw(t,e){const n=-lr(e/(wm*3));t.moveTo(0,n*2),t.lineTo(-wm*n,-n),t.lineTo(wm*n,-n),t.closePath()}},An=-.5,kn=lr(3)/2,dy=1/lr(12),V8=(dy/2+1)*3,G8={draw(t,e){const n=lr(e/V8),r=n/2,i=n*dy,o=r,a=n*dy+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(An*r-kn*i,kn*r+An*i),t.lineTo(An*o-kn*a,kn*o+An*a),t.lineTo(An*s-kn*l,kn*s+An*l),t.lineTo(An*r+kn*i,An*i-kn*r),t.lineTo(An*o+kn*a,An*a-kn*o),t.lineTo(An*s+kn*l,An*l-kn*s),t.closePath()}};function H8(t,e){let n=null,r=sx(i);t=typeof t=="function"?t:qe(t||ux),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function nf(){}function rf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function IP(t){this._context=t}IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z8(t){return new IP(t)}function jP(t){this._context=t}jP.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function W8(t){return new jP(t)}function OP(t){this._context=t}OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K8(t){return new OP(t)}function RP(t){this._context=t}RP.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function J8(t){return new RP(t)}function k_(t){return t<0?-1:1}function N_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(k_(o)+k_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function C_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _m(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function of(t){this._context=t}of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_m(this,this._t0,C_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_m(this,C_(this,n=N_(this,t,e)),n);break;default:_m(this,this._t0,n=N_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MP(t){this._context=new $P(t)}(MP.prototype=Object.create(of.prototype)).point=function(t,e){of.prototype.point.call(this,e,t)};function $P(t){this._context=t}$P.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Y8(t){return new of(t)}function X8(t){return new MP(t)}function DP(t){this._context=t}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=P_(t),i=P_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function P_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Q8(t){return new DP(t)}function Qh(t,e){this._context=t,this._t=e}Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Z8(t){return new Qh(t,.5)}function e6(t){return new Qh(t,0)}function t6(t){return new Qh(t,1)}function Ja(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function n6(t,e){return t[e]}function r6(t){const e=[];return e.key=t,e}function i6(){var t=qe([]),e=fy,n=Ja,r=n6;function i(o){var a=Array.from(t.apply(this,arguments),r6),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=lx(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?fy:typeof o=="function"?o:qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ja,i):n},i}function o6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ja(t,e)}}function a6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ja(t,e)}}function s6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,g=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],b=y[r][1]||0,x=y[r-1][1]||0;g+=b-x}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ja(t,e)}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}var l6=["type","size","sizeType"];function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t,e,n){return e=c6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t){var e=d6(t,"string");return ou(e)=="symbol"?e:e+""}function d6(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f6(t,e){if(t==null)return{};var n=h6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LP={symbolCircle:ux,symbolCross:R8,symbolDiamond:$8,symbolSquare:D8,symbolStar:B8,symbolTriangle:q8,symbolWye:G8},p6=Math.PI/180,m6=function(e){var n="symbol".concat(Jh(e));return LP[n]||ux},g6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*p6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},y6=function(e,n){LP["symbol".concat(Jh(e))]=n},cx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=f6(e,l6),u=j_(j_({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=m6(r),x=H8().type(b).size(g6(o,s,r));return x()},f=u.className,h=u.cx,g=u.cy,v=fe(u,!0);return h===+h&&g===+g&&o===+o?M.createElement("path",hy({},v,{className:_e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};cx.registerSymbol=y6;function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FP(r.key),r)}}function w6(t,e,n){return e&&b6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _6(t,e,n){return e=af(e),S6(t,UP()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function S6(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E6(t)}function E6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function T6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&my(t,e)}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},my(t,e)}function au(t,e,n){return e=FP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FP(t){var e=A6(t,"string");return Ya(e)=="symbol"?e:e+""}function A6(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nn=32,dx=function(t){function e(){return x6(this,e),_6(this,e,arguments)}return T6(e,t),w6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Nn/2,a=Nn/6,s=Nn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Nn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Nn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Nn/8,"h").concat(Nn,"v").concat(Nn*3/4,"h").concat(-Nn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=v6({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(cx,{fill:l,cx:o,cy:o,size:Nn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Nn,height:Nn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,b=_e(au(au({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=ye(g.value)?null:g.value;ir(!ye(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return M.createElement("li",py({className:b,style:f,key:"legend-item-".concat(v)},Co(r.props,g,v)),M.createElement(oy,{width:a,height:a,viewBox:d,style:h},r.renderIcon(g)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,g,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(k.PureComponent);au(dx,"displayName","Legend");au(dx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var k6=$h;function N6(){this.__data__=new k6,this.size=0}var C6=N6;function P6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var I6=P6;function j6(t){return this.__data__.get(t)}var O6=j6;function R6(t){return this.__data__.has(t)}var M6=R6,$6=$h,D6=Q0,L6=Z0,U6=200;function F6(t,e){var n=this.__data__;if(n instanceof $6){var r=n.__data__;if(!D6||r.length<U6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new L6(r)}return n.set(t,e),this.size=n.size,this}var B6=F6,q6=$h,V6=C6,G6=I6,H6=O6,z6=M6,W6=B6;function js(t){var e=this.__data__=new q6(t);this.size=e.size}js.prototype.clear=V6;js.prototype.delete=G6;js.prototype.get=H6;js.prototype.has=z6;js.prototype.set=W6;var BP=js,K6="__lodash_hash_undefined__";function J6(t){return this.__data__.set(t,K6),this}var Y6=J6;function X6(t){return this.__data__.has(t)}var Q6=X6,Z6=Z0,eq=Y6,tq=Q6;function sf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Z6;++e<n;)this.add(t[e])}sf.prototype.add=sf.prototype.push=eq;sf.prototype.has=tq;var qP=sf;function nq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var VP=nq;function rq(t,e){return t.has(e)}var GP=rq,iq=qP,oq=VP,aq=GP,sq=1,lq=2;function uq(t,e,n,r,i,o){var a=n&sq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=n&lq?new iq:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var b=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!oq(e,function(x,w){if(!aq(g,w)&&(v===x||i(v,x,n,r,o)))return g.push(w)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var HP=uq,cq=Ar,dq=cq.Uint8Array,fq=dq;function hq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var pq=hq;function mq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var fx=mq,R_=Qu,M_=fq,gq=X0,yq=HP,vq=pq,xq=fx,bq=1,wq=2,_q="[object Boolean]",Sq="[object Date]",Eq="[object Error]",Tq="[object Map]",Aq="[object Number]",kq="[object RegExp]",Nq="[object Set]",Cq="[object String]",Pq="[object Symbol]",Iq="[object ArrayBuffer]",jq="[object DataView]",$_=R_?R_.prototype:void 0,Sm=$_?$_.valueOf:void 0;function Oq(t,e,n,r,i,o,a){switch(n){case jq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Iq:return!(t.byteLength!=e.byteLength||!o(new M_(t),new M_(e)));case _q:case Sq:case Aq:return gq(+t,+e);case Eq:return t.name==e.name&&t.message==e.message;case kq:case Cq:return t==e+"";case Tq:var s=vq;case Nq:var l=r&bq;if(s||(s=xq),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=wq,a.set(t,e);var d=yq(s(t),s(e),r,i,o,a);return a.delete(t),d;case Pq:if(Sm)return Sm.call(t)==Sm.call(e)}return!1}var Rq=Oq;function Mq(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zP=Mq,$q=zP,Dq=ln;function Lq(t,e,n){var r=e(t);return Dq(t)?r:$q(r,n(t))}var Uq=Lq;function Fq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Bq=Fq;function qq(){return[]}var Vq=qq,Gq=Bq,Hq=Vq,zq=Object.prototype,Wq=zq.propertyIsEnumerable,D_=Object.getOwnPropertySymbols,Kq=D_?function(t){return t==null?[]:(t=Object(t),Gq(D_(t),function(e){return Wq.call(t,e)}))}:Hq,Jq=Kq;function Yq(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Xq=Yq,Qq=ni,Zq=ri,eV="[object Arguments]";function tV(t){return Zq(t)&&Qq(t)==eV}var nV=tV,L_=nV,rV=ri,WP=Object.prototype,iV=WP.hasOwnProperty,oV=WP.propertyIsEnumerable,aV=L_(function(){return arguments}())?L_:function(t){return rV(t)&&iV.call(t,"callee")&&!oV.call(t,"callee")},hx=aV,lf={exports:{}};function sV(){return!1}var lV=sV;lf.exports;(function(t,e){var n=Ar,r=lV,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(lf,lf.exports);var KP=lf.exports,uV=9007199254740991,cV=/^(?:0|[1-9]\d*)$/;function dV(t,e){var n=typeof t;return e=e??uV,!!e&&(n=="number"||n!="symbol"&&cV.test(t))&&t>-1&&t%1==0&&t<e}var px=dV,fV=9007199254740991;function hV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fV}var mx=hV,pV=ni,mV=mx,gV=ri,yV="[object Arguments]",vV="[object Array]",xV="[object Boolean]",bV="[object Date]",wV="[object Error]",_V="[object Function]",SV="[object Map]",EV="[object Number]",TV="[object Object]",AV="[object RegExp]",kV="[object Set]",NV="[object String]",CV="[object WeakMap]",PV="[object ArrayBuffer]",IV="[object DataView]",jV="[object Float32Array]",OV="[object Float64Array]",RV="[object Int8Array]",MV="[object Int16Array]",$V="[object Int32Array]",DV="[object Uint8Array]",LV="[object Uint8ClampedArray]",UV="[object Uint16Array]",FV="[object Uint32Array]",ze={};ze[jV]=ze[OV]=ze[RV]=ze[MV]=ze[$V]=ze[DV]=ze[LV]=ze[UV]=ze[FV]=!0;ze[yV]=ze[vV]=ze[PV]=ze[xV]=ze[IV]=ze[bV]=ze[wV]=ze[_V]=ze[SV]=ze[EV]=ze[TV]=ze[AV]=ze[kV]=ze[NV]=ze[CV]=!1;function BV(t){return gV(t)&&mV(t.length)&&!!ze[pV(t)]}var qV=BV;function VV(t){return function(e){return t(e)}}var JP=VV,uf={exports:{}};uf.exports;(function(t,e){var n=rP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(uf,uf.exports);var GV=uf.exports,HV=qV,zV=JP,U_=GV,F_=U_&&U_.isTypedArray,WV=F_?zV(F_):HV,YP=WV,KV=Xq,JV=hx,YV=ln,XV=KP,QV=px,ZV=YP,eG=Object.prototype,tG=eG.hasOwnProperty;function nG(t,e){var n=YV(t),r=!n&&JV(t),i=!n&&!r&&XV(t),o=!n&&!r&&!i&&ZV(t),a=n||r||i||o,s=a?KV(t.length,String):[],l=s.length;for(var u in t)(e||tG.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||QV(u,l)))&&s.push(u);return s}var rG=nG,iG=Object.prototype;function oG(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||iG;return t===n}var aG=oG;function sG(t,e){return function(n){return t(e(n))}}var XP=sG,lG=XP,uG=lG(Object.keys,Object),cG=uG,dG=aG,fG=cG,hG=Object.prototype,pG=hG.hasOwnProperty;function mG(t){if(!dG(t))return fG(t);var e=[];for(var n in Object(t))pG.call(t,n)&&n!="constructor"&&e.push(n);return e}var gG=mG,yG=Y0,vG=mx;function xG(t){return t!=null&&vG(t.length)&&!yG(t)}var ec=xG,bG=rG,wG=gG,_G=ec;function SG(t){return _G(t)?bG(t):wG(t)}var Zh=SG,EG=Uq,TG=Jq,AG=Zh;function kG(t){return EG(t,AG,TG)}var NG=kG,B_=NG,CG=1,PG=Object.prototype,IG=PG.hasOwnProperty;function jG(t,e,n,r,i,o){var a=n&CG,s=B_(t),l=s.length,u=B_(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:IG.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var OG=jG,RG=Lo,MG=Ar,$G=RG(MG,"DataView"),DG=$G,LG=Lo,UG=Ar,FG=LG(UG,"Promise"),BG=FG,qG=Lo,VG=Ar,GG=qG(VG,"Set"),QP=GG,HG=Lo,zG=Ar,WG=HG(zG,"WeakMap"),KG=WG,gy=DG,yy=Q0,vy=BG,xy=QP,by=KG,ZP=ni,Os=oP,q_="[object Map]",JG="[object Object]",V_="[object Promise]",G_="[object Set]",H_="[object WeakMap]",z_="[object DataView]",YG=Os(gy),XG=Os(yy),QG=Os(vy),ZG=Os(xy),eH=Os(by),no=ZP;(gy&&no(new gy(new ArrayBuffer(1)))!=z_||yy&&no(new yy)!=q_||vy&&no(vy.resolve())!=V_||xy&&no(new xy)!=G_||by&&no(new by)!=H_)&&(no=function(t){var e=ZP(t),n=e==JG?t.constructor:void 0,r=n?Os(n):"";if(r)switch(r){case YG:return z_;case XG:return q_;case QG:return V_;case ZG:return G_;case eH:return H_}return e});var tH=no,Em=BP,nH=HP,rH=Rq,iH=OG,W_=tH,K_=ln,J_=KP,oH=YP,aH=1,Y_="[object Arguments]",X_="[object Array]",Oc="[object Object]",sH=Object.prototype,Q_=sH.hasOwnProperty;function lH(t,e,n,r,i,o){var a=K_(t),s=K_(e),l=a?X_:W_(t),u=s?X_:W_(e);l=l==Y_?Oc:l,u=u==Y_?Oc:u;var d=l==Oc,f=u==Oc,h=l==u;if(h&&J_(t)){if(!J_(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Em),a||oH(t)?nH(t,e,n,r,i,o):rH(t,e,l,n,r,i,o);if(!(n&aH)){var g=d&&Q_.call(t,"__wrapped__"),v=f&&Q_.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return o||(o=new Em),i(y,b,n,r,o)}}return h?(o||(o=new Em),iH(t,e,n,r,i,o)):!1}var uH=lH,cH=uH,Z_=ri;function eI(t,e,n,r,i){return t===e?!0:t==null||e==null||!Z_(t)&&!Z_(e)?t!==t&&e!==e:cH(t,e,n,r,eI,i)}var gx=eI,dH=BP,fH=gx,hH=1,pH=2;function mH(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new dH;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?fH(d,u,hH|pH,r,f):h))return!1}}return!0}var gH=mH,yH=Li;function vH(t){return t===t&&!yH(t)}var tI=vH,xH=tI,bH=Zh;function wH(t){for(var e=bH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,xH(i)]}return e}var _H=wH;function SH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nI=SH,EH=gH,TH=_H,AH=nI;function kH(t){var e=TH(t);return e.length==1&&e[0][2]?AH(e[0][0],e[0][1]):function(n){return n===t||EH(n,t,e)}}var NH=kH;function CH(t,e){return t!=null&&e in Object(t)}var PH=CH,IH=cP,jH=hx,OH=ln,RH=px,MH=mx,$H=Lh;function DH(t,e,n){e=IH(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=$H(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&MH(i)&&RH(a,i)&&(OH(t)||jH(t)))}var LH=DH,UH=PH,FH=LH;function BH(t,e){return t!=null&&FH(t,e,UH)}var qH=BH,VH=gx,GH=dP,HH=qH,zH=J0,WH=tI,KH=nI,JH=Lh,YH=1,XH=2;function QH(t,e){return zH(t)&&WH(e)?KH(JH(t),e):function(n){var r=GH(n,t);return r===void 0&&r===e?HH(n,t):VH(e,r,YH|XH)}}var ZH=QH;function e7(t){return t}var Rs=e7;function t7(t){return function(e){return e==null?void 0:e[t]}}var n7=t7,r7=nx;function i7(t){return function(e){return r7(e,t)}}var o7=i7,a7=n7,s7=o7,l7=J0,u7=Lh;function c7(t){return l7(t)?a7(u7(t)):s7(t)}var d7=c7,f7=NH,h7=ZH,p7=Rs,m7=ln,g7=d7;function y7(t){return typeof t=="function"?t:t==null?p7:typeof t=="object"?m7(t)?h7(t[0],t[1]):f7(t):g7(t)}var kr=y7;function v7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var rI=v7;function x7(t){return t!==t}var b7=x7;function w7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var _7=w7,S7=rI,E7=b7,T7=_7;function A7(t,e,n){return e===e?T7(t,e,n):S7(t,E7,n)}var k7=A7,N7=k7;function C7(t,e){var n=t==null?0:t.length;return!!n&&N7(t,e,0)>-1}var P7=C7;function I7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var j7=I7;function O7(){}var R7=O7,Tm=QP,M7=R7,$7=fx,D7=1/0,L7=Tm&&1/$7(new Tm([,-0]))[1]==D7?function(t){return new Tm(t)}:M7,U7=L7,F7=qP,B7=P7,q7=j7,V7=GP,G7=U7,H7=fx,z7=200;function W7(t,e,n){var r=-1,i=B7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=q7;else if(o>=z7){var u=e?null:G7(t);if(u)return H7(u);a=!1,i=V7,l=new F7}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var K7=W7,J7=kr,Y7=K7;function X7(t,e){return t&&t.length?Y7(t,J7(e)):[]}var Q7=X7;const eS=$e(Q7);function iI(t,e,n){return e===!0?eS(t,n):ye(e)?eS(t,e):t}function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}var Z7=["ref"];function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aI(r.key),r)}}function tz(t,e,n){return e&&nS(t.prototype,e),n&&nS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nz(t,e,n){return e=cf(e),rz(t,oI()?Reflect.construct(e,n||[],cf(t).constructor):e.apply(t,n))}function rz(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iz(t)}function iz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oI=function(){return!!t})()}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(t)}function oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function ep(t,e,n){return e=aI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aI(t){var e=az(t,"string");return Xa(e)=="symbol"?e:e+""}function az(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sz(t,e){if(t==null)return{};var n=lz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uz(t){return t.value}function cz(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=sz(e,Z7);return M.createElement(dx,n)}var rS=1,bo=function(t){function e(){var n;ez(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=nz(this,e,[].concat(i)),ep(n,"lastBoundingBox",{width:-1,height:-1}),n}return oz(e,t),tz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>rS||Math.abs(i.height-this.lastBoundingBox.height)>rS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Pr(Pr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Pr(Pr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},cz(o,Pr(Pr({},this.props),{},{payload:iI(d,u,uz)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Pr(Pr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Q(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);ep(bo,"displayName","Legend");ep(bo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iS=Qu,dz=hx,fz=ln,oS=iS?iS.isConcatSpreadable:void 0;function hz(t){return fz(t)||dz(t)||!!(oS&&t&&t[oS])}var pz=hz,mz=zP,gz=pz;function sI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=gz),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?sI(s,e-1,n,r,i):mz(i,s):r||(i[i.length]=s)}return i}var lI=sI;function yz(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var vz=yz,xz=vz,bz=xz(),wz=bz,_z=wz,Sz=Zh;function Ez(t,e){return t&&_z(t,e,Sz)}var uI=Ez,Tz=ec;function Az(t,e){return function(n,r){if(n==null)return n;if(!Tz(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var kz=Az,Nz=uI,Cz=kz,Pz=Cz(Nz),yx=Pz,Iz=yx,jz=ec;function Oz(t,e){var n=-1,r=jz(t)?Array(t.length):[];return Iz(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var cI=Oz;function Rz(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Mz=Rz,aS=As;function $z(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=aS(t),a=e!==void 0,s=e===null,l=e===e,u=aS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Dz=$z,Lz=Dz;function Uz(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Lz(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Fz=Uz,Am=tx,Bz=nx,qz=kr,Vz=cI,Gz=Mz,Hz=JP,zz=Fz,Wz=Rs,Kz=ln;function Jz(t,e,n){e.length?e=Am(e,function(o){return Kz(o)?function(a){return Bz(a,o.length===1?o[0]:o)}:o}):e=[Wz];var r=-1;e=Am(e,Hz(qz));var i=Vz(t,function(o,a,s){var l=Am(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Gz(i,function(o,a){return zz(o,a,n)})}var Yz=Jz;function Xz(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Qz=Xz,Zz=Qz,sS=Math.max;function eW(t,e,n){return e=sS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=sS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Zz(t,this,s)}}var tW=eW;function nW(t){return function(){return t}}var rW=nW,iW=Lo,oW=function(){try{var t=iW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dI=oW,aW=rW,lS=dI,sW=Rs,lW=lS?function(t,e){return lS(t,"toString",{configurable:!0,enumerable:!1,value:aW(e),writable:!0})}:sW,uW=lW,cW=800,dW=16,fW=Date.now;function hW(t){var e=0,n=0;return function(){var r=fW(),i=dW-(r-n);if(n=r,i>0){if(++e>=cW)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var pW=hW,mW=uW,gW=pW,yW=gW(mW),vW=yW,xW=Rs,bW=tW,wW=vW;function _W(t,e){return wW(bW(t,e,xW),t+"")}var SW=_W,EW=X0,TW=ec,AW=px,kW=Li;function NW(t,e,n){if(!kW(n))return!1;var r=typeof e;return(r=="number"?TW(n)&&AW(e,n.length):r=="string"&&e in n)?EW(n[e],t):!1}var tp=NW,CW=lI,PW=Yz,IW=SW,uS=tp,jW=IW(function(t,e){if(t==null)return[];var n=e.length;return n>1&&uS(t,e[0],e[1])?e=[]:n>2&&uS(e[0],e[1],e[2])&&(e=[e[0]]),PW(t,CW(e,1),[])}),OW=jW;const vx=$e(OW);function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function RW(t,e){return LW(t)||DW(t,e)||$W(t,e)||MW()}function MW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(t,e){if(t){if(typeof t=="string")return cS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(t,e)}}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LW(t){if(Array.isArray(t))return t}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=BW(t,"string");return su(e)=="symbol"?e:e+""}function BW(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t){return Array.isArray(t)&&wt(t[0])&&wt(t[1])?t.join(" ~ "):t}var VW=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(d&&d.length){var $={padding:0,margin:0},U=(h?vx(d,h):d).map(function(D,P){if(D.type==="none")return null;var R=km({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),F=D.formatter||f||qW,L=D.value,B=D.name,V=L,X=B;if(F&&V!=null&&X!=null){var G=F(L,B,D,P,d);if(Array.isArray(G)){var ae=RW(G,2);V=ae[0],X=ae[1]}else V=G}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:R},wt(X)?M.createElement("span",{className:"recharts-tooltip-item-name"},X):null,wt(X)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},V),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:$},U)}return null},E=km({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=km({margin:0},u),T=!be(y),A=T?y:"",N=_e("recharts-default-tooltip",g),C=_e("recharts-tooltip-label",v);T&&b&&d!==void 0&&d!==null&&(A=b(y,d));var I=w?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",_y({className:N,style:E},I),M.createElement("p",{className:C,style:S},M.isValidElement(A)?A:"".concat(A)),_())};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function Rc(t,e,n){return e=GW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=HW(t,"string");return lu(e)=="symbol"?e:e+""}function HW(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xs="recharts-tooltip-wrapper",zW={visibility:"hidden"};function WW(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return _e(Xs,Rc(Rc(Rc(Rc({},"".concat(Xs,"-right"),Q(n)&&e&&Q(e.x)&&n>=e.x),"".concat(Xs,"-left"),Q(n)&&e&&Q(e.x)&&n<e.x),"".concat(Xs,"-bottom"),Q(r)&&e&&Q(e.y)&&r>=e.y),"".concat(Xs,"-top"),Q(r)&&e&&Q(e.y)&&r<e.y))}function fS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Q(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,g=l[r];return h<g?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function KW(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function JW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=fS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=fS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=KW({translateX:d,translateY:f,useTranslate3d:s})):u=zW,{cssProperties:u,cssClasses:WW({translateX:d,translateY:f,coordinate:n})}}function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hI(r.key),r)}}function QW(t,e,n){return e&&XW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZW(t,e,n){return e=df(e),e9(t,fI()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function e9(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9(t)}function t9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function n9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function Ey(t,e,n){return e=hI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t){var e=r9(t,"string");return Qa(e)=="symbol"?e:e+""}function r9(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mS=1,i9=function(t){function e(){var n;YW(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ZW(this,e,[].concat(i)),Ey(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ey(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return n9(e,t),QW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>mS||Math.abs(r.height-this.state.lastBoundingBox.height)>mS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=JW({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),E=_.cssClasses,S=_.cssProperties,T=pS(pS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return M.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(N){r.wrapperNode=N}},u)}}])}(k.PureComponent),o9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uo={isSsr:o9()};function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mI(r.key),r)}}function l9(t,e,n){return e&&s9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u9(t,e,n){return e=ff(e),c9(t,pI()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function c9(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d9(t)}function d9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pI=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function f9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(t,e)}function xx(t,e,n){return e=mI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mI(t){var e=h9(t,"string");return Za(e)=="symbol"?e:e+""}function h9(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p9(t){return t.dataKey}function m9(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(VW,e)}var pn=function(t){function e(){return a9(this,e),u9(this,e,arguments)}return f9(e,t),l9(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=v??[];f&&S.length&&(S=iI(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,p9));var T=S.length>0;return M.createElement(i9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:T,offset:g,position:b,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:E},m9(u,yS(yS({},this.props),{},{payload:S})))}}])}(k.PureComponent);xx(pn,"displayName","Tooltip");xx(pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var g9=Ar,y9=function(){return g9.Date.now()},v9=y9,x9=/\s/;function b9(t){for(var e=t.length;e--&&x9.test(t.charAt(e)););return e}var w9=b9,_9=w9,S9=/^\s+/;function E9(t){return t&&t.slice(0,_9(t)+1).replace(S9,"")}var T9=E9,A9=T9,vS=Li,k9=As,xS=NaN,N9=/^[-+]0x[0-9a-f]+$/i,C9=/^0b[01]+$/i,P9=/^0o[0-7]+$/i,I9=parseInt;function j9(t){if(typeof t=="number")return t;if(k9(t))return xS;if(vS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=A9(t);var n=C9.test(t);return n||P9.test(t)?I9(t.slice(2),n?2:8):N9.test(t)?xS:+t}var gI=j9,O9=Li,Nm=v9,bS=gI,R9="Expected a function",M9=Math.max,$9=Math.min;function D9(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(R9);e=bS(e)||0,O9(n)&&(d=!!n.leading,f="maxWait"in n,o=f?M9(bS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(T){var A=r,N=i;return r=i=void 0,u=T,a=t.apply(N,A),a}function v(T){return u=T,s=setTimeout(x,e),d?g(T):a}function y(T){var A=T-l,N=T-u,C=e-A;return f?$9(C,o-N):C}function b(T){var A=T-l,N=T-u;return l===void 0||A>=e||A<0||f&&N>=o}function x(){var T=Nm();if(b(T))return w(T);s=setTimeout(x,y(T))}function w(T){return s=void 0,h&&r?g(T):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(Nm())}function S(){var T=Nm(),A=b(T);if(r=arguments,i=this,l=T,A){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=_,S.flush=E,S}var L9=D9,U9=L9,F9=Li,B9="Expected a function";function q9(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(B9);return F9(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),U9(t,e,{leading:r,maxWait:e,trailing:i})}var V9=q9;const yI=$e(V9);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){G9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G9(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=z9(t,"string");return uu(e)=="symbol"?e:e+""}function z9(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W9(t,e){return X9(t)||Y9(t,e)||J9(t,e)||K9()}function K9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t,e){if(t){if(typeof t=="string")return _S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(t,e)}}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function X9(t){if(Array.isArray(t))return t}var $a=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,x=t.className,w=t.onResize,_=t.style,E=_===void 0?{}:_,S=k.useRef(null),T=k.useRef();T.current=w,k.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=k.useState({containerWidth:i.width,containerHeight:i.height}),N=W9(A,2),C=N[0],I=N[1],O=k.useCallback(function(U,D){I(function(P){var R=Math.round(U),F=Math.round(D);return P.containerWidth===R&&P.containerHeight===F?P:{containerWidth:R,containerHeight:F}})},[]);k.useEffect(function(){var U=function(B){var V,X=B[0].contentRect,G=X.width,ae=X.height;O(G,ae),(V=T.current)===null||V===void 0||V.call(T,G,ae)};y>0&&(U=yI(U,y,{trailing:!0,leading:!1}));var D=new ResizeObserver(U),P=S.current.getBoundingClientRect(),R=P.width,F=P.height;return O(R,F),D.observe(S.current),function(){D.disconnect()}},[O,y]);var $=k.useMemo(function(){var U=C.containerWidth,D=C.containerHeight;if(U<0||D<0)return null;ir(ho(a)||ho(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ir(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=ho(a)?U:a,R=ho(l)?D:l;n&&n>0&&(P?R=P/n:R&&(P=R*n),h&&R>h&&(R=h)),ir(P>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,R,a,l,d,f,n);var F=!Array.isArray(g)&&Vr(g.type).endsWith("Chart");return M.Children.map(g,function(L){return M.isValidElement(L)?k.cloneElement(L,Mc({width:P,height:R},F?{style:Mc({height:"100%",width:"100%",maxHeight:R,maxWidth:P},L.props.style)}:{})):L})},[n,g,l,h,f,d,C,a]);return M.createElement("div",{id:b?"".concat(b):void 0,className:_e("recharts-responsive-container",x),style:Mc(Mc({},E),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},$)}),cu=function(e){return null};cu.displayName="Cell";function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function SS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(n),!0).forEach(function(r){Q9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q9(t,e,n){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z9(t){var e=eK(t,"string");return du(e)=="symbol"?e:e+""}function eK(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ea={widthCache:{},cacheCount:0},tK=2e3,nK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ES="recharts_measurement_span";function rK(t){var e=Ay({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var kl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uo.isSsr)return{width:0,height:0};var r=rK(n),i=JSON.stringify({text:e,copyStyle:r});if(ea.widthCache[i])return ea.widthCache[i];try{var o=document.getElementById(ES);o||(o=document.createElement("span"),o.setAttribute("id",ES),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ay(Ay({},nK),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ea.widthCache[i]=l,++ea.cacheCount>tK&&(ea.cacheCount=0,ea.widthCache={}),l}catch{return{width:0,height:0}}},iK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function hf(t,e){return lK(t)||sK(t,e)||aK(t,e)||oK()}function oK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(t,e){if(t){if(typeof t=="string")return TS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(t,e)}}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lK(t){if(Array.isArray(t))return t}function uK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dK(r.key),r)}}function cK(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dK(t){var e=fK(t,"string");return fu(e)=="symbol"?e:e+""}function fK(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mK=Object.keys(vI),wa="NaN";function gK(t,e){return t*vI[e]}var $c=function(){function t(e,n){uK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!hK.test(n)&&(this.num=NaN,this.unit=""),mK.includes(n)&&(this.num=gK(e,n),this.unit="px")}return cK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=pK.exec(n))!==null&&r!==void 0?r:[],o=hf(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function xI(t){if(t.includes(wa))return wa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=kS.exec(e))!==null&&n!==void 0?n:[],i=hf(r,4),o=i[1],a=i[2],s=i[3],l=$c.parse(o??""),u=$c.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return wa;e=e.replace(kS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=NS.exec(e))!==null&&f!==void 0?f:[],g=hf(h,4),v=g[1],y=g[2],b=g[3],x=$c.parse(v??""),w=$c.parse(b??""),_=y==="+"?x.add(w):x.subtract(w);if(_.isNaN())return wa;e=e.replace(NS,_.toString())}return e}var CS=/\(([^()]*)\)/;function yK(t){for(var e=t;e.includes("(");){var n=CS.exec(e),r=hf(n,2),i=r[1];e=e.replace(CS,xI(i))}return e}function vK(t){var e=t.replace(/\s+/g,"");return e=yK(e),e=xI(e),e}function xK(t){try{return vK(t)}catch{return wa}}function Cm(t){var e=xK(t.slice(5,-1));return e===wa?"":e}var bK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wK=["dx","dy","angle","className","breakAll"];function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(this,arguments)}function PS(t,e){if(t==null)return{};var n=_K(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _K(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IS(t,e){return AK(t)||TK(t,e)||EK(t,e)||SK()}function SK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EK(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function AK(t){if(Array.isArray(t))return t}var bI=/[ \f\n\r\t\v\u2028\u2029]+/,wI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];be(n)||(r?o=n.toString().split(""):o=n.toString().split(bI));var a=o.map(function(l){return{word:l,width:kl(l,i).width}}),s=r?0:kl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},kK=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Q(a),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(R,F){var L=F.word,B=F.width,V=R[R.length-1];if(V&&(i==null||o||V.width+B+r<Number(i)))V.words.push(L),V.width+=B+r;else{var X={words:[L],width:B};R.push(X)}return R},[])},g=h(n),v=function(P){return P.reduce(function(R,F){return R.width>F.width?R:F})};if(!d)return g;for(var y="",b=function(P){var R=f.slice(0,P),F=wI({breakAll:u,style:l,children:R+y}).wordsWithComputedWidth,L=h(F),B=L.length>a||v(L).width>Number(i);return[B,L]},x=0,w=f.length-1,_=0,E;x<=w&&_<=f.length-1;){var S=Math.floor((x+w)/2),T=S-1,A=b(T),N=IS(A,2),C=N[0],I=N[1],O=b(S),$=IS(O,1),U=$[0];if(!C&&!U&&(x=S+1),C&&U&&(w=S-1),!C&&U){E=I;break}_++}return E||g},OS=function(e){var n=be(e)?[]:e.toString().split(bI);return[{words:n}]},NK=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Uo.isSsr){var l,u,d=wI({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return OS(i);return kK({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return OS(i)},RS="#808080",Po=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,x=b===void 0?RS:b,w=PS(e,bK),_=k.useMemo(function(){return NK({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,S=w.dy,T=w.angle,A=w.className,N=w.breakAll,C=PS(w,wK);if(!wt(r)||!wt(o))return null;var I=r+(Q(E)?E:0),O=o+(Q(S)?S:0),$;switch(y){case"start":$=Cm("calc(".concat(u,")"));break;case"middle":$=Cm("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=Cm("calc(".concat(_.length-1," * -").concat(s,")"));break}var U=[];if(f){var D=_[0].width,P=w.width;U.push("scale(".concat((Q(P)?P/D:1)/D,")"))}return T&&U.push("rotate(".concat(T,", ").concat(I,", ").concat(O,")")),U.length&&(C.transform=U.join(" ")),M.createElement("text",ky({},fe(C,!0),{x:I,y:O,className:_e("recharts-text",A),textAnchor:g,fill:x.includes("url")?RS:x}),_.map(function(R,F){var L=R.words.join(N?"":" ");return M.createElement("tspan",{x:I,dy:F===0?$:s,key:"".concat(L,"-").concat(F)},L)}))};function Pi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bx(t){let e,n,r;t.length!==2?(e=Pi,n=(s,l)=>Pi(t(s),l),r=(s,l)=>t(s)-l):(e=t===Pi||t===CK?t:PK,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function PK(){return 0}function _I(t){return t===null?NaN:+t}function*IK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jK=bx(Pi),tc=jK.right;bx(_I).center;class MS extends Map{constructor(e,n=MK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($S(this,e))}has(e){return super.has($S(this,e))}set(e,n){return super.set(OK(this,e),n)}delete(e){return super.delete(RK(this,e))}}function $S({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function OK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function RK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $K(t=Pi){if(t===Pi)return SI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const DK=Math.sqrt(50),LK=Math.sqrt(10),UK=Math.sqrt(2);function pf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=DK?10:o>=LK?5:o>=UK?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?pf(t,e,n*2):[s,l,u]}function Ny(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?pf(e,t,n):pf(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Cy(t,e,n){return e=+e,t=+t,n=+n,pf(t,e,n)[2]}function Py(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cy(e,t,n):Cy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SI:$K(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));EI(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Qs(t,n,e),i(t[r],o)>0&&Qs(t,n,r);a<s;){for(Qs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Qs(t,n,s):(++s,Qs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Qs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function FK(t,e,n){if(t=Float64Array.from(IK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return LS(t);if(e>=1)return DS(t);var r,i=(r-1)*e,o=Math.floor(i),a=DS(EI(t,o).subarray(0,o+1)),s=LS(t.subarray(o+1));return a+(s-a)*(i-o)}}function BK(t,e,n=_I){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function qK(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ii(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Iy=Symbol("implicit");function wx(){var t=new MS,e=[],n=[],r=Iy;function i(o){let a=t.get(o);if(a===void 0){if(r!==Iy)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new MS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wx(e,n).unknown(r)},qn.apply(i,arguments),i}function hu(){var t=wx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=qK(h).map(function(x){return v+o*x});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return hu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},qn.apply(f(),arguments)}function TI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TI(e())},t}function Nl(){return TI(hu.apply(null,arguments).paddingInner(1))}function _x(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nc(){}var pu=.7,mf=1/pu,Da="\\s*([+-]?\\d+)\\s*",mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VK=/^#([0-9a-f]{3,8})$/,GK=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),HK=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),zK=new RegExp(`^rgba\\(${Da},${Da},${Da},${mu}\\)$`),WK=new RegExp(`^rgba\\(${vr},${vr},${vr},${mu}\\)$`),KK=new RegExp(`^hsl\\(${mu},${vr},${vr}\\)$`),JK=new RegExp(`^hsla\\(${mu},${vr},${vr},${mu}\\)$`),US={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_x(nc,gu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FS,formatHex:FS,formatHex8:YK,formatHsl:XK,formatRgb:BS,toString:BS});function FS(){return this.rgb().formatHex()}function YK(){return this.rgb().formatHex8()}function XK(){return kI(this).formatHsl()}function BS(){return this.rgb().formatRgb()}function gu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=VK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qS(e):n===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GK.exec(t))?new nn(e[1],e[2],e[3],1):(e=HK.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zK.exec(t))?Dc(e[1],e[2],e[3],e[4]):(e=WK.exec(t))?Dc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=KK.exec(t))?HS(e[1],e[2]/100,e[3]/100,1):(e=JK.exec(t))?HS(e[1],e[2]/100,e[3]/100,e[4]):US.hasOwnProperty(t)?qS(US[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function qS(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function Dc(t,e,n,r){return r<=0&&(t=e=n=NaN),new nn(t,e,n,r)}function QK(t){return t instanceof nc||(t=gu(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function jy(t,e,n,r){return arguments.length===1?QK(t):new nn(t,e,n,r??1)}function nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_x(nn,jy,AI(nc,{brighter(t){return t=t==null?mf:Math.pow(mf,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pu:Math.pow(pu,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(wo(this.r),wo(this.g),wo(this.b),gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VS,formatHex:VS,formatHex8:ZK,formatRgb:GS,toString:GS}));function VS(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function ZK(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function GS(){const t=gf(this.opacity);return`${t===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${t===1?")":`, ${t})`}`}function gf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function po(t){return t=wo(t),(t<16?"0":"")+t.toString(16)}function HS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tr(t,e,n,r)}function kI(t){if(t instanceof tr)return new tr(t.h,t.s,t.l,t.opacity);if(t instanceof nc||(t=gu(t)),!t)return new tr;if(t instanceof tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new tr(a,s,l,t.opacity)}function eJ(t,e,n,r){return arguments.length===1?kI(t):new tr(t,e,n,r??1)}function tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_x(tr,eJ,AI(nc,{brighter(t){return t=t==null?mf:Math.pow(mf,t),new tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pu:Math.pow(pu,t),new tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nn(Pm(t>=240?t-240:t+120,i,r),Pm(t,i,r),Pm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tr(zS(this.h),Lc(this.s),Lc(this.l),gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gf(this.opacity);return`${t===1?"hsl(":"hsla("}${zS(this.h)}, ${Lc(this.s)*100}%, ${Lc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zS(t){return t=(t||0)%360,t<0?t+360:t}function Lc(t){return Math.max(0,Math.min(1,t||0))}function Pm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sx=t=>()=>t;function tJ(t,e){return function(n){return t+n*e}}function nJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rJ(t){return(t=+t)==1?NI:function(e,n){return n-e?nJ(e,n,t):Sx(isNaN(e)?n:e)}}function NI(t,e){var n=e-t;return n?tJ(t,n):Sx(isNaN(t)?e:t)}const WS=function t(e){var n=rJ(e);function r(i,o){var a=n((i=jy(i)).r,(o=jy(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=NI(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function iJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function oJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ms(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function sJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ms(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Im=new RegExp(Oy.source,"g");function uJ(t){return function(){return t}}function cJ(t){return function(e){return t(e)+""}}function dJ(t,e){var n=Oy.lastIndex=Im.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Oy.exec(t))&&(i=Im.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:yf(r,i)})),n=Im.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?cJ(l[0].x):uJ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Ms(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sx(e):(n==="number"?yf:n==="string"?(r=gu(e))?(e=r,WS):dJ:e instanceof gu?WS:e instanceof Date?sJ:oJ(e)?iJ:Array.isArray(e)?aJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lJ:yf)(t,e)}function Ex(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fJ(t,e){e===void 0&&(e=t,t=Ms);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function hJ(t){return function(){return t}}function vf(t){return+t}var KS=[0,1];function zt(t){return t}function Ry(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hJ(isNaN(e)?NaN:.5)}function pJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mJ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ry(i,r),o=n(a,o)):(r=Ry(r,i),o=n(o,a)),function(s){return o(r(s))}}function gJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ry(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=tc(t,s,1,r)-1;return o[l](i[l](s))}}function rc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function np(){var t=KS,e=KS,n=Ms,r,i,o,a=zt,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==zt&&(a=pJ(t[0],t[h-1])),s=h>2?gJ:mJ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),yf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,vf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Ex,d()},f.clamp=function(h){return arguments.length?(a=h?!0:zt,d()):a!==zt},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,d()}}function Tx(){return np()(zt,zt)}function yJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function es(t){return t=xf(Math.abs(t)),t?t[1]:NaN}function vJ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function xJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yu(t){if(!(e=bJ.exec(t)))throw new Error("invalid format: "+t);var e;return new Ax({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yu.prototype=Ax.prototype;function Ax(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ax.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var CI;function _J(t,e){var n=xf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(CI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xf(t,Math.max(0,e+o-1))[0]}function JS(t,e){var n=xf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JS(t*100,e),r:JS,s:_J,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XS(t){return t}var QS=Array.prototype.map,ZS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SJ(t){var e=t.grouping===void 0||t.thousands===void 0?XS:vJ(QS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?XS:xJ(QS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=yu(f);var h=f.fill,g=f.align,v=f.sign,y=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,E=f.trim,S=f.type;S==="n"?(w=!0,S="g"):YS[S]||(_===void 0&&(_=12),E=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",N=YS[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var $=T,U=A,D,P,R;if(S==="c")U=N(O)+U,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?l:N(Math.abs(O),_),E&&(O=wJ(O)),F&&+O==0&&v!=="+"&&(F=!1),$=(F?v==="("?v:s:v==="-"||v==="("?"":v)+$,U=(S==="s"?ZS[8+CI/3]:"")+U+(F&&v==="("?")":""),C){for(D=-1,P=O.length;++D<P;)if(R=O.charCodeAt(D),48>R||R>57){U=(R===46?i+O.slice(D+1):O.slice(D))+U,O=O.slice(0,D);break}}}w&&!b&&(O=e(O,1/0));var L=$.length+O.length+U.length,B=L<x?new Array(x-L+1).join(h):"";switch(w&&b&&(O=e(B+O,B.length?x-U.length:1/0),B=""),g){case"<":O=$+O+U+B;break;case"=":O=$+B+O+U;break;case"^":O=B.slice(0,L=B.length>>1)+$+O+U+B.slice(L);break;default:O=B+$+O+U;break}return o(O)}return I.toString=function(){return f+""},I}function d(f,h){var g=u((f=yu(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(es(h)/3)))*3,y=Math.pow(10,-v),b=ZS[8+v/3];return function(x){return g(y*x)+b}}return{format:u,formatPrefix:d}}var Uc,kx,PI;EJ({thousands:",",grouping:[3],currency:["$",""]});function EJ(t){return Uc=SJ(t),kx=Uc.format,PI=Uc.formatPrefix,Uc}function TJ(t){return Math.max(0,-es(Math.abs(t)))}function AJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(es(e)/3)))*3-es(Math.abs(t)))}function kJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,es(e)-es(t))+1}function II(t,e,n,r){var i=Py(t,e,n),o;switch(r=yu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=AJ(i,a))&&(r.precision=o),PI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=kJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=TJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return kx(r)}function Ui(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ny(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return II(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=Cy(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function bf(){var t=Tx();return t.copy=function(){return rc(t,bf())},qn.apply(t,arguments),Ui(t)}function jI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jI(t).unknown(e)},t=arguments.length?Array.from(t,vf):[0,1],Ui(n)}function OI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function e1(t){return Math.log(t)}function t1(t){return Math.exp(t)}function NJ(t){return-Math.log(-t)}function CJ(t){return-Math.exp(-t)}function PJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IJ(t){return t===10?PJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function n1(t){return(e,n)=>-t(-e,n)}function Nx(t){const e=t(e1,t1),n=e.domain;let r=10,i,o;function a(){return i=jJ(r),o=IJ(r),n()[0]<0?(i=n1(i),o=n1(o),t(NJ,CJ)):t(e1,t1),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),v,y;const b=s==null?10:+s;let x=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<b&&(x=Ny(u,d,b))}else x=Ny(h,g,Math.min(g-h,b)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yu(l)).precision==null&&(l.trim=!0),l=kx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(OI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function RI(){const t=Nx(np()).domain([1,10]);return t.copy=()=>rc(t,RI()).base(t.base()),qn.apply(t,arguments),t}function r1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function i1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Cx(t){var e=1,n=t(r1(e),i1(e));return n.constant=function(r){return arguments.length?t(r1(e=+r),i1(e)):e},Ui(n)}function MI(){var t=Cx(np());return t.copy=function(){return rc(t,MI()).constant(t.constant())},qn.apply(t,arguments)}function o1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function OJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function RJ(t){return t<0?-t*t:t*t}function Px(t){var e=t(zt,zt),n=1;function r(){return n===1?t(zt,zt):n===.5?t(OJ,RJ):t(o1(n),o1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ui(e)}function Ix(){var t=Px(np());return t.copy=function(){return rc(t,Ix()).exponent(t.exponent())},qn.apply(t,arguments),t}function MJ(){return Ix.apply(null,arguments).exponent(.5)}function a1(t){return Math.sign(t)*t*t}function $J(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $I(){var t=Tx(),e=[0,1],n=!1,r;function i(o){var a=$J(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(a1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,vf)).map(a1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $I(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},qn.apply(i,arguments),Ui(i)}function DI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=BK(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[tc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Pi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return DI().domain(t).range(e).unknown(r)},qn.apply(o,arguments)}function LI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[tc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return LI().domain([t,e]).range(i).unknown(o)},qn.apply(Ui(a),arguments)}function UI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[tc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return UI().domain(t).range(e).unknown(n)},qn.apply(i,arguments)}const jm=new Date,Om=new Date;function _t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>_t(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(jm.setTime(+o),Om.setTime(+a),t(jm),t(Om),Math.floor(n(jm,Om))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const wf=_t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wf);wf.range;const Lr=1e3,On=Lr*60,Ur=On*60,Yr=Ur*24,jx=Yr*7,s1=Yr*30,Rm=Yr*365,mo=_t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getUTCSeconds());mo.range;const Ox=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lr)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getMinutes());Ox.range;const Rx=_t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCMinutes());Rx.range;const Mx=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lr-t.getMinutes()*On)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getHours());Mx.range;const $x=_t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCHours());$x.range;const ic=_t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*On)/Yr,t=>t.getDate()-1);ic.range;const rp=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yr,t=>t.getUTCDate()-1);rp.range;const FI=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yr,t=>Math.floor(t/Yr));FI.range;function Fo(t){return _t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*On)/jx)}const ip=Fo(0),_f=Fo(1),DJ=Fo(2),LJ=Fo(3),ts=Fo(4),UJ=Fo(5),FJ=Fo(6);ip.range;_f.range;DJ.range;LJ.range;ts.range;UJ.range;FJ.range;function Bo(t){return _t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jx)}const op=Bo(0),Sf=Bo(1),BJ=Bo(2),qJ=Bo(3),ns=Bo(4),VJ=Bo(5),GJ=Bo(6);op.range;Sf.range;BJ.range;qJ.range;ns.range;VJ.range;GJ.range;const Dx=_t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Dx.range;const Lx=_t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Lx.range;const Xr=_t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xr.range;const Qr=_t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qr.range;function BI(t,e,n,r,i,o){const a=[[mo,1,Lr],[mo,5,5*Lr],[mo,15,15*Lr],[mo,30,30*Lr],[o,1,On],[o,5,5*On],[o,15,15*On],[o,30,30*On],[i,1,Ur],[i,3,3*Ur],[i,6,6*Ur],[i,12,12*Ur],[r,1,Yr],[r,2,2*Yr],[n,1,jx],[e,1,s1],[e,3,3*s1],[t,1,Rm]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:l(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,g=bx(([,,b])=>b).right(a,h);if(g===a.length)return t.every(Py(u/Rm,d/Rm,f));if(g===0)return wf.every(Math.max(Py(u,d,f),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[HJ,zJ]=BI(Qr,Lx,op,FI,$x,Rx),[WJ,KJ]=BI(Xr,Dx,ip,ic,Mx,Ox);function Mm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $m(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function JJ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=el(i),d=tl(i),f=el(o),h=tl(o),g=el(a),v=tl(a),y=el(s),b=tl(s),x=el(l),w=tl(l),_={a:F,A:L,b:B,B:V,c:null,d:h1,e:h1,f:vY,g:NY,G:PY,H:mY,I:gY,j:yY,L:qI,m:xY,M:bY,p:X,q:G,Q:g1,s:y1,S:wY,u:_Y,U:SY,V:EY,w:TY,W:AY,x:null,X:null,y:kY,Y:CY,Z:IY,"%":m1},E={a:ae,A:we,b:Se,B:ke,c:null,d:p1,e:p1,f:MY,g:HY,G:WY,H:jY,I:OY,j:RY,L:GI,m:$Y,M:DY,p:Te,q:Je,Q:g1,s:y1,S:LY,u:UY,U:FY,V:BY,w:qY,W:VY,x:null,X:null,y:GY,Y:zY,Z:KY,"%":m1},S={a:I,A:O,b:$,B:U,c:D,d:d1,e:d1,f:dY,g:c1,G:u1,H:f1,I:f1,j:sY,L:cY,m:aY,M:lY,p:C,q:oY,Q:hY,s:pY,S:uY,u:eY,U:tY,V:nY,w:ZJ,W:rY,x:P,X:R,y:c1,Y:u1,Z:iY,"%":fY};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(Y,de){return function(ge){var K=[],je=-1,q=0,re=Y.length,ue,xe,Oe;for(ge instanceof Date||(ge=new Date(+ge));++je<re;)Y.charCodeAt(je)===37&&(K.push(Y.slice(q,je)),(xe=l1[ue=Y.charAt(++je)])!=null?ue=Y.charAt(++je):xe=ue==="e"?" ":"0",(Oe=de[ue])&&(ue=Oe(ge,xe)),K.push(ue),q=je+1);return K.push(Y.slice(q,je)),K.join("")}}function A(Y,de){return function(ge){var K=Zs(1900,void 0,1),je=N(K,Y,ge+="",0),q,re;if(je!=ge.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(q=$m(Zs(K.y,0,1)),re=q.getUTCDay(),q=re>4||re===0?Sf.ceil(q):Sf(q),q=rp.offset(q,(K.V-1)*7),K.y=q.getUTCFullYear(),K.m=q.getUTCMonth(),K.d=q.getUTCDate()+(K.w+6)%7):(q=Mm(Zs(K.y,0,1)),re=q.getDay(),q=re>4||re===0?_f.ceil(q):_f(q),q=ic.offset(q,(K.V-1)*7),K.y=q.getFullYear(),K.m=q.getMonth(),K.d=q.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),re="Z"in K?$m(Zs(K.y,0,1)).getUTCDay():Mm(Zs(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(re+5)%7:K.w+K.U*7-(re+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,$m(K)):Mm(K)}}function N(Y,de,ge,K){for(var je=0,q=de.length,re=ge.length,ue,xe;je<q;){if(K>=re)return-1;if(ue=de.charCodeAt(je++),ue===37){if(ue=de.charAt(je++),xe=S[ue in l1?de.charAt(je++):ue],!xe||(K=xe(Y,ge,K))<0)return-1}else if(ue!=ge.charCodeAt(K++))return-1}return K}function C(Y,de,ge){var K=u.exec(de.slice(ge));return K?(Y.p=d.get(K[0].toLowerCase()),ge+K[0].length):-1}function I(Y,de,ge){var K=g.exec(de.slice(ge));return K?(Y.w=v.get(K[0].toLowerCase()),ge+K[0].length):-1}function O(Y,de,ge){var K=f.exec(de.slice(ge));return K?(Y.w=h.get(K[0].toLowerCase()),ge+K[0].length):-1}function $(Y,de,ge){var K=x.exec(de.slice(ge));return K?(Y.m=w.get(K[0].toLowerCase()),ge+K[0].length):-1}function U(Y,de,ge){var K=y.exec(de.slice(ge));return K?(Y.m=b.get(K[0].toLowerCase()),ge+K[0].length):-1}function D(Y,de,ge){return N(Y,e,de,ge)}function P(Y,de,ge){return N(Y,n,de,ge)}function R(Y,de,ge){return N(Y,r,de,ge)}function F(Y){return a[Y.getDay()]}function L(Y){return o[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function X(Y){return i[+(Y.getHours()>=12)]}function G(Y){return 1+~~(Y.getMonth()/3)}function ae(Y){return a[Y.getUTCDay()]}function we(Y){return o[Y.getUTCDay()]}function Se(Y){return l[Y.getUTCMonth()]}function ke(Y){return s[Y.getUTCMonth()]}function Te(Y){return i[+(Y.getUTCHours()>=12)]}function Je(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var de=T(Y+="",_);return de.toString=function(){return Y},de},parse:function(Y){var de=A(Y+="",!1);return de.toString=function(){return Y},de},utcFormat:function(Y){var de=T(Y+="",E);return de.toString=function(){return Y},de},utcParse:function(Y){var de=A(Y+="",!0);return de.toString=function(){return Y},de}}}var l1={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,YJ=/^%/,XJ=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function QJ(t){return t.replace(XJ,"\\$&")}function el(t){return new RegExp("^(?:"+t.map(QJ).join("|")+")","i")}function tl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ZJ(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function eY(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function tY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function u1(t,e,n){var r=kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function c1(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oY(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function aY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d1(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sY(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function f1(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uY(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cY(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dY(t,e,n){var r=kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fY(t,e,n){var r=YJ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hY(t,e,n){var r=kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pY(t,e,n){var r=kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function h1(t,e){return Pe(t.getDate(),e,2)}function mY(t,e){return Pe(t.getHours(),e,2)}function gY(t,e){return Pe(t.getHours()%12||12,e,2)}function yY(t,e){return Pe(1+ic.count(Xr(t),t),e,3)}function qI(t,e){return Pe(t.getMilliseconds(),e,3)}function vY(t,e){return qI(t,e)+"000"}function xY(t,e){return Pe(t.getMonth()+1,e,2)}function bY(t,e){return Pe(t.getMinutes(),e,2)}function wY(t,e){return Pe(t.getSeconds(),e,2)}function _Y(t){var e=t.getDay();return e===0?7:e}function SY(t,e){return Pe(ip.count(Xr(t)-1,t),e,2)}function VI(t){var e=t.getDay();return e>=4||e===0?ts(t):ts.ceil(t)}function EY(t,e){return t=VI(t),Pe(ts.count(Xr(t),t)+(Xr(t).getDay()===4),e,2)}function TY(t){return t.getDay()}function AY(t,e){return Pe(_f.count(Xr(t)-1,t),e,2)}function kY(t,e){return Pe(t.getFullYear()%100,e,2)}function NY(t,e){return t=VI(t),Pe(t.getFullYear()%100,e,2)}function CY(t,e){return Pe(t.getFullYear()%1e4,e,4)}function PY(t,e){var n=t.getDay();return t=n>=4||n===0?ts(t):ts.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function IY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function p1(t,e){return Pe(t.getUTCDate(),e,2)}function jY(t,e){return Pe(t.getUTCHours(),e,2)}function OY(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function RY(t,e){return Pe(1+rp.count(Qr(t),t),e,3)}function GI(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function MY(t,e){return GI(t,e)+"000"}function $Y(t,e){return Pe(t.getUTCMonth()+1,e,2)}function DY(t,e){return Pe(t.getUTCMinutes(),e,2)}function LY(t,e){return Pe(t.getUTCSeconds(),e,2)}function UY(t){var e=t.getUTCDay();return e===0?7:e}function FY(t,e){return Pe(op.count(Qr(t)-1,t),e,2)}function HI(t){var e=t.getUTCDay();return e>=4||e===0?ns(t):ns.ceil(t)}function BY(t,e){return t=HI(t),Pe(ns.count(Qr(t),t)+(Qr(t).getUTCDay()===4),e,2)}function qY(t){return t.getUTCDay()}function VY(t,e){return Pe(Sf.count(Qr(t)-1,t),e,2)}function GY(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function HY(t,e){return t=HI(t),Pe(t.getUTCFullYear()%100,e,2)}function zY(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function WY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ns(t):ns.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function KY(){return"+0000"}function m1(){return"%"}function g1(t){return+t}function y1(t){return Math.floor(+t/1e3)}var ta,zI,WI;JY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JY(t){return ta=JJ(t),zI=ta.format,ta.parse,WI=ta.utcFormat,ta.utcParse,ta}function YY(t){return new Date(t)}function XY(t){return t instanceof Date?+t:+new Date(+t)}function Ux(t,e,n,r,i,o,a,s,l,u){var d=Tx(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),E=u("%Y");function S(T){return(l(T)<T?g:s(T)<T?v:a(T)<T?y:o(T)<T?b:r(T)<T?i(T)<T?x:w:n(T)<T?_:E)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,XY)):h().map(YY)},d.ticks=function(T){var A=h();return t(A[0],A[A.length-1],T??10)},d.tickFormat=function(T,A){return A==null?S:u(A)},d.nice=function(T){var A=h();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?h(OI(A,T)):d},d.copy=function(){return rc(d,Ux(t,e,n,r,i,o,a,s,l,u))},d}function QY(){return qn.apply(Ux(WJ,KJ,Xr,Dx,ip,ic,Mx,Ox,mo,zI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZY(){return qn.apply(Ux(HJ,zJ,Qr,Lx,op,rp,$x,Rx,mo,WI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ap(){var t=0,e=1,n,r,i,o,a=zt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,a=f(g,v),u):[a(0),a(1)]}}return u.range=d(Ms),u.rangeRound=d(Ex),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Fi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KI(){var t=Ui(ap()(zt));return t.copy=function(){return Fi(t,KI())},ii.apply(t,arguments)}function JI(){var t=Nx(ap()).domain([1,10]);return t.copy=function(){return Fi(t,JI()).base(t.base())},ii.apply(t,arguments)}function YI(){var t=Cx(ap());return t.copy=function(){return Fi(t,YI()).constant(t.constant())},ii.apply(t,arguments)}function Fx(){var t=Px(ap());return t.copy=function(){return Fi(t,Fx()).exponent(t.exponent())},ii.apply(t,arguments)}function eX(){return Fx.apply(null,arguments).exponent(.5)}function XI(){var t=[],e=zt;function n(r){if(r!=null&&!isNaN(r=+r))return e((tc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Pi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>FK(t,o/r))},n.copy=function(){return XI(e).domain(t)},ii.apply(n,arguments)}function sp(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=zt,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var x,w,_;return arguments.length?([x,w,_]=b,u=fJ(y,[x,w,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(Ms),g.rangeRound=v(Ex),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function QI(){var t=Ui(sp()(zt));return t.copy=function(){return Fi(t,QI())},ii.apply(t,arguments)}function ZI(){var t=Nx(sp()).domain([.1,1,10]);return t.copy=function(){return Fi(t,ZI()).base(t.base())},ii.apply(t,arguments)}function e2(){var t=Cx(sp());return t.copy=function(){return Fi(t,e2()).constant(t.constant())},ii.apply(t,arguments)}function Bx(){var t=Px(sp());return t.copy=function(){return Fi(t,Bx()).exponent(t.exponent())},ii.apply(t,arguments)}function tX(){return Bx.apply(null,arguments).exponent(.5)}const v1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hu,scaleDiverging:QI,scaleDivergingLog:ZI,scaleDivergingPow:Bx,scaleDivergingSqrt:tX,scaleDivergingSymlog:e2,scaleIdentity:jI,scaleImplicit:Iy,scaleLinear:bf,scaleLog:RI,scaleOrdinal:wx,scalePoint:Nl,scalePow:Ix,scaleQuantile:DI,scaleQuantize:LI,scaleRadial:$I,scaleSequential:KI,scaleSequentialLog:JI,scaleSequentialPow:Fx,scaleSequentialQuantile:XI,scaleSequentialSqrt:eX,scaleSequentialSymlog:YI,scaleSqrt:MJ,scaleSymlog:MI,scaleThreshold:UI,scaleTime:QY,scaleUtc:ZY,tickFormat:II},Symbol.toStringTag,{value:"Module"}));var nX=As;function rX(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!nX(a):n(a,s)))var s=a,l=o}return l}var lp=rX;function iX(t,e){return t>e}var t2=iX,oX=lp,aX=t2,sX=Rs;function lX(t){return t&&t.length?oX(t,sX,aX):void 0}var uX=lX;const up=$e(uX);function cX(t,e){return t<e}var n2=cX,dX=lp,fX=n2,hX=Rs;function pX(t){return t&&t.length?dX(t,hX,fX):void 0}var mX=pX;const cp=$e(mX);var gX=tx,yX=kr,vX=cI,xX=ln;function bX(t,e){var n=xX(t)?gX:vX;return n(t,yX(e))}var wX=bX,_X=lI,SX=wX;function EX(t,e){return _X(SX(t,e),1)}var TX=EX;const AX=$e(TX);var kX=gx;function NX(t,e){return kX(t,e)}var CX=NX;const oc=$e(CX);var $s=1e9,PX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vx,Xe=!0,Un="[DecimalError] ",_o=Un+"Invalid argument: ",qx=Un+"Exponent out of range: ",Ds=Math.floor,ro=Math.pow,IX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,St=1e7,We=7,r2=9007199254740991,Ef=Ds(r2/We),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*We;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};le.dividedBy=le.div=function(t){return Gr(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,n=e.constructor;return Ue(Gr(e,new n(t),0,1),n.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return pt(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vn))throw Error(Un+"NaN");if(n.s<1)throw Error(Un+(n.s?"NaN":"-Infinity"));return n.eq(vn)?new r(0):(Xe=!1,e=Gr(vu(n,o),vu(t,o),o),Xe=!0,Ue(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a2(e,t):i2(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Un+"NaN");return n.s?(Xe=!1,e=Gr(n,t,0,1).times(t),Xe=!0,n.minus(e)):Ue(new r(n),i)};le.naturalExponential=le.exp=function(){return o2(this)};le.naturalLogarithm=le.ln=function(){return vu(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?i2(e,t):a2(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_o+t);if(e=pt(i)+1,r=i.d.length-1,n=r*We+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};le.squareRoot=le.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Un+"NaN")}for(t=pt(s),Xe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=mr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ds((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Gr(s,o,a+2)).times(.5),mr(o.d).slice(0,a)===(e=mr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Xe=!0,Ue(r,n)};le.times=le.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%St|0,e=s/St|0;o[i]=(o[i]+e)%St|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Xe?Ue(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_r(t,0,$s),e===void 0?e=r.rounding:_r(e,0,8),Ue(n,t+pt(n)+1,e))};le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Io(r,!0):(_r(t,0,$s),e===void 0?e=i.rounding:_r(e,0,8),r=Ue(new i(r),t+1,e),n=Io(r,!0,t+1)),n};le.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Io(i):(_r(t,0,$s),e===void 0?e=o.rounding:_r(e,0,8),r=Ue(new o(i),t+pt(i)+1,e),n=Io(r.abs(),!1,t+pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),pt(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Un+"Infinity");return s}if(s.eq(vn))return s;if(r=l.precision,t.eq(vn))return Ue(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=r2){for(i=new l(vn),e=Math.ceil(r/We+4),Xe=!1;n%2&&(i=i.times(s),b1(i.d,e)),n=Ds(n/2),n!==0;)s=s.times(s),b1(s.d,e);return Xe=!0,t.s<0?new l(vn).div(i):Ue(i,r)}}else if(o<0)throw Error(Un+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Xe=!1,i=t.times(vu(s,r+u)),Xe=!0,i=o2(i),i.s=o,i};le.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=pt(i),r=Io(i,n<=o.toExpNeg||n>=o.toExpPos)):(_r(t,1,$s),e===void 0?e=o.rounding:_r(e,0,8),i=Ue(new o(i),t,e),n=pt(i),r=Io(i,t<=n||n<=o.toExpNeg,t)),r};le.toSignificantDigits=le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_r(t,1,$s),e===void 0?e=r.rounding:_r(e,0,8)),Ue(new r(n),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pt(t),n=t.constructor;return Io(t,e<=n.toExpNeg||e>=n.toExpPos)};function i2(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Xe?Ue(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/We),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/St|0,l[o]%=St;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Xe?Ue(e,f):e}function _r(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_o+t)}function mr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=We-r.length,n&&(o+=fi(n)),o+=r;a=t[e],r=a+"",n=We-r.length,n&&(o+=fi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Gr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%St|0,a=o/St|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*St+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,g,v,y,b,x,w,_,E,S,T,A,N,C=r.constructor,I=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Un+"Division by zero");for(l=r.e-i.e,A=$.length,S=O.length,g=new C(I),v=g.d=[],u=0;$[u]==(O[u]||0);)++u;if($[u]>(O[u]||0)&&--l,o==null?w=o=C.precision:a?w=o+(pt(r)-pt(i))+1:w=o,w<0)return new C(0);if(w=w/We+2|0,u=0,A==1)for(d=0,$=$[0],w++;(u<S||d)&&w--;u++)_=d*St+(O[u]||0),v[u]=_/$|0,d=_%$|0;else{for(d=St/($[0]+1)|0,d>1&&($=t($,d),O=t(O,d),A=$.length,S=O.length),E=A,y=O.slice(0,A),b=y.length;b<A;)y[b++]=0;N=$.slice(),N.unshift(0),T=$[0],$[1]>=St/2&&++T;do d=0,s=e($,y,A,b),s<0?(x=y[0],A!=b&&(x=x*St+(y[1]||0)),d=x/T|0,d>1?(d>=St&&(d=St-1),f=t($,d),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(d--,n(f,A<h?N:$,h))):(d==0&&(s=d=1),f=$.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e($,y,A,b),s<1&&(d++,n(y,A<b?N:$,b))),b=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[b++]=O[E]||0:(y=[O[E]],b=1);while((E++<S||y[0]!==void 0)&&w--)}return v[0]||v.shift(),g.e=l,Ue(g,a?o+pt(g)+1:o)}}();function o2(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(pt(t)>16)throw Error(qx+pt(t));if(!t.s)return new d(vn);for(Xe=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ro(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(vn),d.precision=s;;){if(i=Ue(i.times(t),s),n=n.times(++l),a=o.plus(Gr(i,n,s)),mr(a.d).slice(0,s)===mr(o.d).slice(0,s)){for(;u--;)o=Ue(o.times(o),s);return d.precision=f,e==null?(Xe=!0,Ue(o,f)):o}o=a}}function pt(t){for(var e=t.e*We,n=t.d[0];n>=10;n/=10)e++;return e}function Dm(t,e,n){if(e>t.LN10.sd())throw Xe=!0,n&&(t.precision=n),Error(Un+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function fi(t){for(var e="";t--;)e+="0";return e}function vu(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Un+(g.s?"NaN":"-Infinity"));if(g.eq(vn))return new y(0);if(e==null?(Xe=!1,u=b):u=e,g.eq(10))return e==null&&(Xe=!0),Dm(y,u);if(u+=h,y.precision=u,n=mr(v),r=n.charAt(0),o=pt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=mr(g.d),r=n.charAt(0),f++;o=pt(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=Dm(y,u+2,b).times(o+""),g=vu(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(Xe=!0,Ue(g,b)):g;for(s=a=g=Gr(g.minus(vn),g.plus(vn),u),d=Ue(g.times(g),u),i=3;;){if(a=Ue(a.times(d),u),l=s.plus(Gr(a,new y(i),u)),mr(l.d).slice(0,u)===mr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Dm(y,u+2,b).times(o+""))),s=Gr(s,new y(f),u),y.precision=b,e==null?(Xe=!0,Ue(s,b)):s;s=l,i+=2}}function x1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ds(n/We),t.d=[],r=(n+1)%We,n<0&&(r+=We),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=We;r<i;)t.d.push(+e.slice(r,r+=We));e=e.slice(r),r=We-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xe&&(t.e>Ef||t.e<-Ef))throw Error(qx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=We,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/We),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=We,i=r-We+a}if(n!==void 0&&(o=ro(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ro(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=pt(t),f.length=1,e=e-o-1,f[0]=ro(10,(We-e%We)%We),t.e=Ds(-e/We)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=ro(10,We-r),f[d]=i>0?(u/ro(10,a-i)%ro(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==St&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=St)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Xe&&(t.e>Ef||t.e<-Ef))throw Error(qx+pt(t));return t}function a2(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Xe?Ue(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/We),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=St-1;--l[o],l[i]+=St}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Xe?Ue(e,g):e):new h(0)}function Io(t,e,n){var r,i=pt(t),o=mr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+fi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+fi(-i-1)+o,n&&(r=n-a)>0&&(o+=fi(r))):i>=a?(o+=fi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+fi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=fi(r))),t.s<0?"-"+o:o}function b1(t,e){if(t.length>e)return t.length=e,!0}function s2(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_o+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return x1(a,o.toString())}else if(typeof o!="string")throw Error(_o+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,IX.test(o))x1(a,o);else throw Error(_o+o)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=s2,i.config=i.set=jX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jX(t){if(!t||typeof t!="object")throw Error(Un+"Object expected");var e,n,r,i=["precision",1,$s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ds(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_o+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_o+n+": "+r);return this}var Vx=s2(PX);vn=new Vx(1);const Le=Vx;function OX(t){return DX(t)||$X(t)||MX(t)||RX()}function RX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function $X(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DX(t){if(Array.isArray(t))return My(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LX=function(e){return e},l2={},u2=function(e){return e===l2},w1=function(e){return function n(){return arguments.length===0||arguments.length===1&&u2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},UX=function t(e,n){return e===1?n:w1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==l2}).length;return a>=e?n.apply(void 0,i):t(e-a,w1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return u2(f)?l.shift():f});return n.apply(void 0,OX(d).concat(l))}))})},dp=function(e){return UX(e.length,e)},$y=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},FX=dp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),BX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return LX;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Dy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},c2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function qX(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function VX(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var GX=dp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),HX=dp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),zX=dp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const fp={rangeStep:VX,getDigitCount:qX,interpolateNumber:GX,uninterpolateNumber:HX,uninterpolateTruncation:zX};function Ly(t){return JX(t)||KX(t)||d2(t)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JX(t){if(Array.isArray(t))return Uy(t)}function xu(t,e){return QX(t)||XX(t,e)||d2(t,e)||YX()}function YX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function QX(t){if(Array.isArray(t))return t}function f2(t){var e=xu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function h2(t,e,n){if(t.lte(0))return new Le(0);var r=fp.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Le(Math.ceil(l))}function ZX(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(fp.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=BX(FX(function(l){return i.add(new Le(l-a).mul(r)).toNumber()}),$y);return s(0,e)}function p2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=h2(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Le(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?p2(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(l).mul(o))})}function eQ(t){var e=xu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=f2([n,r]),l=xu(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ly($y(0,i-1).map(function(){return 1/0}))):[].concat(Ly($y(0,i-1).map(function(){return-1/0})),[d]);return n>r?Dy(f):f}if(u===d)return ZX(u,i,o);var h=p2(u,d,a,o),g=h.step,v=h.tickMin,y=h.tickMax,b=fp.rangeStep(v,y.add(new Le(.1).mul(g)),g);return n>r?Dy(b):b}function tQ(t,e){var n=xu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=f2([r,i]),s=xu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=h2(new Le(u).sub(l).div(d-1),o,0),h=[].concat(Ly(fp.rangeStep(new Le(l),new Le(u).sub(new Le(.99).mul(f)),f)),[u]);return r>i?Dy(h):h}var nQ=c2(eQ),rQ=c2(tQ),iQ="Invariant failed";function jo(t,e){throw new Error(iQ)}var oQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}function aQ(t,e){return cQ(t)||uQ(t,e)||lQ(t,e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(t,e){if(t){if(typeof t=="string")return _1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _1(t,e)}}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cQ(t){if(Array.isArray(t))return t}function dQ(t,e){if(t==null)return{};var n=fQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y2(r.key),r)}}function mQ(t,e,n){return e&&pQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQ(t,e,n){return e=Af(e),yQ(t,m2()?Reflect.construct(e,n||[],Af(t).constructor):e.apply(t,n))}function yQ(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(t)}function vQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(t)}function xQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fy(t,e)}function g2(t,e,n){return e=y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y2(t){var e=bQ(t,"string");return rs(e)=="symbol"?e:e+""}function bQ(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ac=function(t){function e(){return hQ(this,e),gQ(this,e,arguments)}return xQ(e,t),mQ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=dQ(r,oQ),g=fe(h,!1);this.props.direction==="x"&&d.type!=="number"&&jo();var v=l.map(function(y){var b=u(y,s),x=b.x,w=b.y,_=b.value,E=b.errorVal;if(!E)return null;var S=[],T,A;if(Array.isArray(E)){var N=aQ(E,2);T=N[0],A=N[1]}else T=A=E;if(o==="vertical"){var C=d.scale,I=w+i,O=I+a,$=I-a,U=C(_-T),D=C(_+A);S.push({x1:D,y1:O,x2:D,y2:$}),S.push({x1:U,y1:I,x2:D,y2:I}),S.push({x1:U,y1:O,x2:U,y2:$})}else if(o==="horizontal"){var P=f.scale,R=x+i,F=R-a,L=R+a,B=P(_-T),V=P(_+A);S.push({x1:F,y1:V,x2:L,y2:V}),S.push({x1:R,y1:B,x2:R,y2:V}),S.push({x1:F,y1:B,x2:L,y2:B})}return M.createElement(Ce,Tf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},g),S.map(function(X){return M.createElement("line",Tf({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return M.createElement(Ce,{className:"recharts-errorBars"},v)}}])}(M.Component);g2(ac,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});g2(ac,"displayName","ErrorBar");function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=SQ(t,"string");return bu(e)=="symbol"?e:e+""}function SQ(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=hn(n,bo);if(!a)return null;var s=bo.defaultProps,l=s!==void 0?Ji(Ji({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Ji(Ji({},h),f.props):{},v=g.dataKey,y=g.name,b=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:l.iconType||b||"square",color:Gx(f),value:y||v,payload:g}}),Ji(Ji(Ji({},l),bo.getWithHeight(a,i)),{},{payload:u,item:a})};function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function E1(t){return kQ(t)||AQ(t)||TQ(t)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return By(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(t,e)}}function AQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kQ(t){if(Array.isArray(t))return By(t)}function By(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){La(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function La(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=CQ(t,"string");return wu(e)=="symbol"?e:e+""}function CQ(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xt(t,e,n){return be(t)||be(e)?n:wt(e)?wn(t,e,n):ye(e)?e(t):n}function Cl(t,e,n,r){var i=AX(t,function(s){return xt(s,e)});if(n==="number"){var o=i.filter(function(s){return Q(s)||parseFloat(s)});return o.length?[cp(o),up(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!be(s)}):i;return a.map(function(s){return wt(s)||s instanceof Date?s:""})}var PQ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Gt(f-d)!==Gt(h-f)){var v=[];if(Gt(h-f)===Gt(l[1]-l[0])){g=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var b=h+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},Gx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?it(it({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},IQ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,x=y.filter(function(A){return Vr(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?it(it({},w),x[0].props):x[0].props,E=_.barSize,S=_[b];a[S]||(a[S]=[]);var T=be(E)?n:E;a[S].push({item:x[0],stackList:x.slice(1),barSize:be(T)?void 0:Ht(T,r,0)})}}return a},jQ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ht(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};d=a.reduce(function(E,S){var T={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},A=[].concat(E1(E),[T]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){A.push({item:N,position:b})}),A},f)}else{var x=Ht(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;d=a.reduce(function(E,S,T){var A=[].concat(E1(E),[{item:S.item,position:{offset:x+(w+u)*T+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){A.push({item:N,position:A[A.length-1].position})}),A},f)}return d},OQ=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=v2({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Q(e[g]))return it(it({},e),{},La({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Q(e[v]))return it(it({},e),{},La({},v,e[v]+(h||0)))}return e},RQ=function(e,n,r){return be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},x2=function(e,n,r,i,o){var a=n.props.children,s=_n(a,ac).filter(function(u){return RQ(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=xt(d,r);if(be(f))return u;var h=Array.isArray(f)?[cp(f),up(f)]:[f,f],g=l.reduce(function(v,y){var b=xt(d,y,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},MQ=function(e,n,r,i,o){var a=n.map(function(s){return x2(e,s,r,o,i)}).filter(function(s){return!be(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},b2=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&x2(e,l,u,i)||Cl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},w2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},_2=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Fr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Gt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Lm=new WeakMap,Fc=function(e,n){if(typeof n!="function")return e;Lm.has(e)||Lm.set(e,new WeakMap);var r=Lm.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},S2=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:hu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:bf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Nl(),realScaleType:"point"}:o==="category"?{scale:hu(),realScaleType:"band"}:{scale:bf(),realScaleType:"linear"};if(No(i)){var l="scale".concat(Jh(i));return{scale:(v1[l]||Nl)(),realScaleType:v1[l]?l:"point"}}return ye(i)?{scale:i}:{scale:Nl(),realScaleType:"point"}},A1=1e-4,E2=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-A1,a=Math.max(i[0],i[1])+A1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},$Q=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},DQ=function(e,n){if(!n||n.length!==2||!Q(n[0])||!Q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Q(e[0])||e[0]<r)&&(o[0]=r),(!Q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},LQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Zu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},UQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Zu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},FQ={sign:LQ,expand:o6,none:Ja,silhouette:a6,wiggle:s6,positive:UQ},BQ=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=FQ[r],a=i6().keys(i).value(function(s,l){return+xt(s,l,0)}).order(fy).offset(o);return a(e)},qQ=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?it(it({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var x=v[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(wt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[Is("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return it(it({},f),{},La({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var x=g.stackGroups[b];return it(it({},y),{},La({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:BQ(e,x.items,o)}))},v)}return it(it({},f),{},La({},h,g))},d)},T2=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=nQ(u,o,s);return e.domain([cp(d),up(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=rQ(f,o,s);return{niceTicks:h}}return null};function k1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var s=Qd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=xt(i,be(a)?e.dataKey:a);return be(l)?null:e.scale(l)}var N1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=xt(a,n.dataKey,n.domain[s]);return be(l)?null:n.scale(l)-o/2+i},VQ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},GQ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?it(it({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(wt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},HQ=function(e){return e.reduce(function(n,r){return[cp(r.concat([n[0]]).filter(Q)),up(r.concat([n[1]]).filter(Q))]},[1/0,-1/0])},A2=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=HQ(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},C1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qy=function(e,n,r){if(ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(C1.test(e[0])){var o=+C1.exec(e[0])[1];i[0]=n[0]-o}else ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(P1.test(e[1])){var a=+P1.exec(e[1])[1];i[1]=n[1]+a}else ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vx(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},I1=function(e,n,r){return!e||!e.length||oc(e,wn(r,"type.defaultProps.domain"))?n:e},k2=function(e,n){var r=e.type.defaultProps?it(it({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return it(it({},fe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Gx(e),value:xt(n,i),type:l,payload:n,chartType:u,hide:d})};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t,e,n){return e=zQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zQ(t){var e=WQ(t,"string");return _u(e)=="symbol"?e:e+""}function WQ(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KQ(t,e){return QQ(t)||XQ(t,e)||YQ(t,e)||JQ()}function JQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return O1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O1(t,e)}}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function QQ(t){if(Array.isArray(t))return t}var Nf=Math.PI/180,ZQ=function(e){return e*180/Math.PI},Ge=function(e,n,r,i){return{x:e+Math.cos(-Nf*i)*r,y:n+Math.sin(-Nf*i)*r}},C2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},eZ=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=Ht(e.cx,a,a/2),f=Ht(e.cy,s,s/2),h=C2(a,s,r),g=Ht(e.innerRadius,h,0),v=Ht(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,x){var w=n[x],_=w.domain,E=w.reversed,S;if(be(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),E&&(S=[S[1],S[0]]);else{S=w.range;var T=S,A=KQ(T,2);l=A[0],u=A[1]}var N=S2(w,o),C=N.realScaleType,I=N.scale;I.domain(_).range(S),E2(I);var O=T2(I,Rr(Rr({},w),{},{realScaleType:C})),$=Rr(Rr(Rr({},w),O),{},{range:S,radius:v,realScaleType:C,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Rr(Rr({},b),{},N2({},x,$))},{})},tZ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},nZ=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=tZ({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:ZQ(u),angleInRadian:u}},rZ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},iZ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},R1=function(e,n){var r=e.x,i=e.y,o=nZ({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=rZ(n),f=d.startAngle,h=d.endAngle,g=s,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?Rr(Rr({},n),{},{radius:a,angle:iZ(g,n)}):null},P2=function(e){return!k.isValidElement(e)&&!ye(e)&&typeof e!="boolean"?e.className:""};function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}var oZ=["offset"];function aZ(t){return cZ(t)||uZ(t)||lZ(t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function uZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cZ(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dZ(t,e){if(t==null)return{};var n=fZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return Su(e)=="symbol"?e:e+""}function mZ(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}var gZ=function(e){var n=e.value,r=e.formatter,i=be(e.children)?n:e.children;return ye(r)?r(i):i},yZ=function(e,n){var r=Gt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},vZ=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,b=(f+h)/2,x=yZ(g,v),w=x>=0?1:-1,_,E;i==="insideStart"?(_=g+w*a,E=y):i==="insideEnd"?(_=v-w*a,E=!y):i==="end"&&(_=v+w*a,E=y),E=x<=0?E:!E;var S=Ge(u,d,b,_),T=Ge(u,d,b,_+(E?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),N=be(e.id)?Is("recharts-radial-line-"):e.id;return M.createElement("text",Eu({},r,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:N,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(N)},n))},xZ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=Ge(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=Ge(a,s,b,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},bZ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return gt(gt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return gt(gt({},E),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return gt(gt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var T={x:s+u+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return gt(gt({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var A=r?{width:u,height:d}:{};return o==="insideLeft"?gt({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideRight"?gt({x:s+u-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideTop"?gt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?gt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?gt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideTopRight"?gt({x:s+u-b,y:l+h,textAnchor:x,verticalAnchor:v},A):o==="insideBottomLeft"?gt({x:s+b,y:l+d-h,textAnchor:w,verticalAnchor:g},A):o==="insideBottomRight"?gt({x:s+u-b,y:l+d-h,textAnchor:x,verticalAnchor:g},A):ks(o)&&(Q(o.x)||ho(o.x))&&(Q(o.y)||ho(o.y))?gt({x:s+Ht(o.x,u),y:l+Ht(o.y,d),textAnchor:"end",verticalAnchor:"end"},A):gt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},wZ=function(e){return"cx"in e&&Q(e.cx)};function Tt(t){var e=t.offset,n=e===void 0?5:e,r=dZ(t,oZ),i=gt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||be(s)&&be(l)&&!k.isValidElement(u)&&!ye(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var g;if(ye(u)){if(g=k.createElement(u,i),k.isValidElement(g))return g}else g=gZ(i);var v=wZ(o),y=fe(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return vZ(i,g,y);var b=v?xZ(i):bZ(i);return M.createElement(Po,Eu({className:_e("recharts-label",f)},y,b,{breakAll:h}),g)}Tt.displayName="Label";var I2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,v=e.left,y=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Q(y)&&Q(b)){if(Q(f)&&Q(h))return{x:f,y:h,width:y,height:b};if(Q(g)&&Q(v))return{x:g,y:v,width:y,height:b}}return Q(f)&&Q(h)?{x:f,y:h,width:0,height:0}:Q(n)&&Q(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},_Z=function(e,n){return e?e===!0?M.createElement(Tt,{key:"label-implicit",viewBox:n}):wt(e)?M.createElement(Tt,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===Tt?k.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Tt,{key:"label-implicit",content:e,viewBox:n}):ye(e)?M.createElement(Tt,{key:"label-implicit",content:e,viewBox:n}):ks(e)?M.createElement(Tt,Eu({viewBox:n},e,{key:"label-implicit"})):null:null},SZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=I2(e),a=_n(i,Tt).map(function(l,u){return k.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=_Z(e.label,n||o);return[s].concat(aZ(a))};Tt.parseViewBox=I2;Tt.renderCallByParent=SZ;function EZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var TZ=EZ;const AZ=$e(TZ);function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var kZ=["valueAccessor"],NZ=["data","dataKey","clockWise","id","textBreakAll"];function CZ(t){return OZ(t)||jZ(t)||IZ(t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IZ(t,e){if(t){if(typeof t=="string")return Gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(t,e)}}function jZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OZ(t){if(Array.isArray(t))return Gy(t)}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=$Z(t,"string");return Tu(e)=="symbol"?e:e+""}function $Z(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L1(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LZ=function(e){return Array.isArray(e.value)?AZ(e.value):e.value};function Hr(t){var e=t.valueAccessor,n=e===void 0?LZ:e,r=L1(t,kZ),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=L1(r,NZ);return!i||!i.length?null:M.createElement(Ce,{className:"recharts-label-list"},i.map(function(d,f){var h=be(o)?n(d,f):xt(d&&d.payload,o),g=be(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Tt,Cf({},fe(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Tt.parseViewBox(be(a)?d:D1(D1({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Hr.displayName="LabelList";function UZ(t,e){return t?t===!0?M.createElement(Hr,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ye(t)?M.createElement(Hr,{key:"labelList-implicit",data:e,content:t}):ks(t)?M.createElement(Hr,Cf({data:e},t,{key:"labelList-implicit"})):null:null}function FZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_n(r,Hr).map(function(a,s){return k.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=UZ(t.label,e);return[o].concat(CZ(i))}Hr.renderCallByParent=FZ;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=VZ(t,"string");return Au(e)=="symbol"?e:e+""}function VZ(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GZ=function(e,n){var r=Gt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Bc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Nf,h=u?o:o+a*f,g=Ge(n,r,d,h),v=Ge(n,r,i,h),y=u?o-a*f:o,b=Ge(n,r,d*Math.cos(f*Nf),y);return{center:g,circleTangency:v,lineTangency:b,theta:f}},j2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=GZ(a,s),u=a+l,d=Ge(n,r,o,a),f=Ge(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Ge(n,r,i,a),v=Ge(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},HZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Gt(d-u),h=Bc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,b=Bc({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,_=b.theta,E=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):j2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=Bc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=T.circleTangency,N=T.lineTangency,C=T.theta,I=Bc({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=I.circleTangency,$=I.lineTangency,U=I.theta,D=l?Math.abs(u-d):Math.abs(u-d)-C-U;if(D<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},zZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O2=function(e){var n=F1(F1({},zZ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var g=_e("recharts-sector",h),v=a-o,y=Ht(s,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=HZ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=j2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),M.createElement("path",Hy({},fe(n,!0),{className:g,d:b,role:"img"}))};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=JZ(t,"string");return ku(e)=="symbol"?e:e+""}function JZ(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V1={curveBasisClosed:W8,curveBasisOpen:K8,curveBasis:z8,curveBumpX:j8,curveBumpY:O8,curveLinearClosed:J8,curveLinear:Xh,curveMonotoneX:Y8,curveMonotoneY:X8,curveNatural:Q8,curveStep:Z8,curveStepAfter:t6,curveStepBefore:e6},qc=function(e){return e.x===+e.x&&e.y===+e.y},nl=function(e){return e.x},rl=function(e){return e.y},YZ=function(e,n){if(ye(e))return e;var r="curve".concat(Jh(e));return(r==="curveMonotone"||r==="curveBump")&&n?V1["".concat(r).concat(n==="vertical"?"Y":"X")]:V1[r]||Xh},XZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=YZ(r,s),f=u?o.filter(function(y){return qc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return qc(y)}):a,v=f.map(function(y,b){return q1(q1({},y),{},{base:g[b]})});return s==="vertical"?h=jc().y(rl).x1(nl).x0(function(y){return y.base.x}):h=jc().x(nl).y1(rl).y0(function(y){return y.base.y}),h.defined(qc).curve(d),h(v)}return s==="vertical"&&Q(a)?h=jc().y(rl).x1(nl).x0(a):Q(a)?h=jc().x(nl).y1(rl).y0(a):h=kP().x(nl).y(rl),h.defined(qc).curve(d),h(f)},Pf=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?XZ(e):i;return k.createElement("path",zy({},fe(e,!1),Zd(e),{className:_e("recharts-curve",n),d:a,ref:o}))},R2={exports:{}},QZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZZ=QZ,eee=ZZ;function M2(){}function $2(){}$2.resetWarningCache=M2;var tee=function(){function t(r,i,o,a,s,l){if(l!==eee){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$2,resetWarningCache:M2};return n.PropTypes=n,n};R2.exports=tee();var nee=R2.exports;const Re=$e(nee),{getOwnPropertyNames:ree,getOwnPropertySymbols:iee}=Object,{hasOwnProperty:oee}=Object.prototype;function Um(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Vc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function aee(t){return t!=null?t[Symbol.toStringTag]:void 0}function G1(t){return ree(t).concat(iee(t))}const see=Object.hasOwn||((t,e)=>oee.call(t,e));function qo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const lee="__v",uee="__o",cee="_owner",{getOwnPropertyDescriptor:H1,keys:z1}=Object;function dee(t,e){return t.byteLength===e.byteLength&&If(new Uint8Array(t),new Uint8Array(e))}function fee(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hee(t,e){return t.byteLength===e.byteLength&&If(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function pee(t,e){return qo(t.getTime(),e.getTime())}function mee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gee(t,e){return t===e}function W1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const yee=qo;function vee(t,e,n){const r=z1(t);let i=r.length;if(z1(e).length!==i)return!1;for(;i-- >0;)if(!D2(t,e,n,r[i]))return!1;return!0}function il(t,e,n){const r=G1(t);let i=r.length;if(G1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!D2(t,e,n,o)||(a=H1(t,o),s=H1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function xee(t,e){return qo(t.valueOf(),e.valueOf())}function bee(t,e){return t.source===e.source&&t.flags===e.flags}function K1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function If(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function wee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function D2(t,e,n,r){return(r===cee||r===uee||r===lee)&&(t.$$typeof||e.$$typeof)?!0:see(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const _ee="[object ArrayBuffer]",See="[object Arguments]",Eee="[object Boolean]",Tee="[object DataView]",Aee="[object Date]",kee="[object Error]",Nee="[object Map]",Cee="[object Number]",Pee="[object Object]",Iee="[object RegExp]",jee="[object Set]",Oee="[object String]",Ree={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Mee="[object URL]",$ee=Object.prototype.toString;function Dee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(b,x,w){if(b===x)return!0;if(b==null||x==null)return!1;const _=typeof b;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?s(b,x,w):_==="function"?o(b,x,w):!1;const E=b.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(b,x,w);if(Array.isArray(b))return e(b,x,w);if(E===Date)return r(b,x,w);if(E===RegExp)return d(b,x,w);if(E===Map)return a(b,x,w);if(E===Set)return f(b,x,w);const S=$ee.call(b);if(S===Aee)return r(b,x,w);if(S===Iee)return d(b,x,w);if(S===Nee)return a(b,x,w);if(S===jee)return f(b,x,w);if(S===Pee)return typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,w);if(S===Mee)return g(b,x,w);if(S===kee)return i(b,x,w);if(S===See)return l(b,x,w);if(Ree[S])return h(b,x,w);if(S===_ee)return t(b,x,w);if(S===Tee)return n(b,x,w);if(S===Eee||S===Cee||S===Oee)return u(b,x,w);if(v){let T=v[S];if(!T){const A=aee(b);A&&(T=v[A])}if(T)return T(b,x,w)}return!1}}function Lee({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:dee,areArraysEqual:n?il:fee,areDataViewsEqual:hee,areDatesEqual:pee,areErrorsEqual:mee,areFunctionsEqual:gee,areMapsEqual:n?Um(W1,il):W1,areNumbersEqual:yee,areObjectsEqual:n?il:vee,arePrimitiveWrappersEqual:xee,areRegExpsEqual:bee,areSetsEqual:n?Um(K1,il):K1,areTypedArraysEqual:n?Um(If,il):If,areUrlsEqual:wee,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Vc(r.areArraysEqual),o=Vc(r.areMapsEqual),a=Vc(r.areObjectsEqual),s=Vc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Uee(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Fee({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Bee=Bi();Bi({strict:!0});Bi({circular:!0});Bi({circular:!0,strict:!0});Bi({createInternalComparator:()=>qo});Bi({strict:!0,createInternalComparator:()=>qo});Bi({circular:!0,createInternalComparator:()=>qo});Bi({circular:!0,createInternalComparator:()=>qo,strict:!0});function Bi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Lee(t),a=Dee(o),s=n?n(a):Uee(a);return Fee({circular:e,comparator:a,createState:r,equals:s,strict:i})}function qee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function J1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):qee(i)};requestAnimationFrame(r)}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function Vee(t){return Wee(t)||zee(t)||Hee(t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(t,e){if(t){if(typeof t=="string")return Y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y1(t,e)}}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wee(t){if(Array.isArray(t))return t}function Kee(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Vee(a),l=s[0],u=s.slice(1);if(typeof l=="number"){J1(i.bind(null,u),l);return}i(l),J1(i.bind(null,u));return}Wy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){L2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2(t,e,n){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=Yee(t,"string");return Nu(e)==="symbol"?e:String(e)}function Yee(t,e){if(Nu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Qee=function(e){return e},Zee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pl=function(e,n){return Object.keys(n).reduce(function(r,i){return Q1(Q1({},r),{},L2({},i,e(i,n[i])))},{})},Z1=function(e,n,r){return e.map(function(i){return"".concat(Zee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ete(t,e){return rte(t)||nte(t,e)||U2(t,e)||tte()}function tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rte(t){if(Array.isArray(t))return t}function ite(t){return ste(t)||ate(t)||U2(t)||ote()}function ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(t,e){if(t){if(typeof t=="string")return Ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ky(t,e)}}function ate(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ste(t){if(Array.isArray(t))return Ky(t)}function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jf=1e-4,F2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},B2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},eE=function(e,n){return function(r){var i=F2(e,n);return B2(i,r)}},lte=function(e,n){return function(r){var i=F2(e,n),o=[].concat(ite(i.map(function(a,s){return a*s}).slice(1)),[0]);return B2(o,r)}},tE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=ete(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=eE(i,a),h=eE(o,s),g=lte(i,a),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,_=w,E=0;E<8;++E){var S=f(_)-w,T=g(_);if(Math.abs(S-w)<jf||T<jf)return h(_);_=v(_-S/T)}return h(_)};return y.isStepper=!1,y},ute=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*r,v=h*o,y=h+(g-v)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<jf&&Math.abs(y)<jf?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},cte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tE(i);case"spring":return ute();default:if(i.split("(")[0]==="cubic-bezier")return tE(i)}return typeof i=="function"?i:null};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function nE(t){return hte(t)||fte(t)||q2(t)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hte(t){if(Array.isArray(t))return Yy(t)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jy(t,e,n){return e=pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return Cu(e)==="symbol"?e:String(e)}function mte(t,e){if(Cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gte(t,e){return xte(t)||vte(t,e)||q2(t,e)||yte()}function yte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xte(t){if(Array.isArray(t))return t}var Of=function(e,n,r){return e+(n-e)*r},Xy=function(e){var n=e.from,r=e.to;return n!==r},bte=function t(e,n,r){var i=Pl(function(o,a){if(Xy(a)){var s=e(a.from,a.to,a.velocity),l=gte(s,2),u=l[0],d=l[1];return It(It({},a),{},{from:u,velocity:d})}return a},n);return r<1?Pl(function(o,a){return Xy(a)?It(It({},a),{},{velocity:Of(a.velocity,i[o].velocity,r),from:Of(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const wte=function(t,e,n,r,i){var o=Xee(t,e),a=o.reduce(function(b,x){return It(It({},b),{},Jy({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return It(It({},b),{},Jy({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Pl(function(x,w){return w.from},s)},g=function(){return!Object.values(s).filter(Xy).length},v=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=bte(n,s,_),i(It(It(It({},t),e),h())),u=x,g()||(l=requestAnimationFrame(f))},y=function(x){d||(d=x);var w=(x-d)/r,_=Pl(function(S,T){return Of.apply(void 0,nE(T).concat([n(w)]))},a);if(i(It(It(It({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var E=Pl(function(S,T){return Of.apply(void 0,nE(T).concat([n(1)]))},a);i(It(It(It({},t),e),E))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}var _te=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ste(t,e){if(t==null)return{};var n=Ete(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ete(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fm(t){return Nte(t)||kte(t)||Ate(t)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(t,e){if(t){if(typeof t=="string")return Qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qy(t,e)}}function kte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nte(t){if(Array.isArray(t))return Qy(t)}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hl(t,e,n){return e=V2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V2(r.key),r)}}function Ite(t,e,n){return e&&Pte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V2(t){var e=jte(t,"string");return is(e)==="symbol"?e:String(e)}function jte(t,e){if(is(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(is(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zy(t,e)}function Zy(t,e){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zy(t,e)}function Rte(t){var e=Mte();return function(){var r=Rf(t),i;if(e){var o=Rf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ev(this,i)}}function ev(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tv(t)}function tv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(t)}var Sr=function(t){Ote(n,t);var e=Rte(n);function n(r,i){var o;Cte(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(tv(o)),o.changeStyle=o.changeStyle.bind(tv(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),ev(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ev(o);o.state={style:l?hl({},l,u):u}}else o.state={style:{}};return o}return Ite(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?hl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(Bee(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var b={style:l?hl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Hn(Hn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=wte(a,s,cte(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,b,x){if(x===0)return y;var w=b.duration,_=b.easing,E=_===void 0?"ease":_,S=b.style,T=b.properties,A=b.onAnimationEnd,N=x>0?a[x-1]:b,C=T||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(Fm(y),[o.runJSAnimation.bind(o,{from:N.style,to:S,duration:w,easing:E}),w]);var I=Z1(C,w,E),O=Hn(Hn(Hn({},N.style),S),{},{transition:I});return[].concat(Fm(y),[O,w,A]).filter(Qee)};return this.manager.start([l].concat(Fm(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kee());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?hl({},s,l):l,b=Z1(Object.keys(y),a,u);v.start([d,o,Hn(Hn({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ste(i,_te),u=k.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,x=v.className,w=k.cloneElement(g,Hn(Hn({},l),{},{style:Hn(Hn({},b),d),className:x}));return w};return u===1?f(k.Children.only(o)):M.createElement("div",null,k.Children.map(o,function(h){return f(h)}))}}]),n}(k.PureComponent);Sr.displayName="Animate";Sr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sr.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function $te(t,e){return Fte(t)||Ute(t,e)||Lte(t,e)||Dte()}function Dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ute(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fte(t){if(Array.isArray(t))return t}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Vte(t,"string");return Pu(e)=="symbol"?e:e+""}function Vte(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lE=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Gte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Hte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hx=function(e){var n=sE(sE({},Hte),e),r=k.useRef(),i=k.useState(-1),o=$te(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=_e("recharts-rectangle",g);return w?M.createElement(Sr,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(E){var S=E.width,T=E.height,A=E.x,N=E.y;return M.createElement(Sr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:v},M.createElement("path",Mf({},fe(n,!0),{className:_,d:lE(A,N,S,T,h),ref:r})))}):M.createElement("path",Mf({},fe(n,!0),{className:_,d:lE(l,u,d,f,h)}))},zte=["points","className","baseLinePoints","connectNulls"];function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}function Wte(t,e){if(t==null)return{};var n=Kte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uE(t){return Qte(t)||Xte(t)||Yte(t)||Jte()}function Jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yte(t,e){if(t){if(typeof t=="string")return nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(t,e)}}function Xte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qte(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cE=function(e){return e&&e.x===+e.x&&e.y===+e.y},Zte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){cE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),cE(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Il=function(e,n){var r=Zte(e);n&&(r=[r.reduce(function(o,a){return[].concat(uE(o),uE(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},ene=function(e,n,r){var i=Il(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Il(n.reverse(),r).slice(1))},tne=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Wte(e,zte);if(!n||!n.length)return null;var s=_e("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=ene(n,i,o);return M.createElement("g",{className:s},M.createElement("path",_a({},fe(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",_a({},fe(a,!0),{fill:"none",d:Il(n,o)})):null,l?M.createElement("path",_a({},fe(a,!0),{fill:"none",d:Il(i,o)})):null)}var d=Il(n,o);return M.createElement("path",_a({},fe(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}var hp=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=_e("recharts-dot",o);return n===+n&&r===+r&&i===+i?k.createElement("circle",rv({},fe(e,!1),Zd(e),{className:a,cx:n,cy:r,r:i})):null};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}var nne=["x","y","top","left","width","height","className"];function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=one(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=ane(t,"string");return Iu(e)=="symbol"?e:e+""}function ane(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t,e){if(t==null)return{};var n=lne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var une=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},cne=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,v=e.className,y=sne(e,nne),b=rne({x:r,y:o,top:s,left:u,width:f,height:g},y);return!Q(r)||!Q(o)||!Q(f)||!Q(g)||!Q(s)||!Q(u)?null:M.createElement("path",iv({},fe(b,!0),{className:_e("recharts-cross",v),d:une(r,o,f,g,s,u)}))},dne=lp,fne=t2,hne=kr;function pne(t,e){return t&&t.length?dne(t,hne(e),fne):void 0}var mne=pne;const gne=$e(mne);var yne=lp,vne=kr,xne=n2;function bne(t,e){return t&&t.length?yne(t,vne(e),xne):void 0}var wne=bne;const _ne=$e(wne);var Sne=["cx","cy","angle","ticks","axisLine"],Ene=["ticks","tick","angle","tickFormatter","stroke"];function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){pp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hE(t,e){if(t==null)return{};var n=Tne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H2(r.key),r)}}function kne(t,e,n){return e&&pE(t.prototype,e),n&&pE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=$f(e),Cne(t,G2()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function Cne(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(t,e)}function pp(t,e,n){return e=H2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t){var e=jne(t,"string");return os(e)=="symbol"?e:e+""}function jne(t,e){if(os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mp=function(t){function e(){return Ane(this,e),Nne(this,e,arguments)}return Ine(e,t),kne(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ge(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=gne(s,function(d){return d.coordinate||0}),u=_ne(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=hE(r,Sne),d=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Ge(i,o,d[0],a),h=Ge(i,o,d[1],a),g=Yi(Yi(Yi({},fe(u,!1)),{},{fill:"none"},fe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",jl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=hE(i,Ene),f=this.getTickTextAnchor(),h=fe(d,!1),g=fe(a,!1),v=o.map(function(y,b){var x=r.getTickValueCoord(y),w=Yi(Yi(Yi(Yi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:b},x),{},{payload:y});return M.createElement(Ce,jl({className:_e("recharts-polar-radius-axis-tick",P2(a)),key:"tick-".concat(y.coordinate)},Co(r.props,y,b)),e.renderTickItem(a,w,l?l(y.value,b):y.value))});return M.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(Ce,{className:_e("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Tt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):ye(r)?a=r(i):a=M.createElement(Po,jl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(k.PureComponent);pp(mp,"displayName","PolarRadiusAxis");pp(mp,"axisType","radiusAxis");pp(mp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function so(){return so=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},so.apply(this,arguments)}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(r){gp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W2(r.key),r)}}function Rne(t,e,n){return e&&gE(t.prototype,e),n&&gE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mne(t,e,n){return e=Df(e),$ne(t,z2()?Reflect.construct(e,n||[],Df(t).constructor):e.apply(t,n))}function $ne(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!t})()}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},av(t,e)}function gp(t,e,n){return e=W2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2(t){var e=Une(t,"string");return as(e)=="symbol"?e:e+""}function Une(t,e){if(as(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fne=Math.PI/180,yE=1e-5,yp=function(t){function e(){return One(this,e),Mne(this,e,arguments)}return Lne(e,t),Rne(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Ge(o,a,s,r.coordinate),h=Ge(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Fne),a;return o>yE?a=i==="outer"?"start":"end":o<-yE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Xi(Xi({},fe(this.props,!1)),{},{fill:"none"},fe(s,!1));if(l==="circle")return M.createElement(hp,so({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return Ge(i,o,a,h.coordinate)});return M.createElement(tne,so({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=fe(this.props,!1),f=fe(a,!1),h=Xi(Xi({},d),{},{fill:"none"},fe(s,!1)),g=o.map(function(v,y){var b=r.getTickLineCoord(v),x=r.getTickTextAnchor(v),w=Xi(Xi(Xi({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:b.x2,y:b.y2});return M.createElement(Ce,so({className:_e("recharts-polar-angle-axis-tick",P2(a)),key:"tick-".concat(v.coordinate)},Co(r.props,v,y)),s&&M.createElement("line",so({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,w,l?l(v.value,y):v.value))});return M.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Ce,{className:_e("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):ye(r)?a=r(i):a=M.createElement(Po,so({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(k.PureComponent);gp(yp,"displayName","PolarAngleAxis");gp(yp,"axisType","angleAxis");gp(yp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Bne=XP,qne=Bne(Object.getPrototypeOf,Object),Vne=qne,Gne=ni,Hne=Vne,zne=ri,Wne="[object Object]",Kne=Function.prototype,Jne=Object.prototype,K2=Kne.toString,Yne=Jne.hasOwnProperty,Xne=K2.call(Object);function Qne(t){if(!zne(t)||Gne(t)!=Wne)return!1;var e=Hne(t);if(e===null)return!0;var n=Yne.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&K2.call(n)==Xne}var Zne=Qne;const ere=$e(Zne);var tre=ni,nre=ri,rre="[object Boolean]";function ire(t){return t===!0||t===!1||nre(t)&&tre(t)==rre}var ore=ire;const are=$e(ore);function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function sre(t,e){return dre(t)||cre(t,e)||ure(t,e)||lre()}function lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return vE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(t,e)}}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dre(t){if(Array.isArray(t))return t}function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return ju(e)=="symbol"?e:e+""}function pre(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wE=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},mre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gre=function(e){var n=bE(bE({},mre),e),r=k.useRef(),i=k.useState(-1),o=sre(i,2),a=o[0],s=o[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=_e("recharts-trapezoid",g);return x?M.createElement(Sr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(_){var E=_.upperWidth,S=_.lowerWidth,T=_.height,A=_.x,N=_.y;return M.createElement(Sr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},M.createElement("path",Lf({},fe(n,!0),{className:w,d:wE(A,N,E,S,T),ref:r})))}):M.createElement("g",null,M.createElement("path",Lf({},fe(n,!0),{className:w,d:wE(l,u,d,f,h)})))},yre=["option","shapeType","propTransformer","activeClassName","isActive"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function vre(t,e){if(t==null)return{};var n=xre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=_re(t,"string");return Ou(e)=="symbol"?e:e+""}function _re(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sre(t,e){return Uf(Uf({},e),t)}function Ere(t,e){return t==="symbols"}function SE(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Hx,n);case"trapezoid":return M.createElement(gre,n);case"sector":return M.createElement(O2,n);case"symbols":if(Ere(e))return M.createElement(cx,n);break;default:return null}}function Tre(t){return k.isValidElement(t)?t.props:t}function J2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Sre:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=vre(t,yre),u;if(k.isValidElement(e))u=k.cloneElement(e,Uf(Uf({},l),Tre(e)));else if(ye(e))u=e(l);else if(ere(e)&&!are(e)){var d=i(e,l);u=M.createElement(SE,{shapeType:n,elementProps:d})}else{var f=l;u=M.createElement(SE,{shapeType:n,elementProps:f})}return s?M.createElement(Ce,{className:a},u):u}function vp(t,e){return e!=null&&"trapezoids"in t.props}function xp(t,e){return e!=null&&"sectors"in t.props}function Ru(t,e){return e!=null&&"points"in t.props}function Are(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function kre(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Nre(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cre(t,e){var n;return vp(t,e)?n=Are:xp(t,e)?n=kre:Ru(t,e)&&(n=Nre),n}function Pre(t,e){var n;return vp(t,e)?n="trapezoids":xp(t,e)?n="sectors":Ru(t,e)&&(n="points"),n}function Ire(t,e){if(vp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(xp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ru(t,e)?e.payload:{}}function jre(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Pre(n,e),o=Ire(n,e),a=r.filter(function(l,u){var d=oc(o,l),f=n.props[i].filter(function(v){var y=Cre(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),s=r.indexOf(a[a.length-1]);return s}var ud;function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function EE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X2(r.key),r)}}function Rre(t,e,n){return e&&TE(t.prototype,e),n&&TE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,n){return e=Ff(e),$re(t,Y2()?Reflect.construct(e,n||[],Ff(t).constructor):e.apply(t,n))}function $re(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dre(t)}function Dre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function In(t,e,n){return e=X2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2(t){var e=Ure(t,"string");return ss(e)=="symbol"?e:e+""}function Ure(t,e){if(ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Er=function(t){function e(n){var r;return Ore(this,e),r=Mre(this,e,[n]),In(r,"pieRef",null),In(r,"sectorRefs",[]),In(r,"id",Is("recharts-pie-")),In(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ye(i)&&i()}),In(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Lre(e,t),Rre(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,d=fe(this.props,!1),f=fe(a,!1),h=fe(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,b){var x=(y.startAngle+y.endAngle)/2,w=Ge(y.cx,y.cy,y.outerRadius+g,x),_=Be(Be(Be(Be({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(w.x,y.cx)},w),E=Be(Be(Be(Be({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Ge(y.cx,y.cy,y.outerRadius,x),w]}),S=l;return be(l)&&be(u)?S="value":be(l)&&(S=u),M.createElement(Ce,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,_,xt(y,S)))});return M.createElement(Ce,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,v=Be(Be({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Ce,Sa({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Co(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(J2,Sa({option:g,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return M.createElement(Sr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],x=o&&o[0],w=x.startAngle;return o.forEach(function(_,E){var S=h&&h[E],T=E>0?wn(_,"paddingAngle",0):0;if(S){var A=mn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),N=Be(Be({},_),{},{startAngle:w+T,endAngle:w+A(y)+T});b.push(N),w=N.endAngle}else{var C=_.endAngle,I=_.startAngle,O=mn(0,C-I),$=O(y),U=Be(Be({},_),{},{startAngle:w+T,endAngle:w+$+T});b.push(U),w=U.endAngle}}),M.createElement(Ce,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!oc(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Q(u)||!Q(d)||!Q(f)||!Q(h))return null;var y=_e("recharts-pie",s);return M.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),Tt.renderCallByParent(this.props,null,!1),(!g||v)&&Hr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(ye(r))return r(i);var a=_e("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Pf,Sa({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(ye(r)&&(a=r(i),M.isValidElement(a)))return a;var s=_e("recharts-pie-label-text",typeof r!="boolean"&&!ye(r)?r.className:"");return M.createElement(Po,Sa({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(k.PureComponent);ud=Er;In(Er,"displayName","Pie");In(Er,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});In(Er,"parseDeltaAngle",function(t,e){var n=Gt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});In(Er,"getRealPieData",function(t){var e=t.data,n=t.children,r=fe(t,!1),i=_n(n,cu);return e&&e.length?e.map(function(o,a){return Be(Be(Be({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Be(Be({},r),o.props)}):[]});In(Er,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=C2(i,o),s=r+Ht(t.cx,i,i/2),l=n+Ht(t.cy,o,o/2),u=Ht(t.innerRadius,a,0),d=Ht(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});In(Er,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Be(Be({},e.type.defaultProps),e.props):e.props,i=ud.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=ud.parseCoordinateOfPie(r,n),y=ud.parseDeltaAngle(a,s),b=Math.abs(y),x=u;be(u)&&be(f)?(ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):be(u)&&(ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=i.filter(function(N){return xt(N,x,0)!==0}).length,_=(b>=360?w:w-1)*l,E=b-w*g-_,S=i.reduce(function(N,C){var I=xt(C,x,0);return N+(Q(I)?I:0)},0),T;if(S>0){var A;T=i.map(function(N,C){var I=xt(N,x,0),O=xt(N,d,C),$=(Q(I)?I:0)/S,U;C?U=A.endAngle+Gt(y)*l*(I!==0?1:0):U=a;var D=U+Gt(y)*((I!==0?g:0)+$*E),P=(U+D)/2,R=(v.innerRadius+v.outerRadius)/2,F=[{name:O,value:I,payload:N,dataKey:x,type:h}],L=Ge(v.cx,v.cy,R,P);return A=Be(Be(Be({percent:$,cornerRadius:o,name:O,tooltipPayload:F,midAngle:P,middleRadius:R,tooltipPosition:L},N),v),{},{value:xt(N,x),startAngle:U,endAngle:D,payload:N,paddingAngle:Gt(y)*l}),A})}return Be(Be({},v),{},{sectors:T,data:i})});var Fre=Math.ceil,Bre=Math.max;function qre(t,e,n,r){for(var i=-1,o=Bre(Fre((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Vre=qre,Gre=gI,AE=1/0,Hre=17976931348623157e292;function zre(t){if(!t)return t===0?t:0;if(t=Gre(t),t===AE||t===-AE){var e=t<0?-1:1;return e*Hre}return t===t?t:0}var Q2=zre,Wre=Vre,Kre=tp,Bm=Q2;function Jre(t){return function(e,n,r){return r&&typeof r!="number"&&Kre(e,n,r)&&(n=r=void 0),e=Bm(e),n===void 0?(n=e,e=0):n=Bm(n),r=r===void 0?e<n?1:-1:Bm(r),Wre(e,n,r,t)}}var Yre=Jre,Xre=Yre,Qre=Xre(),Zre=Qre;const Bf=$e(Zre);function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){Z2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z2(t,e,n){return e=eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return Mu(e)=="symbol"?e:e+""}function tie(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nie=["Webkit","Moz","O","ms"],rie=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=nie.reduce(function(o,a){return NE(NE({},o),{},Z2({},a+r,n))},{});return i[e]=n,i};function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function oie(t,e,n){return e&&PE(t.prototype,e),n&&PE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aie(t,e,n){return e=Vf(e),sie(t,ej()?Reflect.construct(e,n||[],Vf(t).constructor):e.apply(t,n))}function sie(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lie(t)}function lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(t)}function uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function dn(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=cie(t,"string");return ls(e)=="symbol"?e:e+""}function cie(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var die=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Nl().domain(Bf(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},IE=function(e){return e.changedTouches&&!!e.changedTouches.length},us=function(t){function e(n){var r;return iie(this,e),r=aie(this,e,[n]),dn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),dn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),dn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),dn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),dn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),dn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),dn(r,"handleSlideDragStart",function(i){var o=IE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return uie(e,t),oie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=xt(o[r],s,r);return ye(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+d-f-s,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==g)&&v&&v(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=IE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),E=_.startIndex,S=_.endIndex,T=function(){var N=b.length-1;return a==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===N||a==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===N};this.setState(dn(dn({},a,u+w),"brushMoveStartX",r.pageX),function(){v&&T()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(dn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=k.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),w=qm(qm({},fe(this.props,!1)),{},{x,y:u,width:d,height:f}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return M.createElement(Ce,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return M.createElement(Ce,{className:"recharts-brush-texts"},M.createElement(Po,qf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},v),this.getTextOfTick(i)),M.createElement(Po,qf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Q(s)||!Q(l)||!Q(u)||!Q(d)||u<=0||d<=0)return null;var _=_e("recharts-brush",o),E=M.Children.count(a)===1,S=rie("userSelect","none");return M.createElement(Ce,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):ye(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return qm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?die({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(k.PureComponent);dn(us,"displayName","Brush");dn(us,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fie=yx;function hie(t,e){var n;return fie(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var pie=hie,mie=VP,gie=kr,yie=pie,vie=ln,xie=tp;function bie(t,e,n){var r=vie(t)?mie:yie;return n&&xie(t,e,n)&&(e=void 0),r(t,gie(e))}var wie=bie;const _ie=$e(wie);var xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jE=dI;function Sie(t,e,n){e=="__proto__"&&jE?jE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Eie=Sie,Tie=Eie,Aie=uI,kie=kr;function Nie(t,e){var n={};return e=kie(e),Aie(t,function(r,i,o){Tie(n,i,e(r,i,o))}),n}var Cie=Nie;const Pie=$e(Cie);function Iie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var jie=Iie,Oie=yx;function Rie(t,e){var n=!0;return Oie(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Mie=Rie,$ie=jie,Die=Mie,Lie=kr,Uie=ln,Fie=tp;function Bie(t,e,n){var r=Uie(t)?$ie:Die;return n&&Fie(t,e,n)&&(e=void 0),r(t,Lie(e))}var qie=Bie;const nj=$e(qie);var Vie=["x","y"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=zie(t,"string");return $u(e)=="symbol"?e:e+""}function zie(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wie(t,e){if(t==null)return{};var n=Kie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jie(t,e){var n=t.x,r=t.y,i=Wie(t,Vie),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ol(ol(ol(ol(ol({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function RE(t){return M.createElement(J2,uv({shapeType:"rectangle",propTransformer:Jie,activeClassName:"recharts-active-bar"},t))}var Yie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Q(r)||yB(r);return o?e(r,i):(o||jo(),n)}},Xie=["value","background"],rj;function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function Qie(t,e){if(t==null)return{};var n=Zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oj(r.key),r)}}function toe(t,e,n){return e&&$E(t.prototype,e),n&&$E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function noe(t,e,n){return e=Hf(e),roe(t,ij()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function roe(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(t)}function ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ij=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cv(t,e)}function bi(t,e,n){return e=oj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oj(t){var e=aoe(t,"string");return cs(e)=="symbol"?e:e+""}function aoe(t,e){if(cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tr=function(t){function e(){var n;eoe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=noe(this,e,[].concat(i)),bi(n,"state",{isAnimationFinished:!1}),bi(n,"id",Is("recharts-bar-")),bi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),bi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ooe(e,t),toe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=fe(this.props,!1);return r&&r.map(function(f,h){var g=h===l,v=g?u:a,y=ct(ct(ct({},d),f),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Ce,Gf({className:"recharts-bar-rectangle"},Co(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(RE,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Sr,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(b,x){var w=h&&h[x];if(w){var _=mn(w.x,b.x),E=mn(w.y,b.y),S=mn(w.width,b.width),T=mn(w.height,b.height);return ct(ct({},b),{},{x:_(v),y:E(v),width:S(v),height:T(v)})}if(a==="horizontal"){var A=mn(0,b.height),N=A(v);return ct(ct({},b),{},{y:b.y+b.height-N,height:N})}var C=mn(0,b.width),I=C(v);return ct(ct({},b),{},{width:I})});return M.createElement(Ce,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!oc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=fe(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=Qie(u,Xie);if(!f)return null;var g=ct(ct(ct(ct(ct({},h),{},{fill:"#eee"},f),l),Co(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(RE,Gf({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=_n(d,ac);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:xt(b,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ce,v,f.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=_e("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=w||_,S=be(y)?this.id:y;return M.createElement(Ce,{className:x},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:w?u:u-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,M.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!g||b)&&Hr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);rj=Tr;bi(Tr,"displayName","Bar");bi(Tr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bi(Tr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=$Q(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?ct(ct({},y),n.props):n.props,x=b.dataKey,w=b.children,_=b.minPointSize,E=v==="horizontal"?a:o,S=u?E.scale.domain():null,T=VQ({numericAxis:E}),A=_n(w,cu),N=f.map(function(C,I){var O,$,U,D,P,R;u?O=DQ(u[d+I],S):(O=xt(C,x),Array.isArray(O)||(O=[T,O]));var F=Yie(_,rj.defaultProps.minPointSize)(O[1],I);if(v==="horizontal"){var L,B=[a.scale(O[0]),a.scale(O[1])],V=B[0],X=B[1];$=N1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:I}),U=(L=X??V)!==null&&L!==void 0?L:void 0,D=g.size;var G=V-X;if(P=Number.isNaN(G)?0:G,R={x:$,y:a.y,width:D,height:a.height},Math.abs(F)>0&&Math.abs(P)<Math.abs(F)){var ae=Gt(P||F)*(Math.abs(F)-Math.abs(P));U-=ae,P+=ae}}else{var we=[o.scale(O[0]),o.scale(O[1])],Se=we[0],ke=we[1];if($=Se,U=N1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:I}),D=ke-Se,P=g.size,R={x:o.x,y:U,width:o.width,height:P},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var Te=Gt(D||F)*(Math.abs(F)-Math.abs(D));D+=Te}}return ct(ct(ct({},C),{},{x:$,y:U,width:D,height:P,value:u?O:O[1],payload:C,background:R},A&&A[I]&&A[I].props),{},{tooltipPayload:[k2(n,C)],tooltipPosition:{x:$+D/2,y:U+P/2}})});return ct({data:N,layout:v},h)});function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function loe(t,e,n){return e&&DE(t.prototype,e),n&&DE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bp(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=uoe(t,"string");return Du(e)=="symbol"?e:e+""}function uoe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sj=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!hn(u,Tr);return d.reduce(function(g,v){var y=n[v],b=y.orientation,x=y.domain,w=y.padding,_=w===void 0?{}:w,E=y.mirror,S=y.reversed,T="".concat(b).concat(E?"Mirror":""),A,N,C,I,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=x[1]-x[0],U=1/0,D=y.categoricalDomain.sort(bB);if(D.forEach(function(we,Se){Se>0&&(U=Math.min((we||0)-(D[Se-1]||0),U))}),Number.isFinite(U)){var P=U/$,R=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=P*R/2),y.padding==="no-gap"){var F=Ht(e.barCategoryGap,P*R),L=P*R/2;A=L-F-(L-F)/R*F}}}i==="xAxis"?N=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:N=y.range,S&&(N=[N[1],N[0]]);var B=S2(y,o,h),V=B.scale,X=B.realScaleType;V.domain(x).range(N),E2(V);var G=T2(V,Xn(Xn({},y),{},{realScaleType:X}));i==="xAxis"?(O=b==="top"&&!E||b==="bottom"&&E,C=r.left,I=f[T]-O*y.height):i==="yAxis"&&(O=b==="left"&&!E||b==="right"&&E,C=f[T]-O*y.width,I=r.top);var ae=Xn(Xn(Xn({},y),G),{},{realScaleType:X,x:C,y:I,scale:V,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=kf(ae,G),!y.hide&&i==="xAxis"?f[T]+=(O?-1:1)*ae.height:y.hide||(f[T]+=(O?-1:1)*ae.width),Xn(Xn({},g),{},bp({},v,ae))},{})},lj=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},coe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return lj({x:n,y:r},{x:i,y:o})},uj=function(){function t(e){soe(this,t),this.scale=e}return loe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();bp(uj,"EPS",1e-4);var zx=function(e){var n=Object.keys(e).reduce(function(r,i){return Xn(Xn({},r),{},bp({},i,uj.create(e[i])))},{});return Xn(Xn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Pie(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return nj(i,function(o,a){return n[a].isInRange(o)})}})};function doe(t){return(t%180+180)%180}var foe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=doe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},hoe=kr,poe=ec,moe=Zh;function goe(t){return function(e,n,r){var i=Object(e);if(!poe(e)){var o=hoe(n);e=moe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var yoe=goe,voe=Q2;function xoe(t){var e=voe(t),n=e%1;return e===e?n?e-n:e:0}var boe=xoe,woe=rI,_oe=kr,Soe=boe,Eoe=Math.max;function Toe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Soe(n);return i<0&&(i=Eoe(r+i,0)),woe(t,_oe(e),i)}var Aoe=Toe,koe=yoe,Noe=Aoe,Coe=koe(Noe),Poe=Coe;const Ioe=$e(Poe);var joe=SF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Wx=k.createContext(void 0),Kx=k.createContext(void 0),cj=k.createContext(void 0),dj=k.createContext({}),fj=k.createContext(void 0),hj=k.createContext(0),pj=k.createContext(0),UE=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=joe(o);return M.createElement(Wx.Provider,{value:r},M.createElement(Kx.Provider,{value:i},M.createElement(dj.Provider,{value:o},M.createElement(cj.Provider,{value:d},M.createElement(fj.Provider,{value:a},M.createElement(hj.Provider,{value:u},M.createElement(pj.Provider,{value:l},s)))))))},Ooe=function(){return k.useContext(fj)},mj=function(e){var n=k.useContext(Wx);n==null&&jo();var r=n[e];return r==null&&jo(),r},Roe=function(){var e=k.useContext(Wx);return gi(e)},Moe=function(){var e=k.useContext(Kx),n=Ioe(e,function(r){return nj(r.domain,Number.isFinite)});return n||gi(e)},gj=function(e){var n=k.useContext(Kx);n==null&&jo();var r=n[e];return r==null&&jo(),r},$oe=function(){var e=k.useContext(cj);return e},Doe=function(){return k.useContext(dj)},Jx=function(){return k.useContext(pj)},Yx=function(){return k.useContext(hj)};function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function Loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vj(r.key),r)}}function Foe(t,e,n){return e&&Uoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Boe(t,e,n){return e=zf(e),qoe(t,yj()?Reflect.construct(e,n||[],zf(t).constructor):e.apply(t,n))}function qoe(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(t)}function Voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(t)}function Goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dv(t,e)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e=vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vj(t){var e=Hoe(t,"string");return ds(e)=="symbol"?e:e+""}function Hoe(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zoe(t,e){return Yoe(t)||Joe(t,e)||Koe(t,e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t,e){if(t){if(typeof t=="string")return qE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(t,e)}}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Joe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Yoe(t){if(Array.isArray(t))return t}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}var Xoe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):ye(e)?r=e(n):r=M.createElement("line",fv({},n,{className:"recharts-reference-line-line"})),r},Qoe=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(xr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return l==="left"?b.reverse():b}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(xr(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+g},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(T){return e.apply(T,{position:a})});return xr(u,"discard")&&_ie(S,function(T){return!e.isInRange(T)})?null:S}return null};function Zoe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Ooe(),d=mj(i),f=gj(o),h=$oe();if(!u||!h)return null;ir(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=zx({x:d.scale,y:f.scale}),v=wt(e),y=wt(n),b=r&&r.length===2,x=Qoe(g,v,y,b,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=zoe(x,2),_=w[0],E=_.x,S=_.y,T=w[1],A=T.x,N=T.y,C=xr(t,"hidden")?"url(#".concat(u,")"):void 0,I=BE(BE({clipPath:C},fe(t,!0)),{},{x1:E,y1:S,x2:A,y2:N});return M.createElement(Ce,{className:_e("recharts-reference-line",s)},Xoe(a,I),Tt.renderCallByParent(t,coe({x1:E,y1:S,x2:A,y2:N})))}var Qx=function(t){function e(){return Loe(this,e),Boe(this,e,arguments)}return Goe(e,t),Foe(e,[{key:"render",value:function(){return M.createElement(Zoe,this.props)}}])}(M.Component);Xx(Qx,"displayName","ReferenceLine");Xx(Qx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bj(r.key),r)}}function nae(t,e,n){return e&&tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rae(t,e,n){return e=Wf(e),iae(t,xj()?Reflect.construct(e,n||[],Wf(t).constructor):e.apply(t,n))}function iae(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oae(t)}function oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xj=function(){return!!t})()}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(t)}function aae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pv(t,e)}function wp(t,e,n){return e=bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=sae(t,"string");return fs(e)=="symbol"?e:e+""}function sae(t,e){if(fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=zx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return xr(e,"discard")&&!a.isInRange(s)?null:s},_p=function(t){function e(){return eae(this,e),rae(this,e,arguments)}return aae(e,t),nae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=wt(i),d=wt(o);if(ir(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=lae(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,y=v.shape,b=v.className,x=xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=GE(GE({clipPath:x},fe(this.props,!0)),{},{cx:h,cy:g});return M.createElement(Ce,{className:_e("recharts-reference-dot",b)},e.renderDot(y,w),Tt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(M.Component);wp(_p,"displayName","ReferenceDot");wp(_p,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wp(_p,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ye(t)?n=t(e):n=M.createElement(hp,hv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){Sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_j(r.key),r)}}function dae(t,e,n){return e&&cae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fae(t,e,n){return e=Kf(e),hae(t,wj()?Reflect.construct(e,n||[],Kf(t).constructor):e.apply(t,n))}function hae(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pae(t)}function pae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wj=function(){return!!t})()}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kf(t)}function mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(t,e)}function Sp(t,e,n){return e=_j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _j(t){var e=gae(t,"string");return hs(e)=="symbol"?e:e+""}function gae(t,e){if(hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yae=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=zx({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return xr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:lj(g,v)},Ep=function(t){function e(){return uae(this,e),fae(this,e,arguments)}return mae(e,t),dae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;ir(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wt(i),h=wt(o),g=wt(a),v=wt(s),y=this.props.shape;if(!f&&!h&&!g&&!v&&!y)return null;var b=yae(f,h,g,v,this.props);if(!b&&!y)return null;var x=xr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Ce,{className:_e("recharts-reference-area",l)},e.renderRect(y,zE(zE({clipPath:x},fe(this.props,!0)),b)),Tt.renderCallByParent(this.props,b))}}])}(M.Component);Sp(Ep,"displayName","ReferenceArea");Sp(Ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sp(Ep,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ye(t)?n=t(e):n=M.createElement(Hx,mv({},e,{className:"recharts-reference-area-rect"})),n});function Sj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function vae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return foe(r,n)}function xae(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Jf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function bae(t,e){return Sj(t,e+1)}function wae(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Sj(r,u)};var y=l,b,x=function(){return b===void 0&&(b=n(v,y)),b},w=v.coordinate,_=l===0||Jf(t,w,x,d,s);_||(l=0,d=a,u+=1),_&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Eae(t,"string");return Lu(e)=="symbol"?e:e+""}function Eae(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tae(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var b=t*(g.coordinate+t*y()/2-l);o[h]=g=Dt(Dt({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=Dt(Dt({},g),{},{tickCoord:g.coordinate});var x=Jf(t,g.tickCoord,y,s,l);x&&(l=g.tickCoord-t*(y()/2+i),o[h]=Dt(Dt({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function Aae(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=Dt(Dt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=Jf(t,d.tickCoord,function(){return f},l,u);g&&(u=d.tickCoord-t*(f/2+i),a[s-1]=Dt(Dt({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(w){var _=a[w],E,S=function(){return E===void 0&&(E=n(_,w)),E};if(w===0){var T=t*(_.coordinate-t*S()/2-l);a[w]=_=Dt(Dt({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[w]=_=Dt(Dt({},_),{},{tickCoord:_.coordinate});var A=Jf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[w]=Dt(Dt({},_),{},{isShow:!0}))},b=0;b<v;b++)y(b);return a}function Zx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Q(l)||Uo.isSsr)return bae(i,typeof l=="number"&&Q(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=d&&g==="width"?kl(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,E){var S=ye(u)?u(_.value,E):_.value;return g==="width"?vae(kl(S,{fontSize:e,letterSpacing:n}),v,f):kl(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Gt(i[1].coordinate-i[0].coordinate):1,x=xae(o,b,g);return l==="equidistantPreserveStart"?wae(b,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Aae(b,x,y,i,a,l==="preserveStartEnd"):h=Tae(b,x,y,i,a),h.filter(function(w){return w.isShow}))}var kae=["viewBox"],Nae=["viewBox"],Cae=["ticks"];function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tj(r.key),r)}}function jae(t,e,n){return e&&JE(t.prototype,e),n&&JE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oae(t,e,n){return e=Yf(e),Rae(t,Ej()?Reflect.construct(e,n||[],Yf(t).constructor):e.apply(t,n))}function Rae(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(t)}function Mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ej=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(t)}function $ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yv(t,e)}function eb(t,e,n){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tj(t){var e=Dae(t,"string");return ps(e)=="symbol"?e:e+""}function Dae(t,e){if(ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ls=function(t){function e(n){var r;return Iae(this,e),r=Oae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return $ae(e,t),jae(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Vm(r,kae),s=this.props,l=s.viewBox,u=Vm(s,Nae);return!Ma(o,l)||!Ma(a,u)||!Ma(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,v,y,b,x,w,_=f?-1:1,E=r.tickSize||d,S=Q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=a+ +!f*l,y=b-_*E,w=y-_*h,x=S;break;case"left":y=b=r.coordinate,v=o+ +!f*s,g=v-_*E,x=g-_*h,w=S;break;case"right":y=b=r.coordinate,v=o+ +f*s,g=v+_*E,x=g+_*h,w=S;break;default:g=v=r.coordinate,b=a+ +f*l,y=b+_*E,w=y+_*h,x=S;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=mt(mt(mt({},fe(this.props,!1)),fe(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=mt(mt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=mt(mt({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return M.createElement("line",Ea({},f,{className:_e("recharts-cartesian-axis-line",wn(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=Zx(mt(mt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=fe(this.props,!1),x=fe(d,!1),w=mt(mt({},b),{},{fill:"none"},fe(l,!1)),_=g.map(function(E,S){var T=a.getTickLineCoord(E),A=T.line,N=T.tick,C=mt(mt(mt(mt({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),N),{},{index:S,payload:E,visibleTicksCount:g.length,tickFormatter:f});return M.createElement(Ce,Ea({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Co(a.props,E,S)),l&&M.createElement("line",Ea({},w,A,{className:_e("recharts-cartesian-axis-tick-line",wn(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(ye(f)?f(E.value,S):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=Vm(f,Cae),v=h;return ye(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:M.createElement(Ce,{className:_e("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Tt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=_e(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,mt(mt({},i),{},{className:s})):ye(r)?a=r(mt(mt({},i),{},{className:s})):a=M.createElement(Po,Ea({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(k.Component);eb(Ls,"displayName","CartesianAxis");eb(Ls,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lae=["x1","y1","x2","y2","key"],Uae=["offset"];function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return e=Bae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=qae(t,"string");return Oo(e)=="symbol"?e:e+""}function qae(t,e){if(Oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},go.apply(this,arguments)}function XE(t,e){if(t==null)return{};var n=Vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Aj(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(ye(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=XE(e,Lae),u=fe(l,!1);u.offset;var d=XE(u,Uae);n=M.createElement("line",go({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Hae(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Ut(Ut({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return Aj(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function zae(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Ut(Ut({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return Aj(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Wae(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?i+a-h:d[g+1]-h;if(y<=0)return null;var b=g%e.length;return M.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Kae(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?o+s-h:d[g+1]-h;if(y<=0)return null;var b=g%r.length;return M.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Jae=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return _2(Zx(Ut(Ut(Ut({},Ls.defaultProps),r),{},{ticks:Fr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Yae=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return _2(Zx(Ut(Ut(Ut({},Ls.defaultProps),r),{},{ticks:Fr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},na={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uu(t){var e,n,r,i,o,a,s=Jx(),l=Yx(),u=Doe(),d=Ut(Ut({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:na.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:na.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:na.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:na.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:na.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:na.verticalFill,x:Q(t.x)?t.x:u.left,y:Q(t.y)?t.y:u.top,width:Q(t.width)?t.width:u.width,height:Q(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,w=Roe(),_=Moe();if(!Q(g)||g<=0||!Q(v)||v<=0||!Q(f)||f!==+f||!Q(h)||h!==+h)return null;var E=d.verticalCoordinatesGenerator||Jae,S=d.horizontalCoordinatesGenerator||Yae,T=d.horizontalPoints,A=d.verticalPoints;if((!T||!T.length)&&ye(S)){var N=b&&b.length,C=S({yAxis:_?Ut(Ut({},_),{},{ticks:N?b:_.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);ir(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oo(C),"]")),Array.isArray(C)&&(T=C)}if((!A||!A.length)&&ye(E)){var I=x&&x.length,O=E({xAxis:w?Ut(Ut({},w),{},{ticks:I?x:w.ticks}):void 0,width:s,height:l,offset:u},I?!0:y);ir(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oo(O),"]")),Array.isArray(O)&&(A=O)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Gae,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(Hae,go({},d,{offset:u,horizontalPoints:T,xAxis:w,yAxis:_})),M.createElement(zae,go({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:_})),M.createElement(Wae,go({},d,{horizontalPoints:T})),M.createElement(Kae,go({},d,{verticalPoints:A})))}Uu.displayName="CartesianGrid";var Xae=["type","layout","connectNulls","ref"],Qae=["key"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function QE(t,e){if(t==null)return{};var n=Zae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){Qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ra(t){return rse(t)||nse(t)||tse(t)||ese()}function ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(t,e){if(t){if(typeof t=="string")return vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vv(t,e)}}function nse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rse(t){if(Array.isArray(t))return vv(t)}function vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nj(r.key),r)}}function ose(t,e,n){return e&&eT(t.prototype,e),n&&eT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ase(t,e,n){return e=Xf(e),sse(t,kj()?Reflect.construct(e,n||[],Xf(t).constructor):e.apply(t,n))}function sse(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(t)}function lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kj=function(){return!!t})()}function Xf(t){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xf(t)}function use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xv(t,e)}function xv(t,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xv(t,e)}function Qn(t,e,n){return e=Nj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nj(t){var e=cse(t,"string");return ms(e)=="symbol"?e:e+""}function cse(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sc=function(t){function e(){var n;ise(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ase(this,e,[].concat(i)),Qn(n,"state",{isAnimationFinished:!0,totalLength:0}),Qn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Qn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){g=[].concat(ra(l.slice(0,v)),[f-y]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(ra(e.repeat(l,d)),ra(g),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Qn(n,"id",Is("recharts-line-")),Qn(n,"pathRef",function(a){n.mainCurve=a}),Qn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return use(e,t),ose(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=_n(d,ac);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:xt(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ce,g,f.map(function(v){return M.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=fe(this.props,!1),h=fe(l,!0),g=u.map(function(y,b){var x=cn(cn(cn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(l,x)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Ce,Ol({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=QE(s,Xae),h=cn(cn(cn({},fe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return M.createElement(Pf,Ol({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,b=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return M.createElement(Sr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(w){var T=w.length/s.length,A=s.map(function($,U){var D=Math.floor(U*T);if(w[D]){var P=w[D],R=mn(P.x,$.x),F=mn(P.y,$.y);return cn(cn({},$),{},{x:R(S),y:F(S)})}if(v){var L=mn(y*2,$.x),B=mn(b/2,$.y);return cn(cn({},$),{},{x:L(S),y:B(S)})}return cn(cn({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(A,r,i)}var N=mn(0,_),C=N(S),I;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=o.getStrokeDasharray(C,_,O)}else I=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!oc(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=_e("recharts-line",l),E=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,T=E||S,A=be(b)?this.id:b,N=(r=fe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=N.r,I=C===void 0?3:C,O=N.strokeWidth,$=O===void 0?2:O,U=CB(a)?a:{},D=U.clipDot,P=D===void 0?!0:D,R=I*2+$;return M.createElement(Ce,{className:_},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:E?h:h-g/2,y:S?f:f-v/2,width:E?g:g*2,height:S?v:v*2})),!P&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:h-R/2,y:f-R/2,width:g+R,height:v+R}))):null,!w&&this.renderCurve(T,A),this.renderErrorBar(T,A),(w||a)&&this.renderDots(T,P,A),(!y||x)&&Hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ra(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(ra(a),ra(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(ye(r))o=r(i);else{var a=i.key,s=QE(i,Qae),l=_e("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(hp,Ol({key:a},s,{className:l}))}return o}}])}(k.PureComponent);Qn(sc,"displayName","Line");Qn(sc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qn(sc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,g){var v=xt(h,a);return d==="horizontal"?{x:k1({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:be(v)?null:r.scale(v),value:v,payload:h}:{x:be(v)?null:n.scale(v),y:k1({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return cn({points:f,layout:d},u)});function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ij(r.key),r)}}function hse(t,e,n){return e&&fse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pse(t,e,n){return e=Qf(e),mse(t,Cj()?Reflect.construct(e,n||[],Qf(t).constructor):e.apply(t,n))}function mse(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(t)}function gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cj=function(){return!!t})()}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(t)}function yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bv(t,e)}function Pj(t,e,n){return e=Ij(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ij(t){var e=vse(t,"string");return gs(e)=="symbol"?e:e+""}function vse(t,e){if(gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function xse(t){var e=t.xAxisId,n=Jx(),r=Yx(),i=mj(e);return i==null?null:k.createElement(Ls,wv({},i,{className:_e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Fr(a,!0)}}))}var Oi=function(t){function e(){return dse(this,e),pse(this,e,arguments)}return yse(e,t),hse(e,[{key:"render",value:function(){return k.createElement(xse,this.props)}}])}(k.Component);Pj(Oi,"displayName","XAxis");Pj(Oi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rj(r.key),r)}}function _se(t,e,n){return e&&wse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,n){return e=Zf(e),Ese(t,jj()?Reflect.construct(e,n||[],Zf(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zf(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_v(t,e)}function Oj(t,e,n){return e=Rj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rj(t){var e=kse(t,"string");return ys(e)=="symbol"?e:e+""}function kse(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}var Nse=function(e){var n=e.yAxisId,r=Jx(),i=Yx(),o=gj(n);return o==null?null:k.createElement(Ls,Sv({},o,{className:_e("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Fr(s,!0)}}))},Ri=function(t){function e(){return bse(this,e),Sse(this,e,arguments)}return Ase(e,t),_se(e,[{key:"render",value:function(){return k.createElement(Nse,this.props)}}])}(k.Component);Oj(Ri,"displayName","YAxis");Oj(Ri,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tT(t){return jse(t)||Ise(t)||Pse(t)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function Ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jse(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tv=function(e,n,r,i,o){var a=_n(e,Qx),s=_n(e,_p),l=[].concat(tT(a),tT(s)),u=_n(e,Ep),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[d]===r&&xr(b.props,"extendDomain")&&Q(b.props[f])){var x=b.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===r&&xr(b.props,"extendDomain")&&Q(b.props[g])&&Q(b.props[v])){var x=b.props[g],w=b.props[v];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return Q(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},Mj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,v),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var E=b.length,S;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var y=0,b=[],x=v.length;y<x;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(Mj);var Ose=Mj.exports;const Rse=$e(Ose);var Gm=new Rse,Hm="recharts.syncMouseEvents";function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function Dse(t,e,n){return e&&$se(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zm(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t){var e=Lse(t,"string");return Fu(e)=="symbol"?e:e+""}function Lse(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Use=function(){function t(){Mse(this,t),zm(this,"activeIndex",0),zm(this,"coordinateList",[]),zm(this,"layout","horizontal")}return Dse(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Fse(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Q(r)&&Q(i))return!0}return!1}function Bse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Dj(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ge(e,n,r,i),s=Ge(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function qse(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ge(s,l,u,f),g=Ge(s,l,d,f);r=h.x,i=h.y,o=g.x,a=g.y}else return Dj(e);return[{x:r,y:i},{x:o,y:a}]}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){Vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vse(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Hse(t,"string");return Bu(e)=="symbol"?e:e+""}function Hse(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zse(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Pf;if(h==="ScatterChart")v=a,y=cne;else if(h==="BarChart")v=Bse(f,a,l,d),y=Hx;else if(f==="radial"){var b=Dj(a),x=b.cx,w=b.cy,_=b.radius,E=b.startAngle,S=b.endAngle;v={cx:x,cy:w,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},y=O2}else v={points:qse(f,a,l)},y=Pf;var T=Gc(Gc(Gc(Gc({stroke:"#ccc",pointerEvents:"none"},l),v),fe(g,!1)),{},{payload:s,payloadIndex:u,className:_e("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,T):k.createElement(y,T)}var Wse=["item"],Kse=["children","className","width","height","style","compact","title","desc"];function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}function rT(t,e){return Xse(t)||Yse(t,e)||Uj(t,e)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xse(t){if(Array.isArray(t))return t}function iT(t,e){if(t==null)return{};var n=Qse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fj(r.key),r)}}function tle(t,e,n){return e&&ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nle(t,e,n){return e=eh(e),rle(t,Lj()?Reflect.construct(e,n||[],eh(t).constructor):e.apply(t,n))}function rle(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ile(t)}function ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(t)}function ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Av(t,e)}function xs(t){return lle(t)||sle(t)||Uj(t)||ale()}function ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uj(t,e){if(t){if(typeof t=="string")return kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kv(t,e)}}function sle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lle(t){if(Array.isArray(t))return kv(t)}function kv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=Fj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fj(t){var e=ule(t,"string");return vs(e)=="symbol"?e:e+""}function ule(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cle={xAxis:["bottom","top"],yAxis:["left","right"]},dle={width:"100%",height:"100%"},Bj={x:0,y:0};function Hc(t){return t}var fle=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},hle=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),Ge(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Ge(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Bj},Tp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(xs(s),xs(u)):s},[]);return a.length>0?a:e&&e.length&&Q(i)&&Q(o)?e.slice(i,o+1):[]};function qj(t){return t==="number"?[0,"auto"]:void 0}var Nv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Tp(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=Qd(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(xs(l),[k2(u,h)]):l},[])},aT=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=fle(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=PQ(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=Nv(e,n,d,f),g=hle(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},ple=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=w2(d,o);return r.reduce(function(v,y){var b,x=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,w=x.type,_=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,T=x.scale,A=x.ticks,N=x.includeHidden,C=x[a];if(v[C])return v;var I=Tp(e.data,{graphicalItems:i.filter(function(G){var ae,we=a in G.props?G.props[a]:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae[a];return we===C}),dataStartIndex:l,dataEndIndex:u}),O=I.length,$,U,D;Fse(x.domain,E,w)&&($=qy(x.domain,null,E),g&&(w==="number"||T!=="auto")&&(D=Cl(I,_,"category")));var P=qj(w);if(!$||$.length===0){var R,F=(R=x.domain)!==null&&R!==void 0?R:P;if(_){if($=Cl(I,_,w),w==="category"&&g){var L=xB($);S&&L?(U=$,$=Bf(0,O)):S||($=I1(F,$,y).reduce(function(G,ae){return G.indexOf(ae)>=0?G:[].concat(xs(G),[ae])},[]))}else if(w==="category")S?$=$.filter(function(G){return G!==""&&!be(G)}):$=I1(F,$,y).reduce(function(G,ae){return G.indexOf(ae)>=0||ae===""||be(ae)?G:[].concat(xs(G),[ae])},[]);else if(w==="number"){var B=MQ(I,i.filter(function(G){var ae,we,Se=a in G.props?G.props[a]:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae[a],ke="hide"in G.props?G.props.hide:(we=G.type.defaultProps)===null||we===void 0?void 0:we.hide;return Se===C&&(N||!ke)}),_,o,d);B&&($=B)}g&&(w==="number"||T!=="auto")&&(D=Cl(I,_,"category"))}else g?$=Bf(0,O):s&&s[C]&&s[C].hasStack&&w==="number"?$=h==="expand"?[0,1]:A2(s[C].stackGroups,l,u):$=b2(I,i.filter(function(G){var ae=a in G.props?G.props[a]:G.type.defaultProps[a],we="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ae===C&&(N||!we)}),w,d,!0);if(w==="number")$=Tv(f,$,C,o,A),F&&($=qy(F,$,E));else if(w==="category"&&F){var V=F,X=$.every(function(G){return V.indexOf(G)>=0});X&&($=V)}}return W(W({},v),{},he({},C,W(W({},x),{},{axisType:o,domain:$,categoricalDomain:D,duplicateDomain:U,originalDomain:(b=x.domain)!==null&&b!==void 0?b:P,isCategorical:g,layout:d})))},{})},mle=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Tp(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=w2(d,o),y=-1;return r.reduce(function(b,x){var w=x.type.defaultProps!==void 0?W(W({},x.type.defaultProps),x.props):x.props,_=w[a],E=qj("number");if(!b[_]){y++;var S;return v?S=Bf(0,g):s&&s[_]&&s[_].hasStack?(S=A2(s[_].stackGroups,l,u),S=Tv(f,S,_,o)):(S=qy(E,b2(h,r.filter(function(T){var A,N,C=a in T.props?T.props[a]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[a],I="hide"in T.props?T.props.hide:(N=T.type.defaultProps)===null||N===void 0?void 0:N.hide;return C===_&&!I}),"number",d),i.defaultProps.allowDataOverflow),S=Tv(f,S,_,o)),W(W({},b),{},he({},_,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:wn(cle,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:v,layout:d})))}return b},{})},gle=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=_n(d,o),g={};return h&&h.length?g=ple(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=mle(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},yle=function(e){var n=gi(e),r=Fr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kf(n,r)}},sT=function(e){var n=e.children,r=e.defaultShowTooltip,i=hn(n,us),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},vle=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vr(n&&n.type);return r&&r.indexOf("Bar")>=0})},lT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xle=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},g=hn(f,us),v=hn(f,bo),y=Object.keys(l).reduce(function(S,T){var A=l[T],N=A.orientation;return!A.mirror&&!A.hide?W(W({},S),{},he({},N,S[N]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,T){var A=a[T],N=A.orientation;return!A.mirror&&!A.hide?W(W({},S),{},he({},N,wn(S,"".concat(N))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=W(W({},b),y),w=x.bottom;g&&(x.bottom+=g.props.height||us.defaultProps.height),v&&n&&(x=OQ(x,i,r,n));var _=u-x.left-x.right,E=d-x.top-x.bottom;return W(W({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(E,0)})},ble=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},tb=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,E=w.stackGroups,S=w.offset,T=w.updateId,A=w.dataStartIndex,N=w.dataEndIndex,C=x.barSize,I=x.layout,O=x.barGap,$=x.barCategoryGap,U=x.maxBarSize,D=lT(I),P=D.numericAxisName,R=D.cateAxisName,F=vle(_),L=[];return _.forEach(function(B,V){var X=Tp(x.data,{graphicalItems:[B],dataStartIndex:A,dataEndIndex:N}),G=B.type.defaultProps!==void 0?W(W({},B.type.defaultProps),B.props):B.props,ae=G.dataKey,we=G.maxBarSize,Se=G["".concat(P,"Id")],ke=G["".concat(R,"Id")],Te={},Je=l.reduce(function(Cr,cr){var Gi=w["".concat(cr.axisType,"Map")],zo=G["".concat(cr.axisType,"Id")];Gi&&Gi[zo]||cr.axisType==="zAxis"||jo();var Vn=Gi[zo];return W(W({},Cr),{},he(he({},cr.axisType,Vn),"".concat(cr.axisType,"Ticks"),Fr(Vn)))},Te),Y=Je[R],de=Je["".concat(R,"Ticks")],ge=E&&E[Se]&&E[Se].hasStack&&GQ(B,E[Se].stackGroups),K=Vr(B.type).indexOf("Bar")>=0,je=kf(Y,de),q=[],re=F&&IQ({barSize:C,stackGroups:E,totalSize:ble(Je,R)});if(K){var ue,xe,Oe=be(we)?U:we,lt=(ue=(xe=kf(Y,de,!0))!==null&&xe!==void 0?xe:Oe)!==null&&ue!==void 0?ue:0;q=jQ({barGap:O,barCategoryGap:$,bandSize:lt!==je?lt:je,sizeList:re[ke],maxBarSize:Oe}),lt!==je&&(q=q.map(function(Cr){return W(W({},Cr),{},{position:W(W({},Cr.position),{},{offset:Cr.position.offset-lt/2})})}))}var Nr=B&&B.type&&B.type.getComposedData;Nr&&L.push({props:W(W({},Nr(W(W({},Je),{},{displayedData:X,props:x,dataKey:ae,item:B,bandSize:je,barPosition:q,offset:S,stackedData:ge,layout:I,dataStartIndex:A,dataEndIndex:N}))),{},he(he(he({key:B.key||"item-".concat(V)},P,Je[P]),R,Je[R]),"animationId",T)),childIndex:jB(B,x.children),item:B})}),L},g=function(x,w){var _=x.props,E=x.dataStartIndex,S=x.dataEndIndex,T=x.updateId;if(!E_({props:_}))return null;var A=_.children,N=_.layout,C=_.stackOffset,I=_.data,O=_.reverseStackOrder,$=lT(N),U=$.numericAxisName,D=$.cateAxisName,P=_n(A,r),R=qQ(I,P,"".concat(U,"Id"),"".concat(D,"Id"),C,O),F=l.reduce(function(G,ae){var we="".concat(ae.axisType,"Map");return W(W({},G),{},he({},we,gle(_,W(W({},ae),{},{graphicalItems:P,stackGroups:ae.axisType===U&&R,dataStartIndex:E,dataEndIndex:S}))))},{}),L=xle(W(W({},F),{},{props:_,graphicalItems:P}),w==null?void 0:w.legendBBox);Object.keys(F).forEach(function(G){F[G]=d(_,F[G],L,G.replace("Map",""),n)});var B=F["".concat(D,"Map")],V=yle(B),X=h(_,W(W({},F),{},{dataStartIndex:E,dataEndIndex:S,updateId:T,graphicalItems:P,stackGroups:R,offset:L}));return W(W({formattedGraphicalItems:X,graphicalItems:P,offset:L,stackGroups:R},V),F)},v=function(b){function x(w){var _,E,S;return Zse(this,x),S=nle(this,x,[w]),he(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(S,"accessibilityManager",new Use),he(S,"handleLegendBBoxUpdate",function(T){if(T){var A=S.state,N=A.dataStartIndex,C=A.dataEndIndex,I=A.updateId;S.setState(W({legendBBox:T},g({props:S.props,dataStartIndex:N,dataEndIndex:C,updateId:I},W(W({},S.state),{},{legendBBox:T}))))}}),he(S,"handleReceiveSyncEvent",function(T,A,N){if(S.props.syncId===T){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),he(S,"handleBrushChange",function(T){var A=T.startIndex,N=T.endIndex;if(A!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return W({dataStartIndex:A,dataEndIndex:N},g({props:S.props,dataStartIndex:A,dataEndIndex:N,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:N})}}),he(S,"handleMouseEnter",function(T){var A=S.getMouseInfo(T);if(A){var N=W(W({},A),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseEnter;ye(C)&&C(N,T)}}),he(S,"triggeredAfterMouseMove",function(T){var A=S.getMouseInfo(T),N=A?W(W({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseMove;ye(C)&&C(N,T)}),he(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),he(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),he(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),he(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var N=S.props.onMouseLeave;ye(N)&&N(A,T)}),he(S,"handleOuterEvent",function(T){var A=IB(T),N=wn(S.props,"".concat(A));if(A&&ye(N)){var C,I;/.*touch.*/i.test(A)?I=S.getMouseInfo(T.changedTouches[0]):I=S.getMouseInfo(T),N((C=I)!==null&&C!==void 0?C:{},T)}}),he(S,"handleClick",function(T){var A=S.getMouseInfo(T);if(A){var N=W(W({},A),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onClick;ye(C)&&C(N,T)}}),he(S,"handleMouseDown",function(T){var A=S.props.onMouseDown;if(ye(A)){var N=S.getMouseInfo(T);A(N,T)}}),he(S,"handleMouseUp",function(T){var A=S.props.onMouseUp;if(ye(A)){var N=S.getMouseInfo(T);A(N,T)}}),he(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),he(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),he(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),he(S,"handleDoubleClick",function(T){var A=S.props.onDoubleClick;if(ye(A)){var N=S.getMouseInfo(T);A(N,T)}}),he(S,"handleContextMenu",function(T){var A=S.props.onContextMenu;if(ye(A)){var N=S.getMouseInfo(T);A(N,T)}}),he(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&Gm.emit(Hm,S.props.syncId,T,S.eventEmitterSymbol)}),he(S,"applySyncEvent",function(T){var A=S.props,N=A.layout,C=A.syncMethod,I=S.state.updateId,O=T.dataStartIndex,$=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(W({dataStartIndex:O,dataEndIndex:$},g({props:S.props,dataStartIndex:O,dataEndIndex:$,updateId:I},S.state)));else if(T.activeTooltipIndex!==void 0){var U=T.chartX,D=T.chartY,P=T.activeTooltipIndex,R=S.state,F=R.offset,L=R.tooltipTicks;if(!F)return;if(typeof C=="function")P=C(L,T);else if(C==="value"){P=-1;for(var B=0;B<L.length;B++)if(L[B].value===T.activeLabel){P=B;break}}var V=W(W({},F),{},{x:F.left,y:F.top}),X=Math.min(U,V.x+V.width),G=Math.min(D,V.y+V.height),ae=L[P]&&L[P].value,we=Nv(S.state,S.props.data,P),Se=L[P]?{x:N==="horizontal"?L[P].coordinate:X,y:N==="horizontal"?G:L[P].coordinate}:Bj;S.setState(W(W({},T),{},{activeLabel:ae,activeCoordinate:Se,activePayload:we,activeTooltipIndex:P}))}else S.setState(T)}),he(S,"renderCursor",function(T){var A,N=S.state,C=N.isTooltipActive,I=N.activeCoordinate,O=N.activePayload,$=N.offset,U=N.activeTooltipIndex,D=N.tooltipAxisBandSize,P=S.getTooltipEventType(),R=(A=T.props.active)!==null&&A!==void 0?A:C,F=S.props.layout,L=T.key||"_recharts-cursor";return M.createElement(zse,{key:L,activeCoordinate:I,activePayload:O,activeTooltipIndex:U,chartName:n,element:T,isActive:R,layout:F,offset:$,tooltipAxisBandSize:D,tooltipEventType:P})}),he(S,"renderPolarAxis",function(T,A,N){var C=wn(T,"type.axisType"),I=wn(S.state,"".concat(C,"Map")),O=T.type.defaultProps,$=O!==void 0?W(W({},O),T.props):T.props,U=I&&I[$["".concat(C,"Id")]];return k.cloneElement(T,W(W({},U),{},{className:_e(C,U.className),key:T.key||"".concat(A,"-").concat(N),ticks:Fr(U,!0)}))}),he(S,"renderPolarGrid",function(T){var A=T.props,N=A.radialLines,C=A.polarAngles,I=A.polarRadius,O=S.state,$=O.radiusAxisMap,U=O.angleAxisMap,D=gi($),P=gi(U),R=P.cx,F=P.cy,L=P.innerRadius,B=P.outerRadius;return k.cloneElement(T,{polarAngles:Array.isArray(C)?C:Fr(P,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(I)?I:Fr(D,!0).map(function(V){return V.coordinate}),cx:R,cy:F,innerRadius:L,outerRadius:B,key:T.key||"polar-grid",radialLines:N})}),he(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,A=S.props,N=A.children,C=A.width,I=A.height,O=S.props.margin||{},$=C-(O.left||0)-(O.right||0),U=v2({children:N,formattedGraphicalItems:T,legendWidth:$,legendContent:u});if(!U)return null;var D=U.item,P=iT(U,Wse);return k.cloneElement(D,W(W({},P),{},{chartWidth:C,chartHeight:I,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),he(S,"renderTooltip",function(){var T,A=S.props,N=A.children,C=A.accessibilityLayer,I=hn(N,pn);if(!I)return null;var O=S.state,$=O.isTooltipActive,U=O.activeCoordinate,D=O.activePayload,P=O.activeLabel,R=O.offset,F=(T=I.props.active)!==null&&T!==void 0?T:$;return k.cloneElement(I,{viewBox:W(W({},R),{},{x:R.left,y:R.top}),active:F,label:P,payload:F?D:[],coordinate:U,accessibilityLayer:C})}),he(S,"renderBrush",function(T){var A=S.props,N=A.margin,C=A.data,I=S.state,O=I.offset,$=I.dataStartIndex,U=I.dataEndIndex,D=I.updateId;return k.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Fc(S.handleBrushChange,T.props.onChange),data:C,x:Q(T.props.x)?T.props.x:O.left,y:Q(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(N.bottom||0),width:Q(T.props.width)?T.props.width:O.width,startIndex:$,endIndex:U,updateId:"brush-".concat(D)})}),he(S,"renderReferenceElement",function(T,A,N){if(!T)return null;var C=S,I=C.clipPathId,O=S.state,$=O.xAxisMap,U=O.yAxisMap,D=O.offset,P=T.type.defaultProps||{},R=T.props,F=R.xAxisId,L=F===void 0?P.xAxisId:F,B=R.yAxisId,V=B===void 0?P.yAxisId:B;return k.cloneElement(T,{key:T.key||"".concat(A,"-").concat(N),xAxis:$[L],yAxis:U[V],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:I})}),he(S,"renderActivePoints",function(T){var A=T.item,N=T.activePoint,C=T.basePoint,I=T.childIndex,O=T.isRange,$=[],U=A.props.key,D=A.item.type.defaultProps!==void 0?W(W({},A.item.type.defaultProps),A.item.props):A.item.props,P=D.activeDot,R=D.dataKey,F=W(W({index:I,dataKey:R,cx:N.x,cy:N.y,r:4,fill:Gx(A.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},fe(P,!1)),Zd(P));return $.push(x.renderActiveDot(P,F,"".concat(U,"-activePoint-").concat(I))),C?$.push(x.renderActiveDot(P,W(W({},F),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(I))):O&&$.push(null),$}),he(S,"renderGraphicChild",function(T,A,N){var C=S.filterFormatItem(T,A,N);if(!C)return null;var I=S.getTooltipEventType(),O=S.state,$=O.isTooltipActive,U=O.tooltipAxis,D=O.activeTooltipIndex,P=O.activeLabel,R=S.props.children,F=hn(R,pn),L=C.props,B=L.points,V=L.isRange,X=L.baseLine,G=C.item.type.defaultProps!==void 0?W(W({},C.item.type.defaultProps),C.item.props):C.item.props,ae=G.activeDot,we=G.hide,Se=G.activeBar,ke=G.activeShape,Te=!!(!we&&$&&F&&(ae||Se||ke)),Je={};I!=="axis"&&F&&F.props.trigger==="click"?Je={onClick:Fc(S.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Je={onMouseLeave:Fc(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Fc(S.handleItemMouseEnter,T.props.onMouseEnter)});var Y=k.cloneElement(T,W(W({},C.props),Je));function de(cr){return typeof U.dataKey=="function"?U.dataKey(cr.payload):null}if(Te)if(D>=0){var ge,K;if(U.dataKey&&!U.allowDuplicatedCategory){var je=typeof U.dataKey=="function"?de:"payload.".concat(U.dataKey.toString());ge=Qd(B,je,P),K=V&&X&&Qd(X,je,P)}else ge=B==null?void 0:B[D],K=V&&X&&X[D];if(ke||Se){var q=T.props.activeIndex!==void 0?T.props.activeIndex:D;return[k.cloneElement(T,W(W(W({},C.props),Je),{},{activeIndex:q})),null,null]}if(!be(ge))return[Y].concat(xs(S.renderActivePoints({item:C,activePoint:ge,basePoint:K,childIndex:D,isRange:V})))}else{var re,ue=(re=S.getItemByXY(S.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:Y},xe=ue.graphicalItem,Oe=xe.item,lt=Oe===void 0?T:Oe,Nr=xe.childIndex,Cr=W(W(W({},C.props),Je),{},{activeIndex:Nr});return[k.cloneElement(lt,Cr),null,null]}return V?[Y,null,null]:[Y,null]}),he(S,"renderCustomized",function(T,A,N){return k.cloneElement(T,W(W({key:"recharts-customized-".concat(N)},S.props),S.state))}),he(S,"renderMap",{CartesianGrid:{handler:Hc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Hc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Hc},YAxis:{handler:Hc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Is("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=yI(S.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return ole(x,b),tle(x,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,T=_.height,A=_.layout,N=hn(E,pn);if(N){var C=N.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=Nv(this.state,S,C,I),$=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+T)/2,D=A==="horizontal",P=D?{x:$,y:U}:{y:$,x:U},R=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});R&&(P=W(W({},P),R.props.points[C].tooltipPosition),O=R.props.points[C].tooltipPayload);var F={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:P};this.setState(F),this.renderCursor(N),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){ry([hn(_.children,pn)],[hn(this.props.children,pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=hn(this.props.children,pn);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),T=iK(S),A={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},N=S.width/E.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,N);if(!C)return null;var I=this.state,O=I.xAxisMap,$=I.yAxisMap,U=this.getTooltipEventType(),D=aT(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&O&&$){var P=gi(O).scale,R=gi($).scale,F=P&&P.invert?P.invert(A.chartX):null,L=R&&R.invert?R.invert(A.chartY):null;return W(W({},A),{},{xValue:F,yValue:L},D)}return D?W(W({},A),D):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=_/S,N=E/S;if(T==="horizontal"||T==="vertical"){var C=this.state.offset,I=A>=C.left&&A<=C.left+C.width&&N>=C.top&&N<=C.top+C.height;return I?{x:A,y:N}:null}var O=this.state,$=O.angleAxisMap,U=O.radiusAxisMap;if($&&U){var D=gi($);return R1({x:A,y:N},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=hn(_,pn),T={};S&&E==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Zd(this.props,this.handleOuterEvent);return W(W({},A),T)}},{key:"addListener",value:function(){Gm.on(Hm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gm.removeListener(Hm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var T=this.state.formattedGraphicalItems,A=0,N=T.length;A<N;A++){var C=T[A];if(C.item===_||C.props.key===_.key||E===Vr(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,T=E.top,A=E.height,N=E.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:S,y:T,height:A,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=rT(S,2),A=T[0],N=T[1];return W(W({},E),{},he({},A,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=rT(S,2),A=T[0],N=T[1];return W(W({},E),{},he({},A,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,T=E.activeItem;if(S&&S.length)for(var A=0,N=S.length;A<N;A++){var C=S[A],I=C.props,O=C.item,$=O.type.defaultProps!==void 0?W(W({},O.type.defaultProps),O.props):O.props,U=Vr(O.type);if(U==="Bar"){var D=(I.data||[]).find(function(L){return Gte(_,L)});if(D)return{graphicalItem:C,payload:D}}else if(U==="RadialBar"){var P=(I.data||[]).find(function(L){return R1(_,L)});if(P)return{graphicalItem:C,payload:P}}else if(vp(C,T)||xp(C,T)||Ru(C,T)){var R=jre({graphicalItem:C,activeTooltipItem:T,itemData:$.data}),F=$.activeIndex===void 0?R:$.activeIndex;return{graphicalItem:W(W({},C),{},{childIndex:F}),payload:Ru(C,T)?$.data[R]:C.props.data[R]}}}return null}},{key:"render",value:function(){var _=this;if(!E_(this))return null;var E=this.props,S=E.children,T=E.className,A=E.width,N=E.height,C=E.style,I=E.compact,O=E.title,$=E.desc,U=iT(E,Kse),D=fe(U,!1);if(I)return M.createElement(UE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(oy,Ta({},D,{width:A,height:N,title:O,desc:$}),this.renderClipPath(),A_(S,this.renderMap)));if(this.props.accessibilityLayer){var P,R;D.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,D.role=(R=this.props.role)!==null&&R!==void 0?R:"application",D.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},D.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return M.createElement(UE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ta({className:_e("recharts-wrapper",T),style:W({position:"relative",cursor:"default",width:A,height:N},C)},F,{ref:function(B){_.container=B}}),M.createElement(oy,Ta({},D,{width:A,height:N,title:O,desc:$,style:dle}),this.renderClipPath(),A_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);he(v,"displayName",n),he(v,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),he(v,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,_=b.data,E=b.children,S=b.width,T=b.height,A=b.layout,N=b.stackOffset,C=b.margin,I=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var $=sT(b);return W(W(W({},$),{},{updateId:0},g(W(W({props:b},$),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:A,prevStackOffset:N,prevMargin:C,prevChildren:E})}if(w!==x.prevDataKey||_!==x.prevData||S!==x.prevWidth||T!==x.prevHeight||A!==x.prevLayout||N!==x.prevStackOffset||!Ma(C,x.prevMargin)){var U=sT(b),D={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},P=W(W({},aT(x,_,A)),{},{updateId:x.updateId+1}),R=W(W(W({},U),D),P);return W(W(W({},R),g(W({props:b},R),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:A,prevStackOffset:N,prevMargin:C,prevChildren:E})}if(!ry(E,x.prevChildren)){var F,L,B,V,X=hn(E,us),G=X&&(F=(L=X.props)===null||L===void 0?void 0:L.startIndex)!==null&&F!==void 0?F:I,ae=X&&(B=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&B!==void 0?B:O,we=G!==I||ae!==O,Se=!be(_),ke=Se&&!we?x.updateId:x.updateId+1;return W(W({updateId:ke},g(W(W({props:b},x),{},{updateId:ke,dataStartIndex:G,dataEndIndex:ae}),x)),{},{prevChildren:E,dataStartIndex:G,dataEndIndex:ae})}return null}),he(v,"renderActiveDot",function(b,x,w){var _;return k.isValidElement(b)?_=k.cloneElement(b,x):ye(b)?_=b(x):_=M.createElement(hp,x),M.createElement(Ce,{className:"recharts-active-dot",key:w},_)});var y=k.forwardRef(function(x,w){return M.createElement(v,Ta({},x,{ref:w}))});return y.displayName=v.displayName,y},wle=tb({chartName:"LineChart",GraphicalChild:sc,axisComponents:[{axisType:"xAxis",AxisComp:Oi},{axisType:"yAxis",AxisComp:Ri}],formatAxisMap:sj}),nb=tb({chartName:"BarChart",GraphicalChild:Tr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Oi},{axisType:"yAxis",AxisComp:Ri}],formatAxisMap:sj}),uT=tb({chartName:"PieChart",GraphicalChild:Er,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yp},{axisType:"radiusAxis",AxisComp:mp}],formatAxisMap:eZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _le=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>c.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[c.jsx("p",{className:"text-sm opacity-80",children:t.label}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),c.jsx("div",{className:"h-64",children:c.jsx($a,{width:"100%",height:"100%",children:c.jsxs(nb,{data:QD,children:[c.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Oi,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(Ri,{stroke:"#9ca3af"}),c.jsx(pn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(Tr,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),c.jsx("div",{className:"h-64",children:c.jsx($a,{width:"100%",height:"100%",children:c.jsxs(wle,{data:ZD,children:[c.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Oi,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(Ri,{stroke:"#9ca3af"}),c.jsx(pn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(sc,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function Sle({data:t,columns:e,onEdit:n,onDelete:r,isLoading:i,selectable:o,selectedIds:a=[],onSelect:s}){if(i)return c.jsx("div",{className:"p-4 text-center",children:"  ..."});const l=()=>{s&&(a.length===t.length?s([]):s(t.map(d=>d.id)))},u=d=>{s&&(a.includes(d)?s(a.filter(f=>f!==d)):s([...a,d]))};return c.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:c.jsxs("table",{className:"w-full text-sm text-right",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:c.jsxs("tr",{children:[o&&c.jsx("th",{className:"px-4 py-3 w-10",children:c.jsx("input",{type:"checkbox",checked:t.length>0&&a.length===t.length,onChange:l,className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(d=>c.jsx("th",{className:"px-4 py-3 font-medium whitespace-nowrap",children:d.header},String(d.key))),(n||r)&&c.jsx("th",{className:"px-4 py-3",children:""})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(d=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${a.includes(d.id)?"bg-red-50 dark:bg-red-900/10":""}`,children:[o&&c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(d.id),onChange:()=>u(d.id),className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(f=>c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.render?f.render(d[f.key],d):String(d[f.key])},String(f.key))),(n||r)&&c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2",children:[n&&c.jsx("button",{onClick:()=>n(d),className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"",children:c.jsx(VD,{className:"w-4 h-4"})}),r&&c.jsx("button",{onClick:()=>r(d),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"",children:c.jsx(en,{className:"w-4 h-4"})})]})})]},d.id)),t.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+(o?2:1),className:"px-4 py-8 text-center text-gray-500",children:"  "})})]})]})})}const br=()=>Math.random().toString(36).substring(2,9),Vj=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},Gj=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},ot=()=>{const t=new Date,e=Gj(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},qu=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},oi=t=>{const e=new Date,n=Gj(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},bs=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=Vj(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},Ele=(t,e,n,r)=>{const i=bs(t),o=bs(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},Tle=(t,e,n,r)=>{const i=bs(t),o=bs(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},th=t=>{const e=bs(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},cT="192.168.1.105",Ale=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories","parts","activity_cards","checklist_items","maintenance_plans"],dT={user_groups:" ",personnel:" ",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:" ",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories:" ",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},kle=()=>{const[t,e]=k.useState("user_groups"),[n,r]=k.useState([]),[i,o]=k.useState(!1),[a,s]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(null),[v,y]=k.useState(!1),b=k.useRef(null),x=k.useRef(null),w={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"personnel_id",header:" "},{key:"role",header:" "},{key:"is_default_password",header:" "}],locations:[{key:"code",header:""},{key:"name",header:" "},{key:"parent_id",header:" "}],org_chart:[{key:"code",header:" "},{key:"name",header:" /"},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:" "},{key:"group_id",header:" "},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"name",header:" "}],equipment_groups:[{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:"  "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:" "},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:""}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"  "},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},_=["personnel_code","full_name","mobile","email","username","name","title","code","local_name"],E=P=>{try{return JSON.parse(localStorage.getItem(`admin_data_${P}`)||"[]")}catch{return[]}},S=(P,R)=>{localStorage.setItem(`admin_data_${P}`,JSON.stringify(R))},T=async()=>{o(!0),g(null);try{const{data:P,error:R}=await er.from(t).select("*").order("created_at",{ascending:!1});if(R)throw R;let F=P||[];y(!1),t==="personnel"&&(F=F.map(L=>({...L,full_name:`${L.first_name||""} ${L.last_name||""}`.trim()}))),r(F),S(t,F)}catch(P){console.warn("Supabase fetch failed, switching to local data:",P),y(!0);let F=E(t);t==="personnel"&&(F=F.map(L=>({...L,full_name:`${L.first_name||""} ${L.last_name||""}`.trim()}))),r(F)}finally{o(!1)}};k.useEffect(()=>{T(),f([])},[t]);const A=()=>{u({}),s(!0)},N=P=>{u(P),s(!0)},C=async P=>{if(window.confirm("      ")){[...n],r(R=>R.filter(F=>F.id!==P.id)),f(R=>R.filter(F=>F!==P.id));try{const{error:R}=await er.from(t).delete().eq("id",P.id);if(R)throw R;await T()}catch{console.warn("Delete failed, performing offline delete");const L=E(t).filter(B=>B.id!==P.id);S(t,L),y(!0)}}},I=async()=>{if(d.length!==0&&window.confirm(`   ${d.length}   `)){r(P=>P.filter(R=>!d.includes(R.id)));try{const{error:P}=await er.from(t).delete().in("id",d);if(P)throw P;f([]),await T()}catch{console.warn("Bulk delete failed, performing offline delete");const F=E(t).filter(L=>!d.includes(L.id));S(t,F),f([]),y(!0)}}},O=async P=>{P.preventDefault(),o(!0);let R={...l};if(t==="personnel"){if(!R.personnel_code){o(!1),alert("   ");return}if(R.mobile&&!/^09\d{9}$/.test(R.mobile)){o(!1),alert("    .  11     09 .");return}if(R.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){o(!1),alert("     .");return}if(R.full_name){const F=R.full_name.trim().split(" ");R.first_name=F[0],R.last_name=F.slice(1).join(" ")||"-"}else R.id||(R.first_name="-",R.last_name="-");delete R.full_name}if(t==="equipment"&&!R.name){alert("   "),o(!1);return}if(t==="locations"&&!R.name){alert("   "),o(!1);return}try{if(R.id){const{error:F}=await er.from(t).update(R).eq("id",R.id);if(F)throw F}else{const{error:F}=await er.from(t).insert([R]);if(F)throw F}await T(),s(!1)}catch(F){console.warn("Save failed, performing offline save:",F);let B=[...E(t)];if(R.id){const V=B.findIndex(X=>X.id===R.id);V>=0?B[V]={...B[V],...R}:B.push(R)}else R.id=br(),R.created_at=new Date().toISOString(),B.unshift(R);S(t,B),alert("     .         ."),await T(),s(!1)}finally{o(!1)}},$=()=>{const R=w[t].map(G=>G.key),F=n.length>0?n:[];let L="\uFEFF"+R.join(",")+`
`;F.forEach(G=>{const ae=R.map(we=>{let Se=G[we]||"";return String(Se).includes(",")&&(Se=`"${Se}"`),Se});L+=ae.join(",")+`
`});const B=new Blob([L],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),X=URL.createObjectURL(B);V.setAttribute("href",X),V.setAttribute("download",`${t}_export.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},U=P=>{var L;const R=(L=P.target.files)==null?void 0:L[0];if(!R)return;const F=new FileReader;F.onload=async B=>{var X;const V=(X=B.target)==null?void 0:X.result;if(V)try{const G=V.split(`
`).filter(Te=>Te.trim()!=="");if(G.length<2){alert("    .");return}const ae=G[0].split(",").map(Te=>Te.trim()),Se=w[t].map(Te=>Te.key),ke=[];for(let Te=1;Te<G.length;Te++){const Je=G[Te].split(",");if(Je.length<ae.length)continue;const Y={};if(ae.forEach((de,ge)=>{var q;const K=de.replace(/[\r"]/g,"");let je=(q=Je[ge])==null?void 0:q.replace(/[\r"]/g,"").trim();Se.includes(K)&&(Y[K]=je)}),t==="personnel"){if(Y.full_name){const de=Y.full_name.split(" ");Y.first_name=de[0],Y.last_name=de.slice(1).join(" ")||"-",delete Y.full_name}if(!Y.personnel_code)continue}Object.keys(Y).length>0&&ke.push(Y)}if(ke.length===0){alert("    .");return}o(!0);try{const{error:Te}=await er.from(t).insert(ke);if(Te)throw Te;alert(`${ke.length}     .`)}catch{const Je=E(t),Y=ke.map(de=>({...de,id:br(),created_at:new Date().toISOString()}));S(t,[...Y,...Je]),alert(` ${ke.length}      .`)}await T()}catch(G){alert("   : "+G.message)}finally{o(!1),b.current&&(b.current.value="")}},F.readAsText(R)},D=P=>{var F;const R=(F=P.target.files)==null?void 0:F[0];if(R){const L=new FileReader;L.onloadend=()=>{u({...l,profile_picture:L.result})},L.readAsDataURL(R)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"  "}),v&&c.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[c.jsx(JD,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:T,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:c.jsx(Gd,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&c.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 no-scrollbar",children:Ale.map(P=>c.jsx("button",{onClick:()=>e(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===P?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:dT[P]},P))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-200",children:dT[t]}),d.length>0&&c.jsxs("button",{onClick:I,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[c.jsx(en,{className:"w-4 h-4"}),"  ",d.length," "]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[c.jsxs("button",{onClick:$,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[c.jsx(_D,{className:"w-4 h-4"}),"  /  "]}),c.jsx("input",{type:"file",ref:b,accept:".csv",onChange:U,className:"hidden"}),c.jsxs("button",{onClick:()=>{var P;return(P=b.current)==null?void 0:P.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[c.jsx(Kd,{className:"w-4 h-4"}),"    (CSV)"]}),c.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden md:block"}),c.jsxs("button",{onClick:A,className:"bg-primary hover:bg-red-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm transition shadow-lg",children:[c.jsx(wr,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx(Sle,{data:n,columns:w[t]||[],onEdit:N,onDelete:C,isLoading:i,selectable:!0,selectedIds:d,onSelect:f})]}),a&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),c.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:O,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w[t].map(P=>{const R=_.includes(P.key);return c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[P.header," ",R&&c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:P.key==="email"?"email":"text",value:l[P.key]||"",onChange:F=>u({...l,[P.key]:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:P.key==="mobile"?": 09123456789":""})]},String(P.key))}),t==="personnel"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsxs("div",{onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?c.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:c.jsx(Ld,{className:"w-8 h-8"})}),c.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:c.jsx(Kd,{className:"w-6 h-6 text-white"})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",ref:x,accept:"image/*",className:"hidden",onChange:D}),c.jsxs("button",{type:"button",onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[c.jsx(Ld,{className:"w-4 h-4"}),"  "]}),c.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]}),c.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),c.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-red-800 flex justify-center gap-2 items-center transition shadow-lg",children:[i?c.jsx(Gd,{className:"w-4 h-4 animate-spin"}):c.jsx(Ts,{className:"w-4 h-4"})," "]})]})]})]})})]})},Br=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=k.useState(!1),[s,l]=k.useState(1403),[u,d]=k.useState(1),f=k.useRef(null);k.useEffect(()=>{if(t){const T=t.split("/").map(Number);T.length===3&&(l(T[0]),d(T[1]))}else{const T=ot().split("/").map(Number);l(T[0]),d(T[1])}},[t,o]),k.useEffect(()=>{const T=A=>{f.current&&!f.current.contains(A.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],v=(T,A)=>A<=6?31:A<=11||T%33===1||T%33===5||T%33===9||T%33===13||T%33===17||T%33===22||T%33===26||T%33===30?30:29,y=(T,A)=>{const{gy:N,gm:C,gd:I}=Vj(T,A,1);return new Date(N,C-1,I).getDay()},b=()=>{u===1?(d(12),l(T=>T-1)):d(T=>T-1)},x=()=>{u===12?(d(1),l(T=>T+1)):d(T=>T+1)},w=T=>{const A=`${s}/${String(u).padStart(2,"0")}/${String(T).padStart(2,"0")}`;i&&th(A)||(e(A),a(!1))},_=()=>{const T=ot();e(T),a(!1)},E=(y(s,u)+1)%7,S=v(s,u);return c.jsxs("div",{className:"relative",ref:f,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),c.jsx(vD,{className:"w-4 h-4 text-gray-400"})]}),o&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(Nh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",s]}),c.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(F0,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((T,A)=>c.jsx("span",{className:A===6?"text-red-500 font-bold":"",children:T},A))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:E}).map((T,A)=>c.jsx("div",{},`empty-${A}`)),Array.from({length:S}).map((T,A)=>{const N=A+1,C=`${s}/${String(u).padStart(2,"0")}/${String(N).padStart(2,"0")}`,I=t===C,O=i&&th(C),$=(E+A)%7===6;return c.jsx("button",{type:"button",disabled:O,onClick:()=>w(N),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${I?"bg-primary text-white shadow-md font-bold":O?"text-gray-200 dark:text-gray-600 cursor-not-allowed":$?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:N},N)})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:c.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},Xt=({value:t,onChange:e,label:n})=>{const[r,i]=k.useState(!1),[o,a]=k.useState("HOURS"),s=k.useRef(null),[l,u]=k.useState("00"),[d,f]=k.useState("00");k.useEffect(()=>{if(t&&t.includes(":")){const[w,_]=t.split(":");u(w),f(_)}},[t,r]),k.useEffect(()=>{const w=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const h=w=>{u(w),a("MINUTES")},g=w=>{f(w),e(`${l}:${w}`),i(!1),a("HOURS")},v=(w,_,E)=>{const S=w*(360/_)-90,T=E*Math.cos(S*Math.PI/180),A=E*Math.sin(S*Math.PI/180);return{transform:`translate(${T}px, ${A}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],b=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return c.jsxs("div",{className:"relative",ref:s,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),c.jsx(Ch,{className:"w-5 h-5 text-gray-400"})]}),r&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[c.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),c.jsx("span",{className:"text-gray-300 pb-2",children:":"}),c.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),c.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[c.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&c.jsxs(c.Fragment,{children:[y.map((w,_)=>{const E=w===12?"00":w,S=String(E).padStart(2,"0"),T=l===S;return c.jsx("button",{type:"button",onClick:()=>h(S),style:v(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${T?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`out-${w}`)}),b.map((w,_)=>{const E=String(w).padStart(2,"0"),S=l===E;return c.jsx("button",{type:"button",onClick:()=>h(E),style:v(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:w===12?"12":w},`in-${w}`)})]}),o==="MINUTES"&&c.jsxs(c.Fragment,{children:[x.map((w,_)=>{const E=String(w).padStart(2,"0"),S=d===E;return c.jsx("button",{type:"button",onClick:()=>g(E),style:v(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`m-${w}`)}),c.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),c.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},lc=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},Hj=t=>{localStorage.setItem("workflows",JSON.stringify(t))},uc=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},zj=t=>{localStorage.setItem("cartable",JSON.stringify(t))},rb=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},Nle=t=>{const e=rb();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},fT=()=>rb(),Cle=t=>{const n=rb().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},Ap=()=>{try{const t=localStorage.getItem("messages");return t?JSON.parse(t):[]}catch{return[]}},Wj=t=>{localStorage.setItem("messages",JSON.stringify(t))},Ple=(t,e,n,r,i)=>{const o=Ap(),a={id:br(),senderId:t.id,senderName:t.fullName,receiverId:e,receiverType:n,subject:r,body:i,createdAt:`${ot()} ${qu()}`,readBy:[]};o.push(a),Wj(o)},Ile=t=>Ap().filter(n=>n.receiverType==="USER"&&n.receiverId===t.id||n.receiverType==="ALL"||n.receiverType==="GROUP"&&n.receiverId===t.role).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),jle=t=>Ap().filter(n=>n.senderId===t).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),Ole=(t,e)=>{const n=Ap(),r=n.findIndex(i=>i.id===t);if(r!==-1){const i=n[r];i.readBy.includes(e)||(i.readBy.push(e),n[r]=i,Wj(n))}},Rn=async t=>{try{const{data:e,error:n}=await er.from(t).select("*");if(!n&&e&&e.length>0)return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:t==="locations"?[{id:"L-1",name:" "},{id:"L-2",name:" "},{id:"L-3",name:" "},{id:"L-4",name:" "}]:t==="equipment"?[{id:"1",code:"PM-101",name:"Centrifugal Pump 101",class_id:"CLASS-2",group_id:"GRP-1",location_id:"L-2"},{id:"2",code:"CV-202",name:"Main Conveyor Belt",class_id:"CLASS-1",group_id:"GRP-3",location_id:"L-1"},{id:"3",code:"CR-300",name:"Jaw Crusher A",class_id:"CLASS-1",group_id:"GRP-2",location_id:"L-1"}]:[]},Rle=async t=>{try{const{data:e,error:n}=await er.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},Mle=()=>{let t=lc();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:tn.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:tn.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:tn.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),Hj(t)}};Mle();const Vu=()=>lc(),$le=t=>{const e=lc(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),Hj(e)},qi=(t,e,n,r,i)=>{let a=lc().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:br(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:ot(),updatedAt:ot(),data:{...e,status:"REQUEST"}},u=uc();return u.push(l),zj(u),l},Dle=(t,e,n,r)=>{const i=uc(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=lc().find(f=>f.id===a.workflowId);if(!l)return;const u=l.steps.find(f=>f.id===a.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=tn.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=ot(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,zj(i)}},hT=t=>uc().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),Kj=()=>uc().filter(e=>e.module==="WORK_ORDER"),Vo=t=>uc().filter(n=>n.module===t),ib=({initialData:t,onProcessComplete:e})=>{const n=Es(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=k.useState("GENERAL"),[l,u]=k.useState(null),[d,f]=k.useState(null),[h,g]=k.useState(!1),[v,y]=k.useState(null),[b,x]=k.useState(!1),[w,_]=k.useState([]),[E,S]=k.useState([]),[T,A]=k.useState([]),[N,C]=k.useState([]),[I,O]=k.useState([]),[$,U]=k.useState([]),D=k.useRef(null),[P,R]=k.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:ot(),reportTime:qu(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:ot(),startTime:"",endDate:ot(),endTime:"",downtime:"",repairTime:""}),[F,L]=k.useState([]),[B,V]=k.useState([]),[X,G]=k.useState([]);k.useEffect(()=>{(async()=>{const re=await Rn("equipment"),ue=await Rn("equipment_local_names"),xe=await Rn("locations");S(re),A(ue),O(re),U(ue),C(xe),_(await Rn("measurement_units"))})(),t&&(R(re=>({...re,...t})),t.labor&&L(t.labor),t.parts&&V(t.parts),t.docs&&G(t.docs))},[t]);const ae=q=>{const re=q.target.value,ue=E.find(xe=>xe.code===re);if(!ue){R(xe=>({...xe,equipCode:"",equipName:"",locationId:""})),U(T);return}if(R(xe=>({...xe,equipCode:re,equipName:ue.name,locationId:ue.location_id||""})),ue.class_id&&ue.group_id){const xe=T.filter(Oe=>Oe.class_id===ue.class_id&&Oe.group_id===ue.group_id);U(xe)}else U(T)},we=q=>{const re=q.target.value,ue=T.find(xe=>xe.local_name===re);if(R(xe=>({...xe,equipLocalName:re})),ue&&ue.class_id&&ue.group_id){const xe=E.filter(Oe=>Oe.class_id===ue.class_id&&Oe.group_id===ue.group_id);O(xe)}else O(E)},Se=q=>{const re=window.SpeechRecognition||window.webkitSpeechRecognition;if(!re){alert("         .");return}if(v===q){y(null);return}const ue=new re;ue.lang="fa-IR",ue.continuous=!1,ue.interimResults=!1,ue.onstart=()=>y(q),ue.onend=()=>y(null),ue.onresult=xe=>{const Oe=xe.results[0][0].transcript;R(lt=>({...lt,[q]:lt[q]?`${lt[q]} ${Oe}`:Oe}))},ue.start()},ke=()=>{L([...F,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},Te=(q,re,ue)=>{L(xe=>xe.map(Oe=>{if(Oe.id!==q)return Oe;const lt={...Oe,[re]:ue};return["startDate","startTime","endDate","endTime"].includes(re)&&(lt.durationMinutes=Tle(lt.startDate,lt.startTime,lt.endDate,lt.endTime)),lt}))},Je=()=>{var q;V([...B,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((q=w[0])==null?void 0:q.title)||""}])},Y=(q,re,ue)=>{V(xe=>xe.map(Oe=>Oe.id===q?{...Oe,[re]:ue}:Oe))},de=q=>{if(q.target.files&&q.target.files.length>0){const re=Array.from(q.target.files).map(ue=>({id:Math.random().toString(),name:ue.name}));G(ue=>[...ue,...re]),q.target.value=""}},ge=(q,re)=>{q(ue=>ue.filter(xe=>xe.id!==re))},K=()=>{if(!P.equipCode&&!P.equipLocalName)return"        .";if(!P.productionLine)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(th(P.startDate)||th(P.endDate))return"         .";if(Ele(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},je=async q=>{q.preventDefault(),f(null);const re=K();if(re){f(re),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const ue={...P,labor:F,parts:B,docs:X};if(i&&e)e(ue);else{x(!0);try{const xe=oi("W").substring(0,5),Oe=await Rle(xe);qi("WORK_ORDER",ue,r,Oe,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),u(Oe)):f("   .    .")}catch(xe){console.error(xe),f("        .")}finally{x(!1)}}};return l?c.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(EC,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),c.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),c.jsxs("div",{className:"p-6 space-y-3",children:[c.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[c.jsx(ND,{className:"w-5 h-5"}),"     "]}),c.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&c.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[c.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),c.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),c.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),c.jsxs("form",{onSubmit:je,className:"p-6",children:[d&&c.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[c.jsx(mD,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),c.jsx("span",{children:d})]}),a==="GENERAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:P.shift,onChange:q=>R({...P,shift:q.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[c.jsx("option",{value:"DayWork",children:""}),c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"  ()"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:we,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:"  ..."}),$.length>0?$.map(q=>c.jsx("option",{value:q.local_name,children:q.local_name},q.id)):c.jsx("option",{disabled:!0,children:"  "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),i?c.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):c.jsxs("select",{value:P.equipCode,onChange:ae,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[c.jsx("option",{value:"",children:"  (  )"}),I.map(q=>c.jsxs("option",{value:q.code,children:[q.code," - ",q.name]},q.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:q=>R({...P,productionLine:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"Line A",children:"Line A"}),c.jsx("option",{value:"Line B",children:"Line B"}),c.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"   ()"}),c.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"      "})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  (Location)"}),c.jsxs("select",{disabled:i,value:P.locationId,onChange:q=>R({...P,locationId:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" ..."}),N.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:q=>R({...P,workType:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"REPAIR",children:"  (EM)"}),c.jsx("option",{value:"PM",children:"  (PM)"}),c.jsx("option",{value:"PROJECT",children:" / "}),c.jsx("option",{value:"INSPECTION",children:" "}),c.jsx("option",{value:"SERVICE",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:q=>R({...P,workCategory:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"MECHANICAL",children:""}),c.jsx("option",{value:"ELECTRICAL",children:""}),c.jsx("option",{value:"INSTRUMENTATION",children:" "}),c.jsx("option",{value:"FACILITIES",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:q=>R({...P,priority:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"NORMAL",children:""}),c.jsx("option",{value:"URGENT",children:""}),c.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:q=>R({...P,failureDesc:q.target.value})}),!i&&c.jsx("button",{type:"button",onClick:()=>Se("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="failureDesc"?c.jsx(El,{className:"w-5 h-5 animate-spin"}):c.jsx(pr,{className:"w-5 h-5"})})]})]}),i&&c.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[c.jsx(_C,{className:"w-5 h-5"}),"    (  )"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:q=>R({...P,actionDesc:q.target.value})}),c.jsx("button",{type:"button",onClick:()=>Se("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="actionDesc"?c.jsx(El,{className:"w-5 h-5 animate-spin"}):c.jsx(pr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Br,{label:" ",value:P.startDate,onChange:q=>R({...P,startDate:q})}),c.jsx(Xt,{label:" ",value:P.startTime,onChange:q=>R({...P,startTime:q})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Br,{label:" ",value:P.endDate,onChange:q=>R({...P,endDate:q})}),c.jsx(Xt,{label:" ",value:P.endTime,onChange:q=>R({...P,endTime:q})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:q=>R({...P,downtime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:q=>R({...P,repairTime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&c.jsxs("div",{className:"space-y-4",children:[F.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 ml-2",children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:q.name,onChange:re=>Te(q.id,"name",re.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[c.jsx("option",{value:"",children:"..."}),c.jsx("option",{value:" ",children:"  ()"}),c.jsx("option",{value:" ",children:"  ()"})]})]}),c.jsx("button",{type:"button",onClick:()=>ge(L,q.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:c.jsx(en,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Br,{label:" ",value:q.startDate,onChange:re=>Te(q.id,"startDate",re)}),c.jsx(Xt,{label:" ",value:q.startTime,onChange:re=>Te(q.id,"startTime",re)}),c.jsx(Br,{label:" ",value:q.endDate,onChange:re=>Te(q.id,"endDate",re)}),c.jsx(Xt,{label:" ",value:q.endTime,onChange:re=>Te(q.id,"endTime",re)})]})]},q.id)),c.jsxs("button",{type:"button",onClick:ke,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(wr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&c.jsxs("div",{className:"space-y-4",children:[B.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[c.jsx("button",{type:"button",onClick:()=>ge(V,q.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:c.jsx(en,{className:"w-4 h-4"})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:q.code,onChange:re=>Y(q.id,"code",re.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:q.name,onChange:re=>Y(q.id,"name",re.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:q.qty,onChange:re=>Y(q.id,"qty",Number(re.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:q.unit,onChange:re=>Y(q.id,"unit",re.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:w.length>0?w.map(re=>c.jsx("option",{value:re.title,children:re.title},re.id)):c.jsx("option",{value:"",children:""})})]})]})]},q.id)),c.jsxs("button",{type:"button",onClick:Je,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(wr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("input",{type:"file",ref:D,multiple:!0,className:"hidden",onChange:de}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var q;return(q=D.current)==null?void 0:q.click()},children:[c.jsx(jC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),X.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),X.map(q=>c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[c.jsx("span",{className:"text-sm truncate max-w-[200px]",children:q.name}),c.jsx("button",{type:"button",onClick:()=>ge(G,q.id),className:"text-red-500",children:c.jsx(en,{className:"w-4 h-4"})})]},q.id))]})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:c.jsxs("button",{disabled:b,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-wait",children:[b?c.jsx(El,{className:"w-5 h-5 animate-spin"}):c.jsx(Ts,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},Lle=()=>{const t=Es(),[e,n]=k.useState([]),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState([]),[g,v]=k.useState(""),[y,b]=k.useState("ALL"),[x,w]=k.useState(""),[_,E]=k.useState(""),[S,T]=k.useState(1),[A,N]=k.useState(10);k.useEffect(()=>{const D=Kj();n(D.sort((P,R)=>R.createdAt.localeCompare(P.createdAt)))},[]),k.useEffect(()=>{let D=e;g&&(D=D.filter(P=>{var R;return P.title.includes(g)||P.trackingCode.includes(g)||((R=P.data)==null?void 0:R.equipName)&&P.data.equipName.includes(g)})),y!=="ALL"&&(D=D.filter(P=>C(P).includes(y))),x&&(D=D.filter(P=>P.createdAt>=x)),_&&(D=D.filter(P=>P.createdAt<=_)),i(D),T(1),h([])},[e,g,y,x,_]),k.useEffect(()=>{const D=(S-1)*A,P=D+A;a(r.slice(D,P))},[r,S,A]);const C=D=>{if(D.status==="DONE")return" ";const R=Vu().find(L=>L.id===D.workflowId),F=R==null?void 0:R.steps.find(L=>L.id===D.currentStepId);return(F==null?void 0:F.title)||""},I=D=>{const P=C(D);let R="bg-gray-100 text-gray-600";return P.includes("")?R="bg-blue-100 text-blue-700":P.includes("")?R="bg-orange-100 text-orange-700":P.includes("")?R="bg-purple-100 text-purple-700":(P.includes("")||D.status==="DONE")&&(R="bg-green-100 text-green-700"),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${R}`,children:P})},O=D=>{D.target.checked?h(o.map(P=>P.id)):h([])},$=D=>{f.includes(D)?h(f.filter(P=>P!==D)):h([...f,D])},U=()=>{const D=f.length>0?e.filter(V=>f.includes(V.id)):r;if(D.length===0){alert("    .");return}const P=[" ","",""," ","",""],R=D.map(V=>{var X,G;return[V.trackingCode,((X=V.data)==null?void 0:X.equipName)||"-",V.title,((G=V.data)==null?void 0:G.requester)||"-",V.createdAt,C(V)]}),F="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+R.map(V=>V.join(",")).join(`
`),L=encodeURI(F),B=document.createElement("a");B.setAttribute("href",L),B.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx($C,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),c.jsxs("button",{onClick:U,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(B0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]}),c.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(wr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[c.jsxs("div",{className:"relative flex-1 w-full",children:[c.jsx(Hd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:D=>v(D.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[c.jsx(Ph,{className:"w-5 h-5"}),c.jsx("span",{children:""}),u?c.jsx(AC,{className:"w-4 h-4"}):c.jsx(TC,{className:"w-4 h-4"})]})]}),u&&c.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),c.jsxs("select",{value:y,onChange:D=>b(D.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[c.jsx("option",{value:"ALL",children:" "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:"  "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:D=>w(D.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:D=>E(D.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>{b("ALL"),w(""),E(""),v("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:O,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:"  / "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(D=>{var P,R,F;return c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(D.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:f.includes(D.id),onChange:()=>$(D.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:D.trackingCode}),c.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=D.data)==null?void 0:P.equipName)||"-"}),c.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((R=D.data)==null?void 0:R.failureDesc)||D.title}),c.jsx("td",{className:"p-4",children:((F=D.data)==null?void 0:F.requester)||""}),c.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:D.createdAt}),c.jsx("td",{className:"p-4",children:I(D)}),c.jsx("td",{className:"p-4",children:c.jsxs("button",{onClick:()=>l(D),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[c.jsx(Ud,{className:"w-4 h-4"})," "]})})]},D.id)}):c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[c.jsx(Hd,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("span",{children:"     ."})]})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:A,onChange:D=>{N(Number(D.target.value)),T(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsx("span",{children:"   "}),c.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{disabled:S===1,onClick:()=>T(D=>Math.max(1,D-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Nh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/A)||1]}),c.jsx("button",{disabled:S>=Math.ceil(r.length/A),onClick:()=>T(D=>D+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(F0,{className:"w-4 h-4"})})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-lg",children:s.title}),c.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),c.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(sn,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:c.jsx("div",{className:"pointer-events-none opacity-90",children:c.jsx(ib,{initialData:s.data})})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:c.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},Ule=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Fle=({user:t})=>{const e=Es(),[n,r]=k.useState("SELECT"),[i,o]=k.useState(Ule),[a,s]=k.useState(""),l=(h,g)=>{o(v=>v.map(y=>y.id===h?{...y,status:g}:y))},u=()=>{r("SENDING"),setTimeout(()=>{s(oi("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[c.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:c.jsx(LD,{className:"w-20 h-20 text-primary"})}),c.jsx("p",{className:"text-lg font-medium",children:" QR   "}),c.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),c.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:c.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return c.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-4xl animate-bounce",children:""}),c.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:"  101"}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:ot()}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[c.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),c.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>c.jsx("li",{children:g.desc},g.id))})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(RC,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(PC,{className:"w-5 h-5"})," "]})]})]})}return c.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),c.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),c.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),c.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[c.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[c.jsx(kh,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[c.jsx(sn,{className:"w-5 h-5"})," "]})]}):c.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[c.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),c.jsx(pr,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[c.jsx(Ld,{className:"w-4 h-4"}),"  "]}),c.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:c.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})};function Go({data:t,columns:e,title:n,icon:r,onAdd:i,onViewDetails:o,onDelete:a,searchKeys:s=[]}){const[l,u]=k.useState(t),[d,f]=k.useState(""),[h,g]=k.useState(1),[v,y]=k.useState(10),[b,x]=k.useState([]),[w,_]=k.useState(!1);k.useEffect(()=>{let I=t;if(d){const O=d.toLowerCase();I=I.filter($=>Object.values($).join(" ").toLowerCase().includes(O))}u(I),g(1)},[t,d]);const E=(h-1)*v,S=E+v,T=l.slice(E,S),A=I=>{I.target.checked?x(T.map(O=>O.id)):x([])},N=I=>{b.includes(I)?x(b.filter(O=>O!==I)):x([...b,I])},C=()=>{const I=b.length>0?t.filter(P=>b.includes(P.id)):l;if(I.length===0)return alert("    ");const O=e.map(P=>P.header),$=I.map(P=>e.map(R=>{const F=R.accessor(P);return typeof F=="string"||typeof F=="number"?F:"-"})),U="data:text/csv;charset=utf-8,\uFEFF"+O.join(",")+`
`+$.map(P=>P.join(",")).join(`
`),D=document.createElement("a");D.setAttribute("href",encodeURI(U)),D.setAttribute("download",`export_${Date.now()}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[r&&c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(r,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[b.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[b.length,"  "]}),c.jsxs("button",{onClick:C,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(B0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:""})]}),i&&c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(wr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Hd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:I=>f(I.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600",children:c.jsx(Ph,{className:"w-5 h-5 text-gray-500"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:A,checked:T.length>0&&b.length===T.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((I,O)=>c.jsx("th",{className:"p-4",children:I.header},O)),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:T.length>0?T.map((I,O)=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${b.includes(I.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:b.includes(I.id),onChange:()=>N(I.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map(($,U)=>c.jsx("td",{className:"p-4",children:$.accessor(I)},U)),c.jsxs("td",{className:"p-4 flex gap-2",children:[o&&c.jsx("button",{onClick:()=>o(I),className:"p-2 text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition",children:c.jsx(Ud,{className:"w-4 h-4"})}),a&&c.jsx("button",{onClick:()=>a(I),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition",children:c.jsx(en,{className:"w-4 h-4"})})]})]},I.id||O)):c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:v,onChange:I=>{y(Number(I.target.value)),g(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsxs("span",{children:[": ",l.length]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{disabled:h===1,onClick:()=>g(I=>I-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(Nh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",h]}),c.jsx("button",{disabled:S>=l.length,onClick:()=>g(I=>I+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(F0,{className:"w-4 h-4"})})]})]})]})]})}const Ble=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]);k.useEffect(()=>{const d=Vo("PART_REQUEST");i(d.map(f=>({...f,...f.data}))),Rn("measurement_units").then(a)},[e]);const[s,l]=k.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});k.useEffect(()=>{o.length>0&&!s.unit&&l(d=>({...d,unit:o[0].title}))},[o]);const u=d=>{var h;if(d.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=oi("P");qi("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:"   ",icon:Vd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:d=>d.trackingCode},{header:" ",accessor:d=>c.jsx("span",{className:"font-bold",children:d.partName})},{header:" ",accessor:d=>d.partCode||"-"},{header:"",accessor:d=>c.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[d.qty," ",d.unit]})},{header:" ",accessor:d=>d.createdAt},{header:" ",accessor:d=>d.description.split("")[1]||"-"},{header:"",accessor:d=>d.status==="PENDING"?"  ":" "}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Vd,{className:"text-primary"}),"    "]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:ot(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),c.jsx("input",{type:"text",value:qu(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),c.jsx("input",{type:"text",value:s.partCode,onChange:d=>l({...s,partCode:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",required:!0,value:s.partName,onChange:d=>l({...s,partName:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",min:"1",value:s.qty,onChange:d=>l({...s,qty:Number(d.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:s.unit,onChange:d=>l({...s,unit:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(d=>c.jsx("option",{value:d.title,children:d.title},d.id)):c.jsx("option",{value:"",children:""})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),c.jsxs("select",{value:s.relatedWorkOrder,onChange:d=>l({...s,relatedWorkOrder:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[c.jsx("option",{value:"",children:"  ()"}),c.jsx("option",{children:"W403012293 -  "}),c.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&c.jsxs("div",{className:"animate-fadeIn",children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{required:!0,value:s.requestReason,onChange:d=>l({...s,requestReason:d.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),c.jsxs("div",{className:"pt-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},qle=()=>{const[t,e]=k.useState("LIST"),[n,r]=k.useState([]);k.useEffect(()=>{r(fT())},[t]);const i=k.useRef(null),[o,a]=k.useState(null),[s,l]=k.useState({code:"",name:"",type:""}),u=()=>{var g;(g=i.current)==null||g.click()},d=g=>{g.target.files&&g.target.files[0]&&a(g.target.files[0])},f=g=>{if(g.preventDefault(),!s.code||!s.name)return;const v={id:br(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:ot()};Nle(v),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=g=>{window.confirm("      ")&&(Cle(g.id),r(fT()))};return t==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:"  ",icon:$d,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:g=>c.jsx("span",{className:"font-mono font-bold",children:g.code})},{header:" ",accessor:g=>g.name},{header:" ",accessor:g=>g.type},{header:" ",accessor:g=>g.fileName||"-"},{header:" ",accessor:g=>g.createdAt}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($d,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),c.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.code,onChange:g=>l({...s,code:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.name,onChange:g=>l({...s,name:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:s.type,onChange:g=>l({...s,type:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:"MAP",children:""}),c.jsx("option",{value:"CATALOG",children:""}),c.jsx("option",{value:"MANUAL",children:""}),c.jsx("option",{value:"OTHER",children:""})]})]}),c.jsx("input",{type:"file",ref:i,onChange:d,className:"hidden"}),c.jsxs("div",{onClick:u,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[c.jsx(Kd,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),c.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),c.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},pT=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=k.useState(!1),a=k.useRef(null),s=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),l=Array.from({length:12},(g,v)=>String(v*5).padStart(2,"0"));k.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),o(!1)};return c.jsxs("div",{className:"relative",ref:a,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),c.jsx(Ch,{className:"w-4 h-4 text-gray-400"})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>c.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),c.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>c.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},Vle=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=k.useState("LIST"),[i,o]=k.useState([]),[a,s]=k.useState([]),[l,u]=k.useState([]);k.useEffect(()=>{const A=Vo("MEETING");o(A.map(N=>({...N,...N.data}))),Rn("personnel").then(s),Rn("org_chart").then(u)},[n]);const d=k.useRef(null),[f,h]=k.useState([]),[g,v]=k.useState([]),[y,b]=k.useState({name:"",role:""}),[x,w]=k.useState({code:"",subject:"",location:"",meetingDate:ot(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!y.name||!y.role){alert("      ");return}v([...g,y]),b({name:"",role:""})},E=A=>{v(g.filter((N,C)=>C!==A))},S=A=>{if(A.preventDefault(),g.length===0){alert("         ");return}const N=oi("G"),C=g.map(I=>`${I.name} - ${I.role}`).join(`
`);qi("MEETING",{...x,attendees:C,attendeesList:g},e,N,`: ${x.subject}`),alert("  ."),r("LIST"),w({code:"",subject:"",location:"",meetingDate:ot(),startTime:"",endTime:"",decisions:""}),v([]),h([])},T=A=>{A.target.files&&A.target.files.length>0&&h([...f,...Array.from(A.target.files)])};return n==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:" ",icon:Fd,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:A=>A.trackingCode},{header:" ",accessor:A=>c.jsx("span",{className:"font-bold",children:A.subject})},{header:" ",accessor:A=>A.meetingDate},{header:"",accessor:A=>`${A.startTime} - ${A.endTime}`},{header:"",accessor:A=>A.location},{header:"",accessor:A=>A.status==="PENDING"?"":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),c.jsx("input",{type:"text",value:x.code,onChange:A=>w({...x,code:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:x.subject,onChange:A=>w({...x,subject:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),c.jsx("input",{type:"text",value:x.location,onChange:A=>w({...x,location:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsx("div",{children:c.jsx(Br,{label:" ",value:x.meetingDate,onChange:A=>w({...x,meetingDate:A})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[c.jsx("div",{children:c.jsx(pT,{label:" ",value:x.startTime,onChange:A=>w({...x,startTime:A})})}),c.jsx("div",{children:c.jsx(pT,{label:" ",value:x.endTime,onChange:A=>w({...x,endTime:A})})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[c.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[c.jsx(Ka,{className:"w-4 h-4"}),"   "]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.name,onChange:A=>b({...y,name:A.target.value}),children:[c.jsx("option",{value:"",children:"  ..."}),a.map(A=>c.jsxs("option",{value:`${A.first_name} ${A.last_name}`,children:[A.first_name," ",A.last_name," (",A.unit,")"]},A.id))]}),c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.role,onChange:A=>b({...y,role:A.target.value}),children:[c.jsx("option",{value:"",children:" /..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]}),c.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(wr,{className:"w-5 h-5"})})]}),g.length>0?c.jsx("ul",{className:"space-y-2",children:g.map((A,N)=>c.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[c.jsxs("span",{children:[A.name," ",c.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:A.role})]}),c.jsx("button",{type:"button",onClick:()=>E(N),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(en,{className:"w-4 h-4"})})]},N))}):c.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:x.decisions,onChange:A=>w({...x,decisions:A.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),c.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),c.jsx("input",{type:"file",ref:d,multiple:!0,className:"hidden",onChange:T}),c.jsxs("button",{type:"button",onClick:()=>{var A;return(A=d.current)==null?void 0:A.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[c.jsx(wr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&c.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((A,N)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),A.name]},N))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[c.jsx(Ts,{className:"w-5 h-5"}),"   "]})]})]})]})},Gle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]);k.useEffect(()=>{const v=Vo("SUGGESTION");i(v.map(y=>({...y,...y.data})))},[e]);const[o,a]=k.useState(""),s=k.useRef(null),[l,u]=k.useState([]),d=v=>{if(v.preventDefault(),!o.trim())return;const y=oi("H");qi("SUGGESTION",{text:o},t,y,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),u([])},f=()=>{var v;(v=s.current)==null||v.click()},h=v=>{v.target.files&&v.target.files.length>0&&u([...l,...Array.from(v.target.files)])},g=v=>{u(l.filter((y,b)=>b!==v))};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:" ",icon:qd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.description.split("")[1]||t.fullName},{header:"",accessor:v=>c.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:ot(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:o,onChange:v=>a(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),c.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:c.jsx(pr,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx(jC,{className:"w-4 h-4"}),"  "]}),c.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&c.jsx("div",{className:"mt-4 space-y-2",children:l.map((v,y)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[c.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),c.jsx("button",{type:"button",onClick:()=>g(y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(en,{className:"w-4 h-4"})})]},y))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[c.jsx(zd,{className:"w-5 h-5"}),"  "]})]})]})]})},Hle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]),[o,a]=k.useState([]);k.useEffect(()=>{const E=Vo("PURCHASE");i(E.map(S=>({...S,...S.data}))),Rn("measurement_units").then(a)},[e]);const[s,l]=k.useState(""),[u,d]=k.useState(ot()),[f,h]=k.useState(null),[g,v]=k.useState(""),[y,b]=k.useState(1),[x,w]=k.useState("");k.useEffect(()=>{o.length>0&&!x&&w(o[0].title)},[o]);const _=E=>{if(E.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const T=oi("K");qi("PURCHASE",{requestNumber:s,requestDate:u,desc:g,qty:y,unit:x},t,T,`: ${g.substring(0,15)}...`),alert("   "),n("LIST"),l(""),v(""),b(1),d(ot())};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:" ",icon:Wd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:E=>E.trackingCode},{header:" ",accessor:E=>c.jsx("span",{className:"font-mono font-bold",children:E.requestNumber})},{header:" ",accessor:E=>E.desc},{header:"",accessor:E=>E.qty+" "+(E.unit||"")},{header:"",accessor:E=>E.requestDate||E.createdAt},{header:"",accessor:E=>E.status==="PENDING"?" ":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:s,onChange:E=>{l(E.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[c.jsx(SC,{className:"w-3 h-3"}),c.jsx("span",{children:f})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx(Br,{value:u,onChange:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:" ( )"}),c.jsx("option",{children:" ()"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:""}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:""}),c.jsx("option",{children:""}),c.jsx("option",{children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:g,onChange:E=>v(E.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),c.jsx(pr,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:y,onChange:E=>b(Number(E.target.value)),className:"input-field",required:!0})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:x,onChange:E=>w(E.target.value),className:"input-field",children:o.length>0?o.map(E=>c.jsx("option",{value:E.title,children:E.title},E.id)):c.jsx("option",{value:"",children:""})})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),c.jsx(pr,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),c.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},zle=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=k.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(s)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:" "}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?c.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),c.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:c.jsx(Ld,{className:"w-4 h-4"})}),c.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),c.jsx("p",{className:"text-gray-500",children:t.role})]})]}),c.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:c.jsx(BD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium block",children:"  "}),c.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:""}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"   "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},Wle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState([]);k.useEffect(()=>{const y=Vo("PROJECT");i(y.map(b=>({...b,...b.data})))},[e]);const[o,a]=k.useState({title:"",manager:"",budget:0,startDate:ot(),endDate:"",description:""}),[s,l]=k.useState([]),[u,d]=k.useState({title:"",weight:10}),f=()=>{if(!u.title)return;const y=s.reduce((b,x)=>b+x.weight,0);if(y+u.weight>100){alert(`      .  : ${100-y}`);return}l([...s,{id:Math.random().toString(),title:u.title,weight:u.weight,progress:0}]),d({title:"",weight:10})},h=y=>{l(s.filter(b=>b.id!==y))},g=()=>{const y=s.reduce((x,w)=>x+w.weight,0);if(y===0)return 0;const b=s.reduce((x,w)=>x+w.progress*w.weight,0);return Math.round(b/y)},v=y=>{y.preventDefault();const b=oi("P"),x=s.reduce((_,E)=>_+E.weight,0);if(s.length>0&&x!==100){alert(`     .  : ${x}`);return}const w={...o,milestones:s,progress:g()};qi("PROJECT",w,t,b,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:ot(),endDate:"",description:""}),l([])};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:"   ",icon:Dd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>c.jsx("span",{className:"font-bold",children:y.title})},{header:" ",accessor:y=>y.manager},{header:" ",accessor:y=>y.startDate},{header:" ()",accessor:y=>Number(y.budget).toLocaleString()},{header:"",accessor:y=>c.jsxs("div",{className:"w-24",children:[c.jsx("div",{className:"flex justify-between text-xs mb-1",children:c.jsxs("span",{children:[y.progress||0,"%"]})}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500",style:{width:`${y.progress||0}%`}})})]})},{header:"",accessor:y=>c.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:y.status==="PENDING"?"  ":" "})}]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(Dd,{className:"w-8 h-8 text-primary"}),c.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),c.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.title,onChange:y=>a({...o,title:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.manager,onChange:y=>a({...o,manager:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsx("div",{children:c.jsx(Br,{label:" ",value:o.startDate||"",onChange:y=>a({...o,startDate:y}),disableFuture:!1})}),c.jsx("div",{children:c.jsx(Br,{label:"  ()",value:o.endDate||"",onChange:y=>a({...o,endDate:y}),disableFuture:!1})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:o.budget,onChange:y=>a({...o,budget:Number(y.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),c.jsx("textarea",{value:o.description,onChange:y=>a({...o,description:y.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(zD,{className:"w-5 h-5"}),"   (WBS)"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:u.title,onChange:y=>d({...u,title:y.target.value})}),c.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:u.weight,onChange:y=>d({...u,weight:Number(y.target.value)})}),c.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(wr,{className:"w-5 h-5"})})]}),s.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[c.jsx("span",{className:"col-span-8",children:" "}),c.jsx("span",{className:"col-span-2 text-center",children:""}),c.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(y=>c.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[c.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[c.jsx(U0,{className:"w-4 h-4 text-green-500"})," ",y.title]}),c.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[y.weight,"%"]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(en,{className:"w-4 h-4"})})})]},y.id)),c.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",c.jsxs("span",{className:`${s.reduce((y,b)=>y+b.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((y,b)=>y+b.weight,0),"%"]})]})]}):c.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[c.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[c.jsx(sn,{className:"w-5 h-5"})," "]}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[c.jsx(Ts,{className:"w-5 h-5"}),"      "]})]})]})]})},Kle=({user:t})=>{const[e,n]=k.useState("LIST"),[r,i]=k.useState(!1),[o,a]=k.useState([]),[s,l]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState([]);k.useEffect(()=>{const _=Vo("PERFORMANCE");a(_.map(E=>({...E,...E.data}))),Rn("evaluation_periods").then(l),Rn("evaluation_criteria").then(E=>{d(E),E.length>0&&g.criteria.length===0&&v(S=>({...S,criteria:E.map(T=>({label:T.title,score:0,max:T.max_score}))}))}),Rn("personnel").then(h)},[e]);const[g,v]=k.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});k.useEffect(()=>{s.length>0&&!g.period&&v(_=>({..._,period:s[0].title}))},[s]),k.useEffect(()=>{u.length>0&&g.criteria.length===0&&v(_=>({..._,criteria:u.map(E=>({label:E.title,score:0,max:E.max_score}))}))},[u]);const y=g.criteria.reduce((_,E)=>_+E.score,0),b=_=>{var S;if(_.preventDefault(),!g.personnelId){alert("      .");return}const E=oi("G");qi("PERFORMANCE",{...g,totalScore:y},t,E,` : ${g.personnelName} - ${g.period}`),alert("       ."),n("LIST"),v({personnelId:"",personnelName:"",unit:"",period:((S=s[0])==null?void 0:S.title)||"",criteria:u.map(T=>({label:T.title,score:0,max:T.max_score}))})},x=(_,E)=>{const S=g.criteria[_].max;if(E>S){alert(`       (${S})  .`);return}const T=[...g.criteria];T[_].score=Math.max(0,E),v({...g,criteria:T})},w=_=>{v({...g,personnelId:_.id,personnelName:`${_.first_name} ${_.last_name}`,unit:_.unit}),i(!1)};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Go,{title:"  ",icon:L0,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:_=>_.trackingCode},{header:" ",accessor:_=>c.jsx("span",{className:"font-bold",children:_.personnelName})},{header:"",accessor:_=>_.unit},{header:" ",accessor:_=>_.period},{header:" ",accessor:_=>c.jsxs("span",{className:`font-bold ${_.totalScore>=80?"text-green-600":"text-orange-500"}`,children:[_.totalScore," / ",u.reduce((E,S)=>E+S.max_score,0)||100]})},{header:"",accessor:_=>_.description.split("")[1]||"-"}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),c.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),g.personnelName?c.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:g.personnelName}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",g.unit]})]}),c.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):c.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[c.jsx(Ka,{className:"w-5 h-5"}),"   "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:g.period,onChange:_=>v({...g,period:_.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(_=>c.jsx("option",{value:_.title,children:_.title},_.id)):c.jsx("option",{children:"   "})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:" "}),g.criteria.length>0?g.criteria.map((_,E)=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[c.jsxs("div",{className:"mb-2 md:mb-0",children:[c.jsxs("span",{className:"font-medium block",children:[E+1,". ",_.label]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",_.max]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"0",max:_.max,value:_.score,onChange:S=>x(E,Number(S.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),c.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",_.max]})]})]},E)):c.jsx("p",{className:"text-center text-gray-400",children:"   ."})]}),c.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[c.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black text-primary",children:y}),c.jsxs("span",{className:"text-gray-500",children:["/ ",u.reduce((_,E)=>_+E.max_score,0)||100]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),c.jsx("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95",children:"   "})]})]})]}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold text-lg",children:" "}),c.jsx("button",{onClick:()=>i(!1),children:c.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("div",{className:"relative",children:[c.jsx(Hd,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"   "}),c.jsx("th",{className:"p-3",children:" "}),c.jsx("th",{className:"p-3",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(_=>c.jsxs("tr",{onClick:()=>w(_),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[c.jsxs("td",{className:"p-3 font-bold",children:[_.first_name," ",_.last_name]}),c.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:_.unit}),c.jsx("td",{className:"p-3",children:c.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:c.jsx(kh,{className:"w-4 h-4"})})})]},_.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Jle=({user:t})=>{var v;const[e,n]=k.useState("WORK_ORDER"),[r,i]=k.useState([]),[o,a]=k.useState(null);k.useEffect(()=>{const y=hT(t);i(y)},[t,e]);const s=(y,b)=>{o&&(Dle(o.id,y,t),a(null),i(hT(t)))},l=y=>{const x=u(o).find(w=>w.style==="primary"||w.style==="success");x&&o?(o.data=y,s(x.id)):alert("      .")},u=y=>{const x=Vu().find(_=>_.id===y.workflowId);if(!x)return[];const w=x.steps.find(_=>_.id===y.currentStepId);return w?w.actions:[]},d=y=>{const x=Vu().find(_=>_.id===y.workflowId),w=x==null?void 0:x.steps.find(_=>_.id===y.currentStepId);return(w==null?void 0:w.title)||""},f=y=>r.filter(b=>b.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:Dw},{id:"PROJECT",label:"",icon:Dd},{id:"PERFORMANCE",label:" ",icon:L0},{id:"PART_REQUEST",label:" ",icon:Vd},{id:"INSPECTION",label:" ",icon:kC},{id:"DOCUMENT",label:" ",icon:$d},{id:"MEETING",label:"",icon:Fd},{id:"SUGGESTION",label:"",icon:qd},{id:"PURCHASE",label:" ",icon:Wd}],g=({item:y})=>{const b=u(y),[x,w]=k.useState("");return y.module==="WORK_ORDER"?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[c.jsx(Dw,{className:"w-5 h-5 text-primary"}),y.title]}),c.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(Rw,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(ib,{initialData:y.data,onProcessComplete:l})})]}):c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),c.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),c.jsx("h2",{className:"text-xl font-bold",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Rw,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([_,E])=>typeof E=="object"||Array.isArray(E)||_==="id"?null:c.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[c.jsxs("span",{className:"text-gray-500",children:[_,":"]}),c.jsx("span",{className:"font-medium",children:String(E)})]},_))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),c.jsx("textarea",{value:x,onChange:_=>w(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:b.map(_=>{const E=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return c.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${E}`,children:_.label},_.id)})})]})};return o?c.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:c.jsx(g,{item:o})}):c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[c.jsx(Bd,{className:"w-5 h-5"}),"  "]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>c.jsxs("button",{onClick:()=>{n(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(y.icon,{className:"w-4 h-4"}),c.jsx("span",{children:y.label})]}),f(y.id)>0&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("h3",{className:"font-bold",children:[" : ",(v=h.find(y=>y.id===e))==null?void 0:v.label]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(y=>y.module===e).length===0?c.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[c.jsx(EC,{className:"w-12 h-12 mb-3 opacity-20"}),c.jsx("p",{children:"     ."})]}):r.filter(y=>y.module===e).map(y=>c.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[c.jsx(Ch,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},Yle=[{id:"1",name:" "},{id:"2",name:" "},{id:"3",name:" "},{id:"4",name:" "}],Xle=({user:t})=>{const[e,n]=k.useState("INBOX"),[r,i]=k.useState([]),[o,a]=k.useState([]),[s,l]=k.useState(null),[u,d]=k.useState("USER"),[f,h]=k.useState(""),[g,v]=k.useState(""),[y,b]=k.useState("");k.useEffect(()=>{x()},[t,e]);const x=()=>{i(Ile(t)),a(jle(t.id))},w=S=>{l(S),e==="INBOX"&&!S.readBy.includes(t.id)&&(Ole(S.id,t.id),i(T=>T.map(A=>A.id===S.id?{...A,readBy:[...A.readBy,t.id]}:A)))},_=S=>{S.preventDefault();let T=f;if(u==="ALL"&&(T="ALL"),u!=="ALL"&&!T){alert("    ");return}Ple(t,T,u,g,y),alert("    "),v(""),b(""),h(""),n("SENT")},E=S=>S.readBy.length>0?c.jsx("span",{title:" ",children:c.jsx(Mw,{className:"w-4 h-4 text-blue-500"})}):c.jsx("span",{title:" ",children:c.jsx(kh,{className:"w-4 h-4 text-gray-400"})});return c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null)},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[c.jsx(zd,{className:"w-4 h-4"}),"   "]})}),c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bd,{className:"w-4 h-4"}),"  "]}),r.filter(S=>!S.readBy.includes(t.id)).length>0&&c.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(S=>!S.readBy.includes(t.id)).length})]}),c.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kd,{className:"w-4 h-4"}),"  "]})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(IC,{className:"w-6 h-6 text-primary"}),"   "]}),c.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>d("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(V0,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(Ka,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(TD,{className:"w-4 h-4"})," "]})]})]}),u==="USER"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),Yle.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u==="GROUP"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:tn.ADMIN,children:" "}),c.jsx("option",{value:tn.MANAGER,children:" "}),c.jsx("option",{value:tn.USER,children:" "}),c.jsx("option",{value:tn.STOREKEEPER,children:""})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:g,onChange:S=>v(S.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:y,onChange:S=>b(S.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2",children:[c.jsx(zd,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&c.jsxs("div",{className:"flex h-full",children:[c.jsxs("div",{className:`${s?"hidden md:block md:w-1/3 border-l dark:border-gray-700":"w-full"} overflow-y-auto`,children:[(e==="INBOX"?r:o).length===0&&c.jsxs("div",{className:"text-center p-10 text-gray-400",children:[c.jsx(Bd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"   "})]}),(e==="INBOX"?r:o).map(S=>c.jsxs("div",{onClick:()=>w(S),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition
                                    ${(s==null?void 0:s.id)===S.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                    ${e==="INBOX"&&!S.readBy.includes(t.id)?"border-r-4 border-r-primary bg-gray-50/50":""}
                                `,children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:`text-sm ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-black text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:e==="INBOX"?S.senderName:`: ${S.receiverId==="ALL"?"":S.receiverType==="GROUP"?" "+S.receiverId:""}`}),c.jsx("span",{className:"text-xs text-gray-400",dir:"ltr",children:S.createdAt})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:`text-sm truncate ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-bold":"text-gray-600"}`,children:S.subject}),e==="SENT"&&E(S)]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:S.body})]},S.id))]}),s?c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:s.subject}),c.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:s.senderName[0]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("span",{className:"font-bold",children:s.senderName})}),c.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&c.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",s.receiverType==="ALL"?" ":s.receiverType==="GROUP"?` ${s.receiverId}`:"",s.readBy.length>0&&c.jsxs("span",{className:"mr-2 text-green-600 flex items-center gap-1 inline-flex",children:[c.jsx(Mw,{className:"w-3 h-3"}),"    ",s.readBy.length," "]})]})]}),c.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body})})]}):c.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},Qle=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(null);k.useEffect(()=>{e(Vu())},[]);const i=()=>{const l={id:br(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&($le(n),e(Vu()),alert("    ."))},a=()=>{if(!n)return;const l={id:br(),title:" ",assigneeRole:tn.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const u={id:br(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,u]})})};return n?c.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),c.jsx("div",{className:"h-8 w-px bg-gray-300"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[c.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),c.jsx("option",{value:"PROJECT",children:" (Project)"}),c.jsx("option",{value:"PART_REQUEST",children:" "}),c.jsx("option",{value:"PURCHASE",children:" "}),c.jsx("option",{value:"PERFORMANCE",children:" "}),c.jsx("option",{value:"MEETING",children:""}),c.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[c.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),c.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[c.jsx(Ts,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:c.jsxs("div",{className:"flex gap-8 min-w-max",children:[c.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:c.jsx(RD,{className:"w-6 h-6 ml-1"})}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx(lm,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,u)=>c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[u].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs text-gray-500",children:" :"}),c.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[u].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(tn).map(d=>c.jsx("option",{value:d,children:d},d)),c.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),c.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:c.jsx(en,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:d.label,onChange:h=>{const g=[...n.steps];g[u].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),c.jsxs("select",{value:d.style,onChange:h=>{const g=[...n.steps];g[u].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[c.jsx("option",{value:"primary",children:""}),c.jsx("option",{value:"success",children:""}),c.jsx("option",{value:"danger",children:""}),c.jsx("option",{value:"neutral",children:""})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(lm,{className:"w-3 h-3"}),c.jsx("span",{children:" :"}),c.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...n.steps];g[u].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[c.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>c.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),c.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),c.jsx(lm,{className:"w-8 h-8 text-gray-300"})]},l.id)),c.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[c.jsx(wr,{className:"w-8 h-8 mb-2"}),c.jsx("span",{children:" "})]})]})})]}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(CC,{className:"text-primary"}),"   "]}),c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c.jsx(wr,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:c.jsx(q0,{className:"w-6 h-6"})}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),c.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),c.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),c.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),c.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Zle=()=>{const[t,e]=k.useState("LOGINS"),[n,r]=k.useState([]),[i,o]=k.useState([]),[a,s]=k.useState([]),[l,u]=k.useState(""),[d,f]=k.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};k.useEffect(()=>{g(),s(h[t])},[t]),k.useEffect(()=>{if(l){const x=l.toLowerCase();o(n.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(x))))}else o(n)},[l,n]);const g=()=>{let x=[];switch(t){case"LOGINS":x=JSON.parse(localStorage.getItem("system_logs")||"[]"),x.reverse();break;case"WORK_ORDERS":x=Kj().map(w=>{var _,E;return{...w,requester:((_=w.data)==null?void 0:_.requester)||"-",equipName:((E=w.data)==null?void 0:E.equipName)||"-"}});break;case"PARTS":x=Vo("PART_REQUEST").map(w=>{var _,E,S;return{...w,partName:(_=w.data)==null?void 0:_.partName,qty:(E=w.data)==null?void 0:E.qty,unit:(S=w.data)==null?void 0:S.unit,requester:w.description.split("")[1]||"-"}});break}r(x),o(x)},v=x=>{s(w=>w.map(_=>_.id===x?{..._,visible:!_.visible}:_))},y=()=>{if(i.length===0)return alert("    ");const x=a.filter(T=>T.visible),w=x.map(T=>T.label),_=i.map(T=>x.map(A=>T[A.id]||"-")),E="data:text/csv;charset=utf-8,\uFEFF"+w.join(",")+`
`+_.map(T=>T.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(E)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},b=()=>{if(i.length===0)return[];const x=t==="LOGINS"?"date":"status",w={};return i.forEach(_=>{const E=_[x]||"";w[E]=(w[E]||0)+1}),Object.keys(w).map(_=>({name:_,count:w[_]})).slice(0,10)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(OC,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),c.jsxs("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[c.jsx(B0,{className:"w-5 h-5"}),"  "]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[c.jsx(q0,{className:"w-4 h-4"}),"  "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:t,onChange:x=>e(x.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[c.jsx("option",{value:"LOGINS",children:"  "}),c.jsx("option",{value:"WORK_ORDERS",children:" "}),c.jsx("option",{value:"PARTS",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?c.jsx(AC,{className:"w-3 h-3"}):c.jsx(TC,{className:"w-3 h-3"})]}),d&&c.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(x=>c.jsxs("div",{onClick:()=>v(x.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[x.visible?c.jsx(U0,{className:"w-4 h-4 text-primary"}):c.jsx(MC,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:x.label})]},x.id))})]}),c.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[c.jsx(UD,{className:"w-4 h-4"}),"  "]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),c.jsx($a,{width:"100%",height:"90%",children:c.jsxs(nb,{data:b(),children:[c.jsx(Uu,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Oi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),c.jsx(Ri,{fontSize:10}),c.jsx(pn,{}),c.jsx(Tr,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),c.jsxs("div",{className:"relative w-64",children:[c.jsx(Ph,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:x=>u(x.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:c.jsx("tr",{children:a.filter(x=>x.visible).map(x=>c.jsx("th",{className:"p-4 whitespace-nowrap",children:x.label},x.id))})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((x,w)=>c.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>c.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:x[_.id]||"-"},_.id))},w)):c.jsx("tr",{children:c.jsx("td",{colSpan:a.filter(x=>x.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},mT=({title:t,selectedCloths:e,onChange:n})=>{const[r,i]=k.useState(!1),o=k.useRef(null);k.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]);const a=(l,u)=>{const d=`D${l}-C${u}`;e.includes(d)?n(e.filter(f=>f!==d)):n([...e,d])},s=l=>{const u=Array.from({length:20}).map((f,h)=>`D${l}-C${h+1}`);if(u.every(f=>e.includes(f)))n(e.filter(f=>!u.includes(f)));else{const f=[...new Set([...e,...u])];n(f)}};return c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[c.jsx(AD,{className:"w-4 h-4 text-primary"})," : ",t]}),c.jsx("button",{type:"button",onClick:()=>i(!r),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:r?" ":"  "})]}),c.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:c.jsxs("span",{children:["  : ",c.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{ref:o,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[c.jsxs("h3",{className:"font-bold text-lg",children:["   - ",t]}),c.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:c.jsx(sn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((l,u)=>{const d=u+1,h=Array.from({length:20}).map((g,v)=>`D${d}-C${v+1}`).every(g=>e.includes(g));return c.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[c.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d]}),c.jsx("button",{type:"button",onClick:()=>s(d),className:`p-1 rounded transition ${h?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:h?c.jsx(U0,{className:"w-6 h-6"}):c.jsx(MC,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((g,v)=>{const y=v+1,b=`D${d}-C${y}`,x=e.includes(b);return c.jsx("div",{onClick:()=>a(d,y),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${x?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${d} -  ${y}`,children:y},b)})})]},d)})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:c.jsx("button",{onClick:()=>i(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},Ir=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],gT=["08:00","11:00","02:00","05:00"],yT=["","","","","",""],eue=[25,30,40,50,60,70,80,90,100],vT=["#00C49F","#FF8042"],tue=({user:t})=>{const e=Es(),[n,r]=k.useState(1),[i,o]=k.useState(!1),[a,s]=k.useState(null),[l,u]=k.useState(!1),[d,f]=k.useState(null),[h,g]=k.useState([]),[v,y]=k.useState({name:"A",type:"Day1",date:ot(),supervisor:t.id}),[b,x]=k.useState({}),[w,_]=k.useState({}),[E,S]=k.useState({lineA:{},lineB:{}}),[T,A]=k.useState({lineA:{},lineB:{}}),[N,C]=k.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[I,O]=k.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),[$,U]=k.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[D,P]=k.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[R,F]=k.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),[L,B]=k.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[V,X]=k.useState({process:[],cleanWater:[]}),[G,ae]=k.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:""}),[we,Se]=k.useState({nextShiftActions:""});k.useEffect(()=>{Rn("personnel").then(j=>{g(j),x({})})},[]);const ke=(j,z,H)=>{const te=Number(H);if(te<0)return;const oe=Ir.indexOf(z);S(ne=>{const ee={...ne[j]};if(oe!==-1)for(let Ae=oe;Ae<Ir.length;Ae++)ee[Ir[Ae]]=te;return{...ne,[j]:ee}})},Te=(j,z,H)=>{A(te=>{const oe={...te[j]};for(let ne=z;ne<Ir.length;ne++)oe[Ir[ne]]=[...H];return{...te,[j]:oe}})},Je=(j,z,H,te)=>{const oe=Ir[z],ee=[...T[j][oe]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]];ee[H]={...ee[H],type:te},Te(j,z,ee)},Y=(j,z,H,te)=>{const oe=Ir[z],ee=[...T[j][oe]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]],Ae=Math.min(100,Math.max(0,Number(te)));ee[H]={...ee[H],percent:Ae},Te(j,z,ee)},de=j=>Object.values(E[j]).reduce((z,H)=>z+H,0),ge=(j,z)=>{j&&(x(H=>({...H,[j]:z})),z==="LEAVE"&&_(H=>({...H,[j]:"DAILY"})))},K=j=>{const z={...b};if(delete z[j],x(z),w[j]){const H={...w};delete H[j],_(H)}},je=(j,z)=>{const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H){alert("  ");return}const te=new H;te.lang="fa-IR",te.onstart=()=>s("active"),te.onend=()=>s(null),te.onresult=oe=>{const ne=oe.results[0][0].transcript;j(z?z+" "+ne:ne)},te.start()},q=()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;if(!j){alert("  ");return}const z=new j;z.lang="fa-IR",z.onstart=()=>s("nextShift"),z.onend=()=>s(null),z.onresult=H=>{const te=H.results[0][0].transcript;Se(oe=>({...oe,nextShiftActions:oe.nextShiftActions?oe.nextShiftActions+" "+te:te}))},z.start()},re=(j,z,H,te,oe)=>{Number(oe)<0||F(ne=>{const ee=[...ne[j]],Ae={...ee[z]},Hi={...Ae.data[H]||{pressure:"",jack:"",mudLine:""}};return Hi[te]=oe,Ae.data={...Ae.data,[H]:Hi},ee[z]=Ae,{...ne,[j]:ee}})},ue=(j,z,H,te)=>{F(oe=>{const ne=[...oe[j]];return ne[z]={...ne[z],[H]:te},{...oe,[j]:ne}})},xe=(j,z)=>{const H=N[j][z],te=Number(H.ballSize),oe=Number(H.barrelCount);if(!te||!oe||oe<1){alert("      ( )   .");return}if(H.charges.some(ee=>ee.size===te)){alert("      .");return}const ne=[...H.charges,{size:te,count:oe}];C(ee=>({...ee,[j]:{...ee[j],[z]:{...ee[j][z],charges:ne,ballSize:"",barrelCount:""}}}))},Oe=(j,z,H)=>{const oe=N[j][z].charges.filter((ne,ee)=>ee!==H);C(ne=>({...ne,[j]:{...ne[j],[z]:{...ne[j][z],charges:oe}}}))},lt=j=>{const z=bs(j);return z?["","","","","","",""][z.getDay()]:""},Nr=j=>{if(!j||j==="00:00")return 0;const[z,H]=j.split(":").map(Number);return z*60+H},Cr=async j=>{if(j.preventDefault(),!window.confirm("       "))return;o(!0);const z=oi("T"),H=Object.keys(b).filter(ee=>b[ee]==="PRESENT"),te=Object.keys(b).filter(ee=>b[ee]==="ABSENT"),oe=Object.keys(b).filter(ee=>b[ee]==="LEAVE"),ne={code:z,shiftInfo:v,attendance:{present:H,absent:te,leave:oe.map(ee=>({id:ee,type:w[ee]})),map:b},production:E,feedInfo:T,ballMills:N,concentrateFilters:D,hydrocyclones:I,thickeners:R,drumMagnets:$,recoveryFilters:L,pumps:V,downtime:G,footer:we,totalA:de("lineA"),totalB:de("lineB")};qi("SHIFT_REPORT",ne,t,z,`  ${v.name} - ${v.date}`),f(ne),u(!0),o(!1)},cr=({value:j,onChange:z})=>c.jsxs("select",{value:j,onChange:H=>z(H.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-sm",children:[c.jsx("option",{value:"",children:" ..."}),h.filter(H=>b[H.id]==="PRESENT").map(H=>c.jsx("option",{value:H.id,children:H.full_name},H.id))]}),Gi=()=>h.filter(j=>!b[j.id]),zo=j=>h.filter(z=>b[z.id]===j),Vn=({active:j,onClick:z})=>c.jsx("button",{type:"button",onClick:z,className:`p-2 rounded-full transition-all shadow-md ${j?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-400 hover:bg-gray-300 dark:bg-gray-700"}`,title:j?"":"",children:c.jsx($D,{className:"w-5 h-5"})}),qO=()=>{window.print()},VO=async()=>{if(navigator.share)try{await navigator.share({title:`  ${d.shiftInfo.date}`,text:`   ${d.shiftInfo.name}  ${d.shiftInfo.date}`,url:window.location.href})}catch(j){console.error("Error sharing:",j)}else alert("     .      .")};if(l&&d){const j=[{name:"",value:Nr(d.downtime.lineA.workTime)||1},{name:"",value:Nr(d.downtime.lineA.stopTime)}],z=[{name:"",value:Nr(d.downtime.lineB.workTime)||1},{name:"",value:Nr(d.downtime.lineB.stopTime)}],H=Ir.map(te=>({time:te,LineA:d.production.lineA[te]||0,LineB:d.production.lineB[te]||0}));return c.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[c.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .page-break { page-break-after: always; }
                      .print-container { width: 100% !important; box-shadow: none !important; margin: 0 !important; padding: 10mm; min-height: 297mm; }
                      aside, header, footer { display: none !important; }
                  }
              `}),c.jsxs("div",{className:"flex flex-col gap-4 w-[210mm]",children:[c.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-4 font-sans",children:[c.jsxs("div",{className:"border-b-2 border-primary pb-4 flex justify-between items-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-primary",children:t.avatar?c.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"Admin"}):c.jsx(Ka,{className:"w-full h-full p-4 text-gray-300"})}),c.jsxs("div",{className:"text-center flex-1",children:[c.jsx("h1",{className:"text-2xl font-black text-gray-800",children:"   "}),c.jsx("p",{className:"text-gray-500 font-bold mt-1 text-sm",children:"     "})]}),c.jsxs("div",{className:"text-left space-y-1 text-[10px]",children:[c.jsxs("div",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:["No: ",d.code]}),c.jsxs("div",{children:[": ",c.jsx("b",{children:d.shiftInfo.date})]}),c.jsxs("div",{children:[": ",c.jsx("b",{children:d.shiftInfo.name})," (",d.shiftInfo.type,")"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-xl shadow-sm text-center",children:[c.jsx("p",{className:"opacity-80 mb-1",children:"   A"}),c.jsxs("p",{className:"text-2xl font-black",children:[d.totalA," ",c.jsx("span",{className:"text-sm",children:""})]})]}),c.jsxs("div",{className:"bg-red-600 text-white p-4 rounded-xl shadow-sm text-center",children:[c.jsx("p",{className:"opacity-80 mb-1",children:"   B"}),c.jsxs("p",{className:"text-2xl font-black",children:[d.totalB," ",c.jsx("span",{className:"text-sm",children:""})]})]}),c.jsxs("div",{className:"bg-green-600 text-white p-4 rounded-xl shadow-sm text-center",children:[c.jsx("p",{className:"opacity-80 mb-1",children:" "}),c.jsxs("div",{className:"flex justify-center gap-3 text-xs font-bold mt-1",children:[c.jsxs("span",{children:[": ",d.attendance.present.length]}),c.jsxs("span",{children:[": ",d.attendance.absent.length]}),c.jsxs("span",{children:[": ",d.attendance.leave.length]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border rounded-xl p-2 bg-gray-50 flex flex-col justify-center items-center",children:[c.jsx("h4",{className:"font-bold mb-2",children:"   "}),c.jsxs("div",{className:"flex w-full justify-around",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"block text-xs font-bold text-blue-700 mb-1",children:" A"}),c.jsxs("div",{className:"w-24 h-24 relative",children:[c.jsx($a,{children:c.jsx(uT,{children:c.jsx(Er,{data:j,innerRadius:25,outerRadius:40,paddingAngle:5,dataKey:"value",children:j.map((te,oe)=>c.jsx(cu,{fill:vT[oe]},`cell-${oe}`))})})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-bold text-gray-400",children:"A"})]}),c.jsxs("div",{className:"text-[9px] mt-1 space-y-0.5",children:[c.jsxs("div",{className:"text-green-600",children:[": ",d.downtime.lineA.workTime]}),c.jsxs("div",{className:"text-red-500",children:[": ",d.downtime.lineA.stopTime]})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"block text-xs font-bold text-red-700 mb-1",children:" B"}),c.jsxs("div",{className:"w-24 h-24 relative",children:[c.jsx($a,{children:c.jsx(uT,{children:c.jsx(Er,{data:z,innerRadius:25,outerRadius:40,paddingAngle:5,dataKey:"value",children:z.map((te,oe)=>c.jsx(cu,{fill:vT[oe]},`cell-${oe}`))})})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-bold text-gray-400",children:"B"})]}),c.jsxs("div",{className:"text-[9px] mt-1 space-y-0.5",children:[c.jsxs("div",{className:"text-green-600",children:[": ",d.downtime.lineB.workTime]}),c.jsxs("div",{className:"text-red-500",children:[": ",d.downtime.lineB.stopTime]})]})]})]})]}),c.jsxs("div",{className:"border rounded-xl p-2 bg-white",children:[c.jsx("h4",{className:"font-bold mb-2 text-center text-xs",children:"   "}),c.jsx("div",{className:"h-40 w-full",dir:"ltr",children:c.jsx($a,{children:c.jsxs(nb,{data:H,children:[c.jsx(Uu,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Oi,{dataKey:"time",fontSize:8,interval:0}),c.jsx(Ri,{fontSize:8}),c.jsx(pn,{}),c.jsx(bo,{wrapperStyle:{fontSize:"8px"}}),c.jsx(Tr,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0]}),c.jsx(Tr,{dataKey:"LineB",name:" B",fill:"#ef4444",radius:[2,2,0,0]})]})})})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:["lineA","lineB"].map(te=>{const oe=te==="lineA"?" A":" B",ne=te==="lineA"?"border-blue-200":"border-red-200",ee=te==="lineA"?"bg-blue-50 text-blue-800":"bg-red-50 text-red-800",Ae=d.ballMills[te],Hi=d.hydrocyclones[te];return c.jsxs("div",{className:`border ${ne} rounded-lg overflow-hidden`,children:[c.jsx("div",{className:`${ee} p-1 font-bold text-center border-b ${ne}`,children:oe}),c.jsxs("div",{className:"p-2 space-y-2",children:[c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["primary","secondary"].map(Rp=>{const zi=Ae[Rp];return c.jsxs("div",{className:`border p-1 rounded ${zi.active?"bg-green-50":"bg-gray-50 opacity-60"}`,children:[c.jsx("div",{className:"font-bold text-[9px] mb-1 border-b pb-1",children:Rp==="primary"?" ":" "}),c.jsxs("div",{className:"space-y-0.5 text-[8px]",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:" (08/02):"}),c.jsxs("span",{children:[zi.amp08,"/",zi.amp02]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:" (08/02):"}),c.jsxs("span",{children:[zi.dens08,"/",zi.dens02]})]})]}),zi.charges.length>0&&c.jsxs("div",{className:"mt-1 pt-1 border-t border-dashed bg-yellow-50 p-1 rounded",children:[c.jsx("span",{className:"block font-bold text-[8px] text-orange-700",children:" :"}),zi.charges.map((mb,GO)=>c.jsxs("div",{className:"text-[8px] flex justify-between",children:[c.jsxs("span",{children:[" ",mb.size]}),c.jsxs("span",{children:[mb.count," "]})]},GO))]})]},Rp)})}),c.jsxs("div",{className:"text-[9px] border-t pt-1",children:[c.jsx("span",{className:"font-bold",children:":"}),c.jsxs("div",{className:"flex gap-2 mt-1 bg-gray-50 p-1 rounded",children:[c.jsxs("span",{children:[": ",Hi.primary.pressure," Bar"]}),c.jsxs("span",{children:[" : ",Hi.primary.activeCyclones.length," "]})]})]})]})]},te)})})]}),c.jsx("div",{className:"page-break"}),c.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-xs space-y-4 font-sans",children:[c.jsxs("div",{className:"border-b pb-2 mb-2 flex justify-between text-gray-400 text-[10px]",children:[c.jsxs("span",{children:["   ",d.shiftInfo.date]}),c.jsx("span",{children:"   "})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:["lineA","lineB"].map(te=>c.jsxs("div",{className:"border rounded-lg p-2",children:[c.jsxs("div",{className:"font-bold border-b mb-1 pb-1 text-center bg-gray-50",children:["  ",te==="lineA"?"A":"B"]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:":"})," ",c.jsxs("span",{className:"font-bold",children:[d.concentrateFilters[te].cloths.length," "]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:" :"})," ",c.jsxs("span",{className:"font-bold",children:[d.recoveryFilters[te][0].cloths.length," "]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:" :"})," ",c.jsxs("span",{className:"font-bold",children:[d.recoveryFilters[te][1].cloths.length," "]})]})]})]},te))}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold text-sm bg-gray-100 p-2 rounded",children:"    "}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border border-blue-200 rounded-lg p-3 bg-blue-50/30",children:[c.jsx("div",{className:"font-bold text-blue-800 mb-2 border-b border-blue-200 pb-1",children:"  A"}),c.jsx("p",{className:"text-justify leading-relaxed",children:d.downtime.lineA.stopTime==="00:00"?"      .":d.downtime.lineA.reason||"   ."})]}),c.jsxs("div",{className:"border border-red-200 rounded-lg p-3 bg-red-50/30",children:[c.jsx("div",{className:"font-bold text-red-800 mb-2 border-b border-red-200 pb-1",children:"  B"}),c.jsx("p",{className:"text-justify leading-relaxed",children:d.downtime.lineB.stopTime==="00:00"?"      .":d.downtime.lineB.reason||"   ."})]})]}),c.jsxs("div",{className:"border border-gray-300 rounded-lg p-3 bg-gray-50",children:[c.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"  /  "}),c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed min-h-[50px]",children:d.downtime.generalDescription||"    ."})]}),c.jsxs("div",{className:"border border-orange-200 rounded-lg p-3 bg-orange-50",children:[c.jsx("div",{className:"font-bold text-orange-800 mb-2",children:"    "}),c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:d.footer.nextShiftActions||"-"})]})]}),c.jsx("div",{className:"flex-1"}),c.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-8 pt-8 border-t-2 border-gray-200",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:"  "}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:" "}),c.jsx("div",{className:"font-mono text-sm mb-2",children:t.fullName}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:" "}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto border-gray-400"})]})]})]}),c.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[c.jsxs("button",{onClick:()=>{u(!1),e("/")},className:"bg-gray-200 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-300 font-bold",children:[c.jsx(PC,{className:"w-5 h-5"}),"   "]}),c.jsxs("button",{onClick:qO,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[c.jsx(DD,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:VO,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold transform hover:-translate-y-1 transition",children:[c.jsx(RC,{className:"w-5 h-5"}),"  "]})]})]})]})}return c.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:c.jsx(NC,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:" ",icon:Ka},{id:2,label:"",icon:ED},{id:3,label:"",icon:_C},{id:4,label:"",icon:SD},{id:9,label:" ",icon:ID},{id:6,label:" ",icon:Ph},{id:5,label:"",icon:kD},{id:7,label:" ",icon:Gd},{id:8,label:"  ",icon:GD}].map(j=>c.jsxs("button",{type:"button",onClick:()=>r(j.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${n===j.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[c.jsx(j.icon,{className:"w-4 h-4"})," ",j.label]},j.id))}),c.jsxs("form",{onSubmit:Cr,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[n===1&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.name,onChange:j=>y({...v,name:j.target.value}),children:[c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.type,onChange:j=>y({...v,type:j.target.value}),children:[c.jsx("option",{value:"Day1",children:" "}),c.jsx("option",{value:"Day2",children:" "}),c.jsx("option",{value:"Night1",children:" "}),c.jsx("option",{value:"Night2",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:lt(v.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsx(Br,{value:v.date,onChange:j=>y({...v,date:j})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[c.jsx(WD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:j=>{j.target.value&&(ge(j.target.value,"PRESENT"),j.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Gi().map(j=>c.jsx("option",{value:j.id,children:j.full_name},j.id))]})}),c.jsx("div",{className:"space-y-2",children:zo("PRESENT").map(j=>c.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[c.jsx("span",{children:j.full_name}),c.jsx("button",{type:"button",onClick:()=>K(j.id),className:"text-red-500",children:c.jsx(en,{className:"w-4 h-4"})})]},j.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-orange-600 mb-2 flex items-center gap-2",children:[c.jsx(Ch,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:j=>{j.target.value&&(ge(j.target.value,"LEAVE"),j.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Gi().map(j=>c.jsx("option",{value:j.id,children:j.full_name},j.id))]})}),c.jsx("div",{className:"space-y-2",children:zo("LEAVE").map(j=>c.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-lg text-orange-800 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{children:j.full_name}),c.jsx("button",{type:"button",onClick:()=>K(j.id),className:"text-red-500",children:c.jsx(en,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-2 text-xs",children:[c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:w[j.id]==="DAILY",onChange:()=>_({...w,[j.id]:"DAILY"})})," "]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:w[j.id]==="HOURLY",onChange:()=>_({...w,[j.id]:"HOURLY"})})," "]})]})]},j.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[c.jsx(KD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:j=>{j.target.value&&(ge(j.target.value,"ABSENT"),j.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Gi().map(j=>c.jsx("option",{value:j.id,children:j.full_name},j.id))]})}),c.jsx("div",{className:"space-y-2",children:zo("ABSENT").map(j=>c.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[c.jsx("span",{children:j.full_name}),c.jsx("button",{type:"button",onClick:()=>K(j.id),className:"text-red-500",children:c.jsx(en,{className:"w-4 h-4"})})]},j.id))})]})]})]}),n===2&&c.jsx("div",{className:"animate-fadeIn overflow-x-auto",children:c.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{rowSpan:2,className:"p-3 w-16 bg-gray-100 dark:bg-gray-700 border-b dark:border-gray-600",children:""}),c.jsx("th",{className:"p-3 bg-blue-100 text-blue-800 border-b dark:border-gray-600",children:" A"}),c.jsx("th",{className:"p-3 bg-red-100 text-red-800 border-b dark:border-gray-600",children:" B"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[Ir.map((j,z)=>{const H=T.lineA[j]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],te=T.lineB[j]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],oe=H.reduce((ee,Ae)=>ee+Number(Ae.percent),0),ne=te.reduce((ee,Ae)=>ee+Number(Ae.percent),0);return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold bg-gray-50 dark:bg-gray-900 border-r",children:j}),c.jsxs("td",{className:"p-2 align-top bg-blue-50/30",children:[c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"number",placeholder:"",min:"0",className:"w-full text-center p-1 rounded border focus:border-blue-500 font-bold mb-2",value:E.lineA[j]||"",onChange:ee=>ke("lineA",j,ee.target.value)})}),c.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(ee=>c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-[2] p-1 text-xs border rounded",value:H[ee].type,onChange:Ae=>Je("lineA",z,ee,Ae.target.value),children:[c.jsxs("option",{value:"",children:["  ",ee+1]}),yT.map(Ae=>c.jsx("option",{value:Ae,children:Ae},Ae))]}),c.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",className:"flex-1 text-center p-1 text-xs border rounded",value:H[ee].percent||"",onChange:Ae=>Y("lineA",z,ee,Ae.target.value)})]},ee)),c.jsxs("div",{className:`text-[10px] text-right mt-1 ${oe!==100&&oe!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",oe,"% ",oe!==100&&oe!==0&&"(  )"]})]})]}),c.jsxs("td",{className:"p-2 align-top bg-red-50/30",children:[c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"number",placeholder:"",min:"0",className:"w-full text-center p-1 rounded border focus:border-red-500 font-bold mb-2",value:E.lineB[j]||"",onChange:ee=>ke("lineB",j,ee.target.value)})}),c.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(ee=>c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-[2] p-1 text-xs border rounded",value:te[ee].type,onChange:Ae=>Je("lineB",z,ee,Ae.target.value),children:[c.jsxs("option",{value:"",children:["  ",ee+1]}),yT.map(Ae=>c.jsx("option",{value:Ae,children:Ae},Ae))]}),c.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",className:"flex-1 text-center p-1 text-xs border rounded",value:te[ee].percent||"",onChange:Ae=>Y("lineB",z,ee,Ae.target.value)})]},ee)),c.jsxs("div",{className:`text-[10px] text-right mt-1 ${ne!==100&&ne!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",ne,"% ",ne!==100&&ne!==0&&"(  )"]})]})]})]},j)}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-lg",children:[c.jsx("td",{className:"p-3",children:""}),c.jsxs("td",{className:"p-3 text-blue-800",children:[de("lineA")," "]}),c.jsxs("td",{className:"p-3 text-red-800",children:[de("lineB")," "]})]})]})]})}),n===3&&c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(j=>c.jsxs("div",{className:`border rounded-xl p-4 ${j==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${j==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:j==="lineA"?"  A":"  B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(z=>{const H=N[j][z],te=H.charges.map(ne=>ne.size),oe=eue.filter(ne=>!te.includes(ne));return c.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"font-bold text-sm",children:z==="primary"?"  ()":"  ()"}),c.jsx(Vn,{active:H.active,onClick:()=>{const ne={...N[j],[z]:{...H,active:!H.active}};C({...N,[j]:ne})}})]}),H.active&&c.jsxs("div",{className:"animate-slideDown space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 08:30",className:"p-2 text-xs border rounded w-full",value:H.amp08,onChange:ne=>{const ee={...N[j],[z]:{...H,amp08:ne.target.value}};C({...N,[j]:ee})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 02:30",className:"p-2 text-xs border rounded w-full",value:H.amp02,onChange:ne=>{const ee={...N[j],[z]:{...H,amp02:ne.target.value}};C({...N,[j]:ee})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 08:30",className:"p-2 text-xs border rounded w-full",value:H.dens08,onChange:ne=>{const ee={...N[j],[z]:{...H,dens08:ne.target.value}};C({...N,[j]:ee})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 02:30",className:"p-2 text-xs border rounded w-full",value:H.dens02,onChange:ne=>{const ee={...N[j],[z]:{...H,dens02:ne.target.value}};C({...N,[j]:ee})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]})]}),c.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[c.jsx("span",{className:"text-xs font-bold text-gray-500 block mb-2",children:" "}),H.charges.length>0&&c.jsx("div",{className:"space-y-1 mb-2",children:H.charges.map((ne,ee)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-2 rounded text-xs border border-gray-200 dark:border-gray-600",children:[c.jsxs("span",{children:[": ",c.jsx("b",{children:ne.size})," - : ",c.jsx("b",{children:ne.count})," "]}),c.jsx("button",{type:"button",onClick:()=>Oe(j,z,ee),className:"text-red-500 hover:bg-red-100 p-1 rounded",children:c.jsx(en,{className:"w-3 h-3"})})]},ee))}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsxs("select",{className:"flex-1 p-2 text-xs border rounded outline-none",value:H.ballSize,onChange:ne=>{const ee={...N[j],[z]:{...H,ballSize:ne.target.value}};C({...N,[j]:ee})},children:[c.jsx("option",{value:"",children:"..."}),oe.map(ne=>c.jsx("option",{value:ne,children:ne},ne))]}),c.jsx("input",{type:"number",min:"1",placeholder:" ",className:"flex-1 p-2 text-xs border rounded",value:H.barrelCount,onChange:ne=>{const ee={...N[j],[z]:{...H,barrelCount:ne.target.value}};C({...N,[j]:ee})}}),c.jsx("button",{type:"button",onClick:()=>xe(j,z),className:"bg-green-600 text-white p-2 rounded hover:bg-green-700 transition",title:" ",children:c.jsx(MD,{className:"w-4 h-4"})})]})]})]})]},z)})})]},j))}),n===4&&c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(j=>c.jsxs("div",{className:`border rounded-xl p-4 ${j==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${j==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:j==="lineA"?"  A":"  B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(z=>{const H=I[j][z];return c.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"font-bold text-sm",children:z==="primary"?"  ":"  "}),c.jsx(Vn,{active:H.active,onClick:()=>{const te={...I[j],[z]:{...H,active:!H.active}};O({...I,[j]:te})}})]}),H.active&&c.jsxs("div",{className:"animate-slideDown space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"",className:"p-2 text-xs border rounded w-full",value:H.pressure,onChange:te=>{const oe={...I[j],[z]:{...H,pressure:te.target.value}};O({...I,[j]:oe})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"Bar"})]}),c.jsx("input",{type:"text",placeholder:"",className:"p-2 text-xs border rounded",value:H.angle,onChange:te=>{const oe={...I[j],[z]:{...H,angle:te.target.value}};O({...I,[j]:oe})}})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs block mb-1",children:" :"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:12}).map((te,oe)=>{const ne=oe+1;return c.jsx("button",{type:"button",onClick:()=>{const ee=H.activeCyclones.includes(ne)?H.activeCyclones.filter(Hi=>Hi!==ne):[...H.activeCyclones,ne],Ae={...I[j],[z]:{...H,activeCyclones:ee}};O({...I,[j]:Ae})},className:`w-6 h-6 text-xs rounded border ${H.activeCyclones.includes(ne)?"bg-blue-500 text-white":"bg-white"}`,children:ne},ne)})})]})]})]},z)})})]},j))}),n===9&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[c.jsxs("div",{className:"border rounded-xl p-4 bg-blue-50/20 border-blue-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-blue-200 pb-2",children:[c.jsx("h3",{className:"font-bold text-blue-800",children:"   A"}),c.jsx(Vn,{active:$.lineA.active,onClick:()=>U({...$,lineA:{...$.lineA,active:!$.lineA.active}})})]}),$.lineA.active&&c.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(j=>c.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[c.jsx("span",{className:"text-sm",children:j.l}),c.jsx("input",{type:"checkbox",checked:$.lineA[j.k],onChange:z=>U({...$,lineA:{...$.lineA,[j.k]:z.target.checked}})})]},j.k)),c.jsxs("div",{className:"mt-4 relative",children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  A"}),c.jsx("textarea",{className:"w-full p-2 border rounded-lg h-20 text-xs",value:$.lineA.description,onChange:j=>U({...$,lineA:{...$.lineA,description:j.target.value}})}),c.jsx("button",{type:"button",onClick:()=>je(j=>U({...$,lineA:{...$.lineA,description:j}}),$.lineA.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:c.jsx(pr,{className:"w-4 h-4"})})]})]})]}),c.jsxs("div",{className:"border rounded-xl p-4 bg-red-50/20 border-red-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-red-200 pb-2",children:[c.jsx("h3",{className:"font-bold text-red-800",children:"   B"}),c.jsx(Vn,{active:$.lineB.active,onClick:()=>U({...$,lineB:{...$.lineB,active:!$.lineB.active}})})]}),$.lineB.active&&c.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(j=>c.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[c.jsx("span",{className:"text-sm",children:j.l}),c.jsx("input",{type:"checkbox",checked:$.lineB[j.k],onChange:z=>U({...$,lineB:{...$.lineB,[j.k]:z.target.checked}})})]},j.k)),c.jsxs("div",{className:"mt-4 relative",children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  B"}),c.jsx("textarea",{className:"w-full p-2 border rounded-lg h-20 text-xs",value:$.lineB.description,onChange:j=>U({...$,lineB:{...$.lineB,description:j.target.value}})}),c.jsx("button",{type:"button",onClick:()=>je(j=>U({...$,lineB:{...$.lineB,description:j}}),$.lineB.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:c.jsx(pr,{className:"w-4 h-4"})})]})]})]})]}),n===6&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB","reserve"].map(j=>{const z=D[j],H=j==="lineA"?"   A":j==="lineB"?"   B":"  ",te=j==="lineA"?"blue":j==="lineB"?"red":"gray";return c.jsxs("div",{className:`border rounded-xl p-4 bg-${te}-50/20 border-${te}-100`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`font-bold text-${te}-800`,children:H}),c.jsx(Vn,{active:z.active,onClick:()=>P({...D,[j]:{...z,active:!z.active}})})]}),z.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-slideDown",children:[c.jsx(cr,{value:z.operator,onChange:oe=>P({...D,[j]:{...z,operator:oe}})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1 text-gray-500",children:" "}),c.jsx(Xt,{value:z.hours,onChange:oe=>P({...D,[j]:{...z,hours:oe}})})]}),c.jsx("div",{className:"col-span-2",children:c.jsx(mT,{title:H,selectedCloths:z.cloths,onChange:oe=>P({...D,[j]:{...z,cloths:oe}})})})]})]},j)})}),n===5&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-blue-50/20 border-blue-100",children:[c.jsx("h3",{className:"font-bold mb-4 text-blue-800 sticky left-0",children:"  A"}),R.lineA.map((j,z)=>c.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",z+1]}),c.jsx(Vn,{active:j.active,onClick:()=>ue("lineA",z,"active",!j.active)})]}),j.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:j.hoursWorked,onChange:H=>ue("lineA",z,"hoursWorked",H)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:"  "}),c.jsx(Xt,{value:j.channelOutput,onChange:H=>ue("lineA",z,"channelOutput",H)})]})]}),c.jsxs("table",{className:"w-full text-center text-xs border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[c.jsx("th",{className:"p-2 border",children:""}),c.jsx("th",{className:"p-2 border",children:" (Bar)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),c.jsx("tbody",{children:gT.map(H=>{var te,oe,ne;return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:H}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((te=j.data[H])==null?void 0:te.pressure)||"",onChange:ee=>re("lineA",z,H,"pressure",ee.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((oe=j.data[H])==null?void 0:oe.jack)||"",onChange:ee=>re("lineA",z,H,"jack",ee.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((ne=j.data[H])==null?void 0:ne.mudLine)||"",onChange:ee=>re("lineA",z,H,"mudLine",ee.target.value)})})]},H)})})]})]})]},z))]}),c.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-red-50/20 border-red-100",children:[c.jsx("h3",{className:"font-bold mb-4 text-red-800 sticky left-0",children:"  B"}),R.lineB.map((j,z)=>c.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",z+1]}),c.jsx(Vn,{active:j.active,onClick:()=>ue("lineB",z,"active",!j.active)})]}),j.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:j.hoursWorked,onChange:H=>ue("lineB",z,"hoursWorked",H)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:"  "}),c.jsx(Xt,{value:j.channelOutput,onChange:H=>ue("lineB",z,"channelOutput",H)})]})]}),c.jsxs("table",{className:"w-full text-center text-xs border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[c.jsx("th",{className:"p-2 border",children:""}),c.jsx("th",{className:"p-2 border",children:" (Bar)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),c.jsx("tbody",{children:gT.map(H=>{var te,oe,ne;return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:H}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((te=j.data[H])==null?void 0:te.pressure)||"",onChange:ee=>re("lineB",z,H,"pressure",ee.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((oe=j.data[H])==null?void 0:oe.jack)||"",onChange:ee=>re("lineB",z,H,"jack",ee.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((ne=j.data[H])==null?void 0:ne.mudLine)||"",onChange:ee=>re("lineB",z,H,"mudLine",ee.target.value)})})]},H)})})]})]})]},z))]})]}),n===7&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB"].map(j=>c.jsxs("div",{className:`border rounded-xl p-4 ${j==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 ${j==="lineA"?"text-blue-800":"text-red-800"}`,children:j==="lineA"?"   A":"   B"}),L[j==="lineA"?"lineA":"lineB"].map((z,H)=>c.jsxs("div",{className:"mb-4 border-b pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"font-bold",children:["   ",H+1]}),c.jsx(Vn,{active:z.active,onClick:()=>{const te=[...L[j==="lineA"?"lineA":"lineB"]];te[H]={...z,active:!z.active},B({...L,[j]:te})}})]}),z.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsx(cr,{value:z.operator,onChange:te=>{const oe=[...L[j==="lineA"?"lineA":"lineB"]];oe[H].operator=te,B({...L,[j]:oe})}}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs block mb-1 text-gray-500",children:" "}),c.jsx(Xt,{value:z.hours,onChange:te=>{const oe=[...L[j==="lineA"?"lineA":"lineB"]];oe[H].hours=te,B({...L,[j]:oe})}})]})]}),c.jsx(mT,{title:`Rec Filter ${j==="lineA"?"A":"B"}-${H+1}`,selectedCloths:z.cloths,onChange:te=>{const oe=[...L[j==="lineA"?"lineA":"lineB"]];oe[H].cloths=te,B({...L,[j]:oe})}})]})]},H))]},j))}),n===8&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/20 p-4 rounded-xl border",children:[c.jsx("h3",{className:"font-bold mb-3 text-blue-700 dark:text-blue-300",children:" "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-2",children:"  "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(j=>c.jsx("button",{type:"button",onClick:()=>{const z=V.process.includes(j)?V.process.filter(H=>H!==j):[...V.process,j];X({...V,process:z})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${V.process.includes(j)?"bg-blue-600 text-white":"bg-white"}`,children:j},j))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-2",children:"   "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(j=>c.jsx("button",{type:"button",onClick:()=>{const z=V.cleanWater.includes(j)?V.cleanWater.filter(H=>H!==j):[...V.cleanWater,j];X({...V,cleanWater:z})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${V.cleanWater.includes(j)?"bg-blue-600 text-white":"bg-white"}`,children:j},j))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-primary",children:"  A"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:G.lineA.workTime,onChange:j=>ae({...G,lineA:{...G.lineA,workTime:j}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:G.lineA.stopTime,onChange:j=>ae({...G,lineA:{...G.lineA,stopTime:j}})})]})]}),G.lineA.stopTime&&G.lineA.stopTime!=="00:00"&&c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:G.lineA.reason,onChange:j=>ae({...G,lineA:{...G.lineA,reason:j.target.value}})})]}),c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-red-600",children:"  B"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:G.lineB.workTime,onChange:j=>ae({...G,lineB:{...G.lineB,workTime:j}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Xt,{value:G.lineB.stopTime,onChange:j=>ae({...G,lineB:{...G.lineB,stopTime:j}})})]})]}),G.lineB.stopTime&&G.lineB.stopTime!=="00:00"&&c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:G.lineB.reason,onChange:j=>ae({...G,lineB:{...G.lineB,reason:j.target.value}})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold mb-2",children:"  /    "}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-24 bg-gray-50 dark:bg-gray-700 outline-none",placeholder:"       ...",value:G.generalDescription,onChange:j=>ae({...G,generalDescription:j.target.value})}),c.jsx("button",{type:"button",onClick:()=>je(j=>ae({...G,generalDescription:j}),G.generalDescription),className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="active"?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-500"}`,children:c.jsx(pr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-32",placeholder:"     ...",value:we.nextShiftActions,onChange:j=>Se({...we,nextShiftActions:j.target.value})}),c.jsx("button",{type:"button",onClick:q,className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="nextShift"?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-500"}`,children:c.jsx(pr,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsxs("button",{type:"submit",disabled:i,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[i?c.jsx(El,{className:"w-6 h-6 animate-spin"}):c.jsx(Ts,{className:"w-6 h-6"}),"   "]})})]})]})]})},nue=({enabled:t})=>{const[e,n]=k.useState([]);return k.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[c.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>c.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var rue={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iue,oue;function aue(){return{geminiUrl:iue,vertexUrl:oue}}function sue(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=aue();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai{}function ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];m(d,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function lue(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Cv(t,i,o,0,a)}}function Cv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Cv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(a,f,d)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Cv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ob(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uue(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function cue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],fue(a)),e}function due(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],hue(a)),e}function fue(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pue(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function hue(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mue(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function pue(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],wue(n)),e}function mue(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],_ue(n)),e}function gue(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function yue(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function vue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],xue(a)),e}function xue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Jj(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],bue(a)),e}function bue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function wue(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],ob(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function _ue(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],ob(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xT||(xT={}));var bT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bT||(bT={}));var wT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(wT||(wT={}));var wi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wi||(wi={}));var _T;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_T||(_T={}));var ST;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ST||(ST={}));var ET;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ET||(ET={}));var TT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(TT||(TT={}));var AT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(AT||(AT={}));var kT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(kT||(kT={}));var NT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(NT||(NT={}));var CT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(CT||(CT={}));var PT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(PT||(PT={}));var IT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(IT||(IT={}));var jT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jT||(jT={}));var OT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(OT||(OT={}));var RT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(RT||(RT={}));var MT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(MT||(MT={}));var $T;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($T||($T={}));var nh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(nh||(nh={}));var DT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DT||(DT={}));var LT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(LT||(LT={}));var UT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(UT||(UT={}));var Pv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pv||(Pv={}));var FT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(FT||(FT={}));var BT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(BT||(BT={}));var qT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qT||(qT={}));var VT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(VT||(VT={}));var GT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GT||(GT={}));var HT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(HT||(HT={}));var zT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(zT||(zT={}));var WT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(WT||(WT={}));var KT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(KT||(KT={}));var JT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(JT||(JT={}));var YT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(YT||(YT={}));var XT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(XT||(XT={}));var QT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(QT||(QT={}));var ZT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZT||(ZT={}));var eA;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eA||(eA={}));var tA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tA||(tA={}));var nA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(nA||(nA={}));var rA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rA||(rA={}));var iA;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(iA||(iA={}));var oA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(oA||(oA={}));var aA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(aA||(aA={}));var sA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(sA||(sA={}));var lA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lA||(lA={}));var uA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(uA||(uA={}));var cA;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cA||(cA={}));var dA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dA||(dA={}));var fA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fA||(fA={}));var hA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hA||(hA={}));var pA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pA||(pA={}));var mA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mA||(mA={}));var gA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(gA||(gA={}));var Aa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Aa||(Aa={}));class Iv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class al{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class yA{}class vA{}class Sue{}class Eue{}class Tue{}class Aue{}class xA{}class bA{}class wA{}class kue{}class rh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rh;let i;const o=e;return n?i=due(o):i=cue(o),Object.assign(r,i),r}}class _A{}class SA{}class EA{}class TA{}class Nue{}class Cue{}class Pue{}class ab{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ab,o=vue(e);return Object.assign(r,o),r}}class Iue{}class jue{}class Oue{}class AA{}class Rue{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Mue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sb,o=Jj(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Yj(t,e){const n=Ie(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Xj(t){return Array.isArray(t)?t.map(e=>ih(e)):[ih(t)]}function ih(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Qj(t){const e=ih(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zj(t){const e=ih(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function eO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kA(e)):[kA(t)]}function jv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function NA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function CA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ft(t){if(t==null)throw new Error("ContentUnion is required");return jv(t)?t:{role:"user",parts:eO(t)}}function lb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ft(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ft(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ft(n)):[Ft(e)]}function $n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(NA(t)||CA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ft(t)]}const e=[],n=[],r=jv(t[0]);for(const i of t){const o=jv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(NA(i)||CA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:eO(n)}),e}function $ue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(wi).includes(n[0].toUpperCase())?n[0].toUpperCase():wi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(wi).includes(r.toUpperCase())?r.toUpperCase():wi.TYPE_UNSPECIFIED})}}function Ua(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&$ue(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(wi).includes(s.toUpperCase())?s.toUpperCase():wi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ua(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Ua(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(s))l[u]=Ua(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function ub(t){return Ua(t)}function cb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function db(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Us(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ua(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ua(e.response));return t}function Fs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Due(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function si(t,e){if(typeof e!="string")throw new Error("name must be a string");return Due(t,e,"cachedContents")}function tO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Vi(t){return ob(t)}function Lue(t){return t!=null&&typeof t=="object"&&"name"in t}function Uue(t){return t!=null&&typeof t=="object"&&"video"in t}function Fue(t){return t!=null&&typeof t=="object"&&"uri"in t}function nO(t){var e;let n;if(Lue(t)&&(n=t.name),!(Fue(t)&&(n=t.uri,n===void 0))&&!(Uue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function rO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function iO(t){for(const e of["models","tunedModels","publisherModels"])if(Bue(t,e))return t[e];return[]}function Bue(t,e){return t!==null&&typeof t=="object"&&e in t}function que(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Vue(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=que(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function oO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Gue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Bs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function sO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hue(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Tce(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function zue(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Wue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function cd(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],sO(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],Hue(aO(u))),e}function Ov(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],sO(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],Kue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],zue(aO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Kue(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Jue(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ece(t,a))),m(n,["requests","requests"],o)}return n}function Yue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xue(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Que(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function Zue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function ece(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],tce(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function tce(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function lO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function nce(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function rce(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Wue(Gue(i))),n}function PA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Jue(t,oO(t,i)));const o=p(e,["config"]);return o!=null&&nce(o,n),n}function ice(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Ie(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Yue(oO(t,i)));const o=p(e,["config"]);return o!=null&&rce(o,n),n}function oce(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function ace(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],hce(t,i));const o=p(e,["config"]);return o!=null&&oce(o,n),n}function sce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function lce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function uce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function cce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function dce(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=lb(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],fce(i,n)),lue(n,{"requests[].*":"requests[].request.*"})),n}function fce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hce(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],dce(t,i)),n}function pce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],lO(Ft(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],ub(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map(D=>Oce(D))),m(n,["safetySettings"],U)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let U=Fs(E);Array.isArray(U)&&(U=U.map(D=>Mce(Us(D)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Rce(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],si(t,T));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const N=p(e,["mediaResolution"]);N!=null&&m(r,["mediaResolution"],N);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],cb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],Sce(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function vce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ece(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function xce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function bce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Bs(t,r)),n}function wce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function _ce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Sce(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ece(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(l=>lO(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],yce(t,a,p(n,["request"],{}))),n}function Tce(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],vce(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function Ace(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function kce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Nce(t){const e={},n=p(t,["config"]);return n!=null&&Ace(n,e),e}function Cce(t){const e={},n=p(t,["config"]);return n!=null&&kce(n,e),e}function Pce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>cd(a))),m(e,["batchJobs"],o)}return e}function Ice(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ov(a))),m(e,["batchJobs"],o)}return e}function jce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],pce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],mce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Xue(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Oce(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Rce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],gce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Mce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],wce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],_ce(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Zr||(Zr={}));class Ho{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $ce extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Zr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=PA(this.apiClient,e),r=n._url,i=ie("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ice(this.apiClient,e);return s=ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ov(d))}else{const u=PA(this.apiClient,e);return s=ie("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>cd(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ace(this.apiClient,e);return o=ie("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>cd(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bce(this.apiClient,e);return s=ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ov(d))}else{const u=xce(this.apiClient,e);return s=ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>cd(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Zue(this.apiClient,e);a=ie("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Que(this.apiClient,e);a=ie("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Cce(e);return s=ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ice(d),h=new AA;return Object.assign(h,f),h})}else{const u=Nce(e);return s=ie("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Pce(d),h=new AA;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lce(this.apiClient,e);return s=ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>cce(d))}else{const u=sce(this.apiClient,e);return s=ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>uce(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dce(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function IA(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ade(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Lce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(f=>IA(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],IA(Ft(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>lde(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],sde(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Uce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=$n(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Ft(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>ude(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),n}function Fce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Yj(t,r));const i=p(e,["config"]);return i!=null&&Lce(i,n),n}function Bce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Yj(t,r));const i=p(e,["config"]);return i!=null&&Uce(i,n),n}function qce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],si(t,r)),n}function Vce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],si(t,r)),n}function Gce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Hce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function zce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Wce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Yce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],si(t,r)),n}function Xce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],si(t,r)),n}function Qce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Zce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ede(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function tde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function nde(t){const e={},n=p(t,["config"]);return n!=null&&ede(n,e),e}function rde(t){const e={},n=p(t,["config"]);return n!=null&&tde(n,e),e}function ide(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function ode(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function ade(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],zce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Wce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Dce(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function sde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Kce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function lde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Qce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Zce(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function ude(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Jce(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function cde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function dde(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function fde(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],si(t,r));const i=p(e,["config"]);return i!=null&&cde(i,n),n}function hde(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],si(t,r));const i=p(e,["config"]);return i!=null&&dde(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pde extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Zr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bce(this.apiClient,e);return s=ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Fce(this.apiClient,e);return s=ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Xce(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Yce(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vce(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Hce(d),h=new EA;return Object.assign(h,f),h})}else{const u=qce(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Gce(d),h=new EA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hde(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=fde(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rde(e);return s=ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ode(d),h=new TA;return Object.assign(h,f),h})}else{const u=nde(e);return s=ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ide(d),h=new TA;return Object.assign(h,f),h})}}}function oh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function or(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,f)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,x){o.push([g,y,b,x])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof ve?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ar(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jA=="function"?jA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:uO(n)}function uO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function OA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!uO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class yde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vde(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vde{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),gde(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ft(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ft(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?OA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return or(this,arguments,function*(){var i,o,a,s,l,u;const d=[];try{for(var f=!0,h=ar(e),g;g=yield ve(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const v=s;if(mde(v)){const y=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&d.push(y)}yield yield ve(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield ve(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...OA(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,kp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xde(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function bde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function wde(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],nO(n)),e}function _de(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Sde(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],nO(n)),e}function Ede(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Tde(t){const e={},n=p(t,["config"]);return n!=null&&Ede(n,e),e}function Ade(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kde extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Zr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tde(e);return o=ie("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Ade(l),d=new Iue;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xde(e);return o=ie("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bde(l),d=new jue;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sde(e);return o=ie("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wde(e);return o=ie("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=_de(l),d=new Oue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Nde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Pde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ide(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function jde(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ode(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Rde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Mde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Nde(Ft(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=Fs(y);Array.isArray(T)&&(T=T.map(A=>zde(Us(A)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Hde(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $de(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],jde(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Ft(v));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let A=Fs(y);Array.isArray(A)&&(A=A.map(N=>Wde(Us(N)))),m(e,["setup","tools"],A)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const T=p(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&m(e,["setup","explicitVadSignal"],T),n}function Dde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ie(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Mde(i,n)),n}function Lde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ie(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],$de(i,n)),n}function Ude(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function Fde(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function Bde(t){const e={},n=p(t,["media"]);if(n!=null){let u=Xj(n);Array.isArray(u)&&(u=u.map(d=>dd(d))),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],dd(Zj(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],dd(Qj(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function qde(t){const e={},n=p(t,["media"]);if(n!=null){let u=Xj(n);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],Zj(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Qj(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Vde(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Kde(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function Gde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Cde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Pde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],dd(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Hde(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ode(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Rde(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Wde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Ide(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Kde(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jde(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yde(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Xde(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Xde(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Qde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let o=$n(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Zde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function efe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],tfe(r)),e}function tfe(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Np(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>che(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function nfe(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function rfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ife(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Ft(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>hO(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Jfe(o)),n}function ofe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let a=$n(i);Array.isArray(a)&&(a=a.map(s=>Np(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&rfe(o),n}function afe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let a=$n(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&ife(o,n),n}function sfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function lfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function ufe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ie(t,r)),n}function cfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ie(t,r)),n}function dfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function ffe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function hfe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function pfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ghe(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&hfe(a,n),n}function mfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Cp(o))),m(e,["generatedImages"],i)}return e}function gfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function vfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let s=lb(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&gfe(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],Ie(t,a)),n}function xfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let a=lb(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&yfe(o,n),n}function bfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function wfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>efe(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function _fe(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Sfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Efe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Afe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function kfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Np(Ft(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],ub(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map(D=>yhe(D))),m(n,["safetySettings"],U)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let U=Fs(E);Array.isArray(U)&&(U=U.map(D=>Ehe(Us(D)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],She(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],si(t,T));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const N=p(e,["mediaResolution"]);N!=null&&m(r,["mediaResolution"],N);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],cb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],ehe(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function Nfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Ft(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],ub(x));const w=p(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const E=p(e,["modelSelectionConfig"]);E!=null&&m(r,["modelConfig"],E);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(F=>F)),m(n,["safetySettings"],R)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let R=Fs(T);Array.isArray(R)&&(R=R.map(F=>hO(Us(F)))),m(n,["tools"],R)}const A=p(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],A);const N=p(e,["labels"]);n!==void 0&&N!=null&&m(n,["labels"],N);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&m(n,["cachedContent"],si(t,C));const I=p(e,["responseModalities"]);I!=null&&m(r,["responseModalities"],I);const O=p(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const $=p(e,["speechConfig"]);$!=null&&m(r,["speechConfig"],cb($));const U=p(e,["audioTimestamp"]);U!=null&&m(r,["audioTimestamp"],U);const D=p(e,["thinkingConfig"]);D!=null&&m(r,["thinkingConfig"],D);const P=p(e,["imageConfig"]);if(P!=null&&m(r,["imageConfig"],the(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function RA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let a=$n(i);Array.isArray(a)&&(a=a.map(s=>Np(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],kfe(t,o,n)),n}function MA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["contents"]);if(i!=null){let a=$n(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Nfe(t,o,n)),n}function $A(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Yde(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function DA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function Cfe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Pfe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function Ife(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Cfe(o,n),n}function jfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Pfe(o,n),n}function Ofe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Hfe(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],dO(i)),e}function Rfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Cp(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],fO(i)),e}function Mfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],Pp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Dhe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $fe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],ur(y));const b=p(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(E=>Lhe(E))),m(e,["instances[0]","referenceImages"],_)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],$he(x));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function Dfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Bfe(a)),e}function Lfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],qfe(a)),e}function Ufe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],Pp(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],pO(a));const s=p(e,["source"]);s!=null&&Vfe(s,n);const l=p(e,["config"]);return l!=null&&Mfe(l,n),n}function Ffe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],ur(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],mO(a));const s=p(e,["source"]);s!=null&&Gfe(s,n);const l=p(e,["config"]);return l!=null&&$fe(l,n),n}function Bfe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Wfe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function qfe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Kfe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Vfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Pp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],pO(o)),n}function Gfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ur(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],mO(o)),n}function Hfe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],nhe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],dO(i)),e}function Cp(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],cO(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],fO(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function zfe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],cO(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Wfe(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Rhe(n)),e}function Kfe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Mhe(n)),e}function Jfe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Yfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ie(t,r)),n}function Xfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Ie(t,r)),n}function Qfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Zfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ehe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function the(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function nhe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Vi(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cO(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Vi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Pp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Vi(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ur(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Vi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function rhe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],rO(t,s)),r}function ihe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],rO(t,s)),r}function ohe(t,e){const n={},r=p(e,["config"]);return r!=null&&rhe(t,r,n),n}function ahe(t,e){const n={},r=p(e,["config"]);return r!=null&&ihe(t,r,n),n}function she(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=iO(i);Array.isArray(o)&&(o=o.map(a=>Rv(a))),m(e,["models"],o)}return e}function lhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=iO(i);Array.isArray(o)&&(o=o.map(a=>Mv(a))),m(e,["models"],o)}return e}function uhe(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Rv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],The(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const v=p(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function Mv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>_fe(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],Ahe(l));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function che(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Sfe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Efe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Jde(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function dhe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],ur(n)),e}function fhe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function hhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["source"]);i!=null&&mhe(i,n);const o=p(e,["config"]);return o!=null&&fhe(o,n),n}function phe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cp(i))),m(e,["generatedImages"],r)}return e}function mhe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],ur(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>dhe(s))),m(e,["instances[0]","productImages"],a)}return n}function ghe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],ur(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],uhe(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],nfe(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function dO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function fO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function yhe(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function vhe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],ur(n)),e}function xhe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function bhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["source"]);i!=null&&_he(i,n);const o=p(e,["config"]);return o!=null&&xhe(o,n),n}function whe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zfe(i))),m(e,["generatedMasks"],r)}return e}function _he(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ur(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],vhe(o)),n}function She(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Tfe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Ehe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Qfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Zfe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function hO(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Afe(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function The(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Ahe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function khe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Nhe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Che(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],Ie(t,r));const i=p(e,["config"]);return i!=null&&khe(i,n),n}function Phe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["config"]);return i!=null&&Nhe(i,n),n}function Ihe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function jhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Ie(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],ur(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&Ihe(a,n),n}function Ohe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Cp(o))),m(e,["generatedImages"],i)}return e}function Rhe(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Vi(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Mhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Vi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $he(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],ur(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Dhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],Pp(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Lhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],ur(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function pO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Vi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function mO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Vi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uhe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Fhe(t){const e={},n=p(t,["config"]);return n!=null&&Uhe(n,e),e}function Bhe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function qhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Bhe(r,e),e}function Vhe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Ghe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function Hhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Whe(a)),e}function zhe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&Ghe(i,e),e}function Whe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Khe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Jhe(t){const e={},n=p(t,["config"]);return n!=null&&Khe(n,e),e}function Yhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function gO(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function Xhe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&gO(r,e),e}function Qhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zhe="Content-Type",epe="X-Server-Timeout",tpe="User-Agent",$v="x-goog-api-client",npe="1.34.0",rpe=`google-genai-sdk/${npe}`,ipe="v1beta1",ope="v1beta";class ape{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ipe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ope,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&spe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LA(i),new Iv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return or(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield ve(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),b=y.status,x=y.code,w=`got status: ${b}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new kp({message:w,status:x})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const b of l){const x=a.indexOf(b);x!==-1&&(h===-1||x<h)&&(h=x,g=b.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const y=v.trim();if(y.startsWith(s)){const b=y.substring(s.length).trim();try{const x=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new Iv(x))}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=rpe+" "+this.clientOptions.userAgentExtra;return e[tpe]=n,e[$v]=n,e[Zhe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(epe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),d=ie("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&gO(r,f);const h=await this.fetchUploadUrl(u,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function LA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new kp({message:i,status:n}):new Error(i)}}function spe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lpe="mcp_used/unknown";let upe=!1;function yO(t){for(const e of t)if(cpe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return upe}function vO(t){var e;const n=(e=t[$v])!==null&&e!==void 0?e:"";t[$v]=(n+` ${lpe}`).trimStart()}function cpe(t){return t!==null&&typeof t=="object"&&t instanceof fb}function dpe(t){return or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ve(n.listTools({cursor:i}));for(const s of a.tools)yield yield ve(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class fb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,ar(dpe(d))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Vue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fpe(t,e,n){const r=new Mue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class hpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=gpe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{fpe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,mpe(a),v);y.connect(),await d;const w={setup:{model:Ie(this.apiClient,e.model)}};return y.send(JSON.stringify(w)),new ppe(y,this.apiClient)}}class ppe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Fde(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ude(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Aa.PLAY)}pause(){this.sendPlaybackControl(Aa.PAUSE)}stop(){this.sendPlaybackControl(Aa.STOP)}resetContext(){this.sendPlaybackControl(Aa.RESET_CONTEXT)}close(){this.conn.close()}}function mpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function gpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ype="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vpe(t,e,n){const r=new Rue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Vde(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class xpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new hpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&yO(e.config.tools)&&vO(f);const h=Spe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let I="BidiGenerateContent",O="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",O="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${O}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),y=e.callbacks,b=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},x=this.apiClient,w={onopen:b,onmessage:C=>{vpe(x,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,_pe(h),w);_.connect(),await v;let E=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const C=this.apiClient.getProject(),I=this.apiClient.getLocation();E=`projects/${C}/locations/${I}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nh.AUDIO]}:e.config.responseModalities=[nh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of T)if(this.isCallableTool(C)){const I=C;A.push(await I.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const N={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Lde(this.apiClient,N):S=Dde(this.apiClient,N),delete S.config,_.send(JSON.stringify(S)),new wpe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const bpe={turnComplete:!0};class wpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=$n(n.turns),e.isVertexAI()||(r=r.map(i=>Np(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ype)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},bpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:qde(e)}:n={realtimeInput:Bde(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _pe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Spe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA=10;function FA(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Fa(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Fa(t){return"callTool"in t&&typeof t.callTool=="function"}function Epe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Fa(i)))!==null&&r!==void 0?r:!1}function BA(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Fa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function qA(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tpe extends ai{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Epe(n)||FA(n.config))return await this.generateContentInternal(l);const u=BA(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=$n(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:UA;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,b=[];for(const x of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Fa(x)){const _=await x.callTool(d.functionCalls);b.push(..._)}v++,f={role:"user",parts:b},l.contents=$n(l.contents),l.contents.push(y),l.contents.push(f),qA(l.config)&&(h.push(y),h.push(f))}return qA(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),FA(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=BA(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ho(Zr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Fa(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&yO(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),vO(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fa(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:UA;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,d,f){return or(this,arguments,function*(){for(var h,g,v,y,b,x;s<o;){a&&(s++,a=!1);const S=yield ve(u.processParamsMaybeAddMcpUsage(f)),T=yield ve(u.generateContentStreamInternal(S)),A=[],N=[];try{for(var w=!0,_=(g=void 0,ar(T)),E;E=yield ve(_.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const C=y;if(yield yield ve(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){N.push(C.candidates[0].content);for(const I of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(I.functionCall.name)){const O=yield ve(d.get(I.functionCall.name).callTool([I.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!w&&!h&&(v=_.return)&&(yield ve(v.call(_)))}finally{if(g)throw g.error}}if(A.length>0){a=!0;const C=new al;C.candidates=[{content:{role:"user",parts:A}}],yield yield ve(C);const I=[];I.push(...N),I.push({role:"user",parts:A});const O=$n(f.contents).concat(I);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=MA(this.apiClient,e);return s=ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=DA(d),h=new al;return Object.assign(h,f),h})}else{const u=RA(this.apiClient,e);return s=ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=$A(d),h=new al;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=MA(this.apiClient,e);return s=ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return or(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=ar(f),w;w=yield ve(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=DA(yield ve(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new al;Object.assign(S,E),yield yield ve(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield ve(v.call(x)))}finally{if(g)throw g.error}}})})}else{const u=RA(this.apiClient,e);return s=ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return or(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=ar(f),w;w=yield ve(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=$A(yield ve(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new al;Object.assign(S,E),yield yield ve(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield ve(v.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xfe(this.apiClient,e);return s=ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=wfe(d),h=new yA;return Object.assign(h,f),h})}else{const u=vfe(this.apiClient,e);return s=ie("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=bfe(d),h=new yA;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jfe(this.apiClient,e);return s=ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rfe(d),h=new vA;return Object.assign(h,f),h})}else{const u=Ife(this.apiClient,e);return s=ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ofe(d),h=new vA;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=pfe(this.apiClient,e);return o=ie("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=mfe(l),d=new Sue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=jhe(this.apiClient,e);return o=ie("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Ohe(l),d=new Eue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=hhe(this.apiClient,e);return o=ie("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=phe(l),d=new Tue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=bhe(this.apiClient,e);return o=ie("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=whe(l),d=new Aue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Xfe(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Mv(d))}else{const u=Yfe(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Rv(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ahe(this.apiClient,e);return s=ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lhe(d),h=new xA;return Object.assign(h,f),h})}else{const u=ohe(this.apiClient,e);return s=ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=she(d),h=new xA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Phe(this.apiClient,e);return s=ie("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Mv(d))}else{const u=Che(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Rv(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cfe(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ffe(d),h=new bA;return Object.assign(h,f),h})}else{const u=ufe(this.apiClient,e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=dfe(d),h=new bA;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=afe(this.apiClient,e);return s=ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lfe(d),h=new wA;return Object.assign(h,f),h})}else{const u=ofe(this.apiClient,e);return s=ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=sfe(d),h=new wA;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Qde(this.apiClient,e);return o=ie("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Zde(l),d=new kue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ffe(this.apiClient,e);return s=ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Lfe(d),h=new rh;return Object.assign(h,f),h})}else{const u=Ufe(this.apiClient,e);return s=ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Dfe(d),h=new rh;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ape extends ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yue(e);return s=ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=gue(e);return s=ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=uue(e);return o=ie("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kpe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Npe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dpe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cpe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],$pe(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Ppe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Cpe(t,r,n)),n}function Ipe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jpe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ope(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Rpe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Mpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],db(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Npe(Ft(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=Fs(y);Array.isArray(T)&&(T=T.map(A=>Upe(Us(A)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Lpe(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $pe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Ie(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Mpe(i,n)),n}function Dpe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ipe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],jpe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],kpe(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Lpe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Upe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ope(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Rpe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fpe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Bpe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Fpe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class qpe extends ai{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Ppe(this.apiClient,e);o=ie("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Bpe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vpe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Gpe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Vpe(r,e),e}function Hpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function zpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Wpe(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&zpe(r,e),e}function Kpe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jpe extends ai{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ho(Zr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Hpe(e);return o=ie("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Gpe(e);i=ie("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Wpe(e);return o=ie("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Kpe(l),d=new Nue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ype extends ai{constructor(e,n=new Jpe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ho(Zr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Fhe(e);return o=ie("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vhe(e);return o=ie("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qhe(e);i=ie("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jhe(e);return o=ie("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Yhe(l),d=new Cue;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xhe(e);return o=ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Qhe(l),d=new Pue;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zhe(e);return o=ie("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hhe(l),d=new ab;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xO=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return xO=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Xpe=()=>xO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Lv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fn extends Error{}class Kt extends Fn{constructor(e,n,r,i){super(`${Kt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Ip({message:r,cause:Lv(n)});const o=n;return e===400?new wO(e,o,r,i):e===401?new _O(e,o,r,i):e===403?new SO(e,o,r,i):e===404?new EO(e,o,r,i):e===409?new TO(e,o,r,i):e===422?new AO(e,o,r,i):e===429?new kO(e,o,r,i):e>=500?new NO(e,o,r,i):new Kt(e,o,r,i)}}class Uv extends Kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ip extends Kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class bO extends Ip{constructor({message:e}={}){super({message:e??"Request timed out."})}}class wO extends Kt{}class _O extends Kt{}class SO extends Kt{}class EO extends Kt{}class TO extends Kt{}class AO extends Kt{}class kO extends Kt{}class NO extends Kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qpe=/^[a-z][a-z0-9+.-]*:/i,Zpe=t=>Qpe.test(t);let Fv=t=>(Fv=Array.isArray,Fv(t));const eme=Fv;let tme=eme;const VA=tme;function nme(t){if(!t)return!0;for(const e in t)return!1;return!0}function rme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const ime=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Fn(`${t} must be an integer`);if(e<0)throw new Fn(`${t} must be a positive integer`);return e},ome=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ame=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lme=()=>{var t,e,n,r,i;const o=sme();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sa,"X-Stainless-OS":HA(Deno.build.os),"X-Stainless-Arch":GA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sa,"X-Stainless-OS":HA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":GA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=ume();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ume(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const GA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",HA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let zc;const cme=()=>zc??(zc=lme());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dme(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function CO(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function fme(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return CO({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function PO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hme(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pme=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IO=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wm(t,e,n){return IO(),new File(t,e??"unknown_file",n)}function mme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const gme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",yme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&jO(t),vme=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function xme(t,e,n){if(IO(),t=await t,yme(t))return t instanceof File?t:Wm([await t.arrayBuffer()],t.name);if(vme(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wm(await Bv(i),e,n)}const r=await Bv(t);if(e||(e=mme(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Wm(r,e,n)}async function Bv(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(jO(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(gme(t))try{for(var s=!0,l=ar(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(...await Bv(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${bme(t)}`)}return a}function bme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OO{constructor(e){this._client=e}}OO._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RO(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zA=Object.freeze(Object.create(null)),wme=(t=RO)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var g,v,y;/[?#]/.test(f)&&(i=!0);const b=r[h];let x=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((g=b.hasOwnProperty)!==null&&g!==void 0?g:zA))!==null&&v!==void 0?v:zA))===null||y===void 0?void 0:y.toString))&&(x=b+"",o.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const v=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+v+y},"");throw new Fn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},Wc=wme(RO);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MO extends OO{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=oh(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wc`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Wc`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Wc`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=oh(o,["api_version"]);return this._client.get(Wc`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}MO._key=Object.freeze(["interactions"]);class $O extends MO{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _me(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Kc;function hb(t){let e;return(Kc??(e=new globalThis.TextEncoder,Kc=e.encode.bind(e)))(t)}let Jc;function WA(t){let e;return(Jc??(e=new globalThis.TextDecoder,Jc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hb(e):e;this.buffer=_me([this.buffer,n]);const r=[];let i;for(;(i=Sme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(WA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=WA(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}jp.NEWLINE_CHARS=new Set([`
`,"\r"]);jp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Sme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Eme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah={off:0,error:200,warn:300,info:400,debug:500},KA=(t,e,n)=>{if(t){if(rme(ah,t))return t;qt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ah))}`)}};function pl(){}function Yc(t,e,n){return!e||ah[t]>ah[n]?pl:e[t].bind(e)}const Tme={error:pl,warn:pl,info:pl,debug:pl};let JA=new WeakMap;function qt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Tme;const i=JA.get(n);if(i&&i[0]===r)return i[1];const o={error:Yc("error",n,r),warn:Yc("warn",n,r),info:Yc("info",n,r),debug:Yc("debug",n,r)};return JA.set(n,[r,o]),o}const io=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ka{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?qt(r):console;function a(){return or(this,arguments,function*(){var l,u,d,f;if(i)throw new Fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=ar(Ame(e,n)),y;y=yield ve(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ve(JSON.parse(b.data))}catch(x){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),x}}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield ve(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Dv(b))return yield ve(void 0);throw b}finally{h||n.abort()}})}return new ka(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return or(this,arguments,function*(){var l,u,d,f;const h=new jp,g=PO(e);try{for(var v=!0,y=ar(g),b;b=yield ve(y.next()),l=b.done,!l;v=!0){f=b.value,v=!1;const x=f;for(const w of h.decode(x))yield yield ve(w)}}catch(x){u={error:x}}finally{try{!v&&!l&&(d=y.return)&&(yield ve(d.call(y)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield ve(x)})}function a(){return or(this,arguments,function*(){var l,u,d,f;if(i)throw new Fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=ar(o()),y;y=yield ve(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;h||b&&(yield yield ve(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield ve(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Dv(b))return yield ve(void 0);throw b}finally{h||n.abort()}})}return new ka(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new ka(()=>i(e),this.controller,this.client),new ka(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return CO({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=hb(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Ame(t,e){return or(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fn("Attempted to iterate over a response with no body");const s=new Nme,l=new jp,u=PO(t.body);try{for(var d=!0,f=ar(kme(u)),h;h=yield ve(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const g=a;for(const v of l.decode(g)){const y=s.decode(v);y&&(yield yield ve(y))}}}catch(g){i={error:g}}finally{try{!d&&!r&&(o=f.return)&&(yield ve(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield ve(v))}})}function kme(t){return or(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=ar(t),u;u=yield ve(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?hb(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=Eme(a))!==-1;)yield yield ve(a.slice(0,g)),a=a.slice(g)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield ve(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ve(a))})}class Nme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Cme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Cme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return qt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ka.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return qt(t).debug(`[${r}] response parsed`,io({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pb extends Promise{constructor(e,n,r=Pme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new pb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DO=Symbol("brand.privateNullableHeaders");function*Ime(t){if(!t)return;if(DO in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=VA(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const sl=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of Ime(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[DO]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Km=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=rue)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var LO;class Op{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=Km("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Km("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=oh(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Op.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=KA(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:KA(Km("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:dme(),this.encoder=pme,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=sl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return sl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Fn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${sa}`}defaultIdempotencyKey(){return`stainless-node-retry-${Xpe()}`}makeStatusError(e,n,r,i){return Kt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Zpe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return nme(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new pb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(qt(this).debug(`[${h}] sending request`,io({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Uv;const y=new AbortController,b=await this.fetchWithTimeout(d,u,f,y).catch(Lv),x=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Uv;const E=Dv(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return qt(this).info(`[${h}] connection ${E?"timed out":"failed"} - ${_}`),qt(this).debug(`[${h}] connection ${E?"timed out":"failed"} (${_})`,io({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),this.retryRequest(s,n,r??h);throw qt(this).info(`[${h}] connection ${E?"timed out":"failed"} - error; no more retries left`),qt(this).debug(`[${h}] connection ${E?"timed out":"failed"} (error; no more retries left)`,io({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),E?new bO:new Ip({cause:b})}const w=`[${h}${g}] ${u.method} ${d} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${x-v}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await hme(b.body),qt(this).info(`${w} - ${C}`),qt(this).debug(`[${h}] response error (${C})`,io({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),this.retryRequest(s,n,r??h,b.headers)}const E=_?"error; no more retries left":"error; not retryable";qt(this).info(`${w} - ${E}`);const S=await b.text().catch(C=>Lv(C).message),T=ome(S),A=T?void 0:S;throw qt(this).debug(`[${h}] response error (${E})`,io({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(b.status,T,A,b.headers)}return qt(this).info(w),qt(this).debug(`[${h}] response start`,io({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),{response:b,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=oh(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await ame(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:d}=a,f=this.buildURL(l,u,d);"timeout"in a&&ime("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=sl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),cme()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=sl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:fme(e)}:this.encoder({body:e,headers:r})}}Op.DEFAULT_TIMEOUT=6e4;class Nt extends Op{constructor(){super(...arguments),this.interactions=new $O(this)}}LO=Nt;Nt.GeminiNextGenAPIClient=LO;Nt.GeminiNextGenAPIClientError=Fn;Nt.APIError=Kt;Nt.APIConnectionError=Ip;Nt.APIConnectionTimeoutError=bO;Nt.APIUserAbortError=Uv;Nt.NotFoundError=EO;Nt.ConflictError=TO;Nt.RateLimitError=kO;Nt.BadRequestError=wO;Nt.AuthenticationError=_O;Nt.InternalServerError=NO;Nt.PermissionDeniedError=SO;Nt.UnprocessableEntityError=AO;Nt.toFile=xme;Nt.Interactions=$O;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Ome(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Rme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Mme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function $me(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Dme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],YA(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],YA(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Lme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Jme(o);const a=p(t,["config"]);return a!=null&&$me(a,n),n}function Ume(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Yme(o,n,e);const a=p(t,["config"]);return a!=null&&Dme(a,n,e),n}function Fme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Bme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function qme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Vme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Gme(t,e){const n={},r=p(t,["config"]);return r!=null&&qme(r,n),n}function Hme(t,e){const n={},r=p(t,["config"]);return r!=null&&Vme(r,n),n}function zme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>UO(s))),m(n,["tuningJobs"],a)}return n}function Wme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>qv(s))),m(n,["tuningJobs"],a)}return n}function Kme(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Jme(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Yme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function UO(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],tO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],Kme(h)),n}function qv(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],tO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(n,["error"],d);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const v=p(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(n,["supervisedTuningSpec"],y);const b=p(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const x=p(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const w=p(t,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const E=p(t,["customBaseModel"]);E!=null&&m(n,["customBaseModel"],E);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const T=p(t,["labels"]);T!=null&&m(n,["labels"],T);const A=p(t,["outputUri"]);A!=null&&m(n,["outputUri"],A);const N=p(t,["pipelineJob"]);N!=null&&m(n,["pipelineJob"],N);const C=p(t,["serviceAccount"]);C!=null&&m(n,["serviceAccount"],C);const I=p(t,["tunedModelDisplayName"]);I!=null&&m(n,["tunedModelDisplayName"],I);const O=p(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Xme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function YA(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qme extends ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Zr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Pv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bme(e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>qv(d))}else{const u=Fme(e);return s=ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>UO(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hme(e);return s=ie("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Wme(d),h=new _A;return Object.assign(h,f),h})}else{const u=Gme(e);return s=ie("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=zme(d),h=new _A;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ome(e);return s=ie("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mme(d),h=new SA;return Object.assign(h,f),h})}else{const u=jme(e);return s=ie("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rme(d),h=new SA;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ume(e,e);return o=ie("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>qv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lme(e);return o=ie("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Xme(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ege=1024*1024*8,tge=3,nge=1e3,rge=2,sh="x-goog-upload-status";async function ige(t,e,n){var r;const i=await FO(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function oge(t,e,n){var r;const i=await FO(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Jj(o),s=new sb;return Object.assign(s,a),s}async function FO(t,e,n){var r,i;let o=0,a=0,s=new Iv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(ege,o-a),d=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=nge;for(;f<tge&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[sh]));)f++,await sge(h),h=h*rge;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[sh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function age(t){return{size:t.size,type:t.type}}function sge(t){return new Promise(e=>setTimeout(e,t))}class lge{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ige(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oge(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await age(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uge{create(e,n,r){return new cge(e,n,r)}}class cge{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="x-goog-api-key";class dge{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(XA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(XA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fge="gl-node/";class hge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=sue(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new dge(this.apiKey);this.apiClient=new ape({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:fge+"web",uploader:new lge,downloader:new Zme}),this.models=new Tpe(this.apiClient),this.live=new xpe(this.apiClient,i,new uge),this.batches=new $ce(this.apiClient),this.chats=new yde(this.models,this.apiClient),this.caches=new pde(this.apiClient),this.files=new kde(this.apiClient),this.operations=new Ape(this.apiClient),this.authTokens=new qpe(this.apiClient),this.tunings=new Qme(this.apiClient),this.fileSearchStores=new Ype(this.apiClient)}}const pge=({user:t})=>{const[e,n]=k.useState(!1),[r,i]=k.useState(""),[o,a]=k.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=k.useState(!1),u=k.useRef(null);k.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{try{const{data:h}=await er.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(x=>{const w=x.data||{};return{code:x.tracking_code,title:x.title,status:w.status||x.status,equipment:w.equipName||"",failure:w.failureDesc,date:x.created_at,requester:w.requester}}),{data:v}=await er.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),y=(v||[]).map(x=>{const w=x.data||{};return{part:w.partName,qty:w.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:y})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(v=>[...v,g]),i(""),l(!0);try{const v=new hge({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await v.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(v){console.error("AI Error:",v);let y=`: ${v.message||"      ."}`;v.message&&v.message.toLowerCase().includes("failed to fetch")?y=`        .

         (VPN)        .`:v.message&&(v.message.includes("403")||v.message.includes("400"))&&(y="  API        ."),a(b=>[...b,{id:(Date.now()+1).toString(),role:"model",text:y}])}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?c.jsx(sn,{className:"w-6 h-6"}):c.jsx(yD,{className:"w-7 h-7"})}),e&&c.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(qD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:" "}),c.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:c.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&c.jsx("div",{className:"flex justify-end",children:c.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[c.jsx(El,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),c.jsx("div",{ref:u})]}),c.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[c.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:c.jsx(zd,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},mge=()=>{const[t,e]=k.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch(u){return console.error("Failed to parse user from local storage",u),localStorage.removeItem("currentUser"),null}}),[n,r]=k.useState(()=>localStorage.getItem("theme")==="dark"),[i,o]=k.useState(()=>localStorage.getItem("snowMode")==="true");k.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),k.useEffect(()=>{localStorage.setItem("snowMode",String(i))},[i]);const a=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u));const d={id:br(),userName:u.fullName,personnelCode:u.personnelCode||(u.username==="admin"?"9999":"0000"),action:"  ",date:ot(),time:qu(),ip:cT,details:`Role: ${u.role}`},f=JSON.parse(localStorage.getItem("system_logs")||"[]");f.push(d),localStorage.setItem("system_logs",JSON.stringify(f)),console.log(`LOG: LOGIN user=${u.username}`)},s=()=>{if(t){const u={id:br(),userName:t.fullName,personnelCode:t.personnelCode||"---",action:"  ",date:ot(),time:qu(),ip:cT},d=JSON.parse(localStorage.getItem("system_logs")||"[]");d.push(u),localStorage.setItem("system_logs",JSON.stringify(d))}e(null),localStorage.removeItem("currentUser")},l=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u))};return c.jsxs(fD,{children:[c.jsx(nue,{enabled:i}),t&&c.jsx(pge,{user:t}),c.jsx(eL,{user:t,onLogout:s,darkMode:n,toggleDarkMode:()=>r(!n),children:c.jsxs(uD,{children:[c.jsx(at,{path:"/login",element:t?c.jsx(ut,{to:"/"}):c.jsx(F4,{onLogin:a})}),c.jsx(at,{path:"/",element:t?c.jsx(_le,{}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/inbox",element:t?c.jsx(Jle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/messages",element:t?c.jsx(Xle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/reports",element:t?c.jsx(Zle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/shift-report",element:t?c.jsx(tue,{user:t}):c.jsx(ut,{to:"/login"})})," ",c.jsx(at,{path:"/work-orders",element:t?c.jsx(Lle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/work-orders/new",element:t?c.jsx(ib,{}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/projects",element:t?c.jsx(Wle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/performance",element:t?c.jsx(Kle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/part-requests",element:t?c.jsx(Ble,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/inspections",element:t?c.jsx(Fle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/documents",element:t?c.jsx(qle,{}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/meetings",element:t?c.jsx(Vle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/suggestions",element:t?c.jsx(Gle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/purchases",element:t?c.jsx(Hle,{user:t}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"/workflow-designer",element:(t==null?void 0:t.role)===tn.ADMIN?c.jsx(Qle,{}):c.jsx(ut,{to:"/"})}),c.jsx(at,{path:"/admin",element:(t==null?void 0:t.role)===tn.ADMIN?c.jsx(kle,{}):c.jsx(ut,{to:"/"})}),c.jsx(at,{path:"/settings",element:t?c.jsx(zle,{user:t,onUpdateUser:l,snowMode:i,setSnowMode:o}):c.jsx(ut,{to:"/login"})}),c.jsx(at,{path:"*",element:c.jsx(ut,{to:"/"})})]})})]})};class gge extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?c.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[c.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),c.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),c.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const BO=document.getElementById("root");if(!BO)throw new Error("Failed to find the root element");const yge=Jm.createRoot(BO);yge.render(c.jsx(M.StrictMode,{children:c.jsx(gge,{children:c.jsx(mge,{})})}));
