function CO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YT={exports:{}},Cf={},XT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),NO=Symbol.for("react.portal"),PO=Symbol.for("react.fragment"),IO=Symbol.for("react.strict_mode"),OO=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),MO=Symbol.for("react.forward_ref"),$O=Symbol.for("react.suspense"),DO=Symbol.for("react.memo"),LO=Symbol.for("react.lazy"),Cx=Symbol.iterator;function UO(t){return t===null||typeof t!="object"?null:(t=Cx&&t[Cx]||t["@@iterator"],typeof t=="function"?t:null)}var QT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZT=Object.assign,ek={};function Ha(t,e,n){this.props=t,this.context=e,this.refs=ek,this.updater=n||QT}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tk(){}tk.prototype=Ha.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=ek,this.updater=n||QT}var ev=Zy.prototype=new tk;ev.constructor=Zy;ZT(ev,Ha.prototype);ev.isPureReactComponent=!0;var Nx=Array.isArray,nk=Object.prototype.hasOwnProperty,tv={current:null},rk={key:!0,ref:!0,__self:!0,__source:!0};function ik(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)nk.call(e,r)&&!rk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:cu,type:t,key:o,ref:a,props:i,_owner:tv.current}}function FO(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nv(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function BO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Px=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BO(""+t.key):e.toString(36)}function xc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cu:case NO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Wh(a,0):r,Nx(i)?(n="",t!=null&&(n=t.replace(Px,"$&/")+"/"),xc(i,e,n,"",function(u){return u})):i!=null&&(nv(i)&&(i=FO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Px,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Nx(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Wh(o,s);a+=xc(o,e,n,l,i)}else if(l=UO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Wh(o,s++),a+=xc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ru(t,e,n){if(t==null)return t;var r=[],i=0;return xc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function qO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},bc={transition:null},VO={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:bc,ReactCurrentOwner:tv};function ok(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!nv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Ha;ge.Fragment=PO;ge.Profiler=OO;ge.PureComponent=Zy;ge.StrictMode=IO;ge.Suspense=$O;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VO;ge.act=ok;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=tv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)nk.call(e,l)&&!rk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:cu,type:t.type,key:i,ref:o,props:r,_owner:a}};ge.createContext=function(t){return t={$$typeof:jO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RO,_context:t},t.Consumer=t};ge.createElement=ik;ge.createFactory=function(t){var e=ik.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:MO,render:t}};ge.isValidElement=nv;ge.lazy=function(t){return{$$typeof:LO,_payload:{_status:-1,_result:t},_init:qO}};ge.memo=function(t,e){return{$$typeof:DO,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=bc.transition;bc.transition={};try{t()}finally{bc.transition=e}};ge.unstable_act=ok;ge.useCallback=function(t,e){return Dt.current.useCallback(t,e)};ge.useContext=function(t){return Dt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Dt.current.useEffect(t,e)};ge.useId=function(){return Dt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Dt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};ge.useRef=function(t){return Dt.current.useRef(t)};ge.useState=function(t){return Dt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Dt.current.useTransition()};ge.version="18.3.1";XT.exports=ge;var A=XT.exports;const M=Ie(A),GO=CO({__proto__:null,default:M},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=A,zO=Symbol.for("react.element"),WO=Symbol.for("react.fragment"),KO=Object.prototype.hasOwnProperty,JO=HO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YO={key:!0,ref:!0,__self:!0,__source:!0};function ak(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)KO.call(e,r)&&!YO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zO,type:t,key:o,ref:a,props:i,_owner:JO.current}}Cf.Fragment=WO;Cf.jsx=ak;Cf.jsxs=ak;YT.exports=Cf;var d=YT.exports,sm={},sk={exports:{}},un={},lk={exports:{}},uk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var V=D.length;D.push(B);e:for(;0<V;){var J=V-1>>>1,H=D[J];if(0<i(H,B))D[J]=B,D[V]=H,V=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],V=D.pop();if(V!==B){D[0]=V;e:for(var J=0,H=D.length,re=H>>>1;J<re;){var fe=2*(J+1)-1,pe=D[fe],ye=fe+1,ve=D[ye];if(0>i(pe,V))ye<H&&0>i(ve,pe)?(D[J]=ve,D[ye]=V,J=ye):(D[J]=pe,D[fe]=V,J=fe);else if(ye<H&&0>i(ve,V))D[J]=ve,D[ye]=V,J=ye;else break e}}return B}function i(D,B){var V=D.sortIndex-B.sortIndex;return V!==0?V:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,g=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(D){if(v=!1,_(D),!y)if(n(l)!==null)y=!0,R(S);else{var B=n(u);B!==null&&U(E,B.startTime-D)}}function S(D,B){y=!1,v&&(v=!1,x(C),C=-1),g=!0;var V=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||D&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var H=J(f.expirationTime<=B);B=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var fe=n(u);fe!==null&&U(E,fe.startTime-B),re=!1}return re}finally{f=null,h=V,g=!1}}var T=!1,k=null,C=-1,N=5,I=-1;function O(){return!(t.unstable_now()-I<N)}function $(){if(k!==null){var D=t.unstable_now();I=D;var B=!0;try{B=k(!0,D)}finally{B?L():(T=!1,k=null)}}else T=!1}var L;if(typeof w=="function")L=function(){w($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,P=j.port2;j.port1.onmessage=$,L=function(){P.postMessage(null)}}else L=function(){b($,0)};function R(D){k=D,T||(T=!0,L())}function U(D,B){C=b(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,R(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return D()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(D,B,V){var J=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,D={id:c++,callback:B,priorityLevel:D,startTime:V,expirationTime:H,sortIndex:-1},V>J?(D.sortIndex=V,e(u,D),n(l)===null&&D===n(u)&&(v?(x(C),C=-1):v=!0,U(E,V-J))):(D.sortIndex=H,e(l,D),y||g||(y=!0,R(S))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var B=h;return function(){var V=h;h=B;try{return D.apply(this,arguments)}finally{h=V}}}})(uk);lk.exports=uk;var XO=lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO=A,sn=XO;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ck=new Set,tl={};function co(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(tl[t]=e,t=0;t<e.length;t++)ck.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,ZO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ix={},Ox={};function eR(t){return lm.call(Ox,t)?!0:lm.call(Ix,t)?!1:ZO.test(t)?Ox[t]=!0:(Ix[t]=!0,!1)}function tR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nR(t,e,n,r){if(e===null||typeof e>"u"||tR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rv,iv);St[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rv,iv);St[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rv,iv);St[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ov(t,e,n,r){var i=St.hasOwnProperty(e)?St[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nR(e,n,i,r)&&(n=null),r||i===null?eR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=QO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),dk=Symbol.for("react.provider"),fk=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),hk=Symbol.for("react.offscreen"),Rx=Symbol.iterator;function ds(t){return t===null||typeof t!="object"?null:(t=Rx&&t[Rx]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Kh;function Is(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Jh=!1;function Yh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Is(t):""}function rR(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case Lo:return"Portal";case um:return"Profiler";case av:return"StrictMode";case cm:return"Suspense";case dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fk:return(t.displayName||"Context")+".Consumer";case dk:return(t._context.displayName||"Context")+".Provider";case sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lv:return e=t.displayName||null,e!==null?e:fm(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return fm(t(e))}catch{}}return null}function iR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(e);case 8:return e===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oR(t){var e=pk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=oR(t))}function mk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gk(t,e){e=e.checked,e!=null&&ov(t,"checked",e,!1)}function pm(t,e){gk(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&mm(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mm(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Os=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $x(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Os(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function yk(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $u,xk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aR=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(t){aR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ls[e]=Ls[t]})});function bk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ls.hasOwnProperty(t)&&Ls[t]?(""+e).trim():e+"px"}function wk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sR=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(t,e){if(e){if(sR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function xm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function uv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wm=null,ia=null,oa=null;function Lx(t){if(t=hu(t)){if(typeof wm!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Rf(e),wm(t.stateNode,t.type,e))}}function _k(t){ia?oa?oa.push(t):oa=[t]:ia=t}function Sk(){if(ia){var t=ia,e=oa;if(oa=ia=null,Lx(t),e)for(t=0;t<e.length;t++)Lx(e[t])}}function Ek(t,e){return t(e)}function Tk(){}var Xh=!1;function kk(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return Ek(t,e,n)}finally{Xh=!1,(ia!==null||oa!==null)&&(Tk(),Sk())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var _m=!1;if(kr)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){_m=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{_m=!1}function lR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Us=!1,jc=null,Mc=!1,Sm=null,uR={onError:function(t){Us=!0,jc=t}};function cR(t,e,n,r,i,o,a,s,l){Us=!1,jc=null,lR.apply(uR,arguments)}function dR(t,e,n,r,i,o,a,s,l){if(cR.apply(this,arguments),Us){if(Us){var u=jc;Us=!1,jc=null}else throw Error(K(198));Mc||(Mc=!0,Sm=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ak(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ux(t){if(fo(t)!==t)throw Error(K(188))}function fR(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ux(i),t;if(o===r)return Ux(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Ck(t){return t=fR(t),t!==null?Nk(t):null}function Nk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nk(t);if(e!==null)return e;t=t.sibling}return null}var Pk=sn.unstable_scheduleCallback,Fx=sn.unstable_cancelCallback,hR=sn.unstable_shouldYield,pR=sn.unstable_requestPaint,Xe=sn.unstable_now,mR=sn.unstable_getCurrentPriorityLevel,cv=sn.unstable_ImmediatePriority,Ik=sn.unstable_UserBlockingPriority,$c=sn.unstable_NormalPriority,gR=sn.unstable_LowPriority,Ok=sn.unstable_IdlePriority,Nf=null,nr=null;function yR(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Nf,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:bR,vR=Math.log,xR=Math.LN2;function bR(t){return t>>>=0,t===0?32:31-(vR(t)/xR|0)|0}var Du=64,Lu=4194304;function Rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Rs(s):(o&=a,o!==0&&(r=Rs(o)))}else a=n&~i,a!==0?r=Rs(a):o!==0&&(r=Rs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function wR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _R(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Gn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=wR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rk(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function SR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function jk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mk,fv,$k,Dk,Lk,Tm=!1,Uu=[],ri=null,ii=null,oi=null,il=new Map,ol=new Map,Kr=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bx(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function hs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hu(e),e!==null&&fv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TR(t,e,n,r,i){switch(e){case"focusin":return ri=hs(ri,t,e,n,r,i),!0;case"dragenter":return ii=hs(ii,t,e,n,r,i),!0;case"mouseover":return oi=hs(oi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return il.set(o,hs(il.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ol.set(o,hs(ol.get(o)||null,t,e,n,r,i)),!0}return!1}function Uk(t){var e=Ui(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=Ak(n),e!==null){t.blockedOn=e,Lk(t.priority,function(){$k(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bm=r,n.target.dispatchEvent(r),bm=null}else return e=hu(n),e!==null&&fv(e),t.blockedOn=n,!1;e.shift()}return!0}function qx(t,e,n){wc(t)&&n.delete(e)}function kR(){Tm=!1,ri!==null&&wc(ri)&&(ri=null),ii!==null&&wc(ii)&&(ii=null),oi!==null&&wc(oi)&&(oi=null),il.forEach(qx),ol.forEach(qx)}function ps(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,kR)))}function al(t){function e(i){return ps(i,t)}if(0<Uu.length){ps(Uu[0],t);for(var n=1;n<Uu.length;n++){var r=Uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&ps(ri,t),ii!==null&&ps(ii,t),oi!==null&&ps(oi,t),il.forEach(e),ol.forEach(e),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)Uk(n),n.blockedOn===null&&Kr.shift()}var aa=Mr.ReactCurrentBatchConfig,Lc=!0;function AR(t,e,n,r){var i=Te,o=aa.transition;aa.transition=null;try{Te=1,hv(t,e,n,r)}finally{Te=i,aa.transition=o}}function CR(t,e,n,r){var i=Te,o=aa.transition;aa.transition=null;try{Te=4,hv(t,e,n,r)}finally{Te=i,aa.transition=o}}function hv(t,e,n,r){if(Lc){var i=km(t,e,n,r);if(i===null)lp(t,e,r,Uc,n),Bx(t,r);else if(TR(i,t,e,n,r))r.stopPropagation();else if(Bx(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var o=hu(i);if(o!==null&&Mk(o),o=km(t,e,n,r),o===null&&lp(t,e,r,Uc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}var Uc=null;function km(t,e,n,r){if(Uc=null,t=uv(r),t=Ui(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ak(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uc=t,null}function Fk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mR()){case cv:return 1;case Ik:return 4;case $c:case gR:return 16;case Ok:return 536870912;default:return 16}default:return 16}}var Qr=null,pv=null,_c=null;function Bk(){if(_c)return _c;var t,e=pv,n=e.length,r,i="value"in Qr?Qr.value:Qr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return _c=i.slice(t,1<r?1-r:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function Vx(){return!1}function cn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fu:Vx,this.isPropagationStopped=Vx,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=cn(za),fu=He({},za,{view:0,detail:0}),NR=cn(fu),Zh,ep,ms,Pf=He({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ms&&(ms&&t.type==="mousemove"?(Zh=t.screenX-ms.screenX,ep=t.screenY-ms.screenY):ep=Zh=0,ms=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),Gx=cn(Pf),PR=He({},Pf,{dataTransfer:0}),IR=cn(PR),OR=He({},fu,{relatedTarget:0}),tp=cn(OR),RR=He({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=cn(RR),MR=He({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$R=cn(MR),DR=He({},za,{data:0}),Hx=cn(DR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FR[t])?!!e[t]:!1}function gv(){return BR}var qR=He({},fu,{key:function(t){if(t.key){var e=LR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VR=cn(qR),GR=He({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=cn(GR),HR=He({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),zR=cn(HR),WR=He({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),KR=cn(WR),JR=He({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YR=cn(JR),XR=[9,13,27,32],yv=kr&&"CompositionEvent"in window,Fs=null;kr&&"documentMode"in document&&(Fs=document.documentMode);var QR=kr&&"TextEvent"in window&&!Fs,qk=kr&&(!yv||Fs&&8<Fs&&11>=Fs),Wx=" ",Kx=!1;function Vk(t,e){switch(t){case"keyup":return XR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function ZR(t,e){switch(t){case"compositionend":return Gk(e);case"keypress":return e.which!==32?null:(Kx=!0,Wx);case"textInput":return t=e.data,t===Wx&&Kx?null:t;default:return null}}function ej(t,e){if(Fo)return t==="compositionend"||!yv&&Vk(t,e)?(t=Bk(),_c=pv=Qr=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qk&&e.locale!=="ko"?null:e.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tj[t.type]:e==="textarea"}function Hk(t,e,n,r){_k(r),e=Fc(e,"onChange"),0<e.length&&(n=new mv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bs=null,sl=null;function nj(t){nA(t,0)}function If(t){var e=Vo(t);if(mk(e))return t}function rj(t,e){if(t==="change")return e}var zk=!1;if(kr){var np;if(kr){var rp="oninput"in document;if(!rp){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),rp=typeof Yx.oninput=="function"}np=rp}else np=!1;zk=np&&(!document.documentMode||9<document.documentMode)}function Xx(){Bs&&(Bs.detachEvent("onpropertychange",Wk),sl=Bs=null)}function Wk(t){if(t.propertyName==="value"&&If(sl)){var e=[];Hk(e,sl,t,uv(t)),kk(nj,e)}}function ij(t,e,n){t==="focusin"?(Xx(),Bs=e,sl=n,Bs.attachEvent("onpropertychange",Wk)):t==="focusout"&&Xx()}function oj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(sl)}function aj(t,e){if(t==="click")return If(e)}function sj(t,e){if(t==="input"||t==="change")return If(e)}function lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:lj;function ll(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lm.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function Qx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zx(t,e){var n=Qx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qx(n)}}function Kk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jk(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uj(t){var e=Jk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kk(n.ownerDocument.documentElement,n)){if(r!==null&&vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Zx(n,o);var a=Zx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cj=kr&&"documentMode"in document&&11>=document.documentMode,Bo=null,Am=null,qs=null,Cm=!1;function eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cm||Bo==null||Bo!==Rc(r)||(r=Bo,"selectionStart"in r&&vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qs&&ll(qs,r)||(qs=r,r=Fc(Am,"onSelect"),0<r.length&&(e=new mv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function Bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},ip={},Yk={};kr&&(Yk=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Of(t){if(ip[t])return ip[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yk)return ip[t]=e[n];return t}var Xk=Of("animationend"),Qk=Of("animationiteration"),Zk=Of("animationstart"),eA=Of("transitionend"),tA=new Map,tb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(t,e){tA.set(t,e),co(e,[t])}for(var op=0;op<tb.length;op++){var ap=tb[op],dj=ap.toLowerCase(),fj=ap[0].toUpperCase()+ap.slice(1);yi(dj,"on"+fj)}yi(Xk,"onAnimationEnd");yi(Qk,"onAnimationIteration");yi(Zk,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(eA,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function nb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dR(r,e,void 0,t),t.currentTarget=null}function nA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;nb(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;nb(i,s,u),o=l}}}if(Mc)throw t=Sm,Mc=!1,Sm=null,t}function Me(t,e){var n=e[Rm];n===void 0&&(n=e[Rm]=new Set);var r=t+"__bubble";n.has(r)||(rA(e,t,2,!1),n.add(r))}function sp(t,e,n){var r=0;e&&(r|=4),rA(n,t,r,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[qu]){t[qu]=!0,ck.forEach(function(n){n!=="selectionchange"&&(hj.has(n)||sp(n,!1,t),sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,sp("selectionchange",!1,e))}}function rA(t,e,n,r){switch(Fk(e)){case 1:var i=AR;break;case 4:i=CR;break;default:i=hv}n=i.bind(null,e,n,t),i=void 0,!_m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ui(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}kk(function(){var u=o,c=uv(n),f=[];e:{var h=tA.get(t);if(h!==void 0){var g=mv,y=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":g=VR;break;case"focusin":y="focus",g=tp;break;case"focusout":y="blur",g=tp;break;case"beforeblur":case"afterblur":g=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=IR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zR;break;case Xk:case Qk:case Zk:g=jR;break;case eA:g=KR;break;case"scroll":g=NR;break;case"wheel":g=YR;break;case"copy":case"cut":case"paste":g=$R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zx}var v=(e&4)!==0,b=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=rl(w,x),E!=null&&v.push(cl(w,E,_)))),b)break;w=w.return}0<v.length&&(h=new g(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==bm&&(y=n.relatedTarget||n.fromElement)&&(Ui(y)||y[Ar]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Ui(y):null,y!==null&&(b=fo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=Gx,E="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=zx,E="onPointerLeave",x="onPointerEnter",w="pointer"),b=g==null?h:Vo(g),_=y==null?h:Vo(y),h=new v(E,w+"leave",g,n,c),h.target=b,h.relatedTarget=_,E=null,Ui(c)===u&&(v=new v(x,w+"enter",y,n,c),v.target=_,v.relatedTarget=b,E=v),b=E,g&&y)t:{for(v=g,x=y,w=0,_=v;_;_=So(_))w++;for(_=0,E=x;E;E=So(E))_++;for(;0<w-_;)v=So(v),w--;for(;0<_-w;)x=So(x),_--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=So(v),x=So(x)}v=null}else v=null;g!==null&&rb(f,h,g,v,!1),y!==null&&b!==null&&rb(f,b,y,v,!0)}}e:{if(h=u?Vo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=rj;else if(Jx(h))if(zk)S=sj;else{S=oj;var T=ij}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=aj);if(S&&(S=S(t,u))){Hk(f,S,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&mm(h,"number",h.value)}switch(T=u?Vo(u):window,t){case"focusin":(Jx(T)||T.contentEditable==="true")&&(Bo=T,Am=u,qs=null);break;case"focusout":qs=Am=Bo=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,eb(f,n,c);break;case"selectionchange":if(cj)break;case"keydown":case"keyup":eb(f,n,c)}var k;if(yv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fo?Vk(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(qk&&n.locale!=="ko"&&(Fo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fo&&(k=Bk()):(Qr=c,pv="value"in Qr?Qr.value:Qr.textContent,Fo=!0)),T=Fc(u,C),0<T.length&&(C=new Hx(C,t,null,n,c),f.push({event:C,listeners:T}),k?C.data=k:(k=Gk(n),k!==null&&(C.data=k)))),(k=QR?ZR(t,n):ej(t,n))&&(u=Fc(u,"onBeforeInput"),0<u.length&&(c=new Hx("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=k))}nA(f,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rl(t,n),o!=null&&r.unshift(cl(t,o,i)),o=rl(t,e),o!=null&&r.push(cl(t,o,i))),t=t.return}return r}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rb(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=rl(n,o),l!=null&&a.unshift(cl(n,l,s))):i||(l=rl(n,o),l!=null&&a.push(cl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function ib(t){return(typeof t=="string"?t:""+t).replace(pj,`
`).replace(mj,"")}function Vu(t,e,n){if(e=ib(e),ib(t)!==e&&n)throw Error(K(425))}function Bc(){}var Nm=null,Pm=null;function Im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(vj)}:Om;function vj(t){setTimeout(function(){throw t})}function up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);al(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),er="__reactFiber$"+Wa,dl="__reactProps$"+Wa,Ar="__reactContainer$"+Wa,Rm="__reactEvents$"+Wa,xj="__reactListeners$"+Wa,bj="__reactHandles$"+Wa;function Ui(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[er])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[er]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Rf(t){return t[dl]||null}var jm=[],Go=-1;function vi(t){return{current:t}}function Le(t){0>Go||(t.current=jm[Go],jm[Go]=null,Go--)}function je(t,e){Go++,jm[Go]=t.current,t.current=e}var pi={},It=vi(pi),Vt=vi(!1),Zi=pi;function ga(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function qc(){Le(Vt),Le(It)}function sb(t,e,n){if(It.current!==pi)throw Error(K(168));je(It,e),je(Vt,n)}function iA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,iR(t)||"Unknown",i));return He({},n,r)}function Vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Zi=It.current,je(It,t),je(Vt,Vt.current),!0}function lb(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=iA(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,Le(Vt),Le(It),je(It,t)):Le(Vt),je(Vt,n)}var mr=null,jf=!1,cp=!1;function oA(t){mr===null?mr=[t]:mr.push(t)}function wj(t){jf=!0,oA(t)}function xi(){if(!cp&&mr!==null){cp=!0;var t=0,e=Te;try{var n=mr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mr=null,jf=!1}catch(i){throw mr!==null&&(mr=mr.slice(t+1)),Pk(cv,xi),i}finally{Te=e,cp=!1}}return null}var Ho=[],zo=0,Gc=null,Hc=0,mn=[],gn=0,eo=null,gr=1,yr="";function Pi(t,e){Ho[zo++]=Hc,Ho[zo++]=Gc,Gc=t,Hc=e}function aA(t,e,n){mn[gn++]=gr,mn[gn++]=yr,mn[gn++]=eo,eo=t;var r=gr;t=yr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var o=32-Gn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,gr=1<<32-Gn(e)+i|n<<i|r,yr=o+t}else gr=1<<o|n<<i|r,yr=t}function xv(t){t.return!==null&&(Pi(t,1),aA(t,1,0))}function bv(t){for(;t===Gc;)Gc=Ho[--zo],Ho[zo]=null,Hc=Ho[--zo],Ho[zo]=null;for(;t===eo;)eo=mn[--gn],mn[gn]=null,yr=mn[--gn],mn[gn]=null,gr=mn[--gn],mn[gn]=null}var an=null,rn=null,Fe=!1,Un=null;function sA(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ub(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,rn=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,rn=null,!0):!1;default:return!1}}function Mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $m(t){if(Fe){var e=rn;if(e){var n=e;if(!ub(t,e)){if(Mm(t))throw Error(K(418));e=ai(n.nextSibling);var r=an;e&&ub(t,e)?sA(r,n):(t.flags=t.flags&-4097|2,Fe=!1,an=t)}}else{if(Mm(t))throw Error(K(418));t.flags=t.flags&-4097|2,Fe=!1,an=t}}}function cb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Gu(t){if(t!==an)return!1;if(!Fe)return cb(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Im(t.type,t.memoizedProps)),e&&(e=rn)){if(Mm(t))throw lA(),Error(K(418));for(;e;)sA(t,e),e=ai(e.nextSibling)}if(cb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=an?ai(t.stateNode.nextSibling):null;return!0}function lA(){for(var t=rn;t;)t=ai(t.nextSibling)}function ya(){rn=an=null,Fe=!1}function wv(t){Un===null?Un=[t]:Un.push(t)}var _j=Mr.ReactCurrentBatchConfig;function gs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function db(t){var e=t._init;return e(t._payload)}function uA(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=ci(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,E){return w===null||w.tag!==6?(w=yp(_,x.mode,E),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,E){var S=_.type;return S===Uo?c(x,w,_.props.children,E,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&db(S)===w.type)?(E=i(w,_.props),E.ref=gs(x,w,_),E.return=x,E):(E=Pc(_.type,_.key,_.props,null,x.mode,E),E.ref=gs(x,w,_),E.return=x,E)}function u(x,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=vp(_,x.mode,E),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function c(x,w,_,E,S){return w===null||w.tag!==7?(w=Ki(_,x.mode,E,S),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yp(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ju:return _=Pc(w.type,w.key,w.props,null,x.mode,_),_.ref=gs(x,null,w),_.return=x,_;case Lo:return w=vp(w,x.mode,_),w.return=x,w;case Gr:var E=w._init;return f(x,E(w._payload),_)}if(Os(w)||ds(w))return w=Ki(w,x.mode,_,null),w.return=x,w;Hu(x,w)}return null}function h(x,w,_,E){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:return _.key===S?l(x,w,_,E):null;case Lo:return _.key===S?u(x,w,_,E):null;case Gr:return S=_._init,h(x,w,S(_._payload),E)}if(Os(_)||ds(_))return S!==null?null:c(x,w,_,E,null);Hu(x,_)}return null}function g(x,w,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,s(w,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ju:return x=x.get(E.key===null?_:E.key)||null,l(w,x,E,S);case Lo:return x=x.get(E.key===null?_:E.key)||null,u(w,x,E,S);case Gr:var T=E._init;return g(x,w,_,T(E._payload),S)}if(Os(E)||ds(E))return x=x.get(_)||null,c(w,x,E,S,null);Hu(w,E)}return null}function y(x,w,_,E){for(var S=null,T=null,k=w,C=w=0,N=null;k!==null&&C<_.length;C++){k.index>C?(N=k,k=null):N=k.sibling;var I=h(x,k,_[C],E);if(I===null){k===null&&(k=N);break}t&&k&&I.alternate===null&&e(x,k),w=o(I,w,C),T===null?S=I:T.sibling=I,T=I,k=N}if(C===_.length)return n(x,k),Fe&&Pi(x,C),S;if(k===null){for(;C<_.length;C++)k=f(x,_[C],E),k!==null&&(w=o(k,w,C),T===null?S=k:T.sibling=k,T=k);return Fe&&Pi(x,C),S}for(k=r(x,k);C<_.length;C++)N=g(k,x,C,_[C],E),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?C:N.key),w=o(N,w,C),T===null?S=N:T.sibling=N,T=N);return t&&k.forEach(function(O){return e(x,O)}),Fe&&Pi(x,C),S}function v(x,w,_,E){var S=ds(_);if(typeof S!="function")throw Error(K(150));if(_=S.call(_),_==null)throw Error(K(151));for(var T=S=null,k=w,C=w=0,N=null,I=_.next();k!==null&&!I.done;C++,I=_.next()){k.index>C?(N=k,k=null):N=k.sibling;var O=h(x,k,I.value,E);if(O===null){k===null&&(k=N);break}t&&k&&O.alternate===null&&e(x,k),w=o(O,w,C),T===null?S=O:T.sibling=O,T=O,k=N}if(I.done)return n(x,k),Fe&&Pi(x,C),S;if(k===null){for(;!I.done;C++,I=_.next())I=f(x,I.value,E),I!==null&&(w=o(I,w,C),T===null?S=I:T.sibling=I,T=I);return Fe&&Pi(x,C),S}for(k=r(x,k);!I.done;C++,I=_.next())I=g(k,x,C,I.value,E),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?C:I.key),w=o(I,w,C),T===null?S=I:T.sibling=I,T=I);return t&&k.forEach(function($){return e(x,$)}),Fe&&Pi(x,C),S}function b(x,w,_,E){if(typeof _=="object"&&_!==null&&_.type===Uo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:e:{for(var S=_.key,T=w;T!==null;){if(T.key===S){if(S=_.type,S===Uo){if(T.tag===7){n(x,T.sibling),w=i(T,_.props.children),w.return=x,x=w;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&db(S)===T.type){n(x,T.sibling),w=i(T,_.props),w.ref=gs(x,T,_),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===Uo?(w=Ki(_.props.children,x.mode,E,_.key),w.return=x,x=w):(E=Pc(_.type,_.key,_.props,null,x.mode,E),E.ref=gs(x,w,_),E.return=x,x=E)}return a(x);case Lo:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=vp(_,x.mode,E),w.return=x,x=w}return a(x);case Gr:return T=_._init,b(x,w,T(_._payload),E)}if(Os(_))return y(x,w,_,E);if(ds(_))return v(x,w,_,E);Hu(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=yp(_,x.mode,E),w.return=x,x=w),a(x)):n(x,w)}return b}var va=uA(!0),cA=uA(!1),zc=vi(null),Wc=null,Wo=null,_v=null;function Sv(){_v=Wo=Wc=null}function Ev(t){var e=zc.current;Le(zc),t._currentValue=e}function Dm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){Wc=t,_v=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(_v!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(Wc===null)throw Error(K(308));Wo=t,Wc.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Fi=null;function Tv(t){Fi===null?Fi=[t]:Fi.push(t)}function dA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}function fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kc(t,e,n,r){var i=t.updateQueue;Hr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,v=s;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=He({},f,h);break e;case 2:Hr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);no|=a,t.lanes=a,t.memoizedState=f}}function hb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var pu={},rr=vi(pu),fl=vi(pu),hl=vi(pu);function Bi(t){if(t===pu)throw Error(K(174));return t}function Av(t,e){switch(je(hl,e),je(fl,t),je(rr,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}Le(rr),je(rr,e)}function xa(){Le(rr),Le(fl),Le(hl)}function hA(t){Bi(hl.current);var e=Bi(rr.current),n=ym(e,t.type);e!==n&&(je(fl,t),je(rr,n))}function Cv(t){fl.current===t&&(Le(rr),Le(fl))}var Ve=vi(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function Nv(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Tc=Mr.ReactCurrentDispatcher,fp=Mr.ReactCurrentBatchConfig,to=0,Ge=null,lt=null,ht=null,Yc=!1,Vs=!1,pl=0,Sj=0;function Et(){throw Error(K(321))}function Pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Iv(t,e,n,r,i,o){if(to=o,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?Aj:Cj,t=n(r,i),Vs){o=0;do{if(Vs=!1,pl=0,25<=o)throw Error(K(301));o+=1,ht=lt=null,e.updateQueue=null,Tc.current=Nj,t=n(r,i)}while(Vs)}if(Tc.current=Xc,e=lt!==null&&lt.next!==null,to=0,ht=lt=Ge=null,Yc=!1,e)throw Error(K(300));return t}function Ov(){var t=pl!==0;return pl=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=t:ht=ht.next=t,ht}function Tn(){if(lt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ht===null?Ge.memoizedState:ht.next;if(e!==null)ht=e,lt=t;else{if(t===null)throw Error(K(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?Ge.memoizedState=ht=t:ht=ht.next=t}return ht}function ml(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=Tn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((to&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Ge.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Kn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ge.lanes|=o,no|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pp(t){var e=Tn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Kn(o,e.memoizedState)||(Ft=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pA(){}function mA(t,e){var n=Ge,r=Tn(),i=e(),o=!Kn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,Rv(vA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,gl(9,yA.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(K(349));to&30||gA(n,e,i)}return i}function gA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yA(t,e,n,r){e.value=n,e.getSnapshot=r,xA(e)&&bA(t)}function vA(t,e,n){return n(function(){xA(e)&&bA(t)})}function xA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function bA(t){var e=Cr(t,1);e!==null&&Hn(e,t,1,-1)}function pb(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=kj.bind(null,Ge,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wA(){return Tn().memoizedState}function kc(t,e,n,r){var i=Zn();Ge.flags|=t,i.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var i=Tn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,r!==null&&Pv(r,a.deps)){i.memoizedState=gl(e,n,o,r);return}}Ge.flags|=t,i.memoizedState=gl(1|e,n,o,r)}function mb(t,e){return kc(8390656,8,t,e)}function Rv(t,e){return Mf(2048,8,t,e)}function _A(t,e){return Mf(4,2,t,e)}function SA(t,e){return Mf(4,4,t,e)}function EA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TA(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,EA.bind(null,e,t),n)}function jv(){}function kA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CA(t,e,n){return to&21?(Kn(n,e)||(n=Rk(),Ge.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function Ej(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=fp.transition;fp.transition={};try{t(!1),e()}finally{Te=n,fp.transition=r}}function NA(){return Tn().memoizedState}function Tj(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PA(t))IA(e,n);else if(n=dA(t,e,n,r),n!==null){var i=Mt();Hn(n,t,r,i),OA(n,e,r)}}function kj(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PA(t))IA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,a)){var l=e.interleaved;l===null?(i.next=i,Tv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dA(t,e,i,r),n!==null&&(i=Mt(),Hn(n,t,r,i),OA(n,e,r))}}function PA(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function IA(t,e){Vs=Yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}var Xc={readContext:En,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Aj={readContext:En,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:mb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kc(4194308,4,EA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return kc(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tj.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:pb,useDebugValue:jv,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=pb(!1),e=t[0];return t=Ej.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=Zn();if(Fe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),pt===null)throw Error(K(349));to&30||gA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mb(vA.bind(null,r,o,t),[t]),r.flags|=2048,gl(9,yA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zn(),e=pt.identifierPrefix;if(Fe){var n=yr,r=gr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cj={readContext:En,useCallback:kA,useContext:En,useEffect:Rv,useImperativeHandle:TA,useInsertionEffect:_A,useLayoutEffect:SA,useMemo:AA,useReducer:hp,useRef:wA,useState:function(){return hp(ml)},useDebugValue:jv,useDeferredValue:function(t){var e=Tn();return CA(e,lt.memoizedState,t)},useTransition:function(){var t=hp(ml)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:pA,useSyncExternalStore:mA,useId:NA,unstable_isNewReconciler:!1},Nj={readContext:En,useCallback:kA,useContext:En,useEffect:Rv,useImperativeHandle:TA,useInsertionEffect:_A,useLayoutEffect:SA,useMemo:AA,useReducer:pp,useRef:wA,useState:function(){return pp(ml)},useDebugValue:jv,useDeferredValue:function(t){var e=Tn();return lt===null?e.memoizedState=t:CA(e,lt.memoizedState,t)},useTransition:function(){var t=pp(ml)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:pA,useSyncExternalStore:mA,useId:NA,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=ui(t),o=_r(r,i);o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(Hn(e,t,i,r),Ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=ui(t),o=_r(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(Hn(e,t,i,r),Ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=ui(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(Hn(e,t,r,n),Ec(e,t,r))}};function gb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(i,o):!0}function RA(t,e,n){var r=!1,i=pi,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Gt(e)?Zi:It.current,r=e.contextTypes,o=(r=r!=null)?ga(t,i):pi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function yb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function Um(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Gt(e)?Zi:It.current,i.context=ga(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),Kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ba(t,e){try{var n="",r=e;do n+=rR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function jA(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zc||(Zc=!0,Ym=r),Fm(t,e)},n}function MA(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fm(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function vb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Gj.bind(null,t,e,n),e.then(t,t))}function xb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var Ij=Mr.ReactCurrentOwner,Ft=!1;function Rt(t,e,n,r){e.child=t===null?cA(e,null,n,r):va(e,t.child,n,r)}function wb(t,e,n,r,i){n=n.render;var o=e.ref;return sa(e,i),r=Iv(t,e,n,r,o,i),n=Ov(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(Fe&&n&&xv(e),e.flags|=1,Rt(t,e,r,i),e.child)}function _b(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$A(t,e,o,r,i)):(t=Pc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(a,r)&&t.ref===e.ref)return Nr(t,e,i)}return e.flags|=1,t=ci(o,r),t.ref=e.ref,t.return=e,e.child=t}function $A(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ll(o,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,Nr(t,e,i)}return Bm(t,e,n,r,i)}function DA(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Jo,Xt),Xt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Jo,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(Jo,Xt),Xt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,je(Jo,Xt),Xt|=r;return Rt(t,e,i,n),e.child}function LA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bm(t,e,n,r,i){var o=Gt(n)?Zi:It.current;return o=ga(e,o),sa(e,i),n=Iv(t,e,n,r,o,i),r=Ov(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(Fe&&r&&xv(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Sb(t,e,n,r,i){if(Gt(n)){var o=!0;Vc(e)}else o=!1;if(sa(e,i),e.stateNode===null)Ac(t,e),RA(e,n,r),Um(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Gt(n)?Zi:It.current,u=ga(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&yb(e,a,r,u),Hr=!1;var h=e.memoizedState;a.state=h,Kc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Vt.current||Hr?(typeof c=="function"&&(Lm(e,n,c,r),l=e.memoizedState),(s=Hr||gb(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,fA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Rn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=Gt(n)?Zi:It.current,l=ga(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&yb(e,a,r,l),Hr=!1,h=e.memoizedState,a.state=h,Kc(e,r,a,i);var y=e.memoizedState;s!==f||h!==y||Vt.current||Hr?(typeof g=="function"&&(Lm(e,n,g,r),y=e.memoizedState),(u=Hr||gb(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qm(t,e,n,r,o,i)}function qm(t,e,n,r,i,o){LA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&lb(e,n,!1),Nr(t,e,o);r=e.stateNode,Ij.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=va(e,t.child,null,o),e.child=va(e,null,s,o)):Rt(t,e,s,o),e.memoizedState=r.state,i&&lb(e,n,!0),e.child}function UA(t){var e=t.stateNode;e.pendingContext?sb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sb(t,e.context,!1),Av(t,e.containerInfo)}function Eb(t,e,n,r,i){return ya(),wv(i),e.flags|=256,Rt(t,e,n,r),e.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function FA(t,e,n){var r=e.pendingProps,i=Ve.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ve,i&1),t===null)return $m(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Uf(a,r,0,null),t=Ki(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gm(n),e.memoizedState=Vm,t):Mv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Oj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ci(s,o):(o=Ki(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Gm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Vm,r}return o=t.child,t=o.sibling,r=ci(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mv(t,e){return e=Uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zu(t,e,n,r){return r!==null&&wv(r),va(e,t.child,null,n),t=Mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Oj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(K(422))),zu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Uf({mode:"visible",children:r.children},i,0,null),o=Ki(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&va(e,t.child,null,a),e.child.memoizedState=Gm(a),e.memoizedState=Vm,o);if(!(e.mode&1))return zu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(K(419)),r=mp(o,r,void 0),zu(t,e,a,r)}if(s=(a&t.childLanes)!==0,Ft||s){if(r=pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Cr(t,i),Hn(r,t,i,-1))}return Bv(),r=mp(Error(K(421))),zu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Hj.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rn=ai(i.nextSibling),an=e,Fe=!0,Un=null,t!==null&&(mn[gn++]=gr,mn[gn++]=yr,mn[gn++]=eo,gr=t.id,yr=t.overflow,eo=e),e=Mv(e,r.children),e.flags|=4096,e)}function Tb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dm(t.return,e,n)}function gp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function BA(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tb(t,n,e);else if(t.tag===19)Tb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,o);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rj(t,e,n){switch(e.tag){case 3:UA(e),ya();break;case 5:hA(e);break;case 1:Gt(e.type)&&Vc(e);break;case 4:Av(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?FA(t,e,n):(je(Ve,Ve.current&1),t=Nr(t,e,n),t!==null?t.sibling:null);je(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,DA(t,e,n)}return Nr(t,e,n)}var qA,Hm,VA,GA;qA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};VA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(rr.current);var o=null;switch(n){case"input":i=hm(t,i),r=hm(t,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=gm(t,i),r=gm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}vm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};GA=function(t,e,n,r){n!==r&&(e.flags|=4)};function ys(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jj(t,e,n){var r=e.pendingProps;switch(bv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Gt(e.type)&&qc(),Tt(e),null;case 3:return r=e.stateNode,xa(),Le(Vt),Le(It),Nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Zm(Un),Un=null))),Hm(t,e),Tt(e),null;case 5:Cv(e);var i=Bi(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)VA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Tt(e),null}if(t=Bi(rr.current),Gu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[er]=e,r[dl]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<js.length;i++)Me(js[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":jx(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":$x(r,o),Me("invalid",r)}vm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Vu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Vu(r.textContent,s,t),i=["children",""+s]):tl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Me("scroll",r)}switch(n){case"input":Mu(r),Mx(r,o,!0);break;case"textarea":Mu(r),Dx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[er]=e,t[dl]=r,qA(t,e,!1,!1),e.stateNode=t;e:{switch(a=xm(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<js.length;i++)Me(js[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":jx(t,r),i=hm(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Me("invalid",t);break;case"textarea":$x(t,r),i=gm(t,r),Me("invalid",t);break;default:i=r}vm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?wk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nl(t,l):typeof l=="number"&&nl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Me("scroll",t):l!=null&&ov(t,o,l,a))}switch(n){case"input":Mu(t),Mx(t,r,!1);break;case"textarea":Mu(t),Dx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ra(t,!!r.multiple,o,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)GA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Bi(hl.current),Bi(rr.current),Gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(o=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Tt(e),null;case 13:if(Le(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&rn!==null&&e.mode&1&&!(e.flags&128))lA(),ya(),e.flags|=98560,o=!1;else if(o=Gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[er]=e}else ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else Un!==null&&(Zm(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ut===0&&(ut=3):Bv())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return xa(),Hm(t,e),t===null&&ul(e.stateNode.containerInfo),Tt(e),null;case 10:return Ev(e.type._context),Tt(e),null;case 17:return Gt(e.type)&&qc(),Tt(e),null;case 19:if(Le(Ve),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ys(o,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jc(t),a!==null){for(e.flags|=128,ys(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>wa&&(e.flags|=128,r=!0,ys(o,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Fe)return Tt(e),null}else 2*Xe()-o.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,r=!0,ys(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=Ve.current,je(Ve,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return Fv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function Mj(t,e){switch(bv(e),e.tag){case 1:return Gt(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Le(Vt),Le(It),Nv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cv(e),null;case 13:if(Le(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ve),null;case 4:return xa(),null;case 10:return Ev(e.type._context),null;case 22:case 23:return Fv(),null;case 24:return null;default:return null}}var Wu=!1,At=!1,$j=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){We(t,e,r)}}var kb=!1;function Dj(t,e){if(Nm=Lc,t=Jk(),vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:t,selectionRange:n},Lc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Rn(e.type,v),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(E){We(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return y=kb,kb=!1,y}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&zm(e,n,o)}i=i.next}while(i!==r)}}function Df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HA(t){var e=t.alternate;e!==null&&(t.alternate=null,HA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[dl],delete e[Rm],delete e[xj],delete e[bj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zA(t){return t.tag===5||t.tag===3||t.tag===4}function Ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}var bt=null,Mn=!1;function Vr(t,e,n){for(n=n.child;n!==null;)WA(t,e,n),n=n.sibling}function WA(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Nf,n)}catch{}switch(n.tag){case 5:At||Ko(n,e);case 6:var r=bt,i=Mn;bt=null,Vr(t,e,n),bt=r,Mn=i,bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?up(t.parentNode,n):t.nodeType===1&&up(t,n),al(t)):up(bt,n.stateNode));break;case 4:r=bt,i=Mn,bt=n.stateNode.containerInfo,Mn=!0,Vr(t,e,n),bt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&zm(n,e,a),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!At&&(Ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){We(n,e,s)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Vr(t,e,n),At=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function Cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $j),e.forEach(function(r){var i=zj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:bt=s.stateNode,Mn=!1;break e;case 3:bt=s.stateNode.containerInfo,Mn=!0;break e;case 4:bt=s.stateNode.containerInfo,Mn=!0;break e}s=s.return}if(bt===null)throw Error(K(160));WA(o,a,i),bt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KA(e,t),e=e.sibling}function KA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Qn(t),r&4){try{Gs(3,t,t.return),Df(3,t)}catch(v){We(t,t.return,v)}try{Gs(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:Pn(e,t),Qn(t),r&512&&n!==null&&Ko(n,n.return);break;case 5:if(Pn(e,t),Qn(t),r&512&&n!==null&&Ko(n,n.return),t.flags&32){var i=t.stateNode;try{nl(i,"")}catch(v){We(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&gk(i,o),xm(s,a);var u=xm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?wk(i,f):c==="dangerouslySetInnerHTML"?xk(i,f):c==="children"?nl(i,f):ov(i,c,f,u)}switch(s){case"input":pm(i,o);break;case"textarea":yk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ra(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ra(i,!!o.multiple,o.defaultValue,!0):ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[dl]=o}catch(v){We(t,t.return,v)}}break;case 6:if(Pn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){We(t,t.return,v)}}break;case 3:if(Pn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:Pn(e,t),Qn(t);break;case 13:Pn(e,t),Qn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lv=Xe())),r&4&&Cb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||c,Pn(e,t),At=u):Pn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(f=te=c;te!==null;){switch(h=te,g=h.child,h.tag){case 0:case 11:case 14:case 15:Gs(4,h,h.return);break;case 1:Ko(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:Ko(h,h.return);break;case 22:if(h.memoizedState!==null){Pb(f);continue}}g!==null?(g.return=h,te=g):Pb(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=bk("display",a))}catch(v){We(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){We(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(e,t),Qn(t),r&4&&Cb(t);break;case 21:break;default:Pn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zA(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var o=Ab(t);Jm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Ab(t);Km(t,s,a);break;default:throw Error(K(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lj(t,e,n){te=t,JA(t)}function JA(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Wu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||At;s=Wu;var u=At;if(Wu=a,(At=l)&&!u)for(te=i;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?Ib(i):l!==null?(l.return=a,te=l):Ib(i);for(;o!==null;)te=o,JA(o),o=o.sibling;te=i,Wu=s,At=u}Nb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):Nb(t)}}function Nb(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hb(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hb(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}At||e.flags&512&&Wm(e)}catch(h){We(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Pb(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Ib(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Df(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var o=e.return;try{Wm(e)}catch(l){We(e,o,l)}break;case 5:var a=e.return;try{Wm(e)}catch(l){We(e,a,l)}}}catch(l){We(e,e.return,l)}if(e===t){te=null;break}var s=e.sibling;if(s!==null){s.return=e.return,te=s;break}te=e.return}}var Uj=Math.ceil,Qc=Mr.ReactCurrentDispatcher,$v=Mr.ReactCurrentOwner,xn=Mr.ReactCurrentBatchConfig,be=0,pt=null,nt=null,_t=0,Xt=0,Jo=vi(0),ut=0,yl=null,no=0,Lf=0,Dv=0,Hs=null,Ut=null,Lv=0,wa=1/0,hr=null,Zc=!1,Ym=null,li=null,Ku=!1,Zr=null,ed=0,zs=0,Xm=null,Cc=-1,Nc=0;function Mt(){return be&6?Xe():Cc!==-1?Cc:Cc=Xe()}function ui(t){return t.mode&1?be&2&&_t!==0?_t&-_t:_j.transition!==null?(Nc===0&&(Nc=Rk()),Nc):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Fk(t.type)),t):1}function Hn(t,e,n,r){if(50<zs)throw zs=0,Xm=null,Error(K(185));du(t,n,r),(!(be&2)||t!==pt)&&(t===pt&&(!(be&2)&&(Lf|=n),ut===4&&Jr(t,_t)),Ht(t,r),n===1&&be===0&&!(e.mode&1)&&(wa=Xe()+500,jf&&xi()))}function Ht(t,e){var n=t.callbackNode;_R(t,e);var r=Dc(t,t===pt?_t:0);if(r===0)n!==null&&Fx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fx(n),e===1)t.tag===0?wj(Ob.bind(null,t)):oA(Ob.bind(null,t)),yj(function(){!(be&6)&&xi()}),n=null;else{switch(jk(r)){case 1:n=cv;break;case 4:n=Ik;break;case 16:n=$c;break;case 536870912:n=Ok;break;default:n=$c}n=rC(n,YA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YA(t,e){if(Cc=-1,Nc=0,be&6)throw Error(K(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=Dc(t,t===pt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=td(t,r);else{e=r;var i=be;be|=2;var o=QA();(pt!==t||_t!==e)&&(hr=null,wa=Xe()+500,Wi(t,e));do try{qj();break}catch(s){XA(t,s)}while(!0);Sv(),Qc.current=o,be=i,nt!==null?e=0:(pt=null,_t=0,e=ut)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Qm(t,i))),e===1)throw n=yl,Wi(t,0),Jr(t,r),Ht(t,Xe()),n;if(e===6)Jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Fj(i)&&(e=td(t,r),e===2&&(o=Em(t),o!==0&&(r=o,e=Qm(t,o))),e===1))throw n=yl,Wi(t,0),Jr(t,r),Ht(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ii(t,Ut,hr);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=Lv+500-Xe(),10<e)){if(Dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Om(Ii.bind(null,t,Ut,hr),e);break}Ii(t,Ut,hr);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Gn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uj(r/1960))-r,10<r){t.timeoutHandle=Om(Ii.bind(null,t,Ut,hr),r);break}Ii(t,Ut,hr);break;case 5:Ii(t,Ut,hr);break;default:throw Error(K(329))}}}return Ht(t,Xe()),t.callbackNode===n?YA.bind(null,t):null}function Qm(t,e){var n=Hs;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=td(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Zm(e)),t}function Zm(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function Fj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Dv,e&=~Lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function Ob(t){if(be&6)throw Error(K(327));la();var e=Dc(t,0);if(!(e&1))return Ht(t,Xe()),null;var n=td(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Qm(t,r))}if(n===1)throw n=yl,Wi(t,0),Jr(t,e),Ht(t,Xe()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Ut,hr),Ht(t,Xe()),null}function Uv(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(wa=Xe()+500,jf&&xi())}}function ro(t){Zr!==null&&Zr.tag===0&&!(be&6)&&la();var e=be;be|=1;var n=xn.transition,r=Te;try{if(xn.transition=null,Te=1,t)return t()}finally{Te=r,xn.transition=n,be=e,!(be&6)&&xi()}}function Fv(){Xt=Jo.current,Le(Jo)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gj(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:xa(),Le(Vt),Le(It),Nv();break;case 5:Cv(r);break;case 4:xa();break;case 13:Le(Ve);break;case 19:Le(Ve);break;case 10:Ev(r.type._context);break;case 22:case 23:Fv()}n=n.return}if(pt=t,nt=t=ci(t.current,null),_t=Xt=e,ut=0,yl=null,Dv=Lf=no=0,Ut=Hs=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Fi=null}return t}function XA(t,e){do{var n=nt;try{if(Sv(),Tc.current=Xc,Yc){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yc=!1}if(to=0,ht=lt=Ge=null,Vs=!1,pl=0,$v.current=null,n===null||n.return===null){ut=1,yl=e,nt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=_t,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=xb(a);if(g!==null){g.flags&=-257,bb(g,a,s,o,e),g.mode&1&&vb(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){vb(o,u,e),Bv();break e}l=Error(K(426))}}else if(Fe&&s.mode&1){var b=xb(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bb(b,a,s,o,e),wv(ba(l,s));break e}}o=l=ba(l,s),ut!==4&&(ut=2),Hs===null?Hs=[o]:Hs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=jA(o,l,e);fb(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(li===null||!li.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=MA(o,s,e);fb(o,E);break e}}o=o.return}while(o!==null)}eC(n)}catch(S){e=S,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function QA(){var t=Qc.current;return Qc.current=Xc,t===null?Xc:t}function Bv(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(no&268435455)&&!(Lf&268435455)||Jr(pt,_t)}function td(t,e){var n=be;be|=2;var r=QA();(pt!==t||_t!==e)&&(hr=null,Wi(t,e));do try{Bj();break}catch(i){XA(t,i)}while(!0);if(Sv(),be=n,Qc.current=r,nt!==null)throw Error(K(261));return pt=null,_t=0,ut}function Bj(){for(;nt!==null;)ZA(nt)}function qj(){for(;nt!==null&&!hR();)ZA(nt)}function ZA(t){var e=nC(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?eC(t):nt=e,$v.current=null}function eC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mj(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,nt=null;return}}else if(n=jj(n,e,Xt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ut===0&&(ut=5)}function Ii(t,e,n){var r=Te,i=xn.transition;try{xn.transition=null,Te=1,Vj(t,e,n,r)}finally{xn.transition=i,Te=r}return null}function Vj(t,e,n,r){do la();while(Zr!==null);if(be&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(SR(t,o),t===pt&&(nt=pt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,rC($c,function(){return la(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var a=Te;Te=1;var s=be;be|=4,$v.current=null,Dj(t,n),KA(n,t),uj(Pm),Lc=!!Nm,Pm=Nm=null,t.current=n,Lj(n),pR(),be=s,Te=a,xn.transition=o}else t.current=n;if(Ku&&(Ku=!1,Zr=t,ed=i),o=t.pendingLanes,o===0&&(li=null),yR(n.stateNode),Ht(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zc)throw Zc=!1,t=Ym,Ym=null,t;return ed&1&&t.tag!==0&&la(),o=t.pendingLanes,o&1?t===Xm?zs++:(zs=0,Xm=t):zs=0,xi(),null}function la(){if(Zr!==null){var t=jk(ed),e=xn.transition,n=Te;try{if(xn.transition=null,Te=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,ed=0,be&6)throw Error(K(331));var i=be;for(be|=4,te=t.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Gs(8,c,o)}var f=c.child;if(f!==null)f.return=c,te=f;else for(;te!==null;){c=te;var h=c.sibling,g=c.return;if(HA(c),c===u){te=null;break}if(h!==null){h.return=g,te=h;break}te=g}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gs(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,te=x;break e}te=o.return}}var w=t.current;for(te=w;te!==null;){a=te;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,te=_;else e:for(a=w;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Df(9,s)}}catch(S){We(s,s.return,S)}if(s===a){te=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,te=E;break e}te=s.return}}if(be=i,xi(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Nf,t)}catch{}r=!0}return r}finally{Te=n,xn.transition=e}}return!1}function Rb(t,e,n){e=ba(n,e),e=jA(t,e,1),t=si(t,e,1),e=Mt(),t!==null&&(du(t,1,e),Ht(t,e))}function We(t,e,n){if(t.tag===3)Rb(t,t,n);else for(;e!==null;){if(e.tag===3){Rb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=ba(n,t),t=MA(e,t,1),e=si(e,t,1),t=Mt(),e!==null&&(du(e,1,t),Ht(e,t));break}}e=e.return}}function Gj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(_t&n)===n&&(ut===4||ut===3&&(_t&130023424)===_t&&500>Xe()-Lv?Wi(t,0):Dv|=n),Ht(t,e)}function tC(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=Mt();t=Cr(t,e),t!==null&&(du(t,e,n),Ht(t,n))}function Hj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tC(t,n)}function zj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),tC(t,n)}var nC;nC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,Rj(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Fe&&e.flags&1048576&&aA(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ac(t,e),t=e.pendingProps;var i=ga(e,It.current);sa(e,n),i=Iv(null,e,r,t,i,n);var o=Ov();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(o=!0,Vc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kv(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,Um(e,r,t,n),e=qm(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&xv(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kj(r),t=Rn(r,t),i){case 0:e=Bm(null,e,r,t,n);break e;case 1:e=Sb(null,e,r,t,n);break e;case 11:e=wb(null,e,r,t,n);break e;case 14:e=_b(null,e,r,Rn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Bm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Sb(t,e,r,i,n);case 3:e:{if(UA(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,fA(t,e),Kc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ba(Error(K(423)),e),e=Eb(t,e,r,n,i);break e}else if(r!==i){i=ba(Error(K(424)),e),e=Eb(t,e,r,n,i);break e}else for(rn=ai(e.stateNode.containerInfo.firstChild),an=e,Fe=!0,Un=null,n=cA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),r===i){e=Nr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return hA(e),t===null&&$m(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Im(r,i)?a=null:o!==null&&Im(r,o)&&(e.flags|=32),LA(t,e),Rt(t,e,a,n),e.child;case 6:return t===null&&$m(e),null;case 13:return FA(t,e,n);case 4:return Av(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=va(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),wb(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,je(zc,r._currentValue),r._currentValue=a,o!==null)if(Kn(o.value,a)){if(o.children===i.children&&!Vt.current){e=Nr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_r(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Dm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sa(e,n),i=En(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),_b(t,e,r,i,n);case 15:return $A(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Ac(t,e),e.tag=1,Gt(r)?(t=!0,Vc(e)):t=!1,sa(e,n),RA(e,r,i),Um(e,r,i,n),qm(null,e,r,!0,t,n);case 19:return BA(t,e,n);case 22:return DA(t,e,n)}throw Error(K(156,e.tag))};function rC(t,e){return Pk(t,e)}function Wj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new Wj(t,e,n,r)}function qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kj(t){if(typeof t=="function")return qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sv)return 11;if(t===lv)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")qv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Uo:return Ki(n.children,i,o,e);case av:a=8,i|=8;break;case um:return t=yn(12,n,e,i|2),t.elementType=um,t.lanes=o,t;case cm:return t=yn(13,n,e,i),t.elementType=cm,t.lanes=o,t;case dm:return t=yn(19,n,e,i),t.elementType=dm,t.lanes=o,t;case hk:return Uf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dk:a=10;break e;case fk:a=9;break e;case sv:a=11;break e;case lv:a=14;break e;case Gr:a=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=yn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ki(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Uf(t,e,n,r){return t=yn(22,t,r,e),t.elementType=hk,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vv(t,e,n,r,i,o,a,s,l){return t=new Jj(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(o),t}function Yj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iC(t){if(!t)return pi;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Gt(n))return iA(t,n,e)}return e}function oC(t,e,n,r,i,o,a,s,l){return t=Vv(n,r,!0,t,i,o,a,s,l),t.context=iC(null),n=t.current,r=Mt(),i=ui(n),o=_r(r,i),o.callback=e??null,si(n,o,i),t.current.lanes=i,du(t,i,r),Ht(t,r),t}function Ff(t,e,n,r){var i=e.current,o=Mt(),a=ui(i);return n=iC(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,a),t!==null&&(Hn(t,i,a,o),Ec(t,i,a)),a}function nd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){jb(t,e),(t=t.alternate)&&jb(t,e)}function Xj(){return null}var aC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hv(t){this._internalRoot=t}Bf.prototype.render=Hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Ff(t,e,null,null)};Bf.prototype.unmount=Hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Ff(null,t,null,null)}),e[Ar]=null}};function Bf(t){this._internalRoot=t}Bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kr.length&&e!==0&&e<Kr[n].priority;n++);Kr.splice(n,0,t),n===0&&Uk(t)}};function zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function Qj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=nd(a);o.call(u)}}var a=oC(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=a,t[Ar]=a.current,ul(t.nodeType===8?t.parentNode:t),ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=nd(l);s.call(u)}}var l=Vv(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=l,t[Ar]=l.current,ul(t.nodeType===8?t.parentNode:t),ro(function(){Ff(e,l,n,r)}),l}function Vf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=nd(a);s.call(l)}}Ff(e,a,t,i)}else a=Qj(n,e,t,i,r);return nd(a)}Mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rs(e.pendingLanes);n!==0&&(dv(e,n|1),Ht(e,Xe()),!(be&6)&&(wa=Xe()+500,xi()))}break;case 13:ro(function(){var r=Cr(t,1);if(r!==null){var i=Mt();Hn(r,t,1,i)}}),Gv(t,1)}};fv=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Mt();Hn(e,t,134217728,n)}Gv(t,134217728)}};$k=function(t){if(t.tag===13){var e=ui(t),n=Cr(t,e);if(n!==null){var r=Mt();Hn(n,t,e,r)}Gv(t,e)}};Dk=function(){return Te};Lk=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};wm=function(t,e,n){switch(e){case"input":if(pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rf(r);if(!i)throw Error(K(90));mk(r),pm(r,i)}}}break;case"textarea":yk(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};Ek=Uv;Tk=ro;var Zj={usingClientEntryPoint:!1,Events:[hu,Vo,Rf,_k,Sk,Uv]},vs={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eM={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ck(t),t===null?null:t.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||Xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Nf=Ju.inject(eM),nr=Ju}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zj;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(e))throw Error(K(200));return Yj(t,e,null,n)};un.createRoot=function(t,e){if(!zv(t))throw Error(K(299));var n=!1,r="",i=aC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vv(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,ul(t.nodeType===8?t.parentNode:t),new Hv(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Ck(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return ro(t)};un.hydrate=function(t,e,n){if(!qf(e))throw Error(K(200));return Vf(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!zv(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=aC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=oC(e,null,t,1,n??null,i,!1,o,a),t[Ar]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bf(e)};un.render=function(t,e,n){if(!qf(e))throw Error(K(200));return Vf(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!qf(t))throw Error(K(40));return t._reactRootContainer?(ro(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};un.unstable_batchedUpdates=Uv;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Vf(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function sC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sC)}catch(t){console.error(t)}}sC(),sk.exports=un;var tM=sk.exports,$b=tM;sm.createRoot=$b.createRoot,sm.hydrateRoot=$b.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}var ei;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ei||(ei={}));const Db="popstate";function nM(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=ho(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),eg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:lC(o))}function r(i,o){Gf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return iM(e,n,r,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rM(){return Math.random().toString(36).substr(2,8)}function Lb(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n,r){return n===void 0&&(n=null),vl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||rM()})}function lC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=ei.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(vl({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=ei.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:s,location:v.location,delta:x})}function h(b,x){s=ei.Push;let w=eg(v.location,b,x);n&&n(w,b),u=c()+1;let _=Lb(w,u),E=v.createHref(w);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:s,location:v.location,delta:1})}function g(b,x){s=ei.Replace;let w=eg(v.location,b,x);n&&n(w,b),u=c();let _=Lb(w,u),E=v.createHref(w);a.replaceState(_,"",E),o&&l&&l({action:s,location:v.location,delta:0})}function y(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:lC(b);return w=w.replace(/ $/,"%20"),rt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Db,f),l=b,()=>{i.removeEventListener(Db,f),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(b){return a.go(b)}};return v}var Ub;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ub||(Ub={}));function oM(t,e,n){return n===void 0&&(n="/"),aM(t,e,n)}function aM(t,e,n,r){let i=typeof e=="string"?ho(e):e,o=dC(i.pathname||"/",n);if(o==null)return null;let a=uC(t);sM(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=xM(o);s=gM(a[l],u)}return s}function uC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ji([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uC(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:pM(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of cC(o.path))i(o,a,l)}),e}function cC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=cC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function sM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lM=/^:[\w-]+$/,uM=3,cM=2,dM=1,fM=10,hM=-2,Fb=t=>t==="*";function pM(t,e){let n=t.split("/"),r=n.length;return n.some(Fb)&&(r+=hM),e&&(r+=cM),n.filter(i=>!Fb(i)).reduce((i,o)=>i+(lM.test(o)?uM:o===""?dM:fM),r)}function mM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gM(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=yM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Ji([o,f.pathname]),pathnameBase:EM(Ji([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ji([o,f.pathnameBase]))}return a}function yM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let v=s[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=s[f];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function vM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const bM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wM=t=>bM.test(t);function _M(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ho(t):t,o;if(n)if(wM(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Gf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Bb(n.substring(1),"/"):o=Bb(n,e)}else o=e;return{pathname:o,search:TM(r),hash:kM(i)}}function Bb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fC(t,e){let n=SM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ho(t):(i=vl({},t),rt(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=_M(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),EM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pC=["post","put","patch","delete"];new Set(pC);const CM=["get",...pC];new Set(CM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}const Wv=A.createContext(null),NM=A.createContext(null),mu=A.createContext(null),Hf=A.createContext(null),po=A.createContext({outlet:null,matches:[],isDataRoute:!1}),mC=A.createContext(null);function gu(){return A.useContext(Hf)!=null}function yu(){return gu()||rt(!1),A.useContext(Hf).location}function gC(t){A.useContext(mu).static||A.useLayoutEffect(t)}function mo(){let{isDataRoute:t}=A.useContext(po);return t?qM():PM()}function PM(){gu()||rt(!1);let t=A.useContext(Wv),{basename:e,future:n,navigator:r}=A.useContext(mu),{matches:i}=A.useContext(po),{pathname:o}=yu(),a=JSON.stringify(fC(i,n.v7_relativeSplatPath)),s=A.useRef(!1);return gC(()=>{s.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=hC(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ji([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function IM(t,e){return OM(t,e)}function OM(t,e,n,r){gu()||rt(!1);let{navigator:i}=A.useContext(mu),{matches:o}=A.useContext(po),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=yu(),c;if(e){var f;let b=typeof e=="string"?ho(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||rt(!1),c=b}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=oM(t,{pathname:g}),v=DM(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Ji([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ji([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&v?A.createElement(Hf.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ei.Pop}},v):v}function RM(){let t=BM(),e=AM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const jM=A.createElement(RM,null);class MM extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(po.Provider,{value:this.props.routeContext},A.createElement(mC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $M(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Wv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(po.Provider,{value:e},r)}function DM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||rt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:g}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let g,y=!1,v=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||jM,l&&(u<0&&h===0?(VM("route-fallback"),y=!0,b=null):u===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return g?_=v:y?_=b:f.route.Component?_=A.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,A.createElement($M,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(MM,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var yC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yC||{}),vC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vC||{});function LM(t){let e=A.useContext(Wv);return e||rt(!1),e}function UM(t){let e=A.useContext(NM);return e||rt(!1),e}function FM(t){let e=A.useContext(po);return e||rt(!1),e}function xC(t){let e=FM(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function BM(){var t;let e=A.useContext(mC),n=UM(),r=xC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qM(){let{router:t}=LM(yC.UseNavigateStable),e=xC(vC.UseNavigateStable),n=A.useRef(!1);return gC(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xl({fromRouteId:e},o)))},[t,e])}const qb={};function VM(t,e,n){qb[t]||(qb[t]=!0)}function GM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ze(t){let{to:e,replace:n,state:r,relative:i}=t;gu()||rt(!1);let{future:o,static:a}=A.useContext(mu),{matches:s}=A.useContext(po),{pathname:l}=yu(),u=mo(),c=hC(e,fC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return A.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ye(t){rt(!1)}function HM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ei.Pop,navigator:o,static:a=!1,future:s}=t;gu()&&rt(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:o,static:a,future:xl({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=ho(r));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:y="default"}=r,v=A.useMemo(()=>{let b=dC(c,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:y},navigationType:i}},[l,c,f,h,g,y,i]);return v==null?null:A.createElement(mu.Provider,{value:u},A.createElement(Hf.Provider,{children:n,value:v}))}function zM(t){let{children:e,location:n}=t;return IM(tg(e),n)}new Promise(()=>{});function tg(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,tg(r.props.children,o));return}r.type!==Ye&&rt(!1),!r.props.index||!r.props.children||rt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=tg(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const WM="6";try{window.__reactRouterVersion=WM}catch{}const KM="startTransition",Vb=GO[KM];function JM(t){let{basename:e,children:n,future:r,window:i}=t,o=A.useRef();o.current==null&&(o.current=nM({window:i,v5Compat:!0}));let a=o.current,[s,l]=A.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=A.useCallback(f=>{u&&Vb?Vb(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>a.listen(c),[a,c]),A.useEffect(()=>GM(r),[r]),A.createElement(HM,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var Gb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gb||(Gb={}));var Hb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hb||(Hb={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>A.createElement("svg",{ref:c,...YM,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${XM(t)}`,s].join(" "),...u},[...e.map(([f,h])=>A.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=X("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=X("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=X("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=X("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=X("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=X("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=X("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=X("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=X("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=X("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=X("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=X("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=X("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=X("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=X("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=X("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=X("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=X("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=X("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=X("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=X("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=X("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=X("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=X("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=X("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=X("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=X("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=X("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=X("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=X("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=X("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=X("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I$="2.4.0",Xb=[{id:"dashboard",title:"",icon:ZM,path:"/"},{id:"shiftreport",title:" ",icon:AC,path:"/shift-report"},{id:"reports",title:"",icon:RC,path:"/reports"},{id:"inbox",title:" ",icon:ld,path:"/inbox"},{id:"messages",title:"",icon:IC,path:"/messages"},{id:"workorders",title:" ",icon:md,path:"/work-orders"},{id:"projects",title:"",icon:id,path:"/projects"},{id:"performance",title:" ",icon:Kv,path:"/performance"},{id:"partrequest",title:" ",icon:cd,path:"/part-requests"},{id:"inspections",title:" ",icon:kC,path:"/inspections"},{id:"documents",title:" ",icon:rd,path:"/documents"},{id:"meetings",title:"",icon:sd,path:"/meetings"},{id:"suggestions",title:" ",icon:ud,path:"/suggestions"},{id:"purchases",title:" ",icon:hd,path:"/purchases"},{id:"workflow",title:" ",icon:CC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:vu,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:Zv,path:"/settings"}],O$=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],R$=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],j$=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var h;const[o,a]=A.useState(!1),s=mo(),l=yu();if(l.pathname==="/login")return d.jsx(d.Fragment,{children:t});const c=()=>{s(-1)},f=l.pathname==="/";return d.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),d.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:w-64 md:flex-shrink-0
      `,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400",children:""}),d.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:d.jsx(dn,{className:"w-6 h-6"})})]}),d.jsxs("div",{onClick:()=>{s("/settings"),a(!1)},className:"p-4 bg-gray-50 dark:bg-gray-700 flex items-center gap-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group relative",title:" ",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all",children:e!=null&&e.avatar?d.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):d.jsx(e0,{})}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:e==null?void 0:e.role})]}),d.jsx("div",{className:"absolute left-2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:Xb.map(g=>{if(g.id==="settings"||g.role&&(e==null?void 0:e.role)!==g.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const y=l.pathname===g.path;return d.jsxs("button",{onClick:()=>{s(g.path),a(!1)},className:`w-full flex items-center gap-3 px-6 py-3 text-right transition-colors
                    ${y?"bg-primary/10 text-primary dark:text-red-400 border-r-4 border-primary":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[d.jsx(g.icon,{className:"w-5 h-5"}),d.jsx("span",{children:g.title})]},g.id)})}),d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg mb-2",children:[r?d.jsx(T$,{className:"w-5 h-5"}):d.jsx(p$,{className:"w-5 h-5"}),d.jsx("span",{children:r?" ":" "})]}),d.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[d.jsx(PC,{className:"w-5 h-5"}),d.jsx("span",{children:""})]})]})]})}),d.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900",children:[d.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2",children:d.jsx(h$,{className:"w-6 h-6"})}),!f&&d.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:d.jsx(Wf,{className:"w-6 h-6"})}),d.jsx("h1",{className:"text-lg font-semibold",children:((h=Xb.find(g=>g.path===l.pathname))==null?void 0:h.title)||(l.pathname==="/settings"?"":"")})]}),d.jsx("div",{className:"flex items-center gap-2"})]}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6",children:t})]})]})};var Bt=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(Bt||{});const M$={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},$$=({className:t})=>{const e=()=>{try{return`${M$&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return d.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})};function Kf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function D$(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const L$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class t0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class U$ extends t0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qb extends t0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zb extends t0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rg||(rg={}));class F${constructor(e,{headers:n={},customFetch:r,region:i=rg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=L$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return D$(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let b=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:b}).catch(S=>{throw new U$(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new Qb(x);if(!x.ok)throw new Zb(x);let _=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield x.json():_==="application/octet-stream"||_==="application/pdf"?E=yield x.blob():_==="text/event-stream"?E=x:_==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof Zb||s instanceof Qb?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var B$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},q$=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const v=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const v=await o.text();try{a=JSON.parse(v),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&v===""?(u=204,c="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new B$(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,f,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",v=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,v&&(s+=` (${v})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},V$=class extends q${select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ew=new RegExp("[,()]");var jo=class extends V${eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ew.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ew.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},G$=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new jo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new jo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new jo({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new jo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new jo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},H$=class MC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new G$(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new MC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new jo({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class z${constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W$="2.89.0",K$=`realtime-js/${W$}`,$C="1.0.0",J$="2.0.0",tw=$C,ig=1e4,Y$=1e3,X$=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var og;(function(t){t.websocket="websocket"})(og||(og={}));var Di;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Di||(Di={}));class Q${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,l.length),y.setUint8(v++,s.length),y.setUint8(v++,a.length),y.setUint8(v++,u.length),y.setUint8(v++,f.length),y.setUint8(v++,n),Array.from(l,x=>y.setUint8(v++,x.charCodeAt(0))),Array.from(s,x=>y.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>y.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(v++,x.charCodeAt(0))),Array.from(f,x=>y.setUint8(v++,x.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:g};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class DC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Oe||(Oe={}));const nw=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Z$(a,t,e,i),o),{}):{}},Z$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?LC(o,a):ag(a)},LC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rD(e,n)}switch(t){case Oe.bool:return eD(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return tD(e);case Oe.json:case Oe.jsonb:return nD(e);case Oe.timestamp:return iD(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return ag(e);default:return ag(e)}},ag=t=>t,eD=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tD=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nD=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},rD=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>LC(e,s))}return t},iD=t=>typeof t=="string"?t.replace(" ","T"):t,UC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wp{constructor(e,n,r={},i=ig){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rw||(rw={}));class Ks{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ks.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ks.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),y=c.filter(b=>g.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(s[u]=y),v.length>0&&(l[u]=v)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(g=>g.presence_ref),h=c.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iw||(iw={}));var Js;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Js||(Js={}));var pr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class Yo{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wp(this,$n.join,this.params,this.timeout),this.rejoinTimer=new DC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ks(this),this.broadcastEndpointURL=UC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Js.PRESENCE]&&this.bindings[Js.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(pr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(pr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,x=[];for(let w=0;w<b;w++){const _=v[w],{filter:{event:E,schema:S,table:T,filter:k}}=_,C=g&&g[w];if(C&&C.event===E&&Yo.isFilterValueEqual(C.schema,S)&&Yo.isFilterValueEqual(C.table,T)&&Yo.isFilterValueEqual(C.filter,k))x.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(pr.SUBSCRIBED);return}}).receive("error",g=>{this.state=st.errored,e==null||e(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===st.joined&&e===Js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wp(this,$n.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>X$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=$n;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,v,b;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=g.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var y,v,b,x,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:b,commit_timestamp:x,type:w,errors:_}=y;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(h,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Yo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nw(e.columns,e.old_record)),n}}const _p=()=>{},Yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oD=[1e3,2e3,5e3,1e4],aD=1e4,sD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lD{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ig,this.transport=null,this.heartbeatIntervalMs=Yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_p,this.ref=0,this.reconnectTimer=null,this.vsn=tw,this.logger=_p,this.conn=null,this.sendBuffer=[],this.serializer=new Q$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${og.websocket}`,this.httpEndpoint=UC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Di.Connecting;case zr.open:return Di.Open;case zr.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Yo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Y$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([sD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:K$};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push($n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new DC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ig,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Yu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:_p,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:tw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>oD[y-1]||aD,this.vsn){case $C:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,v)=>v(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,v)=>v(JSON.parse(y));break;case J$:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var bl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uD(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function cD(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dD(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=uD(t.baseUrl,r,i),l=await cD(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const g=f?h:void 0,y=g==null?void 0:g.error;throw new bl((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Xu(t){return t.join("")}var fD=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Xu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xu(t.namespace)}`}),!0}catch(e){if(e instanceof bl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bl&&n.status===409)return;throw n}}};function Eo(t){return t.join("")}var hD=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},pD=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dD({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new fD(this.client,e),this.tableOps=new hD(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Jf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var mD=class extends Jf{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sg=class extends Jf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const n0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gD=()=>Response,lg=t=>{if(Array.isArray(t))return t.map(n=>lg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=lg(r)}),e},yD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vD=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function xD(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bD(t){var e=xD(t,"string");return wl(e)=="symbol"?e:e+""}function wD(t,e,n){return(e=bD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ow(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ow(Object(n),!0).forEach(function(r){wD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Sp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_D=async(t,e,n)=>{t instanceof await gD()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new mD(Sp(r),i,o))}).catch(r=>{e(new sg(Sp(r),r))}):e(new sg(Sp(t),t))},SD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(yD(r)?(i.headers=le({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),le(le({},i),n))};async function xu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,SD(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>_D(l,s,r))})}async function _l(t,e,n,r){return xu(t,"GET",e,n,r)}async function jn(t,e,n,r,i){return xu(t,"POST",e,r,i,n)}async function ug(t,e,n,r,i){return xu(t,"PUT",e,r,i,n)}async function ED(t,e,n,r){return xu(t,"HEAD",e,le(le({},n),{},{noResolveJson:!0}),r)}async function r0(t,e,n,r,i){return xu(t,"DELETE",e,r,i,n)}var TD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};let FC;FC=Symbol.toStringTag;var kD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[FC]="BlobDownloadBuilder",this.promise=null}asStream(){return new TD(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};const AD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var CD=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=n0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=le(le({},aw),r);let s=le(le({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=le(le({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),f=await(t=="PUT"?ug:jn)(i.fetch,`${i.url}/object/${c}`,o,le({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=le({upsert:aw.upsert},r),c=le(le({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await ug(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=le({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await jn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Jf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await jn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await jn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await jn(r.fetch,`${r.url}/object/sign/${i}`,le({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await jn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>le(le({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>_l(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new kD(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:lg(await _l(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await ED(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qe(r)&&r instanceof sg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await r0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=le(le(le({},AD),e),{},{prefix:t||""});return{data:await jn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=le({},t);return{data:await jn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const BC="2.89.0",qC={"X-Client-Info":`storage-js/${BC}`};var ND=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=le(le({},qC),e),this.fetch=n0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await _l(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _l(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await jn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await ug(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await jn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await r0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},PD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},qC),e),this.fetch=n0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await jn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await _l(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await r0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!vD(t))throw new Jf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const i0={"X-Client-Info":`storage-js/${BC}`,"Content-Type":"application/json"};var VC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ep=class extends VC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ID=class extends VC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const o0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RD=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Ep(sw(o),r,a))}).catch(()=>{const o=r+"";e(new Ep(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Ep(i.statusText||`HTTP ${r} error`,r,o))}}else e(new ID(sw(t),t))},jD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(OD(r)?(i.headers=le({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,le(le({},i),n)):i};async function MD(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,jD(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>RD(l,s,r))})}async function tn(t,e,n,r,i){return MD(t,"POST",e,r,i,n)}var $D=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},i0),e),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},DD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},i0),e),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await tn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},LD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=le(le({},i0),e),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},UD=class extends LD{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new FD(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},FD=class extends $D{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new BD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},BD=class extends DD{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,le(le({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},qD=class extends ND{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new CD(this.url,this.headers,t,this.fetch)}get vectors(){return new UD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PD(this.url+"/iceberg",this.headers,this.fetch)}};const GC="2.89.0",Mo=30*1e3,cg=3,Tp=cg*Mo,VD="http://localhost:9999",GD="supabase.auth.token",HD={"X-Client-Info":`gotrue-js/${GC}`},dg="X-Supabase-Api-Version",HC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WD=10*60*1e3;class Sl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KD extends Sl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JD(t){return ie(t)&&t.name==="AuthApiError"}class Li extends Sl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $r extends Sl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Kt extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YD(t){return ie(t)&&t.name==="AuthSessionMissingError"}class To extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qu extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zu extends $r{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XD(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class lw extends $r{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class QD extends $r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fg extends $r{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function kp(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class uw extends $r{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hg extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cw=` 	
\r=`.split(""),ZD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<cw.length;e+=1)t[cw[e].charCodeAt(0)]=-2;for(let e=0;e<gd.length;e+=1)t[gd[e].charCodeAt(0)]=e;return t})();function dw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gd[r]),e.queuedBits-=6}}function zC(t,e,n){const r=ZD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fw(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{nL(a,r,n)};for(let a=0;a<t.length;a+=1)zC(t.charCodeAt(a),i,o);return e.join("")}function eL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}eL(r,e)}}function nL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ua(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)zC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function rL(t){const e=[];return tL(t,n=>e.push(n)),new Uint8Array(e)}function qi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>dw(i,n,r)),dw(null,n,r),e.join("")}function iL(t){return Math.round(Date.now()/1e3)+t}function oL(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},WC=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function aL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const KC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$o=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ci=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yt=async(t,e)=>{await t.removeItem(e)};class Yf{constructor(){this.promise=new Yf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yf.promiseConstructor=Promise;function Ap(t){const e=t.split(".");if(e.length!==3)throw new hg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zD.test(e[r]))throw new hg("JWT not in base64url format");return{header:JSON.parse(fw(e[0])),payload:JSON.parse(fw(e[1])),signature:ua(e[2]),raw:{header:e[0],payload:e[1]}}}async function lL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uL(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function cL(t){return("0"+t.toString(16)).substr(-2)}function dL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,cL).join("")}async function fL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function hL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(t,e,n=!1){const r=dL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $o(t,`${e}-code-verifier`,i);const o=await hL(r);return[o,r===o?"plain":"s256"]}const pL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mL(t){const e=t.headers.get(dg);if(!e||!e.match(pL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(t){if(!vL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xL(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function hw(t){return JSON.parse(JSON.stringify(t))}const Oi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bL=[502,503,504];async function pw(t){var e;if(!sL(t))throw new fg(Oi(t),0);if(bL.includes(t.status))throw new fg(Oi(t),t.status);let n;try{n=await t.json()}catch(o){throw new Li(Oi(o),o)}let r;const i=mL(t);if(i&&i.getTime()>=HC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uw(Oi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new uw(Oi(n),t.status,n.weak_password.reasons);throw new KD(Oi(n),t.status||500,r)}const wL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function se(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[dg]||(o[dg]=HC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await _L(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function _L(t,e,n,r,i,o){const a=wL(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new fg(Oi(l),0)}if(s.ok||await pw(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await pw(l)}}function On(t){var e;let n=null;TL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mw(t){const e=On(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SL(t){return{data:t,error:null}}function EL(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Kf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function gw(t){return t}function TL(t){return t.access_token&&t.refresh_token&&t.expires_in}const Np=["global","local","others"];class kL{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=KC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Np[0]){if(Np.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Np.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Kf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ao(e);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ao(e);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Yr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ao(e);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ao(e.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ao(e.userId),Ao(e.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function yw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Co={debug:!!(globalThis&&WC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AL extends JC{}async function CL(t,e,n){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Co.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function PL(t){return parseInt(t,16)}function IL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function OL(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=YC(t.address),y=c?`${c}://${r}`:r,v=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${g}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}x+=w}return`${b}
${x}`}class tt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class yd extends tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function RL({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(XC(a)){if(o.rp.id!==a)return new tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function jL({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(XC(r)){if(n.rpId!==r)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ML{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $L=new ML;function DL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Kf(t,["challenge","user","excludeCredentials"]),o=ua(e).buffer,a=Object.assign(Object.assign({},n),{id:ua(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ua(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function LL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Kf(t,["challenge","allowCredentials"]),i=ua(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ua(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function UL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:qi(new Uint8Array(t.response.attestationObject)),clientDataJSON:qi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qi(new Uint8Array(i.authenticatorData)),clientDataJSON:qi(new Uint8Array(i.clientDataJSON)),signature:qi(new Uint8Array(i.signature)),userHandle:i.userHandle?qi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function vw(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function BL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:RL({error:e,options:t})}}}async function qL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:jL({error:e,options:t})}}}const VL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=vd(s,a):r[o]=vd(a)}else r[o]=a}return r}function HL(t,e){return vd(VL,t,e||{})}function zL(t,e){return vd(GL,t,e||{})}class WL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??$L.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=HL(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:f}=await BL({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=zL(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:f}=await qL(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Li("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn authentication")};try{if(!vw())return{data:null,error:new Li("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Li("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn registration")};try{if(!vw())return{data:null,error:new Li("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Li("Unexpected error in register",a)}}}}NL();const KL={url:VD,storageKey:GD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xw(t,e,n){return await n()}const No={};class El{get jwks(){var e,n;return(n=(e=No[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=No[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},KL),e);if(this.storageKey=o.storageKey,this.instanceID=(n=El.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,El.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&vt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new kL({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=KC(o.fetch),this.lock=o.lock||xw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CL:this.lock=xw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:WC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=yw(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${GC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(vt()&&(n=aL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new Li("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:On}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:f,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ko(this.storage,this.storageKey)),o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:On})}else if("phone"in e){const{phone:c,password:f,options:h}=e;o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new Qu("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:mw})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:mw})}else throw new Qu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new To;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,f,h;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:b,statement:x,options:w}=e;let _;if(vt())if(typeof b=="object")_=b;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")_=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=YC(S[0]);let k=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const N=await _.request({method:"eth_chainId"});k=PL(N)}const C={domain:E.host,address:T,statement:x,uri:E.href,version:"1",chainId:k,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=OL(C),y=await _.request({method:"personal_sign",params:[IL(g),T]})}try{const{data:v,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:On});if(b)throw b;if(!v||!v.session||!v.user){const x=new To;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,f,h,g;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:b,wallet:x,statement:w,options:_}=e;let E;if(vt())if(typeof x=="object")E=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:b,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:qi(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:On});if(x)throw x;if(!b||!b.session||!b.user){const w=new To;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new QD;const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:On});if(await yt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new To;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new To;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ko(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Qu("You must provide either an email or phone number.")}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:On});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ko(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:SL});return!((o=u.data)===null||o===void 0)&&o.url&&vt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Kt;const{error:i}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Qu("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Tp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ci(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Cp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=xL(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Yr})})}catch(n){if(ie(n))return YD(n)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Kt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await ko(this.storage,this.storageKey));const{data:u,error:c}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Yr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Ap(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Kt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vt())throw new Zu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lw("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Zu("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const g=h-c;g*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(JD(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=oL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ko(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return vt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:On}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new To}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uL(async i=>(i>0&&await lL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(i,o)=>{const a=200*Math.pow(2,i);return o&&kp(o)&&Date.now()+a-r<Mo})}catch(r){if(this._debug(n,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ci(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await $o(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Cp()}else if(i&&!i.user&&!i.user){const a=await Ci(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await yt(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,i)):i.user=Cp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Tp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),kp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yf;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Kt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ie(o)){const a={data:null,error:o};return kp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $o(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=hw(i);await $o(this.storage,this.storageKey,o)}else{const i=hw(n);await $o(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Mo}ms, refresh threshold is ${cg} ticks`),i<=cg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof JC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await ko(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?UL(e.webauthn.credential_response):FL(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:DL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:LL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ap(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Kt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Kt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+WD>i)return r;const{data:o,error:a}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Ap(r);n!=null&&n.allowExpired||gL(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=yL(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,rL(`${s}.${l}`)))throw new hg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}El.nextInstanceID={};const JL=El,YL="2.89.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const XL={"X-Client-Info":`supabase-js-${Ms}/${YL}`},QL={headers:XL},ZL={schema:"public"},eU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tU={};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function nU(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rU(t){var e=nU(t,"string");return Tl(e)=="symbol"?e:e+""}function iU(t,e,n){return(e=rU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(n),!0).forEach(function(r){iU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const oU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aU=()=>Headers,sU=(t,e,n)=>{const r=oU(n),i=aU();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,ze(ze({},a),{},{headers:u}))}};function lU(t){return t.endsWith("/")?t:t+"/"}function uU(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:ze(ze({},l),i),auth:ze(ze({},u),o),realtime:ze(ze({},c),a),storage:{},global:ze(ze(ze({},f),s),{},{headers:ze(ze({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function cU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dU=class extends JL{constructor(t){super(t)}},fU=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=cU(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:ZL,realtime:tU,auth:ze(ze({},eU),{},{storageKey:a}),global:QL},l=uU(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=sU(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new H$(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new qD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new F$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dU({url:this.authUrl.href,headers:ze(ze({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lD(this.realtimeUrl.href,ze(ze({},t),{},{params:ze(ze({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hU=(t,e,n)=>new fU(t,e,n);function pU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ww={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},mU="https://krgznynrljnvxwhvsdxj.supabase.co",gU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function QC(t){try{if(typeof import.meta<"u"&&import.meta&&ww)return ww[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const yU=QC("VITE_SUPABASE_URL"),vU=QC("VITE_SUPABASE_ANON_KEY"),ZC=yU||mU,xU=vU||gU;ZC.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const Fn=hU(ZC,xU),_w=`--      SQL Editor  Supabase  

-- 1.   (  )
create table if not exists locations (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  parent_id uuid references locations(id),
  created_at timestamptz default now()
);

create table if not exists measurement_units (
  id uuid default gen_random_uuid() primary key,
  title text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_classes (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_groups (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  class_id uuid references equipment_classes(id),
  created_at timestamptz default now()
);

create table if not exists part_categories (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  parent_id uuid references part_categories(id),
  level_type text,
  created_at timestamptz default now()
);

--  :           
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text not null,
  unit text,
  mobile text,
  email text,
  profile_picture text,
  created_at timestamptz default now()
);

-- 2.   (  )
create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

create table if not exists parts (
  id uuid default gen_random_uuid() primary key,
  code text,
  name text not null,
  category_id uuid references part_categories(id),
  stock_unit_id uuid references measurement_units(id),
  consumption_unit_id uuid references measurement_units(id),
  created_at timestamptz default now()
);

create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 3.   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

-- 4.  RLS  
alter table locations enable row level security; create policy "Allow all" on locations for all using (true) with check (true);
alter table measurement_units enable row level security; create policy "Allow all" on measurement_units for all using (true) with check (true);
alter table equipment_classes enable row level security; create policy "Allow all" on equipment_classes for all using (true) with check (true);
alter table equipment_groups enable row level security; create policy "Allow all" on equipment_groups for all using (true) with check (true);
alter table part_categories enable row level security; create policy "Allow all" on part_categories for all using (true) with check (true);
alter table personnel enable row level security; create policy "Allow all" on personnel for all using (true) with check (true);
alter table app_users enable row level security; create policy "Allow all" on app_users for all using (true) with check (true);
alter table equipment enable row level security; create policy "Allow all" on equipment for all using (true) with check (true);
alter table equipment_local_names enable row level security; create policy "Allow all" on equipment_local_names for all using (true) with check (true);
alter table parts enable row level security; create policy "Allow all" on parts for all using (true) with check (true);
alter table cartable_items enable row level security; create policy "Allow all" on cartable_items for all using (true) with check (true);
alter table user_groups enable row level security; create policy "Allow all" on user_groups for all using (true) with check (true);
alter table org_chart enable row level security; create policy "Allow all" on org_chart for all using (true) with check (true);
alter table evaluation_periods enable row level security; create policy "Allow all" on evaluation_periods for all using (true) with check (true);
alter table evaluation_criteria enable row level security; create policy "Allow all" on evaluation_criteria for all using (true) with check (true);
alter table equipment_tree enable row level security; create policy "Allow all" on equipment_tree for all using (true) with check (true);
alter table activity_cards enable row level security; create policy "Allow all" on activity_cards for all using (true) with check (true);
alter table checklist_items enable row level security; create policy "Allow all" on checklist_items for all using (true) with check (true);
alter table maintenance_plans enable row level security; create policy "Allow all" on maintenance_plans for all using (true) with check (true);

-- 5.    
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  new_code text;
  count_val integer;
begin
  select count(*) into count_val from cartable_items where tracking_code like prefix_input || '%';
  new_code := prefix_input || to_char(count_val + 1001, 'FM0000');
  return new_code;
end;
$$;

-- *** MIGRATION:        ***
--               
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'personnel' AND column_name = 'first_name') THEN
        ALTER TABLE personnel ADD COLUMN IF NOT EXISTS full_name text;
        UPDATE personnel SET full_name = TRIM(COALESCE(first_name, '') || ' ' || COALESCE(last_name, '')) WHERE full_name IS NULL;
        ALTER TABLE personnel DROP COLUMN first_name;
        ALTER TABLE personnel DROP COLUMN last_name;
    END IF;
END $$;
`,bU=({onLogin:t})=>{const[e,n]=A.useState(""),[r,i]=A.useState(""),[o,a]=A.useState(""),[s,l]=A.useState(!1),[u,c]=A.useState(!1),[f,h]=A.useState("checking"),[g,y]=A.useState(""),[v,b]=A.useState(!1),[x,w]=A.useState(!1);A.useEffect(()=>{_()},[]);const _=async()=>{h("checking");try{const{data:N,error:I}=await Fn.from("app_users").select("count",{count:"exact",head:!0});if(I)throw I;h("connected"),y("    ")}catch(N){console.error("Supabase Connection Error:",N),h("error");let I="   ";if(typeof N=="string")I=N;else if(N!=null&&N.code)N.code==="42P01"?I="   ":N.code==="PGRST301"?I="     (RLS)":I=` : ${N.code} - ${N.message||""}`;else try{const O=JSON.stringify(N);O==="{}"||O==='{"message":""}'?I="   ":N.message&&N.message.includes("fetch")?I="   (  VPN   )":N.message&&N.message.includes("jw")?I=" API  ":N.message?I=N.message:I="  (  )"}catch{I=" "}y(I)}},E=()=>{navigator.clipboard.writeText(_w),w(!0),setTimeout(()=>w(!1),2e3)},S={id:"1",username:"admin",fullName:" ",role:Bt.ADMIN,passwordHash:"admin",isDefaultPassword:!0},T=N=>{if(N.preventDefault(),a(""),e.toLowerCase()==="admin"&&r==="admin"){if(u){const I={...S,isDefaultPassword:!1};t(I);return}{c(!0),a("         .");return}}else a("      ")},k=N=>{if(N.preventDefault(),r==="admin"){a("        ");return}t({...S,isDefaultPassword:!1})};return d.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),d.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),d.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-8",children:[d.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[d.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4 transform hover:scale-105 transition duration-500",children:d.jsx($$,{className:"w-full h-full drop-shadow-2xl"})}),d.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4",children:"     "}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"    "})]}),(f==="checking"||f==="error")&&d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{onClick:_,className:`cursor-pointer flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold justify-center transition-colors border max-w-full text-center
                    ${f==="checking"?"bg-gray-100 text-gray-500 border-gray-200":""}
                    ${f==="error"?"bg-red-50 text-red-700 border-red-200":""}
                `,children:[f==="checking"&&d.jsxs(d.Fragment,{children:[d.jsx(P$,{className:"w-3 h-3 animate-pulse"}),"    ..."]}),f==="error"&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(x$,{className:"w-3 h-3 flex-shrink-0"})," ",d.jsx("span",{className:"truncate",children:g})," ",d.jsx(ng,{className:"w-3 h-3"})]})]}),f==="error"&&d.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1 text-[10px] bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-200 hover:bg-blue-100 transition",children:[d.jsx(n$,{className:"w-3 h-3"}),"    (SQL)"]})]}),d.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50",children:u?d.jsxs("form",{onSubmit:k,className:"space-y-5",children:[d.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[d.jsx(wC,{className:"w-5 h-5 flex-shrink-0"}),d.jsx("span",{children:"            ."})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),d.jsxs("div",{className:"relative",children:[d.jsx(Yb,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:N=>i(N.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),d.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?d.jsx(Kb,{className:"w-5 h-5"}):d.jsx(ad,{className:"w-5 h-5"})})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:"   "})]}):d.jsxs("form",{onSubmit:T,className:"space-y-5",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),d.jsxs("div",{className:"relative group",children:[d.jsx(e0,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),d.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:N=>n(N.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),d.jsxs("div",{className:"relative group",children:[d.jsx(Yb,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),d.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:N=>i(N.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),d.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?d.jsx(Kb,{className:"w-5 h-5"}):d.jsx(ad,{className:"w-5 h-5"})})]})]})]}),o&&d.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),d.jsxs("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{children:"  "}),d.jsx(d$,{className:"w-5 h-5"})]})]})}),d.jsxs("div",{className:"text-center space-y-1 pb-4",children:[d.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-bold tracking-widest uppercase",children:[" ",I$]}),d.jsxs("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.1em] uppercase font-mono opacity-50",children:["Hash: ","b7a9f2c"]}),d.jsx("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.3em] uppercase font-sans opacity-70 mt-2",children:"DESIGN BY H.PARSA"})]})]}),v&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[d.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[d.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[d.jsx(i$,{className:"w-5 h-5 text-blue-600"}),"  "]}),d.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",d.jsx("b",{children:"Supabase"}),"  ",d.jsx("b",{children:"SQL Editor"}),"        ."]}),d.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[d.jsx("pre",{children:_w}),d.jsxs("button",{onClick:E,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[x?d.jsx(zf,{className:"w-4 h-4"}):d.jsx(r$,{className:"w-4 h-4"}),x?" ":" "]})]})]})})]})};function eN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eN(t))&&(r&&(r+=" "),r+=e);return r}var wU=Array.isArray,zt=wU,_U=typeof Ou=="object"&&Ou&&Ou.Object===Object&&Ou,tN=_U,SU=tN,EU=typeof self=="object"&&self&&self.Object===Object&&self,TU=SU||EU||Function("return this")(),cr=TU,kU=cr,AU=kU.Symbol,bu=AU,Sw=bu,nN=Object.prototype,CU=nN.hasOwnProperty,NU=nN.toString,xs=Sw?Sw.toStringTag:void 0;function PU(t){var e=CU.call(t,xs),n=t[xs];try{t[xs]=void 0;var r=!0}catch{}var i=NU.call(t);return r&&(e?t[xs]=n:delete t[xs]),i}var IU=PU,OU=Object.prototype,RU=OU.toString;function jU(t){return RU.call(t)}var MU=jU,Ew=bu,$U=IU,DU=MU,LU="[object Null]",UU="[object Undefined]",Tw=Ew?Ew.toStringTag:void 0;function FU(t){return t==null?t===void 0?UU:LU:Tw&&Tw in Object(t)?$U(t):DU(t)}var Dr=FU;function BU(t){return t!=null&&typeof t=="object"}var Lr=BU,qU=Dr,VU=Lr,GU="[object Symbol]";function HU(t){return typeof t=="symbol"||VU(t)&&qU(t)==GU}var Ja=HU,zU=zt,WU=Ja,KU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JU=/^\w*$/;function YU(t,e){if(zU(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||WU(t)?!0:JU.test(t)||!KU.test(t)||e!=null&&t in Object(e)}var a0=YU;function XU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bi=XU;const Ya=Ie(bi);var QU=Dr,ZU=bi,e4="[object AsyncFunction]",t4="[object Function]",n4="[object GeneratorFunction]",r4="[object Proxy]";function i4(t){if(!ZU(t))return!1;var e=QU(t);return e==t4||e==n4||e==e4||e==r4}var s0=i4;const he=Ie(s0);var o4=cr,a4=o4["__core-js_shared__"],s4=a4,Pp=s4,kw=function(){var t=/[^.]+$/.exec(Pp&&Pp.keys&&Pp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l4(t){return!!kw&&kw in t}var u4=l4,c4=Function.prototype,d4=c4.toString;function f4(t){if(t!=null){try{return d4.call(t)}catch{}try{return t+""}catch{}}return""}var rN=f4,h4=s0,p4=u4,m4=bi,g4=rN,y4=/[\\^$.*+?()[\]{}|]/g,v4=/^\[object .+?Constructor\]$/,x4=Function.prototype,b4=Object.prototype,w4=x4.toString,_4=b4.hasOwnProperty,S4=RegExp("^"+w4.call(_4).replace(y4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E4(t){if(!m4(t)||p4(t))return!1;var e=h4(t)?S4:v4;return e.test(g4(t))}var T4=E4;function k4(t,e){return t==null?void 0:t[e]}var A4=k4,C4=T4,N4=A4;function P4(t,e){var n=N4(t,e);return C4(n)?n:void 0}var go=P4,I4=go,O4=I4(Object,"create"),Xf=O4,Aw=Xf;function R4(){this.__data__=Aw?Aw(null):{},this.size=0}var j4=R4;function M4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $4=M4,D4=Xf,L4="__lodash_hash_undefined__",U4=Object.prototype,F4=U4.hasOwnProperty;function B4(t){var e=this.__data__;if(D4){var n=e[t];return n===L4?void 0:n}return F4.call(e,t)?e[t]:void 0}var q4=B4,V4=Xf,G4=Object.prototype,H4=G4.hasOwnProperty;function z4(t){var e=this.__data__;return V4?e[t]!==void 0:H4.call(e,t)}var W4=z4,K4=Xf,J4="__lodash_hash_undefined__";function Y4(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K4&&e===void 0?J4:e,this}var X4=Y4,Q4=j4,Z4=$4,e3=q4,t3=W4,n3=X4;function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xa.prototype.clear=Q4;Xa.prototype.delete=Z4;Xa.prototype.get=e3;Xa.prototype.has=t3;Xa.prototype.set=n3;var r3=Xa;function i3(){this.__data__=[],this.size=0}var o3=i3;function a3(t,e){return t===e||t!==t&&e!==e}var l0=a3,s3=l0;function l3(t,e){for(var n=t.length;n--;)if(s3(t[n][0],e))return n;return-1}var Qf=l3,u3=Qf,c3=Array.prototype,d3=c3.splice;function f3(t){var e=this.__data__,n=u3(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():d3.call(e,n,1),--this.size,!0}var h3=f3,p3=Qf;function m3(t){var e=this.__data__,n=p3(e,t);return n<0?void 0:e[n][1]}var g3=m3,y3=Qf;function v3(t){return y3(this.__data__,t)>-1}var x3=v3,b3=Qf;function w3(t,e){var n=this.__data__,r=b3(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var _3=w3,S3=o3,E3=h3,T3=g3,k3=x3,A3=_3;function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qa.prototype.clear=S3;Qa.prototype.delete=E3;Qa.prototype.get=T3;Qa.prototype.has=k3;Qa.prototype.set=A3;var Zf=Qa,C3=go,N3=cr,P3=C3(N3,"Map"),u0=P3,Cw=r3,I3=Zf,O3=u0;function R3(){this.size=0,this.__data__={hash:new Cw,map:new(O3||I3),string:new Cw}}var j3=R3;function M3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $3=M3,D3=$3;function L3(t,e){var n=t.__data__;return D3(e)?n[typeof e=="string"?"string":"hash"]:n.map}var eh=L3,U3=eh;function F3(t){var e=U3(this,t).delete(t);return this.size-=e?1:0,e}var B3=F3,q3=eh;function V3(t){return q3(this,t).get(t)}var G3=V3,H3=eh;function z3(t){return H3(this,t).has(t)}var W3=z3,K3=eh;function J3(t,e){var n=K3(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Y3=J3,X3=j3,Q3=B3,Z3=G3,e5=W3,t5=Y3;function Za(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Za.prototype.clear=X3;Za.prototype.delete=Q3;Za.prototype.get=Z3;Za.prototype.has=e5;Za.prototype.set=t5;var c0=Za,iN=c0,n5="Expected a function";function d0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(n5);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(d0.Cache||iN),n}d0.Cache=iN;var oN=d0;const r5=Ie(oN);var i5=oN,o5=500;function a5(t){var e=i5(t,function(r){return n.size===o5&&n.clear(),r}),n=e.cache;return e}var s5=a5,l5=s5,u5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c5=/\\(\\)?/g,d5=l5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(u5,function(n,r,i,o){e.push(i?o.replace(c5,"$1"):r||n)}),e}),f5=d5;function h5(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var f0=h5,Nw=bu,p5=f0,m5=zt,g5=Ja,Pw=Nw?Nw.prototype:void 0,Iw=Pw?Pw.toString:void 0;function aN(t){if(typeof t=="string")return t;if(m5(t))return p5(t,aN)+"";if(g5(t))return Iw?Iw.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var y5=aN,v5=y5;function x5(t){return t==null?"":v5(t)}var sN=x5,b5=zt,w5=a0,_5=f5,S5=sN;function E5(t,e){return b5(t)?t:w5(t,e)?[t]:_5(S5(t))}var lN=E5,T5=Ja;function k5(t){if(typeof t=="string"||T5(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var th=k5,A5=lN,C5=th;function N5(t,e){e=A5(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[C5(e[n++])];return n&&n==r?t:void 0}var h0=N5,P5=h0;function I5(t,e,n){var r=t==null?void 0:P5(t,e);return r===void 0?n:r}var uN=I5;const wn=Ie(uN);function O5(t){return t==null}var R5=O5;const me=Ie(R5);var j5=Dr,M5=zt,$5=Lr,D5="[object String]";function L5(t){return typeof t=="string"||!M5(t)&&$5(t)&&j5(t)==D5}var U5=L5;const oo=Ie(U5);var cN={exports:{}},ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=Symbol.for("react.element"),m0=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),F5=Symbol.for("react.server_context"),sh=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),B5=Symbol.for("react.offscreen"),dN;dN=Symbol.for("react.module.reference");function Cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p0:switch(t=t.type,t){case nh:case ih:case rh:case lh:case uh:return t;default:switch(t=t&&t.$$typeof,t){case F5:case ah:case sh:case dh:case ch:case oh:return t;default:return e}}case m0:return e}}}ke.ContextConsumer=ah;ke.ContextProvider=oh;ke.Element=p0;ke.ForwardRef=sh;ke.Fragment=nh;ke.Lazy=dh;ke.Memo=ch;ke.Portal=m0;ke.Profiler=ih;ke.StrictMode=rh;ke.Suspense=lh;ke.SuspenseList=uh;ke.isAsyncMode=function(){return!1};ke.isConcurrentMode=function(){return!1};ke.isContextConsumer=function(t){return Cn(t)===ah};ke.isContextProvider=function(t){return Cn(t)===oh};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p0};ke.isForwardRef=function(t){return Cn(t)===sh};ke.isFragment=function(t){return Cn(t)===nh};ke.isLazy=function(t){return Cn(t)===dh};ke.isMemo=function(t){return Cn(t)===ch};ke.isPortal=function(t){return Cn(t)===m0};ke.isProfiler=function(t){return Cn(t)===ih};ke.isStrictMode=function(t){return Cn(t)===rh};ke.isSuspense=function(t){return Cn(t)===lh};ke.isSuspenseList=function(t){return Cn(t)===uh};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nh||t===ih||t===rh||t===lh||t===uh||t===B5||typeof t=="object"&&t!==null&&(t.$$typeof===dh||t.$$typeof===ch||t.$$typeof===oh||t.$$typeof===ah||t.$$typeof===sh||t.$$typeof===dN||t.getModuleId!==void 0)};ke.typeOf=Cn;cN.exports=ke;var q5=cN.exports,V5=Dr,G5=Lr,H5="[object Number]";function z5(t){return typeof t=="number"||G5(t)&&V5(t)==H5}var fN=z5;const W5=Ie(fN);var K5=fN;function J5(t){return K5(t)&&t!=+t}var Y5=J5;const wu=Ie(Y5);var Vn=function(e){return e===0?0:e>0?1:-1},Vi=function(e){return oo(e)&&e.indexOf("%")===e.length-1},Q=function(e){return W5(e)&&!wu(e)},X5=function(e){return me(e)},ct=function(e){return Q(e)||oo(e)},Q5=0,_u=function(e){var n=++Q5;return"".concat(e||"").concat(n)},ao=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&!oo(e))return r;var o;if(Vi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return wu(o)&&(o=r),i&&o>n&&(o=n),o},Xr=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Z5=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bn=function(e,n){return Q(e)&&Q(n)?function(r){return e+r*(n-e)}:function(){return n}};function xd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wn(r,e))===n})}var eF=function(e,n){return Q(e)&&Q(n)?e-n:oo(e)&&oo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ca(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}var tF=["viewBox","children"],nF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ow=["points","pathLength"],Ip={svg:tF,polygon:Ow,polyline:Ow},g0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),!Ya(r))return null;var i={};return Object.keys(r).forEach(function(o){g0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},rF=function(e,n,r){return function(i){return e(n,r,i),null}},wd=function(e,n,r){if(!Ya(e)||pg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];g0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=rF(a,n,r))}),i},iF=["children"],oF=["children"];function Rw(t,e){if(t==null)return{};var n=aF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}var jw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Mw=null,Op=null,y0=function t(e){if(e===Mw&&Array.isArray(Op))return Op;var n=[];return A.Children.forEach(e,function(r){me(r)||(q5.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Op=n,Mw=e,n};function _n(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Sr(i)}):r=[Sr(e)],y0(t).forEach(function(i){var o=wn(i,"type.displayName")||wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Qt(t,e){var n=_n(t,e);return n&&n[0]}var $w=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Q(r)||r<=0||!Q(i)||i<=0)},sF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lF=function(e){return e&&e.type&&oo(e.type)&&sF.indexOf(e.type)>=0},uF=function(e){return e&&mg(e)==="object"&&"clipDot"in e},cF=function(e,n,r,i){var o,a=(o=Ip==null?void 0:Ip[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!he(e)&&(i&&a.includes(n)||nF.includes(n))||r&&g0.includes(n)},xe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),!Ya(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;cF((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},gg=function t(e,n){if(e===n)return!0;var r=A.Children.count(e);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Dw(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Dw(o,a))return!1}return!0},Dw=function(e,n){if(me(e)&&me(n))return!0;if(!me(e)&&!me(n)){var r=e.props||{},i=r.children,o=Rw(r,iF),a=n.props||{},s=a.children,l=Rw(a,oF);return i&&s?ca(o,l)&&gg(i,s):!i&&!s?ca(o,l):!1}return!1},Lw=function(e,n){var r=[],i={};return y0(e).forEach(function(o,a){if(lF(o))r.push(o);else if(o){var s=Sr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},dF=function(e){var n=e&&e.type;return n&&jw[n]?jw[n]:null},fF=function(e,n){return y0(n).indexOf(e)},hF=["children","width","height","viewBox","className","style","title","desc"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function pF(t,e){if(t==null)return{};var n=mF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=pF(t,hF),c=i||{width:n,height:r,x:0,y:0},f=we("recharts-surface",o);return M.createElement("svg",yg({},xe(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var gF=["children","className"];function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function yF(t,e){if(t==null)return{};var n=vF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qe=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=yF(t,gF),o=we("recharts-layer",r);return M.createElement("g",xg({className:o},xe(i,!0),{ref:e}),n)}),Er=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function xF(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var bF=xF,wF=bF;function _F(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:wF(t,e,n)}var SF=_F,EF="\\ud800-\\udfff",TF="\\u0300-\\u036f",kF="\\ufe20-\\ufe2f",AF="\\u20d0-\\u20ff",CF=TF+kF+AF,NF="\\ufe0e\\ufe0f",PF="\\u200d",IF=RegExp("["+PF+EF+CF+NF+"]");function OF(t){return IF.test(t)}var hN=OF;function RF(t){return t.split("")}var jF=RF,pN="\\ud800-\\udfff",MF="\\u0300-\\u036f",$F="\\ufe20-\\ufe2f",DF="\\u20d0-\\u20ff",LF=MF+$F+DF,UF="\\ufe0e\\ufe0f",FF="["+pN+"]",bg="["+LF+"]",wg="\\ud83c[\\udffb-\\udfff]",BF="(?:"+bg+"|"+wg+")",mN="[^"+pN+"]",gN="(?:\\ud83c[\\udde6-\\uddff]){2}",yN="[\\ud800-\\udbff][\\udc00-\\udfff]",qF="\\u200d",vN=BF+"?",xN="["+UF+"]?",VF="(?:"+qF+"(?:"+[mN,gN,yN].join("|")+")"+xN+vN+")*",GF=xN+vN+VF,HF="(?:"+[mN+bg+"?",bg,gN,yN,FF].join("|")+")",zF=RegExp(wg+"(?="+wg+")|"+HF+GF,"g");function WF(t){return t.match(zF)||[]}var KF=WF,JF=jF,YF=hN,XF=KF;function QF(t){return YF(t)?XF(t):JF(t)}var ZF=QF,eB=SF,tB=hN,nB=ZF,rB=sN;function iB(t){return function(e){e=rB(e);var n=tB(e)?nB(e):void 0,r=n?n[0]:e.charAt(0),i=n?eB(n,1).join(""):e.slice(1);return r[t]()+i}}var oB=iB,aB=oB,sB=aB("toUpperCase"),lB=sB;const fh=Ie(lB);function Re(t){return function(){return t}}const bN=Math.cos,_d=Math.sin,Jn=Math.sqrt,Sd=Math.PI,hh=2*Sd,_g=Math.PI,Sg=2*_g,Ri=1e-6,uB=Sg-Ri;function wN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wN:cB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ri)if(!(Math.abs(f*l-u*c)>Ri)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,y=i-s,v=l*l+u*u,b=g*g+y*y,x=Math.sqrt(v),w=Math.sqrt(h),_=o*Math.tan((_g-Math.acos((v+h-b)/(2*x*w)))/2),E=_/w,S=_/x;Math.abs(E-1)>Ri&&this._append`L${e+E*c},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*g>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ri||Math.abs(this._y1-c)>Ri)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Sg+Sg),h>uB?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ri&&this._append`A${r},${r},0,${+(h>=_g)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function v0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dB(e)}function x0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _N(t){this._context=t}_N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ph(t){return new _N(t)}function SN(t){return t[0]}function EN(t){return t[1]}function TN(t,e){var n=Re(!0),r=null,i=ph,o=null,a=v0(s);t=typeof t=="function"?t:t===void 0?SN:Re(t),e=typeof e=="function"?e:e===void 0?EN:Re(e);function s(l){var u,c=(l=x0(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Re(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Re(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Re(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function ec(t,e,n){var r=null,i=Re(!0),o=null,a=ph,s=null,l=v0(u);t=typeof t=="function"?t:t===void 0?SN:Re(+t),e=typeof e=="function"?e:Re(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?EN:Re(+n);function u(f){var h,g,y,v=(f=x0(f)).length,b,x=!1,w,_=new Array(v),E=new Array(v);for(o==null&&(s=a(w=l())),h=0;h<=v;++h){if(!(h<v&&i(b=f[h],h,f))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=g;--y)s.point(_[y],E[y]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(b,h,f),E[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):E[h]))}if(w)return s=null,w+""||null}function c(){return TN().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Re(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class kN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fB(t){return new kN(t,!0)}function hB(t){return new kN(t,!1)}const b0={draw(t,e){const n=Jn(e/Sd);t.moveTo(n,0),t.arc(0,0,n,0,hh)}},pB={draw(t,e){const n=Jn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AN=Jn(1/3),mB=AN*2,gB={draw(t,e){const n=Jn(e/mB),r=n*AN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yB={draw(t,e){const n=Jn(e),r=-n/2;t.rect(r,r,n,n)}},vB=.8908130915292852,CN=_d(Sd/10)/_d(7*Sd/10),xB=_d(hh/10)*CN,bB=-bN(hh/10)*CN,wB={draw(t,e){const n=Jn(e*vB),r=xB*n,i=bB*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=hh*o/5,s=bN(a),l=_d(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Rp=Jn(3),_B={draw(t,e){const n=-Jn(e/(Rp*3));t.moveTo(0,n*2),t.lineTo(-Rp*n,-n),t.lineTo(Rp*n,-n),t.closePath()}},fn=-.5,hn=Jn(3)/2,Eg=1/Jn(12),SB=(Eg/2+1)*3,EB={draw(t,e){const n=Jn(e/SB),r=n/2,i=n*Eg,o=r,a=n*Eg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(fn*r-hn*i,hn*r+fn*i),t.lineTo(fn*o-hn*a,hn*o+fn*a),t.lineTo(fn*s-hn*l,hn*s+fn*l),t.lineTo(fn*r+hn*i,fn*i-hn*r),t.lineTo(fn*o+hn*a,fn*a-hn*o),t.lineTo(fn*s+hn*l,fn*l-hn*s),t.closePath()}};function TB(t,e){let n=null,r=v0(i);t=typeof t=="function"?t:Re(t||b0),e=typeof e=="function"?e:Re(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Re(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Re(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ed(){}function Td(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function NN(t){this._context=t}NN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Td(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kB(t){return new NN(t)}function PN(t){this._context=t}PN.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AB(t){return new PN(t)}function IN(t){this._context=t}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CB(t){return new IN(t)}function ON(t){this._context=t}ON.prototype={areaStart:Ed,areaEnd:Ed,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NB(t){return new ON(t)}function Uw(t){return t<0?-1:1}function Fw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Uw(o)+Uw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function kd(t){this._context=t}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jp(this,this._t0,Bw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jp(this,Bw(this,n=Fw(this,t,e)),n);break;default:jp(this,this._t0,n=Fw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RN(t){this._context=new jN(t)}(RN.prototype=Object.create(kd.prototype)).point=function(t,e){kd.prototype.point.call(this,e,t)};function jN(t){this._context=t}jN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function PB(t){return new kd(t)}function IB(t){return new RN(t)}function MN(t){this._context=t}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qw(t),i=qw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function OB(t){return new MN(t)}function mh(t,e){this._context=t,this._t=e}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function RB(t){return new mh(t,.5)}function jB(t){return new mh(t,0)}function MB(t){return new mh(t,1)}function _a(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Tg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $B(t,e){return t[e]}function DB(t){const e=[];return e.key=t,e}function LB(){var t=Re([]),e=Tg,n=_a,r=$B;function i(o){var a=Array.from(t.apply(this,arguments),DB),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=x0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Re(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Re(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Tg:typeof o=="function"?o:Re(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??_a,i):n},i}function UB(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}_a(t,e)}}function FB(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}_a(t,e)}}function BB(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,y=0;y<s;++y){var v=t[e[y]],b=v[r][1]||0,x=v[r-1][1]||0;g+=b-x}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,_a(t,e)}}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}var qB=["type","size","sizeType"];function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function Vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vw(Object(n),!0).forEach(function(r){VB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VB(t,e,n){return e=GB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GB(t){var e=HB(t,"string");return kl(e)=="symbol"?e:e+""}function HB(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zB(t,e){if(t==null)return{};var n=WB(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $N={symbolCircle:b0,symbolCross:pB,symbolDiamond:gB,symbolSquare:yB,symbolStar:wB,symbolTriangle:_B,symbolWye:EB},KB=Math.PI/180,JB=function(e){var n="symbol".concat(fh(e));return $N[n]||b0},YB=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*KB;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XB=function(e,n){$N["symbol".concat(fh(e))]=n},w0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=zB(e,qB),u=Gw(Gw({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=JB(r),x=TB().type(b).size(YB(o,s,r));return x()},f=u.className,h=u.cx,g=u.cy,y=xe(u,!0);return h===+h&&g===+g&&o===+o?M.createElement("path",kg({},y,{className:we("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};w0.registerSymbol=XB;function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){Al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LN(r.key),r)}}function t6(t,e,n){return e&&e6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n6(t,e,n){return e=Ad(e),r6(t,DN()?Reflect.construct(e,n||[],Ad(t).constructor):e.apply(t,n))}function r6(t,e){if(e&&(Sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6(t)}function i6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DN=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(t)}function o6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function Al(t,e,n){return e=LN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LN(t){var e=a6(t,"string");return Sa(e)=="symbol"?e:e+""}function a6(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pn=32,_0=function(t){function e(){return ZB(this,e),n6(this,e,arguments)}return o6(e,t),t6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=pn/2,a=pn/6,s=pn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:pn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(pn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pn/8,"h").concat(pn,"v").concat(pn*3/4,"h").concat(-pn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=QB({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(w0,{fill:l,cx:o,cy:o,size:pn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:pn,height:pn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var v=g.formatter||l,b=we(Al(Al({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=he(g.value)?null:g.value;Er(!he(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return M.createElement("li",Ag({className:b,style:f,key:"legend-item-".concat(y)},wd(r.props,g,y)),M.createElement(vg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(x,g,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(A.PureComponent);Al(_0,"displayName","Legend");Al(_0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var s6=Zf;function l6(){this.__data__=new s6,this.size=0}var u6=l6;function c6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var d6=c6;function f6(t){return this.__data__.get(t)}var h6=f6;function p6(t){return this.__data__.has(t)}var m6=p6,g6=Zf,y6=u0,v6=c0,x6=200;function b6(t,e){var n=this.__data__;if(n instanceof g6){var r=n.__data__;if(!y6||r.length<x6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new v6(r)}return n.set(t,e),this.size=n.size,this}var w6=b6,_6=Zf,S6=u6,E6=d6,T6=h6,k6=m6,A6=w6;function es(t){var e=this.__data__=new _6(t);this.size=e.size}es.prototype.clear=S6;es.prototype.delete=E6;es.prototype.get=T6;es.prototype.has=k6;es.prototype.set=A6;var UN=es,C6="__lodash_hash_undefined__";function N6(t){return this.__data__.set(t,C6),this}var P6=N6;function I6(t){return this.__data__.has(t)}var O6=I6,R6=c0,j6=P6,M6=O6;function Cd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new R6;++e<n;)this.add(t[e])}Cd.prototype.add=Cd.prototype.push=j6;Cd.prototype.has=M6;var FN=Cd;function $6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var BN=$6;function D6(t,e){return t.has(e)}var qN=D6,L6=FN,U6=BN,F6=qN,B6=1,q6=2;function V6(t,e,n,r,i,o){var a=n&B6,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&q6?new L6:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],v=e[f];if(r)var b=a?r(v,y,f,e,t,o):r(y,v,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!U6(e,function(x,w){if(!F6(g,w)&&(y===x||i(y,x,n,r,o)))return g.push(w)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var VN=V6,G6=cr,H6=G6.Uint8Array,z6=H6;function W6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var K6=W6;function J6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var S0=J6,zw=bu,Ww=z6,Y6=l0,X6=VN,Q6=K6,Z6=S0,e8=1,t8=2,n8="[object Boolean]",r8="[object Date]",i8="[object Error]",o8="[object Map]",a8="[object Number]",s8="[object RegExp]",l8="[object Set]",u8="[object String]",c8="[object Symbol]",d8="[object ArrayBuffer]",f8="[object DataView]",Kw=zw?zw.prototype:void 0,Mp=Kw?Kw.valueOf:void 0;function h8(t,e,n,r,i,o,a){switch(n){case f8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case d8:return!(t.byteLength!=e.byteLength||!o(new Ww(t),new Ww(e)));case n8:case r8:case a8:return Y6(+t,+e);case i8:return t.name==e.name&&t.message==e.message;case s8:case u8:return t==e+"";case o8:var s=Q6;case l8:var l=r&e8;if(s||(s=Z6),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=t8,a.set(t,e);var c=X6(s(t),s(e),r,i,o,a);return a.delete(t),c;case c8:if(Mp)return Mp.call(t)==Mp.call(e)}return!1}var p8=h8;function m8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var GN=m8,g8=GN,y8=zt;function v8(t,e,n){var r=e(t);return y8(t)?r:g8(r,n(t))}var x8=v8;function b8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var w8=b8;function _8(){return[]}var S8=_8,E8=w8,T8=S8,k8=Object.prototype,A8=k8.propertyIsEnumerable,Jw=Object.getOwnPropertySymbols,C8=Jw?function(t){return t==null?[]:(t=Object(t),E8(Jw(t),function(e){return A8.call(t,e)}))}:T8,N8=C8;function P8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var I8=P8,O8=Dr,R8=Lr,j8="[object Arguments]";function M8(t){return R8(t)&&O8(t)==j8}var $8=M8,Yw=$8,D8=Lr,HN=Object.prototype,L8=HN.hasOwnProperty,U8=HN.propertyIsEnumerable,F8=Yw(function(){return arguments}())?Yw:function(t){return D8(t)&&L8.call(t,"callee")&&!U8.call(t,"callee")},E0=F8,Nd={exports:{}};function B8(){return!1}var q8=B8;Nd.exports;(function(t,e){var n=cr,r=q8,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Nd,Nd.exports);var zN=Nd.exports,V8=9007199254740991,G8=/^(?:0|[1-9]\d*)$/;function H8(t,e){var n=typeof t;return e=e??V8,!!e&&(n=="number"||n!="symbol"&&G8.test(t))&&t>-1&&t%1==0&&t<e}var T0=H8,z8=9007199254740991;function W8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=z8}var k0=W8,K8=Dr,J8=k0,Y8=Lr,X8="[object Arguments]",Q8="[object Array]",Z8="[object Boolean]",eq="[object Date]",tq="[object Error]",nq="[object Function]",rq="[object Map]",iq="[object Number]",oq="[object Object]",aq="[object RegExp]",sq="[object Set]",lq="[object String]",uq="[object WeakMap]",cq="[object ArrayBuffer]",dq="[object DataView]",fq="[object Float32Array]",hq="[object Float64Array]",pq="[object Int8Array]",mq="[object Int16Array]",gq="[object Int32Array]",yq="[object Uint8Array]",vq="[object Uint8ClampedArray]",xq="[object Uint16Array]",bq="[object Uint32Array]",$e={};$e[fq]=$e[hq]=$e[pq]=$e[mq]=$e[gq]=$e[yq]=$e[vq]=$e[xq]=$e[bq]=!0;$e[X8]=$e[Q8]=$e[cq]=$e[Z8]=$e[dq]=$e[eq]=$e[tq]=$e[nq]=$e[rq]=$e[iq]=$e[oq]=$e[aq]=$e[sq]=$e[lq]=$e[uq]=!1;function wq(t){return Y8(t)&&J8(t.length)&&!!$e[K8(t)]}var _q=wq;function Sq(t){return function(e){return t(e)}}var WN=Sq,Pd={exports:{}};Pd.exports;(function(t,e){var n=tN,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Pd,Pd.exports);var Eq=Pd.exports,Tq=_q,kq=WN,Xw=Eq,Qw=Xw&&Xw.isTypedArray,Aq=Qw?kq(Qw):Tq,KN=Aq,Cq=I8,Nq=E0,Pq=zt,Iq=zN,Oq=T0,Rq=KN,jq=Object.prototype,Mq=jq.hasOwnProperty;function $q(t,e){var n=Pq(t),r=!n&&Nq(t),i=!n&&!r&&Iq(t),o=!n&&!r&&!i&&Rq(t),a=n||r||i||o,s=a?Cq(t.length,String):[],l=s.length;for(var u in t)(e||Mq.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Oq(u,l)))&&s.push(u);return s}var Dq=$q,Lq=Object.prototype;function Uq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Lq;return t===n}var Fq=Uq;function Bq(t,e){return function(n){return t(e(n))}}var JN=Bq,qq=JN,Vq=qq(Object.keys,Object),Gq=Vq,Hq=Fq,zq=Gq,Wq=Object.prototype,Kq=Wq.hasOwnProperty;function Jq(t){if(!Hq(t))return zq(t);var e=[];for(var n in Object(t))Kq.call(t,n)&&n!="constructor"&&e.push(n);return e}var Yq=Jq,Xq=s0,Qq=k0;function Zq(t){return t!=null&&Qq(t.length)&&!Xq(t)}var Su=Zq,eV=Dq,tV=Yq,nV=Su;function rV(t){return nV(t)?eV(t):tV(t)}var gh=rV,iV=x8,oV=N8,aV=gh;function sV(t){return iV(t,aV,oV)}var lV=sV,Zw=lV,uV=1,cV=Object.prototype,dV=cV.hasOwnProperty;function fV(t,e,n,r,i,o){var a=n&uV,s=Zw(t),l=s.length,u=Zw(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:dV.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var hV=fV,pV=go,mV=cr,gV=pV(mV,"DataView"),yV=gV,vV=go,xV=cr,bV=vV(xV,"Promise"),wV=bV,_V=go,SV=cr,EV=_V(SV,"Set"),YN=EV,TV=go,kV=cr,AV=TV(kV,"WeakMap"),CV=AV,Ng=yV,Pg=u0,Ig=wV,Og=YN,Rg=CV,XN=Dr,ts=rN,e_="[object Map]",NV="[object Object]",t_="[object Promise]",n_="[object Set]",r_="[object WeakMap]",i_="[object DataView]",PV=ts(Ng),IV=ts(Pg),OV=ts(Ig),RV=ts(Og),jV=ts(Rg),ji=XN;(Ng&&ji(new Ng(new ArrayBuffer(1)))!=i_||Pg&&ji(new Pg)!=e_||Ig&&ji(Ig.resolve())!=t_||Og&&ji(new Og)!=n_||Rg&&ji(new Rg)!=r_)&&(ji=function(t){var e=XN(t),n=e==NV?t.constructor:void 0,r=n?ts(n):"";if(r)switch(r){case PV:return i_;case IV:return e_;case OV:return t_;case RV:return n_;case jV:return r_}return e});var MV=ji,$p=UN,$V=VN,DV=p8,LV=hV,o_=MV,a_=zt,s_=zN,UV=KN,FV=1,l_="[object Arguments]",u_="[object Array]",tc="[object Object]",BV=Object.prototype,c_=BV.hasOwnProperty;function qV(t,e,n,r,i,o){var a=a_(t),s=a_(e),l=a?u_:o_(t),u=s?u_:o_(e);l=l==l_?tc:l,u=u==l_?tc:u;var c=l==tc,f=u==tc,h=l==u;if(h&&s_(t)){if(!s_(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new $p),a||UV(t)?$V(t,e,n,r,i,o):DV(t,e,l,n,r,i,o);if(!(n&FV)){var g=c&&c_.call(t,"__wrapped__"),y=f&&c_.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,b=y?e.value():e;return o||(o=new $p),i(v,b,n,r,o)}}return h?(o||(o=new $p),LV(t,e,n,r,i,o)):!1}var VV=qV,GV=VV,d_=Lr;function QN(t,e,n,r,i){return t===e?!0:t==null||e==null||!d_(t)&&!d_(e)?t!==t&&e!==e:GV(t,e,n,r,QN,i)}var A0=QN,HV=UN,zV=A0,WV=1,KV=2;function JV(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new HV;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?zV(c,u,WV|KV,r,f):h))return!1}}return!0}var YV=JV,XV=bi;function QV(t){return t===t&&!XV(t)}var ZN=QV,ZV=ZN,eG=gh;function tG(t){for(var e=eG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ZV(i)]}return e}var nG=tG;function rG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eP=rG,iG=YV,oG=nG,aG=eP;function sG(t){var e=oG(t);return e.length==1&&e[0][2]?aG(e[0][0],e[0][1]):function(n){return n===t||iG(n,t,e)}}var lG=sG;function uG(t,e){return t!=null&&e in Object(t)}var cG=uG,dG=lN,fG=E0,hG=zt,pG=T0,mG=k0,gG=th;function yG(t,e,n){e=dG(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=gG(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&mG(i)&&pG(a,i)&&(hG(t)||fG(t)))}var vG=yG,xG=cG,bG=vG;function wG(t,e){return t!=null&&bG(t,e,xG)}var _G=wG,SG=A0,EG=uN,TG=_G,kG=a0,AG=ZN,CG=eP,NG=th,PG=1,IG=2;function OG(t,e){return kG(t)&&AG(e)?CG(NG(t),e):function(n){var r=EG(n,t);return r===void 0&&r===e?TG(n,t):SG(e,r,PG|IG)}}var RG=OG;function jG(t){return t}var ns=jG;function MG(t){return function(e){return e==null?void 0:e[t]}}var $G=MG,DG=h0;function LG(t){return function(e){return DG(e,t)}}var UG=LG,FG=$G,BG=UG,qG=a0,VG=th;function GG(t){return qG(t)?FG(VG(t)):BG(t)}var HG=GG,zG=lG,WG=RG,KG=ns,JG=zt,YG=HG;function XG(t){return typeof t=="function"?t:t==null?KG:typeof t=="object"?JG(t)?WG(t[0],t[1]):zG(t):YG(t)}var wi=XG;function QG(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var tP=QG;function ZG(t){return t!==t}var eH=ZG;function tH(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var nH=tH,rH=tP,iH=eH,oH=nH;function aH(t,e,n){return e===e?oH(t,e,n):rH(t,iH,n)}var sH=aH,lH=sH;function uH(t,e){var n=t==null?0:t.length;return!!n&&lH(t,e,0)>-1}var cH=uH;function dH(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fH=dH;function hH(){}var pH=hH,Dp=YN,mH=pH,gH=S0,yH=1/0,vH=Dp&&1/gH(new Dp([,-0]))[1]==yH?function(t){return new Dp(t)}:mH,xH=vH,bH=FN,wH=cH,_H=fH,SH=qN,EH=xH,TH=S0,kH=200;function AH(t,e,n){var r=-1,i=wH,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=_H;else if(o>=kH){var u=e?null:EH(t);if(u)return TH(u);a=!1,i=SH,l=new bH}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var CH=AH,NH=wi,PH=CH;function IH(t,e){return t&&t.length?PH(t,NH(e)):[]}var OH=IH;const f_=Ie(OH);function nP(t,e,n){return e===!0?f_(t,n):he(e)?f_(t,e):t}function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}var RH=["ref"];function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iP(r.key),r)}}function MH(t,e,n){return e&&p_(t.prototype,e),n&&p_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $H(t,e,n){return e=Id(e),DH(t,rP()?Reflect.construct(e,n||[],Id(t).constructor):e.apply(t,n))}function DH(t,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LH(t)}function LH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Id(t)}function UH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jg(t,e)}function yh(t,e,n){return e=iP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iP(t){var e=FH(t,"string");return Ea(e)=="symbol"?e:e+""}function FH(t,e){if(Ea(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BH(t,e){if(t==null)return{};var n=qH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VH(t){return t.value}function GH(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=BH(e,RH);return M.createElement(_0,n)}var m_=1,Yi=function(t){function e(){var n;jH(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$H(this,e,[].concat(i)),yh(n,"lastBoundingBox",{width:-1,height:-1}),n}return UH(e,t),MH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>m_||Math.abs(i.height-this.lastBoundingBox.height)>m_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fr(fr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=fr(fr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},GH(o,fr(fr({},this.props),{},{payload:nP(c,u,VH)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fr(fr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Q(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);yh(Yi,"displayName","Legend");yh(Yi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g_=bu,HH=E0,zH=zt,y_=g_?g_.isConcatSpreadable:void 0;function WH(t){return zH(t)||HH(t)||!!(y_&&t&&t[y_])}var KH=WH,JH=GN,YH=KH;function oP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=YH),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?oP(s,e-1,n,r,i):JH(i,s):r||(i[i.length]=s)}return i}var aP=oP;function XH(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var QH=XH,ZH=QH,e7=ZH(),t7=e7,n7=t7,r7=gh;function i7(t,e){return t&&n7(t,e,r7)}var sP=i7,o7=Su;function a7(t,e){return function(n,r){if(n==null)return n;if(!o7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var s7=a7,l7=sP,u7=s7,c7=u7(l7),C0=c7,d7=C0,f7=Su;function h7(t,e){var n=-1,r=f7(t)?Array(t.length):[];return d7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var lP=h7;function p7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var m7=p7,v_=Ja;function g7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=v_(t),a=e!==void 0,s=e===null,l=e===e,u=v_(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var y7=g7,v7=y7;function x7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=v7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var b7=x7,Lp=f0,w7=h0,_7=wi,S7=lP,E7=m7,T7=WN,k7=b7,A7=ns,C7=zt;function N7(t,e,n){e.length?e=Lp(e,function(o){return C7(o)?function(a){return w7(a,o.length===1?o[0]:o)}:o}):e=[A7];var r=-1;e=Lp(e,T7(_7));var i=S7(t,function(o,a,s){var l=Lp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return E7(i,function(o,a){return k7(o,a,n)})}var P7=N7;function I7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var O7=I7,R7=O7,x_=Math.max;function j7(t,e,n){return e=x_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=x_(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),R7(t,this,s)}}var M7=j7;function $7(t){return function(){return t}}var D7=$7,L7=go,U7=function(){try{var t=L7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uP=U7,F7=D7,b_=uP,B7=ns,q7=b_?function(t,e){return b_(t,"toString",{configurable:!0,enumerable:!1,value:F7(e),writable:!0})}:B7,V7=q7,G7=800,H7=16,z7=Date.now;function W7(t){var e=0,n=0;return function(){var r=z7(),i=H7-(r-n);if(n=r,i>0){if(++e>=G7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var K7=W7,J7=V7,Y7=K7,X7=Y7(J7),Q7=X7,Z7=ns,ez=M7,tz=Q7;function nz(t,e){return tz(ez(t,e,Z7),t+"")}var rz=nz,iz=l0,oz=Su,az=T0,sz=bi;function lz(t,e,n){if(!sz(n))return!1;var r=typeof e;return(r=="number"?oz(n)&&az(e,n.length):r=="string"&&e in n)?iz(n[e],t):!1}var vh=lz,uz=aP,cz=P7,dz=rz,w_=vh,fz=dz(function(t,e){if(t==null)return[];var n=e.length;return n>1&&w_(t,e[0],e[1])?e=[]:n>2&&w_(e[0],e[1],e[2])&&(e=[e[0]]),cz(t,uz(e,1),[])}),hz=fz;const N0=Ie(hz);function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function pz(t,e){return vz(t)||yz(t,e)||gz(t,e)||mz()}function mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gz(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vz(t){if(Array.isArray(t))return t}function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(n),!0).forEach(function(r){xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xz(t,e,n){return e=bz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bz(t){var e=wz(t,"string");return Cl(e)=="symbol"?e:e+""}function wz(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _z(t){return Array.isArray(t)&&ct(t[0])&&ct(t[1])?t.join(" ~ "):t}var Sz=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,v=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(c&&c.length){var $={padding:0,margin:0},L=(h?N0(c,h):c).map(function(j,P){if(j.type==="none")return null;var R=Up({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},s),U=j.formatter||f||_z,D=j.value,B=j.name,V=D,J=B;if(U&&V!=null&&J!=null){var H=U(D,B,j,P,c);if(Array.isArray(H)){var re=pz(H,2);V=re[0],J=re[1]}else V=H}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:R},ct(J)?M.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ct(J)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},V),M.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},E=Up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Up({margin:0},u),T=!me(v),k=T?v:"",C=we("recharts-default-tooltip",g),N=we("recharts-tooltip-label",y);T&&b&&c!==void 0&&c!==null&&(k=b(v,c));var I=w?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Mg({className:C,style:E},I),M.createElement("p",{className:N,style:S},M.isValidElement(k)?k:"".concat(k)),_())};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function nc(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=Tz(t,"string");return Nl(e)=="symbol"?e:e+""}function Tz(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bs="recharts-tooltip-wrapper",kz={visibility:"hidden"};function Az(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return we(bs,nc(nc(nc(nc({},"".concat(bs,"-right"),Q(n)&&e&&Q(e.x)&&n>=e.x),"".concat(bs,"-left"),Q(n)&&e&&Q(e.x)&&n<e.x),"".concat(bs,"-bottom"),Q(r)&&e&&Q(e.y)&&r>=e.y),"".concat(bs,"-top"),Q(r)&&e&&Q(e.y)&&r<e.y))}function E_(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Q(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,v=l[r]+u;return y>v?Math.max(c,l[r]):Math.max(f,l[r])}function Cz(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=E_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=E_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Cz({translateX:c,translateY:f,useTranslate3d:s})):u=kz,{cssProperties:u,cssClasses:Az({translateX:c,translateY:f,coordinate:n})}}function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dP(r.key),r)}}function Oz(t,e,n){return e&&Iz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rz(t,e,n){return e=Od(e),jz(t,cP()?Reflect.construct(e,n||[],Od(t).constructor):e.apply(t,n))}function jz(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mz(t)}function Mz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(t)}function $z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$g(t,e)}function $g(t,e){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$g(t,e)}function Dg(t,e,n){return e=dP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dP(t){var e=Dz(t,"string");return Ta(e)=="symbol"?e:e+""}function Dz(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A_=1,Lz=function(t){function e(){var n;Pz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rz(this,e,[].concat(i)),Dg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return $z(e,t),Oz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>A_||Math.abs(r.height-this.state.lastBoundingBox.height)>A_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=Nz({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),E=_.cssClasses,S=_.cssProperties,T=k_(k_({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return M.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(C){r.wrapperNode=C}},u)}}])}(A.PureComponent),Uz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rs={isSsr:Uz()};function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function C_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hP(r.key),r)}}function qz(t,e,n){return e&&Bz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vz(t,e,n){return e=Rd(e),Gz(t,fP()?Reflect.construct(e,n||[],Rd(t).constructor):e.apply(t,n))}function Gz(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hz(t)}function Hz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}function zz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lg(t,e)}function Lg(t,e){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lg(t,e)}function P0(t,e,n){return e=hP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t){var e=Wz(t,"string");return ka(e)=="symbol"?e:e+""}function Wz(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kz(t){return t.dataKey}function Jz(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Sz,e)}var Zt=function(t){function e(){return Fz(this,e),Vz(this,e,arguments)}return zz(e,t),qz(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,v=i.payloadUniqBy,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=y??[];f&&S.length&&(S=nP(y.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),v,Kz));var T=S.length>0;return M.createElement(Lz,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:T,offset:g,position:b,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:E},Jz(u,N_(N_({},this.props),{},{payload:S})))}}])}(A.PureComponent);P0(Zt,"displayName","Tooltip");P0(Zt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yz=cr,Xz=function(){return Yz.Date.now()},Qz=Xz,Zz=/\s/;function eW(t){for(var e=t.length;e--&&Zz.test(t.charAt(e)););return e}var tW=eW,nW=tW,rW=/^\s+/;function iW(t){return t&&t.slice(0,nW(t)+1).replace(rW,"")}var oW=iW,aW=oW,P_=bi,sW=Ja,I_=NaN,lW=/^[-+]0x[0-9a-f]+$/i,uW=/^0b[01]+$/i,cW=/^0o[0-7]+$/i,dW=parseInt;function fW(t){if(typeof t=="number")return t;if(sW(t))return I_;if(P_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=P_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aW(t);var n=uW.test(t);return n||cW.test(t)?dW(t.slice(2),n?2:8):lW.test(t)?I_:+t}var pP=fW,hW=bi,Fp=Qz,O_=pP,pW="Expected a function",mW=Math.max,gW=Math.min;function yW(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(pW);e=O_(e)||0,hW(n)&&(c=!!n.leading,f="maxWait"in n,o=f?mW(O_(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(T){var k=r,C=i;return r=i=void 0,u=T,a=t.apply(C,k),a}function y(T){return u=T,s=setTimeout(x,e),c?g(T):a}function v(T){var k=T-l,C=T-u,N=e-k;return f?gW(N,o-C):N}function b(T){var k=T-l,C=T-u;return l===void 0||k>=e||k<0||f&&C>=o}function x(){var T=Fp();if(b(T))return w(T);s=setTimeout(x,v(T))}function w(T){return s=void 0,h&&r?g(T):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(Fp())}function S(){var T=Fp(),k=b(T);if(r=arguments,i=this,l=T,k){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=_,S.flush=E,S}var vW=yW,xW=vW,bW=bi,wW="Expected a function";function _W(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(wW);return bW(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xW(t,e,{leading:r,maxWait:e,trailing:i})}var SW=_W;const mP=Ie(SW);function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){EW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EW(t,e,n){return e=TW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=kW(t,"string");return Pl(e)=="symbol"?e:e+""}function kW(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AW(t,e){return IW(t)||PW(t,e)||NW(t,e)||CW()}function CW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function IW(t){if(Array.isArray(t))return t}var jd=A.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,v=y===void 0?0:y,b=t.id,x=t.className,w=t.onResize,_=t.style,E=_===void 0?{}:_,S=A.useRef(null),T=A.useRef();T.current=w,A.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=A.useState({containerWidth:i.width,containerHeight:i.height}),C=AW(k,2),N=C[0],I=C[1],O=A.useCallback(function(L,j){I(function(P){var R=Math.round(L),U=Math.round(j);return P.containerWidth===R&&P.containerHeight===U?P:{containerWidth:R,containerHeight:U}})},[]);A.useEffect(function(){var L=function(B){var V,J=B[0].contentRect,H=J.width,re=J.height;O(H,re),(V=T.current)===null||V===void 0||V.call(T,H,re)};v>0&&(L=mP(L,v,{trailing:!0,leading:!1}));var j=new ResizeObserver(L),P=S.current.getBoundingClientRect(),R=P.width,U=P.height;return O(R,U),j.observe(S.current),function(){j.disconnect()}},[O,v]);var $=A.useMemo(function(){var L=N.containerWidth,j=N.containerHeight;if(L<0||j<0)return null;Er(Vi(a)||Vi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Er(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Vi(a)?L:a,R=Vi(l)?j:l;n&&n>0&&(P?R=P/n:R&&(P=R*n),h&&R>h&&(R=h)),Er(P>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,R,a,l,c,f,n);var U=!Array.isArray(g)&&Sr(g.type).endsWith("Chart");return M.Children.map(g,function(D){return M.isValidElement(D)?A.cloneElement(D,rc({width:P,height:R},U?{style:rc({height:"100%",width:"100%",maxHeight:R,maxWidth:P},D.props.style)}:{})):D})},[n,g,l,h,f,c,N,a]);return M.createElement("div",{id:b?"".concat(b):void 0,className:we("recharts-responsive-container",x),style:rc(rc({},E),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},$)}),gP=function(e){return null};gP.displayName="Cell";function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return e=RW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=jW(t,"string");return Il(e)=="symbol"?e:e+""}function jW(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Po={widthCache:{},cacheCount:0},MW=2e3,$W={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$_="recharts_measurement_span";function DW(t){var e=Ug({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ys=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rs.isSsr)return{width:0,height:0};var r=DW(n),i=JSON.stringify({text:e,copyStyle:r});if(Po.widthCache[i])return Po.widthCache[i];try{var o=document.getElementById($_);o||(o=document.createElement("span"),o.setAttribute("id",$_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ug(Ug({},$W),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Po.widthCache[i]=l,++Po.cacheCount>MW&&(Po.cacheCount=0,Po.widthCache={}),l}catch{return{width:0,height:0}}},LW=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Md(t,e){return qW(t)||BW(t,e)||FW(t,e)||UW()}function UW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qW(t){if(Array.isArray(t))return t}function VW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HW(r.key),r)}}function GW(t,e,n){return e&&L_(t.prototype,e),n&&L_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HW(t){var e=zW(t,"string");return Ol(e)=="symbol"?e:e+""}function zW(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JW=Object.keys(yP),Xo="NaN";function YW(t,e){return t*yP[e]}var ic=function(){function t(e,n){VW(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!WW.test(n)&&(this.num=NaN,this.unit=""),JW.includes(n)&&(this.num=YW(e,n),this.unit="px")}return GW(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=KW.exec(n))!==null&&r!==void 0?r:[],o=Md(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function vP(t){if(t.includes(Xo))return Xo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=U_.exec(e))!==null&&n!==void 0?n:[],i=Md(r,4),o=i[1],a=i[2],s=i[3],l=ic.parse(o??""),u=ic.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Xo;e=e.replace(U_,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=F_.exec(e))!==null&&f!==void 0?f:[],g=Md(h,4),y=g[1],v=g[2],b=g[3],x=ic.parse(y??""),w=ic.parse(b??""),_=v==="+"?x.add(w):x.subtract(w);if(_.isNaN())return Xo;e=e.replace(F_,_.toString())}return e}var B_=/\(([^()]*)\)/;function XW(t){for(var e=t;e.includes("(");){var n=B_.exec(e),r=Md(n,2),i=r[1];e=e.replace(B_,vP(i))}return e}function QW(t){var e=t.replace(/\s+/g,"");return e=XW(e),e=vP(e),e}function ZW(t){try{return QW(t)}catch{return Xo}}function Bp(t){var e=ZW(t.slice(5,-1));return e===Xo?"":e}var e9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],t9=["dx","dy","angle","className","breakAll"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function q_(t,e){if(t==null)return{};var n=n9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_(t,e){return a9(t)||o9(t,e)||i9(t,e)||r9()}function r9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function a9(t){if(Array.isArray(t))return t}var xP=/[ \f\n\r\t\v\u2028\u2029]+/,bP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];me(n)||(r?o=n.toString().split(""):o=n.toString().split(xP));var a=o.map(function(l){return{word:l,width:Ys(l,i).width}}),s=r?0:Ys("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},s9=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Q(a),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(R,U){var D=U.word,B=U.width,V=R[R.length-1];if(V&&(i==null||o||V.width+B+r<Number(i)))V.words.push(D),V.width+=B+r;else{var J={words:[D],width:B};R.push(J)}return R},[])},g=h(n),y=function(P){return P.reduce(function(R,U){return R.width>U.width?R:U})};if(!c)return g;for(var v="",b=function(P){var R=f.slice(0,P),U=bP({breakAll:u,style:l,children:R+v}).wordsWithComputedWidth,D=h(U),B=D.length>a||y(D).width>Number(i);return[B,D]},x=0,w=f.length-1,_=0,E;x<=w&&_<=f.length-1;){var S=Math.floor((x+w)/2),T=S-1,k=b(T),C=V_(k,2),N=C[0],I=C[1],O=b(S),$=V_(O,1),L=$[0];if(!N&&!L&&(x=S+1),N&&L&&(w=S-1),!N&&L){E=I;break}_++}return E||g},H_=function(e){var n=me(e)?[]:e.toString().split(xP);return[{words:n}]},l9=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!rs.isSsr){var l,u,c=bP({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return H_(i);return s9({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return H_(i)},z_="#808080",$d=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,v=y===void 0?"end":y,b=e.fill,x=b===void 0?z_:b,w=q_(e,e9),_=A.useMemo(function(){return l9({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,S=w.dy,T=w.angle,k=w.className,C=w.breakAll,N=q_(w,t9);if(!ct(r)||!ct(o))return null;var I=r+(Q(E)?E:0),O=o+(Q(S)?S:0),$;switch(v){case"start":$=Bp("calc(".concat(u,")"));break;case"middle":$=Bp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=Bp("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[];if(f){var j=_[0].width,P=w.width;L.push("scale(".concat((Q(P)?P/j:1)/j,")"))}return T&&L.push("rotate(".concat(T,", ").concat(I,", ").concat(O,")")),L.length&&(N.transform=L.join(" ")),M.createElement("text",Fg({},xe(N,!0),{x:I,y:O,className:we("recharts-text",k),textAnchor:g,fill:x.includes("url")?z_:x}),_.map(function(R,U){var D=R.words.join(C?"":" ");return M.createElement("tspan",{x:I,dy:U===0?$:s,key:"".concat(D,"-").concat(U)},D)}))};function di(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I0(t){let e,n,r;t.length!==2?(e=di,n=(s,l)=>di(t(s),l),r=(s,l)=>t(s)-l):(e=t===di||t===u9?t:c9,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function c9(){return 0}function wP(t){return t===null?NaN:+t}function*d9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const f9=I0(di),Eu=f9.right;I0(wP).center;class W_ extends Map{constructor(e,n=m9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(K_(this,e))}has(e){return super.has(K_(this,e))}set(e,n){return super.set(h9(this,e),n)}delete(e){return super.delete(p9(this,e))}}function K_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function h9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function p9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function m9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function g9(t=di){if(t===di)return _P;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _P(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const y9=Math.sqrt(50),v9=Math.sqrt(10),x9=Math.sqrt(2);function Dd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=y9?10:o>=v9?5:o>=x9?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Dd(t,e,n*2):[s,l,u]}function Bg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Dd(e,t,n):Dd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function qg(t,e,n){return e=+e,t=+t,n=+n,Dd(t,e,n)[2]}function Vg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?qg(e,t,n):qg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function J_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Y_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_P:g9(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));SP(t,e,g,y,i)}const o=t[e];let a=n,s=r;for(ws(t,n,e),i(t[r],o)>0&&ws(t,n,r);a<s;){for(ws(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ws(t,n,s):(++s,ws(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ws(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b9(t,e,n){if(t=Float64Array.from(d9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Y_(t);if(e>=1)return J_(t);var r,i=(r-1)*e,o=Math.floor(i),a=J_(SP(t,o).subarray(0,o+1)),s=Y_(t.subarray(o+1));return a+(s-a)*(i-o)}}function w9(t,e,n=wP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function _9(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Nn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ur(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gg=Symbol("implicit");function O0(){var t=new W_,e=[],n=[],r=Gg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Gg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new W_;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return O0(e,n).unknown(r)},Nn.apply(i,arguments),i}function Rl(){var t=O0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,y=g?i:r,v=g?r:i;o=(v-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var b=_9(h).map(function(x){return y+o*x});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Rl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Nn.apply(f(),arguments)}function EP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EP(e())},t}function Xs(){return EP(Rl.apply(null,arguments).paddingInner(1))}function R0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tu(){}var jl=.7,Ld=1/jl,da="\\s*([+-]?\\d+)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S9=/^#([0-9a-f]{3,8})$/,E9=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),T9=new RegExp(`^rgb\\(${ir},${ir},${ir}\\)$`),k9=new RegExp(`^rgba\\(${da},${da},${da},${Ml}\\)$`),A9=new RegExp(`^rgba\\(${ir},${ir},${ir},${Ml}\\)$`),C9=new RegExp(`^hsl\\(${Ml},${ir},${ir}\\)$`),N9=new RegExp(`^hsla\\(${Ml},${ir},${ir},${Ml}\\)$`),X_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R0(Tu,$l,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Q_,formatHex:Q_,formatHex8:P9,formatHsl:I9,formatRgb:Z_,toString:Z_});function Q_(){return this.rgb().formatHex()}function P9(){return this.rgb().formatHex8()}function I9(){return kP(this).formatHsl()}function Z_(){return this.rgb().formatRgb()}function $l(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=S9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eS(e):n===3?new qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E9.exec(t))?new qt(e[1],e[2],e[3],1):(e=T9.exec(t))?new qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=k9.exec(t))?oc(e[1],e[2],e[3],e[4]):(e=A9.exec(t))?oc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=C9.exec(t))?rS(e[1],e[2]/100,e[3]/100,1):(e=N9.exec(t))?rS(e[1],e[2]/100,e[3]/100,e[4]):X_.hasOwnProperty(t)?eS(X_[t]):t==="transparent"?new qt(NaN,NaN,NaN,0):null}function eS(t){return new qt(t>>16&255,t>>8&255,t&255,1)}function oc(t,e,n,r){return r<=0&&(t=e=n=NaN),new qt(t,e,n,r)}function O9(t){return t instanceof Tu||(t=$l(t)),t?(t=t.rgb(),new qt(t.r,t.g,t.b,t.opacity)):new qt}function Hg(t,e,n,r){return arguments.length===1?O9(t):new qt(t,e,n,r??1)}function qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}R0(qt,Hg,TP(Tu,{brighter(t){return t=t==null?Ld:Math.pow(Ld,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qt(Xi(this.r),Xi(this.g),Xi(this.b),Ud(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tS,formatHex:tS,formatHex8:R9,formatRgb:nS,toString:nS}));function tS(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}`}function R9(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}${Gi((isNaN(this.opacity)?1:this.opacity)*255)}`}function nS(){const t=Ud(this.opacity);return`${t===1?"rgb(":"rgba("}${Xi(this.r)}, ${Xi(this.g)}, ${Xi(this.b)}${t===1?")":`, ${t})`}`}function Ud(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gi(t){return t=Xi(t),(t<16?"0":"")+t.toString(16)}function rS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qn(t,e,n,r)}function kP(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);if(t instanceof Tu||(t=$l(t)),!t)return new qn;if(t instanceof qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new qn(a,s,l,t.opacity)}function j9(t,e,n,r){return arguments.length===1?kP(t):new qn(t,e,n,r??1)}function qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}R0(qn,j9,TP(Tu,{brighter(t){return t=t==null?Ld:Math.pow(Ld,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qt(qp(t>=240?t-240:t+120,i,r),qp(t,i,r),qp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qn(iS(this.h),ac(this.s),ac(this.l),Ud(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ud(this.opacity);return`${t===1?"hsl(":"hsla("}${iS(this.h)}, ${ac(this.s)*100}%, ${ac(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iS(t){return t=(t||0)%360,t<0?t+360:t}function ac(t){return Math.max(0,Math.min(1,t||0))}function qp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const j0=t=>()=>t;function M9(t,e){return function(n){return t+n*e}}function $9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function D9(t){return(t=+t)==1?AP:function(e,n){return n-e?$9(e,n,t):j0(isNaN(e)?n:e)}}function AP(t,e){var n=e-t;return n?M9(t,n):j0(isNaN(t)?e:t)}const oS=function t(e){var n=D9(e);function r(i,o){var a=n((i=Hg(i)).r,(o=Hg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=AP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function L9(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function U9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function F9(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=is(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function B9(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function q9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=is(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vp=new RegExp(zg.source,"g");function V9(t){return function(){return t}}function G9(t){return function(e){return t(e)+""}}function H9(t,e){var n=zg.lastIndex=Vp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=zg.exec(t))&&(i=Vp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Fd(r,i)})),n=Vp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?G9(l[0].x):V9(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function is(t,e){var n=typeof e,r;return e==null||n==="boolean"?j0(e):(n==="number"?Fd:n==="string"?(r=$l(e))?(e=r,oS):H9:e instanceof $l?oS:e instanceof Date?B9:U9(e)?L9:Array.isArray(e)?F9:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?q9:Fd)(t,e)}function M0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function z9(t,e){e===void 0&&(e=t,t=is);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function W9(t){return function(){return t}}function Bd(t){return+t}var aS=[0,1];function jt(t){return t}function Wg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:W9(isNaN(e)?NaN:.5)}function K9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function J9(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Wg(i,r),o=n(a,o)):(r=Wg(r,i),o=n(o,a)),function(s){return o(r(s))}}function Y9(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Wg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Eu(t,s,1,r)-1;return o[l](i[l](s))}}function ku(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xh(){var t=aS,e=aS,n=is,r,i,o,a=jt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==jt&&(a=K9(t[0],t[h-1])),s=h>2?Y9:J9,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Fd)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Bd),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=M0,c()},f.clamp=function(h){return arguments.length?(a=h?!0:jt,c()):a!==jt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,c()}}function $0(){return xh()(jt,jt)}function X9(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Aa(t){return t=qd(Math.abs(t)),t?t[1]:NaN}function Q9(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Z9(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var eK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dl(t){if(!(e=eK.exec(t)))throw new Error("invalid format: "+t);var e;return new D0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dl.prototype=D0.prototype;function D0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}D0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tK(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var CP;function nK(t,e){var n=qd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(CP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qd(t,Math.max(0,e+o-1))[0]}function sS(t,e){var n=qd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:X9,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sS(t*100,e),r:sS,s:nK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uS(t){return t}var cS=Array.prototype.map,dS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rK(t){var e=t.grouping===void 0||t.thousands===void 0?uS:Q9(cS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?uS:Z9(cS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Dl(f);var h=f.fill,g=f.align,y=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,E=f.trim,S=f.type;S==="n"?(w=!0,S="g"):lS[S]||(_===void 0&&(_=12),E=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var T=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=v==="$"?r:/[%p]/.test(S)?a:"",C=lS[S],N=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var $=T,L=k,j,P,R;if(S==="c")L=C(O)+L,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),E&&(O=tK(O)),U&&+O==0&&y!=="+"&&(U=!1),$=(U?y==="("?y:s:y==="-"||y==="("?"":y)+$,L=(S==="s"?dS[8+CP/3]:"")+L+(U&&y==="("?")":""),N){for(j=-1,P=O.length;++j<P;)if(R=O.charCodeAt(j),48>R||R>57){L=(R===46?i+O.slice(j+1):O.slice(j))+L,O=O.slice(0,j);break}}}w&&!b&&(O=e(O,1/0));var D=$.length+O.length+L.length,B=D<x?new Array(x-D+1).join(h):"";switch(w&&b&&(O=e(B+O,B.length?x-L.length:1/0),B=""),g){case"<":O=$+O+L+B;break;case"=":O=$+B+O+L;break;case"^":O=B.slice(0,D=B.length>>1)+$+O+L+B.slice(D);break;default:O=B+$+O+L;break}return o(O)}return I.toString=function(){return f+""},I}function c(f,h){var g=u((f=Dl(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Aa(h)/3)))*3,v=Math.pow(10,-y),b=dS[8+y/3];return function(x){return g(v*x)+b}}return{format:u,formatPrefix:c}}var sc,L0,NP;iK({thousands:",",grouping:[3],currency:["$",""]});function iK(t){return sc=rK(t),L0=sc.format,NP=sc.formatPrefix,sc}function oK(t){return Math.max(0,-Aa(Math.abs(t)))}function aK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Aa(e)/3)))*3-Aa(Math.abs(t)))}function sK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Aa(e)-Aa(t))+1}function PP(t,e,n,r){var i=Vg(t,e,n),o;switch(r=Dl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=aK(i,a))&&(r.precision=o),NP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=oK(i))&&(r.precision=o-(r.type==="%")*2);break}}return L0(r)}function _i(t){var e=t.domain;return t.ticks=function(n){var r=e();return Bg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=qg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Vd(){var t=$0();return t.copy=function(){return ku(t,Vd())},Nn.apply(t,arguments),_i(t)}function IP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Bd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return IP(t).unknown(e)},t=arguments.length?Array.from(t,Bd):[0,1],_i(n)}function OP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function fS(t){return Math.log(t)}function hS(t){return Math.exp(t)}function lK(t){return-Math.log(-t)}function uK(t){return-Math.exp(-t)}function cK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dK(t){return t===10?cK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pS(t){return(e,n)=>-t(-e,n)}function U0(t){const e=t(fS,hS),n=e.domain;let r=10,i,o;function a(){return i=fK(r),o=dK(r),n()[0]<0?(i=pS(i),o=pS(o),t(lK,uK)):t(fS,hS),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),y,v;const b=s==null?10:+s;let x=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<r;++y)if(v=h<0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;x.push(v)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;x.push(v)}x.length*2<b&&(x=Bg(u,c,b))}else x=Bg(h,g,Math.min(g-h,b)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dl(l)).precision==null&&(l.trim=!0),l=L0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(OP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function RP(){const t=U0(xh()).domain([1,10]);return t.copy=()=>ku(t,RP()).base(t.base()),Nn.apply(t,arguments),t}function mS(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function F0(t){var e=1,n=t(mS(e),gS(e));return n.constant=function(r){return arguments.length?t(mS(e=+r),gS(e)):e},_i(n)}function jP(){var t=F0(xh());return t.copy=function(){return ku(t,jP()).constant(t.constant())},Nn.apply(t,arguments)}function yS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pK(t){return t<0?-t*t:t*t}function B0(t){var e=t(jt,jt),n=1;function r(){return n===1?t(jt,jt):n===.5?t(hK,pK):t(yS(n),yS(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_i(e)}function q0(){var t=B0(xh());return t.copy=function(){return ku(t,q0()).exponent(t.exponent())},Nn.apply(t,arguments),t}function mK(){return q0.apply(null,arguments).exponent(.5)}function vS(t){return Math.sign(t)*t*t}function gK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MP(){var t=$0(),e=[0,1],n=!1,r;function i(o){var a=gK(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(vS(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Bd)).map(vS)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return MP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Nn.apply(i,arguments),_i(i)}function $P(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=w9(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Eu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(di),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return $P().domain(t).range(e).unknown(r)},Nn.apply(o,arguments)}function DP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Eu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return DP().domain([t,e]).range(i).unknown(o)},Nn.apply(_i(a),arguments)}function LP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Eu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return LP().domain(t).range(e).unknown(n)},Nn.apply(i,arguments)}const Gp=new Date,Hp=new Date;function dt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>dt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Gp.setTime(+o),Hp.setTime(+a),t(Gp),t(Hp),Math.floor(n(Gp,Hp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Gd=dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Gd);Gd.range;const vr=1e3,vn=vr*60,xr=vn*60,Pr=xr*24,V0=Pr*7,xS=Pr*30,zp=Pr*365,Hi=dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getUTCSeconds());Hi.range;const G0=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getMinutes());G0.range;const H0=dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getUTCMinutes());H0.range;const z0=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr-t.getMinutes()*vn)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getHours());z0.range;const W0=dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getUTCHours());W0.range;const Au=dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vn)/Pr,t=>t.getDate()-1);Au.range;const bh=dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pr,t=>t.getUTCDate()-1);bh.range;const UP=dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pr,t=>Math.floor(t/Pr));UP.range;function yo(t){return dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vn)/V0)}const wh=yo(0),Hd=yo(1),yK=yo(2),vK=yo(3),Ca=yo(4),xK=yo(5),bK=yo(6);wh.range;Hd.range;yK.range;vK.range;Ca.range;xK.range;bK.range;function vo(t){return dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/V0)}const _h=vo(0),zd=vo(1),wK=vo(2),_K=vo(3),Na=vo(4),SK=vo(5),EK=vo(6);_h.range;zd.range;wK.range;_K.range;Na.range;SK.range;EK.range;const K0=dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());K0.range;const J0=dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J0.range;const Ir=dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ir.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ir.range;const Or=dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Or.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Or.range;function FP(t,e,n,r,i,o){const a=[[Hi,1,vr],[Hi,5,5*vr],[Hi,15,15*vr],[Hi,30,30*vr],[o,1,vn],[o,5,5*vn],[o,15,15*vn],[o,30,30*vn],[i,1,xr],[i,3,3*xr],[i,6,6*xr],[i,12,12*xr],[r,1,Pr],[r,2,2*Pr],[n,1,V0],[e,1,xS],[e,3,3*xS],[t,1,zp]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),y=g?g.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,g=I0(([,,b])=>b).right(a,h);if(g===a.length)return t.every(Vg(u/zp,c/zp,f));if(g===0)return Gd.every(Math.max(Vg(u,c,f),1));const[y,v]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return y.every(v)}return[s,l]}const[TK,kK]=FP(Or,J0,_h,UP,W0,H0),[AK,CK]=FP(Ir,K0,wh,Au,z0,G0);function Wp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _s(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ss(i),c=Es(i),f=Ss(o),h=Es(o),g=Ss(a),y=Es(a),v=Ss(s),b=Es(s),x=Ss(l),w=Es(l),_={a:U,A:D,b:B,B:V,c:null,d:TS,e:TS,f:QK,g:lJ,G:cJ,H:JK,I:YK,j:XK,L:BP,m:ZK,M:eJ,p:J,q:H,Q:CS,s:NS,S:tJ,u:nJ,U:rJ,V:iJ,w:oJ,W:aJ,x:null,X:null,y:sJ,Y:uJ,Z:dJ,"%":AS},E={a:re,A:fe,b:pe,B:ye,c:null,d:kS,e:kS,f:mJ,g:TJ,G:AJ,H:fJ,I:hJ,j:pJ,L:VP,m:gJ,M:yJ,p:ve,q:Ue,Q:CS,s:NS,S:vJ,u:xJ,U:bJ,V:wJ,w:_J,W:SJ,x:null,X:null,y:EJ,Y:kJ,Z:CJ,"%":AS},S={a:I,A:O,b:$,B:L,c:j,d:SS,e:SS,f:HK,g:_S,G:wS,H:ES,I:ES,j:BK,L:GK,m:FK,M:qK,p:N,q:UK,Q:WK,s:KK,S:VK,u:jK,U:MK,V:$K,w:RK,W:DK,x:P,X:R,y:_S,Y:wS,Z:LK,"%":zK};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(Y,ue){return function(ce){var z=[],Ae=-1,q=0,ee=Y.length,F,W,oe;for(ce instanceof Date||(ce=new Date(+ce));++Ae<ee;)Y.charCodeAt(Ae)===37&&(z.push(Y.slice(q,Ae)),(W=bS[F=Y.charAt(++Ae)])!=null?F=Y.charAt(++Ae):W=F==="e"?" ":"0",(oe=ue[F])&&(F=oe(ce,W)),z.push(F),q=Ae+1);return z.push(Y.slice(q,Ae)),z.join("")}}function k(Y,ue){return function(ce){var z=_s(1900,void 0,1),Ae=C(z,Y,ce+="",0),q,ee;if(Ae!=ce.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ue&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(q=Kp(_s(z.y,0,1)),ee=q.getUTCDay(),q=ee>4||ee===0?zd.ceil(q):zd(q),q=bh.offset(q,(z.V-1)*7),z.y=q.getUTCFullYear(),z.m=q.getUTCMonth(),z.d=q.getUTCDate()+(z.w+6)%7):(q=Wp(_s(z.y,0,1)),ee=q.getDay(),q=ee>4||ee===0?Hd.ceil(q):Hd(q),q=Au.offset(q,(z.V-1)*7),z.y=q.getFullYear(),z.m=q.getMonth(),z.d=q.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ee="Z"in z?Kp(_s(z.y,0,1)).getUTCDay():Wp(_s(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ee+5)%7:z.w+z.U*7-(ee+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Kp(z)):Wp(z)}}function C(Y,ue,ce,z){for(var Ae=0,q=ue.length,ee=ce.length,F,W;Ae<q;){if(z>=ee)return-1;if(F=ue.charCodeAt(Ae++),F===37){if(F=ue.charAt(Ae++),W=S[F in bS?ue.charAt(Ae++):F],!W||(z=W(Y,ce,z))<0)return-1}else if(F!=ce.charCodeAt(z++))return-1}return z}function N(Y,ue,ce){var z=u.exec(ue.slice(ce));return z?(Y.p=c.get(z[0].toLowerCase()),ce+z[0].length):-1}function I(Y,ue,ce){var z=g.exec(ue.slice(ce));return z?(Y.w=y.get(z[0].toLowerCase()),ce+z[0].length):-1}function O(Y,ue,ce){var z=f.exec(ue.slice(ce));return z?(Y.w=h.get(z[0].toLowerCase()),ce+z[0].length):-1}function $(Y,ue,ce){var z=x.exec(ue.slice(ce));return z?(Y.m=w.get(z[0].toLowerCase()),ce+z[0].length):-1}function L(Y,ue,ce){var z=v.exec(ue.slice(ce));return z?(Y.m=b.get(z[0].toLowerCase()),ce+z[0].length):-1}function j(Y,ue,ce){return C(Y,e,ue,ce)}function P(Y,ue,ce){return C(Y,n,ue,ce)}function R(Y,ue,ce){return C(Y,r,ue,ce)}function U(Y){return a[Y.getDay()]}function D(Y){return o[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function J(Y){return i[+(Y.getHours()>=12)]}function H(Y){return 1+~~(Y.getMonth()/3)}function re(Y){return a[Y.getUTCDay()]}function fe(Y){return o[Y.getUTCDay()]}function pe(Y){return l[Y.getUTCMonth()]}function ye(Y){return s[Y.getUTCMonth()]}function ve(Y){return i[+(Y.getUTCHours()>=12)]}function Ue(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ue=T(Y+="",_);return ue.toString=function(){return Y},ue},parse:function(Y){var ue=k(Y+="",!1);return ue.toString=function(){return Y},ue},utcFormat:function(Y){var ue=T(Y+="",E);return ue.toString=function(){return Y},ue},utcParse:function(Y){var ue=k(Y+="",!0);return ue.toString=function(){return Y},ue}}}var bS={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,PK=/^%/,IK=/[\\^$*+?|[\]().{}]/g;function _e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function OK(t){return t.replace(IK,"\\$&")}function Ss(t){return new RegExp("^(?:"+t.map(OK).join("|")+")","i")}function Es(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function RK(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jK(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function MK(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $K(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function DK(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wS(t,e,n){var r=mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _S(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UK(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function FK(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SS(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function BK(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ES(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qK(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function VK(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GK(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function HK(t,e,n){var r=mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zK(t,e,n){var r=PK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function WK(t,e,n){var r=mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function KK(t,e,n){var r=mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TS(t,e){return _e(t.getDate(),e,2)}function JK(t,e){return _e(t.getHours(),e,2)}function YK(t,e){return _e(t.getHours()%12||12,e,2)}function XK(t,e){return _e(1+Au.count(Ir(t),t),e,3)}function BP(t,e){return _e(t.getMilliseconds(),e,3)}function QK(t,e){return BP(t,e)+"000"}function ZK(t,e){return _e(t.getMonth()+1,e,2)}function eJ(t,e){return _e(t.getMinutes(),e,2)}function tJ(t,e){return _e(t.getSeconds(),e,2)}function nJ(t){var e=t.getDay();return e===0?7:e}function rJ(t,e){return _e(wh.count(Ir(t)-1,t),e,2)}function qP(t){var e=t.getDay();return e>=4||e===0?Ca(t):Ca.ceil(t)}function iJ(t,e){return t=qP(t),_e(Ca.count(Ir(t),t)+(Ir(t).getDay()===4),e,2)}function oJ(t){return t.getDay()}function aJ(t,e){return _e(Hd.count(Ir(t)-1,t),e,2)}function sJ(t,e){return _e(t.getFullYear()%100,e,2)}function lJ(t,e){return t=qP(t),_e(t.getFullYear()%100,e,2)}function uJ(t,e){return _e(t.getFullYear()%1e4,e,4)}function cJ(t,e){var n=t.getDay();return t=n>=4||n===0?Ca(t):Ca.ceil(t),_e(t.getFullYear()%1e4,e,4)}function dJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_e(e/60|0,"0",2)+_e(e%60,"0",2)}function kS(t,e){return _e(t.getUTCDate(),e,2)}function fJ(t,e){return _e(t.getUTCHours(),e,2)}function hJ(t,e){return _e(t.getUTCHours()%12||12,e,2)}function pJ(t,e){return _e(1+bh.count(Or(t),t),e,3)}function VP(t,e){return _e(t.getUTCMilliseconds(),e,3)}function mJ(t,e){return VP(t,e)+"000"}function gJ(t,e){return _e(t.getUTCMonth()+1,e,2)}function yJ(t,e){return _e(t.getUTCMinutes(),e,2)}function vJ(t,e){return _e(t.getUTCSeconds(),e,2)}function xJ(t){var e=t.getUTCDay();return e===0?7:e}function bJ(t,e){return _e(_h.count(Or(t)-1,t),e,2)}function GP(t){var e=t.getUTCDay();return e>=4||e===0?Na(t):Na.ceil(t)}function wJ(t,e){return t=GP(t),_e(Na.count(Or(t),t)+(Or(t).getUTCDay()===4),e,2)}function _J(t){return t.getUTCDay()}function SJ(t,e){return _e(zd.count(Or(t)-1,t),e,2)}function EJ(t,e){return _e(t.getUTCFullYear()%100,e,2)}function TJ(t,e){return t=GP(t),_e(t.getUTCFullYear()%100,e,2)}function kJ(t,e){return _e(t.getUTCFullYear()%1e4,e,4)}function AJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Na(t):Na.ceil(t),_e(t.getUTCFullYear()%1e4,e,4)}function CJ(){return"+0000"}function AS(){return"%"}function CS(t){return+t}function NS(t){return Math.floor(+t/1e3)}var Io,HP,zP;NJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NJ(t){return Io=NK(t),HP=Io.format,Io.parse,zP=Io.utcFormat,Io.utcParse,Io}function PJ(t){return new Date(t)}function IJ(t){return t instanceof Date?+t:+new Date(+t)}function Y0(t,e,n,r,i,o,a,s,l,u){var c=$0(),f=c.invert,h=c.domain,g=u(".%L"),y=u(":%S"),v=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),E=u("%Y");function S(T){return(l(T)<T?g:s(T)<T?y:a(T)<T?v:o(T)<T?b:r(T)<T?i(T)<T?x:w:n(T)<T?_:E)(T)}return c.invert=function(T){return new Date(f(T))},c.domain=function(T){return arguments.length?h(Array.from(T,IJ)):h().map(PJ)},c.ticks=function(T){var k=h();return t(k[0],k[k.length-1],T??10)},c.tickFormat=function(T,k){return k==null?S:u(k)},c.nice=function(T){var k=h();return(!T||typeof T.range!="function")&&(T=e(k[0],k[k.length-1],T??10)),T?h(OP(k,T)):c},c.copy=function(){return ku(c,Y0(t,e,n,r,i,o,a,s,l,u))},c}function OJ(){return Nn.apply(Y0(AK,CK,Ir,K0,wh,Au,z0,G0,Hi,HP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RJ(){return Nn.apply(Y0(TK,kK,Or,J0,_h,bh,W0,H0,Hi,zP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sh(){var t=0,e=1,n,r,i,o,a=jt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var g,y;return arguments.length?([g,y]=h,a=f(g,y),u):[a(0),a(1)]}}return u.range=c(is),u.rangeRound=c(M0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Si(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WP(){var t=_i(Sh()(jt));return t.copy=function(){return Si(t,WP())},Ur.apply(t,arguments)}function KP(){var t=U0(Sh()).domain([1,10]);return t.copy=function(){return Si(t,KP()).base(t.base())},Ur.apply(t,arguments)}function JP(){var t=F0(Sh());return t.copy=function(){return Si(t,JP()).constant(t.constant())},Ur.apply(t,arguments)}function X0(){var t=B0(Sh());return t.copy=function(){return Si(t,X0()).exponent(t.exponent())},Ur.apply(t,arguments)}function jJ(){return X0.apply(null,arguments).exponent(.5)}function YP(){var t=[],e=jt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(di),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>b9(t,o/r))},n.copy=function(){return YP(e).domain(t)},Ur.apply(n,arguments)}function Eh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=jt,c,f=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function y(v){return function(b){var x,w,_;return arguments.length?([x,w,_]=b,u=z9(v,[x,w,_]),g):[u(0),u(.5),u(1)]}}return g.range=y(is),g.rangeRound=y(M0),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function XP(){var t=_i(Eh()(jt));return t.copy=function(){return Si(t,XP())},Ur.apply(t,arguments)}function QP(){var t=U0(Eh()).domain([.1,1,10]);return t.copy=function(){return Si(t,QP()).base(t.base())},Ur.apply(t,arguments)}function ZP(){var t=F0(Eh());return t.copy=function(){return Si(t,ZP()).constant(t.constant())},Ur.apply(t,arguments)}function Q0(){var t=B0(Eh());return t.copy=function(){return Si(t,Q0()).exponent(t.exponent())},Ur.apply(t,arguments)}function MJ(){return Q0.apply(null,arguments).exponent(.5)}const PS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rl,scaleDiverging:XP,scaleDivergingLog:QP,scaleDivergingPow:Q0,scaleDivergingSqrt:MJ,scaleDivergingSymlog:ZP,scaleIdentity:IP,scaleImplicit:Gg,scaleLinear:Vd,scaleLog:RP,scaleOrdinal:O0,scalePoint:Xs,scalePow:q0,scaleQuantile:$P,scaleQuantize:DP,scaleRadial:MP,scaleSequential:WP,scaleSequentialLog:KP,scaleSequentialPow:X0,scaleSequentialQuantile:YP,scaleSequentialSqrt:jJ,scaleSequentialSymlog:JP,scaleSqrt:mK,scaleSymlog:jP,scaleThreshold:LP,scaleTime:OJ,scaleUtc:RJ,tickFormat:PP},Symbol.toStringTag,{value:"Module"}));var $J=Ja;function DJ(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!$J(a):n(a,s)))var s=a,l=o}return l}var eI=DJ;function LJ(t,e){return t>e}var UJ=LJ,FJ=eI,BJ=UJ,qJ=ns;function VJ(t){return t&&t.length?FJ(t,qJ,BJ):void 0}var GJ=VJ;const Th=Ie(GJ);function HJ(t,e){return t<e}var zJ=HJ,WJ=eI,KJ=zJ,JJ=ns;function YJ(t){return t&&t.length?WJ(t,JJ,KJ):void 0}var XJ=YJ;const kh=Ie(XJ);var QJ=f0,ZJ=wi,eY=lP,tY=zt;function nY(t,e){var n=tY(t)?QJ:eY;return n(t,ZJ(e))}var rY=nY,iY=aP,oY=rY;function aY(t,e){return iY(oY(t,e),1)}var sY=aY;const lY=Ie(sY);var uY=A0;function cY(t,e){return uY(t,e)}var dY=cY;const Ah=Ie(dY);var os=1e9,fY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ex,Be=!0,kn="[DecimalError] ",Qi=kn+"Invalid argument: ",Z0=kn+"Exponent out of range: ",as=Math.floor,Mi=Math.pow,hY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nn,ft=1e7,De=7,tI=9007199254740991,Wd=as(tI/De),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*De;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ne.dividedBy=ne.div=function(t){return Tr(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,n=e.constructor;return Pe(Tr(e,new n(t),0,1),n.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return it(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(nn))throw Error(kn+"NaN");if(n.s<1)throw Error(kn+(n.s?"NaN":"-Infinity"));return n.eq(nn)?new r(0):(Be=!1,e=Tr(Ll(n,o),Ll(t,o),o),Be=!0,Pe(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iI(e,t):nI(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(kn+"NaN");return n.s?(Be=!1,e=Tr(n,t,0,1).times(t),Be=!0,n.minus(e)):Pe(new r(n),i)};ne.naturalExponential=ne.exp=function(){return rI(this)};ne.naturalLogarithm=ne.ln=function(){return Ll(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nI(e,t):iI(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qi+t);if(e=it(i)+1,r=i.d.length-1,n=r*De+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ne.squareRoot=ne.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(kn+"NaN")}for(t=it(s),Be=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=tr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=as((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Tr(s,o,a+2)).times(.5),tr(o.d).slice(0,a)===(e=tr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Be=!0,Pe(r,n)};ne.times=ne.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%ft|0,e=s/ft|0;o[i]=(o[i]+e)%ft|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Be?Pe(t,f.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lr(t,0,os),e===void 0?e=r.rounding:lr(e,0,8),Pe(n,t+it(n)+1,e))};ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=so(r,!0):(lr(t,0,os),e===void 0?e=i.rounding:lr(e,0,8),r=Pe(new i(r),t+1,e),n=so(r,!0,t+1)),n};ne.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?so(i):(lr(t,0,os),e===void 0?e=o.rounding:lr(e,0,8),r=Pe(new o(i),t+it(i)+1,e),n=so(r.abs(),!1,t+it(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Pe(new e(t),it(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(nn);if(s=new l(s),!s.s){if(t.s<1)throw Error(kn+"Infinity");return s}if(s.eq(nn))return s;if(r=l.precision,t.eq(nn))return Pe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=tI){for(i=new l(nn),e=Math.ceil(r/De+4),Be=!1;n%2&&(i=i.times(s),OS(i.d,e)),n=as(n/2),n!==0;)s=s.times(s),OS(s.d,e);return Be=!0,t.s<0?new l(nn).div(i):Pe(i,r)}}else if(o<0)throw Error(kn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Be=!1,i=t.times(Ll(s,r+u)),Be=!0,i=rI(i),i.s=o,i};ne.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=it(i),r=so(i,n<=o.toExpNeg||n>=o.toExpPos)):(lr(t,1,os),e===void 0?e=o.rounding:lr(e,0,8),i=Pe(new o(i),t,e),n=it(i),r=so(i,t<=n||n<=o.toExpNeg,t)),r};ne.toSignificantDigits=ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lr(t,1,os),e===void 0?e=r.rounding:lr(e,0,8)),Pe(new r(n),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=it(t),n=t.constructor;return so(t,e<=n.toExpNeg||e>=n.toExpPos)};function nI(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Be?Pe(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/De),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ft|0,l[o]%=ft;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Be?Pe(e,f):e}function lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qi+t)}function tr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=De-r.length,n&&(o+=Wr(n)),o+=r;a=t[e],r=a+"",n=De-r.length,n&&(o+=Wr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Tr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%ft|0,a=o/ft|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,g,y,v,b,x,w,_,E,S,T,k,C,N=r.constructor,I=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(kn+"Division by zero");for(l=r.e-i.e,k=$.length,S=O.length,g=new N(I),y=g.d=[],u=0;$[u]==(O[u]||0);)++u;if($[u]>(O[u]||0)&&--l,o==null?w=o=N.precision:a?w=o+(it(r)-it(i))+1:w=o,w<0)return new N(0);if(w=w/De+2|0,u=0,k==1)for(c=0,$=$[0],w++;(u<S||c)&&w--;u++)_=c*ft+(O[u]||0),y[u]=_/$|0,c=_%$|0;else{for(c=ft/($[0]+1)|0,c>1&&($=t($,c),O=t(O,c),k=$.length,S=O.length),E=k,v=O.slice(0,k),b=v.length;b<k;)v[b++]=0;C=$.slice(),C.unshift(0),T=$[0],$[1]>=ft/2&&++T;do c=0,s=e($,v,k,b),s<0?(x=v[0],k!=b&&(x=x*ft+(v[1]||0)),c=x/T|0,c>1?(c>=ft&&(c=ft-1),f=t($,c),h=f.length,b=v.length,s=e(f,v,h,b),s==1&&(c--,n(f,k<h?C:$,h))):(c==0&&(s=c=1),f=$.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=e($,v,k,b),s<1&&(c++,n(v,k<b?C:$,b))),b=v.length):s===0&&(c++,v=[0]),y[u++]=c,s&&v[0]?v[b++]=O[E]||0:(v=[O[E]],b=1);while((E++<S||v[0]!==void 0)&&w--)}return y[0]||y.shift(),g.e=l,Pe(g,a?o+it(g)+1:o)}}();function rI(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(it(t)>16)throw Error(Z0+it(t));if(!t.s)return new c(nn);for(Be=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Mi(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(nn),c.precision=s;;){if(i=Pe(i.times(t),s),n=n.times(++l),a=o.plus(Tr(i,n,s)),tr(a.d).slice(0,s)===tr(o.d).slice(0,s)){for(;u--;)o=Pe(o.times(o),s);return c.precision=f,e==null?(Be=!0,Pe(o,f)):o}o=a}}function it(t){for(var e=t.e*De,n=t.d[0];n>=10;n/=10)e++;return e}function Jp(t,e,n){if(e>t.LN10.sd())throw Be=!0,n&&(t.precision=n),Error(kn+"LN10 precision limit exceeded");return Pe(new t(t.LN10),e)}function Wr(t){for(var e="";t--;)e+="0";return e}function Ll(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,g=t,y=g.d,v=g.constructor,b=v.precision;if(g.s<1)throw Error(kn+(g.s?"NaN":"-Infinity"));if(g.eq(nn))return new v(0);if(e==null?(Be=!1,u=b):u=e,g.eq(10))return e==null&&(Be=!0),Jp(v,u);if(u+=h,v.precision=u,n=tr(y),r=n.charAt(0),o=it(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=tr(g.d),r=n.charAt(0),f++;o=it(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1))}else return l=Jp(v,u+2,b).times(o+""),g=Ll(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=b,e==null?(Be=!0,Pe(g,b)):g;for(s=a=g=Tr(g.minus(nn),g.plus(nn),u),c=Pe(g.times(g),u),i=3;;){if(a=Pe(a.times(c),u),l=s.plus(Tr(a,new v(i),u)),tr(l.d).slice(0,u)===tr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Jp(v,u+2,b).times(o+""))),s=Tr(s,new v(f),u),v.precision=b,e==null?(Be=!0,Pe(s,b)):s;s=l,i+=2}}function IS(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=as(n/De),t.d=[],r=(n+1)%De,n<0&&(r+=De),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=De;r<i;)t.d.push(+e.slice(r,r+=De));e=e.slice(r),r=De-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Be&&(t.e>Wd||t.e<-Wd))throw Error(Z0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pe(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=De,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/De),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=De,i=r-De+a}if(n!==void 0&&(o=Mi(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Mi(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=it(t),f.length=1,e=e-o-1,f[0]=Mi(10,(De-e%De)%De),t.e=as(-e/De)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Mi(10,De-r),f[c]=i>0?(u/Mi(10,a-i)%Mi(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==ft&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=ft)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Be&&(t.e>Wd||t.e<-Wd))throw Error(Z0+it(t));return t}function iI(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Be?Pe(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/De),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ft-1;--l[o],l[i]+=ft}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Be?Pe(e,g):e):new h(0)}function so(t,e,n){var r,i=it(t),o=tr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Wr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Wr(-i-1)+o,n&&(r=n-a)>0&&(o+=Wr(r))):i>=a?(o+=Wr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Wr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Wr(r))),t.s<0?"-"+o:o}function OS(t,e){if(t.length>e)return t.length=e,!0}function oI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Qi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return IS(a,o.toString())}else if(typeof o!="string")throw Error(Qi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,hY.test(o))IS(a,o);else throw Error(Qi+o)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oI,i.config=i.set=pY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function pY(t){if(!t||typeof t!="object")throw Error(kn+"Object expected");var e,n,r,i=["precision",1,os,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(as(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qi+n+": "+r);return this}var ex=oI(fY);nn=new ex(1);const Ne=ex;function mY(t){return xY(t)||vY(t)||yY(t)||gY()}function gY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function vY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xY(t){if(Array.isArray(t))return Kg(t)}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bY=function(e){return e},aI={},sI=function(e){return e===aI},RS=function(e){return function n(){return arguments.length===0||arguments.length===1&&sI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},wY=function t(e,n){return e===1?n:RS(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==aI}).length;return a>=e?n.apply(void 0,i):t(e-a,RS(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return sI(f)?l.shift():f});return n.apply(void 0,mY(c).concat(l))}))})},Ch=function(e){return wY(e.length,e)},Jg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},_Y=Ch(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),SY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bY;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Yg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function EY(t){var e;return t===0?e=1:e=Math.floor(new Ne(t).abs().log(10).toNumber())+1,e}function TY(t,e,n){for(var r=new Ne(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var kY=Ch(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),AY=Ch(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),CY=Ch(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Nh={rangeStep:TY,getDigitCount:EY,interpolateNumber:kY,uninterpolateNumber:AY,uninterpolateTruncation:CY};function Xg(t){return IY(t)||PY(t)||uI(t)||NY()}function NY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function IY(t){if(Array.isArray(t))return Qg(t)}function Ul(t,e){return jY(t)||RY(t,e)||uI(t,e)||OY()}function OY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uI(t,e){if(t){if(typeof t=="string")return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}}function Qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function jY(t){if(Array.isArray(t))return t}function cI(t){var e=Ul(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function dI(t,e,n){if(t.lte(0))return new Ne(0);var r=Nh.getDigitCount(t.toNumber()),i=new Ne(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ne(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ne(Math.ceil(l))}function MY(t,e,n){var r=1,i=new Ne(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ne(10).pow(Nh.getDigitCount(t)-1),i=new Ne(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ne(Math.floor(t)))}else t===0?i=new Ne(Math.floor((e-1)/2)):n||(i=new Ne(Math.floor(t)));var a=Math.floor((e-1)/2),s=SY(_Y(function(l){return i.add(new Ne(l-a).mul(r)).toNumber()}),Jg);return s(0,e)}function fI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ne(0),tickMin:new Ne(0),tickMax:new Ne(0)};var o=dI(new Ne(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ne(0):(a=new Ne(t).add(e).div(2),a=a.sub(new Ne(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ne(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?fI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ne(s).mul(o)),tickMax:a.add(new Ne(l).mul(o))})}function $Y(t){var e=Ul(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=cI([n,r]),l=Ul(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Xg(Jg(0,i-1).map(function(){return 1/0}))):[].concat(Xg(Jg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Yg(f):f}if(u===c)return MY(u,i,o);var h=fI(u,c,a,o),g=h.step,y=h.tickMin,v=h.tickMax,b=Nh.rangeStep(y,v.add(new Ne(.1).mul(g)),g);return n>r?Yg(b):b}function DY(t,e){var n=Ul(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=cI([r,i]),s=Ul(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=dI(new Ne(u).sub(l).div(c-1),o,0),h=[].concat(Xg(Nh.rangeStep(new Ne(l),new Ne(u).sub(new Ne(.99).mul(f)),f)),[u]);return r>i?Yg(h):h}var LY=lI($Y),UY=lI(DY),FY="Invariant failed";function lo(t,e){throw new Error(FY)}var BY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function qY(t,e){return zY(t)||HY(t,e)||GY(t,e)||VY()}function VY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zY(t){if(Array.isArray(t))return t}function WY(t,e){if(t==null)return{};var n=KY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mI(r.key),r)}}function XY(t,e,n){return e&&YY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,n){return e=Jd(e),ZY(t,hI()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function ZY(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(t)}function eX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function tX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(t,e)}function pI(t,e,n){return e=mI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mI(t){var e=nX(t,"string");return Pa(e)=="symbol"?e:e+""}function nX(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cu=function(t){function e(){return JY(this,e),QY(this,e,arguments)}return tX(e,t),XY(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=WY(r,BY),g=xe(h,!1);this.props.direction==="x"&&c.type!=="number"&&lo();var y=l.map(function(v){var b=u(v,s),x=b.x,w=b.y,_=b.value,E=b.errorVal;if(!E)return null;var S=[],T,k;if(Array.isArray(E)){var C=qY(E,2);T=C[0],k=C[1]}else T=k=E;if(o==="vertical"){var N=c.scale,I=w+i,O=I+a,$=I-a,L=N(_-T),j=N(_+k);S.push({x1:j,y1:O,x2:j,y2:$}),S.push({x1:L,y1:I,x2:j,y2:I}),S.push({x1:L,y1:O,x2:L,y2:$})}else if(o==="horizontal"){var P=f.scale,R=x+i,U=R-a,D=R+a,B=P(_-T),V=P(_+k);S.push({x1:U,y1:V,x2:D,y2:V}),S.push({x1:R,y1:B,x2:R,y2:V}),S.push({x1:U,y1:B,x2:D,y2:B})}return M.createElement(Qe,Kd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},g),S.map(function(J){return M.createElement("line",Kd({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return M.createElement(Qe,{className:"recharts-errorBars"},y)}}])}(M.Component);pI(Cu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pI(Cu,"displayName","ErrorBar");function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return e=iX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iX(t){var e=oX(t,"string");return Fl(e)=="symbol"?e:e+""}function oX(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Qt(n,Yi);if(!a)return null;var s=Yi.defaultProps,l=s!==void 0?Ni(Ni({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return c.concat(y.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Ni(Ni({},h),f.props):{},y=g.dataKey,v=g.name,b=g.legendType,x=g.hide;return{inactive:x,dataKey:y,type:l.iconType||b||"square",color:tx(f),value:v||y,payload:g}}),Ni(Ni(Ni({},l),Yi.getWithHeight(a,i)),{},{payload:u,item:a})};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function $S(t){return uX(t)||lX(t)||sX(t)||aX()}function aX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sX(t,e){if(t){if(typeof t=="string")return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}function lX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uX(t){if(Array.isArray(t))return ey(t)}function ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fa(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return Bl(e)=="symbol"?e:e+""}function dX(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ln(t,e,n){return me(t)||me(e)?n:ct(e)?wn(t,e,n):he(e)?e(t):n}function Qs(t,e,n,r){var i=lY(t,function(s){return ln(s,e)});if(n==="number"){var o=i.filter(function(s){return Q(s)||parseFloat(s)});return o.length?[kh(o),Th(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!me(s)}):i;return a.map(function(s){return ct(s)||s instanceof Date?s:""})}var fX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Vn(f-c)!==Vn(h-f)){var y=[];if(Vn(h-f)===Vn(l[1]-l[0])){g=h;var v=f+l[1]-l[0];y[0]=Math.min(v,(v+c)/2),y[1]=Math.max(v,(v+c)/2)}else{g=c;var b=h+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},tx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},hX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var y=c[f[h]],v=y.items,b=y.cateAxisId,x=v.filter(function(k){return Sr(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?Ke(Ke({},w),x[0].props):x[0].props,E=_.barSize,S=_[b];a[S]||(a[S]=[]);var T=me(E)?n:E;a[S].push({item:x[0],stackList:x.slice(1),barSize:me(T)?void 0:ao(T,r,0)})}}return a},pX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ao(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,y=a.reduce(function(E,S){return E+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var v=(i-y)/2>>0,b={offset:v-u,size:0};c=a.reduce(function(E,S){var T={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},k=[].concat($S(E),[T]);return b=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:b})}),k},f)}else{var x=ao(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=a.reduce(function(E,S,T){var k=[].concat($S(E),[{item:S.item,position:{offset:x+(w+u)*T+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return c},mX=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=gI({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&g!=="center"&&Q(e[g]))return Ke(Ke({},e),{},fa({},g,e[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&y!=="middle"&&Q(e[y]))return Ke(Ke({},e),{},fa({},y,e[y]+(h||0)))}return e},gX=function(e,n,r){return me(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yI=function(e,n,r,i,o){var a=n.props.children,s=_n(a,Cu).filter(function(u){return gX(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=ln(c,r);if(me(f))return u;var h=Array.isArray(f)?[kh(f),Th(f)]:[f,f],g=l.reduce(function(y,v){var b=ln(c,v,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},yX=function(e,n,r,i,o){var a=n.map(function(s){return yI(e,s,r,o,i)}).filter(function(s){return!me(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},vI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&yI(e,l,u,i)||Qs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},xI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},br=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!wu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Yp=new WeakMap,lc=function(e,n){if(typeof n!="function")return e;Yp.has(e)||Yp.set(e,new WeakMap);var r=Yp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vX=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Rl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Vd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xs(),realScaleType:"point"}:o==="category"?{scale:Rl(),realScaleType:"band"}:{scale:Vd(),realScaleType:"linear"};if(oo(i)){var l="scale".concat(fh(i));return{scale:(PS[l]||Xs)(),realScaleType:PS[l]?l:"point"}}return he(i)?{scale:i}:{scale:Xs(),realScaleType:"point"}},LS=1e-4,xX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-LS,a=Math.max(i[0],i[1])+LS,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},bX=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},wX=function(e,n){if(!n||n.length!==2||!Q(n[0])||!Q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Q(e[0])||e[0]<r)&&(o[0]=r),(!Q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},_X=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=wu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},SX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=wu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},EX={sign:_X,expand:UB,none:_a,silhouette:FB,wiggle:BB,positive:SX},TX=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=EX[r],a=LB().keys(i).value(function(s,l){return+ln(s,l,0)}).order(Tg).offset(o);return a(e)},kX=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?Ke(Ke({},h.type.defaultProps),h.props):h.props,v=y.stackId,b=y.hide;if(b)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(ct(v)){var _=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[v]=_}else w.stackGroups[_u("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ke(Ke({},f),{},fa({},x,w))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,b){var x=g.stackGroups[b];return Ke(Ke({},v),{},fa({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:TX(e,x.items,o)}))},y)}return Ke(Ke({},f),{},fa({},h,g))},c)},AX=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=LY(u,o,s);return e.domain([kh(c),Th(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=UY(f,o,s);return{niceTicks:h}}return null};function US(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!me(i[e.dataKey])){var s=xd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ln(i,me(a)?e.dataKey:a);return me(l)?null:e.scale(l)}var FS=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ln(a,n.dataKey,n.domain[s]);return me(l)?null:n.scale(l)-o/2+i},CX=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},NX=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ct(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},PX=function(e){return e.reduce(function(n,r){return[kh(r.concat([n[0]]).filter(Q)),Th(r.concat([n[1]]).filter(Q))]},[1/0,-1/0])},wI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=PX(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ty=function(e,n,r){if(he(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BS.test(e[0])){var o=+BS.exec(e[0])[1];i[0]=n[0]-o}else he(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(qS.test(e[1])){var a=+qS.exec(e[1])[1];i[1]=n[1]+a}else he(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Yd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=N0(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},VS=function(e,n,r){return!e||!e.length||Ah(e,wn(r,"type.defaultProps.domain"))?n:e},_I=function(e,n){var r=e.type.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ke(Ke({},xe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:tx(e),value:ln(n,i),type:l,payload:n,chartType:u,hide:c})};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return e=OX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OX(t){var e=RX(t,"string");return ql(e)=="symbol"?e:e+""}function RX(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xd=Math.PI/180,jX=function(e){return e*180/Math.PI},wt=function(e,n,r,i){return{x:e+Math.cos(-Xd*i)*r,y:n+Math.sin(-Xd*i)*r}},MX=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},$X=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=MX({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:jX(u),angleInRadian:u}},DX=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},LX=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},zS=function(e,n){var r=e.x,i=e.y,o=$X({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=DX(n),f=c.startAngle,h=c.endAngle,g=s,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?HS(HS({},n),{},{radius:a,angle:LX(g,n)}):null};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var UX=["offset"];function FX(t){return GX(t)||VX(t)||qX(t)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(t,e){if(t){if(typeof t=="string")return ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(t,e)}}function VX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return ny(t)}function ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HX(t,e){if(t==null)return{};var n=zX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=JX(t,"string");return Vl(e)=="symbol"?e:e+""}function JX(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}var YX=function(e){var n=e.value,r=e.formatter,i=me(e.children)?n:e.children;return he(r)?r(i):i},XX=function(e,n){var r=Vn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},QX=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,v=l.clockWise,b=(f+h)/2,x=XX(g,y),w=x>=0?1:-1,_,E;i==="insideStart"?(_=g+w*a,E=v):i==="insideEnd"?(_=y-w*a,E=!v):i==="end"&&(_=y+w*a,E=v),E=x<=0?E:!E;var S=wt(u,c,b,_),T=wt(u,c,b,_+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),C=me(e.id)?_u("recharts-radial-line-"):e.id;return M.createElement("text",Gl({},r,{dominantBaseline:"central",className:we("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:C,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(C)},n))},ZX=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var g=wt(a,s,u+r,h),y=g.x,v=g.y;return{x:y,y:v,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=wt(a,s,b,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},eQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",y=f>0?"start":"end",v=u>=0?1:-1,b=v*i,x=v>0?"end":"start",w=v>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return at(at({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return at(at({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return at(at({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var T={x:s+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return at(at({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:c}:{})}var k=r?{width:u,height:c}:{};return o==="insideLeft"?at({x:s+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},k):o==="insideRight"?at({x:s+u-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},k):o==="insideTop"?at({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},k):o==="insideBottom"?at({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},k):o==="insideTopLeft"?at({x:s+b,y:l+h,textAnchor:w,verticalAnchor:y},k):o==="insideTopRight"?at({x:s+u-b,y:l+h,textAnchor:x,verticalAnchor:y},k):o==="insideBottomLeft"?at({x:s+b,y:l+c-h,textAnchor:w,verticalAnchor:g},k):o==="insideBottomRight"?at({x:s+u-b,y:l+c-h,textAnchor:x,verticalAnchor:g},k):Ya(o)&&(Q(o.x)||Vi(o.x))&&(Q(o.y)||Vi(o.y))?at({x:s+ao(o.x,u),y:l+ao(o.y,c),textAnchor:"end",verticalAnchor:"end"},k):at({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},tQ=function(e){return"cx"in e&&Q(e.cx)};function Ct(t){var e=t.offset,n=e===void 0?5:e,r=HX(t,UX),i=at({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||me(s)&&me(l)&&!A.isValidElement(u)&&!he(u))return null;if(A.isValidElement(u))return A.cloneElement(u,i);var g;if(he(u)){if(g=A.createElement(u,i),A.isValidElement(g))return g}else g=YX(i);var y=tQ(o),v=xe(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return QX(i,g,v);var b=y?ZX(i):eQ(i);return M.createElement($d,Gl({className:we("recharts-label",f)},v,b,{breakAll:h}),g)}Ct.displayName="Label";var SI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,y=e.left,v=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Q(v)&&Q(b)){if(Q(f)&&Q(h))return{x:f,y:h,width:v,height:b};if(Q(g)&&Q(y))return{x:g,y,width:v,height:b}}return Q(f)&&Q(h)?{x:f,y:h,width:0,height:0}:Q(n)&&Q(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},nQ=function(e,n){return e?e===!0?M.createElement(Ct,{key:"label-implicit",viewBox:n}):ct(e)?M.createElement(Ct,{key:"label-implicit",viewBox:n,value:e}):A.isValidElement(e)?e.type===Ct?A.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Ct,{key:"label-implicit",content:e,viewBox:n}):he(e)?M.createElement(Ct,{key:"label-implicit",content:e,viewBox:n}):Ya(e)?M.createElement(Ct,Gl({viewBox:n},e,{key:"label-implicit"})):null:null},rQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=SI(e),a=_n(i,Ct).map(function(l,u){return A.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=nQ(e.label,n||o);return[s].concat(FX(a))};Ct.parseViewBox=SI;Ct.renderCallByParent=rQ;function iQ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var oQ=iQ;const aQ=Ie(oQ);function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var sQ=["valueAccessor"],lQ=["data","dataKey","clockWise","id","textBreakAll"];function uQ(t){return hQ(t)||fQ(t)||dQ(t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t,e){if(t){if(typeof t=="string")return ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(t,e)}}function fQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return ry(t)}function ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){pQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e,n){return e=mQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=gQ(t,"string");return Hl(e)=="symbol"?e:e+""}function gQ(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YS(t,e){if(t==null)return{};var n=yQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vQ=function(e){return Array.isArray(e.value)?aQ(e.value):e.value};function fi(t){var e=t.valueAccessor,n=e===void 0?vQ:e,r=YS(t,sQ),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=YS(r,lQ);return!i||!i.length?null:M.createElement(Qe,{className:"recharts-label-list"},i.map(function(c,f){var h=me(o)?n(c,f):ln(c&&c.payload,o),g=me(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Ct,Qd({},xe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Ct.parseViewBox(me(a)?c:JS(JS({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}fi.displayName="LabelList";function xQ(t,e){return t?t===!0?M.createElement(fi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||he(t)?M.createElement(fi,{key:"labelList-implicit",data:e,content:t}):Ya(t)?M.createElement(fi,Qd({data:e},t,{key:"labelList-implicit"})):null:null}function bQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_n(r,fi).map(function(a,s){return A.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=xQ(t.label,e);return[o].concat(uQ(i))}fi.renderCallByParent=bQ;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=SQ(t,"string");return zl(e)=="symbol"?e:e+""}function SQ(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EQ=function(e,n){var r=Vn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},uc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Xd,h=u?o:o+a*f,g=wt(n,r,c,h),y=wt(n,r,i,h),v=u?o-a*f:o,b=wt(n,r,c*Math.cos(f*Xd),v);return{center:g,circleTangency:y,lineTangency:b,theta:f}},EI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=EQ(a,s),u=a+l,c=wt(n,r,o,a),f=wt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=wt(n,r,i,a),y=wt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},TQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Vn(c-u),h=uc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,v=h.theta,b=uc({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,_=b.theta,E=l?Math.abs(u-c):Math.abs(u-c)-v-_;if(E<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):EI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=uc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=T.circleTangency,C=T.lineTangency,N=T.theta,I=uc({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=I.circleTangency,$=I.lineTangency,L=I.theta,j=l?Math.abs(u-c):Math.abs(u-c)-N-L;if(j<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},kQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TI=function(e){var n=QS(QS({},kQ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var g=we("recharts-sector",h),y=a-o,v=ao(s,y,0,!0),b;return v>0&&Math.abs(c-f)<360?b=TQ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=EI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),M.createElement("path",iy({},xe(n,!0),{className:g,d:b,role:"img"}))};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(r){AQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AQ(t,e,n){return e=CQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=NQ(t,"string");return Wl(e)=="symbol"?e:e+""}function NQ(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t1={curveBasisClosed:AB,curveBasisOpen:CB,curveBasis:kB,curveBumpX:fB,curveBumpY:hB,curveLinearClosed:NB,curveLinear:ph,curveMonotoneX:PB,curveMonotoneY:IB,curveNatural:OB,curveStep:RB,curveStepAfter:MB,curveStepBefore:jB},cc=function(e){return e.x===+e.x&&e.y===+e.y},Ts=function(e){return e.x},ks=function(e){return e.y},PQ=function(e,n){if(he(e))return e;var r="curve".concat(fh(e));return(r==="curveMonotone"||r==="curveBump")&&n?t1["".concat(r).concat(n==="vertical"?"Y":"X")]:t1[r]||ph},IQ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=PQ(r,s),f=u?o.filter(function(v){return cc(v)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(v){return cc(v)}):a,y=f.map(function(v,b){return e1(e1({},v),{},{base:g[b]})});return s==="vertical"?h=ec().y(ks).x1(Ts).x0(function(v){return v.base.x}):h=ec().x(Ts).y1(ks).y0(function(v){return v.base.y}),h.defined(cc).curve(c),h(y)}return s==="vertical"&&Q(a)?h=ec().y(ks).x1(Ts).x0(a):Q(a)?h=ec().x(Ts).y1(ks).y0(a):h=TN().x(Ts).y(ks),h.defined(cc).curve(c),h(f)},ay=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?IQ(e):i;return A.createElement("path",oy({},xe(e,!1),bd(e),{className:we("recharts-curve",n),d:a,ref:o}))},kI={exports:{}},OQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RQ=OQ,jQ=RQ;function AI(){}function CI(){}CI.resetWarningCache=AI;var MQ=function(){function t(r,i,o,a,s,l){if(l!==jQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CI,resetWarningCache:AI};return n.PropTypes=n,n};kI.exports=MQ();var $Q=kI.exports;const Ee=Ie($Q),{getOwnPropertyNames:DQ,getOwnPropertySymbols:LQ}=Object,{hasOwnProperty:UQ}=Object.prototype;function Xp(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function dc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function FQ(t){return t!=null?t[Symbol.toStringTag]:void 0}function n1(t){return DQ(t).concat(LQ(t))}const BQ=Object.hasOwn||((t,e)=>UQ.call(t,e));function xo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const qQ="__v",VQ="__o",GQ="_owner",{getOwnPropertyDescriptor:r1,keys:i1}=Object;function HQ(t,e){return t.byteLength===e.byteLength&&Zd(new Uint8Array(t),new Uint8Array(e))}function zQ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function WQ(t,e){return t.byteLength===e.byteLength&&Zd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function KQ(t,e){return xo(t.getTime(),e.getTime())}function JQ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function YQ(t,e){return t===e}function o1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const XQ=xo;function QQ(t,e,n){const r=i1(t);let i=r.length;if(i1(e).length!==i)return!1;for(;i-- >0;)if(!NI(t,e,n,r[i]))return!1;return!0}function As(t,e,n){const r=n1(t);let i=r.length;if(n1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!NI(t,e,n,o)||(a=r1(t,o),s=r1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function ZQ(t,e){return xo(t.valueOf(),e.valueOf())}function eZ(t,e){return t.source===e.source&&t.flags===e.flags}function a1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Zd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function tZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NI(t,e,n,r){return(r===GQ||r===VQ||r===qQ)&&(t.$$typeof||e.$$typeof)?!0:BQ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const nZ="[object ArrayBuffer]",rZ="[object Arguments]",iZ="[object Boolean]",oZ="[object DataView]",aZ="[object Date]",sZ="[object Error]",lZ="[object Map]",uZ="[object Number]",cZ="[object Object]",dZ="[object RegExp]",fZ="[object Set]",hZ="[object String]",pZ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},mZ="[object URL]",gZ=Object.prototype.toString;function yZ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:y}){return function(b,x,w){if(b===x)return!0;if(b==null||x==null)return!1;const _=typeof b;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?s(b,x,w):_==="function"?o(b,x,w):!1;const E=b.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(b,x,w);if(Array.isArray(b))return e(b,x,w);if(E===Date)return r(b,x,w);if(E===RegExp)return c(b,x,w);if(E===Map)return a(b,x,w);if(E===Set)return f(b,x,w);const S=gZ.call(b);if(S===aZ)return r(b,x,w);if(S===dZ)return c(b,x,w);if(S===lZ)return a(b,x,w);if(S===fZ)return f(b,x,w);if(S===cZ)return typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,w);if(S===mZ)return g(b,x,w);if(S===sZ)return i(b,x,w);if(S===rZ)return l(b,x,w);if(pZ[S])return h(b,x,w);if(S===nZ)return t(b,x,w);if(S===oZ)return n(b,x,w);if(S===iZ||S===uZ||S===hZ)return u(b,x,w);if(y){let T=y[S];if(!T){const k=FQ(b);k&&(T=y[k])}if(T)return T(b,x,w)}return!1}}function vZ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:HQ,areArraysEqual:n?As:zQ,areDataViewsEqual:WQ,areDatesEqual:KQ,areErrorsEqual:JQ,areFunctionsEqual:YQ,areMapsEqual:n?Xp(o1,As):o1,areNumbersEqual:XQ,areObjectsEqual:n?As:QQ,arePrimitiveWrappersEqual:ZQ,areRegExpsEqual:eZ,areSetsEqual:n?Xp(a1,As):a1,areTypedArraysEqual:n?Xp(Zd,As):Zd,areUrlsEqual:tZ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=dc(r.areArraysEqual),o=dc(r.areMapsEqual),a=dc(r.areObjectsEqual),s=dc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function xZ(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function bZ({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const wZ=Ei();Ei({strict:!0});Ei({circular:!0});Ei({circular:!0,strict:!0});Ei({createInternalComparator:()=>xo});Ei({strict:!0,createInternalComparator:()=>xo});Ei({circular:!0,createInternalComparator:()=>xo});Ei({circular:!0,createInternalComparator:()=>xo,strict:!0});function Ei(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=vZ(t),a=yZ(o),s=n?n(a):xZ(a);return bZ({circular:e,comparator:a,createState:r,equals:s,strict:i})}function _Z(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function s1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):_Z(i)};requestAnimationFrame(r)}function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function SZ(t){return AZ(t)||kZ(t)||TZ(t)||EZ()}function EZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZ(t,e){if(t){if(typeof t=="string")return l1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l1(t,e)}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AZ(t){if(Array.isArray(t))return t}function CZ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=SZ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){s1(i.bind(null,u),l);return}i(l),s1(i.bind(null,u));return}sy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){PI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PI(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=PZ(t,"string");return Kl(e)==="symbol"?e:String(e)}function PZ(t,e){if(Kl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IZ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},OZ=function(e){return e},RZ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zs=function(e,n){return Object.keys(n).reduce(function(r,i){return c1(c1({},r),{},PI({},i,e(i,n[i])))},{})},d1=function(e,n,r){return e.map(function(i){return"".concat(RZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jZ(t,e){return DZ(t)||$Z(t,e)||II(t,e)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function DZ(t){if(Array.isArray(t))return t}function LZ(t){return BZ(t)||FZ(t)||II(t)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function II(t,e){if(t){if(typeof t=="string")return ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(t,e)}}function FZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BZ(t){if(Array.isArray(t))return ly(t)}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ef=1e-4,OI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},f1=function(e,n){return function(r){var i=OI(e,n);return RI(i,r)}},qZ=function(e,n){return function(r){var i=OI(e,n),o=[].concat(LZ(i.map(function(a,s){return a*s}).slice(1)),[0]);return RI(o,r)}},h1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=jZ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=f1(i,a),h=f1(o,s),g=qZ(i,a),y=function(x){return x>1?1:x<0?0:x},v=function(x){for(var w=x>1?1:x,_=w,E=0;E<8;++E){var S=f(_)-w,T=g(_);if(Math.abs(S-w)<ef||T<ef)return h(_);_=y(_-S/T)}return h(_)};return v.isStepper=!1,v},VZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var g=-(c-f)*r,y=h*o,v=h+(g-y)*s/1e3,b=h*s/1e3+c;return Math.abs(b-f)<ef&&Math.abs(v)<ef?[f,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},GZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h1(i);case"spring":return VZ();default:if(i.split("(")[0]==="cubic-bezier")return h1(i)}return typeof i=="function"?i:null};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function p1(t){return WZ(t)||zZ(t)||jI(t)||HZ()}function HZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WZ(t){if(Array.isArray(t))return cy(t)}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uy(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=JZ(t,"string");return Jl(e)==="symbol"?e:String(e)}function JZ(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZ(t,e){return ZZ(t)||QZ(t,e)||jI(t,e)||XZ()}function XZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jI(t,e){if(t){if(typeof t=="string")return cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cy(t,e)}}function cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZZ(t){if(Array.isArray(t))return t}var tf=function(e,n,r){return e+(n-e)*r},dy=function(e){var n=e.from,r=e.to;return n!==r},eee=function t(e,n,r){var i=Zs(function(o,a){if(dy(a)){var s=e(a.from,a.to,a.velocity),l=YZ(s,2),u=l[0],c=l[1];return xt(xt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Zs(function(o,a){return dy(a)?xt(xt({},a),{},{velocity:tf(a.velocity,i[o].velocity,r),from:tf(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const tee=function(t,e,n,r,i){var o=IZ(t,e),a=o.reduce(function(b,x){return xt(xt({},b),{},uy({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return xt(xt({},b),{},uy({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Zs(function(x,w){return w.from},s)},g=function(){return!Object.values(s).filter(dy).length},y=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=eee(n,s,_),i(xt(xt(xt({},t),e),h())),u=x,g()||(l=requestAnimationFrame(f))},v=function(x){c||(c=x);var w=(x-c)/r,_=Zs(function(S,T){return tf.apply(void 0,p1(T).concat([n(w)]))},a);if(i(xt(xt(xt({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var E=Zs(function(S,T){return tf.apply(void 0,p1(T).concat([n(1)]))},a);i(xt(xt(xt({},t),e),E))}};return f=n.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}var nee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ree(t,e){if(t==null)return{};var n=iee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qp(t){return lee(t)||see(t)||aee(t)||oee()}function oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(t,e){if(t){if(typeof t=="string")return fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(t,e)}}function see(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lee(t){if(Array.isArray(t))return fy(t)}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){$s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $s(t,e,n){return e=MI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MI(r.key),r)}}function dee(t,e,n){return e&&cee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MI(t){var e=fee(t,"string");return Ia(e)==="symbol"?e:String(e)}function fee(t,e){if(Ia(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hy(t,e)}function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hy(t,e)}function pee(t){var e=mee();return function(){var r=nf(t),i;if(e){var o=nf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return py(this,i)}}function py(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return my(t)}function my(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}var Rr=function(t){hee(n,t);var e=pee(n);function n(r,i){var o;uee(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(my(o)),o.changeStyle=o.changeStyle.bind(my(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),py(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},py(o);o.state={style:l?$s({},l,u):u}}else o.state={style:{}};return o}return dee(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?$s({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(wZ(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?f:i.to;if(this.state&&h){var b={style:l?$s({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(b)}this.runAnimation(In(In({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=tee(a,s,GZ(u),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(v,b,x){if(x===0)return v;var w=b.duration,_=b.easing,E=_===void 0?"ease":_,S=b.style,T=b.properties,k=b.onAnimationEnd,C=x>0?a[x-1]:b,N=T||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(Qp(v),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:w,easing:E}),w]);var I=d1(N,w,E),O=In(In(In({},C.style),S),{},{transition:I});return[].concat(Qp(v),[O,w,k]).filter(OZ)};return this.manager.start([l].concat(Qp(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=CZ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?$s({},s,l):l,b=d1(Object.keys(v),a,u);y.start([c,o,In(In({},v),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ree(i,nee),u=A.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(g){var y=g.props,v=y.style,b=v===void 0?{}:v,x=y.className,w=A.cloneElement(g,In(In({},l),{},{style:In(In({},b),c),className:x}));return w};return u===1?f(A.Children.only(o)):M.createElement("div",null,A.Children.map(o,function(h){return f(h)}))}}]),n}(A.PureComponent);Rr.displayName="Animate";Rr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rr.propTypes={from:Ee.oneOfType([Ee.object,Ee.string]),to:Ee.oneOfType([Ee.object,Ee.string]),attributeName:Ee.string,duration:Ee.number,begin:Ee.number,easing:Ee.oneOfType([Ee.string,Ee.func]),steps:Ee.arrayOf(Ee.shape({duration:Ee.number.isRequired,style:Ee.object.isRequired,easing:Ee.oneOfType([Ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ee.func]),properties:Ee.arrayOf("string"),onAnimationEnd:Ee.func})),children:Ee.oneOfType([Ee.node,Ee.func]),isActive:Ee.bool,canBegin:Ee.bool,onAnimationEnd:Ee.func,shouldReAnimate:Ee.bool,onAnimationStart:Ee.func,onAnimationReStart:Ee.func};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function gee(t,e){return bee(t)||xee(t,e)||vee(t,e)||yee()}function yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y1(t,e)}}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bee(t){if(Array.isArray(t))return t}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=See(t,"string");return Yl(e)=="symbol"?e:e+""}function See(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Eee=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Tee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nx=function(e){var n=x1(x1({},Tee),e),r=A.useRef(),i=A.useState(-1),o=gee(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=we("recharts-rectangle",g);return w?M.createElement(Rr,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:y,isActive:w},function(E){var S=E.width,T=E.height,k=E.x,C=E.y;return M.createElement(Rr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:x,easing:y},M.createElement("path",rf({},xe(n,!0),{className:_,d:b1(k,C,S,T,h),ref:r})))}):M.createElement("path",rf({},xe(n,!0),{className:_,d:b1(l,u,c,f,h)}))};function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}var rx=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=we("recharts-dot",o);return n===+n&&r===+r&&i===+i?A.createElement("circle",gy({},xe(e,!1),bd(e),{className:a,cx:n,cy:r,r:i})):null};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}var kee=["x","y","top","left","width","height","className"];function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Pee(t,"string");return Xl(e)=="symbol"?e:e+""}function Pee(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iee(t,e){if(t==null)return{};var n=Oee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ree=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},jee=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,y=e.className,v=Iee(e,kee),b=Aee({x:r,y:o,top:s,left:u,width:f,height:g},v);return!Q(r)||!Q(o)||!Q(f)||!Q(g)||!Q(s)||!Q(u)?null:M.createElement("path",yy({},xe(b,!0),{className:we("recharts-cross",y),d:Ree(r,o,f,g,s,u)}))},Mee=JN,$ee=Mee(Object.getPrototypeOf,Object),Dee=$ee,Lee=Dr,Uee=Dee,Fee=Lr,Bee="[object Object]",qee=Function.prototype,Vee=Object.prototype,$I=qee.toString,Gee=Vee.hasOwnProperty,Hee=$I.call(Object);function zee(t){if(!Fee(t)||Lee(t)!=Bee)return!1;var e=Uee(t);if(e===null)return!0;var n=Gee.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$I.call(n)==Hee}var Wee=zee;const Kee=Ie(Wee);var Jee=Dr,Yee=Lr,Xee="[object Boolean]";function Qee(t){return t===!0||t===!1||Yee(t)&&Jee(t)==Xee}var Zee=Qee;const ete=Ie(Zee);function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function tte(t,e){return ote(t)||ite(t,e)||rte(t,e)||nte()}function nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return _1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _1(t,e)}}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ite(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ote(t){if(Array.isArray(t))return t}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return e=ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ste(t){var e=lte(t,"string");return Ql(e)=="symbol"?e:e+""}function lte(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},ute={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cte=function(e){var n=E1(E1({},ute),e),r=A.useRef(),i=A.useState(-1),o=tte(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=we("recharts-trapezoid",g);return x?M.createElement(Rr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:y,isActive:x},function(_){var E=_.upperWidth,S=_.lowerWidth,T=_.height,k=_.x,C=_.y;return M.createElement(Rr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:y},M.createElement("path",of({},xe(n,!0),{className:w,d:T1(k,C,E,S,T),ref:r})))}):M.createElement("g",null,M.createElement("path",of({},xe(n,!0),{className:w,d:T1(l,u,c,f,h)})))},dte=["option","shapeType","propTransformer","activeClassName","isActive"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function fte(t,e){if(t==null)return{};var n=hte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return e=mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=gte(t,"string");return Zl(e)=="symbol"?e:e+""}function gte(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yte(t,e){return af(af({},e),t)}function vte(t,e){return t==="symbols"}function A1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(nx,n);case"trapezoid":return M.createElement(cte,n);case"sector":return M.createElement(TI,n);case"symbols":if(vte(e))return M.createElement(w0,n);break;default:return null}}function xte(t){return A.isValidElement(t)?t.props:t}function bte(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?yte:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=fte(t,dte),u;if(A.isValidElement(e))u=A.cloneElement(e,af(af({},l),xte(e)));else if(he(e))u=e(l);else if(Kee(e)&&!ete(e)){var c=i(e,l);u=M.createElement(A1,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(A1,{shapeType:n,elementProps:f})}return s?M.createElement(Qe,{className:a},u):u}function Ph(t,e){return e!=null&&"trapezoids"in t.props}function Ih(t,e){return e!=null&&"sectors"in t.props}function eu(t,e){return e!=null&&"points"in t.props}function wte(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function _te(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ste(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ete(t,e){var n;return Ph(t,e)?n=wte:Ih(t,e)?n=_te:eu(t,e)&&(n=Ste),n}function Tte(t,e){var n;return Ph(t,e)?n="trapezoids":Ih(t,e)?n="sectors":eu(t,e)&&(n="points"),n}function kte(t,e){if(Ph(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ih(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return eu(t,e)?e.payload:{}}function Ate(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Tte(n,e),o=kte(n,e),a=r.filter(function(l,u){var c=Ah(o,l),f=n.props[i].filter(function(y){var v=Ete(n,e);return v(y,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Cte=Math.ceil,Nte=Math.max;function Pte(t,e,n,r){for(var i=-1,o=Nte(Cte((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Ite=Pte,Ote=pP,C1=1/0,Rte=17976931348623157e292;function jte(t){if(!t)return t===0?t:0;if(t=Ote(t),t===C1||t===-C1){var e=t<0?-1:1;return e*Rte}return t===t?t:0}var DI=jte,Mte=Ite,$te=vh,Zp=DI;function Dte(t){return function(e,n,r){return r&&typeof r!="number"&&$te(e,n,r)&&(n=r=void 0),e=Zp(e),n===void 0?(n=e,e=0):n=Zp(n),r=r===void 0?e<n?1:-1:Zp(r),Mte(e,n,r,t)}}var Lte=Dte,Ute=Lte,Fte=Ute(),Bte=Fte;const sf=Ie(Bte);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){LI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LI(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Vte(t,"string");return tu(e)=="symbol"?e:e+""}function Vte(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gte=["Webkit","Moz","O","ms"],Hte=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Gte.reduce(function(o,a){return P1(P1({},o),{},LI({},a+r,n))},{});return i[e]=n,i};function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){Yt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FI(r.key),r)}}function Wte(t,e,n){return e&&O1(t.prototype,e),n&&O1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,n){return e=uf(e),Jte(t,UI()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function Jte(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function Yt(t,e,n){return e=FI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FI(t){var e=Qte(t,"string");return Oa(e)=="symbol"?e:e+""}function Qte(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zte=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xs().domain(sf(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},R1=function(e){return e.changedTouches&&!!e.changedTouches.length},Ra=function(t){function e(n){var r;return zte(this,e),r=Kte(this,e,[n]),Yt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Yt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Yt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Yt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Yt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Yt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Yt(r,"handleSlideDragStart",function(i){var o=R1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xte(e,t),Wte(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ln(o[r],s,r);return he(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-f-s,u+c-f-a):v<0&&(v=Math.max(v,u-a,u-s));var b=this.getIndex({startX:a+v,endX:s+v});(b.startIndex!==h||b.endIndex!==g)&&y&&y(b),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=R1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,y=c.onChange,v=c.gap,b=c.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),E=_.startIndex,S=_.endIndex,T=function(){var C=b.length-1;return a==="startX"&&(s>l?E%v===0:S%v===0)||s<l&&S===C||a==="endX"&&(s>l?S%v===0:E%v===0)||s>l&&S===C};this.setState(Yt(Yt({},a,u+w),"brushMoveStartX",r.pageX),function(){y&&T()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(Yt({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=A.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,v=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),w=em(em({},xe(this.props,!1)),{},{x,y:u,width:c,height:f}),_=g||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[b])===null||a===void 0?void 0:a.name);return M.createElement(Qe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,y={pointerEvents:"none",fill:u};return M.createElement(Qe,{className:"recharts-brush-texts"},M.createElement($d,lf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},y),this.getTextOfTick(i)),M.createElement($d,lf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,v=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Q(s)||!Q(l)||!Q(u)||!Q(c)||u<=0||c<=0)return null;var _=we("recharts-brush",o),E=M.Children.count(a)===1,S=Hte("userSelect","none");return M.createElement(Qe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):he(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return em({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Zte({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(A.PureComponent);Yt(Ra,"displayName","Brush");Yt(Ra,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ene=C0;function tne(t,e){var n;return ene(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var nne=tne,rne=BN,ine=wi,one=nne,ane=zt,sne=vh;function lne(t,e,n){var r=ane(t)?rne:one;return n&&sne(t,e,n)&&(e=void 0),r(t,ine(e))}var une=lne;const cne=Ie(une);var or=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},j1=uP;function dne(t,e,n){e=="__proto__"&&j1?j1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fne=dne,hne=fne,pne=sP,mne=wi;function gne(t,e){var n={};return e=mne(e),pne(t,function(r,i,o){hne(n,i,e(r,i,o))}),n}var yne=gne;const vne=Ie(yne);function xne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var bne=xne,wne=C0;function _ne(t,e){var n=!0;return wne(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Sne=_ne,Ene=bne,Tne=Sne,kne=wi,Ane=zt,Cne=vh;function Nne(t,e,n){var r=Ane(t)?Ene:Tne;return n&&Cne(t,e,n)&&(e=void 0),r(t,kne(e))}var Pne=Nne;const BI=Ie(Pne);var Ine=["x","y"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=jne(t,"string");return nu(e)=="symbol"?e:e+""}function jne(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dne(t,e){var n=t.x,r=t.y,i=Mne(t,Ine),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Cs(Cs(Cs(Cs(Cs({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function $1(t){return M.createElement(bte,xy({shapeType:"rectangle",propTransformer:Dne,activeClassName:"recharts-active-bar"},t))}var Lne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Q(r)||X5(r);return o?e(r,i):(o||lo(),n)}},Une=["value","background"],qI;function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Fne(t,e){if(t==null)return{};var n=Bne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GI(r.key),r)}}function Vne(t,e,n){return e&&L1(t.prototype,e),n&&L1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gne(t,e,n){return e=df(e),Hne(t,VI()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function Hne(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(t)}function zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function Wne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(t,e)}function ti(t,e,n){return e=GI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t){var e=Kne(t,"string");return ja(e)=="symbol"?e:e+""}function Kne(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ur=function(t){function e(){var n;qne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gne(this,e,[].concat(i)),ti(n,"state",{isAnimationFinished:!1}),ti(n,"id",_u("recharts-bar-")),ti(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ti(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Wne(e,t),Vne(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=xe(this.props,!1);return r&&r.map(function(f,h){var g=h===l,y=g?u:a,v=et(et(et({},c),f),{},{isActive:g,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Qe,cf({className:"recharts-bar-rectangle"},wd(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement($1,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Rr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,v=o.map(function(b,x){var w=h&&h[x];if(w){var _=Bn(w.x,b.x),E=Bn(w.y,b.y),S=Bn(w.width,b.width),T=Bn(w.height,b.height);return et(et({},b),{},{x:_(y),y:E(y),width:S(y),height:T(y)})}if(a==="horizontal"){var k=Bn(0,b.height),C=k(y);return et(et({},b),{},{y:b.y+b.height-C,height:C})}var N=Bn(0,b.width),I=N(y);return et(et({},b),{},{width:I})});return M.createElement(Qe,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ah(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=xe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Fne(u,Une);if(!f)return null;var g=et(et(et(et(et({},h),{},{fill:"#eee"},f),l),wd(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return M.createElement($1,cf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=_n(c,Cu);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:ln(b,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Qe,y,f.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,y=r.background,v=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=we("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=w||_,S=me(v)?this.id:v;return M.createElement(Qe,{className:x},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:w?u:u-f/2,y:_?c:c-h/2,width:w?f:f*2,height:_?h:h*2}))):null,M.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!g||b)&&fi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);qI=ur;ti(ur,"displayName","Bar");ti(ur,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ti(ur,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=bX(r,n);if(!g)return null;var y=e.layout,v=n.type.defaultProps,b=v!==void 0?et(et({},v),n.props):n.props,x=b.dataKey,w=b.children,_=b.minPointSize,E=y==="horizontal"?a:o,S=u?E.scale.domain():null,T=CX({numericAxis:E}),k=_n(w,gP),C=f.map(function(N,I){var O,$,L,j,P,R;u?O=wX(u[c+I],S):(O=ln(N,x),Array.isArray(O)||(O=[T,O]));var U=Lne(_,qI.defaultProps.minPointSize)(O[1],I);if(y==="horizontal"){var D,B=[a.scale(O[0]),a.scale(O[1])],V=B[0],J=B[1];$=FS({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:N,index:I}),L=(D=J??V)!==null&&D!==void 0?D:void 0,j=g.size;var H=V-J;if(P=Number.isNaN(H)?0:H,R={x:$,y:a.y,width:j,height:a.height},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var re=Vn(P||U)*(Math.abs(U)-Math.abs(P));L-=re,P+=re}}else{var fe=[o.scale(O[0]),o.scale(O[1])],pe=fe[0],ye=fe[1];if($=pe,L=FS({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:N,index:I}),j=ye-pe,P=g.size,R={x:o.x,y:L,width:o.width,height:P},Math.abs(U)>0&&Math.abs(j)<Math.abs(U)){var ve=Vn(j||U)*(Math.abs(U)-Math.abs(j));j+=ve}}return et(et(et({},N),{},{x:$,y:L,width:j,height:P,value:u?O:O[1],payload:N,background:R},k&&k[I]&&k[I].props),{},{tooltipPayload:[_I(n,N)],tooltipPosition:{x:$+j/2,y:L+P/2}})});return et({data:C,layout:y},h)});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HI(r.key),r)}}function Yne(t,e,n){return e&&U1(t.prototype,e),n&&U1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){Oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oh(t,e,n){return e=HI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t){var e=Xne(t,"string");return ru(e)=="symbol"?e:e+""}function Xne(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zI=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Qt(u,ur);return c.reduce(function(g,y){var v=n[y],b=v.orientation,x=v.domain,w=v.padding,_=w===void 0?{}:w,E=v.mirror,S=v.reversed,T="".concat(b).concat(E?"Mirror":""),k,C,N,I,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=x[1]-x[0],L=1/0,j=v.categoricalDomain.sort(eF);if(j.forEach(function(fe,pe){pe>0&&(L=Math.min((fe||0)-(j[pe-1]||0),L))}),Number.isFinite(L)){var P=L/$,R=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(k=P*R/2),v.padding==="no-gap"){var U=ao(e.barCategoryGap,P*R),D=P*R/2;k=D-U-(D-U)/R*U}}}i==="xAxis"?C=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:C=v.range,S&&(C=[C[1],C[0]]);var B=vX(v,o,h),V=B.scale,J=B.realScaleType;V.domain(x).range(C),xX(V);var H=AX(V,Dn(Dn({},v),{},{realScaleType:J}));i==="xAxis"?(O=b==="top"&&!E||b==="bottom"&&E,N=r.left,I=f[T]-O*v.height):i==="yAxis"&&(O=b==="left"&&!E||b==="right"&&E,N=f[T]-O*v.width,I=r.top);var re=Dn(Dn(Dn({},v),H),{},{realScaleType:J,x:N,y:I,scale:V,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return re.bandSize=Yd(re,H),!v.hide&&i==="xAxis"?f[T]+=(O?-1:1)*re.height:v.hide||(f[T]+=(O?-1:1)*re.width),Dn(Dn({},g),{},Oh({},y,re))},{})},WI=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Qne=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return WI({x:n,y:r},{x:i,y:o})},KI=function(){function t(e){Jne(this,t),this.scale=e}return Yne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Oh(KI,"EPS",1e-4);var ix=function(e){var n=Object.keys(e).reduce(function(r,i){return Dn(Dn({},r),{},Oh({},i,KI.create(e[i])))},{});return Dn(Dn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return vne(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return BI(i,function(o,a){return n[a].isInRange(o)})}})};function Zne(t){return(t%180+180)%180}var ere=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Zne(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},tre=wi,nre=Su,rre=gh;function ire(t){return function(e,n,r){var i=Object(e);if(!nre(e)){var o=tre(n);e=rre(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var ore=ire,are=DI;function sre(t){var e=are(t),n=e%1;return e===e?n?e-n:e:0}var lre=sre,ure=tP,cre=wi,dre=lre,fre=Math.max;function hre(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:dre(n);return i<0&&(i=fre(r+i,0)),ure(t,cre(e),i)}var pre=hre,mre=ore,gre=pre,yre=mre(gre),vre=yre;const xre=Ie(vre);var bre=r5(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ox=A.createContext(void 0),ax=A.createContext(void 0),JI=A.createContext(void 0),YI=A.createContext({}),XI=A.createContext(void 0),QI=A.createContext(0),ZI=A.createContext(0),B1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=bre(o);return M.createElement(ox.Provider,{value:r},M.createElement(ax.Provider,{value:i},M.createElement(YI.Provider,{value:o},M.createElement(JI.Provider,{value:c},M.createElement(XI.Provider,{value:a},M.createElement(QI.Provider,{value:u},M.createElement(ZI.Provider,{value:l},s)))))))},wre=function(){return A.useContext(XI)},e2=function(e){var n=A.useContext(ox);n==null&&lo();var r=n[e];return r==null&&lo(),r},_re=function(){var e=A.useContext(ox);return Xr(e)},Sre=function(){var e=A.useContext(ax),n=xre(e,function(r){return BI(r.domain,Number.isFinite)});return n||Xr(e)},t2=function(e){var n=A.useContext(ax);n==null&&lo();var r=n[e];return r==null&&lo(),r},Ere=function(){var e=A.useContext(JI);return e},Tre=function(){return A.useContext(YI)},sx=function(){return A.useContext(ZI)},lx=function(){return A.useContext(QI)};function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r2(r.key),r)}}function Cre(t,e,n){return e&&Are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nre(t,e,n){return e=ff(e),Pre(t,n2()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function Pre(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(t)}function Ire(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function Ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ux(t,e,n){return e=r2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r2(t){var e=Rre(t,"string");return Ma(e)=="symbol"?e:e+""}function Rre(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jre(t,e){return Lre(t)||Dre(t,e)||$re(t,e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return G1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G1(t,e)}}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lre(t){if(Array.isArray(t))return t}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}var Ure=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):he(e)?r=e(n):r=M.createElement("line",_y({},n,{className:"recharts-reference-line-line"})),r},Fre=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,g=o.height;if(r){var y=u.y,v=e.y.apply(y,{position:a});if(or(u,"discard")&&!e.y.isInRange(v))return null;var b=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?b.reverse():b}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(or(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+g},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(T){return e.apply(T,{position:a})});return or(u,"discard")&&cne(S,function(T){return!e.isInRange(T)})?null:S}return null};function Bre(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=wre(),c=e2(i),f=t2(o),h=Ere();if(!u||!h)return null;Er(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ix({x:c.scale,y:f.scale}),y=ct(e),v=ct(n),b=r&&r.length===2,x=Fre(g,y,v,b,h,t.position,c.orientation,f.orientation,t);if(!x)return null;var w=jre(x,2),_=w[0],E=_.x,S=_.y,T=w[1],k=T.x,C=T.y,N=or(t,"hidden")?"url(#".concat(u,")"):void 0,I=V1(V1({clipPath:N},xe(t,!0)),{},{x1:E,y1:S,x2:k,y2:C});return M.createElement(Qe,{className:we("recharts-reference-line",s)},Ure(a,I),Ct.renderCallByParent(t,Qne({x1:E,y1:S,x2:k,y2:C})))}var cx=function(t){function e(){return kre(this,e),Nre(this,e,arguments)}return Ore(e,t),Cre(e,[{key:"render",value:function(){return M.createElement(Bre,this.props)}}])}(M.Component);ux(cx,"displayName","ReferenceLine");ux(cx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o2(r.key),r)}}function Gre(t,e,n){return e&&Vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hre(t,e,n){return e=hf(e),zre(t,i2()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function zre(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i2=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function Kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function Rh(t,e,n){return e=o2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o2(t){var e=Jre(t,"string");return $a(e)=="symbol"?e:e+""}function Jre(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yre=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=ix({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return or(e,"discard")&&!a.isInRange(s)?null:s},jh=function(t){function e(){return qre(this,e),Hre(this,e,arguments)}return Kre(e,t),Gre(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=ct(i),c=ct(o);if(Er(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Yre(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,v=y.shape,b=y.className,x=or(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=z1(z1({clipPath:x},xe(this.props,!0)),{},{cx:h,cy:g});return M.createElement(Qe,{className:we("recharts-reference-dot",b)},e.renderDot(v,w),Ct.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(M.Component);Rh(jh,"displayName","ReferenceDot");Rh(jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rh(jh,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):he(t)?n=t(e):n=M.createElement(rx,Sy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function Zre(t,e,n){return e&&Qre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eie(t,e,n){return e=pf(e),tie(t,a2()?Reflect.construct(e,n||[],pf(t).constructor):e.apply(t,n))}function tie(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(t)}function nie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}function rie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function Mh(t,e,n){return e=s2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t){var e=iie(t,"string");return Da(e)=="symbol"?e:e+""}function iie(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oie=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=ix({x:c.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return or(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:WI(g,y)},$h=function(t){function e(){return Xre(this,e),eie(this,e,arguments)}return rie(e,t),Zre(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Er(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ct(i),h=ct(o),g=ct(a),y=ct(s),v=this.props.shape;if(!f&&!h&&!g&&!y&&!v)return null;var b=oie(f,h,g,y,this.props);if(!b&&!v)return null;var x=or(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(Qe,{className:we("recharts-reference-area",l)},e.renderRect(v,K1(K1({clipPath:x},xe(this.props,!0)),b)),Ct.renderCallByParent(this.props,b))}}])}(M.Component);Mh($h,"displayName","ReferenceArea");Mh($h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mh($h,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):he(t)?n=t(e):n=M.createElement(nx,Ty({},e,{className:"recharts-reference-area-rect"})),n});function l2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function aie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ere(r,n)}function sie(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function mf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function lie(t,e){return l2(t,e+1)}function uie(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:l2(r,u)};var v=l,b,x=function(){return b===void 0&&(b=n(y,v)),b},w=y.coordinate,_=l===0||mf(t,w,x,c,s);_||(l=0,c=a,u+=1),_&&(c=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=fie(t,"string");return iu(e)=="symbol"?e:e+""}function fie(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hie(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],y,v=function(){return y===void 0&&(y=n(g,h)),y};if(h===a-1){var b=t*(g.coordinate+t*v()/2-l);o[h]=g=kt(kt({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=kt(kt({},g),{},{tickCoord:g.coordinate});var x=mf(t,g.tickCoord,v,s,l);x&&(l=g.tickCoord-t*(v()/2+i),o[h]=kt(kt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function pie(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=kt(kt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=mf(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),a[s-1]=kt(kt({},c),{},{isShow:!0}))}for(var y=o?s-1:s,v=function(w){var _=a[w],E,S=function(){return E===void 0&&(E=n(_,w)),E};if(w===0){var T=t*(_.coordinate-t*S()/2-l);a[w]=_=kt(kt({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[w]=_=kt(kt({},_),{},{tickCoord:_.coordinate});var k=mf(t,_.tickCoord,S,l,u);k&&(l=_.tickCoord+t*(S()/2+i),a[w]=kt(kt({},_),{},{isShow:!0}))},b=0;b<y;b++)v(b);return a}function dx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Q(l)||rs.isSsr)return lie(i,typeof l=="number"&&Q(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?Ys(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,E){var S=he(u)?u(_.value,E):_.value;return g==="width"?aie(Ys(S,{fontSize:e,letterSpacing:n}),y,f):Ys(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Vn(i[1].coordinate-i[0].coordinate):1,x=sie(o,b,g);return l==="equidistantPreserveStart"?uie(b,x,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=pie(b,x,v,i,a,l==="preserveStartEnd"):h=hie(b,x,v,i,a),h.filter(function(w){return w.isShow}))}var mie=["viewBox"],gie=["viewBox"],yie=["ticks"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tm(t,e){if(t==null)return{};var n=vie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function bie(t,e,n){return e&&X1(t.prototype,e),n&&X1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wie(t,e,n){return e=gf(e),_ie(t,u2()?Reflect.construct(e,n||[],gf(t).constructor):e.apply(t,n))}function _ie(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sie(t)}function Sie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(t)}function Eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function fx(t,e,n){return e=c2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t){var e=Tie(t,"string");return La(e)=="symbol"?e:e+""}function Tie(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ss=function(t){function e(n){var r;return xie(this,e),r=wie(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Eie(e,t),bie(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=tm(r,mie),s=this.props,l=s.viewBox,u=tm(s,gie);return!ca(o,l)||!ca(a,u)||!ca(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,y,v,b,x,w,_=f?-1:1,E=r.tickSize||c,S=Q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=y=r.coordinate,b=a+ +!f*l,v=b-_*E,w=v-_*h,x=S;break;case"left":v=b=r.coordinate,y=o+ +!f*s,g=y-_*E,x=g-_*h,w=S;break;case"right":v=b=r.coordinate,y=o+ +f*s,g=y+_*E,x=g+_*h,w=S;break;default:g=y=r.coordinate,b=a+ +f*l,v=b+_*E,w=v+_*h,x=S;break}return{line:{x1:g,y1:v,x2:y,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=ot(ot(ot({},xe(this.props,!1)),xe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ot(ot({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=ot(ot({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return M.createElement("line",Qo({},f,{className:we("recharts-cartesian-axis-line",wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,g=dx(ot(ot({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=xe(this.props,!1),x=xe(c,!1),w=ot(ot({},b),{},{fill:"none"},xe(l,!1)),_=g.map(function(E,S){var T=a.getTickLineCoord(E),k=T.line,C=T.tick,N=ot(ot(ot(ot({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:u},x),C),{},{index:S,payload:E,visibleTicksCount:g.length,tickFormatter:f});return M.createElement(Qe,Qo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},wd(a.props,E,S)),l&&M.createElement("line",Qo({},w,k,{className:we("recharts-cartesian-axis-tick-line",wn(l,"className"))})),c&&e.renderTickItem(c,N,"".concat(he(f)?f(E.value,S):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=tm(f,yie),y=h;return he(l)&&(y=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!y||!y.length?null:M.createElement(Qe,{className:we("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ct.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=we(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,ot(ot({},i),{},{className:s})):he(r)?a=r(ot(ot({},i),{},{className:s})):a=M.createElement($d,Qo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(A.Component);fx(ss,"displayName","CartesianAxis");fx(ss,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kie=["x1","y1","x2","y2","key"],Aie=["offset"];function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nie(t){var e=Pie(t,"string");return uo(e)=="symbol"?e:e+""}function Pie(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zi.apply(this,arguments)}function Z1(t,e){if(t==null)return{};var n=Iie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d2(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(he(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=Z1(e,kie),u=xe(l,!1);u.offset;var c=Z1(u,Aie);n=M.createElement("line",zi({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Rie(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Nt(Nt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return d2(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function jie(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Nt(Nt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return d2(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Mie(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var y=!c[g+1],v=y?i+a-h:c[g+1]-h;if(v<=0)return null;var b=g%e.length;return M.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:v,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $ie(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var y=!c[g+1],v=y?o+s-h:c[g+1]-h;if(v<=0)return null;var b=g%r.length;return M.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:v,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Die=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return bI(dx(Nt(Nt(Nt({},ss.defaultProps),r),{},{ticks:br(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Lie=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return bI(dx(Nt(Nt(Nt({},ss.defaultProps),r),{},{ticks:br(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Oo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ou(t){var e,n,r,i,o,a,s=sx(),l=lx(),u=Tre(),c=Nt(Nt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Oo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Oo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Oo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Oo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Oo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Oo.verticalFill,x:Q(t.x)?t.x:u.left,y:Q(t.y)?t.y:u.top,width:Q(t.width)?t.width:u.width,height:Q(t.height)?t.height:u.height}),f=c.x,h=c.y,g=c.width,y=c.height,v=c.syncWithTicks,b=c.horizontalValues,x=c.verticalValues,w=_re(),_=Sre();if(!Q(g)||g<=0||!Q(y)||y<=0||!Q(f)||f!==+f||!Q(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||Die,S=c.horizontalCoordinatesGenerator||Lie,T=c.horizontalPoints,k=c.verticalPoints;if((!T||!T.length)&&he(S)){var C=b&&b.length,N=S({yAxis:_?Nt(Nt({},_),{},{ticks:C?b:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);Er(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uo(N),"]")),Array.isArray(N)&&(T=N)}if((!k||!k.length)&&he(E)){var I=x&&x.length,O=E({xAxis:w?Nt(Nt({},w),{},{ticks:I?x:w.ticks}):void 0,width:s,height:l,offset:u},I?!0:v);Er(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uo(O),"]")),Array.isArray(O)&&(k=O)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Oie,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(Rie,zi({},c,{offset:u,horizontalPoints:T,xAxis:w,yAxis:_})),M.createElement(jie,zi({},c,{offset:u,verticalPoints:k,xAxis:w,yAxis:_})),M.createElement(Mie,zi({},c,{horizontalPoints:T})),M.createElement($ie,zi({},c,{verticalPoints:k})))}ou.displayName="CartesianGrid";var Uie=["type","layout","connectNulls","ref"],Fie=["key"];function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function eE(t,e){if(t==null)return{};var n=Bie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function tE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ro(t){return Hie(t)||Gie(t)||Vie(t)||qie()}function qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(t,e){if(t){if(typeof t=="string")return Cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cy(t,e)}}function Gie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hie(t){if(Array.isArray(t))return Cy(t)}function Cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h2(r.key),r)}}function Wie(t,e,n){return e&&nE(t.prototype,e),n&&nE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,n){return e=yf(e),Jie(t,f2()?Reflect.construct(e,n||[],yf(t).constructor):e.apply(t,n))}function Jie(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(t)}function Yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!t})()}function yf(t){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yf(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ny(t,e)}function Ln(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){var e=Qie(t,"string");return Ua(e)=="symbol"?e:e+""}function Qie(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nu=function(t){function e(){var n;zie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kie(this,e,[].concat(i)),Ln(n,"state",{isAnimationFinished:!0,totalLength:0}),Ln(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ln(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,h=s-a,g=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>f){g=[].concat(Ro(l.slice(0,y)),[f-v]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(Ro(e.repeat(l,c)),Ro(g),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Ln(n,"id",_u("recharts-line-")),Ln(n,"pathRef",function(a){n.mainCurve=a}),Ln(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ln(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xie(e,t),Wie(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=_n(c,Cu);if(!f)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:ln(v.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Qe,g,f.map(function(y){return M.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=xe(this.props,!1),h=xe(l,!0),g=u.map(function(v,b){var x=Jt(Jt(Jt({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Qe,el({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=eE(s,Uie),h=Jt(Jt(Jt({},xe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return M.createElement(ay,el({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,y=a.animateNewValues,v=a.width,b=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return M.createElement(Rr,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(w){var T=w.length/s.length,k=s.map(function($,L){var j=Math.floor(L*T);if(w[j]){var P=w[j],R=Bn(P.x,$.x),U=Bn(P.y,$.y);return Jt(Jt({},$),{},{x:R(S),y:U(S)})}if(y){var D=Bn(v*2,$.x),B=Bn(b/2,$.y);return Jt(Jt({},$),{},{x:D(S),y:B(S)})}return Jt(Jt({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(k,r,i)}var C=Bn(0,_),N=C(S),I;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=o.getStrokeDasharray(N,_,O)}else I=o.generateSimpleStrokeDasharray(_,N);return o.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Ah(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,g=i.width,y=i.height,v=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=we("recharts-line",l),E=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,T=E||S,k=me(b)?this.id:b,C=(r=xe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=C.r,I=N===void 0?3:N,O=C.strokeWidth,$=O===void 0?2:O,L=uF(a)?a:{},j=L.clipDot,P=j===void 0?!0:j,R=I*2+$;return M.createElement(Qe,{className:_},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:E?h:h-g/2,y:S?f:f-y/2,width:E?g:g*2,height:S?y:y*2})),!P&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-R/2,y:f-R/2,width:g+R,height:y+R}))):null,!w&&this.renderCurve(T,k),this.renderErrorBar(T,k),(w||a)&&this.renderDots(T,P,k),(!v||x)&&fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ro(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ro(a),Ro(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(he(r))o=r(i);else{var a=i.key,s=eE(i,Fie),l=we("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(rx,el({key:a},s,{className:l}))}return o}}])}(A.PureComponent);Ln(Nu,"displayName","Line");Ln(Nu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!rs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ln(Nu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,g){var y=ln(h,a);return c==="horizontal"?{x:US({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:me(y)?null:r.scale(y),value:y,payload:h}:{x:me(y)?null:n.scale(y),y:US({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:y,payload:h}});return Jt({points:f,layout:c},u)});function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function toe(t,e,n){return e&&eoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function noe(t,e,n){return e=vf(e),roe(t,p2()?Reflect.construct(e,n||[],vf(t).constructor):e.apply(t,n))}function roe(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(t)}function ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function m2(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=aoe(t,"string");return Fa(e)=="symbol"?e:e+""}function aoe(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function soe(t){var e=t.xAxisId,n=sx(),r=lx(),i=e2(e);return i==null?null:A.createElement(ss,Iy({},i,{className:we("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return br(a,!0)}}))}var mi=function(t){function e(){return Zie(this,e),noe(this,e,arguments)}return ooe(e,t),toe(e,[{key:"render",value:function(){return A.createElement(soe,this.props)}}])}(A.Component);m2(mi,"displayName","XAxis");m2(mi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x2(r.key),r)}}function coe(t,e,n){return e&&uoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function doe(t,e,n){return e=xf(e),foe(t,y2()?Reflect.construct(e,n||[],xf(t).constructor):e.apply(t,n))}function foe(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(t)}function hoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function v2(t,e,n){return e=x2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2(t){var e=moe(t,"string");return Ba(e)=="symbol"?e:e+""}function moe(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}var goe=function(e){var n=e.yAxisId,r=sx(),i=lx(),o=t2(n);return o==null?null:A.createElement(ss,Ry({},o,{className:we("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return br(s,!0)}}))},gi=function(t){function e(){return loe(this,e),doe(this,e,arguments)}return poe(e,t),coe(e,[{key:"render",value:function(){return A.createElement(goe,this.props)}}])}(A.Component);v2(gi,"displayName","YAxis");v2(gi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rE(t){return boe(t)||xoe(t)||voe(t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function voe(t,e){if(t){if(typeof t=="string")return jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jy(t,e)}}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function boe(t){if(Array.isArray(t))return jy(t)}function jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var My=function(e,n,r,i,o){var a=_n(e,cx),s=_n(e,jh),l=[].concat(rE(a),rE(s)),u=_n(e,$h),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,b){if(b.props[c]===r&&or(b.props,"extendDomain")&&Q(b.props[f])){var x=b.props[f];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(v,b){if(b.props[c]===r&&or(b.props,"extendDomain")&&Q(b.props[g])&&Q(b.props[y])){var x=b.props[g],w=b.props[y];return[Math.min(v[0],x,w),Math.max(v[1],x,w)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,b){return Q(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},b2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,g,y){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,g),!0;case 6:return b.fn.call(b.context,c,f,h,g,y),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var E=b.length,S;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,f);break;case 4:b[_].fn.call(b[_].context,c,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&a(this,g);else{for(var v=0,b=[],x=y.length;v<x;v++)(y[v].fn!==c||h&&!y[v].once||f&&y[v].context!==f)&&b.push(y[v]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(b2);var woe=b2.exports;const _oe=Ie(woe);var nm=new _oe,rm="recharts.syncMouseEvents";function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function Toe(t,e,n){return e&&Eoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function im(t,e,n){return e=w2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t){var e=koe(t,"string");return au(e)=="symbol"?e:e+""}function koe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aoe=function(){function t(){Soe(this,t),im(this,"activeIndex",0),im(this,"coordinateList",[]),im(this,"layout","horizontal")}return Toe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Coe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Q(r)&&Q(i))return!0}return!1}function Noe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function _2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=wt(e,n,r,i),s=wt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Poe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=wt(s,l,u,f),g=wt(s,l,c,f);r=h.x,i=h.y,o=g.x,a=g.y}else return _2(e);return[{x:r,y:i},{x:o,y:a}]}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=Roe(t,"string");return su(e)=="symbol"?e:e+""}function Roe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,v=ay;if(h==="ScatterChart")y=a,v=jee;else if(h==="BarChart")y=Noe(f,a,l,c),v=nx;else if(f==="radial"){var b=_2(a),x=b.cx,w=b.cy,_=b.radius,E=b.startAngle,S=b.endAngle;y={cx:x,cy:w,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},v=TI}else y={points:Poe(f,a,l)},v=ay;var T=fc(fc(fc(fc({stroke:"#ccc",pointerEvents:"none"},l),y),xe(g,!1)),{},{payload:s,payloadIndex:u,className:we("recharts-tooltip-cursor",g.className)});return A.isValidElement(g)?A.cloneElement(g,T):A.createElement(v,T)}var Moe=["item"],$oe=["children","className","width","height","style","compact","title","desc"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}function oE(t,e){return Uoe(t)||Loe(t,e)||E2(t,e)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Uoe(t){if(Array.isArray(t))return t}function aE(t,e){if(t==null)return{};var n=Foe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Foe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T2(r.key),r)}}function Voe(t,e,n){return e&&qoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,e,n){return e=bf(e),Hoe(t,S2()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function Hoe(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(t)}function zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$y(t,e)}function $y(t,e){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$y(t,e)}function Va(t){return Yoe(t)||Joe(t)||E2(t)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function Joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yoe(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ae(t,e,n){return e=T2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t){var e=Xoe(t,"string");return qa(e)=="symbol"?e:e+""}function Xoe(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qoe={xAxis:["bottom","top"],yAxis:["left","right"]},Zoe={width:"100%",height:"100%"},k2={x:0,y:0};function hc(t){return t}var eae=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},tae=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return G(G(G({},i),wt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return G(G(G({},i),wt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return k2},Dh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Va(s),Va(u)):s},[]);return a.length>0?a:e&&e.length&&Q(i)&&Q(o)?e.slice(i,o+1):[]};function A2(t){return t==="number"?[0,"auto"]:void 0}var Ly=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Dh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=xd(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Va(l),[_I(u,h)]):l},[])},lE=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=eae(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=fX(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Ly(e,n,c,f),g=tae(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},nae=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=xI(c,o);return r.reduce(function(y,v){var b,x=v.type.defaultProps!==void 0?G(G({},v.type.defaultProps),v.props):v.props,w=x.type,_=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,T=x.scale,k=x.ticks,C=x.includeHidden,N=x[a];if(y[N])return y;var I=Dh(e.data,{graphicalItems:i.filter(function(H){var re,fe=a in H.props?H.props[a]:(re=H.type.defaultProps)===null||re===void 0?void 0:re[a];return fe===N}),dataStartIndex:l,dataEndIndex:u}),O=I.length,$,L,j;Coe(x.domain,E,w)&&($=ty(x.domain,null,E),g&&(w==="number"||T!=="auto")&&(j=Qs(I,_,"category")));var P=A2(w);if(!$||$.length===0){var R,U=(R=x.domain)!==null&&R!==void 0?R:P;if(_){if($=Qs(I,_,w),w==="category"&&g){var D=Z5($);S&&D?(L=$,$=sf(0,O)):S||($=VS(U,$,v).reduce(function(H,re){return H.indexOf(re)>=0?H:[].concat(Va(H),[re])},[]))}else if(w==="category")S?$=$.filter(function(H){return H!==""&&!me(H)}):$=VS(U,$,v).reduce(function(H,re){return H.indexOf(re)>=0||re===""||me(re)?H:[].concat(Va(H),[re])},[]);else if(w==="number"){var B=yX(I,i.filter(function(H){var re,fe,pe=a in H.props?H.props[a]:(re=H.type.defaultProps)===null||re===void 0?void 0:re[a],ye="hide"in H.props?H.props.hide:(fe=H.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return pe===N&&(C||!ye)}),_,o,c);B&&($=B)}g&&(w==="number"||T!=="auto")&&(j=Qs(I,_,"category"))}else g?$=sf(0,O):s&&s[N]&&s[N].hasStack&&w==="number"?$=h==="expand"?[0,1]:wI(s[N].stackGroups,l,u):$=vI(I,i.filter(function(H){var re=a in H.props?H.props[a]:H.type.defaultProps[a],fe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return re===N&&(C||!fe)}),w,c,!0);if(w==="number")$=My(f,$,N,o,k),U&&($=ty(U,$,E));else if(w==="category"&&U){var V=U,J=$.every(function(H){return V.indexOf(H)>=0});J&&($=V)}}return G(G({},y),{},ae({},N,G(G({},x),{},{axisType:o,domain:$,categoricalDomain:j,duplicateDomain:L,originalDomain:(b=x.domain)!==null&&b!==void 0?b:P,isCategorical:g,layout:c})))},{})},rae=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Dh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,y=xI(c,o),v=-1;return r.reduce(function(b,x){var w=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,_=w[a],E=A2("number");if(!b[_]){v++;var S;return y?S=sf(0,g):s&&s[_]&&s[_].hasStack?(S=wI(s[_].stackGroups,l,u),S=My(f,S,_,o)):(S=ty(E,vI(h,r.filter(function(T){var k,C,N=a in T.props?T.props[a]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[a],I="hide"in T.props?T.props.hide:(C=T.type.defaultProps)===null||C===void 0?void 0:C.hide;return N===_&&!I}),"number",c),i.defaultProps.allowDataOverflow),S=My(f,S,_,o)),G(G({},b),{},ae({},_,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:wn(Qoe,"".concat(o,".").concat(v%2),null),domain:S,originalDomain:E,isCategorical:y,layout:c})))}return b},{})},iae=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=_n(c,o),g={};return h&&h.length?g=nae(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=rae(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},oae=function(e){var n=Xr(e),r=br(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:N0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Yd(n,r)}},uE=function(e){var n=e.children,r=e.defaultShowTooltip,i=Qt(n,Ra),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},aae=function(e){return!e||!e.length?!1:e.some(function(n){var r=Sr(n&&n.type);return r&&r.indexOf("Bar")>=0})},cE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sae=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=Qt(f,Ra),y=Qt(f,Yi),v=Object.keys(l).reduce(function(S,T){var k=l[T],C=k.orientation;return!k.mirror&&!k.hide?G(G({},S),{},ae({},C,S[C]+k.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,T){var k=a[T],C=k.orientation;return!k.mirror&&!k.hide?G(G({},S),{},ae({},C,wn(S,"".concat(C))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=G(G({},b),v),w=x.bottom;g&&(x.bottom+=g.props.height||Ra.defaultProps.height),y&&n&&(x=mX(x,i,r,n));var _=u-x.left-x.right,E=c-x.top-x.bottom;return G(G({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(E,0)})},lae=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},C2=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,E=w.stackGroups,S=w.offset,T=w.updateId,k=w.dataStartIndex,C=w.dataEndIndex,N=x.barSize,I=x.layout,O=x.barGap,$=x.barCategoryGap,L=x.maxBarSize,j=cE(I),P=j.numericAxisName,R=j.cateAxisName,U=aae(_),D=[];return _.forEach(function(B,V){var J=Dh(x.data,{graphicalItems:[B],dataStartIndex:k,dataEndIndex:C}),H=B.type.defaultProps!==void 0?G(G({},B.type.defaultProps),B.props):B.props,re=H.dataKey,fe=H.maxBarSize,pe=H["".concat(P,"Id")],ye=H["".concat(R,"Id")],ve={},Ue=l.reduce(function(Xn,Wt){var zh=w["".concat(Wt.axisType,"Map")],kx=H["".concat(Wt.axisType,"Id")];zh&&zh[kx]||Wt.axisType==="zAxis"||lo();var Ax=zh[kx];return G(G({},Xn),{},ae(ae({},Wt.axisType,Ax),"".concat(Wt.axisType,"Ticks"),br(Ax)))},ve),Y=Ue[R],ue=Ue["".concat(R,"Ticks")],ce=E&&E[pe]&&E[pe].hasStack&&NX(B,E[pe].stackGroups),z=Sr(B.type).indexOf("Bar")>=0,Ae=Yd(Y,ue),q=[],ee=U&&hX({barSize:N,stackGroups:E,totalSize:lae(Ue,R)});if(z){var F,W,oe=me(fe)?L:fe,Ce=(F=(W=Yd(Y,ue,!0))!==null&&W!==void 0?W:oe)!==null&&F!==void 0?F:0;q=pX({barGap:O,barCategoryGap:$,bandSize:Ce!==Ae?Ce:Ae,sizeList:ee[ye],maxBarSize:oe}),Ce!==Ae&&(q=q.map(function(Xn){return G(G({},Xn),{},{position:G(G({},Xn.position),{},{offset:Xn.position.offset-Ce/2})})}))}var dr=B&&B.type&&B.type.getComposedData;dr&&D.push({props:G(G({},dr(G(G({},Ue),{},{displayedData:J,props:x,dataKey:re,item:B,bandSize:Ae,barPosition:q,offset:S,stackedData:ce,layout:I,dataStartIndex:k,dataEndIndex:C}))),{},ae(ae(ae({key:B.key||"item-".concat(V)},P,Ue[P]),R,Ue[R]),"animationId",T)),childIndex:fF(B,x.children),item:B})}),D},g=function(x,w){var _=x.props,E=x.dataStartIndex,S=x.dataEndIndex,T=x.updateId;if(!$w({props:_}))return null;var k=_.children,C=_.layout,N=_.stackOffset,I=_.data,O=_.reverseStackOrder,$=cE(C),L=$.numericAxisName,j=$.cateAxisName,P=_n(k,r),R=kX(I,P,"".concat(L,"Id"),"".concat(j,"Id"),N,O),U=l.reduce(function(H,re){var fe="".concat(re.axisType,"Map");return G(G({},H),{},ae({},fe,iae(_,G(G({},re),{},{graphicalItems:P,stackGroups:re.axisType===L&&R,dataStartIndex:E,dataEndIndex:S}))))},{}),D=sae(G(G({},U),{},{props:_,graphicalItems:P}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(H){U[H]=c(_,U[H],D,H.replace("Map",""),n)});var B=U["".concat(j,"Map")],V=oae(B),J=h(_,G(G({},U),{},{dataStartIndex:E,dataEndIndex:S,updateId:T,graphicalItems:P,stackGroups:R,offset:D}));return G(G({formattedGraphicalItems:J,graphicalItems:P,offset:D,stackGroups:R},V),U)},y=function(b){function x(w){var _,E,S;return Boe(this,x),S=Goe(this,x,[w]),ae(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ae(S,"accessibilityManager",new Aoe),ae(S,"handleLegendBBoxUpdate",function(T){if(T){var k=S.state,C=k.dataStartIndex,N=k.dataEndIndex,I=k.updateId;S.setState(G({legendBBox:T},g({props:S.props,dataStartIndex:C,dataEndIndex:N,updateId:I},G(G({},S.state),{},{legendBBox:T}))))}}),ae(S,"handleReceiveSyncEvent",function(T,k,C){if(S.props.syncId===T){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),ae(S,"handleBrushChange",function(T){var k=T.startIndex,C=T.endIndex;if(k!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return G({dataStartIndex:k,dataEndIndex:C},g({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),ae(S,"handleMouseEnter",function(T){var k=S.getMouseInfo(T);if(k){var C=G(G({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var N=S.props.onMouseEnter;he(N)&&N(C,T)}}),ae(S,"triggeredAfterMouseMove",function(T){var k=S.getMouseInfo(T),C=k?G(G({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var N=S.props.onMouseMove;he(N)&&N(C,T)}),ae(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ae(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ae(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),ae(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseLeave;he(C)&&C(k,T)}),ae(S,"handleOuterEvent",function(T){var k=dF(T),C=wn(S.props,"".concat(k));if(k&&he(C)){var N,I;/.*touch.*/i.test(k)?I=S.getMouseInfo(T.changedTouches[0]):I=S.getMouseInfo(T),C((N=I)!==null&&N!==void 0?N:{},T)}}),ae(S,"handleClick",function(T){var k=S.getMouseInfo(T);if(k){var C=G(G({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var N=S.props.onClick;he(N)&&N(C,T)}}),ae(S,"handleMouseDown",function(T){var k=S.props.onMouseDown;if(he(k)){var C=S.getMouseInfo(T);k(C,T)}}),ae(S,"handleMouseUp",function(T){var k=S.props.onMouseUp;if(he(k)){var C=S.getMouseInfo(T);k(C,T)}}),ae(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ae(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),ae(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),ae(S,"handleDoubleClick",function(T){var k=S.props.onDoubleClick;if(he(k)){var C=S.getMouseInfo(T);k(C,T)}}),ae(S,"handleContextMenu",function(T){var k=S.props.onContextMenu;if(he(k)){var C=S.getMouseInfo(T);k(C,T)}}),ae(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&nm.emit(rm,S.props.syncId,T,S.eventEmitterSymbol)}),ae(S,"applySyncEvent",function(T){var k=S.props,C=k.layout,N=k.syncMethod,I=S.state.updateId,O=T.dataStartIndex,$=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(G({dataStartIndex:O,dataEndIndex:$},g({props:S.props,dataStartIndex:O,dataEndIndex:$,updateId:I},S.state)));else if(T.activeTooltipIndex!==void 0){var L=T.chartX,j=T.chartY,P=T.activeTooltipIndex,R=S.state,U=R.offset,D=R.tooltipTicks;if(!U)return;if(typeof N=="function")P=N(D,T);else if(N==="value"){P=-1;for(var B=0;B<D.length;B++)if(D[B].value===T.activeLabel){P=B;break}}var V=G(G({},U),{},{x:U.left,y:U.top}),J=Math.min(L,V.x+V.width),H=Math.min(j,V.y+V.height),re=D[P]&&D[P].value,fe=Ly(S.state,S.props.data,P),pe=D[P]?{x:C==="horizontal"?D[P].coordinate:J,y:C==="horizontal"?H:D[P].coordinate}:k2;S.setState(G(G({},T),{},{activeLabel:re,activeCoordinate:pe,activePayload:fe,activeTooltipIndex:P}))}else S.setState(T)}),ae(S,"renderCursor",function(T){var k,C=S.state,N=C.isTooltipActive,I=C.activeCoordinate,O=C.activePayload,$=C.offset,L=C.activeTooltipIndex,j=C.tooltipAxisBandSize,P=S.getTooltipEventType(),R=(k=T.props.active)!==null&&k!==void 0?k:N,U=S.props.layout,D=T.key||"_recharts-cursor";return M.createElement(joe,{key:D,activeCoordinate:I,activePayload:O,activeTooltipIndex:L,chartName:n,element:T,isActive:R,layout:U,offset:$,tooltipAxisBandSize:j,tooltipEventType:P})}),ae(S,"renderPolarAxis",function(T,k,C){var N=wn(T,"type.axisType"),I=wn(S.state,"".concat(N,"Map")),O=T.type.defaultProps,$=O!==void 0?G(G({},O),T.props):T.props,L=I&&I[$["".concat(N,"Id")]];return A.cloneElement(T,G(G({},L),{},{className:we(N,L.className),key:T.key||"".concat(k,"-").concat(C),ticks:br(L,!0)}))}),ae(S,"renderPolarGrid",function(T){var k=T.props,C=k.radialLines,N=k.polarAngles,I=k.polarRadius,O=S.state,$=O.radiusAxisMap,L=O.angleAxisMap,j=Xr($),P=Xr(L),R=P.cx,U=P.cy,D=P.innerRadius,B=P.outerRadius;return A.cloneElement(T,{polarAngles:Array.isArray(N)?N:br(P,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(I)?I:br(j,!0).map(function(V){return V.coordinate}),cx:R,cy:U,innerRadius:D,outerRadius:B,key:T.key||"polar-grid",radialLines:C})}),ae(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,k=S.props,C=k.children,N=k.width,I=k.height,O=S.props.margin||{},$=N-(O.left||0)-(O.right||0),L=gI({children:C,formattedGraphicalItems:T,legendWidth:$,legendContent:u});if(!L)return null;var j=L.item,P=aE(L,Moe);return A.cloneElement(j,G(G({},P),{},{chartWidth:N,chartHeight:I,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ae(S,"renderTooltip",function(){var T,k=S.props,C=k.children,N=k.accessibilityLayer,I=Qt(C,Zt);if(!I)return null;var O=S.state,$=O.isTooltipActive,L=O.activeCoordinate,j=O.activePayload,P=O.activeLabel,R=O.offset,U=(T=I.props.active)!==null&&T!==void 0?T:$;return A.cloneElement(I,{viewBox:G(G({},R),{},{x:R.left,y:R.top}),active:U,label:P,payload:U?j:[],coordinate:L,accessibilityLayer:N})}),ae(S,"renderBrush",function(T){var k=S.props,C=k.margin,N=k.data,I=S.state,O=I.offset,$=I.dataStartIndex,L=I.dataEndIndex,j=I.updateId;return A.cloneElement(T,{key:T.key||"_recharts-brush",onChange:lc(S.handleBrushChange,T.props.onChange),data:N,x:Q(T.props.x)?T.props.x:O.left,y:Q(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Q(T.props.width)?T.props.width:O.width,startIndex:$,endIndex:L,updateId:"brush-".concat(j)})}),ae(S,"renderReferenceElement",function(T,k,C){if(!T)return null;var N=S,I=N.clipPathId,O=S.state,$=O.xAxisMap,L=O.yAxisMap,j=O.offset,P=T.type.defaultProps||{},R=T.props,U=R.xAxisId,D=U===void 0?P.xAxisId:U,B=R.yAxisId,V=B===void 0?P.yAxisId:B;return A.cloneElement(T,{key:T.key||"".concat(k,"-").concat(C),xAxis:$[D],yAxis:L[V],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:I})}),ae(S,"renderActivePoints",function(T){var k=T.item,C=T.activePoint,N=T.basePoint,I=T.childIndex,O=T.isRange,$=[],L=k.props.key,j=k.item.type.defaultProps!==void 0?G(G({},k.item.type.defaultProps),k.item.props):k.item.props,P=j.activeDot,R=j.dataKey,U=G(G({index:I,dataKey:R,cx:C.x,cy:C.y,r:4,fill:tx(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},xe(P,!1)),bd(P));return $.push(x.renderActiveDot(P,U,"".concat(L,"-activePoint-").concat(I))),N?$.push(x.renderActiveDot(P,G(G({},U),{},{cx:N.x,cy:N.y}),"".concat(L,"-basePoint-").concat(I))):O&&$.push(null),$}),ae(S,"renderGraphicChild",function(T,k,C){var N=S.filterFormatItem(T,k,C);if(!N)return null;var I=S.getTooltipEventType(),O=S.state,$=O.isTooltipActive,L=O.tooltipAxis,j=O.activeTooltipIndex,P=O.activeLabel,R=S.props.children,U=Qt(R,Zt),D=N.props,B=D.points,V=D.isRange,J=D.baseLine,H=N.item.type.defaultProps!==void 0?G(G({},N.item.type.defaultProps),N.item.props):N.item.props,re=H.activeDot,fe=H.hide,pe=H.activeBar,ye=H.activeShape,ve=!!(!fe&&$&&U&&(re||pe||ye)),Ue={};I!=="axis"&&U&&U.props.trigger==="click"?Ue={onClick:lc(S.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Ue={onMouseLeave:lc(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:lc(S.handleItemMouseEnter,T.props.onMouseEnter)});var Y=A.cloneElement(T,G(G({},N.props),Ue));function ue(Wt){return typeof L.dataKey=="function"?L.dataKey(Wt.payload):null}if(ve)if(j>=0){var ce,z;if(L.dataKey&&!L.allowDuplicatedCategory){var Ae=typeof L.dataKey=="function"?ue:"payload.".concat(L.dataKey.toString());ce=xd(B,Ae,P),z=V&&J&&xd(J,Ae,P)}else ce=B==null?void 0:B[j],z=V&&J&&J[j];if(ye||pe){var q=T.props.activeIndex!==void 0?T.props.activeIndex:j;return[A.cloneElement(T,G(G(G({},N.props),Ue),{},{activeIndex:q})),null,null]}if(!me(ce))return[Y].concat(Va(S.renderActivePoints({item:N,activePoint:ce,basePoint:z,childIndex:j,isRange:V})))}else{var ee,F=(ee=S.getItemByXY(S.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:Y},W=F.graphicalItem,oe=W.item,Ce=oe===void 0?T:oe,dr=W.childIndex,Xn=G(G(G({},N.props),Ue),{},{activeIndex:dr});return[A.cloneElement(Ce,Xn),null,null]}return V?[Y,null,null]:[Y,null]}),ae(S,"renderCustomized",function(T,k,C){return A.cloneElement(T,G(G({key:"recharts-customized-".concat(C)},S.props),S.state))}),ae(S,"renderMap",{CartesianGrid:{handler:hc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hc},YAxis:{handler:hc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:_u("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=mP(S.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Woe(x,b),Voe(x,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,T=_.height,k=_.layout,C=Qt(E,Zt);if(C){var N=C.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,O=Ly(this.state,S,N,I),$=this.state.tooltipTicks[N].coordinate,L=(this.state.offset.top+T)/2,j=k==="horizontal",P=j?{x:$,y:L}:{y:$,x:L},R=this.state.formattedGraphicalItems.find(function(D){var B=D.item;return B.type.name==="Scatter"});R&&(P=G(G({},P),R.props.points[N].tooltipPosition),O=R.props.points[N].tooltipPayload);var U={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:P};this.setState(U),this.renderCursor(C),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){gg([Qt(_.children,Zt)],[Qt(this.props.children,Zt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Qt(this.props.children,Zt);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),T=LW(S),k={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},C=S.width/E.offsetWidth||1,N=this.inRange(k.chartX,k.chartY,C);if(!N)return null;var I=this.state,O=I.xAxisMap,$=I.yAxisMap,L=this.getTooltipEventType(),j=lE(this.state,this.props.data,this.props.layout,N);if(L!=="axis"&&O&&$){var P=Xr(O).scale,R=Xr($).scale,U=P&&P.invert?P.invert(k.chartX):null,D=R&&R.invert?R.invert(k.chartY):null;return G(G({},k),{},{xValue:U,yValue:D},j)}return j?G(G({},k),j):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=_/S,C=E/S;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,I=k>=N.left&&k<=N.left+N.width&&C>=N.top&&C<=N.top+N.height;return I?{x:k,y:C}:null}var O=this.state,$=O.angleAxisMap,L=O.radiusAxisMap;if($&&L){var j=Xr($);return zS({x:k,y:C},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=Qt(_,Zt),T={};S&&E==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=bd(this.props,this.handleOuterEvent);return G(G({},k),T)}},{key:"addListener",value:function(){nm.on(rm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nm.removeListener(rm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var T=this.state.formattedGraphicalItems,k=0,C=T.length;k<C;k++){var N=T[k];if(N.item===_||N.props.key===_.key||E===Sr(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,T=E.top,k=E.height,C=E.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:S,y:T,height:k,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=oE(S,2),k=T[0],C=T[1];return G(G({},E),{},ae({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=oE(S,2),k=T[0],C=T[1];return G(G({},E),{},ae({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,T=E.activeItem;if(S&&S.length)for(var k=0,C=S.length;k<C;k++){var N=S[k],I=N.props,O=N.item,$=O.type.defaultProps!==void 0?G(G({},O.type.defaultProps),O.props):O.props,L=Sr(O.type);if(L==="Bar"){var j=(I.data||[]).find(function(D){return Eee(_,D)});if(j)return{graphicalItem:N,payload:j}}else if(L==="RadialBar"){var P=(I.data||[]).find(function(D){return zS(_,D)});if(P)return{graphicalItem:N,payload:P}}else if(Ph(N,T)||Ih(N,T)||eu(N,T)){var R=Ate({graphicalItem:N,activeTooltipItem:T,itemData:$.data}),U=$.activeIndex===void 0?R:$.activeIndex;return{graphicalItem:G(G({},N),{},{childIndex:U}),payload:eu(N,T)?$.data[R]:N.props.data[R]}}}return null}},{key:"render",value:function(){var _=this;if(!$w(this))return null;var E=this.props,S=E.children,T=E.className,k=E.width,C=E.height,N=E.style,I=E.compact,O=E.title,$=E.desc,L=aE(E,$oe),j=xe(L,!1);if(I)return M.createElement(B1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(vg,Zo({},j,{width:k,height:C,title:O,desc:$}),this.renderClipPath(),Lw(S,this.renderMap)));if(this.props.accessibilityLayer){var P,R;j.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,j.role=(R=this.props.role)!==null&&R!==void 0?R:"application",j.onKeyDown=function(D){_.accessibilityManager.keyboardEvent(D)},j.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(B1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Zo({className:we("recharts-wrapper",T),style:G({position:"relative",cursor:"default",width:k,height:C},N)},U,{ref:function(B){_.container=B}}),M.createElement(vg,Zo({},j,{width:k,height:C,title:O,desc:$,style:Zoe}),this.renderClipPath(),Lw(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);ae(y,"displayName",n),ae(y,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ae(y,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,_=b.data,E=b.children,S=b.width,T=b.height,k=b.layout,C=b.stackOffset,N=b.margin,I=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var $=uE(b);return G(G(G({},$),{},{updateId:0},g(G(G({props:b},$),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:C,prevMargin:N,prevChildren:E})}if(w!==x.prevDataKey||_!==x.prevData||S!==x.prevWidth||T!==x.prevHeight||k!==x.prevLayout||C!==x.prevStackOffset||!ca(N,x.prevMargin)){var L=uE(b),j={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},P=G(G({},lE(x,_,k)),{},{updateId:x.updateId+1}),R=G(G(G({},L),j),P);return G(G(G({},R),g(G({props:b},R),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:C,prevMargin:N,prevChildren:E})}if(!gg(E,x.prevChildren)){var U,D,B,V,J=Qt(E,Ra),H=J&&(U=(D=J.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:I,re=J&&(B=(V=J.props)===null||V===void 0?void 0:V.endIndex)!==null&&B!==void 0?B:O,fe=H!==I||re!==O,pe=!me(_),ye=pe&&!fe?x.updateId:x.updateId+1;return G(G({updateId:ye},g(G(G({props:b},x),{},{updateId:ye,dataStartIndex:H,dataEndIndex:re}),x)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:re})}return null}),ae(y,"renderActiveDot",function(b,x,w){var _;return A.isValidElement(b)?_=A.cloneElement(b,x):he(b)?_=b(x):_=M.createElement(rx,x),M.createElement(Qe,{className:"recharts-active-dot",key:w},_)});var v=A.forwardRef(function(x,w){return M.createElement(y,Zo({},x,{ref:w}))});return v.displayName=y.displayName,v},uae=C2({chartName:"LineChart",GraphicalChild:Nu,axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:zI}),hx=C2({chartName:"BarChart",GraphicalChild:ur,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:zI});const cae=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>d.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[d.jsx("p",{className:"text-sm opacity-80",children:t.label}),d.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),d.jsx("div",{className:"h-64",children:d.jsx(jd,{width:"100%",height:"100%",children:d.jsxs(hx,{data:O$,children:[d.jsx(ou,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),d.jsx(mi,{dataKey:"name",stroke:"#9ca3af"}),d.jsx(gi,{stroke:"#9ca3af"}),d.jsx(Zt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),d.jsx(ur,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),d.jsx("div",{className:"h-64",children:d.jsx(jd,{width:"100%",height:"100%",children:d.jsxs(uae,{data:R$,children:[d.jsx(ou,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),d.jsx(mi,{dataKey:"name",stroke:"#9ca3af"}),d.jsx(gi,{stroke:"#9ca3af"}),d.jsx(Zt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),d.jsx(Nu,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function dae({data:t,columns:e,onEdit:n,onDelete:r,isLoading:i,selectable:o,selectedIds:a=[],onSelect:s}){if(i)return d.jsx("div",{className:"p-4 text-center",children:"  ..."});const l=()=>{s&&(a.length===t.length?s([]):s(t.map(c=>c.id)))},u=c=>{s&&(a.includes(c)?s(a.filter(f=>f!==c)):s([...a,c]))};return d.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:d.jsxs("table",{className:"w-full text-sm text-right",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:d.jsxs("tr",{children:[o&&d.jsx("th",{className:"px-4 py-3 w-10",children:d.jsx("input",{type:"checkbox",checked:t.length>0&&a.length===t.length,onChange:l,className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(c=>d.jsx("th",{className:"px-4 py-3 font-medium whitespace-nowrap",children:c.header},String(c.key))),(n||r)&&d.jsx("th",{className:"px-4 py-3",children:""})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(c=>d.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${a.includes(c.id)?"bg-red-50 dark:bg-red-900/10":""}`,children:[o&&d.jsx("td",{className:"px-4 py-3",children:d.jsx("input",{type:"checkbox",checked:a.includes(c.id),onChange:()=>u(c.id),className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(f=>d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.render?f.render(c[f.key],c):String(c[f.key])},String(f.key))),(n||r)&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:d.jsxs("div",{className:"flex gap-2",children:[n&&d.jsx("button",{onClick:()=>n(c),className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"",children:d.jsx(_$,{className:"w-4 h-4"})}),r&&d.jsx("button",{onClick:()=>r(c),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"",children:d.jsx(bn,{className:"w-4 h-4"})})]})})]},c.id)),t.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:e.length+(o?2:1),className:"px-4 py-8 text-center text-gray-500",children:"  "})})]})]})})}const ar=()=>Math.random().toString(36).substring(2,9),N2=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},P2=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},Je=()=>{const t=new Date,e=P2(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},lu=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Fr=t=>{const e=new Date,n=P2(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},Ga=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=N2(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},fae=(t,e,n,r)=>{const i=Ga(t),o=Ga(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},hae=(t,e,n,r)=>{const i=Ga(t),o=Ga(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0);const c=o.getTime()-i.getTime();return Math.max(0,Math.floor(c/6e4))},wf=t=>{const e=Ga(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},dE="192.168.1.105",pae=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories","parts","activity_cards","checklist_items","maintenance_plans"],fE={user_groups:" ",personnel:" ",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:" ",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories:" ",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},mae=()=>{const[t,e]=A.useState("user_groups"),[n,r]=A.useState([]),[i,o]=A.useState(!1),[a,s]=A.useState(!1),[l,u]=A.useState(null),[c,f]=A.useState([]),[h,g]=A.useState(null),[y,v]=A.useState(!1),b=A.useRef(null),x=A.useRef(null),w={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"personnel_id",header:" "},{key:"role",header:" "},{key:"is_default_password",header:" "}],locations:[{key:"code",header:""},{key:"name",header:" "},{key:"parent_id",header:" "}],org_chart:[{key:"code",header:" "},{key:"name",header:" /"},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:" "},{key:"group_id",header:" "},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"name",header:" "}],equipment_groups:[{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:"  "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:" "},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:""}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"  "},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},_=["personnel_code","full_name","mobile","email","username","name","title","code","local_name"],E=P=>{try{return JSON.parse(localStorage.getItem(`admin_data_${P}`)||"[]")}catch{return[]}},S=(P,R)=>{localStorage.setItem(`admin_data_${P}`,JSON.stringify(R))},T=async()=>{o(!0),g(null);try{const{data:P,error:R}=await Fn.from(t).select("*").order("created_at",{ascending:!1});if(R)throw R;let U=P||[];v(!1),r(U),S(t,U)}catch(P){console.warn("Supabase fetch failed, switching to local data:",P),v(!0);const R=E(t);r(R)}finally{o(!1)}};A.useEffect(()=>{T(),f([])},[t]);const k=()=>{u({}),s(!0)},C=P=>{u(P),s(!0)},N=async P=>{if(window.confirm("      ")){[...n],r(R=>R.filter(U=>U.id!==P.id)),f(R=>R.filter(U=>U!==P.id));try{const{error:R}=await Fn.from(t).delete().eq("id",P.id);if(R)throw R;await T()}catch{console.warn("Delete failed, performing offline delete");const D=E(t).filter(B=>B.id!==P.id);S(t,D),v(!0)}}},I=async()=>{if(c.length!==0&&window.confirm(`   ${c.length}   `)){r(P=>P.filter(R=>!c.includes(R.id)));try{const{error:P}=await Fn.from(t).delete().in("id",c);if(P)throw P;f([]),await T()}catch{console.warn("Bulk delete failed, performing offline delete");const U=E(t).filter(D=>!c.includes(D.id));S(t,U),f([]),v(!0)}}},O=async P=>{P.preventDefault(),o(!0);let R={...l};if(t==="personnel"){if(!R.personnel_code){o(!1),alert("   ");return}if(!R.full_name){o(!1),alert("     ");return}if(R.mobile&&!/^09\d{9}$/.test(R.mobile)){o(!1),alert("    .  11     09 .");return}if(R.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){o(!1),alert("     .");return}}if(t==="equipment"&&!R.name){alert("   "),o(!1);return}if(t==="locations"&&!R.name){alert("   "),o(!1);return}try{if(R.id){const{error:U}=await Fn.from(t).update(R).eq("id",R.id);if(U)throw U}else{const{error:U}=await Fn.from(t).insert([R]);if(U)throw U}await T(),s(!1)}catch(U){console.warn("Save failed, performing offline save:",U);let B=[...E(t)];if(R.id){const V=B.findIndex(J=>J.id===R.id);V>=0?B[V]={...B[V],...R}:B.push(R)}else R.id=ar(),R.created_at=new Date().toISOString(),B.unshift(R);S(t,B),alert("     .         ."),await T(),s(!1)}finally{o(!1)}},$=()=>{const R=w[t].map(H=>H.key),U=n.length>0?n:[];let D="\uFEFF"+R.join(",")+`
`;U.forEach(H=>{const re=R.map(fe=>{let pe=H[fe]||"";return String(pe).includes(",")&&(pe=`"${pe}"`),pe});D+=re.join(",")+`
`});const B=new Blob([D],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),J=URL.createObjectURL(B);V.setAttribute("href",J),V.setAttribute("download",`${t}_export.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},L=P=>{var D;const R=(D=P.target.files)==null?void 0:D[0];if(!R)return;const U=new FileReader;U.onload=async B=>{var J;const V=(J=B.target)==null?void 0:J.result;if(V)try{const H=V.split(`
`).filter(ve=>ve.trim()!=="");if(H.length<2){alert("    .");return}const re=H[0].split(",").map(ve=>ve.trim()),pe=w[t].map(ve=>ve.key),ye=[];for(let ve=1;ve<H.length;ve++){const Ue=H[ve].split(",");if(Ue.length<re.length)continue;const Y={};re.forEach((ue,ce)=>{var q;const z=ue.replace(/[\r"]/g,"");let Ae=(q=Ue[ce])==null?void 0:q.replace(/[\r"]/g,"").trim();pe.includes(z)&&(Y[z]=Ae)}),!(t==="personnel"&&!Y.personnel_code)&&Object.keys(Y).length>0&&ye.push(Y)}if(ye.length===0){alert("    .");return}o(!0);try{const{error:ve}=await Fn.from(t).insert(ye);if(ve)throw ve;alert(`${ye.length}     .`)}catch{const Ue=E(t),Y=ye.map(ue=>({...ue,id:ar(),created_at:new Date().toISOString()}));S(t,[...Y,...Ue]),alert(` ${ye.length}      .`)}await T()}catch(H){alert("   : "+H.message)}finally{o(!1),b.current&&(b.current.value="")}},U.readAsText(R)},j=P=>{var U;const R=(U=P.target.files)==null?void 0:U[0];if(R){const D=new FileReader;D.onloadend=()=>{u({...l,profile_picture:D.result})},D.readAsDataURL(R)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"  "}),y&&d.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[d.jsx(N$,{className:"w-4 h-4"}),"  "]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{onClick:T,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:d.jsx(ng,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&d.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 no-scrollbar",children:pae.map(P=>d.jsx("button",{onClick:()=>e(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===P?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:fE[P]},P))}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-200",children:fE[t]}),c.length>0&&d.jsxs("button",{onClick:I,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[d.jsx(bn,{className:"w-4 h-4"}),"  ",c.length," "]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[d.jsxs("button",{onClick:$,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[d.jsx(o$,{className:"w-4 h-4"}),"  /  "]}),d.jsx("input",{type:"file",ref:b,accept:".csv",onChange:L,className:"hidden"}),d.jsxs("button",{onClick:()=>{var P;return(P=b.current)==null?void 0:P.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[d.jsx(pd,{className:"w-4 h-4"}),"    (CSV)"]}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden md:block"}),d.jsxs("button",{onClick:k,className:"bg-primary hover:bg-red-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm transition shadow-lg",children:[d.jsx(sr,{className:"w-4 h-4"}),"  "]})]})]}),d.jsx(dae,{data:n,columns:w[t]||[],onEdit:C,onDelete:N,isLoading:i,selectable:!0,selectedIds:c,onSelect:f})]}),a&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[d.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),d.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:O,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w[t].map(P=>{const R=_.includes(P.key);return d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[P.header," ",R&&d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:P.key==="email"?"email":"text",value:l[P.key]||"",onChange:U=>u({...l,[P.key]:U.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:P.key==="mobile"?": 09123456789":""})]},String(P.key))}),t==="personnel"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),d.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[d.jsxs("div",{onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?d.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:d.jsx(od,{className:"w-8 h-8"})}),d.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:d.jsx(pd,{className:"w-6 h-6 text-white"})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("input",{type:"file",ref:x,accept:"image/*",className:"hidden",onChange:j}),d.jsxs("button",{type:"button",onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[d.jsx(od,{className:"w-4 h-4"}),"  "]}),d.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]}),d.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2",children:[d.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),d.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-red-800 flex justify-center gap-2 items-center transition shadow-lg",children:[i?d.jsx(ng,{className:"w-4 h-4 animate-spin"}):d.jsx(Ka,{className:"w-4 h-4"})," "]})]})]})]})})]})},wr=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=A.useState(!1),[s,l]=A.useState(1403),[u,c]=A.useState(1),f=A.useRef(null);A.useEffect(()=>{if(t){const T=t.split("/").map(Number);T.length===3&&(l(T[0]),c(T[1]))}else{const T=Je().split("/").map(Number);l(T[0]),c(T[1])}},[t,o]),A.useEffect(()=>{const T=k=>{f.current&&!f.current.contains(k.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],y=(T,k)=>k<=6?31:k<=11||T%33===1||T%33===5||T%33===9||T%33===13||T%33===17||T%33===22||T%33===26||T%33===30?30:29,v=(T,k)=>{const{gy:C,gm:N,gd:I}=N2(T,k,1);return new Date(C,N-1,I).getDay()},b=()=>{u===1?(c(12),l(T=>T-1)):c(T=>T-1)},x=()=>{u===12?(c(1),l(T=>T+1)):c(T=>T+1)},w=T=>{const k=`${s}/${String(u).padStart(2,"0")}/${String(T).padStart(2,"0")}`;i&&wf(k)||(e(k),a(!1))},_=()=>{const T=Je();e(T),a(!1)},E=(v(s,u)+1)%7,S=y(s,u);return d.jsxs("div",{className:"relative",ref:f,children:[n&&d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),d.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[d.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),d.jsx(t$,{className:"w-4 h-4 text-gray-400"})]}),o&&d.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:d.jsx(Wf,{className:"w-4 h-4"})}),d.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",s]}),d.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:d.jsx(Jv,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((T,k)=>d.jsx("span",{className:k===6?"text-red-500 font-bold":"",children:T},k))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:E}).map((T,k)=>d.jsx("div",{},`empty-${k}`)),Array.from({length:S}).map((T,k)=>{const C=k+1,N=`${s}/${String(u).padStart(2,"0")}/${String(C).padStart(2,"0")}`,I=t===N,O=i&&wf(N),$=(E+k)%7===6;return d.jsx("button",{type:"button",disabled:O,onClick:()=>w(C),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${I?"bg-primary text-white shadow-md font-bold":O?"text-gray-200 dark:text-gray-600 cursor-not-allowed":$?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:C},C)})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:d.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},ea=({value:t,onChange:e,label:n})=>{const[r,i]=A.useState(!1),[o,a]=A.useState("HOURS"),s=A.useRef(null),[l,u]=A.useState("00"),[c,f]=A.useState("00");A.useEffect(()=>{if(t&&t.includes(":")){const[w,_]=t.split(":");u(w),f(_)}},[t,r]),A.useEffect(()=>{const w=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const h=w=>{u(w),a("MINUTES")},g=w=>{f(w),e(`${l}:${w}`),i(!1),a("HOURS")},y=(w,_,E)=>{const S=w*(360/_)-90,T=E*Math.cos(S*Math.PI/180),k=E*Math.sin(S*Math.PI/180);return{transform:`translate(${T}px, ${k}px)`}},v=[12,13,14,15,16,17,18,19,20,21,22,23],b=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return d.jsxs("div",{className:"relative",ref:s,children:[n&&d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),d.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[d.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),d.jsx(Yv,{className:"w-5 h-5 text-gray-400"})]}),r&&d.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[d.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),d.jsx("span",{className:"text-gray-300 pb-2",children:":"}),d.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:c})]}),d.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[d.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&d.jsxs(d.Fragment,{children:[v.map((w,_)=>{const E=w===12?"00":w,S=String(E).padStart(2,"0"),T=l===S;return d.jsx("button",{type:"button",onClick:()=>h(S),style:y(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${T?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`out-${w}`)}),b.map((w,_)=>{const E=String(w).padStart(2,"0"),S=l===E;return d.jsx("button",{type:"button",onClick:()=>h(E),style:y(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:w===12?"12":w},`in-${w}`)})]}),o==="MINUTES"&&d.jsxs(d.Fragment,{children:[x.map((w,_)=>{const E=String(w).padStart(2,"0"),S=c===E;return d.jsx("button",{type:"button",onClick:()=>g(E),style:y(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`m-${w}`)}),d.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),d.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},Pu=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},I2=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Iu=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},O2=t=>{localStorage.setItem("cartable",JSON.stringify(t))},px=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},gae=t=>{const e=px();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},hE=()=>px(),yae=t=>{const n=px().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},Lh=()=>{try{const t=localStorage.getItem("messages");return t?JSON.parse(t):[]}catch{return[]}},R2=t=>{localStorage.setItem("messages",JSON.stringify(t))},vae=(t,e,n,r,i)=>{const o=Lh(),a={id:ar(),senderId:t.id,senderName:t.fullName,receiverId:e,receiverType:n,subject:r,body:i,createdAt:`${Je()} ${lu()}`,readBy:[]};o.push(a),R2(o)},xae=t=>Lh().filter(n=>n.receiverType==="USER"&&n.receiverId===t.id||n.receiverType==="ALL"||n.receiverType==="GROUP"&&n.receiverId===t.role).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),bae=t=>Lh().filter(n=>n.senderId===t).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),wae=(t,e)=>{const n=Lh(),r=n.findIndex(i=>i.id===t);if(r!==-1){const i=n[r];i.readBy.includes(e)||(i.readBy.push(e),n[r]=i,R2(n))}},on=async t=>{try{const{data:e,error:n}=await Fn.from(t).select("*");if(!n&&e&&e.length>0)return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:t==="locations"?[{id:"L-1",name:" "},{id:"L-2",name:" "},{id:"L-3",name:" "},{id:"L-4",name:" "}]:t==="equipment"?[{id:"1",code:"PM-101",name:"Centrifugal Pump 101",class_id:"CLASS-2",group_id:"GRP-1",location_id:"L-2"},{id:"2",code:"CV-202",name:"Main Conveyor Belt",class_id:"CLASS-1",group_id:"GRP-3",location_id:"L-1"},{id:"3",code:"CR-300",name:"Jaw Crusher A",class_id:"CLASS-1",group_id:"GRP-2",location_id:"L-1"}]:[]},_ae=async t=>{try{const{data:e,error:n}=await Fn.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},Sae=()=>{let t=Pu();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:Bt.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:Bt.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:Bt.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),I2(t)}};Sae();const uu=()=>Pu(),Eae=t=>{const e=Pu(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),I2(e)},Ti=(t,e,n,r,i)=>{let a=Pu().find(c=>c.module===t&&c.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:ar(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:Je(),updatedAt:Je(),data:{...e,status:"REQUEST"}},u=Iu();return u.push(l),O2(u),l},Tae=(t,e,n,r)=>{const i=Iu(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=Pu().find(f=>f.id===a.workflowId);if(!l)return;const u=l.steps.find(f=>f.id===a.currentStepId);if(!u)return;const c=u.actions.find(f=>f.id===e);if(c){if(c.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=Bt.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===c.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=Je(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,O2(i)}},pE=t=>Iu().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),j2=()=>Iu().filter(e=>e.module==="WORK_ORDER"),bo=t=>Iu().filter(n=>n.module===t),mx=({initialData:t,onProcessComplete:e})=>{const n=mo(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=A.useState("GENERAL"),[l,u]=A.useState(null),[c,f]=A.useState(null),[h,g]=A.useState(!1),[y,v]=A.useState(null),[b,x]=A.useState(!1),[w,_]=A.useState([]),[E,S]=A.useState([]),[T,k]=A.useState([]),[C,N]=A.useState([]),[I,O]=A.useState([]),[$,L]=A.useState([]),j=A.useRef(null),[P,R]=A.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:Je(),reportTime:lu(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:Je(),startTime:"",endDate:Je(),endTime:"",downtime:"",repairTime:""}),[U,D]=A.useState([]),[B,V]=A.useState([]),[J,H]=A.useState([]);A.useEffect(()=>{(async()=>{const ee=await on("equipment"),F=await on("equipment_local_names"),W=await on("locations");S(ee),k(F),O(ee),L(F),N(W),_(await on("measurement_units"))})(),t&&(R(ee=>({...ee,...t})),t.labor&&D(t.labor),t.parts&&V(t.parts),t.docs&&H(t.docs))},[t]);const re=q=>{const ee=q.target.value,F=E.find(W=>W.code===ee);if(!F){R(W=>({...W,equipCode:"",equipName:"",locationId:""})),L(T);return}if(R(W=>({...W,equipCode:ee,equipName:F.name,locationId:F.location_id||""})),F.class_id&&F.group_id){const W=T.filter(oe=>oe.class_id===F.class_id&&oe.group_id===F.group_id);L(W)}else L(T)},fe=q=>{const ee=q.target.value,F=T.find(W=>W.local_name===ee);if(R(W=>({...W,equipLocalName:ee})),F&&F.class_id&&F.group_id){const W=E.filter(oe=>oe.class_id===F.class_id&&oe.group_id===F.group_id);O(W)}else O(E)},pe=q=>{const ee=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ee){alert("         .");return}if(y===q){v(null);return}const F=new ee;F.lang="fa-IR",F.continuous=!1,F.interimResults=!1,F.onstart=()=>v(q),F.onend=()=>v(null),F.onresult=W=>{const oe=W.results[0][0].transcript;R(Ce=>({...Ce,[q]:Ce[q]?`${Ce[q]} ${oe}`:oe}))},F.start()},ye=()=>{D([...U,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},ve=(q,ee,F)=>{D(W=>W.map(oe=>{if(oe.id!==q)return oe;const Ce={...oe,[ee]:F};return["startDate","startTime","endDate","endTime"].includes(ee)&&(Ce.durationMinutes=hae(Ce.startDate,Ce.startTime,Ce.endDate,Ce.endTime)),Ce}))},Ue=()=>{var q;V([...B,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((q=w[0])==null?void 0:q.title)||""}])},Y=(q,ee,F)=>{V(W=>W.map(oe=>oe.id===q?{...oe,[ee]:F}:oe))},ue=q=>{if(q.target.files&&q.target.files.length>0){const ee=Array.from(q.target.files).map(F=>({id:Math.random().toString(),name:F.name}));H(F=>[...F,...ee]),q.target.value=""}},ce=(q,ee)=>{q(F=>F.filter(W=>W.id!==ee))},z=()=>{if(!P.equipCode&&!P.equipLocalName)return"        .";if(!P.productionLine)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(wf(P.startDate)||wf(P.endDate))return"         .";if(fae(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},Ae=async q=>{q.preventDefault(),f(null);const ee=z();if(ee){f(ee),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const F={...P,labor:U,parts:B,docs:J};if(i&&e)e(F);else{x(!0);try{const W=Fr("W").substring(0,5),oe=await _ae(W);Ti("WORK_ORDER",F,r,oe,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),u(oe)):f("   .    .")}catch(W){console.error(W),f("        .")}finally{x(!1)}}};return l?d.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[d.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:d.jsx(_C,{className:"w-10 h-10 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),d.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),d.jsxs("div",{className:"p-6 space-y-3",children:[d.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[d.jsx(c$,{className:"w-5 h-5"}),"     "]}),d.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):d.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&d.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[d.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),d.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),d.jsxs("form",{onSubmit:Ae,className:"p-6",children:[c&&d.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[d.jsx(QM,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),d.jsx("span",{children:c})]}),a==="GENERAL"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),d.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),d.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),d.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),d.jsxs("select",{value:P.shift,onChange:q=>R({...P,shift:q.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[d.jsx("option",{value:"DayWork",children:""}),d.jsx("option",{value:"A",children:" A"}),d.jsx("option",{value:"B",children:" B"}),d.jsx("option",{value:"C",children:" C"})]})]})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"  ()"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:fe,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"",children:"  ..."}),$.length>0?$.map(q=>d.jsx("option",{value:q.local_name,children:q.local_name},q.id)):d.jsx("option",{disabled:!0,children:"  "})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),i?d.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):d.jsxs("select",{value:P.equipCode,onChange:re,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[d.jsx("option",{value:"",children:"  (  )"}),I.map(q=>d.jsxs("option",{value:q.code,children:[q.code," - ",q.name]},q.id))]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:q=>R({...P,productionLine:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"",children:" "}),d.jsx("option",{value:"Line A",children:"Line A"}),d.jsx("option",{value:"Line B",children:"Line B"}),d.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"   ()"}),d.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"      "})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  (Location)"}),d.jsxs("select",{disabled:i,value:P.locationId,onChange:q=>R({...P,locationId:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"",children:" ..."}),C.map(q=>d.jsx("option",{value:q.id,children:q.name},q.id))]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:q=>R({...P,workType:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"REPAIR",children:"  (EM)"}),d.jsx("option",{value:"PM",children:"  (PM)"}),d.jsx("option",{value:"PROJECT",children:" / "}),d.jsx("option",{value:"INSPECTION",children:" "}),d.jsx("option",{value:"SERVICE",children:" "})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:q=>R({...P,workCategory:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"MECHANICAL",children:""}),d.jsx("option",{value:"ELECTRICAL",children:""}),d.jsx("option",{value:"INSTRUMENTATION",children:" "}),d.jsx("option",{value:"FACILITIES",children:" "})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:q=>R({...P,priority:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[d.jsx("option",{value:"NORMAL",children:""}),d.jsx("option",{value:"URGENT",children:""}),d.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:q=>R({...P,failureDesc:q.target.value})}),!i&&d.jsx("button",{type:"button",onClick:()=>pe("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${y==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:y==="failureDesc"?d.jsx(Ws,{className:"w-5 h-5 animate-spin"}):d.jsx(io,{className:"w-5 h-5"})})]})]}),i&&d.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[d.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[d.jsx(bC,{className:"w-5 h-5"}),"    (  )"]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:q=>R({...P,actionDesc:q.target.value})}),d.jsx("button",{type:"button",onClick:()=>pe("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${y==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:y==="actionDesc"?d.jsx(Ws,{className:"w-5 h-5 animate-spin"}):d.jsx(io,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(wr,{label:" ",value:P.startDate,onChange:q=>R({...P,startDate:q})}),d.jsx(ea,{label:" ",value:P.startTime,onChange:q=>R({...P,startTime:q})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(wr,{label:" ",value:P.endDate,onChange:q=>R({...P,endDate:q})}),d.jsx(ea,{label:" ",value:P.endTime,onChange:q=>R({...P,endTime:q})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:q=>R({...P,downtime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:q=>R({...P,repairTime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&d.jsxs("div",{className:"space-y-4",children:[U.map(q=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1 ml-2",children:[d.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:q.name,onChange:ee=>ve(q.id,"name",ee.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[d.jsx("option",{value:"",children:"..."}),d.jsx("option",{value:" ",children:"  ()"}),d.jsx("option",{value:" ",children:"  ()"})]})]}),d.jsx("button",{type:"button",onClick:()=>ce(D,q.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(wr,{label:" ",value:q.startDate,onChange:ee=>ve(q.id,"startDate",ee)}),d.jsx(ea,{label:" ",value:q.startTime,onChange:ee=>ve(q.id,"startTime",ee)}),d.jsx(wr,{label:" ",value:q.endDate,onChange:ee=>ve(q.id,"endDate",ee)}),d.jsx(ea,{label:" ",value:q.endTime,onChange:ee=>ve(q.id,"endTime",ee)})]})]},q.id)),d.jsxs("button",{type:"button",onClick:ye,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[d.jsx(sr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&d.jsxs("div",{className:"space-y-4",children:[B.map(q=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[d.jsx("button",{type:"button",onClick:()=>ce(V,q.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:d.jsx(bn,{className:"w-4 h-4"})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),d.jsx("input",{type:"text",value:q.code,onChange:ee=>Y(q.id,"code",ee.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:q.name,onChange:ee=>Y(q.id,"name",ee.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",value:q.qty,onChange:ee=>Y(q.id,"qty",Number(ee.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("select",{value:q.unit,onChange:ee=>Y(q.id,"unit",ee.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:w.length>0?w.map(ee=>d.jsx("option",{value:ee.title,children:ee.title},ee.id)):d.jsx("option",{value:"",children:""})})]})]})]},q.id)),d.jsxs("button",{type:"button",onClick:Ue,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[d.jsx(sr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("input",{type:"file",ref:j,multiple:!0,className:"hidden",onChange:ue}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var q;return(q=j.current)==null?void 0:q.click()},children:[d.jsx(OC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),J.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),J.map(q=>d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[d.jsx("span",{className:"text-sm truncate max-w-[200px]",children:q.name}),d.jsx("button",{type:"button",onClick:()=>ce(H,q.id),className:"text-red-500",children:d.jsx(bn,{className:"w-4 h-4"})})]},q.id))]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:d.jsxs("button",{disabled:b,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-wait",children:[b?d.jsx(Ws,{className:"w-5 h-5 animate-spin"}):d.jsx(Ka,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},kae=()=>{const t=mo(),[e,n]=A.useState([]),[r,i]=A.useState([]),[o,a]=A.useState([]),[s,l]=A.useState(null),[u,c]=A.useState(!1),[f,h]=A.useState([]),[g,y]=A.useState(""),[v,b]=A.useState("ALL"),[x,w]=A.useState(""),[_,E]=A.useState(""),[S,T]=A.useState(1),[k,C]=A.useState(10);A.useEffect(()=>{const j=j2();n(j.sort((P,R)=>R.createdAt.localeCompare(P.createdAt)))},[]),A.useEffect(()=>{let j=e;g&&(j=j.filter(P=>{var R;return P.title.includes(g)||P.trackingCode.includes(g)||((R=P.data)==null?void 0:R.equipName)&&P.data.equipName.includes(g)})),v!=="ALL"&&(j=j.filter(P=>N(P).includes(v))),x&&(j=j.filter(P=>P.createdAt>=x)),_&&(j=j.filter(P=>P.createdAt<=_)),i(j),T(1),h([])},[e,g,v,x,_]),A.useEffect(()=>{const j=(S-1)*k,P=j+k;a(r.slice(j,P))},[r,S,k]);const N=j=>{if(j.status==="DONE")return" ";const R=uu().find(D=>D.id===j.workflowId),U=R==null?void 0:R.steps.find(D=>D.id===j.currentStepId);return(U==null?void 0:U.title)||""},I=j=>{const P=N(j);let R="bg-gray-100 text-gray-600";return P.includes("")?R="bg-blue-100 text-blue-700":P.includes("")?R="bg-orange-100 text-orange-700":P.includes("")?R="bg-purple-100 text-purple-700":(P.includes("")||j.status==="DONE")&&(R="bg-green-100 text-green-700"),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${R}`,children:P})},O=j=>{j.target.checked?h(o.map(P=>P.id)):h([])},$=j=>{f.includes(j)?h(f.filter(P=>P!==j)):h([...f,j])},L=()=>{const j=f.length>0?e.filter(V=>f.includes(V.id)):r;if(j.length===0){alert("    .");return}const P=[" ","",""," ","",""],R=j.map(V=>{var J,H;return[V.trackingCode,((J=V.data)==null?void 0:J.equipName)||"-",V.title,((H=V.data)==null?void 0:H.requester)||"-",V.createdAt,N(V)]}),U="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+R.map(V=>V.join(",")).join(`
`),D=encodeURI(U),B=document.createElement("a");B.setAttribute("href",D),B.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)};return d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:d.jsx(md,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),d.jsxs("button",{onClick:L,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[d.jsx(Xv,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden md:inline",children:" "})]}),d.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[d.jsx(sr,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx(dd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:j=>y(j.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),d.jsxs("button",{onClick:()=>c(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[d.jsx(Qv,{className:"w-5 h-5"}),d.jsx("span",{children:""}),u?d.jsx(TC,{className:"w-4 h-4"}):d.jsx(EC,{className:"w-4 h-4"})]})]}),u&&d.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),d.jsxs("select",{value:v,onChange:j=>b(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[d.jsx("option",{value:"ALL",children:" "}),d.jsx("option",{value:"",children:" "}),d.jsx("option",{value:"",children:"  "}),d.jsx("option",{value:"",children:" "}),d.jsx("option",{value:"",children:" "})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),d.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:j=>w(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),d.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:j=>E(j.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:()=>{b("ALL"),w(""),E(""),y("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[d.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-10",children:d.jsx("input",{type:"checkbox",onChange:O,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),d.jsx("th",{className:"p-4",children:" "}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4",children:"  / "}),d.jsx("th",{className:"p-4",children:" "}),d.jsx("th",{className:"p-4",children:" "}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4",children:""})]})}),d.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(j=>{var P,R,U;return d.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(j.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[d.jsx("td",{className:"p-4",children:d.jsx("input",{type:"checkbox",checked:f.includes(j.id),onChange:()=>$(j.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),d.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:j.trackingCode}),d.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=j.data)==null?void 0:P.equipName)||"-"}),d.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((R=j.data)==null?void 0:R.failureDesc)||j.title}),d.jsx("td",{className:"p-4",children:((U=j.data)==null?void 0:U.requester)||""}),d.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:j.createdAt}),d.jsx("td",{className:"p-4",children:I(j)}),d.jsx("td",{className:"p-4",children:d.jsxs("button",{onClick:()=>l(j),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[d.jsx(ad,{className:"w-4 h-4"})," "]})})]},j.id)}):d.jsx("tr",{children:d.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[d.jsx(dd,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("span",{children:"     ."})]})})})]})}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{children:""}),d.jsxs("select",{value:k,onChange:j=>{C(Number(j.target.value)),T(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"})]}),d.jsx("span",{children:"   "}),d.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{disabled:S===1,onClick:()=>T(j=>Math.max(1,j-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Wf,{className:"w-4 h-4"})}),d.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/k)||1]}),d.jsx("button",{disabled:S>=Math.ceil(r.length/k),onClick:()=>T(j=>j+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Jv,{className:"w-4 h-4"})})]})]})]}),s&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-bold text-lg",children:s.title}),d.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),d.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:d.jsx(dn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:d.jsx("div",{className:"pointer-events-none opacity-90",children:d.jsx(mx,{initialData:s.data})})}),d.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:d.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},Aae=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Cae=({user:t})=>{const e=mo(),[n,r]=A.useState("SELECT"),[i,o]=A.useState(Aae),[a,s]=A.useState(""),l=(h,g)=>{o(y=>y.map(v=>v.id===h?{...v,status:g}:v))},u=()=>{r("SENDING"),setTimeout(()=>{s(Fr("J")),r("RESULT")},3e3)},c=i.filter(h=>h.status===null).length,f=(i.length-c)/i.length*100;if(n==="SELECT")return d.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[d.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:d.jsx(y$,{className:"w-20 h-20 text-primary"})}),d.jsx("p",{className:"text-lg font-medium",children:" QR   "}),d.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return d.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),d.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:d.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return d.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"text-4xl animate-bounce",children:""}),d.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[d.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsx("span",{className:"text-gray-500",children:":"}),d.jsx("span",{children:"  101"}),d.jsx("span",{className:"text-gray-500",children:":"}),d.jsx("span",{children:Je()}),d.jsx("span",{className:"text-gray-500",children:":"}),d.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),d.jsx("span",{className:"text-gray-500",children:":"}),d.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[d.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),d.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>d.jsx("li",{children:g.desc},g.id))})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[d.jsx(jC,{className:"w-5 h-5"}),"  "]}),d.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[d.jsx(NC,{className:"w-5 h-5"})," "]})]})]})}return d.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),d.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[c," "]})]}),d.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),d.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>d.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[d.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[d.jsx(zf,{className:"w-5 h-5"})," "]}),d.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[d.jsx(dn,{className:"w-5 h-5"})," "]})]}):d.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[d.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),d.jsx(io,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[d.jsx(od,{className:"w-4 h-4"}),"  "]}),d.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:d.jsx("button",{disabled:c>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})};function wo({data:t,columns:e,title:n,icon:r,onAdd:i,onViewDetails:o,onDelete:a,searchKeys:s=[]}){const[l,u]=A.useState(t),[c,f]=A.useState(""),[h,g]=A.useState(1),[y,v]=A.useState(10),[b,x]=A.useState([]),[w,_]=A.useState(!1);A.useEffect(()=>{let I=t;if(c){const O=c.toLowerCase();I=I.filter($=>Object.values($).join(" ").toLowerCase().includes(O))}u(I),g(1)},[t,c]);const E=(h-1)*y,S=E+y,T=l.slice(E,S),k=I=>{I.target.checked?x(T.map(O=>O.id)):x([])},C=I=>{b.includes(I)?x(b.filter(O=>O!==I)):x([...b,I])},N=()=>{const I=b.length>0?t.filter(P=>b.includes(P.id)):l;if(I.length===0)return alert("    ");const O=e.map(P=>P.header),$=I.map(P=>e.map(R=>{const U=R.accessor(P);return typeof U=="string"||typeof U=="number"?U:"-"})),L="data:text/csv;charset=utf-8,\uFEFF"+O.join(",")+`
`+$.map(P=>P.join(",")).join(`
`),j=document.createElement("a");j.setAttribute("href",encodeURI(L)),j.setAttribute("download",`export_${Date.now()}.csv`),document.body.appendChild(j),j.click(),document.body.removeChild(j)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[r&&d.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:d.jsx(r,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[b.length>0&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[b.length,"  "]}),d.jsxs("button",{onClick:N,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[d.jsx(Xv,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden md:inline",children:""})]}),i&&d.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[d.jsx(sr,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(dd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:I=>f(I.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),d.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600",children:d.jsx(Qv,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[d.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-10",children:d.jsx("input",{type:"checkbox",onChange:k,checked:T.length>0&&b.length===T.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((I,O)=>d.jsx("th",{className:"p-4",children:I.header},O)),d.jsx("th",{className:"p-4",children:""})]})}),d.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:T.length>0?T.map((I,O)=>d.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${b.includes(I.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[d.jsx("td",{className:"p-4",children:d.jsx("input",{type:"checkbox",checked:b.includes(I.id),onChange:()=>C(I.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map(($,L)=>d.jsx("td",{className:"p-4",children:$.accessor(I)},L)),d.jsxs("td",{className:"p-4 flex gap-2",children:[o&&d.jsx("button",{onClick:()=>o(I),className:"p-2 text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition",children:d.jsx(ad,{className:"w-4 h-4"})}),a&&d.jsx("button",{onClick:()=>a(I),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition",children:d.jsx(bn,{className:"w-4 h-4"})})]})]},I.id||O)):d.jsx("tr",{children:d.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{children:""}),d.jsxs("select",{value:y,onChange:I=>{v(Number(I.target.value)),g(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"})]}),d.jsxs("span",{children:[": ",l.length]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{disabled:h===1,onClick:()=>g(I=>I-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:d.jsx(Wf,{className:"w-4 h-4"})}),d.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",h]}),d.jsx("button",{disabled:S>=l.length,onClick:()=>g(I=>I+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:d.jsx(Jv,{className:"w-4 h-4"})})]})]})]})]})}const Nae=({user:t})=>{const[e,n]=A.useState("LIST"),[r,i]=A.useState([]),[o,a]=A.useState([]);A.useEffect(()=>{const c=bo("PART_REQUEST");i(c.map(f=>({...f,...f.data}))),on("measurement_units").then(a)},[e]);const[s,l]=A.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});A.useEffect(()=>{o.length>0&&!s.unit&&l(c=>({...c,unit:o[0].title}))},[o]);const u=c=>{var h;if(c.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=Fr("P");Ti("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:"   ",icon:cd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:c=>c.trackingCode},{header:" ",accessor:c=>d.jsx("span",{className:"font-bold",children:c.partName})},{header:" ",accessor:c=>c.partCode||"-"},{header:"",accessor:c=>d.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[c.qty," ",c.unit]})},{header:" ",accessor:c=>c.createdAt},{header:" ",accessor:c=>c.description.split("")[1]||"-"},{header:"",accessor:c=>c.status==="PENDING"?"  ":" "}]})}):d.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(cd,{className:"text-primary"}),"    "]}),d.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),d.jsx("input",{type:"text",value:Je(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),d.jsx("input",{type:"text",value:lu(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),d.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),d.jsx("input",{type:"text",value:s.partCode,onChange:c=>l({...s,partCode:c.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",required:!0,value:s.partName,onChange:c=>l({...s,partName:c.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",min:"1",value:s.qty,onChange:c=>l({...s,qty:Number(c.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("select",{value:s.unit,onChange:c=>l({...s,unit:c.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(c=>d.jsx("option",{value:c.title,children:c.title},c.id)):d.jsx("option",{value:"",children:""})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),d.jsxs("select",{value:s.relatedWorkOrder,onChange:c=>l({...s,relatedWorkOrder:c.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[d.jsx("option",{value:"",children:"  ()"}),d.jsx("option",{children:"W403012293 -  "}),d.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&d.jsxs("div",{className:"animate-fadeIn",children:[d.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{required:!0,value:s.requestReason,onChange:c=>l({...s,requestReason:c.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),d.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},Pae=()=>{const[t,e]=A.useState("LIST"),[n,r]=A.useState([]);A.useEffect(()=>{r(hE())},[t]);const i=A.useRef(null),[o,a]=A.useState(null),[s,l]=A.useState({code:"",name:"",type:""}),u=()=>{var g;(g=i.current)==null||g.click()},c=g=>{g.target.files&&g.target.files[0]&&a(g.target.files[0])},f=g=>{if(g.preventDefault(),!s.code||!s.name)return;const y={id:ar(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:Je()};gae(y),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=g=>{window.confirm("      ")&&(yae(g.id),r(hE()))};return t==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:"  ",icon:rd,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:g=>d.jsx("span",{className:"font-mono font-bold",children:g.code})},{header:" ",accessor:g=>g.name},{header:" ",accessor:g=>g.type},{header:" ",accessor:g=>g.fileName||"-"},{header:" ",accessor:g=>g.createdAt}]})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(rd,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),d.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{value:s.code,onChange:g=>l({...s,code:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{value:s.name,onChange:g=>l({...s,name:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s.type,onChange:g=>l({...s,type:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[d.jsx("option",{value:"",children:" ..."}),d.jsx("option",{value:"MAP",children:""}),d.jsx("option",{value:"CATALOG",children:""}),d.jsx("option",{value:"MANUAL",children:""}),d.jsx("option",{value:"OTHER",children:""})]})]}),d.jsx("input",{type:"file",ref:i,onChange:c,className:"hidden"}),d.jsxs("div",{onClick:u,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[d.jsx(pd,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),d.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),d.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),d.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},mE=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=A.useState(!1),a=A.useRef(null),s=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),l=Array.from({length:12},(g,y)=>String(y*5).padStart(2,"0"));A.useEffect(()=>{const g=y=>{a.current&&!a.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,c]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${c==="--"?"00":c}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),o(!1)};return d.jsxs("div",{className:"relative",ref:a,children:[n&&d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),d.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[d.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),d.jsx(Yv,{className:"w-4 h-4 text-gray-400"})]}),i&&d.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[d.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>d.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${c===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),d.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),d.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[d.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>d.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},Iae=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=A.useState("LIST"),[i,o]=A.useState([]),[a,s]=A.useState([]),[l,u]=A.useState([]);A.useEffect(()=>{const k=bo("MEETING");o(k.map(C=>({...C,...C.data}))),on("personnel").then(s),on("org_chart").then(u)},[n]);const c=A.useRef(null),[f,h]=A.useState([]),[g,y]=A.useState([]),[v,b]=A.useState({name:"",role:""}),[x,w]=A.useState({code:"",subject:"",location:"",meetingDate:Je(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!v.name||!v.role){alert("      ");return}y([...g,v]),b({name:"",role:""})},E=k=>{y(g.filter((C,N)=>N!==k))},S=k=>{if(k.preventDefault(),g.length===0){alert("         ");return}const C=Fr("G"),N=g.map(I=>`${I.name} - ${I.role}`).join(`
`);Ti("MEETING",{...x,attendees:N,attendeesList:g},e,C,`: ${x.subject}`),alert("  ."),r("LIST"),w({code:"",subject:"",location:"",meetingDate:Je(),startTime:"",endTime:"",decisions:""}),y([]),h([])},T=k=>{k.target.files&&k.target.files.length>0&&h([...f,...Array.from(k.target.files)])};return n==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:" ",icon:sd,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:k=>k.trackingCode},{header:" ",accessor:k=>d.jsx("span",{className:"font-bold",children:k.subject})},{header:" ",accessor:k=>k.meetingDate},{header:"",accessor:k=>`${k.startTime} - ${k.endTime}`},{header:"",accessor:k=>k.location},{header:"",accessor:k=>k.status==="PENDING"?"":" "}]})}):d.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sd,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),d.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),d.jsx("input",{type:"text",value:x.code,onChange:k=>w({...x,code:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:x.subject,onChange:k=>w({...x,subject:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),d.jsx("input",{type:"text",value:x.location,onChange:k=>w({...x,location:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),d.jsx("div",{children:d.jsx(wr,{label:" ",value:x.meetingDate,onChange:k=>w({...x,meetingDate:k})})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[d.jsx("div",{children:d.jsx(mE,{label:" ",value:x.startTime,onChange:k=>w({...x,startTime:k})})}),d.jsx("div",{children:d.jsx(mE,{label:" ",value:x.endTime,onChange:k=>w({...x,endTime:k})})})]})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[d.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[d.jsx(vu,{className:"w-4 h-4"}),"   "]}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:v.name,onChange:k=>b({...v,name:k.target.value}),children:[d.jsx("option",{value:"",children:"  ..."}),a.map(k=>d.jsxs("option",{value:k.full_name,children:[k.full_name," (",k.unit,")"]},k.id))]}),d.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:v.role,onChange:k=>b({...v,role:k.target.value}),children:[d.jsx("option",{value:"",children:" /..."}),l.map(k=>d.jsx("option",{value:k.name,children:k.name},k.id))]}),d.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:d.jsx(sr,{className:"w-5 h-5"})})]}),g.length>0?d.jsx("ul",{className:"space-y-2",children:g.map((k,C)=>d.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[d.jsxs("span",{children:[k.name," ",d.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:k.role})]}),d.jsx("button",{type:"button",onClick:()=>E(C),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:d.jsx(bn,{className:"w-4 h-4"})})]},C))}):d.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:x.decisions,onChange:k=>w({...x,decisions:k.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),d.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),d.jsx("input",{type:"file",ref:c,multiple:!0,className:"hidden",onChange:T}),d.jsxs("button",{type:"button",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[d.jsx(sr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&d.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((k,C)=>d.jsxs("li",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),k.name]},C))})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),d.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[d.jsx(Ka,{className:"w-5 h-5"}),"   "]})]})]})]})},Oae=({user:t})=>{const[e,n]=A.useState("LIST"),[r,i]=A.useState([]);A.useEffect(()=>{const y=bo("SUGGESTION");i(y.map(v=>({...v,...v.data})))},[e]);const[o,a]=A.useState(""),s=A.useRef(null),[l,u]=A.useState([]),c=y=>{if(y.preventDefault(),!o.trim())return;const v=Fr("H");Ti("SUGGESTION",{text:o},t,v,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),u([])},f=()=>{var y;(y=s.current)==null||y.click()},h=y=>{y.target.files&&y.target.files.length>0&&u([...l,...Array.from(y.target.files)])},g=y=>{u(l.filter((v,b)=>b!==y))};return e==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:" ",icon:ud,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>y.title},{header:" ",accessor:y=>y.createdAt},{header:" ",accessor:y=>y.description.split("")[1]||t.fullName},{header:"",accessor:y=>d.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:y.status==="PENDING"?"  ":"  "})}]})}):d.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ud,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),d.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),d.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),d.jsx("input",{type:"text",value:Je(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{value:o,onChange:y=>a(y.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),d.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:d.jsx(io,{className:"w-6 h-6"})})]})]}),d.jsxs("div",{children:[d.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx(OC,{className:"w-4 h-4"}),"  "]}),d.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&d.jsx("div",{className:"mt-4 space-y-2",children:l.map((y,v)=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[d.jsx("span",{className:"truncate max-w-[200px]",children:y.name}),d.jsx("button",{type:"button",onClick:()=>g(v),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:d.jsx(bn,{className:"w-4 h-4"})})]},v))})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),d.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[d.jsx(fd,{className:"w-5 h-5"}),"  "]})]})]})]})},Rae=({user:t})=>{const[e,n]=A.useState("LIST"),[r,i]=A.useState([]),[o,a]=A.useState([]);A.useEffect(()=>{const E=bo("PURCHASE");i(E.map(S=>({...S,...S.data}))),on("measurement_units").then(a)},[e]);const[s,l]=A.useState(""),[u,c]=A.useState(Je()),[f,h]=A.useState(null),[g,y]=A.useState(""),[v,b]=A.useState(1),[x,w]=A.useState("");A.useEffect(()=>{o.length>0&&!x&&w(o[0].title)},[o]);const _=E=>{if(E.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const T=Fr("K");Ti("PURCHASE",{requestNumber:s,requestDate:u,desc:g,qty:v,unit:x},t,T,`: ${g.substring(0,15)}...`),alert("   "),n("LIST"),l(""),y(""),b(1),c(Je())};return e==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:" ",icon:hd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:E=>E.trackingCode},{header:" ",accessor:E=>d.jsx("span",{className:"font-mono font-bold",children:E.requestNumber})},{header:" ",accessor:E=>E.desc},{header:"",accessor:E=>E.qty+" "+(E.unit||"")},{header:"",accessor:E=>E.requestDate||E.createdAt},{header:"",accessor:E=>E.status==="PENDING"?" ":" "}]})}):d.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hd,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),d.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(dn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-text",children:" "}),d.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:s,onChange:E=>{l(E.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&d.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[d.jsx(wC,{className:"w-3 h-3"}),d.jsx("span",{children:f})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-text",children:" "}),d.jsx(wr,{value:u,onChange:c})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-text",children:" "}),d.jsxs("select",{className:"input-field",children:[d.jsx("option",{children:" ( )"}),d.jsx("option",{children:" ()"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-text",children:""}),d.jsxs("select",{className:"input-field",children:[d.jsx("option",{children:""}),d.jsx("option",{children:""}),d.jsx("option",{children:" ( )"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-text",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{value:g,onChange:E=>y(E.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),d.jsx(io,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"label-text",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",value:v,onChange:E=>b(Number(E.target.value)),className:"input-field",required:!0})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"label-text",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("select",{value:x,onChange:E=>w(E.target.value),className:"input-field",children:o.length>0?o.map(E=>d.jsx("option",{value:E.title,children:E.title},E.id)):d.jsx("option",{value:"",children:""})})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"label-text",children:" "}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),d.jsx(io,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),d.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),d.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},jae=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=A.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const u=new FileReader;u.onloadend=()=>{const c=u.result;e({...t,avatar:c})},u.readAsDataURL(s)}};return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:" "}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[d.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?d.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),d.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:d.jsx(od,{className:"w-4 h-4"})}),d.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),d.jsx("p",{className:"text-gray-500",children:t.role})]})]}),d.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:d.jsx(b$,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium block",children:"  "}),d.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-bold border-b pb-2",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"  "}),d.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"  "}),d.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"   "}),d.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),d.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},Mae=({user:t})=>{const[e,n]=A.useState("LIST"),[r,i]=A.useState([]);A.useEffect(()=>{const v=bo("PROJECT");i(v.map(b=>({...b,...b.data})))},[e]);const[o,a]=A.useState({title:"",manager:"",budget:0,startDate:Je(),endDate:"",description:""}),[s,l]=A.useState([]),[u,c]=A.useState({title:"",weight:10}),f=()=>{if(!u.title)return;const v=s.reduce((b,x)=>b+x.weight,0);if(v+u.weight>100){alert(`      .  : ${100-v}`);return}l([...s,{id:Math.random().toString(),title:u.title,weight:u.weight,progress:0}]),c({title:"",weight:10})},h=v=>{l(s.filter(b=>b.id!==v))},g=()=>{const v=s.reduce((x,w)=>x+w.weight,0);if(v===0)return 0;const b=s.reduce((x,w)=>x+w.progress*w.weight,0);return Math.round(b/v)},y=v=>{v.preventDefault();const b=Fr("P"),x=s.reduce((_,E)=>_+E.weight,0);if(s.length>0&&x!==100){alert(`     .  : ${x}`);return}const w={...o,milestones:s,progress:g()};Ti("PROJECT",w,t,b,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:Je(),endDate:"",description:""}),l([])};return e==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:"   ",icon:id,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>d.jsx("span",{className:"font-bold",children:v.title})},{header:" ",accessor:v=>v.manager},{header:" ",accessor:v=>v.startDate},{header:" ()",accessor:v=>Number(v.budget).toLocaleString()},{header:"",accessor:v=>d.jsxs("div",{className:"w-24",children:[d.jsx("div",{className:"flex justify-between text-xs mb-1",children:d.jsxs("span",{children:[v.progress||0,"%"]})}),d.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500",style:{width:`${v.progress||0}%`}})})]})},{header:"",accessor:v=>d.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:v.status==="PENDING"?"  ":" "})}]})}):d.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(id,{className:"w-8 h-8 text-primary"}),d.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),d.jsxs("form",{onSubmit:y,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{value:o.title,onChange:v=>a({...o,title:v.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{value:o.manager,onChange:v=>a({...o,manager:v.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),d.jsx("div",{children:d.jsx(wr,{label:" ",value:o.startDate||"",onChange:v=>a({...o,startDate:v}),disableFuture:!1})}),d.jsx("div",{children:d.jsx(wr,{label:"  ()",value:o.endDate||"",onChange:v=>a({...o,endDate:v}),disableFuture:!1})}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",value:o.budget,onChange:v=>a({...o,budget:Number(v.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),d.jsx("textarea",{value:o.description,onChange:v=>a({...o,description:v.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[d.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx(k$,{className:"w-5 h-5"}),"   (WBS)"]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:u.title,onChange:v=>c({...u,title:v.target.value})}),d.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:u.weight,onChange:v=>c({...u,weight:Number(v.target.value)})}),d.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:d.jsx(sr,{className:"w-5 h-5"})})]}),s.length>0?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[d.jsx("span",{className:"col-span-8",children:" "}),d.jsx("span",{className:"col-span-2 text-center",children:""}),d.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(v=>d.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[d.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[d.jsx(SC,{className:"w-4 h-4 text-green-500"})," ",v.title]}),d.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[v.weight,"%"]}),d.jsx("div",{className:"col-span-2 flex justify-center",children:d.jsx("button",{type:"button",onClick:()=>h(v.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:d.jsx(bn,{className:"w-4 h-4"})})})]},v.id)),d.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",d.jsxs("span",{className:`${s.reduce((v,b)=>v+b.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((v,b)=>v+b.weight,0),"%"]})]})]}):d.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),d.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[d.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[d.jsx(dn,{className:"w-5 h-5"})," "]}),d.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[d.jsx(Ka,{className:"w-5 h-5"}),"      "]})]})]})]})},$ae=({user:t})=>{const[e,n]=A.useState("LIST"),[r,i]=A.useState(!1),[o,a]=A.useState([]),[s,l]=A.useState([]),[u,c]=A.useState([]),[f,h]=A.useState([]);A.useEffect(()=>{const _=bo("PERFORMANCE");a(_.map(E=>({...E,...E.data}))),on("evaluation_periods").then(l),on("evaluation_criteria").then(E=>{c(E),E.length>0&&g.criteria.length===0&&y(S=>({...S,criteria:E.map(T=>({label:T.title,score:0,max:T.max_score}))}))}),on("personnel").then(h)},[e]);const[g,y]=A.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});A.useEffect(()=>{s.length>0&&!g.period&&y(_=>({..._,period:s[0].title}))},[s]),A.useEffect(()=>{u.length>0&&g.criteria.length===0&&y(_=>({..._,criteria:u.map(E=>({label:E.title,score:0,max:E.max_score}))}))},[u]);const v=g.criteria.reduce((_,E)=>_+E.score,0),b=_=>{var S;if(_.preventDefault(),!g.personnelId){alert("      .");return}const E=Fr("G");Ti("PERFORMANCE",{...g,totalScore:v},t,E,` : ${g.personnelName} - ${g.period}`),alert("       ."),n("LIST"),y({personnelId:"",personnelName:"",unit:"",period:((S=s[0])==null?void 0:S.title)||"",criteria:u.map(T=>({label:T.title,score:0,max:T.max_score}))})},x=(_,E)=>{const S=g.criteria[_].max;if(E>S){alert(`       (${S})  .`);return}const T=[...g.criteria];T[_].score=Math.max(0,E),y({...g,criteria:T})},w=_=>{y({...g,personnelId:_.id,personnelName:_.full_name,unit:_.unit}),i(!1)};return e==="LIST"?d.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:d.jsx(wo,{title:"  ",icon:Kv,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:_=>_.trackingCode},{header:" ",accessor:_=>d.jsx("span",{className:"font-bold",children:_.personnelName})},{header:"",accessor:_=>_.unit},{header:" ",accessor:_=>_.period},{header:" ",accessor:_=>d.jsxs("span",{className:`font-bold ${_.totalScore>=80?"text-green-600":"text-orange-500"}`,children:[_.totalScore," / ",u.reduce((E,S)=>E+S.max_score,0)||100]})},{header:"",accessor:_=>_.description.split("")[1]||"-"}]})}):d.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),d.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),g.personnelName?d.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:g.personnelName}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",g.unit]})]}),d.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[d.jsx(vu,{className:"w-5 h-5"}),"   "]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("select",{value:g.period,onChange:_=>y({...g,period:_.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(_=>d.jsx("option",{value:_.title,children:_.title},_.id)):d.jsx("option",{children:"   "})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:" "}),g.criteria.length>0?g.criteria.map((_,E)=>d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[d.jsxs("div",{className:"mb-2 md:mb-0",children:[d.jsxs("span",{className:"font-medium block",children:[E+1,". ",_.label]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",_.max]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"0",max:_.max,value:_.score,onChange:S=>x(E,Number(S.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),d.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",_.max]})]})]},E)):d.jsx("p",{className:"text-center text-gray-400",children:"   ."})]}),d.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[d.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:"text-4xl font-black text-primary",children:v}),d.jsxs("span",{className:"text-gray-500",children:["/ ",u.reduce((_,E)=>_+E.max_score,0)||100]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),d.jsx("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95",children:"   "})]})]})]}),r&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[d.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[d.jsx("h3",{className:"font-bold text-lg",children:" "}),d.jsx("button",{onClick:()=>i(!1),children:d.jsx(dn,{className:"w-5 h-5 text-gray-500"})})]}),d.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:d.jsxs("div",{className:"relative",children:[d.jsx(dd,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),d.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"   "}),d.jsx("th",{className:"p-3",children:" "}),d.jsx("th",{className:"p-3",children:""})]})}),d.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(_=>d.jsxs("tr",{onClick:()=>w(_),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[d.jsx("td",{className:"p-3 font-bold",children:_.full_name}),d.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:_.unit}),d.jsx("td",{className:"p-3",children:d.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:d.jsx(zf,{className:"w-4 h-4"})})})]},_.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Dae=({user:t})=>{var y;const[e,n]=A.useState("WORK_ORDER"),[r,i]=A.useState([]),[o,a]=A.useState(null);A.useEffect(()=>{const v=pE(t);i(v)},[t,e]);const s=(v,b)=>{o&&(Tae(o.id,v,t),a(null),i(pE(t)))},l=v=>{const x=u(o).find(w=>w.style==="primary"||w.style==="success");x&&o?(o.data=v,s(x.id)):alert("      .")},u=v=>{const x=uu().find(_=>_.id===v.workflowId);if(!x)return[];const w=x.steps.find(_=>_.id===v.currentStepId);return w?w.actions:[]},c=v=>{const x=uu().find(_=>_.id===v.workflowId),w=x==null?void 0:x.steps.find(_=>_.id===v.currentStepId);return(w==null?void 0:w.title)||""},f=v=>r.filter(b=>b.module===v).length,h=[{id:"WORK_ORDER",label:" ",icon:Jb},{id:"PROJECT",label:"",icon:id},{id:"PERFORMANCE",label:" ",icon:Kv},{id:"PART_REQUEST",label:" ",icon:cd},{id:"INSPECTION",label:" ",icon:kC},{id:"DOCUMENT",label:" ",icon:rd},{id:"MEETING",label:"",icon:sd},{id:"SUGGESTION",label:"",icon:ud},{id:"PURCHASE",label:" ",icon:hd}],g=({item:v})=>{const b=u(v),[x,w]=A.useState("");return v.module==="WORK_ORDER"?d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[d.jsx(Jb,{className:"w-5 h-5 text-primary"}),v.title]}),d.jsx("span",{className:"text-xs text-gray-500",children:v.trackingCode})]}),d.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:d.jsx(zb,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsx(mx,{initialData:v.data,onProcessComplete:l})})]}):d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:v.module}),d.jsx("span",{className:"text-gray-400 text-xs",children:v.trackingCode})]}),d.jsx("h2",{className:"text-xl font-bold",children:v.title}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description})]}),d.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(zb,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(v.data).map(([_,E])=>typeof E=="object"||Array.isArray(E)||_==="id"?null:d.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[d.jsxs("span",{className:"text-gray-500",children:[_,":"]}),d.jsx("span",{className:"font-medium",children:String(E)})]},_))})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),d.jsx("textarea",{value:x,onChange:_=>w(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),d.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:b.map(_=>{const E=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return d.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${E}`,children:_.label},_.id)})})]})};return o?d.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:d.jsx(g,{item:o})}):d.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[d.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[d.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:d.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[d.jsx(ld,{className:"w-5 h-5"}),"  "]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(v=>d.jsxs("button",{onClick:()=>{n(v.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===v.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(v.icon,{className:"w-4 h-4"}),d.jsx("span",{children:v.label})]}),f(v.id)>0&&d.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===v.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(v.id)})]},v.id))})]}),d.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:d.jsxs("h3",{className:"font-bold",children:[" : ",(y=h.find(v=>v.id===e))==null?void 0:y.label]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(v=>v.module===e).length===0?d.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[d.jsx(_C,{className:"w-12 h-12 mb-3 opacity-20"}),d.jsx("p",{children:"     ."})]}):r.filter(v=>v.module===e).map(v=>d.jsx("div",{onClick:()=>a(v),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:v.title}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:c(v)}),d.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[d.jsx(Yv,{className:"w-3 h-3"})," ",v.updatedAt]})]})]})},v.id))})]})})]})},Lae=[{id:"1",name:" "},{id:"2",name:" "},{id:"3",name:" "},{id:"4",name:" "}],Uae=({user:t})=>{const[e,n]=A.useState("INBOX"),[r,i]=A.useState([]),[o,a]=A.useState([]),[s,l]=A.useState(null),[u,c]=A.useState("USER"),[f,h]=A.useState(""),[g,y]=A.useState(""),[v,b]=A.useState("");A.useEffect(()=>{x()},[t,e]);const x=()=>{i(xae(t)),a(bae(t.id))},w=S=>{l(S),e==="INBOX"&&!S.readBy.includes(t.id)&&(wae(S.id,t.id),i(T=>T.map(k=>k.id===S.id?{...k,readBy:[...k.readBy,t.id]}:k)))},_=S=>{S.preventDefault();let T=f;if(u==="ALL"&&(T="ALL"),u!=="ALL"&&!T){alert("    ");return}vae(t,T,u,g,v),alert("    "),y(""),b(""),h(""),n("SENT")},E=S=>S.readBy.length>0?d.jsx("span",{title:" ",children:d.jsx(Wb,{className:"w-4 h-4 text-blue-500"})}):d.jsx("span",{title:" ",children:d.jsx(zf,{className:"w-4 h-4 text-gray-400"})});return d.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[d.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[d.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:d.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null)},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[d.jsx(fd,{className:"w-4 h-4"}),"   "]})}),d.jsxs("div",{className:"p-2 space-y-1",children:[d.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ld,{className:"w-4 h-4"}),"  "]}),r.filter(S=>!S.readBy.includes(t.id)).length>0&&d.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(S=>!S.readBy.includes(t.id)).length})]}),d.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pd,{className:"w-4 h-4"}),"  "]})})]})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[d.jsx(IC,{className:"w-6 h-6 text-primary"}),"   "]}),d.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>c("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[d.jsx(e0,{className:"w-4 h-4"})," "]}),d.jsxs("button",{type:"button",onClick:()=>c("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[d.jsx(vu,{className:"w-4 h-4"})," "]}),d.jsxs("button",{type:"button",onClick:()=>c("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[d.jsx(l$,{className:"w-4 h-4"})," "]})]})]}),u==="USER"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),d.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[d.jsx("option",{value:"",children:" ..."}),Lae.map(S=>d.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u==="GROUP"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),d.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[d.jsx("option",{value:"",children:" ..."}),d.jsx("option",{value:Bt.ADMIN,children:" "}),d.jsx("option",{value:Bt.MANAGER,children:" "}),d.jsx("option",{value:Bt.USER,children:" "}),d.jsx("option",{value:Bt.STOREKEEPER,children:""})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:g,onChange:S=>y(S.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:v,onChange:S=>b(S.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2",children:[d.jsx(fd,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&d.jsxs("div",{className:"flex h-full",children:[d.jsxs("div",{className:`${s?"hidden md:block md:w-1/3 border-l dark:border-gray-700":"w-full"} overflow-y-auto`,children:[(e==="INBOX"?r:o).length===0&&d.jsxs("div",{className:"text-center p-10 text-gray-400",children:[d.jsx(ld,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),d.jsx("p",{children:"   "})]}),(e==="INBOX"?r:o).map(S=>d.jsxs("div",{onClick:()=>w(S),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition
                                    ${(s==null?void 0:s.id)===S.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                    ${e==="INBOX"&&!S.readBy.includes(t.id)?"border-r-4 border-r-primary bg-gray-50/50":""}
                                `,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:`text-sm ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-black text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:e==="INBOX"?S.senderName:`: ${S.receiverId==="ALL"?"":S.receiverType==="GROUP"?" "+S.receiverId:""}`}),d.jsx("span",{className:"text-xs text-gray-400",dir:"ltr",children:S.createdAt})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h4",{className:`text-sm truncate ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-bold":"text-gray-600"}`,children:S.subject}),e==="SENT"&&E(S)]}),d.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:S.body})]},S.id))]}),s?d.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[d.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:s.subject}),d.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:s.senderName[0]}),d.jsxs("div",{children:[d.jsx("p",{children:d.jsx("span",{className:"font-bold",children:s.senderName})}),d.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&d.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",s.receiverType==="ALL"?" ":s.receiverType==="GROUP"?` ${s.receiverId}`:"",s.readBy.length>0&&d.jsxs("span",{className:"mr-2 text-green-600 flex items-center gap-1 inline-flex",children:[d.jsx(Wb,{className:"w-3 h-3"}),"    ",s.readBy.length," "]})]})]}),d.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:d.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body})})]}):d.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},Fae=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(null);A.useEffect(()=>{e(uu())},[]);const i=()=>{const l={id:ar(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(Eae(n),e(uu()),alert("    ."))},a=()=>{if(!n)return;const l={id:ar(),title:" ",assigneeRole:Bt.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const u={id:ar(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(c=>c.id!==l?c:{...c,actions:[...c.actions,u]})})};return n?d.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),d.jsx("div",{className:"h-8 w-px bg-gray-300"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),d.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),d.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[d.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),d.jsx("option",{value:"PROJECT",children:" (Project)"}),d.jsx("option",{value:"PART_REQUEST",children:" "}),d.jsx("option",{value:"PURCHASE",children:" "}),d.jsx("option",{value:"PERFORMANCE",children:" "}),d.jsx("option",{value:"MEETING",children:""}),d.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[d.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),d.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[d.jsx(Ka,{className:"w-4 h-4"}),"  "]})]})]}),d.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:d.jsxs("div",{className:"flex gap-8 min-w-max",children:[d.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[d.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:d.jsx(m$,{className:"w-6 h-6 ml-1"})}),d.jsx("span",{className:"text-xs font-bold",children:""})]}),d.jsx(bp,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,u)=>d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("input",{value:l.title,onChange:c=>{const f=[...n.steps];f[u].title=c.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),d.jsxs("div",{className:"mt-2",children:[d.jsx("label",{className:"text-xs text-gray-500",children:" :"}),d.jsxs("select",{value:l.assigneeRole,onChange:c=>{const f=[...n.steps];f[u].assigneeRole=c.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(Bt).map(c=>d.jsx("option",{value:c,children:c},c)),d.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),d.jsx("button",{onClick:()=>{const c=n.steps.filter(f=>f.id!==l.id);r({...n,steps:c})},className:"text-red-400 hover:text-red-600",children:d.jsx(bn,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[d.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((c,f)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{value:c.label,onChange:h=>{const g=[...n.steps];g[u].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),d.jsxs("select",{value:c.style,onChange:h=>{const g=[...n.steps];g[u].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[d.jsx("option",{value:"primary",children:""}),d.jsx("option",{value:"success",children:""}),d.jsx("option",{value:"danger",children:""}),d.jsx("option",{value:"neutral",children:""})]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(bp,{className:"w-3 h-3"}),d.jsx("span",{children:" :"}),d.jsxs("select",{value:c.nextStepId,onChange:h=>{const g=[...n.steps];g[u].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[d.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>d.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},c.id)),d.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),d.jsx(bp,{className:"w-8 h-8 text-gray-300"})]},l.id)),d.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[d.jsx(sr,{className:"w-8 h-8 mb-2"}),d.jsx("span",{children:" "})]})]})})]}):d.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(CC,{className:"text-primary"}),"   "]}),d.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[d.jsx(sr,{className:"w-4 h-4"}),"  "]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:d.jsx(Zv,{className:"w-6 h-6"})}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),d.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),d.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),d.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),d.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Bae=()=>{const[t,e]=A.useState("LOGINS"),[n,r]=A.useState([]),[i,o]=A.useState([]),[a,s]=A.useState([]),[l,u]=A.useState(""),[c,f]=A.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};A.useEffect(()=>{g(),s(h[t])},[t]),A.useEffect(()=>{if(l){const x=l.toLowerCase();o(n.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(x))))}else o(n)},[l,n]);const g=()=>{let x=[];switch(t){case"LOGINS":x=JSON.parse(localStorage.getItem("system_logs")||"[]"),x.reverse();break;case"WORK_ORDERS":x=j2().map(w=>{var _,E;return{...w,requester:((_=w.data)==null?void 0:_.requester)||"-",equipName:((E=w.data)==null?void 0:E.equipName)||"-"}});break;case"PARTS":x=bo("PART_REQUEST").map(w=>{var _,E,S;return{...w,partName:(_=w.data)==null?void 0:_.partName,qty:(E=w.data)==null?void 0:E.qty,unit:(S=w.data)==null?void 0:S.unit,requester:w.description.split("")[1]||"-"}});break}r(x),o(x)},y=x=>{s(w=>w.map(_=>_.id===x?{..._,visible:!_.visible}:_))},v=()=>{if(i.length===0)return alert("    ");const x=a.filter(T=>T.visible),w=x.map(T=>T.label),_=i.map(T=>x.map(k=>T[k.id]||"-")),E="data:text/csv;charset=utf-8,\uFEFF"+w.join(",")+`
`+_.map(T=>T.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(E)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},b=()=>{if(i.length===0)return[];const x=t==="LOGINS"?"date":"status",w={};return i.forEach(_=>{const E=_[x]||"";w[E]=(w[E]||0)+1}),Object.keys(w).map(_=>({name:_,count:w[_]})).slice(0,10)};return d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:d.jsx(RC,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),d.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[d.jsx(Xv,{className:"w-5 h-5"}),"  "]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[d.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[d.jsx(Zv,{className:"w-4 h-4"}),"  "]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),d.jsxs("select",{value:t,onChange:x=>e(x.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[d.jsx("option",{value:"LOGINS",children:"  "}),d.jsx("option",{value:"WORK_ORDERS",children:" "}),d.jsx("option",{value:"PARTS",children:" "})]})]}),d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>f(!c),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",c?d.jsx(TC,{className:"w-3 h-3"}):d.jsx(EC,{className:"w-3 h-3"})]}),c&&d.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(x=>d.jsxs("div",{onClick:()=>y(x.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[x.visible?d.jsx(SC,{className:"w-4 h-4 text-primary"}):d.jsx(S$,{className:"w-4 h-4 text-gray-400"}),d.jsx("span",{className:"text-sm",children:x.label})]},x.id))})]}),d.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[d.jsx(v$,{className:"w-4 h-4"}),"  "]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),d.jsx(jd,{width:"100%",height:"90%",children:d.jsxs(hx,{data:b(),children:[d.jsx(ou,{strokeDasharray:"3 3",vertical:!1}),d.jsx(mi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),d.jsx(gi,{fontSize:10}),d.jsx(Zt,{}),d.jsx(ur,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[d.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[d.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),d.jsxs("div",{className:"relative w-64",children:[d.jsx(Qv,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:x=>u(x.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:d.jsx("tr",{children:a.filter(x=>x.visible).map(x=>d.jsx("th",{className:"p-4 whitespace-nowrap",children:x.label},x.id))})}),d.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((x,w)=>d.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>d.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:x[_.id]||"-"},_.id))},w)):d.jsx("tr",{children:d.jsx("td",{colSpan:a.filter(x=>x.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},gE=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],qae={Day1:" ",Day2:" ",Night1:" ",Night2:" "},Vae=({user:t})=>{const e=mo(),[n,r]=A.useState(1),[i,o]=A.useState(!1),[a,s]=A.useState(null),[l,u]=A.useState(null),[c,f]=A.useState([]),[h,g]=A.useState(null),[y,v]=A.useState({name:"A",type:"Day1",date:Je(),supervisor:t.id}),[b,x]=A.useState({}),[w,_]=A.useState({lineA:{},lineB:{}}),[E,S]=A.useState({lineA:{},lineB:{}}),[T,k]=A.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}}}),[C,N]=A.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[I,O]=A.useState({lineA:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}}}),[$,L]=A.useState({lineA:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}],lineB:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}]}),[j,P]=A.useState({lineA:{single:!1,upper:!1,middle:!1,lower:!1},lineB:{single:!1,upper:!1,middle:!1,lower:!1}}),[R,U]=A.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[D,B]=A.useState({process:[],cleanWater:[]}),[V,J]=A.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""}}),[H,re]=A.useState({nextShiftActions:""});A.useEffect(()=>{on("personnel").then(F=>{f(F),x({})}),on("app_users").then(F=>{const W=F.find(oe=>oe.username==="admin");W&&W.avatar&&g(W.avatar)})},[]);const fe=(F,W,oe)=>{_(Ce=>({...Ce,[F]:{...Ce[F],[W]:Number(oe)}}))},pe=(F,W,oe)=>{S(Ce=>({...Ce,[F]:{...Ce[F],[W]:oe}}))},ye=F=>Object.values(w[F]).reduce((W,oe)=>W+oe,0),ve=(F,W)=>{F&&x(oe=>({...oe,[F]:W}))},Ue=F=>{const W={...b};delete W[F],x(W)},Y=()=>{const F=window.SpeechRecognition||window.webkitSpeechRecognition;if(!F)return;const W=new F;W.lang="fa-IR",W.onstart=()=>s("nextShift"),W.onend=()=>s(null),W.onresult=oe=>{const Ce=oe.results[0][0].transcript;re(dr=>({...dr,nextShiftActions:dr.nextShiftActions+" "+Ce}))},W.start()},ue=async()=>{if(navigator.share)try{await navigator.share({title:`  ${l.shiftInfo.name}`,text:`  A: ${l.totalA} 
  B: ${l.totalB} `})}catch(F){console.log("Error sharing",F)}else alert("      .")},ce=F=>{if(!F)return 0;const[W,oe]=F.split(":").map(Number);return W*60+oe},z=F=>{const W=Ga(F);return W?["","","","","","",""][W.getDay()]:""},Ae=async F=>{if(F.preventDefault(),!window.confirm("       "))return;if(V.lineA.stopTime!==""&&V.lineA.stopTime!=="00:00"&&!V.lineA.reason){alert("    A   .");return}if(V.lineB.stopTime!==""&&V.lineB.stopTime!=="00:00"&&!V.lineB.reason){alert("    B   .");return}o(!0);const W=Fr("T"),oe=Object.keys(b).filter(Wt=>b[Wt]==="PRESENT"),Ce=Object.keys(b).filter(Wt=>b[Wt]==="ABSENT"),dr=Object.keys(b).filter(Wt=>b[Wt]==="REST"),Xn={code:W,shiftInfo:y,attendance:{present:oe,absent:Ce,rest:dr,map:b},production:w,feedTypes:E,ballMills:T,concentrateFilters:C,hydrocyclones:I,thickeners:$,drumMagnets:j,recoveryFilters:R,pumps:D,downtime:V,footer:H,totalA:ye("lineA"),totalB:ye("lineB")};Ti("SHIFT_REPORT",Xn,t,W,`  ${y.name} - ${y.date}`),setTimeout(()=>{u(Xn),o(!1),window.scrollTo(0,0)},1500)},q=()=>c.filter(F=>!b[F.id]),ee=F=>c.filter(W=>b[W.id]===F);if(l){ce(l.downtime.lineA.stopTime||"00:00"),ce(l.downtime.lineB.stopTime||"00:00");const F=gE.map(W=>({name:W,LineA:l.production.lineA[W]||0,LineB:l.production.lineB[W]||0}));return(l.concentrateFilters.lineA.active?l.concentrateFilters.lineA.cloths.length:0)+(l.concentrateFilters.lineB.active?l.concentrateFilters.lineB.cloths.length:0)+(l.concentrateFilters.reserve.active?l.concentrateFilters.reserve.cloths.length:0),l.recoveryFilters.lineA.reduce((W,oe)=>W+(oe.active?oe.cloths.length:0),0)+l.recoveryFilters.lineB.reduce((W,oe)=>W+(oe.active?oe.cloths.length:0),0),d.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 pb-20 pt-6 px-4 font-sans flex flex-col items-center",children:[d.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white dark:bg-gray-800 shadow-2xl rounded-sm overflow-hidden animate-slideUp print:shadow-none print:w-full print:h-auto relative",children:[d.jsxs("div",{className:"border-b-4 border-primary p-6 relative bg-white dark:bg-gray-900",children:[d.jsx("div",{className:"absolute top-4 right-6 w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200",children:h?d.jsx("img",{src:h,alt:"Admin",className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-xs text-gray-500",children:"Admin"})}),d.jsxs("div",{className:"text-center pt-2 pb-4 px-20",children:[d.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight",children:"     "}),d.jsx("p",{className:"text-sm text-gray-500 font-bold tracking-[0.2em] mt-2 uppercase",children:"     "})]}),d.jsxs("div",{className:"absolute top-6 left-6 text-right text-sm space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[d.jsx("span",{className:"font-mono font-bold text-xs",children:l.shiftInfo.date}),d.jsx("span",{className:"text-gray-500 text-xs",children:":"})]}),d.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[d.jsxs("span",{className:"font-bold text-xs",children:[l.shiftInfo.name," (",qae[l.shiftInfo.type],")"]}),d.jsx("span",{className:"text-gray-500 text-xs",children:":"})]}),d.jsxs("div",{className:"flex justify-between w-40",children:[d.jsx("span",{className:"font-mono font-bold text-primary text-xs",children:l.code}),d.jsx("span",{className:"text-gray-500 text-xs",children:": "})]})]})]}),d.jsxs("div",{className:"p-8 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-center border border-blue-100 dark:border-blue-800",children:[d.jsx("span",{className:"block text-xs text-blue-600 dark:text-blue-300 font-bold mb-1",children:"   A"}),d.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalA}),d.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl text-center border border-red-100 dark:border-red-800",children:[d.jsx("span",{className:"block text-xs text-red-600 dark:text-red-300 font-bold mb-1",children:"   B"}),d.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalB}),d.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),d.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl text-center border border-green-100 dark:border-green-800",children:[d.jsx("span",{className:"block text-xs text-green-600 dark:text-green-300 font-bold mb-1",children:" "}),d.jsxs("div",{className:"flex justify-center gap-4 text-sm mt-1",children:[d.jsxs("span",{className:"text-green-600 font-bold",children:[l.attendance.present.length," "]}),d.jsxs("span",{className:"text-red-600 font-bold",children:[l.attendance.absent.length," "]})]})]})]}),d.jsxs("div",{className:"border rounded-xl p-4",children:[d.jsx("h3",{className:"text-xs font-bold text-gray-500 text-center mb-4",children:"   (/)"}),d.jsx("div",{className:"h-48 w-full",children:d.jsx(jd,{width:"100%",height:"100%",children:d.jsxs(hx,{data:F,children:[d.jsx(ou,{strokeDasharray:"3 3",vertical:!1}),d.jsx(mi,{dataKey:"name",tick:{fontSize:10}}),d.jsx(gi,{tick:{fontSize:10}}),d.jsx(Zt,{}),d.jsx(Yi,{}),d.jsx(ur,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[4,4,0,0]}),d.jsx(ur,{dataKey:"LineB",name:" B",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})]})]}),d.jsxs("div",{className:"w-[210mm] mt-6 flex gap-4 print:hidden mb-20",children:[d.jsxs("button",{onClick:ue,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-green-700 shadow-lg transition",children:[d.jsx(jC,{className:"w-5 h-5"}),"  "]}),d.jsxs("button",{onClick:()=>window.print(),className:"flex-1 bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50 shadow-sm transition",children:[d.jsx(g$,{className:"w-5 h-5"}),"  "]}),d.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-800 shadow-lg transition",children:[d.jsx(NC,{className:"w-5 h-5"}),"   "]})]})]})}return d.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[d.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:d.jsx(AC,{className:"w-8 h-8 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"    "}),d.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),d.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:"  ",icon:vu},{id:2,label:" ()",icon:s$},{id:3,label:"",icon:bC},{id:4,label:"",icon:a$},{id:9,label:" ",icon:f$},{id:6,label:" ",icon:md},{id:5,label:"",icon:u$},{id:7,label:" ",icon:md},{id:8,label:"  ",icon:E$}].map(F=>d.jsxs("button",{onClick:()=>r(F.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${n===F.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[d.jsx(F.icon,{className:"w-4 h-4"})," ",F.label]},F.id))}),d.jsxs("form",{onSubmit:Ae,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[n===1&&d.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),d.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:y.name,onChange:F=>v({...y,name:F.target.value}),children:[d.jsx("option",{value:"A",children:" A"}),d.jsx("option",{value:"B",children:" B"}),d.jsx("option",{value:"C",children:" C"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),d.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:y.type,onChange:F=>v({...y,type:F.target.value}),children:[d.jsx("option",{value:"Day1",children:" "}),d.jsx("option",{value:"Day2",children:" "}),d.jsx("option",{value:"Night1",children:" "}),d.jsx("option",{value:"Night2",children:" "})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),d.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:z(y.date)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),d.jsx(wr,{value:y.date,onChange:F=>v({...y,date:F})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),d.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[d.jsx(A$,{className:"w-5 h-5"}),"  "]}),d.jsx("div",{className:"flex gap-2 mb-3",children:d.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:F=>{F.target.value&&(ve(F.target.value,"PRESENT"),F.target.value="")},children:[d.jsx("option",{value:"",children:"  ..."}),q().map(F=>d.jsx("option",{value:F.id,children:F.full_name},F.id))]})}),d.jsxs("div",{className:"space-y-2",children:[ee("PRESENT").map(F=>d.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[d.jsxs("span",{children:[F.full_name," ",d.jsxs("span",{className:"opacity-70 text-xs",children:["(",F.unit,")"]})]}),d.jsx("button",{type:"button",onClick:()=>Ue(F.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:d.jsx(bn,{className:"w-4 h-4"})})]},F.id)),ee("PRESENT").length===0&&d.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[d.jsx(C$,{className:"w-5 h-5"}),"  "]}),d.jsx("div",{className:"flex gap-2 mb-3",children:d.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:F=>{F.target.value&&(ve(F.target.value,"ABSENT"),F.target.value="")},children:[d.jsx("option",{value:"",children:"  ..."}),q().map(F=>d.jsx("option",{value:F.id,children:F.full_name},F.id))]})}),d.jsxs("div",{className:"space-y-2",children:[ee("ABSENT").map(F=>d.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[d.jsxs("span",{children:[F.full_name," ",d.jsxs("span",{className:"opacity-70 text-xs",children:["(",F.unit,")"]})]}),d.jsx("button",{type:"button",onClick:()=>Ue(F.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:d.jsx(bn,{className:"w-4 h-4"})})]},F.id)),ee("ABSENT").length===0&&d.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]})]})]}),n===2&&d.jsx("div",{className:"animate-fadeIn",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[d.jsxs("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600",children:[d.jsxs("tr",{children:[d.jsx("th",{rowSpan:2,className:"p-3 rounded-tr-xl border-b dark:border-gray-600",children:""}),d.jsx("th",{colSpan:2,className:"p-3 border-l border-white border-b dark:border-gray-600",children:" A"}),d.jsx("th",{colSpan:2,className:"p-3 rounded-tl-xl border-b dark:border-gray-600",children:" B"})]}),d.jsxs("tr",{className:"text-xs",children:[d.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),d.jsx("th",{className:"p-2 border-l border-white bg-gray-50 dark:bg-gray-800",children:" "}),d.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),d.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:" "})]})]}),d.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[gE.map(F=>d.jsxs("tr",{children:[d.jsx("td",{className:"p-3 font-bold bg-gray-50 dark:bg-gray-900",children:F}),d.jsx("td",{className:"p-2",children:d.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineA[F]||"",onChange:W=>fe("lineA",F,W.target.value)})}),d.jsx("td",{className:"p-2 border-l border-gray-100 dark:border-gray-700",children:d.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:E.lineA[F]||"",onChange:W=>pe("lineA",F,W.target.value)})}),d.jsx("td",{className:"p-2",children:d.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineB[F]||"",onChange:W=>fe("lineB",F,W.target.value)})}),d.jsx("td",{className:"p-2",children:d.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:E.lineB[F]||"",onChange:W=>pe("lineB",F,W.target.value)})})]},F)),d.jsxs("tr",{className:"bg-primary/5 font-bold text-lg",children:[d.jsx("td",{className:"p-4 text-primary",children:""}),d.jsxs("td",{className:"p-4",children:[ye("lineA")," "]}),d.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"}),d.jsxs("td",{className:"p-4",children:[ye("lineB")," "]}),d.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"})]})]})]})})}),n===8&&d.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(F=>{const W=V[F];return d.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[d.jsx("h3",{className:"font-bold text-center mb-3 text-red-800",children:F==="lineA"?"     A":"     B"}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs block mb-1",children:" "}),d.jsx(ea,{value:W.workTime,onChange:oe=>J({...V,[F]:{...W,workTime:oe}})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs block mb-1",children:" "}),d.jsx(ea,{value:W.stopTime,onChange:oe=>J({...V,[F]:{...W,stopTime:oe}})})]})]}),W.stopTime&&W.stopTime!=="00:00"&&d.jsxs("div",{className:"animate-slideDown",children:[d.jsxs("label",{className:"text-xs font-bold text-red-600 block mb-1",children:["  () ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50",value:W.reason,onChange:oe=>J({...V,[F]:{...W,reason:oe.target.value}})})]})]},F)})}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-bold mb-2",children:"    "}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-32",placeholder:"     ...",value:H.nextShiftActions,onChange:F=>re({...H,nextShiftActions:F.target.value})}),d.jsx("button",{type:"button",onClick:Y,className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="nextShift"?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-500"}`,children:d.jsx(io,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"flex justify-end pt-4 border-t",children:d.jsxs("button",{type:"submit",disabled:i,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[i?d.jsx(Ws,{className:"w-6 h-6 animate-spin"}):d.jsx(Ka,{className:"w-6 h-6"}),"   "]})})]})]})]})},Gae=({enabled:t})=>{const[e,n]=A.useState([]);return A.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?d.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[d.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>d.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var Hae={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zae,Wae;function Kae(){return{geminiUrl:zae,vertexUrl:Wae}}function Jae(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Kae();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Br{}function Z(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Yae(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Uy(t,i,o,0,a)}}function Uy(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Uy(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(a,f,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Uy(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xae(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Qae(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],ese(a)),e}function Zae(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],tse(a)),e}function ese(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nse(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function tse(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>rse(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nse(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],use(n)),e}function rse(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],cse(n)),e}function ise(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function ose(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function ase(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],sse(a)),e}function sse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function M2(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],lse(a)),e}function lse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function use(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],gx(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function cse(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],gx(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yE||(yE={}));var vE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vE||(vE={}));var xE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xE||(xE={}));var ni;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ni||(ni={}));var bE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bE||(bE={}));var wE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(wE||(wE={}));var _E;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_E||(_E={}));var SE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(SE||(SE={}));var EE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(EE||(EE={}));var TE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(TE||(TE={}));var kE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kE||(kE={}));var AE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(AE||(AE={}));var CE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CE||(CE={}));var NE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(NE||(NE={}));var PE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(PE||(PE={}));var IE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(IE||(IE={}));var OE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(OE||(OE={}));var RE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(RE||(RE={}));var jE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jE||(jE={}));var _f;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_f||(_f={}));var ME;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ME||(ME={}));var $E;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($E||($E={}));var DE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DE||(DE={}));var Fy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fy||(Fy={}));var LE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(LE||(LE={}));var UE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(UE||(UE={}));var FE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(FE||(FE={}));var BE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(BE||(BE={}));var qE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qE||(qE={}));var VE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(VE||(VE={}));var GE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(GE||(GE={}));var HE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(HE||(HE={}));var zE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zE||(zE={}));var WE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(WE||(WE={}));var KE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(KE||(KE={}));var JE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(JE||(JE={}));var YE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(YE||(YE={}));var XE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(XE||(XE={}));var QE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(QE||(QE={}));var ZE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ZE||(ZE={}));var eT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(eT||(eT={}));var tT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(tT||(tT={}));var nT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nT||(nT={}));var rT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(rT||(rT={}));var iT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(iT||(iT={}));var oT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(oT||(oT={}));var aT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(aT||(aT={}));var sT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(sT||(sT={}));var lT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(lT||(lT={}));var uT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uT||(uT={}));var cT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cT||(cT={}));var dT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dT||(dT={}));var fT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fT||(fT={}));var hT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hT||(hT={}));var pT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pT||(pT={}));var ta;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ta||(ta={}));class By{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ns{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class mT{}class gT{}class dse{}class fse{}class hse{}class pse{}class yT{}class vT{}class xT{}class mse{}class Sf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Sf;let i;const o=e;return n?i=Zae(o):i=Qae(o),Object.assign(r,i),r}}class bT{}class wT{}class _T{}class ST{}class gse{}class yse{}class vse{}class yx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new yx,o=ase(e);return Object.assign(r,o),r}}class xse{}class bse{}class wse{}class ET{}class _se{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Sse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class vx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vx,o=M2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $2(t,e){const n=Se(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function D2(t){return Array.isArray(t)?t.map(e=>Ef(e)):[Ef(t)]}function Ef(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function L2(t){const e=Ef(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U2(t){const e=Ef(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function F2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>TT(e)):[TT(t)]}function qy(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function AT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pt(t){if(t==null)throw new Error("ContentUnion is required");return qy(t)?t:{role:"user",parts:F2(t)}}function xx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Pt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pt(n)):[Pt(e)]}function Sn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kT(t)||AT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pt(t)]}const e=[],n=[],r=qy(t[0]);for(const i of t){const o=qy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(kT(i)||AT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:F2(n)}),e}function Ese(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ni).includes(n[0].toUpperCase())?n[0].toUpperCase():ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ni).includes(r.toUpperCase())?r.toUpperCase():ni.TYPE_UNSPECIFIED})}}function ha(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Ese(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ni).includes(s.toUpperCase())?s.toUpperCase():ni.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ha(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(ha(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=ha(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function bx(t){return ha(t)}function wx(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _x(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ls(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ha(e.response));return t}function us(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Tse(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qr(t,e){if(typeof e!="string")throw new Error("name must be a string");return Tse(t,e,"cachedContents")}function B2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return gx(t)}function kse(t){return t!=null&&typeof t=="object"&&"name"in t}function Ase(t){return t!=null&&typeof t=="object"&&"video"in t}function Cse(t){return t!=null&&typeof t=="object"&&"uri"in t}function q2(t){var e;let n;if(kse(t)&&(n=t.name),!(Cse(t)&&(n=t.uri,n===void 0))&&!(Ase(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function V2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function G2(t){for(const e of["models","tunedModels","publisherModels"])if(Nse(t,e))return t[e];return[]}function Nse(t,e){return t!==null&&typeof t=="object"&&e in t}function Pse(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Ise(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Pse(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function H2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Ose(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function z2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function cs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function W2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rse(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>hle(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function jse(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Mse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ic(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],W2(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],Rse(z2(u))),e}function Vy(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],W2(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&m(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],$se(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],jse(z2(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function $se(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Dse(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>fle(t,a))),m(n,["requests","requests"],o)}return n}function Lse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Use(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Fse(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function Bse(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function qse(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Vse(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Vse(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function K2(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ble(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Gse(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Hse(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Mse(Ose(i))),n}function CT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Dse(t,H2(t,i)));const o=p(e,["config"]);return o!=null&&Gse(o,n),n}function zse(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Se(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Lse(H2(t,i)));const o=p(e,["config"]);return o!=null&&Hse(o,n),n}function Wse(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function Kse(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],tle(t,i));const o=p(e,["config"]);return o!=null&&Wse(o,n),n}function Jse(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function Yse(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function Xse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Qse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Zse(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=xx(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],ele(i,n)),Yae(n,{"requests[].*":"requests[].request.*"})),n}function ele(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tle(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Zse(t,i)),n}function nle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rle(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ile(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ole(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],K2(Pt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&m(r,["seed"],v);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],bx(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map(j=>wle(j))),m(n,["safetySettings"],L)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let L=us(E);Array.isArray(L)&&(L=L.map(j=>Sle(ls(j)))),m(n,["tools"],L)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],_le(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],qr(t,T));const k=p(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const C=p(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const N=p(e,["speechConfig"]);if(N!=null&&m(r,["speechConfig"],wx(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],dle(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function ale(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>qse(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function sle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function lle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],cs(t,r)),n}function ule(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function cle(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function dle(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let s=Sn(i);Array.isArray(s)&&(s=s.map(l=>K2(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],ole(t,a,p(n,["request"],{}))),n}function hle(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],ale(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function ple(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function gle(t){const e={},n=p(t,["config"]);return n!=null&&ple(n,e),e}function yle(t){const e={},n=p(t,["config"]);return n!=null&&mle(n,e),e}function vle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ic(a))),m(e,["batchJobs"],o)}return e}function xle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Vy(a))),m(e,["batchJobs"],o)}return e}function ble(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],nle(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],rle(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Use(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const c=p(t,["thought"]);c!=null&&m(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function wle(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function _le(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ile(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Sle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],ule(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],cle(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(jr||(jr={}));class _o{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ele extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(jr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=CT(this.apiClient,e),r=n._url,i=Z("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zse(this.apiClient,e);return s=Z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Vy(c))}else{const u=CT(this.apiClient,e);return s=Z("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ic(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Kse(this.apiClient,e);return o=Z("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ic(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lle(this.apiClient,e);return s=Z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Vy(c))}else{const u=sle(this.apiClient,e);return s=Z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ic(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Bse(this.apiClient,e);a=Z("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Fse(this.apiClient,e);a=Z("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yle(e);return s=Z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=xle(c),h=new ET;return Object.assign(h,f),h})}else{const u=gle(e);return s=Z("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=vle(c),h=new ET;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Yse(this.apiClient,e);return s=Z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Qse(c))}else{const u=Jse(this.apiClient,e);return s=Z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Xse(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tle(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function NT(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kle(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function kle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let c=Sn(a);Array.isArray(c)&&(c=c.map(f=>NT(f))),m(e,["contents"],c)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],NT(Pt(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Yle(f))),m(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Jle(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ale(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=Sn(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Pt(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Xle(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function Cle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],$2(t,r));const i=p(e,["config"]);return i!=null&&kle(i,n),n}function Nle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],$2(t,r));const i=p(e,["config"]);return i!=null&&Ale(i,n),n}function Ple(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],qr(t,r)),n}function Ile(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],qr(t,r)),n}function Ole(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Rle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function jle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Mle(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $le(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dle(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Lle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],qr(t,r)),n}function Ule(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],qr(t,r)),n}function Fle(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Ble(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function qle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Vle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Gle(t){const e={},n=p(t,["config"]);return n!=null&&qle(n,e),e}function Hle(t){const e={},n=p(t,["config"]);return n!=null&&Vle(n,e),e}function zle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Wle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Kle(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],jle(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Mle(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Tle(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const c=p(t,["thought"]);c!=null&&m(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Jle(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],$le(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Yle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Fle(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Ble(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Xle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Dle(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Qle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Zle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function eue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],qr(t,r));const i=p(e,["config"]);return i!=null&&Qle(i,n),n}function tue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],qr(t,r));const i=p(e,["config"]);return i!=null&&Zle(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nue extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(jr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Nle(this.apiClient,e);return s=Z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Cle(this.apiClient,e);return s=Z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ule(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Lle(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ile(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Rle(c),h=new _T;return Object.assign(h,f),h})}else{const u=Ple(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Ole(c),h=new _T;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tue(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=eue(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hle(e);return s=Z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Wle(c),h=new ST;return Object.assign(h,f),h})}else{const u=Gle(e);return s=Z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=zle(c),h=new ST;return Object.assign(h,f),h})}}}function Tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(t){return this instanceof de?(this.v=t,this):new de(t)}function zn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,f)}}function s(g,y){r[g]&&(i[g]=function(v){return new Promise(function(b,x){o.push([g,v,b,x])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof de?Promise.resolve(g.value.v).then(c,f):h(o[0][2],g)}function c(g){l("next",g)}function f(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Wn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PT=="function"?PT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rue(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:J2(n)}function J2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function iue(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function IT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!J2(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class oue{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new aue(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class aue{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),iue(o)}async sendMessage(e){var n;await this.sendPromise;const r=Pt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Pt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?IT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return zn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=Wn(e),g;g=yield de(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const y=s;if(rue(y)){const v=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;v!==void 0&&c.push(v)}yield yield de(y)}}catch(y){o={error:y}}finally{try{!f&&!i&&(a=h.return)&&(yield de(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...IT(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Uh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sue(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function lue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function uue(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],q2(n)),e}function cue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function due(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],q2(n)),e}function fue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function hue(t){const e={},n=p(t,["config"]);return n!=null&&fue(n,e),e}function pue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mue extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(jr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hue(e);return o=Z("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pue(l),c=new xse;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=sue(e);return o=Z("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=lue(l),c=new bse;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=due(e);return o=Z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=uue(e);return o=Z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=cue(l),c=new wse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oc(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function gue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Oue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function yue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vue(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xue(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function bue(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=p(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const v=p(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&m(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wue(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function _ue(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Sue(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],_x(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],gue(Pt(y)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let T=us(v);Array.isArray(T)&&(T=T.map(k=>jue(ls(k)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Rue(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Eue(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],bue(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],_x(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],Pt(y));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let k=us(v);Array.isArray(k)&&(k=k.map(C=>Mue(ls(C)))),m(e,["setup","tools"],k)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const T=p(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&m(e,["setup","explicitVadSignal"],T),n}function Tue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Se(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Sue(i,n)),n}function kue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Se(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Eue(i,n)),n}function Aue(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function Cue(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function Nue(t){const e={},n=p(t,["media"]);if(n!=null){let u=D2(n);Array.isArray(u)&&(u=u.map(c=>Oc(c))),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],Oc(U2(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Oc(L2(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Pue(t){const e={},n=p(t,["media"]);if(n!=null){let u=D2(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],U2(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],L2(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Iue(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],$ue(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function Oue(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],yue(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],vue(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Oc(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const c=p(t,["thought"]);c!=null&&m(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Rue(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],wue(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],_ue(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Mue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>xue(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function $ue(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["cacheTokensDetails"],g)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Due(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lue(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Uue(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Uue(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Fue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let o=Sn(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Bue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function que(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Vue(r)),e}function Vue(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Fh(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Gue(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Hue(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zue(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Pt(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Z2(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Dce(o)),n}function Wue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>Fh(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&Hue(o),n}function Kue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&zue(o,n),n}function Jue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Yue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Xue(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Se(t,r)),n}function Que(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Se(t,r)),n}function Zue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function ece(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function tce(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function nce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ide(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&tce(a,n),n}function rce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bh(o))),m(e,["generatedImages"],i)}return e}function ice(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function ace(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let s=xx(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&ice(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],Se(t,a)),n}function sce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let a=xx(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&oce(o,n),n}function lce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function uce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>que(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function cce(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function dce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function mce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Fh(Pt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&m(r,["seed"],v);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],bx(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map(j=>ode(j))),m(n,["safetySettings"],L)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let L=us(E);Array.isArray(L)&&(L=L.map(j=>fde(ls(j)))),m(n,["tools"],L)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],dde(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],qr(t,T));const k=p(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const C=p(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const N=p(e,["speechConfig"]);if(N!=null&&m(r,["speechConfig"],wx(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],qce(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function gce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Pt(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=p(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&m(r,["seed"],v);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],bx(x));const w=p(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const E=p(e,["modelSelectionConfig"]);E!=null&&m(r,["modelConfig"],E);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(U=>U)),m(n,["safetySettings"],R)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let R=us(T);Array.isArray(R)&&(R=R.map(U=>Z2(ls(U)))),m(n,["tools"],R)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&m(n,["toolConfig"],k);const C=p(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&m(n,["cachedContent"],qr(t,N));const I=p(e,["responseModalities"]);I!=null&&m(r,["responseModalities"],I);const O=p(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const $=p(e,["speechConfig"]);$!=null&&m(r,["speechConfig"],wx($));const L=p(e,["audioTimestamp"]);L!=null&&m(r,["audioTimestamp"],L);const j=p(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const P=p(e,["imageConfig"]);if(P!=null&&m(r,["imageConfig"],Vce(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function OT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>Fh(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],mce(t,o,n)),n}function RT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],gce(t,o,n)),n}function jT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Lue(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function MT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function yce(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function vce(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function xce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&yce(o,n),n}function bce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&vce(o,n),n}function wce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Rce(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],X2(i)),e}function _ce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Bh(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Q2(i)),e}function Sce(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],qh(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Tde(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Ece(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&m(e,["parameters","generateAudio"],y);const v=p(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],Yn(v));const b=p(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(E=>kde(E))),m(e,["instances[0]","referenceImages"],_)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],Ede(x));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function Tce(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Nce(a)),e}function kce(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Pce(a)),e}function Ace(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],qh(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],eO(a));const s=p(e,["source"]);s!=null&&Ice(s,n);const l=p(e,["config"]);return l!=null&&Sce(l,n),n}function Cce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],Yn(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],tO(a));const s=p(e,["source"]);s!=null&&Oce(s,n);const l=p(e,["config"]);return l!=null&&Ece(l,n),n}function Nce(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Mce(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Pce(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>$ce(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ice(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],qh(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],eO(o)),n}function Oce(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Yn(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],tO(o)),n}function Rce(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Gce(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],X2(i)),e}function Bh(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Y2(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],Q2(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function jce(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],Y2(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Mce(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],_de(n)),e}function $ce(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Sde(n)),e}function Dce(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=p(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const v=p(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&m(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Lce(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Se(t,r)),n}function Uce(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Se(t,r)),n}function Fce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Bce(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function qce(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Vce(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function Gce(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ki(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Y2(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],ki(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function qh(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ki(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yn(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ki(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hce(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],V2(t,s)),r}function zce(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],V2(t,s)),r}function Wce(t,e){const n={},r=p(e,["config"]);return r!=null&&Hce(t,r,n),n}function Kce(t,e){const n={},r=p(e,["config"]);return r!=null&&zce(t,r,n),n}function Jce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=G2(i);Array.isArray(o)&&(o=o.map(a=>Gy(a))),m(e,["models"],o)}return e}function Yce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=G2(i);Array.isArray(o)&&(o=o.map(a=>Hy(a))),m(e,["models"],o)}return e}function Xce(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Gy(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],hde(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&m(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const y=p(t,["thinking"]);return y!=null&&m(e,["thinking"],y),e}function Hy(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>cce(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],pde(l));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Qce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],dce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],fce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Due(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const c=p(t,["thought"]);c!=null&&m(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Zce(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],Yn(n)),e}function ede(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function tde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["source"]);i!=null&&rde(i,n);const o=p(e,["config"]);return o!=null&&ede(o,n),n}function nde(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bh(i))),m(e,["generatedImages"],r)}return e}function rde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Yn(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Zce(s))),m(e,["instances[0]","productImages"],a)}return n}function ide(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Yn(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Xce(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Gue(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function X2(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Q2(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function ode(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function ade(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],Yn(n)),e}function sde(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function lde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["source"]);i!=null&&cde(i,n);const o=p(e,["config"]);return o!=null&&sde(o,n),n}function ude(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jce(i))),m(e,["generatedMasks"],r)}return e}function cde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Yn(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],ade(o)),n}function dde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],hce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function fde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Fce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Bce(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Z2(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>pce(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function hde(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function pde(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function mde(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function gde(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function yde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],Se(t,r));const i=p(e,["config"]);return i!=null&&mde(i,n),n}function vde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["config"]);return i!=null&&gde(i,n),n}function xde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function bde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Se(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],Yn(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&xde(a,n),n}function wde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bh(o))),m(e,["generatedImages"],i)}return e}function _de(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],ki(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Sde(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],ki(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ede(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],Yn(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Tde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],qh(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function kde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],Yn(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function eO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],ki(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function tO(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ki(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ade(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Cde(t){const e={},n=p(t,["config"]);return n!=null&&Ade(n,e),e}function Nde(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Pde(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Nde(r,e),e}function Ide(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Ode(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function Rde(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Mde(a)),e}function jde(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&Ode(i,e),e}function Mde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function $de(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Dde(t){const e={},n=p(t,["config"]);return n!=null&&$de(n,e),e}function Lde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function nO(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function Ude(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&nO(r,e),e}function Fde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bde="Content-Type",qde="X-Server-Timeout",Vde="User-Agent",zy="x-goog-api-client",Gde="1.34.0",Hde=`google-genai-sdk/${Gde}`,zde="v1beta1",Wde="v1beta";class Kde{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zde,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Wde,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Jde(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $T(i),new By(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $T(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return zn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield de(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const v=JSON.parse(JSON.stringify(y.error)),b=v.status,x=v.code,w=`got status: ${b}. ${JSON.stringify(y)}`;if(x>=400&&x<600)throw new Uh({message:w,status:x})}}catch(y){if(y.name==="ApiError")throw y}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const b of l){const x=a.indexOf(b);x!==-1&&(h===-1||x<h)&&(h=x,g=b.length)}if(h===-1)break;const y=a.substring(0,h);a=a.substring(h+g);const v=y.trim();if(v.startsWith(s)){const b=v.substring(s.length).trim();try{const x=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield de(new By(x))}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Hde+" "+this.clientOptions.userAgentExtra;return e[Vde]=n,e[zy]=n,e[Bde]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(qde,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=Z("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&nO(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function $T(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Uh({message:i,status:n}):new Error(i)}}function Jde(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yde="mcp_used/unknown";let Xde=!1;function rO(t){for(const e of t)if(Qde(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Xde}function iO(t){var e;const n=(e=t[zy])!==null&&e!==void 0?e:"";t[zy]=(n+` ${Yde}`).trimStart()}function Qde(t){return t!==null&&typeof t=="object"&&t instanceof Sx}function Zde(t){return zn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield de(n.listTools({cursor:i}));for(const s of a.tools)yield yield de(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Sx{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Sx(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Wn(Zde(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Ise(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function efe(t,e,n){const r=new Sse;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class tfe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=ife(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},g=this.apiClient,y={onopen:h,onmessage:_=>{efe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},v=this.webSocketFactory.create(l,rfe(a),y);v.connect(),await c;const w={setup:{model:Se(this.apiClient,e.model)}};return v.send(JSON.stringify(w)),new nfe(v,this.apiClient)}}class nfe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Cue(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Aue(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ta.PLAY)}pause(){this.sendPlaybackControl(ta.PAUSE)}stop(){this.sendPlaybackControl(ta.STOP)}resetContext(){this.sendPlaybackControl(ta.RESET_CONTEXT)}close(){this.conn.close()}}function rfe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ife(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ofe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function afe(t,e,n){const r=new _se;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Iue(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class sfe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tfe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&rO(e.config.tools)&&iO(f);const h=dfe(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const N=this.apiClient.getApiKey();let I="BidiGenerateContent",O="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${O}=${N}`}let g=()=>{};const y=new Promise(N=>{g=N}),v=e.callbacks,b=function(){var N;(N=v==null?void 0:v.onopen)===null||N===void 0||N.call(v),g({})},x=this.apiClient,w={onopen:b,onmessage:N=>{afe(x,v.onmessage,N)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(N){}},_=this.webSocketFactory.create(c,cfe(h),w);_.connect(),await y;let E=Se(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const N=this.apiClient.getProject(),I=this.apiClient.getLocation();E=`projects/${N}/locations/${I}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_f.AUDIO]}:e.config.responseModalities=[_f.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],k=[];for(const N of T)if(this.isCallableTool(N)){const I=N;k.push(await I.tool())}else k.push(N);k.length>0&&(e.config.tools=k);const C={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=kue(this.apiClient,C):S=Tue(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new ufe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lfe={turnComplete:!0};class ufe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sn(n.turns),e.isVertexAI()||(r=r.map(i=>Fh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ofe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lfe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Pue(e)}:n={realtimeInput:Nue(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cfe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dfe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DT=10;function LT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(pa(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function pa(t){return"callTool"in t&&typeof t.callTool=="function"}function ffe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>pa(i)))!==null&&r!==void 0?r:!1}function UT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(pa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function FT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hfe extends Br{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ffe(n)||LT(n.config))return await this.generateContentInternal(l);const u=UT(n);if(u.length>0){const v=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let c,f;const h=Sn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:DT;let y=0;for(;y<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,b=[];for(const x of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(pa(x)){const _=await x.callTool(c.functionCalls);b.push(..._)}y++,f={role:"user",parts:b},l.contents=Sn(l.contents),l.contents.push(v),l.contents.push(f),FT(l.config)&&(h.push(v),h.push(f))}return FT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),LT(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=UT(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new _o(jr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>pa(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&rO(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),iO(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(pa(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:DT;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return zn(this,arguments,function*(){for(var h,g,y,v,b,x;s<o;){a&&(s++,a=!1);const S=yield de(u.processParamsMaybeAddMcpUsage(f)),T=yield de(u.generateContentStreamInternal(S)),k=[],C=[];try{for(var w=!0,_=(g=void 0,Wn(T)),E;E=yield de(_.next()),h=E.done,!h;w=!0){v=E.value,w=!1;const N=v;if(yield yield de(N),N.candidates&&(!((b=N.candidates[0])===null||b===void 0)&&b.content)){C.push(N.candidates[0].content);for(const I of(x=N.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const O=yield de(c.get(I.functionCall.name).callTool([I.functionCall]));k.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(N){g={error:N}}finally{try{!w&&!h&&(y=_.return)&&(yield de(y.call(_)))}finally{if(g)throw g.error}}if(k.length>0){a=!0;const N=new Ns;N.candidates=[{content:{role:"user",parts:k}}],yield yield de(N);const I=[];I.push(...C),I.push({role:"user",parts:k});const O=Sn(f.contents).concat(I);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=RT(this.apiClient,e);return s=Z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=MT(c),h=new Ns;return Object.assign(h,f),h})}else{const u=OT(this.apiClient,e);return s=Z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=jT(c),h=new Ns;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=RT(this.apiClient,e);return s=Z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return zn(this,arguments,function*(){var h,g,y,v;try{for(var b=!0,x=Wn(f),w;w=yield de(x.next()),h=w.done,!h;b=!0){v=w.value,b=!1;const _=v,E=MT(yield de(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new Ns;Object.assign(S,E),yield yield de(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(y=x.return)&&(yield de(y.call(x)))}finally{if(g)throw g.error}}})})}else{const u=OT(this.apiClient,e);return s=Z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return zn(this,arguments,function*(){var h,g,y,v;try{for(var b=!0,x=Wn(f),w;w=yield de(x.next()),h=w.done,!h;b=!0){v=w.value,b=!1;const _=v,E=jT(yield de(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new Ns;Object.assign(S,E),yield yield de(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(y=x.return)&&(yield de(y.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sce(this.apiClient,e);return s=Z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=uce(c),h=new mT;return Object.assign(h,f),h})}else{const u=ace(this.apiClient,e);return s=Z("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=lce(c),h=new mT;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bce(this.apiClient,e);return s=Z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=_ce(c),h=new gT;return Object.assign(h,f),h})}else{const u=xce(this.apiClient,e);return s=Z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=wce(c),h=new gT;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=nce(this.apiClient,e);return o=Z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=rce(l),c=new dse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=bde(this.apiClient,e);return o=Z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=wde(l),c=new fse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tde(this.apiClient,e);return o=Z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nde(l),c=new hse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=lde(this.apiClient,e);return o=Z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ude(l),c=new pse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uce(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Hy(c))}else{const u=Lce(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Gy(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Kce(this.apiClient,e);return s=Z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Yce(c),h=new yT;return Object.assign(h,f),h})}else{const u=Wce(this.apiClient,e);return s=Z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Jce(c),h=new yT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vde(this.apiClient,e);return s=Z("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Hy(c))}else{const u=yde(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Gy(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Que(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=ece(c),h=new vT;return Object.assign(h,f),h})}else{const u=Xue(this.apiClient,e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Zue(c),h=new vT;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Kue(this.apiClient,e);return s=Z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Yue(c),h=new xT;return Object.assign(h,f),h})}else{const u=Wue(this.apiClient,e);return s=Z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Jue(c),h=new xT;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Fue(this.apiClient,e);return o=Z("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Bue(l),c=new mse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Cce(this.apiClient,e);return s=Z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=kce(c),h=new Sf;return Object.assign(h,f),h})}else{const u=Ace(this.apiClient,e);return s=Z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=Tce(c),h=new Sf;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pfe extends Br{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ose(e);return s=Z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=ise(e);return s=Z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Xae(e);return o=Z("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mfe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function gfe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function yfe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],Efe(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function vfe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],yfe(t,r,n)),n}function xfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bfe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function _fe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Sfe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],_x(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],gfe(Pt(y)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let T=us(v);Array.isArray(T)&&(T=T.map(k=>Afe(ls(k)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],kfe(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Efe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Se(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Sfe(i,n)),n}function Tfe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],xfe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],bfe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],mfe(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const c=p(t,["thought"]);c!=null&&m(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function kfe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Afe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],wfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],_fe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cfe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Nfe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Cfe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Pfe extends Br{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=vfe(this.apiClient,e);o=Z("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Nfe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ife(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Ofe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Ife(r,e),e}function Rfe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function jfe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Mfe(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&jfe(r,e),e}function $fe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dfe extends Br{constructor(e){super(),this.apiClient=e,this.list=async n=>new _o(jr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rfe(e);return o=Z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ofe(e);i=Z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mfe(e);return o=Z("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$fe(l),c=new gse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lfe extends Br{constructor(e,n=new Dfe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _o(jr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cde(e);return o=Z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ide(e);return o=Z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Pde(e);i=Z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dde(e);return o=Z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lde(l),c=new yse;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ude(e);return o=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Fde(l),c=new vse;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jde(e);return o=Z("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Rde(l),c=new yx;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oO=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return oO=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Ufe=()=>oO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wy(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ky=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{}class $t extends An{constructor(e,n,r,i){super(`${$t.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Vh({message:r,cause:Ky(n)});const o=n;return e===400?new sO(e,o,r,i):e===401?new lO(e,o,r,i):e===403?new uO(e,o,r,i):e===404?new cO(e,o,r,i):e===409?new dO(e,o,r,i):e===422?new fO(e,o,r,i):e===429?new hO(e,o,r,i):e>=500?new pO(e,o,r,i):new $t(e,o,r,i)}}class Jy extends $t{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vh extends $t{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class aO extends Vh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sO extends $t{}class lO extends $t{}class uO extends $t{}class cO extends $t{}class dO extends $t{}class fO extends $t{}class hO extends $t{}class pO extends $t{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ffe=/^[a-z][a-z0-9+.-]*:/i,Bfe=t=>Ffe.test(t);let Yy=t=>(Yy=Array.isArray,Yy(t));const qfe=Yy;let Vfe=qfe;const BT=Vfe;function Gfe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Hfe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const zfe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new An(`${t} must be an integer`);if(e<0)throw new An(`${t} must be a positive integer`);return e},Wfe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kfe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Do="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jfe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Yfe=()=>{var t,e,n,r,i;const o=Jfe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":VT(Deno.build.os),"X-Stainless-Arch":qT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":VT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":qT((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Xfe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Xfe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const qT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",VT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let pc;const Qfe=()=>pc??(pc=Yfe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zfe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mO(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ehe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return mO({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function gO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function the(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nhe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yO=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function om(t,e,n){return yO(),new File(t,e??"unknown_file",n)}function rhe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ihe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ohe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vO(t),ahe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function she(t,e,n){if(yO(),t=await t,ohe(t))return t instanceof File?t:om([await t.arrayBuffer()],t.name);if(ahe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),om(await Xy(i),e,n)}const r=await Xy(t);if(e||(e=rhe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return om(r,e,n)}async function Xy(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(vO(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(ihe(t))try{for(var s=!0,l=Wn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await Xy(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${lhe(t)}`)}return a}function lhe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xO{constructor(e){this._client=e}}xO._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bO(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const GT=Object.freeze(Object.create(null)),uhe=(t=bO)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var g,y,v;/[?#]/.test(f)&&(i=!0);const b=r[h];let x=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((v=Object.getPrototypeOf((y=Object.getPrototypeOf((g=b.hasOwnProperty)!==null&&g!==void 0?g:GT))!==null&&y!==void 0?y:GT))===null||v===void 0?void 0:v.toString))&&(x=b+"",o.push({start:c.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,g)=>{const y=" ".repeat(g.start-c),v="^".repeat(g.length);return c=g.start+g.length,h+y+v},"");throw new An(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},mc=uhe(bO);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wO extends xO{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Tf(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(mc`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(mc`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(mc`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Tf(o,["api_version"]);return this._client.get(mc`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}wO._key=Object.freeze(["interactions"]);class _O extends wO{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function che(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let gc;function Ex(t){let e;return(gc??(e=new globalThis.TextEncoder,gc=e.encode.bind(e)))(t)}let yc;function HT(t){let e;return(yc??(e=new globalThis.TextDecoder,yc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ex(e):e;this.buffer=che([this.buffer,n]);const r=[];let i;for(;(i=dhe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(HT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=HT(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Gh.NEWLINE_CHARS=new Set([`
`,"\r"]);Gh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dhe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function fhe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kf={off:0,error:200,warn:300,info:400,debug:500},zT=(t,e,n)=>{if(t){if(Hfe(kf,t))return t;Ot(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(kf))}`)}};function Ds(){}function vc(t,e,n){return!e||kf[t]>kf[n]?Ds:e[t].bind(e)}const hhe={error:Ds,warn:Ds,info:Ds,debug:Ds};let WT=new WeakMap;function Ot(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return hhe;const i=WT.get(n);if(i&&i[0]===r)return i[1];const o={error:vc("error",n,r),warn:vc("warn",n,r),info:vc("info",n,r),debug:vc("debug",n,r)};return WT.set(n,[r,o]),o}const $i=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class na{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Ot(r):console;function a(){return zn(this,arguments,function*(){var l,u,c,f;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=Wn(phe(e,n)),v;v=yield de(y.next()),l=v.done,!l;g=!0){f=v.value,g=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield de(JSON.parse(b.data))}catch(x){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),x}}}catch(b){u={error:b}}finally{try{!g&&!l&&(c=y.return)&&(yield de(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Wy(b))return yield de(void 0);throw b}finally{h||n.abort()}})}return new na(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return zn(this,arguments,function*(){var l,u,c,f;const h=new Gh,g=gO(e);try{for(var y=!0,v=Wn(g),b;b=yield de(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;for(const w of h.decode(x))yield yield de(w)}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield de(c.call(v)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield de(x)})}function a(){return zn(this,arguments,function*(){var l,u,c,f;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,y=Wn(o()),v;v=yield de(y.next()),l=v.done,!l;g=!0){f=v.value,g=!1;const b=f;h||b&&(yield yield de(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!g&&!l&&(c=y.return)&&(yield de(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Wy(b))return yield de(void 0);throw b}finally{h||n.abort()}})}return new na(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new na(()=>i(e),this.controller,this.client),new na(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return mO({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Ex(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function phe(t,e){return zn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const s=new ghe,l=new Gh,u=gO(t.body);try{for(var c=!0,f=Wn(mhe(u)),h;h=yield de(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const g=a;for(const y of l.decode(g)){const v=s.decode(y);v&&(yield yield de(v))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(o=f.return)&&(yield de(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const y=s.decode(g);y&&(yield yield de(y))}})}function mhe(t){return zn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=Wn(t),u;u=yield de(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Ex(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=fhe(a))!==-1;)yield yield de(a.slice(0,g)),a=a.slice(g)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield de(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield de(a))})}class ghe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=yhe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function yhe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vhe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Ot(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):na.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Ot(t).debug(`[${r}] response parsed`,$i({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tx extends Promise{constructor(e,n,r=vhe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Tx(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SO=Symbol("brand.privateNullableHeaders");function*xhe(t){if(!t)return;if(SO in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():BT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=BT(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Ps=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of xhe(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[SO]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const am=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=Hae)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var EO;class Hh{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=am("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=am("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Tf(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Hh.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(o=zT(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:zT(am("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Zfe(),this.encoder=nhe,this._options=g,this.apiKey=c,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ps([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ps([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ps([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new An(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Do}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ufe()}`}makeStatusError(e,n,r,i){return $t.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Bfe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Gfe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Tx(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(Ot(this).debug(`[${h}] sending request`,$i({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Jy;const v=new AbortController,b=await this.fetchWithTimeout(c,u,f,v).catch(Ky),x=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Jy;const E=Wy(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Ot(this).info(`[${h}] connection ${E?"timed out":"failed"} - ${_}`),Ot(this).debug(`[${h}] connection ${E?"timed out":"failed"} (${_})`,$i({retryOfRequestLogID:r,url:c,durationMs:x-y,message:b.message})),this.retryRequest(s,n,r??h);throw Ot(this).info(`[${h}] connection ${E?"timed out":"failed"} - error; no more retries left`),Ot(this).debug(`[${h}] connection ${E?"timed out":"failed"} (error; no more retries left)`,$i({retryOfRequestLogID:r,url:c,durationMs:x-y,message:b.message})),E?new aO:new Vh({cause:b})}const w=`[${h}${g}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${x-y}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const N=`retrying, ${n} attempts remaining`;return await the(b.body),Ot(this).info(`${w} - ${N}`),Ot(this).debug(`[${h}] response error (${N})`,$i({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-y})),this.retryRequest(s,n,r??h,b.headers)}const E=_?"error; no more retries left":"error; not retryable";Ot(this).info(`${w} - ${E}`);const S=await b.text().catch(N=>Ky(N).message),T=Wfe(S),k=T?void 0:S;throw Ot(this).debug(`[${h}] response error (${E})`,$i({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:k,durationMs:Date.now()-y})),this.makeStatusError(b.status,T,k,b.headers)}return Ot(this).info(w),Ot(this).debug(`[${h}] response start`,$i({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-y})),{response:b,options:s,controller:v,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Tf(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Kfe(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&zfe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=Ps([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Qfe()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ps([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ehe(e)}:this.encoder({body:e,headers:r})}}Hh.DEFAULT_TIMEOUT=6e4;class gt extends Hh{constructor(){super(...arguments),this.interactions=new _O(this)}}EO=gt;gt.GeminiNextGenAPIClient=EO;gt.GeminiNextGenAPIClientError=An;gt.APIError=$t;gt.APIConnectionError=Vh;gt.APIConnectionTimeoutError=aO;gt.APIUserAbortError=Jy;gt.NotFoundError=cO;gt.ConflictError=dO;gt.RateLimitError=hO;gt.BadRequestError=sO;gt.AuthenticationError=lO;gt.InternalServerError=pO;gt.PermissionDeniedError=uO;gt.UnprocessableEntityError=fO;gt.toFile=she;gt.Interactions=_O;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bhe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function whe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function _he(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function She(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Ehe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function The(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],KT(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],KT(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function khe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Dhe(o);const a=p(t,["config"]);return a!=null&&Ehe(a,n),n}function Ahe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Lhe(o,n,e);const a=p(t,["config"]);return a!=null&&The(a,n,e),n}function Che(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Nhe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Phe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Ihe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Ohe(t,e){const n={},r=p(t,["config"]);return r!=null&&Phe(r,n),n}function Rhe(t,e){const n={},r=p(t,["config"]);return r!=null&&Ihe(r,n),n}function jhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>TO(s))),m(n,["tuningJobs"],a)}return n}function Mhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Qy(s))),m(n,["tuningJobs"],a)}return n}function $he(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Dhe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Lhe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function TO(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],B2(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&m(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],$he(h)),n}function Qy(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],B2(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&m(n,["error"],c);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const y=p(t,["preTunedModel"]);y!=null&&m(n,["preTunedModel"],y);const v=p(t,["supervisedTuningSpec"]);v!=null&&m(n,["supervisedTuningSpec"],v);const b=p(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const x=p(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const w=p(t,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const E=p(t,["customBaseModel"]);E!=null&&m(n,["customBaseModel"],E);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const T=p(t,["labels"]);T!=null&&m(n,["labels"],T);const k=p(t,["outputUri"]);k!=null&&m(n,["outputUri"],k);const C=p(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const N=p(t,["serviceAccount"]);N!=null&&m(n,["serviceAccount"],N);const I=p(t,["tunedModelDisplayName"]);I!=null&&m(n,["tunedModelDisplayName"],I);const O=p(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Uhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function KT(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fhe extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(jr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Fy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Nhe(e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Qy(c))}else{const u=Che(e);return s=Z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>TO(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Rhe(e);return s=Z("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Mhe(c),h=new bT;return Object.assign(h,f),h})}else{const u=Ohe(e);return s=Z("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=jhe(c),h=new bT;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=whe(e);return s=Z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=She(c),h=new wT;return Object.assign(h,f),h})}else{const u=bhe(e);return s=Z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=_he(c),h=new wT;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ahe(e,e);return o=Z("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Qy(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=khe(e);return o=Z("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Uhe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bhe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qhe=1024*1024*8,Vhe=3,Ghe=1e3,Hhe=2,Af="x-goog-upload-status";async function zhe(t,e,n){var r;const i=await kO(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Af])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Whe(t,e,n){var r;const i=await kO(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Af])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=M2(o),s=new vx;return Object.assign(s,a),s}async function kO(t,e,n){var r,i;let o=0,a=0,s=new By(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(qhe,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=Ghe;for(;f<Vhe&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Af]));)f++,await Jhe(h),h=h*Hhe;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Af])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Khe(t){return{size:t.size,type:t.type}}function Jhe(t){return new Promise(e=>setTimeout(e,t))}class Yhe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zhe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Whe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Khe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xhe{create(e,n,r){return new Qhe(e,n,r)}}class Qhe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JT="x-goog-api-key";class Zhe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(JT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(JT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const epe="gl-node/";class tpe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Jae(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Zhe(this.apiKey);this.apiClient=new Kde({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:epe+"web",uploader:new Yhe,downloader:new Bhe}),this.models=new hfe(this.apiClient),this.live=new sfe(this.apiClient,i,new Xhe),this.batches=new Ele(this.apiClient),this.chats=new oue(this.models,this.apiClient),this.caches=new nue(this.apiClient),this.files=new mue(this.apiClient),this.operations=new pfe(this.apiClient),this.authTokens=new Pfe(this.apiClient),this.tunings=new Fhe(this.apiClient),this.fileSearchStores=new Lfe(this.apiClient)}}const npe=({user:t})=>{const[e,n]=A.useState(!1),[r,i]=A.useState(""),[o,a]=A.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=A.useState(!1),u=A.useRef(null);A.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const c=async()=>{try{const{data:h}=await Fn.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(x=>{const w=x.data||{};return{code:x.tracking_code,title:x.title,status:w.status||x.status,equipment:w.equipName||"",failure:w.failureDesc,date:x.created_at,requester:w.requester}}),{data:y}=await Fn.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),v=(y||[]).map(x=>{const w=x.data||{};return{part:w.partName,qty:w.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:v})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(y=>[...y,g]),i(""),l(!0);try{const y=new tpe({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),v=await c(),x=(await y.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:v+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(y){console.error("AI Error:",y);let v=`: ${y.message||"      ."}`;y.message&&y.message.toLowerCase().includes("failed to fetch")?v=`        .

         (VPN)        .`:y.message&&(y.message.includes("403")||y.message.includes("400"))&&(v="  API        ."),a(b=>[...b,{id:(Date.now()+1).toString(),role:"model",text:v}])}finally{l(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?d.jsx(dn,{className:"w-6 h-6"}):d.jsx(e$,{className:"w-7 h-7"})}),e&&d.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:d.jsx(w$,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold",children:" "}),d.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>d.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:d.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[d.jsx(Ws,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),d.jsx("div",{ref:u})]}),d.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[d.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),d.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:d.jsx(fd,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},rpe=()=>{const t=mo();yu();const[e,n]=A.useState(()=>{try{const y=localStorage.getItem("currentUser");return y?JSON.parse(y):null}catch(y){return console.error("Failed to parse user",y),localStorage.removeItem("currentUser"),null}}),[r,i]=A.useState(()=>localStorage.getItem("theme")==="dark"),[o,a]=A.useState(()=>localStorage.getItem("snowMode")==="true"),[s,l]=A.useState(!1),u=A.useRef(parseInt(localStorage.getItem("lastActiveTime")||String(Date.now()))),c=(y=!1)=>{if(e){const w={id:ar(),userName:e.fullName,personnelCode:e.personnelCode||"---",action:y?"  ()":"  ",date:Je(),time:lu(),ip:dE},_=JSON.parse(localStorage.getItem("system_logs")||"[]");_.push(w),localStorage.setItem("system_logs",JSON.stringify(_))}const v=localStorage.getItem("theme"),b=localStorage.getItem("system_logs"),x=localStorage.getItem("snowMode");localStorage.clear(),v&&localStorage.setItem("theme",v),b&&localStorage.setItem("system_logs",b),x&&localStorage.setItem("snowMode",x),n(null),t("/login")};A.useEffect(()=>{if(!e)return;const y=()=>{u.current=Date.now(),localStorage.setItem("lastActiveTime",String(u.current))};return window.addEventListener("mousemove",y),window.addEventListener("click",y),window.addEventListener("keydown",y),window.addEventListener("touchstart",y),window.addEventListener("scroll",y),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("click",y),window.removeEventListener("keydown",y),window.removeEventListener("touchstart",y),window.removeEventListener("scroll",y)}},[e]),A.useEffect(()=>{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]),A.useEffect(()=>{localStorage.setItem("snowMode",String(o))},[o]);const f=y=>{const v=localStorage.getItem("theme"),b=localStorage.getItem("snowMode");localStorage.clear(),v&&localStorage.setItem("theme",v),b&&localStorage.setItem("snowMode",b);const x=Date.now();u.current=x,localStorage.setItem("lastActiveTime",String(x)),n(y),localStorage.setItem("currentUser",JSON.stringify(y));const w={id:ar(),userName:y.fullName,personnelCode:y.personnelCode||(y.username==="admin"?"9999":"0000"),action:"  ",date:Je(),time:lu(),ip:dE,details:`Role: ${y.role}`},_=JSON.parse(localStorage.getItem("system_logs")||"[]");_.push(w),localStorage.setItem("system_logs",JSON.stringify(_))},h=y=>{n(y),localStorage.setItem("currentUser",JSON.stringify(y))},g=()=>{c(),l(!1)};return d.jsxs(d.Fragment,{children:[d.jsx(Gae,{enabled:o}),e&&d.jsx(npe,{user:e}),s&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 w-full max-w-sm border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center",children:d.jsx(PC,{className:"w-6 h-6"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"          "})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-200 transition",children:""}),d.jsx("button",{onClick:g,className:"flex-1 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition shadow-lg shadow-red-900/20",children:" "})]})]})}),d.jsx(j$,{user:e,onLogout:()=>c(),darkMode:r,toggleDarkMode:()=>i(!r),children:d.jsxs(zM,{children:[d.jsx(Ye,{path:"/login",element:e?d.jsx(Ze,{to:"/"}):d.jsx(bU,{onLogin:f})}),d.jsx(Ye,{path:"/",element:e?d.jsx(cae,{}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/inbox",element:e?d.jsx(Dae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/messages",element:e?d.jsx(Uae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/reports",element:e?d.jsx(Bae,{}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/shift-report",element:e?d.jsx(Vae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/work-orders",element:e?d.jsx(kae,{}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/work-orders/new",element:e?d.jsx(mx,{}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/projects",element:e?d.jsx(Mae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/performance",element:e?d.jsx($ae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/part-requests",element:e?d.jsx(Nae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/inspections",element:e?d.jsx(Cae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/documents",element:e?d.jsx(Pae,{}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/meetings",element:e?d.jsx(Iae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/suggestions",element:e?d.jsx(Oae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/purchases",element:e?d.jsx(Rae,{user:e}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"/workflow-designer",element:(e==null?void 0:e.role)===Bt.ADMIN?d.jsx(Fae,{}):d.jsx(Ze,{to:"/"})}),d.jsx(Ye,{path:"/admin",element:(e==null?void 0:e.role)===Bt.ADMIN?d.jsx(mae,{}):d.jsx(Ze,{to:"/"})}),d.jsx(Ye,{path:"/settings",element:e?d.jsx(jae,{user:e,onUpdateUser:h,snowMode:o,setSnowMode:a}):d.jsx(Ze,{to:"/login"})}),d.jsx(Ye,{path:"*",element:d.jsx(Ze,{to:"/"})})]})})]})};class ipe extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?d.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[d.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),d.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),d.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),d.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href=window.location.origin+window.location.pathname},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"     "})]}):this.props.children||null}}const AO=document.getElementById("root");if(!AO)throw new Error("Failed to find the root element");const ope=sm.createRoot(AO);ope.render(d.jsx(M.StrictMode,{children:d.jsx(ipe,{children:d.jsx(JM,{children:d.jsx(rpe,{})})})}));
